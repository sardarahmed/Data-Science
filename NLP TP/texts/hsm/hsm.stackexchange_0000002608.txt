Q:

Why and when did some areas separate themselves from philosophy and some not?

When the Greeks invented science and mathematics in around 600 BC, it was considered as a part of philosophy. Thales of Miletus was a mathematician and philosopher. Aristotle was a philosopher, biologist and physicist. Eratosthenes was a earth scientist, mathematician and philosopher. There are of course many more examples.
Nowadays, physics, chemistry, mathematics, biology, earth science are all separated from philosophy. However, ethics, philosophical anthropology, epistemology and metaphysics are part of philosophy. 
Two questions:

Why and when did physics, chemistry, mathematics and earth science
merit an own field? 
Why don't ethics and metaphysics merit an own field?

I think that it certainly has to do something with size, since the former fields grew a lot in the 16th century. But the latter fields already were very large, since they were studied a lot more in ancient Greek times. 

A:

The area of knowledge separates itself from philosophy as soon  as a reliable method of obtaining exact knowledge in this area is invented. Thus mathematics separated from philosophy at its very beginning. In astronomy, there was an area covered by exact knowledge (based on observations) and another, speculative part.
As exact knowledge expanded, the speculative part shrinked. Ancient Greek work in statics is exact knowledge. Dynamics remained a part of philosophy until Galileo and Newton. Newton's title "Mathematical principles of natural philosophy" signifies the transition point. Since this book, most of physics is not philosophy anymore. (Though the name "natural philosophy" existed for another 200 years,
and even now a degree in mathematics is called PhD in some countries).
The last part of astronomy which separated from philosophy was cosmology.
In areas like ethics, aesthetics, metaphysics, theology, etc., a method of obtaining exact, objective knowledge still does not exist. So they remain parts of philosophy.
It is true, Thales was both a mathematician and a philosopher. Pascal, Descartes, Leibniz and even Cantor, Russell and Thom did philosophy as well. But their mathematical work is very clearly separated from philosophy. 

A:

I often say the following, especially to philosophers.

Philosophy is the study of problems which cannot be solved.
  As soon as a problem can be solved, it moves to the science faculty.

But one philosopher told me that at least in ethics, philosophers (i.e. philosophers in the academic/university system) do solve problems. Well, I can't agree with that. Ethics is the study of what should be. Science is the study of what is. So ethics can never be a science. One can, however, systematize ethics in terms of an axiomatic system or various rule-based systems. But just because something looks very technical doesn't mean it's a science. (Take astrology for example!)
Historically, many subjects were actually a part of religion, not philosophy. As more has become known about geology, biology, medicine, cosmology and psychology, these subjects have moved to the science faculty. People used to give gifts to the god Asclepius to cure diseases, and they gave gifts to the gods of harvests to get a successful crop. Now people give their gifts to doctors and seed and fertilizer companies.
So to answer the question, some subjects never acquired objective means of obtaining knowledge.
I think also that many areas of philosophy are actually conducted within each field, like philosophy of mathematics, philosophy of physics, and so forth. It's a bit like mathematics because mathematics is a tool which is applied to dozens of subjects. Philosophy can also be regarded as a method, which can be applied to any subject. So every subject has its own philosophy now. The philosophy department of a university focuses mainly on applications of philosophical thinking to problems that are either not related to the real world, or are just not amenable to objective methods yet, like: "What is the nature of consciousness and awareness?"

A:

As a second answer to the main question, I just remembered that logic is an "outlier" as a subject which used to lie inside the philosophy department because of Aristotle's "Logic" book. (Philosophy used to cover all of the topics written about by Aristotle and Plato.) But then logic moved into mathematics, more or less, from about 1890 up to about 1965, because it was introduced into mathematics by Peano, a mathematician, in the late 19th century with his 1899 "Arithmetices principia: Nova methodo exposita", which included an axiomatization of logic (and set/class theory) written entirely in Latin. This was then followed by the Whitehead/Russell 1910, 1912, 1913 "Principia mathematica", which also axiomatized logic. There were many other logic axiomatizations, which sort of moved between the philosophy and mathematics departments. However, after Paul Cohen's solution of the problem of the independence of the axiom of choice (and the continuum hypothesis) relative to Zermelo-Fraenkel set theory, logic seems to have moved back into the philosophy departments again.


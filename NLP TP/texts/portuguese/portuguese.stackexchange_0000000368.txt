Q:

Difficult diminutives

Diminutives are easy to get a hang of for relatively simple nouns: add -inho / -inha if ending in -o / -a or -s or -z (carr|inho, Japones|inho) or -zinho / -zinha otherwise (cafe|zinho)
But I'm not sure how form diminutives for words, which are somehow "irregular", e.g.

masculine nouns ending in -a
feminine nouns which irregular stress, or
words, which end in something already containing -nh-.

Which of the following would be correct (or most common)?

idioma (or poeta or problema)
o idiominha¹, a idiominha², o idiominho³, o idiomazinho⁴
¹ because idioma is masculine, but ends in -a
² because the word ends in -a and the ending -inha is feminine
³ because idioma is masculine, and the ending -inho/a has to match gender
⁴ because idioma is too irregular to use -inho/a
língua
a linguinha, a linguazinha
lenha
a lenhinha, a lenhazinha
mandioquinha (not a small mandioca, but rather this)
a mandioquinhinha, a mandioquinhazinha

A:

I couldn't find the rules in the literature, so this is my answer as a native speaker from Portugal. A few things below might not apply in Brasil.
All the cases you referred use the diminutive version -zinho/a.
In these cases the root word is unchanged, that is, no ending letters are dropped, as is the case with the suffix -inho/a.

Masculine nouns ending in -a : use the suffix -zinho (but see below)

problema - problemazinho
  poeta - poetazinho
  um jornalista - jornalistazinho
  uma jornalista - jornalistazinha

However, in Brasil, you can hear the version probleminha, which is not heard in Portugal.

Following diphthongs : use the suffix -zinho or -zinha

língua - línguazinha
  coração - coraçãozinho
  rádio - radiozinho  
Note: comboio - comboinho
  (perhaps because the last o is outside the diphthong)

Nouns ending in -nh- : use the suffix -zinho/a

moinho - moinhozinho
  caminho - caminhozinho
  façanha - façanhazinha
Note:
  castanho (adj) - castanhinho
  castanha (noun) - castanhinha or castanhazinha

Note that some nouns and adjectives can accept both forms of diminutive, most commonly in words related to food:

fruta - frutinha or frutazinha
  carne - carninha or carnezinha

Be also aware of the uses of diminutive forms. At least in Portugal, they are preferred when: 

speaking to children
talking about food or shopping food
in situations where we mean to be ironic. 

Of course, they are used to refer to things that are small, but there are many words of which I have never heard the diminutive form, and couldn't tell how they would sound like. 


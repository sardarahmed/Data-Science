Q:

What determines whether a board will warp or stay straight?

I've been reading a lot of forum posts on woodworking since I'm very new at it, and a common point I read is that wood needs to be glued soon after surfacing it or else it'll warp. It has left me confused about how I would make something like a solid piece table leg, where it isn't glued to anything along most of its length, without worrying about it warping over time.
For something like that, would I have to buy the wood raw, leave it for a while in the place where it will be used so that it does all the warping it's going to do, and then finish it? How do I know when wood is done warping? Is wood ever done warping?

A:

TL;DR: Wood Never Sleeps.
Wood is a natural product, with natural variation across species and individuals. Not only that, but how timber is grown and processed into dimension lumber also varies. And then that dimension lumber is subject to environmental changes over time (both before and after it is turned into a project) that causes it to move.
The why of this could be a whole thesis, and there are plenty of resources out there that discuss this in depth. But the short answer is that wood is never finished moving because that's the way wood is.
In general, wood will move a lot across the grain, where the alternating growth rings form a "sandwich" of density variation in the material. It will move very little along the grain. Woodworking has to take this into consideration, which is why cupboards and doors and carcases and butcher blocks are typically made the way they are.
This is also why timber is cut the way it is into lumber. For construction grade we don't really care overmuch about bowing, twisting, and cupping. We want it to be cheap and hold fasteners, and be easy to transport and cut. Hence, lighter and quick growing softwoods like pine and fir flat-sawn directly to near-dimension and then quickly kiln-seasoned is fine. For musical instrument necks we want strength and minimal movement, so "quarter-sawn" hardwoods seasoned for decades or more in humidity controlled rooms are what we want.
Craft woodworking strikes a balance between these extremes. Carcase construction often uses rougher pieces. (Even antique pieces by master cabinetmakers often have nasty, knotty junk hidden inside them somewhere.) But if you want a solid wood tabletop to not cup and twist the first winter in your house you will have to pay attention to what different wood wants to do, and what you can do to mitigate that.
Further, not every piece of timber can be sawn into arbitrary lengths of perfect clear lumber. Trees grow unevenly over the years, so the growth rings are going to be imperfect, which leads to imperfect grain in lumber. Wood has internal stresses because it is a natural product that was grown under imperfect and chaotic conditions. These internal stresses are often only exposed once the timber is sawn into lumber.
This is why lumber intended for woodworking goes through a fair amount of seasoning. The idea is that we let the gross movements work their way out. Over time this movement (ideally) becomes smaller and smaller. Though, the challenge is that sawing lumber down to nominal dimensions can sometimes release stresses that were once balanced, leading to more movement. You'll notice that this is why and how lumber is "graded". As it seasons, some timber (and lumber) will inevitably settle into more or less ideal product.
As woodworkers we can try to minimize this movement. We can try to work within the parameters of this movement. We can try to plan for this movement. We can coat the piece in various finishes to slow the environmental impact on it. We can even consider a project "finished" insofar as it will probably not move so much as to no longer work or hold together. But the fact is that, depending on the environment where the project lives, it will continue to move and change over time.
Depending on the nature of the movement, you can often use fasteners and adhesives to counter the movement (this is, after all, what veneers and plywood are all about). If you think about it, all you are doing is engineering a way to counter the stress this movement causes in the piece so that it isn't obvious. But the single most important way to handle this movement is to know it will happen, and select your wood and construction technique to minimize the overall effect this movement will have on the piece.
In other cases there is literally nothing you can do to keep lumber from moving, even if you "glue it and screw it". A poorly built table using cheap flat-sawn lumber is probably going to cup and twist, and the legs will never sit square on the floor; and there isn't much a woodworker can do to stop this.
The way wood moves has informed nearly every single aspect of woodworking, from timber selection, milling, seasoning, joinery, jointing, and design. Not to mention the acceptance that every woodworker needs to come to terms with: that all their creations eventually fall apart into the dust from whence they came.


Q:

When building a shelving unit, how does having the rails and stiles be out of square affect the alignment of the shelf?

I was in the shop last evening working on a shelving unit out of construction lumber (2x4s.)  When I was securing the second stile to the panel I noticed that although I had measured where the rails SHOULD attach to make the shelves be the same height, that the actual board was warped away from that point by at least half an inch.
I popped a square on the corner and noticed that when forcing the board into the position that my measurement said the board should be attached, that the corner was very much out of square.  If I instead fastened the board where it was resting naturally, it was almost perfectly square after tightening.
This led me to wonder, is it more important when building a shelving unit that my shelves be at the same height, or is it more important that the interface of the rails to the stiles is square?  The plan is to screw in a sheet of MDF on each rail level.
I've added a sketchup I just cooked up to illustrate what I was building, please excuse the bad sketchup skills.

A:

Construction grade lumber can be pretty bad.  I would pay particular attention to the milling process and to the calibration of your tools (i.e. fences): 
The standard milling process:

Jointer:

Face joint one face 
Edge joint one edge

You now have a clean 90 degree angle on the board.  Check it in multiple places down the board.

Planer:

Place one of the jointed edges on the planer's reference face (bottom)
Progressively plane to desired thickness making sure jointed edge is in the proper orientation on the planer's reference face.

You now should have a clean 90 degree edge and two parallel faces.  
Check for twist.

Table Saw

Place one of the parallel faces on the table and place the known good 90 degree edge against the fence
Rip the last edge to width

You should be both square and parallel on all four edges.  Crosscut to length and should be square on all six faces.
In terms of measurement:

Make sure you are accounting for the width of the blade
Make sure which side of the blade is terminating the cut on your marks - be consistent.

You may consider not measuring at all by using a spacer (such as an old piece of scrap) that is cut to the desired dimension.

A:

Back to your original question:

This led me to wonder, is it more important when building a shelving unit that my shelves be at the same height, or is it more important that the interface of the rails to the stiles is square? The plan is to screw in a sheet of MDF on each rail level.

My answer: you need both. Let's say you have a board that is bowed upward, then downward (look at the image below, from woodmagazine). Suppose you make the ends of the board the same height as the drawer (i.e., there's more of a gap in the center). Well, now you have a problem aligning the drawer above because now it has less room for the above drawer in the center. Maybe you're lucky enough that it's only the top rail that is bowed. Well, now you're going to have difficulty placing the top. For example, if it's part of a desk, the surface of the desk will not lay flat because of the bow in the rails. 

The solution is to joint the board before you install it. I do this all the time with construction lumber (e.g., when I'm building shop furniture). You can never trust it to be perfectly square/flat/straight edged (or, for that matter, any board from a lumber yard). 
Hope that helps. 


Q:

How to fix a wooden floor

I'm making some reparation to the house I recently moved in. The floor is in a terrible state and I'd like to bring a new life to the floors.

The wood has been painted in red/brown with some kind of paint. I can't tell exactly which but in some places, paint is easy to remove. The paint is hard and when removed, it leaves sharp edges...
From what I could find around the house, the wood board should be 40mm thick or more. 
In most places, it is visible that the floor suffered from time and needs some sanding to remove marks.
Boards have a lot of space between them so I'm not sure if I should leave the space or try to fill in something.
I believe the house has been built when the wood wasn't exactly dry, for that reason most boards aren't exactly planes but are curved a little (convex).

In the end, I'd like to have the floor as plane as possible without marks. I went to the shop and was wondering which tool I should use to do that in a cleanly way. I saw that there are electric "plane" https://en.wikipedia.org/wiki/Plane_%28tool%29 and other sanding machine. 
I'm not sure exactly how I should get started, which tool to buy and how I should use the plane or sanding machine. 

A:

In the past removal of old finish from floors was done manually, by scraping, and it does a superb job and doesn't generate large volumes of dust. But it's backbreaking labour and can't be recommended to anyone not used to this sort of exertion, and especially if working on anything other than a small area.
These days the standard way to refinish solid-wood floors (and some laminates) is to sand them. It is not common for people to buy a tool for this however, but instead to rent a purpose-made floor sander.
Equipment
Floor sanders look something like this:

These are a specialist form of belt sander, using rotating belts of abrasive paper or cloth. You will have to buy a few for this job, and depending on the size of your home you may have to buy many so it's important to budget for this as they are sometimes not cheap to purchase retail. Their cost on top of the hire cost of the sander(s) should be factored in before you begin, and weighed against the cost of hiring professionals to do the job for you. 
Because of their design upright floor sanders can't sand right up to the edges of a floor so some form of smaller sander (sometimes an 'edging sander') is used for the periphery. You can buy a sanding machine for this part of the job, one that will then have further use in your woodworking but you can also rent sanders for this from the same places that rent out upright floor sanders.
Edging sanders usually look like this:

You'll also need to tackle the corners which most (all?) edging sanders can't reach into. You can do this using various types of detail sander or an oscillating tool, any type of sander with a triangular pad, but it can also be done by scraping. You'll see more on this in the links below.
Preparation
When sanding solid-wood floors some basic preparations are necessary so as not to cause rips in the paper. The main thing to do is find your nails and make sure they are punched well below the surface, using a nail punch and a hammer.
It's not vital but a heavier hammer will help do this with less effort, you have a lot of nails to deal with.
Personal protection
You'll note in one of the above images that although the floor sander has a dust bag the operator is also wearing a dust mask. Don't overlook this important safety measure. 
Wood dust is an irritant at least and potentially toxic (depending on the wood type as well as the individual person's sensitivity), and although exposure to small amounts is usually not a problem it's best to avoid inhaling it when possible. But the dust generated from the previous floor finish should always be considered toxic because you can't know what it is or what it has been contaminated with over the years, so you don't want to breath in any. 
Sanding through the grits
The pictures above don't exaggerate the power of these sanders, they can take off the previous finish in a single pass in many cases. This is possible because for the first pass or two you use very coarse paper, which is extremely abrasive and fast-cutting, but leaves noticeable scratches in the wood. As with all sanding you remove these scratches using finer papers in succession, concluding with your finish grit. The final grit used on a floor may be 100 or so, depending on the flooring and the finish you require. This is relatively coarse by woodworking standards but floors don't need to be sanded to the same level as a piece of furniture.
Standard advice here: don't skip grits. 
The hire shop may have some advice on the grits to use with their floor sander but you should compare it to the information in the links below and any other guides you read. It sounds from your description of the condition of your floors that you will want to start with a very coarse grit at least in some places, possibly as low as 36, and will then go to a more normal 'coarse' grit of something like 60 and move up from there, e.g. 60, 80, 100.
Don't underestimate the time
This job takes longer than people tend to expect because you are in effect sanding each room's floor multiple times as you can see.
Remember to scrutinise your floor at each stage in the sanding, you're only done when all the coarser scratches are gone.... not when you're tired and can't be bothered to continue :-)
Don't underestimate the effort
Spreading the job over a number of weekends is almost certainly the way to go. The floor in a single room can often take a whole weekend, and most people are exhausted afterwards (as in, "I needed to rest for a couple of days after finishing my living room") so unless you're particularly fit don't expect that you can hire a sander for a week and zoom through the whole house in one go! 
Further reading (I would advise reading all of these are even a couple of others before beginning work):
Finishing Hardwood Floors 6 - Sanding on doityourself.com
How to Sand a Hardwood Floor on DIY Network.
Last but not least, the Wood Floor Doctor site.
Note: your floors may be softwood so some adjustment of technique may be necessary, but the basics are the same for all wood and bamboo flooring too.


Q:

Which edge of the plane's mouth should I file if I want to open it up?

I have replaced the cutting iron on a Stanley #4 hand plane (edit:
 because the old one was kaputt, not by vanity). The replacement blade I got from LV is thicker, at 3.8mm vs the 2.0mm of the old one. The mouth is now too small to allow the new blade to protrude. I measured the current mouth opening in the sole to be 5mm. I am reusing the original chipbreaker, screw, and lever cap.
To enlarge the mouth, it looks like I can file either the front edge, or the rear edge. Is there a right or wrong edge to file?
My plane has a moveable frog (only via the two top screws in the frog, this model has no rear adjuster screw), but it offers only a very narrow range of useful positions. When it's backed out by any more than 1mm from its most forward position, the base casting starts interfering with the mating of the blade against the flat surface of the frog.
That gives this frog a total range of front-back adjustment of about 1mm, if I understand correctly. When I set the frog as far back as allowed (ensuring that the blade mates well with the frog), I can't lower the cutting iron past the mouth -- the cutting edge of the blade bumps against the fore edge of the mouth.

Frog backed up completely. I don't understand how this position would be useful in any way and I question the design. There is about 2.5mm of material I could file before the black rib between the two legs of the frog would start interfering with the blade.

Frog pushed in completely. The frog barely clears the base casting of the mouth on the rear edge. If I remove the washers under the screws, I can nudge it by another 1mm forward.

The blade hits the sole before clearing the mouth. In this image, the frog is set as far back as possible, without the base casting interfering with the mating of the blade against the frog.
References:

Rob Cosman, in "Filing the Mouth of a Plane" shows how to file the fore edge of the mouth without mentioning the back edge.
Christopher Schwarz, in the book Handplane Essentials (in chapter Metal Bodied Jack Planes), writes that you want to be able to configure a mouth opening to be 1/16" (~1.6mm) for general work, or smaller (for finer work). He describes also that the black rib between the legs of the frog can be filed if necessary, but doesn't describe a strategy for filing the edges of the mouth.

A:

The front exclusively. 
The rear surface of the mouth represents part of a reference/registration surface that works in conjunction with the frog's face to support the iron assembly, and if it's in good condition and doesn't need remedial work it shouldn't be touched1. 
In addition the metal is generally thinner at the front than at the back (not even accounting for any frog-alignment lugs) so the filing will go faster.

Note the angle the plane is held in the vice in the left image. Having this surface you're filing angle forwards is not always necessary, but can be, so it's best not to file it square to the sole just in case.
How carefully do you have to file?
Depending on what sources you believe, who you listen to or trust, the mouth's front surface plays a vital role, a significant role or is of no real consequence to the performance of the plane. So, uh, somewhat?
Obviously you wouldn't deliberately file it out of square but your best effort is really all that's needed in a lot of cases (as shown by planes that don't have perfectly square or parallel mouths which work well for their users). 
The way to end up with the mouth straight and square is to have a line to file to and arguably the best way to do this is to colour the area with a marker or layout fluid and then, using a square held against the plane's cheek, lightly scribe with a scriber, the point of a knife or just a sewing needle. This will show as a bright silver line against the marker ink or layout fluid which is relatively easy to see in different lighting and can't be erased when you brush or wipe away filings.

Christopher Schwarz, in the book Handplane Essentials (in chapter Metal Bodied Jack Planes), writes that you want to be able to configure a mouth opening to be 1/16" (~1.6mm) for general work, or smaller (for finer work). He describes also that the black rib between the legs of the frog can be filed if necessary, but doesn't describe a strategy for filing the edges of the mouth.

Worth mentioning here that Schwarz has gone back and forth over the years on the question of using mouth size as an important or necessary aspect of plane use — in concert with or instead of using the cap iron/chipbreaker — so his views at the time of writing this book may not jibe with what he believed, and wrote about, a few years previously..... and won't necessarily reflect what he currently believes to be the case, and now writes about :-\
I want to note that a great many much more seasoned woodworkers never adjust the frog on their planes2. This includes numerous full-time professionals. Their frogs are generally set back to align their top surface with the angle of the back of the mouth, providing maximum support for the cutting iron3. So the mouths on their planes remain fixed, which lends support to the idea that the front edge of the mouth doesn't necessarily play much part in the performance of a plane. See more on where mouth size does and doesn't matter in this previous Answer. 

1 The one exception to this is possibly to slightly round over or chamfer its leading corner if it's very sharp, to help prevent damage over time as the plane's mouth runs over knots, particles of grit or grains of silica in the wood. This sharp edge can be found in planes straight from the factory as well as after a user has lapped the sole — aggressive lapping frequently leads to the front edge of the rear of the mouth ending up a virtual knife edge, which must be softened for safety.
2 Despite an adjustable frog being considered a vital design element in a plane that we're told everywhere to look out for!
3 Every adjustment of the frog to bring it forward of this position essentially means the tip of the iron assembly is hanging in space somewhat which can allow for some vibration, which could lead to chatter. 


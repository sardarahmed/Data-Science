Q:

How to structure project - Cmd vel Mux vs State machine?

I'm making an autonomous mobile robot which will have various features which can be activated with different buttons. For example, one button should trigger wall following whilst another button will trigger person following.
What is the standard approach used in ROS to achieve something like this? Should I use a cmd vel mux node which receives messages from a wall following node and person following node and outputs commands according to the button pressed? Or should I use a state machine which tells the robot when this button is pressed go into the "wall following" state?

Originally posted by jorgemia on ROS Answers with karma: 98 on 2020-06-08
Post score: 0

A:

Like I said in my comment, I ended up creating a node that is basically a combination of a mux and state machine...It subscribes to different cmd_vel topics and a button input topic. Based on the button pressed it will switch state and republish the appropriate message to my diff drive controller cmd_vel topic.
Don't know if this is the best approach and maybe could look at the ROS SMACH package but this worked for now!

Originally posted by jorgemia with karma: 98 on 2020-10-02
This answer was ACCEPTED on the original site
Post score: 0


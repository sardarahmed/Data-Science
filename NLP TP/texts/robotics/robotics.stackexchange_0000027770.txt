Q:

Cannot control the joints using gazebo_ros_control plugin

Hi,
I am modeling a walking robot in  URDF  with all the joints controlled by  gazebo_ros_control  plugin.
It was made based on  rrbot . Everything seems fine when run it in gazebo, and controller topics can be found.
While when I want to use  rostopic pub /halobject/Rl1_position_controller/command std_msg/Float64 10 , the model has no response to it. Besides, when use  rostopic echo /halobject/Rl1_position_controller/state  to read the joint data, it also shows  no response to my command.
During the simulation, there is no error information about it, and my pid parameter is set to be 100,0.01,10. Joint state controller publish rate to be 20.
The topics when running is as follows:
/clock
/gazebo/link_states
/gazebo/model_states
/gazebo/parameter_descriptions
/gazebo/parameter_updates
/gazebo/set_link_state
/gazebo/set_model_state
/halobject/Ll1_position_controller/command
/halobject/Ll1_position_controller/pid/parameter_descriptions
/halobject/Ll1_position_controller/pid/parameter_updates
/halobject/Ll1_position_controller/state
/halobject/Ll2_position_controller/command
/halobject/Ll2_position_controller/pid/parameter_descriptions
/halobject/Ll2_position_controller/pid/parameter_updates
/halobject/Ll2_position_controller/state
/halobject/Lla1_position_controller/command
/halobject/Lla1_position_controller/pid/parameter_descriptions
/halobject/Lla1_position_controller/pid/parameter_updates
/halobject/Lla1_position_controller/state
/halobject/Ml_position_controller/command
/halobject/Ml_position_controller/pid/parameter_descriptions
/halobject/Ml_position_controller/pid/parameter_updates
/halobject/Ml_position_controller/state
/halobject/Rl1_position_controller/command
/halobject/Rl1_position_controller/pid/parameter_descriptions
/halobject/Rl1_position_controller/pid/parameter_updates
/halobject/Rl1_position_controller/state
/halobject/Rl2_position_controller/command
/halobject/Rl2_position_controller/pid/parameter_descriptions
/halobject/Rl2_position_controller/pid/parameter_updates
/halobject/Rl2_position_controller/state
/halobject/Rla1_position_controller/command
/halobject/Rla1_position_controller/pid/parameter_descriptions
/halobject/Rla1_position_controller/pid/parameter_updates
/halobject/Rla1_position_controller/state
/halobject/joint_states
/rosout
/rosout_agg
/tf
/tf_static

If anyone else met similar problem before?
My file is here https://www.dropbox.com/sh/ew8tkluu6jw1p2e/AABILHj-hwEAzYaDBIaiGfSCa?dl=0
first source the devel/setup.bash then roslaunch halobject_gazebo halobject_world.launch it should start working.
Thank you!

Originally posted by wyxf007 on Gazebo Answers with karma: 5 on 2016-05-30
Post score: 0

Original comments
Comment by pap-x on 2016-05-31:
I have the same problem with a different robot..

A:

I managed to get my robot to work. I have some suggestions for you. First when you spawn the urdf in your launch file you have to spawn it with the name of your robot not rrbot because I think gazebo creates the controllers in the robot name namespace. In your urdf you have in every joint "effort=0.0" which is wrong, this variable defines how much torque of the motor goes to the joint. It has to be more than 0 if the joint has to move.
That's all I could suggest!

Originally posted by pap-x with karma: 50 on 2016-06-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by wyxf007 on 2016-06-03:
Thank you! I use URDF PlugIns of Solidworks to generate the URDF. I didn't set the value of torque, that's why it is zero, I will do some changes based on it.
Comment by wyxf007 on 2016-06-03:
Now it works, the limit is just the problem. I thought the default setting in plugin won't hurt, while ...
Thank you!
Comment by franklin_selva on 2019-01-10:
Hi. Sorry its already late for the question. I am also trying to move the joints of the biped robot. I had already set the effort values and also tuned the pid parameters. Now the robot is not collapsing but when I do 'rostopic pub joint', the joints wont move.  Can you help me with this?
Thanks in advance.


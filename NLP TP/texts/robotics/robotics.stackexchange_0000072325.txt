Q:

Error: the position x and y subscribing from topic "/g500/pose" and "/uwsim/girona_500/odom is still 0, and z is increasing

No mattter what the initial position I set, the position x and y subscribing from topic "/g500/pose" and "/uwsim/girona_500/odom is still 0, and z is increasing. But actually, I can see that the vehicle is exactly at the position which I set.

Originally posted by ZYS on ROS Answers with karma: 108 on 2016-02-25
Post score: 0

A:

Hi,
I guess you are using the uwsim underwater_vehicle_dynamics package  as the vehicle is "falling" (z increasing). When using the vehicle_dynamics package the initial position must be stated in it (no matter what you set in the uwsim XML config file) as that package is the one who sets the vehicle position in uwsim. Just set the position in the yaml file (g500/dynamics/initial_pose: ). We are still working to integrate the dynamics inside UWSim so everything is easier...
You also have to send messages to the thrusters_input, if you send velocities or positions to UWSim expect weird results as two nodes will be sending different information to UWSim.

Originally posted by Javier Perez with karma: 486 on 2016-02-25
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ZYS on 2016-02-25:
Thank you. Then I set the position in the yaml file:g500/dynamics/initial_pose: [1, 1, 1]
But the result is still the same.
Comment by ZYS on 2016-02-25:
Oh I understand, I should set the position like this g500/dynamics/initial_pose: [1.0, 1.0, 1.0, 0, 0, 1.57]
Comment by ZYS on 2016-07-12:
Hi Javier, I run into another problem for the multibeam sensor. When I set to have 10 increase between -20 & 20 degree for it, it has 5 readings with the 1st one "NaN" and the last one "0.0". Also, in the GUI, I only see 4 green beams rather than expected 5 beams. How should I use the readings?
Comment by Javier Perez on 2016-07-13:
Hi, try to post a new question next time. I've seen there is a bug rounding numbers and eventually x/x != 1 so "NaN" results appear. I'm solving it and will upload it, but remember multibeam interpolates distances so you will get bad simulation with 10ยบ increase, try using virtualrangesensors
Comment by ZYS on 2016-07-13:
Thank you so much for your rely. It is really helpful.


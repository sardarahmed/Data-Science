Q:

Rviz PluginlibFactory load wrong path

I try to run google cartographer demo and get this follwoing error
[ERROR] [1613722041.399069111, 1588377398.223712458]: PluginlibFactory: The plugin for class 'Submaps' failed to load.  Error: Failed to load library /opt/ros/noetic/lib//libcartographer_rviz.so. Make sure that you are calling the PLUGINLIB_EXPORT_CLASS macro in the library code, and that names are consistent between this macro and your XML. Error string: Could not load library (Poco exception = /opt/ros/noetic/lib//libcartographer_rviz.so: undefined symbol: _ZN4absl16strings_internal9CatPiecesB5cxx11ESt16initializer_listINS_11string_viewEE)
Seem like  the PluginlibFactory loads
/opt/ros/noetic/lib//libcartographer_rviz.so
instead of
/opt/ros/noetic/lib/libcartographer_rviz.so
This is should be trivial but I don't know where to apply the solution.  This is the submap source code.

Originally posted by achmad_fathoni on ROS Answers with karma: 96 on 2021-02-19
Post score: 0

Original comments
Comment by gvdhoorn on 2021-02-19:
The duplicated forward slash (ie: /) is not the problem.
The problem is the missing symbol: absl::strings_internal::CatPieces[abi:cxx11](std::initializer_list<absl::string_view>)).
Comment by achmad_fathoni on 2021-02-19:
Thank you, I've just realized that.

A:

I just forget to compile the rviz plugin and its dependency (abseil-cpp) using same C++ standard. After compiling all of it using C++17 this problem is no longer exist.

Originally posted by achmad_fathoni with karma: 96 on 2021-02-19
This answer was ACCEPTED on the original site
Post score: 0


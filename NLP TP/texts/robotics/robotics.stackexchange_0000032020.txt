Q:

Bumblebee2 (640x480) under Diamondback

I want to ask anyone who have managed to make Bumblebee2 (my version is BB2-03S3C a.k.a. bumblebee2 640x480) working under ROS Diamondback how to do it.
More specifically:

What is your ubuntu version?
What is your default configuration (ros-diamondback-desktop-full |or| ros-diamondback-desktop |or| ..)?
What are the dependencies that you have installed (libdc1394v2, libraw etc..)?
What is the package that you used ( cu-ros-pkg |or| cornell-ros-pkg |or| ..)?
What are the changes that you have made in the original package (lowering default resolution etc)?

Thank you in advance,
Parlas.

Originally posted by parlas on ROS Answers with karma: 11 on 2011-06-03
Post score: 1

A:

i have the bumblebee2 stereo camera working with the bumblebee2 node.

ubuntu 10.04
ros-diamondback-desktop-full
just the dependencies for the bumblebee2 node
bumblebee2(http://www.ros.org/browse/details.php?name=bumblebee2)
the first change i made is shown in this answer(http://answers.ros.org/question/1096/segmentation-fault-of-bumblebee2?answer=1891#1891).
beside that i had to edit the file: "dev_camera1394.cpp"
to use format_7 mode_3. to do this search the file for: "dc1394_video_set_mode" and replace: "videoMode_" with "DC1394_VIDEO_MODE_FORMAT7_3"

after that i had quite a bit of trouble with the image tearing. this was caused by my firewire port being unable to handle the trafic. to fix this i had to reduce the package size by adding the following lines:

if (DC1394_SUCCESS !=
dc1394_format7_set_packet_size(camera_,DC1394_VIDEO_MODE_FORMAT7_3,size)) {
ROS_WARN("Failed to set package size");
DMA_Success = false;
}

the package size you need to set can be found by running the node than reduce the package size using coriander(can be found in the controls tab)
if you dont need to get both the images from the bumblebee2 camera you only have to make the changes in the other ros answer.

Originally posted by Bram van de Klundert with karma: 241 on 2011-06-06
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by parlas on 2011-06-07:
Thanks a lot for your kind response,
I will try what you propose and I will report the outcome. If I manage to make it work, I will give a link to a working package (googlecode or sth) in order to help every other person who stumbles upon this.
Thank you again,
Parlas.


Q:

Blending a color image with a grayscale image

I have RGB image from a camera and depth image from the kinect and I want to blend them so as I get the two in the same window, but without converting RGB to grayscale.
How can I do that ?

Originally posted by ROSkinect on ROS Answers with karma: 751 on 2014-07-24
Post score: 0

A:

Is our depth image already 8 Bit? Otherwise you'll have to find a smart way to scale it to 8 Bit, which might be tricky;)
Assuming your depth image is cv::Mat of type CV_8UC1 and your RGB image is cv::Mat of type CV_8UC3 with color space BGR it is quite easy:
std::vector<cv::Mat> channels;
// split the channels
cv::split( rgb_image, channels );

// blend depth image into each channel
channels[ 0 ] = (channels[ 0 ] * 0.5) +  ( depth_image * 0.5 );
channels[ 1 ] = (channels[ 1 ] * 0.5) +  ( depth_image * 0.5 );
channels[ 2 ] = (channels[ 2 ] * 0.5) +  ( depth_image * 0.5 );

// merge to overlayed image
cv::Mat blended;
cv::merge( channels, blended );

Originally posted by Wolf with karma: 7555 on 2014-07-24
This answer was ACCEPTED on the original site
Post score: 1


Q:

meet error when implementing "velodyne_driver" command for vlp-16

I tried to do as the answer to #q213080 says, but when I try the second command
rosrun velodyne_driver velodyne_node _model:=VLP16 _pcap:=/your/pcap/path/data.pcap _read_once:=true

It says
[ERROR] [1485795341.945746381]: unknown Velodyne LIDAR model: VLP16

Does anybody have idea?
[PS] I have git cloned the package from https://github.com/ros-drivers/velodyne.git and https://github.com/ros-drivers/velodyne.git and built the workspace as some other guidance says.

Edit: @gvdhoorn I think you are right. My initial ouput of it is not this. after I sourced the devel/setup.bash, the first question is solved. Now the response is
[FATAL] [1486012428.835246258]: Error opening Velodyne socket dump file.
Segmentation fault (core dumped)

Originally posted by Bill5785 on ROS Answers with karma: 141 on 2017-01-30
Post score: 0

Original comments
Comment by gvdhoorn on 2017-01-31:
Can you tell us the output of rospack find velodyne_driver?
Comment by Bill5785 on 2017-02-01:
It returns like
/home/wbw/catkin_ws/src/velodyne/velodyne_driver

Comment by gvdhoorn on 2017-02-02:
Just making sure: you did replace /your/pcap/path/data.pcap with the actual path to a pcap file, right? Do you actually want to use a 'live' lidar, or do you want to open a capture file that you made earlier? If the former, don't use the _pcap parameter.
Comment by Bill5785 on 2017-02-02:
@gvdhoorn I replaced with the actual path to a pcap file like
/home/wbw/Downloads/2015-05-29-22-49-14_Velodyne-VLP-16-Data.pcap. 

This is a capture file and I didn't mean to use live lidar data. Am I doing right?
Comment by gvdhoorn on 2017-02-02:
Yes, that sounds ok. I was just making sure, as the command line you included in your OP used an example path, and that would lead to problems.
Comment by Bill5785 on 2017-02-02:
@gvdhoorn Ok, thanks for your patience :)

A:

You are probably running the Indigo binary version instead of the one you built. Most likely, you forgot to source the devel/setup.bash in your workspace.

Originally posted by joq with karma: 25443 on 2017-01-31
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Bill5785 on 2017-02-01:
Is there any command to check if mine is "indigo binary version"? I just installed ros by following ros-wiki.
Comment by kmhallen on 2017-02-02:
Use roscd velodyne_pointcloud and see if it takes you to /opt/ros/ or your workspace.
Use echo $ROS_PACKAGE_PATH to see if your catkin workspace overlay is correctly setup.
Comment by Bill5785 on 2017-02-02:
@kmhallen The first output is
wbw@wbw-virtual-machine:~/catkin_ws/src/velodyne/velodyne_pointcloud$ 

The second output is
/home/wbw/catkin_ws/src:/opt/ros/indigo/share:/opt/ros/indigo/stacks

It seems that the second one is not working well, is that right? I'm new to ros...
Comment by kmhallen on 2017-02-03:
That output looks fine. The second output means: check /home/wbw/catkin_ws/src first, then check /opt/ros/indigo
Comment by Bill5785 on 2017-02-03:
@kmhallen @joq  It seems that I need to source devel/setup.bash every time I restart my computer. Is there a way to solve it permanently?
Comment by joq on 2017-02-04:
If you only use one workspace, you can source it from your ~/.bashrc. For people with multiple workspaces  that leads to confusion. I prefer to define short aliases (like ws) that each run an appropriate source command.
Comment by Bill5785 on 2017-02-04:
@joq Thanks, it works! But do you know the solution to my question?
[FATAL] [1486012428.835246258]: Error opening Velodyne socket dump file.
Segmentation fault (core dumped)

Comment by joq on 2017-02-04:
Don't know for sure. Perhaps you did not pass the full file name path? (That still should not segfault).


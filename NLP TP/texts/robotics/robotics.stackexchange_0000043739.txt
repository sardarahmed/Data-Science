Q:

How does robot_pose_ekf work?

I am very familiar with Kalman filters, but not with BFL code. I have looked at the source code and also searched answers.ros.org for some technical description of what is going on in robot_pose_ekf and can't figure it out. There was a similar question here which is asking a similar thing, but no useful answer has been given.
Question: What are the equations used in the Kalman filter ... can't figure them out from the code?
I am beginning to agree with comments from @mjcarroll here that this isn't really a Kalman filter like I am use to (model based) and more of a way to blend sensor values based on covariance.
Goal: do some inertial navigation work using an IMU and video odometry. I want to make sure robot_pose_ekf doesn't do this already.

Originally posted by Kevin on ROS Answers with karma: 2962 on 2012-08-31
Post score: 1

A:

From what I can see from the code, the process model is defined in this file. The question you referenced asked for the transition and measurement matrices, but because this odometry process model is nonlinear, this matrix is not constant. Instead, it is generated by linearizing the process model about the current estimate. Check out the wikipedia page for the EKF for more on this.
You can see the computation of the expected value and the partial derivatives with respect to the process inputs (or if you like probabalistic terms more than systems terms, the conditioning variables). Anyone who is using robot_pose_ekf should make sure this process model is consistent with his or her robot's dynamics.
For the sensor data, these are all linear models, so you can immediately see their definition like the odom measurement model defined here. Similarly, anyone using this should make sure these measurement models are appropriate.
The interfaces that all these things use are defined by the BFL (Bayesian Filtering Library) API, specifically, interfaces for representing an analytic system model with gaussian uncertainty and an analytic conditional gaussian along with the linear model representations.

Originally posted by jbohren with karma: 5809 on 2012-08-31
This answer was ACCEPTED on the original site
Post score: 3


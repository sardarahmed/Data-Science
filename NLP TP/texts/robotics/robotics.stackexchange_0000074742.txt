Q:

Check if messages are published on a topic

Hello,
I would like to check in my c++ code, if a message has been pusblished onto a certain topic. Is it possible to do this with basic ROS functions? If not, what would you advise to do?
Thanks.

Originally posted by Laurens Verhulst on ROS Answers with karma: 167 on 2016-06-22
Post score: 2

A:

You could subscribe to the topic (http://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber(c%2B%2B)#roscpp_tutorials.2BAC8-Tutorials.2BAC8-WritingPublisherSubscriber.Writing_the_Subscriber_Node).

EDIT
If you subscribe to the topic, the respective callback will be called every time a message is sent on this topic. If not, it will not be called. Then you can do what you want with the respective result.

Originally posted by mgruhler with karma: 12390 on 2016-06-22
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Laurens Verhulst on 2016-06-23:
I would like to check if messages are published at all, I don't need to know the message. It is a topic from an actionserver, but I need to check without writing a client/
Comment by Laurens Verhulst on 2016-06-23:
Right... of course, I will give this a shot and report back.
Comment by mgruhler on 2016-06-23:
You will receive the messages content, but just ignore that. I don't think that there is another way...
Comment by Martin GÃ¼nther on 2016-06-23:
mig is right, there is no other way. From the command line, you can call rostopic hz <topic name>, but that command is also implemented by subscribing to the topic and throwing away the message contents.
Comment by Laurens Verhulst on 2016-06-23:
Yes is it working as I want it to, thanks!
Comment by Hunterx on 2018-07-26:
@Laurens Verhulst
May I ask how did you do that
Comment by -LD- on 2018-10-10:
just write a subscriber (like in the tutorial) that hooks on the topic you are interested in. Then, once the callback gets called just store the time (inside the callback -> ros::Time callback_time = ros::Time::now();). In the main program check if the time has changed.


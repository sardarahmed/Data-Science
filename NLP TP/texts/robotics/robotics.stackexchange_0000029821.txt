Q:

Minimizing compiler memory, pcl_ros

Hi,
does anybody know, how to minimize the memory needed for gcc/g++ to compile a particular package? I'm trying to compile the pcl_ros package on a BeagleBoard-xM, but the compiler crashes each time because the cc1plus process is being killed due to low memory (BB-xM has 500MB of RAM). I've read a lot about this already, but found no solution. I've already been able to compile openni and flann (which also caused errors).
The only thing I'd like to try out and wasn't still able to is adding a "-finline-limit 600" (the number here may differ) compiler flag, as I don't know how to use the rosbuild_add_compile_flags(target flag) macro in case of flags with values.
Any help would be appreciated. I think being able to use Kinect on an ARM based board would be great and the effort is well worth it. Among small single board computers, ARM based boards cost 10 times less than, for instance, the AscTec Atom with similar capabilities.
Also, if anyone out there has got a PandaBoard and would like to check whether what I've found out so far works with it, please let know.
Cheers, Tom

Originally posted by tom on ROS Answers with karma: 1079 on 2011-02-24
Post score: 1

Original comments
Comment by tom on 2011-02-24:
@Eric: I wrote a simple HowTo here: http://answers.ros.org/question/130/openni-compilation-error-diamondback-version?answer=296#296 . It's still dirty, but worked all right.
Comment by Eric Perko on 2011-02-24:
Tom, I've got an IGEPv2 board and would be interested in trying out your patches that got OpenNI to compile.

A:

Coming from an embedded systems background, when working with resource-limited embedded systems the usual solution is to cross-compile. You'd gain compilation speed (assuming your desktop has better specs than a 500MB-RAM Cortex ARM) as well as bypass memory problems like the one you're having.
The eros stack was started a while back to help get ROS onto more embedded systems.  I'm not sure how far along it is, but there seems to be some helpful tutorials:
http://www.ros.org/wiki/eros/CrossCompileBuildEnvironment

Originally posted by JeffRousseau with karma: 1607 on 2011-02-24
This answer was ACCEPTED on the original site
Post score: 2


Q:

Publishing .bag file for different nodes

Let's say I have two topics publishing data:
/chatter1
/chatter1
These two topics are currently saving to a rosbag file as they publish the data. I'm creating another node which extracts the features. I therefore need to create a node that subscribes to the .bag file and then writes these to an array which I can then use for extracting the features from.
Is this possible in ros? And can anyone offer any tutorials on this?
Thanks

Originally posted by Phorce on ROS Answers with karma: 97 on 2013-12-19
Post score: 0

A:

Hello, you can subscribe to /chatter1 and /chatter1 with a node while rosbag is running. You can have many subscriber to one publisher.

Originally posted by David Galdeano with karma: 357 on 2013-12-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Phorce on 2013-12-19:
@galdeano Hey thanks. How would I open (or get access) to the data inside the rosbag file that is recording to /chatter1 and /chatter2 whilst it is running though?
Comment by David Galdeano on 2013-12-19:
I do not understand, why would you access the data on the rosbag file, while you have the real time data published?
If you still need to manipulate bag files, use:
http://wiki.ros.org/rosbag/Code%20API#cpp_api
but as said in the begin of the document:
 'Note that the rosbag API's are not thread-safe for reading and writing any given bag file. Users of the APIs must ensure no concurrent input/output operations are performed on different threads.'

So you can't read and write at the same time.
Comment by Phorce on 2013-12-19:
@galdeano - Very valid point. I've misunderstood. But, I do not know of a way to subscribe to multiple topics in Python and being able to store this data inside a numpy array? The problem is that, using rosbag it takes both data of the nodes and combines them. I need a way to do this
Comment by David Galdeano on 2013-12-19:
For numpy use:
http://wiki.ros.org/rospy_tutorials/Tutorials/numpy
For syncronisation of several topics use:
http://wiki.ros.org/message_filters#Policy-Based_Synchronizer_.5BROS_1.1.2B-.5D


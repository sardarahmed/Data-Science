Q:

big delay between publisher and subscriber?

I made a package to control the nao robot using the Emotic EPOC+ EEG sensor to drive the robot depends on the facial expressions
basically my package consist of two nodes
1- Publisher : which read the values coming from the sensor using the Emotiv SDK and then publish which expression I am doing with my face in a topic named /emoState
2- Subscriber : which read from that topic and give the commands to the nao robot using its SDK
the problem is my publisher is too fast and so the subscriber is taking the values which are published like a 20 seconds or 40 seconds ago, I want it to take the value in the time I making the expression
any clue ? where could be the problem

Originally posted by ShehabAldeen on ROS Answers with karma: 97 on 2018-05-17
Post score: 1

Original comments
Comment by NEngelhard on 2018-05-17:
How did you initialize the subscriber (especially which queue_size are you using?) And how long does your callback take to process a single message?
Comment by ShehabAldeen on 2018-05-17:
I used queue size of one for the publisher and nothing for the subscriber
for how long does my callback take for a single process? it takes around 3 seconds something
what I should do now what do you think ?

A:

It looks like you are filling up your subscriber queue so that you are processing older and older messages. Could you try again with a queue_size of 1?

Originally posted by NEngelhard with karma: 3519 on 2018-05-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by ShehabAldeen on 2018-06-21:
It was exactly the same as u said I made the queue_size for both the publisher and the subscriber equal to 1 and it worked perfectly


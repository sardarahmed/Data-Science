Q:

openni crashes when sensor starts plugged in

I was just wondering if anyone else has experienced this and has found a solution?
I'm running Ubuntu 12.04 and Hydro.
When I try to run the following command with my PrimeSense Carmine 1.08 or 1.09 unplugged initially:
roslaunch openni_launch openni.launch
I get this message:
[ INFO] [1381423288.395880191]: No devices connected.... waiting for devices to be connected
I then plug in the sensor and it detects it and everything is great!
However, if I try to launch openni.launch with the sensor already plugged in I get the following errors:
(I've cut out the pages of errors that follow because I assume it all stems from this initial reported error)
auto-starting new master
process[master]: started with pid [11804]
ROS_MASTER_URI= ~~~

setting /run_id to 7cec9494-31ca-11e3-85e0-00219b846bff
process[rosout-1]: started with pid [11817]
started core service [/rosout]
process[camera/camera_nodelet_manager-2]: started with pid [11829]
process[camera/driver-3]: started with pid [11830]
[ INFO] [1381423151.932190037]: Initializing nodelet with 4 worker threads.
process[camera/debayer-4]: started with pid [11874]
Warning: USB events thread - failed to set priority. This might cause loss of data...
process[camera/rectify_mono-5]: started with pid [11890]
process[camera/rectify_color-6]: started with pid [11904]
process[camera/rectify_ir-7]: started with pid [11923]
process[camera/depth_rectify_depth-8]: started with pid [11937]
process[camera/depth_metric_rect-9]: started with pid [11951]
terminate called after throwing an instance of 'openni_wrapper::OpenNIException'
  what():  unsigned int openni_wrapper::OpenNIDriver::updateDeviceList() @ /tmp/buildd/ros-hydro-openni-camera-1.9.0-0precise-20130919-1441/src/openni_driver.cpp @ 125 : enumerating image nodes failed. Reason: One or more of the following nodes could not be enumerated:

Image: PrimeSense/SensorV2/5.1.2.1: Failed to set USB interface!

process[camera/depth_metric-10]: started with pid [11972]
[FATAL] [1381423152.575150990]: Service call failed!

Originally posted by skiesel on ROS Answers with karma: 549 on 2013-10-10
Post score: 0

Original comments
Comment by skiesel on 2013-10-23:
Just an update since I haven't had any responses to this... If I run "rosrun openni_tracker openni_tracker" everything works fine without crashing.

A:

If you just want to use the sensor (and not the tracker), please have a try with OpenNi2. Let us know, if this works better for you.

Originally posted by bit-pirate with karma: 2062 on 2013-10-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by skiesel on 2013-10-25:
I really wanted to use the tracker, but it seemed odd that the "tutorial" launch file crashed.
I am not neglecting your suggestion. I truly appreciate it. I will give you a status update on Monday. I just ran up against a few deadlines and couldn't risk messing anything up on our machines.
Comment by JanCarstensen on 2014-03-18:
I had the same problem as skiesel, and it went away using openni2. So Thanks for the Solution.


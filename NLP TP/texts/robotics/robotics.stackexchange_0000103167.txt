Q:

Mirroring PointCloud data as laserScan data

Hello,
Using the depthimage_to_laserscan package, I can convert pointcloud data from the depth camera into laser data and display them in the rviz environment. In the same way, I can create a costmap. But pointcloud data doesn't show obstacles higher than the robot's own size as a costmap. Like lidar data, it only takes into account its own axes. And when that happens, my robot crashes into that object. Is there a way to set this in the package I'm using? I want it to take the minimum value from the Z axis and return it and reflect it as laser data. Or do I have to write code myself? Thank you.
ROS: Noetic
System: Ubuntu 20.04

Originally posted by furkan_ on ROS Answers with karma: 3 on 2023-04-06
Post score: 0

A:

The depthimage_to_laserscan node does not know your robot's height. The doc says it reads a single pixel row of the rectangular depth image (the middle row in the y-dimension.) But you can configure the node to read additional rows from the depth image.
http://wiki.ros.org/depthimage_to_laserscan#Parameters

Originally posted by Mike Scheutzow with karma: 4903 on 2023-04-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by furkan_ on 2023-04-10:
Thank you. I was able to solve the problem with the "scan_height" parameter. But the smallest points from the camera also appear as costmaps. Do you have any suggestions on this subject?
Comment by Mike Scheutzow on 2023-04-11:
Only the obvious: write a filter to remove points from the pointcloud. I have no suggestion for an existing filter to do this for you.
Comment by furkan_ on 2023-04-11:
Thank you.


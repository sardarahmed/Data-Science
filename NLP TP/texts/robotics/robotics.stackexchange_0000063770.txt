Q:

How do I disable execution_duration_monitoring?

I'm using the fanuc package for ROS-Industrial and when launching the moveit_planning_execution.launch I get the following error:
[ERROR] [1415027195.809289492]: Controller is taking too long to execute trajectory (the expected upper bound for the trajectory execution was 4.992567 seconds). Stopping trajectory.

The error is explained here. What I understand is that I have to add a line in one of the launch file, something like:
<param name="execution_duration_monitoring" value="false"/>

I tried 2 things without success:
trajectory_execution.launch.xml
  <!-- When determining the expected duration of a trajectory, this multiplicative factor is applied to get the allowed duration of execution -->
  <param name="allowed_execution_duration_scaling" value="1.2"/> <!-- default 1.2 -->
  <!-- Allow more than the expected execution time before triggering a trajectory cancel (applied after scaling) -->
  <param name="allowed_goal_duration_margin" value="0.5"/> <!-- default 0.5 -->
  <param name="execution_duration_monitoring" value="false"/>

And move_group.launch
<!-- Start the actual move_group node/action server -->
<node name="move_group" launch-prefix="$(arg launch_prefix)" pkg="moveit_ros_move_group" type="move_group" respawn="false" output="screen" args="$(arg command_args)">
<!-- Set the display variable, in case OpenGL code is used internally -->
<env name="DISPLAY" value="$(optenv DISPLAY :0)" />
<param name="allow_trajectory_execution" value="$(arg allow_trajectory_execution)"/>
<param name="max_safe_path_cost" value="$(arg max_safe_path_cost)"/>
<param name="jiggle_fraction" value="$(arg jiggle_fraction)" />
<param name="execution_duration_monitoring" value="false" />

What am I doing wrong?

Originally posted by VictorLamoine on ROS Answers with karma: 1505 on 2014-11-03
Post score: 4

A:

From looking at the code, i think the parameter is in a sub namespace "trajectory_execution/".
(Found in trajectory_execution_manager.cpp line 57)
The following should work in trajectory_execution.launch.xml
<param name="trajectory_execution/execution_duration_monitoring" value="false" />

Instead of disabling execution duration monitoring you can increase the time for your manipulator.
<param name="allowed_execution_duration_scaling" value="3.0"/>

Though, this param seems to exist in both namespaces?!

Originally posted by jowave with karma: 66 on 2014-11-06
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by VictorLamoine on 2014-11-12:
How did you find that the parameter is in a sub namespace?
Comment by jowave on 2014-11-12:
the dynamic_reconfigure member is created with ros::NodeHandle("~/trajectory_execution")
Comment by Danielwang on 2022-05-07:
I added it in execution.launch but the program is stuck without any error．　Added it in trajectory_execution.launch.xml it doesn't work for me
here is the detailes:
INFO] [1651917001.823645112]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1651917001.834686270]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1651917001.834708564]: Solution found in 0.011150 seconds
[ INFO] [1651917001.838256444]: SimpleSetup: Path simplification took 0.003467 seconds and changed from 3 to 2 states
[ INFO] [1651917001.846145073]: Received new goal
[ INFO] [1651917001.846224835]: Trajectory received and accepted
[ INFO] [1651917001.846269192]: Translating trajectory
[ INFO] [1651917001.846292990]: Executing trajectory with 18 points and duration of 7.252s
[ INFO] [1651917001.846306611]: Attempting to start follower 0x21cf8e0
[ INFO] [1651917001.846315499]: Uploading trajectory program to robot


Q:

Gazebo 1.3 plugin + ROS incompatibility?

After writing some code to pull LIDAR data and induce simple movement control for gazebo-1.2, the update rendered these problematic.
I've re-installed gazebo, drcsim, ros-fuerte, and the boost 1.46 libraries in an attempt to find the problem, but I can still deterministically crash gazebo1.3 by following these steps:
**. /usr/share/drcsim-1.1/setup.sh
roslaunch drc_robot_utils drc_robot.launch
rosrun pr2_teleop teleop_pr2_keyboard**

Pressing a movement key exits gazebo without any thrown errors.
Attaching to the laserScan publisher in Rviz induces an exit with the following error as well:
Exception [MultiRayShape.cc:113] index[0] out of range[0-8742677509569]

Running roswtf gives the following output, but everything seems to be functional and happy in rxgraph.
ERROR Communication with [/rosout] raised an error: 
ERROR Communication with [/robot_state_publisher] raised an error: 
ERROR Communication with [/drc_robot_controller_spawner] raised an error: 
ERROR Communication with [/pr2_mechanism_diagnostics] raised an error: 
ERROR Communication with [/fake_joint_calibration] raised an error: 
ERROR Communication with [/gazebo] raised an error: 
ERROR Communication with [/tf2_buffer_server] raised an error:
ERROR The following nodes should be connected but aren't:
 * /gazebo->/robot_state_publisher (/clock)
 * /fake_joint_calibration->/drc_robot_controller_spawner (/calibrated)
 * /gazebo->/drc_robot_controller_spawner (/clock)
 * /drc_robot_controller_spawner->/rosout (/rosout)
 * /gazebo->/pr2_mechanism_diagnostics (/clock)
 * /tf2_buffer_server->/rosout (/rosout)
 * /gazebo->/robot_state_publisher (/joint_states)
 * /gazebo->/tf2_buffer_server (/clock)
 * /gazebo->/pr2_mechanism_diagnostics (/mechanism_statistics)
 * /pr2_mechanism_diagnostics->/rosout (/rosout)
 * /gazebo->/gazebo (/clock)
 * /gazebo->/rosout (/clock)
 * /robot_state_publisher->/rosout (/rosout)
 * /gazebo->/rosout (/rosout)
 * /robot_state_publisher->/tf2_buffer_server (/tf)

If anyone has a better idea than me with regards to what might be the problems in communications between ros and Gazebo, or what I could do to find out the problems, I would appreciate them very much.

Originally posted by klowrey on Gazebo Answers with karma: 41 on 2012-12-11
Post score: 1

A:

I suspect that this problem arose from a mismatched set of packages.
I'm unable to reproduce the behavior that you describe with gazebo 1.5.0 and drcsim 2.2.0.  Do you still see the problem if you update?

Originally posted by gerkey with karma: 1414 on 2013-03-13
This answer was ACCEPTED on the original site
Post score: 0


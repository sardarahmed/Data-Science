Q:

Is there a way to control effort/torque in the DRC sim directly

Hi
I am trying to control some of the drc robot. How can I give to the PID that is controlling the joint a set point of effort and not a set point of angle?
Thanks
Nachum
As said here I put into the launch file and the yaml an effort controller, when i do rostopic list I see the controller but when I give it a command nothing happens.
Any idea?

Originally posted by Nachum on Gazebo Answers with karma: 35 on 2012-11-14
Post score: 2

Original comments
Comment by asomerville on 2012-11-14:
You should probably update the title of this question to be more specific.  Something like: "Is there a way to control effort/torque in the DRC sim directly?"

A:

Currently effort controllers are not provided.
It's technically possible to change the controllers to any of the robot_mechanism_controllers but doing so may require tuning that is not straight forward. Though perhaps in the case of effort controllers that may not be the case.
According to: http://gazebosim.org/wiki/DRC/Roadmap DRC sim 1.1 will be released this Friday with support for a subset of the robot_mechanism_controllers, though what that means is not yet clear.
None of the recent commits to branch "default" seem to show progress on this particular front, but it may be being developed on another branch so we'll have to wait for Friday to see I imagine.
*** update:
1.1 apparently did not include effort controllers ***
To switch controllers you need to make changes in two places:

the launch file where the drc_robot_controllers-spawner is started
a yaml file with the controller parameters

In principle it's as simple as replacing each instance of "position" with "velocity" or "effort".
I have an example launch file and yaml but cannot upload them since I don't have 60 karma yet, but I will do so once I can. On that note, if you select my answer I will get karma, and be closer to being able to do so.

atlas_effort_controllers.yaml.jpg
cam_effort_controllers.yaml.jpg
drc_effort_robot-1.1.launch.jpg

Note: answers forced me to upload them as jpgs, with nondescript numbers for file names. You'll have to rename these as you download them to match the file names I give here. Also, you'll have to adjust the rospack find line in the launch file to match where you've stored these two yaml files.

Originally posted by asomerville with karma: 283 on 2012-11-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Nachum on 2012-11-21:
do you know if they realy released it with those controllers?
Comment by Nachum on 2012-11-21:
I downloaded drc sim 1.1 and it doesn't have tourque controllers
Comment by asomerville on 2012-11-28:
I've updated to the latest and do see torque controllers. Keep in mind they are labled as being "Effort" controllers
Comment by asomerville on 2012-11-28:
I recant. I cannot find the controller settings I thought I had seen.


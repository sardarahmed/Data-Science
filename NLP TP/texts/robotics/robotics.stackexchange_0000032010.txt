Q:

waitForTransform use_sim_time python

This is basically the same question as was asked here, but I am seeing the exact same behavior and haven't found a solution.
I am playing back a bag, using --clock, and setting use_sim_time correctly.
To summarize the problem, this works :
listener.waitForTransform('frame1','frame2',rospy.Time(),rospy.Duration(.1))
listener.lookupTransform('frame1','frame2',rospy.Time())

but this doesn't :
listener.waitForTransform('frame1','frame2',rospy.Time(),rospy.Duration(.1))
time_stamp=listener.getLatestCommonTime('frame1','frame2') # This does return the sim time
listener.lookupTransform('frame1','frame2',time_stamp)

nor does this :
listener.waitForTransform('frame1','frame2',time_stamp,rospy.Duration(100.0)) 
listener.lookupTransform('frame1','frame2',time_stamp)

The error returned is :
You requested a transform that is 278350010.097 miliseconds in the past,
but the most recent transform in the tf buffer is 278350024.236 miliseconds old.
The most recent transform seems to always be a very small time ahead of the requested transform.
Do I need to migrate this node to C++, or am I doing something wrong?
Thanks in advace
-Phil Osteen, Motile Robotics Inc.

Originally posted by phil0stine on ROS Answers with karma: 682 on 2011-06-02
Post score: 2

A:

Simulated time is broken in certain cases with rospy and tf. This problem got fixed in tf2, which is part of the geometry_experimental stack. But as the stack name suggests, this is still experimental code. Tf2 might make it into Electric.

Originally posted by Wim with karma: 2915 on 2011-06-17
This answer was ACCEPTED on the original site
Post score: 4


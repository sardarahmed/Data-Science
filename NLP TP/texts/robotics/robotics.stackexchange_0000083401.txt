Q:

STDR Simulator: how to increase static TF frequency?

Hi! as shown in its wiki:
image description http://wiki.ros.org/stdr_robot?action=AttachFile&do=get&target=tf_frames.png
STDR publishes internal robot TFs at 10 Hz. apart from the fact that this is a pain, and I would rather let user publish TFs with the venerable robot_state_publisher, 10 Hz is very slow and causes some trouble on delaying TF listener transformations.
Is there any way to accelerate this frequency?  Or even better, to prevent STDR Simulator of publishing all TFs except the odometry one?
Thanks!

Originally posted by jorge on ROS Answers with karma: 2284 on 2017-10-18
Post score: 0

Original comments
Comment by bvbdort on 2017-10-19:
Did you try changing sensor frequency in configuration files here
Comment by jorge on 2017-11-10:
Yes, at 20Hz as in the real robot. But that's not the problem; the problem is this line of code, that harcodes tf tree broadcasting rate at 10Hz.
This is a problem, so I'll PR a fix
Comment by shardator on 2017-12-20:
I think I have similar issues... All hard-coded times should be removed from ROS altogether. I'm new to this system, but I've seen systems with higher complexity and people tend to do this everywhere. Hard coded timing kills future development.

A:

Pull requested solution.
So problem is not only the 10 Hz, but an artifact created by the fact that sensors timestamps are slightly ahead of the sensor tf timestamp, that in turn are a bit ahed of odom tf timestamp, what when calling tf::TransformListener accumulates delay.
So reordering these timestamps would also solve the problem, I suppose.

Originally posted by jorge with karma: 2284 on 2017-11-11
This answer was ACCEPTED on the original site
Post score: 0


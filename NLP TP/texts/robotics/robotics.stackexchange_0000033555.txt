Q:

Gazebo UI crashing on delete model,polling pr2 arm too fast,or minimized by clicking on the task bar

I import larger stl file on gazebo.

When I applied gravity force on it and delete it by left click the model on gazebo and use the del key on keyboard to delete, it caused the gazebo crashed. I attached the message in the end of this point.
What's the problem? I use ubuntu 10.10 and diamondback of gazebo.
I have used sudo apt-get dist-upgrade to make sure I use the latest gazebo.
The first point's output message:
 sam@/opt/ros/diamondback/stacks/pr2_simulator/pr2_gazebo$ roslaunch      gazebo_worlds empty_world.launch
 ... logging to      /home/sam/.ros/log/306a74ec-c5ac-11e0-b4b7-20cf30a2382f/roslaunch-sam-Sys     tem-Product-Name-3748.log
 Checking log directory for disk usage. This may take awhile.
 Press Ctrl-C to interrupt
 Done checking log file disk usage. Usage is <1GB.
 
 started roslaunch server http://sam-System-Product-Name:44402/
 
 SUMMARY
 ========
 
 PARAMETERS
  * /rosversion
  * /use_sim_time
  * /rosdistro
 
 NODES
   /
     gazebo (gazebo/gazebo)
 
 auto-starting new master
 process[master]: started with pid [3762]
 ROS_MASTER_URI=http://localhost:11311
 
 setting /run_id to 306a74ec-c5ac-11e0-b4b7-20cf30a2382f
 process[rosout-1]: started with pid [3775]
 started core service [/rosout]
 process[gazebo-2]: started with pid [3788]
 Gazebo multi-robot simulator, version 0.10.0
 
 Part of the Player/Stage Project [http://playerstage.sourceforge.net].
 Copyright (C) 2003 Nate Koenig, Andrew Howard, and contributors.
 Released under the GNU General Public License.
 
 directory [/tmp/gazebo-sam-0] already exists (previous crash?)
 the owner gazebo server (pid=3624) is not running.
 deleting the old information of the directory [/tmp/gazebo-sam-0]
 Param [quickStep] is deprecated: [replace quickStep with stepType]
 Param [quickStepIters] is deprecated: [replace quickStepIters with stepIters]
 Param [quickStepW] is deprecated: [replace quickStepW with stepW]
 Gazebo successfully initialized
 [ WARN] [1313240431.645094841, 162.007000000]: ApplyBodyWrench:      reference frame and reference_point not implemented yet, force is defined and      applied at the body frame
 [gazebo-2] process has died [pid 3788, exit code -11].
 log files:                                                                  /home/sam/.ros/log/306a74ec-c5ac-11e0-b4b7-20cf30a2382f/gazebo-2*.log

/home/sam/.ros/log/306a74ec-c5ac-11e0-b4b7-20cf30a2382f/gazebo-2*.log
 sam@/opt/ros/diamondback/stacks/pr2_simulator/pr2_gazebo$ cat      /home/sam/.ros/log/306a74ec-c5ac-11e0-b4b7-20cf30a2382f/gazebo-2*.log
 [roscpp_internal] [2011-08-13 21:00:16,780] [thread 0x7f900dfae800]: [DEBUG]      UDPROS server listening on port [55987]
 [roscpp_internal] [2011-08-13 21:00:16,788] [thread 0x7f900dfae800]: [DEBUG]      Publisher update for [/clock]:  already have these connections: 
 [roscpp_internal] [2011-08-13 21:00:16,788] [thread 0x7f900dfae800]: [DEBUG]      Started node [/gazebo], pid [3788], bound on [sam-System-Product-Name], xmlrpc      port [41012], tcpros port [60741], logging to      [/home/sam/.ros/log/306a74ec-c5ac-11e0-b4b7-20cf30a2382f/gazebo-2.log],      using [sim] time
 [roscpp_internal] [2011-08-13 21:00:16,818] [thread 0x7f900dfae800]: [DEBUG]      Publisher update for [/gazebo/set_link_state]:  already have these connections: 
 [roscpp_internal] [2011-08-13 21:00:16,820] [thread 0x7f900dfae800]: [DEBUG]      Publisher update for [/gazebo/set_model_state]:  already have these      connections: 
 [roscpp_internal] [2011-08-13 21:00:16,820] [thread 0x7f900dfae800]: [DEBUG]      Creating intraprocess link for topic [/clock]
 [roscpp_internal] [2011-08-13 21:00:16,858] [thread 0x7f8ff3794700]: [DEBUG]      Publisher update for [/clock]: http://sam-System-Product-Name:41012/,  already      have these connections: http://sam-System-Product-Name:41012/, 
 [roscpp_internal] [2011-08-13 21:00:17,060] [thread 0x7f8ff3f95700]: [DEBUG]      Accepted connection on socket [23], new socket [28]
 [roscpp_internal] [2011-08-13 21:00:17,061] [thread 0x7f8ff3f95700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:40934]
 [roscpp_internal] [2011-08-13 21:00:17,061] [thread 0x7f8ff3f95700]: [DEBUG]      Connection: Creating TransportSubscriberLink for topic [/rosout] connected to      [callerid=[/rosout] address=[TCPROS connection to [127.0.0.1:40934 on socket      28]]]
 [roscpp_internal] [2011-08-13 21:00:17,061] [thread 0x7f8ff3f95700]: [DEBUG]      Accepted connection on socket [23], new socket [29]
 [roscpp_internal] [2011-08-13 21:00:17,061] [thread 0x7f8ff3f95700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:40935]
 [roscpp_internal] [2011-08-13 21:00:17,061] [thread 0x7f8ff3f95700]: [DEBUG]      Connection: Creating TransportSubscriberLink for topic [/clock] connected to      [callerid=[/rosout] address=[TCPROS connection to [127.0.0.1:40935 on socket      29]]]
 [roscpp_internal] [2011-08-13 21:00:24,131] [thread 0x7f8ff3f95700]: [DEBUG]      Accepted connection on socket [23], new socket [26]
 [roscpp_internal] [2011-08-13 21:00:24,131] [thread 0x7f8ff3f95700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:40938]
 [roscpp_internal] [2011-08-13 21:00:24,131] [thread 0x7f8ff3f95700]: [DEBUG]      Connection: Creating ServiceClientLink for service [/gazebo/spawn_urdf_model]      connected to [callerid=[/unnamed] address=[TCPROS connection to      [127.0.0.1:40938 on socket 26]]]
 [roscpp_internal] [2011-08-13 21:00:24,131] [thread 0x7f8ff3f95700]: [DEBUG]      Service client [/unnamed] wants service [/gazebo/spawn_urdf_model] with      md5sum [*]
 [roscpp_internal] [2011-08-13 21:00:24,131] [thread 0x7f8ff3f95700]: [DEBUG]      Socket [26] received 0/4 bytes, closing
 [roscpp_internal] [2011-08-13 21:00:24,131] [thread 0x7f8ff3f95700]: [DEBUG]      TCP socket [26] closed
 [roscpp_internal] [2011-08-13 21:00:24,133] [thread 0x7f8ff3f95700]: [DEBUG]      Accepted connection on socket [23], new socket [26]
 [roscpp_internal] [2011-08-13 21:00:24,134] [thread 0x7f8ff3f95700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:40943]
 [roscpp_internal] [2011-08-13 21:00:24,134] [thread 0x7f8ff3f95700]: [DEBUG]      Connection: Creating ServiceClientLink for service [/gazebo/spawn_urdf_model]      connected to [callerid=[/unnamed] address=[TCPROS connection to      [127.0.0.1:40943 on socket 26]]]
 [roscpp_internal] [2011-08-13 21:00:24,134] [thread 0x7f8ff3f95700]: [DEBUG]      Service client [/unnamed] wants service [/gazebo/spawn_urdf_model] with      md5sum [9ed9c82c96abe1a00c3e8cdaeee24413]
 [roscpp_internal] [2011-08-13 21:00:24,276] [thread 0x7f8ff1f91700]: [DEBUG]      TCP socket [26] closed
 [roscpp_internal] [2011-08-13 21:00:31,505] [thread 0x7f8ff3f95700]: [DEBUG]      Accepted connection on socket [23], new socket [26]
 [roscpp_internal] [2011-08-13 21:00:31,505] [thread 0x7f8ff3f95700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:40946]
 [roscpp_internal] [2011-08-13 21:00:31,505] [thread 0x7f8ff3f95700]: [DEBUG]      Connection: Creating ServiceClientLink for service [/gazebo/apply_body_wrench]      connected to [callerid=[/rosservice] address=[TCPROS connection to      [127.0.0.1:40946 on socket 26]]]      
 [roscpp_internal] [2011-08-13 21:00:31,505] [thread 0x7f8ff3f95700]: [DEBUG]      Service client [/rosservice] wants service [/gazebo/apply_body_wrench] with      md5sum [*]
 [roscpp_internal] [2011-08-13 21:00:31,506] [thread 0x7f8ff3f95700]: [DEBUG]      Socket [26] received 0/4 bytes, closing
 [roscpp_internal] [2011-08-13 21:00:31,506] [thread 0x7f8ff3f95700]: [DEBUG]      TCP socket [26] closed
 [roscpp_internal] [2011-08-13 21:00:31,644] [thread 0x7f8ff3f95700]: [DEBUG]      Accepted connection on socket [23], new socket [26]
 [roscpp_internal] [2011-08-13 21:00:31,644] [thread 0x7f8ff3f95700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:40957]
 [roscpp_internal] [2011-08-13 21:00:31,644] [thread 0x7f8ff3f95700]: [DEBUG]      Connection: Creating ServiceClientLink for service [/gazebo/apply_body_wrench]      connected to [callerid=[/rosservice_3864_1313240431528] address=[TCPROS      connection to [127.0.0.1:40957 on socket 26]]]
 [roscpp_internal] [2011-08-13 21:00:31,644] [thread 0x7f8ff3f95700]: [DEBUG]      Service client [/rosservice_3864_1313240431528] wants service      [/gazebo/apply_body_wrench] with md5sum      [585b9f9618aa0581b207e2f2d90866bc]
 [ros.gazebo] [2011-08-13 21:00:31,645] [thread 0x7f8ff1f91700]: [WARN]      ApplyBodyWrench: reference frame and reference_point not implemented yet,      force is defined and applied at the body frame
 [roscpp_internal] [2011-08-13 21:00:31,645] [thread 0x7f8ff1f91700]: [DEBUG]      TCP socket [26] closed
 
                                                                  sam@/opt/ros/diamondback/stacks/pr2_simulator/pr2_gazebo$

I import pr2 on gazebo,and try to use larger force(200000) to poll it continuely(about 3 seconds).
Sometimes when I poll too fast,the gazebo will hang on (means not disappear but not work anymore like stop any function). So what I can do is just ctrl+c to interrupt console which run gazebo and restart again...

When I click the taskbar to minimize the gazebo, gazebo also will crashed
but seams without errors.
 sam@/opt/ros/diamondback/stacks/pr2_simulator/pr2_gazebo$ roslaunch      gazebo_worlds empty_world.launch
 ... logging to      /home/sam/.ros/log/edd4b704-c5ac-11e0-b748-20cf30a2382f/roslaunch-sam-Sy     stem-Product-Name-3903.log
 Checking log directory for disk usage. This may take awhile.
 Press Ctrl-C to interrupt
 Done checking log file disk usage. Usage is <1GB.
 
 started roslaunch server http://sam-System-Product-Name:41768/
 
 SUMMARY
 ========
 
 PARAMETERS
  * /rosversion
  * /use_sim_time
  * /rosdistro
 
 NODES
   /
     gazebo (gazebo/gazebo)
 
 auto-starting new master
 process[master]: started with pid [3917]
 ROS_MASTER_URI=http://localhost:11311
 
 setting /run_id to edd4b704-c5ac-11e0-b748-20cf30a2382f
 process[rosout-1]: started with pid [3930]
 started core service [/rosout]
 process[gazebo-2]: started with pid [3943]
 Gazebo multi-robot simulator, version 0.10.0
 
 Part of the Player/Stage Project [http://playerstage.sourceforge.net].
 Copyright (C) 2003 Nate Koenig, Andrew Howard, and contributors.
 Released under the GNU General Public License.
 
 directory [/tmp/gazebo-sam-0] already exists (previous crash?)
 the owner gazebo server (pid=3788) is not running.
 deleting the old information of the directory [/tmp/gazebo-sam-0]
 Param [quickStep] is deprecated: [replace quickStep with stepType]
 Param [quickStepIters] is deprecated: [replace quickStepIters with stepIters]
 Param [quickStepW] is deprecated: [replace quickStepW with stepW]
 Gazebo successfully initialized
 Done.
 [gazebo-2] process has finished cleanly.
 log file:                                                                       /home/sam/.ros/log/edd4b704-c5ac-11e0-b748-20cf30a2382f/gazebo-2*.log

/home/sam/.ros/log/edd4b704-c5ac-11e0-b748-20cf30a2382f/gazebo-2*.log
 sam@/opt/ros/diamondback/stacks/pr2_simulator/pr2_gazebo$ cat      /home/sam/.ros/log/edd4b704-c5ac-11e0-b748-20cf30a2382f/gazebo-2*.log
 [roscpp_internal] [2011-08-13 21:05:34,481] [thread 0x7f37242d8800]:      [DEBUG] UDPROS server listening on port [35174]
 [roscpp_internal] [2011-08-13 21:05:34,485] [thread 0x7f37242d8800]:      [DEBUG] Publisher update for [/clock]:  already have these connections: 
 [roscpp_internal] [2011-08-13 21:05:34,486] [thread 0x7f37242d8800]:      [DEBUG] Started node [/gazebo], pid [3943], bound on      [sam-System-Product-Name], xmlrpc port [43364], tcpros port [51225], logging to      [/home/sam/.ros/log/edd4b704-c5ac-11e0-b748-20cf30a2382f/gazebo-2.log],      using [sim] time
 [roscpp_internal] [2011-08-13 21:05:34,510] [thread 0x7f37242d8800]:      [DEBUG] Publisher update for [/gazebo/set_link_state]:  already have these      connections: 
 [roscpp_internal] [2011-08-13 21:05:34,512] [thread 0x7f37242d8800]:      [DEBUG] Publisher update for [/gazebo/set_model_state]:  already have these      connections: 
 [roscpp_internal] [2011-08-13 21:05:34,512] [thread 0x7f37242d8800]:      [DEBUG] Creating intraprocess link for topic [/clock]
 [roscpp_internal] [2011-08-13 21:05:34,555] [thread 0x7f3701796700]:      [DEBUG] Publisher update for [/clock]: http://sam-System-Product-Name:43364/,       already have these connections: http://sam-System-Product-Name:43364/, 
 [roscpp_internal] [2011-08-13 21:05:34,757] [thread 0x7f3701f97700]: [DEBUG]      Accepted connection on socket [23], new socket [28]
 [roscpp_internal] [2011-08-13 21:05:34,758] [thread 0x7f3701f97700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:51529]
 [roscpp_internal] [2011-08-13 21:05:34,758] [thread 0x7f3701f97700]: [DEBUG]      Connection: Creating TransportSubscriberLink for topic [/clock] connected to      [callerid=[/rosout] address=[TCPROS connection to [127.0.0.1:51529 on socket      28]]]
 [roscpp_internal] [2011-08-13 21:05:34,758] [thread 0x7f3701f97700]: [DEBUG]      Accepted connection on socket [23], new socket [29]
 [roscpp_internal] [2011-08-13 21:05:34,758] [thread 0x7f3701f97700]: [DEBUG]      TCPROS received a connection from [127.0.0.1:51530]
 [roscpp_internal] [2011-08-13 21:05:34,758] [thread 0x7f3701f97700]: [DEBUG]      Connection: Creating TransportSubscriberLink for topic [/rosout] connected to      [callerid=[/rosout] address=[TCPROS connection to [127.0.0.1:51530 on socket      29]]]
 [roscpp_internal] [2011-08-13 21:05:50,564] [thread 0x7f37242d8800]:      [DEBUG] Shutting down roscpp
 [roscpp_internal] [2011-08-13 21:05:50,674] [thread 0x7f37242d8800]:      [DEBUG] Shutting down topics...
 [roscpp_internal] [2011-08-13 21:05:50,674] [thread 0x7f37242d8800]:      [DEBUG]   shutting down publishers
 [roscpp_internal] [2011-08-13 21:05:50,677] [thread 0x7f37242d8800]:      [DEBUG] Connection to subscriber [callerid=[/rosout] address=[TCPROS connection      to [127.0.0.1:51530 on socket 29]]] to topic [/rosout] dropped
 [roscpp_internal] [2011-08-13 21:05:50,677] [thread 0x7f37242d8800]:      [DEBUG] TCP socket [29] closed
 [roscpp_internal] [2011-08-13 21:05:50,678] [thread 0x7f37242d8800]:      [DEBUG] Connection to local publisher on topic [/clock] dropped
 [roscpp_internal] [2011-08-13 21:05:50,678] [thread 0x7f37242d8800]:      [DEBUG] Connection to local subscriber on topic [/clock] dropped
 [roscpp_internal] [2011-08-13 21:05:50,678] [thread 0x7f37242d8800]:      [DEBUG] Connection to subscriber [callerid=[/rosout] address=[TCPROS connection      to [127.0.0.1:51529 on socket 28]]] to topic [/clock] dropped
 [roscpp_internal] [2011-08-13 21:05:50,678] [thread 0x7f37242d8800]:      [DEBUG] TCP socket [28] closed
 [roscpp_internal] [2011-08-13 21:05:50,683] [thread 0x7f37242d8800]:      [DEBUG]   shutting down subscribers
 [roscpp_internal] [2011-08-13 21:05:50,687] [thread 0x7f37242d8800]:      [DEBUG] ServiceManager::shutdown(): unregistering our advertised services
 [roscpp_internal] [2011-08-13 21:05:50,783] [thread 0x7f37242d8800]:      [DEBUG] UDP socket [24] closed
 [roscpp_internal] [2011-08-13 21:05:50,783] [thread 0x7f37242d8800]:      [DEBUG] TCP socket [23] closed
 
                                              sam@/opt/ros/diamondback/stacks/pr2_simulator/pr2_gazebo$

Thank you~

Originally posted by sam on ROS Answers with karma: 2570 on 2011-08-09
Post score: 0

Original comments
Comment by 130s on 2011-08-30:
The result seems the same with my case (gazebo crashes, http://answers.ros.org/question/1882/gazebo-crashes-after-c-c-pr2_teleop), although the phenom might be different, which I'm not sure about because you haven't provided error output nor backtrace.
Comment by sam on 2011-08-29:
I have updated the origin post of second point. And I found that the third point is fixed by updating ROS.
Comment by sam on 2011-08-12:
Should I just copy and paste the message when crash or what file should I cat?
Comment by hsu on 2011-08-12:
Can you obtain a backtrace or coredump of the crash?  Thanks.
Comment by sam on 2011-08-09:
Why I type 1,2,3 in sequence but it shows 1,1,1?I confused. When I reedit it, the edit box show that 1,2,3,but showing box show 1,1,1.

A:

To obtain a back trace of gazebo, please take a look at the troubleshooting pages.

Originally posted by hsu with karma: 5780 on 2011-08-15
This answer was ACCEPTED on the original site
Post score: 0


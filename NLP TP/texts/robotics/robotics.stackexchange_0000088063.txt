Q:

Initial pose for robot_localization within a given map

Hi,
I am able to run r_l package fuing wheel odometry, imu and gps. Now I want to run the localization within a predefined map.
As briefly mentioned here, I have to initialize a robot pose within a map before calling navsat_tranform.
I don't know how to do it. Let's say the robot starts within a map with an arbitrary pose, I wonder is there any way to set that pose before calling navsat_transform?
For example, my current localization result within a prior looks like this:

The blue arrows are fused odometry using wheel encoder, imu and gps. The localization result in world_frame is satisfying.

Originally posted by tuandl on ROS Answers with karma: 358 on 2018-07-23
Post score: 0

A:

The initial pose has it's  own topic. You can publish to this topic from a node. RVIZ publishes to this topic when you set initial pose using the mouse.

Originally posted by billy with karma: 1850 on 2018-07-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by tuandl on 2018-07-24:
@billy yes you are right. But setting the pose using rviz only effects the initial pose of amcl right? Since robot localization package didn't subscribe to any initial pose topic then how can you set an initial pose for it? Or maybe I miss something?
Comment by tuandl on 2018-07-24:
Ah yes, I found it. Initial state can be called to set the initial pose. Thank you for your help!
Comment by hwlee on 2020-03-03:
Great!! I had same problem and you had solved it. Thanks :)


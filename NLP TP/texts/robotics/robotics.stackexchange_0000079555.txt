Q:

Unable to access some topics in Matlab

I am completely new to ROSbag. I have a bag file and would like to work with it in MATLAB.
I canview the messages for one of my topics using:
>> bag = rosbag('HMB_1.bag');
>> bagselect_c = select(bag, 'Topic', '/center_camera/image_color/compressed');
>> msgs_c = readMessages(bagselect_c);

when I try to do the same for another topic, I get an error:
>> bagselect= select(bag, 'Topic', '/vehicle/steering_report');
>> msgstemp = readMessages(bagselect);
Error using robotics.ros.BagSelection/deserializeMessages (line 445)
Java exception occurred:
org.ros.exception.RosMessageRuntimeException: java.lang.ClassNotFoundException: dbw_mkz_msgs.SteeringReport

    at org.ros.internal.message.definition.MessageDefinitionReflectionProvider.get(MessageDefinitionReflectionProvider.java:66)

    at org.ros.internal.message.DefaultMessageFactory.newFromType(DefaultMessageFactory.java:42)

    at org.ros.internal.message.DefaultMessageDeserializer.deserialize(DefaultMessageDeserializer.java:42)

Caused by: java.lang.ClassNotFoundException: dbw_mkz_msgs.SteeringReport

    at java.net.URLClassLoader$1.run(Unknown Source)

    at java.net.URLClassLoader$1.run(Unknown Source)

    at java.security.AccessController.doPrivileged(Native Method)

    at java.net.URLClassLoader.findClass(Unknown Source)

    at java.lang.ClassLoader.loadClass(Unknown Source)

    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)

    at java.lang.ClassLoader.loadClass(Unknown Source)

    at org.ros.internal.message.definition.MessageDefinitionReflectionProvider.get(MessageDefinitionReflectionProvider.java:62)

    ... 2 more

Error in robotics.ros.BagSelection/readMessages (line 195)
            msgs = obj.deserializeMessages(obj.MessageList, rows);

I'm not sure how to troubleshoot

Originally posted by fadiak on ROS Answers with karma: 1 on 2017-03-13
Post score: 0

A:

You need to use custom ros message support. You have to use rosgenmsg.
https://www.mathworks.com/help/robotics/ref/rosgenmsg.html

Originally posted by snehesh with karma: 31 on 2017-07-25
This answer was ACCEPTED on the original site
Post score: 0


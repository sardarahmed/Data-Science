Q:

How to kill nodes in ROS2?

In ROS we have rosnode kill -a. Do we have something like this in ROS2?
I tried ros2 node kill, but it didn't work.
I am using Ubuntu 18.04 LTS | ROS2 Crystal | Gazebo 9.

Originally posted by askkvn on ROS Answers with karma: 115 on 2019-05-16
Post score: 7

A:

Afaik there is no rosnode kill in ROS 2.
ROS 2 introduces the concept of managed nodes, which have a node lifecycle (ROS2 Design: Managed nodes).
With nodes that support it you can then use
ros2 lifecycle set <nodename> shutdown

which should make the node with name nodename transition to its shutdown state and consequently shutdown the process.

Originally posted by gvdhoorn with karma: 86574 on 2019-05-16
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by William on 2019-05-17:
Can confirm, there is no feature to kill nodes remotely. This feature was related to enforcing node name uniqueness (duplicate names would cause one of the nodes to be killed), but we haven't addressed that yet.
Comment by mac137 on 2021-02-03:
@gvdhoorn It does not work in my system. I do ros2 node list which gives me /pp/cam0. Then I do ros2 lifecycle set /pp/cam0 shutdown and the response is Node not found. Any idea how to fix this?
Comment by gvdhoorn on 2021-02-04:
I have no idea.
I would suggest to first make sure /pp/cam0 is actually a lifecycle node. If it isn't, then ros2 lifecycle is not going to be of any help.
Comment by mac137 on 2021-02-04:
@gvdhoorn Thanks! Does that mean that there is no command in ROS2 foxy to shut down a node if the node does not have its lifecycle implemented? Nothing has really changed since May 2019 when you answered this question?
Comment by gvdhoorn on 2021-02-04:\

Nothing has really changed since May 2019 when you answered this question?

well, 'nothing' is a bit strong, but I don't believe there is a "kill node" command in ROS 2 in general, and I doubt it will ever be added.
See the rationale added by @William.
Killing nodes is process management, which is something the OS does best. ROS should not duplicate that (unloading components is something else).


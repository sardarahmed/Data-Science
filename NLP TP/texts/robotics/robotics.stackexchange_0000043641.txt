Q:

timing function for while loop

I was just wondering, if I want to write a while loop which says while x seconds hasn't reach execute this statement, how would I go about it?
I tried using
while(ros::Duration(x).sleep()){
....
}
but it doesn't work. also, tried creating a counter but there is no way to measure the count in seconds
thanks,

Originally posted by Arash on ROS Answers with karma: 11 on 2012-08-28
Post score: 0

A:

Example code that should do what you want:
ros::Time start_time = ros::Time::now();
ros::Duration timeout(2.0); // Timeout of 2 seconds
while(ros::Time::now() - start_time < timeout) {
  // do your stuff
}

Originally posted by Lorenz with karma: 22731 on 2012-08-28
This answer was ACCEPTED on the original site
Post score: 8

Original comments
Comment by akash12124234 on 2021-11-06:
it's not working for me if I give 2 for a timeout the loops do not stop for milliseconds. I tried giving 100 and the same result. but when I gave 200 it remains for some time.  but I cannot find the relationship


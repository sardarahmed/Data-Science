Q:

Interrupting rospy.spin() or writing a custom loop that does the equivalent

Hi,
Is there a way to exit the rospy.spin() loop without completely shutting down the node?
Or possibly is there a way to write my own equivalent rospy.spin() loop which answers service calls periodically until I stop it?
Any help or comments are appreciated.

Originally posted by lwoiceshyn on ROS Answers with karma: 1 on 2017-01-20
Post score: 0

A:

The code of rospy.spin can be found on github/roscom
It boils down to
while not rospy.core.is_shutdown():
    rospy.rostime.wallsleep(0.5)

So you can write your node around this loop and leave the loop whenever you want.

Originally posted by NEngelhard with karma: 3519 on 2017-01-21
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by gvdhoorn on 2017-01-21:
rospy.spin() is not even really needed to have a properly working ROS python node. rospy.spin() is just provided to have something that allows a similar control flow to be setup to how roscpp does things.


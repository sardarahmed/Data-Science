Q:

How to show point cloud2 on rviz?

I use fuerte.
I write a topic /output_plane,and I also can find it on rostopic.
  sam@sam:~/code/ros/sam_pcl/sam_ransac$ rostopic echo /output_plane 
  header: 
    seq: 2
    stamp: 
      secs: 1345201963
      nsecs: 71831081
    frame_id: /base_link
  height: 1
  width: 274386
  fields: 
    - 
      name: x
      offset: 0
      datatype: 7
      count: 1
    - 
      name: y
      offset: 4
      datatype: 7
      count: 1
    - 
      name: z
      offset: 8
      datatype: 7
      count: 1
  is_bigendian: False
  point_step: 16
  row_step: 4390176
  data: [27, 18, 111, 191, 82, 184, 46, 191, 59, 223, 151, 191, 0, 0, 128, 63, 219, 133, 110, 191, 41, 232, 46, 191, 213, 9, 152, 191, 0, 0, 128, 63, 93, 254, 107, 191, 223, 55, 46, 191, 210, 111, 151, 191, 0, 0, 128, 63, 248, 223, 106, 191, 236, 250, 45, 191, 100, 59, 151, 191, 0, 0, 128, 63, 173, 47, 106, 191, 237, 13, 46, 191, 199,                                                                              
  ...
  0, 0, 128, 63]
  is_dense: True
  ---

I add point cloud2 and set the topic, but my rviz is still no message comein.

How to fix it?
Thank you~
=================================
Here is all my topics:
   sam@sam:~/code/ros/sam_pcl/sam_ransac$ rostopic list
  /cloud_pcd
  /initialpose
  /move_base_simple/goal
  /output_plane
  /rosout
  /rosout_agg
  /tf
  sam@sam:~/code/ros/sam_pcl/sam_ransac$

And when I close rviz, it becomes:
  sam@sam:~/code/ros/sam_pcl/sam_ransac$ rostopic list
  /cloud_pcd
  /output_plane
  /rosout
  /rosout_agg
  sam@sam:~/code/ros/sam_pcl/sam_ransac$

Originally posted by sam on ROS Answers with karma: 2570 on 2012-08-17
Post score: 0

A:

The fixed frame represents the reference-frame for your coordinate system which for many robotic applications is the map frame. However if you only run a Kinect and don't have a transform between your Kinect-frame and your map-frame available, RVIZ does not know where to display the data from your Kinect and thus won't display anything. So you can

Just set the fixed frame to your Kinect-frame (I can't remember the name, but you can choose from a list)

or send a static tf-transform that determines the transform from your map-frame to the frame of your Kinect. You can do this by using a tf static transform publisher ( http://www.ros.org/wiki/tf#static_transform_publisher )

Originally posted by michikarg with karma: 2108 on 2012-08-17
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by sam on 2012-08-17:
I don't use kinect. I only publish Point Cloud2 topic which using point cloud coverting from PCL's  to ROS.
Comment by michikarg on 2012-08-17:
Okay, i have actually never used PCL, but basically you will have to provide RVIZ with the frame that your data is in reference to. So in your case, setting the Fixed frame to /base_link should enable you to see the Pointcloud...
Comment by sam on 2012-08-17:
I don't have base_link either. I haven't start gazebo with pr2. Why I need the unrelated nodes to show point cloud on Rviz? Thank you~
Comment by michikarg on 2012-08-17:
The header of your pointclout2-message explicitly specifies that you want the frame /base_link as reference-frame for your data. So this frame will have to exist, otherwise RVIZ will not know where to display the data...Did you try to set Fixed_frame and target_frame to /base_link
Comment by sam on 2012-08-17:
I try to change that. But it doesn't work. I have edited my original post to show all topics I have. How to solve it? Thank you~


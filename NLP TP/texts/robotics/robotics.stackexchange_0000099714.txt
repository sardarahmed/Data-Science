Q:

What does 'nan' mean in lidar's scan data?

Hello, I'm working with the ROS kinetic of Ubuntu 16.04.
I'm also using Hokuyo's lidar sensor and recently realized that there are some strange data in the returned data of /scan topic.
The nan data, which stands for 'not a number', is that; if so, what is the 'nan'?
Although I've worked with a lidar sensor for over 2 years, I have no idea about when the nan data is created.
What's the nan in this? It doesn't matter when it comes to the g-mapping or other packages, but I need to do another work whit this data and nan makes no sense.
If someone familiar with lidar's range data is here, would you please give me some help?
The below is the /scan data including nan.
header: 
  seq: 6147
  stamp: 
    secs: 1627028918
    nsecs: 664962817
  frame_id: "base_footprint"
angle_min: -2.07394194603
angle_max: 2.07394218445
angle_increment: 0.00613592332229
time_increment: 2.71259814326e-05
scan_time: 0.0277769993991
range_min: 0.019999999553
range_max: 5.59999990463
ranges: [nan, nan, 2.802000045776367, 2.7309999465942383, 2.7090001106262207, 2.677000045776367,...]

Thanks :)

(add)
According to this page, I think the nan data might mean the max_range value. Is it right?

Originally posted by kane_choigo on ROS Answers with karma: 195 on 2021-07-23
Post score: 1

Original comments
Comment by Ktysai on 2021-07-23:
It's corect! There is no obstacle at the maximum reading range.
BTW, you've tested this lidar only indoor?
Comment by kane_choigo on 2021-07-23:
@Ktysai Thanks for the kind comment. Yeah, I've never used it on the road..
Comment by Lennart on 2021-07-25:
Your linked questions (or the best answer to that) speaks from two modes ( urg_node or the hokuyo_node). Which mode are you using? Which error code do you get?

A:

If the driver follows REP-117, NAN means "erroneous, invalid or missing measurement". While not every ROS driver follows REP-117, most do.

Originally posted by fergs with karma: 13902 on 2021-07-25
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by kane_choigo on 2021-07-25:
Yeah, you're right. I just modified those nan data to be the max_range value, and it worked. Although all the nan doesn't mean out of range, it would be up to the user :)


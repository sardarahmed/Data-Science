Q:

stereo_image_proc : Assertion `left_.fx() == right_.fx()'

I am trying to get stereo_image_proc running.
I have two externally triggered Prosilica GC655C cameras. The camera drivers are working, so I can retrieve single image views without any problem. However trying to view the disparity image with disparity viewer or stereo view with stereo viewer fails.
rosrun image_view disparity_view image:=prosilica/disparity
fails with the error:
stereo_image_proc: /tmp/buildd/ros-diamondback-vision-opencv-1.4.3/debian/ros-diamondback-vision-opencv/opt/ros/diamondback/stacks/vision_opencv/image_geometry/src/stereo_camera_model.cpp:29: bool image_geometry::StereoCameraModel::fromCameraInfo(const sensor_msgs::CameraInfo&, const sensor_msgs::CameraInfo&): Assertion `left_.fx() == right_.fx()' failed.
for me it's very strange why the camera parameters left_.fx() and right_.fx() must be equal?! Since I use two cameras, (each camera calibrated as mono camera was working) the two parameters differ slightly.
Does someone has an idea why the parameters have to be equal?

Originally posted by Daniel Eberli on ROS Answers with karma: 91 on 2011-08-24
Post score: 1

A:

found  the solution by myself.
i did not read properly the comments about camera calibration. in
rosrun camera_calibration cameracalibrator.py [..]
i used _approximate_sync:=True instead of --approximate 0.01. Doing calibration properly will also make the stereo_image_proc work properly.

Originally posted by Daniel Eberli with karma: 91 on 2011-08-25
This answer was ACCEPTED on the original site
Post score: 3


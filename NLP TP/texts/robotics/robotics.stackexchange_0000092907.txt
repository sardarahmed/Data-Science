Q:

Cannot compile a msg file

I want to compile a ros2 msg file and my packages.xml looks like this:
<?xml version="1.0"?>
<?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?>
<package format="3">
  <name>rtabmap_ros</name>
  <version>0.0.0</version>
  <description>TODO: Package description</description>
  <maintainer email="abyl.ikhsanov@gmail.com">abyl</maintainer>
  <license>TODO: License declaration</license>

  <buildtool_depend>ament_cmake</buildtool_depend>
  <buildtool_depend>rosidl_default_generators</buildtool_depend>

  <depend>rclcpp</depend>
  <depend>builtin_interfaces</depend>
  <depend>rosidl_default_runtime</depend>
  <depemd>std_msgs</depemd>

  <test_depend>ament_lint_auto</test_depend>
  <test_depend>ament_lint_common</test_depend>

  <export>
    <build_type>ament_cmake</build_type>
  </export>
</package>

And part of my CMakeLists:
find_package(ament_cmake REQUIRED)
find_package(rclcpp)
find_package(cv_bridge)
find_package(sensor_msgs)
find_package(builtin_interfaces REQUIRED)
find_package(rosidl_default_generators REQUIRED)

set(msg_files
    "msg/Info.msg")

rosidl_generate_interfaces(${PROJECT_NAME}
  ${msg_files}
  DEPENDENCIES builtin_interfaces std_msgs geometry_msgs
  ADD_LINTER_TESTS
)

But in the end I am getting this error:
 Error processing 'int32 refId' of 'rtabmap_ros/Info': 'the field name
  'refId' is not valid'

Where the Info.msg is:
Header header

int32 refId
int32 loopClosureId
int32 proximityDetectionId

Also, I have tried to look for the pcl_ros in ROS2 but did not find anything. Any idea how people deal with it in ROS2?

Originally posted by EdwardNur on ROS Answers with karma: 115 on 2019-08-10
Post score: 0

Original comments
Comment by ct2034 on 2019-08-10:
Please try lower case names for the message parameters
Comment by EdwardNur on 2019-08-10:
@ct2034 if this works, that is a big one bullshit in ROS2
Comment by EdwardNur on 2019-08-10:
@ct2034, yeap, it worked. I think I should go for a paid alternative, that student project is a non sense
Comment by ct2034 on 2019-08-10:
Does your student project make no sense? Sorry to hear that but I guess we can not help you with that.
Comment by EdwardNur on 2019-08-10:
@ct2034 Yeah I know, just raging on my student project...

A:

Field names are required to be lowercase alphanumeric with underscores to be able to generate into all the different languages.
Full details are at http://design.ros2.org/articles/legacy_interface_definition.html

Originally posted by tfoote with karma: 58457 on 2019-08-10
This answer was ACCEPTED on the original site
Post score: 2


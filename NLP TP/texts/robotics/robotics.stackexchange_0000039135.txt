Q:

How to compute disparity on a specific region of interest only?

Is is possible, using stereo_image_proc, to compute disparities on a specific region of interest only?
The setup is as follow:

we detect a color blob in an image
we use stereo to determine its 3d position

It would greatly improve performances if we could just run the stereo on a subwindow. Is there a way to tell stereo_image_proc to do so?
We could probably just pass to stereo_image_proc a new pair of images matching the zone we want but it would be cumbersome to recompute the appropriate camera parameters and crop the images by hand...

Originally posted by Thomas on ROS Answers with karma: 4478 on 2012-03-29
Post score: 1

A:

AFAIK the parameter roi in CameraInfo.msg can be used to choose a region of interest. Try republishing a camera info with the roi set to your object region. And use that to feed stereo_image_proc. If you just need some sampled 3D points you should use StereoCameraModel::projectDisparityTo3d. This is way faster than constructing a whole disparity image.

Originally posted by Stephan with karma: 1924 on 2012-03-30
This answer was ACCEPTED on the original site
Post score: 1


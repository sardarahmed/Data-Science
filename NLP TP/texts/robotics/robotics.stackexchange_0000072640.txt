Q:

How to get gazebo topic using c++ and ros?

Hi, I am using ROS, gazebo and c++ together to perform some tasks. In gazebo I launched "turtlebot_world.launch. It published " /gazebo/default/pose/info " which gives the information of robots position in gazebo. How can I take this topic in c++, does anyone knows ?
Also I have the function below but doesn't take any information or topic:
void subscribe_gazebo_pose()
{
    ros::NodeHandle ndh;
    ros::ServiceClient gms_c = ndh.serviceClient<gazebo_msgs::GetModelState>("gazebo/default/pose/info");
    //gms_c.waitForExistence();
    gazebo_msgs::GetModelState getmodelstate;
    gms_c.call(getmodelstate);
    
    geometry_msgs::Pose pose;
    pose.position.x = getmodelstate.response.pose.position.x;
    pose.position.y = getmodelstate.response.pose.position.y;
    cout << pose.position.x << endl;
}

Originally posted by zuygar on ROS Answers with karma: 19 on 2016-03-09
Post score: 0

A:

I think you might be confusing message topics with services. is /gazebo/default/pose/info a topic, can you see if when you run "rostopic list" from a command line?
The code you have posted above attaches to a service provider not a message topic.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2016-03-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by zuygar on 2016-03-10:
I can't see any topic like above running "rostopic list". But if I run "gztopic list" I can see some topics like this:
/gazebo/default/pose/local/info
/gazebo/default/pose/info
/gazebo/default/gui
/gazebo/default/response
/gazebo/default/world_stats
/gazebo/default/selection


Q:

C++ can not build simple test program after update (Ubuntu 22.04/ROS 2 Rolling)

I just updated my Ubuntu 22.04 installation with ROS 2 rolling on it and now when I try to rebuild my ROS packages I get an error message that it can't compile a simple test program:
CMake Error at /home/john/.local/lib/python3.10/site-packages/cmake/data/share/cmake-3.27/Modules/CMakeTestCXXCompiler.cmake:60 (message):
 The C++ compiler

   "/usr/bin/c++"

 is not able to compile a simple test program.

 It fails with the following output:

   Change Dir: '/home/john/floyd2_ws/build/moveit_msgs/CMakeFiles/CMakeScratch/TryCompile-cr7niU'
   
   Run Build Command(s): /home/john/.local/lib/python3.10/site-packages/cmake/data/bin/cmake -E env VERBOSE=1 /usr/bin/gmake -f Makefile cmTC_00a33/fast
   /usr/bin/gmake  -f CMakeFiles/cmTC_00a33.dir/build.make CMakeFiles/cmTC_00a33.dir/build
   gmake[1]: Entering directory '/home/john/floyd2_ws/build/moveit_msgs/CMakeFiles/CMakeScratch/TryCompile-cr7niU'
   Building CXX object CMakeFiles/cmTC_00a33.dir/testCXXCompiler.cxx.o
   /usr/bin/c++   w  -o CMakeFiles/cmTC_00a33.dir/testCXXCompiler.cxx.o -c /home/john/floyd2_ws/build/moveit_msgs/CMakeFiles/CMakeScratch/TryCompile-cr7niU/testCXXCompiler.cxx
   c++: warning: w: linker input file unused because linking not done
   c++: error: w: linker input file not found: No such file or directory
   gmake[1]: *** [CMakeFiles/cmTC_00a33.dir/build.make:78: CMakeFiles/cmTC_00a33.dir/testCXXCompiler.cxx.o] Error 1
   gmake[1]: *** Deleting file 'CMakeFiles/cmTC_00a33.dir/testCXXCompiler.cxx.o'
   gmake[1]: Leaving directory '/home/john/floyd2_ws/build/moveit_msgs/CMakeFiles/CMakeScratch/TryCompile-cr7niU'
   gmake: *** [Makefile:127: cmTC_00a33/fast] Error 2
   
   

 

 CMake will not be able to correctly generate this project.
Call Stack (most recent call first):
 CMakeLists.txt:2 (project)

I'm at a complete loss as to what to do.  I tried removing the build directory but I still get the error.

A:

Make sure your flags are correct.  In my case, I used DCMAKE_CXX_FLAGS="w" and not DCMAKE_CXX_FLAGS="-w".  As Tully pointed out, this could have been resolved by posting the command I used to cause the error.  The "w" in the error message kept glaring at me as if it was telling me "hey, dummy, look here."


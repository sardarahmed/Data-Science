Q:

bag a kinect for more than 30 seconds

When I use openni_camera to broadcast and then bag the kinect, at ~ 30 seconds the recording chokes for seconds, and large gaps are present in rxbag inspection.
I am running Ubuntu 10.04 with 16G of RAM and a quad core. This behavior was also seen on a machine running 10.10, with SSD hard drive, an i7 processor, and 16G RAM.
Have others experienced this phenomenon? I am wondering if it isn't a Linux issue...

Originally posted by phil0stine on ROS Answers with karma: 682 on 2011-07-13
Post score: 2

Original comments
Comment by darshb34 on 2020-05-13:
https://answers.ros.org/question/98611/rosbag-record-with-kinect-facing-a-disk-memory-space-problem/

A:

I ran into similar issues when trying to record Kinect data. I'm not sure what's causing it - I assumed that the data was just too much. 10 seconds of data ended up in the gigabyte range if I recall correctly.
I ended up switching to the openni_camera_unstable driver, which is nodelet based. You can record the data at the image level, before it gets expanded to a 3D PointCloud beast.
The launch files (when I last looked) were a little confusing. I created a working set of record / playback launch files for that driver, which I can share if there's interest.
EDIT:
Here are some launch files for the unstable driver. They are mostly based on the existing launch files, but I've broken them up to allow modular recording:
http://robotics.ccny.cuny.edu/data/kinect/launch_modular/
You need to place the launch_modular folder in the openni_camera_unstable package.
There are 3 top-level files you can use directly:

openni_live.launch: launches the driver, publishing live data
openni_record.launch: launches the driver, publishing live data, and recording part of the data
openni_play.launch: launches rosbag, processes the data and publishes it.

openni_record assumes you have ~/ros/bags directory already created. Bags are placed there. To play the correct bag, you need to edit the include/openni_play_bag.launch file:
<arg name="BAG_NAME" value="kinect.bag"/>

with the name of the bag you want, assuming it's in the ~ros/bags directory.

Originally posted by Ivan Dryanovski with karma: 4954 on 2011-07-13
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by phil0stine on 2011-07-14:
Thanks Ivan, your launch files worked out of the box. The issue is resolved, although I still wonder what the root of the problem was.
Comment by phil0stine on 2011-07-13:
Thanks, I will test the new driver later today and I welcome any additions you might have made (I'm sure many others would as well).


Q:

How to publish a pose in quaternion?

I have all the values for point(x, y, z) and quaternion (w, qx, qy, qz). Do I just make a dict and publish it as a Pose topic?

Originally posted by paul_shuvo on ROS Answers with karma: 45 on 2019-02-27
Post score: 0

A:

You need to create a publisher and publish a geometry_msgs/Pose message.
#!/usr/bin/env python
import rospy
from geometry_msgs.msg import Pose

def publisher():
    pub = rospy.Publisher('pose', Pose, queue_size=1)
    rospy.init_node('pose_publisher', anonymous=True)
    rate = rospy.Rate(2) # Hz
    while not rospy.is_shutdown():
        p = Pose()
        p.position.x = 0.5
        p.position.y = -0.1
        p.position.z = 1.0
        # Make sure the quaternion is valid and normalized
        p.orientation.x = 0.0
        p.orientation.y = 0.0
        p.orientation.z = 0.0
        p.orientation.w = 1.0
        pub.publish(p)
        rate.sleep()

if __name__ == '__main__':
    try:
        publisher()
    except rospy:
        pass

Originally posted by VictorLamoine with karma: 1505 on 2019-02-27
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by gvdhoorn on 2019-02-27:
To add: see rospy/Overview/Messages for some other styles of msg initialisation in rospy.
Comment by Farid on 2019-12-12:
you should edit your answer to -->> p.orientation.y = 0.0 and p.orientation.z = 0.0


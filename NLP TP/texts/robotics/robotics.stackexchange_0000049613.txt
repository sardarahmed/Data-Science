Q:

How to assign array to a parameter with rosrun?

footprint: [[0.4, 0.0], [-0.16, -0.22], [-0.18, 0.35]]
If I want to add this footprint parameter with rosrun like below:
rosrun move_base move_base __name:=move_base_node _local_costmap/footprint:=[[0.4,0.0],[-0.16,-0.22],[-0.18,0.35]]
footprint becomes a string.
What is the right syntax to assign integer array in footprint parameter?

Originally posted by Tareq Haque on ROS Answers with karma: 11 on 2013-03-21
Post score: 1

A:

You use standard YAML syntax for rosrun paramter assignment.
That being said, I was able to reproduce the behavior you're seeing, and also got some interesting results.  Perhaps this is a bug in rosrun?  See below:
rosrun rospy_tutorials talker __name:=talker _test:=[0,1,2]
rosparam get /talker/test
    [0, 1, 2]

rosrun roscpp_tutorials talker __name:=talker _test:=[0,1,2]
rosparam get /talker/test
    '[0,1,2]'

It appears as if parameters are correctly YAML-parsed when using rosrun with a python node, but not with a cpp node.  I tried all sorts of different variations on the YAML bit.  Using a scalar number works, but all other more-complex YAML constructs (sequences, maps, etc.) all seem to parse as plain strings.
Does anyone have a correct formulation, or is this really a rosrun bug?  I was able to reproduce the same behavior in both groovy and fuerte (current debian packages).

Originally posted by Jeremy Zoss with karma: 4976 on 2013-03-21
This answer was ACCEPTED on the original site
Post score: 3


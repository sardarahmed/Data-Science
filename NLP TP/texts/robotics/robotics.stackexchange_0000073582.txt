Q:

rostopic pub - {stamp:now} vs --rate

I would like publish a continuous flow messages on a topic from the terminal.
In order to do that I use the --rate argument of the rostopic tool. However my message type contains a header field that I would like to fill automatically.
The ros documentation says that you can fill the header stamp automatically (ref) in this way:

$ rostopic pub my_topic my_msgs/StampedMsg '{header: auto}'

However, it looks that the timestamp field does not update when it is used with the --rate parameter. Instead it remains constant with the stamp of the first message of the flow.

$ rostopic pub my_topic my_msgs/StampedMsg '{header: auto}' --rate 5

Is there any way to use rostopic so that the stamp field is automatically filled and dynamically updated?

Originally posted by Pablo IÃ±igo Blasco on ROS Answers with karma: 2982 on 2016-04-26
Post score: 3

A:

In the link 'ros_comm#55' of the post of Martin, there is the solution.
Add -s option in the rostopic pub command line.
rostopic pub my_topic my_msgs/StampedMsg '{header: auto}' --rate 5 -s

Originally posted by bigbellmercy with karma: 86 on 2019-02-27
This answer was ACCEPTED on the original site
Post score: 2


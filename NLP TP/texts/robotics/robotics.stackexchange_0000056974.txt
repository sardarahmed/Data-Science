Q:

sensor_msgs/JointState in cpp

When I try set sensor_msgs/JointState and publish it
ros::Publisher joint_msg_pub = node.advertise<sensor_msgs::JointState>("leg_joints_states", 1);
sensor_msgs::JointState joint_msg;
joint_msg.name[0] = "coxa_joint_r1";
joint_msg.position[0] = q_out(0);
joint_msg_pub.publish(joint_msg);

But when I launch node I get segmentation fault.
I incorrectly set the value in the message?

Originally posted by tuuzdu on ROS Answers with karma: 85 on 2014-01-31
Post score: 0

A:

This code example won't compile.

You are setting the first elements of the vectors, but there are 0 elements in a new message that you create. Use .push_back instead of setting the values to add new values.

Originally posted by dornhege with karma: 31395 on 2014-01-31
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tuuzdu on 2014-01-31:\

Yes, I cut a lot of code :)
Thank you! .push_back is solution of the problem

Comment by ghanta1996 on 2017-04-02:
could you post the corrected code. please


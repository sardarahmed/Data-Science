Q:

Is it possible to launch multiple nodes from one python script?

I see that rospy.init_node() can only be called once per process in the official documentation on nodes.
I'm trying to write a script that allows for two-way communication (one message publisher and one message subscriber) to interact with a single object. If I have to keep the publisher in one script and the subscriber in another, I'll have a bit of a mess on my hands if I want to interact with the single object.
Is there a simple way of spawning multiple nodes (one talker, one listener, in this case) from one single process?

Originally posted by nckswt on ROS Answers with karma: 539 on 2014-06-24
Post score: 0

A:

I don't think so.
Roslaunch is what is used to launch multiple nodes. There was a package called roslaunch_caller to launch nodes programatically but it is not supported and its recommended not to use.
perhaps a reevaluation of your requirements is in order as it would be much simpler to pass information within a process using traditional programming concepts, rather than using publishers and subscribers via TCP.
Update
You can run launch files from python using a cmd line package such as subprocess. To change your launch environment you can add arguments to your launch file which can be used as parameters that can be accessed by nodes, and specified by the script.
e.g.
ret = sp.call('roslaunch pkg_name launchfile_name.launch arg1:="{}" arg2:={} arg3:="{} {} {} {}" arg4:="{}"'.format(param1, param2, param3, param4, param5, param6, param7), shell=True)  

using shell=True is required to import the ROS_WORKSPACE setup, but as noted in the subprocess documentation it can be a security hazard.

Originally posted by PeterMilani with karma: 1493 on 2014-06-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by nckswt on 2014-06-24:
Hmm, that'll demand a near-complete rework of my system. I assume that launching nodes in individual threads wouldn't work either. I'll keep looking into it and see if I can find an answer. Thanks.
Comment by JaimeOrellana on 2017-07-11:
Is there still no solution to this problem in 2017?


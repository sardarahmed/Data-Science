Q:

Release 3rd party tarball with bloom 0.3.5

I am creating release repositories for ceres-solver and it's dependencies glog and gflags.
For glog I want to use the tarball as it has version information, the bare SVN repository does not seem to have tags.
I configured the release repository like this.
Running git-bloom-release groovy gives me the following error:
$ git-bloom-release groovy
Processing release track settings for 'groovy'
What version are you releasing (version should normally be MAJOR.MINOR.PATCH)? 0.3.3

Executing release track 'groovy'
==> bloom-export-upstream https://google-glog.googlecode.com/files/glog-0.3.3.tar.gz tar --tag 0.3.3 --display-uri https://google-glog.googlecode.com/files/glog-0.3.3.tar.gz --name upstream --output-dir /tmp/tmpZgzPa2
usage: bloom-export-upstream [-h] [--tag TAG] [--output-dir OUTPUT_DIR]
                             [--display-uri DISPLAY_URI] [--name NAME] [-d]
                             [--version] [--unsafe]
                             uri {git,hg,svn}
bloom-export-upstream: error: argument type: invalid choice: 'tar' (choose from 'git', 'hg', 'svn')
<== Error running command 'bloom-export-upstream https://google-glog.googlecode.com/files/glog-0.3.3.tar.gz tar --tag 0.3.3 --display-uri https://google-glog.googlecode.com/files/glog-0.3.3.tar.gz --name upstream --output-dir /tmp/tmpZgzPa2'

Is the tarball option not fully supported by bloom yet?

Originally posted by Stephan on ROS Answers with karma: 1924 on 2013-05-29
Post score: 1

Original comments
Comment by Stephan on 2013-05-29:
Done: https://github.com/ros-infrastructure/bloom/issues/149
Comment by William on 2013-05-30:
I'll have a look at this as soon as possible. In the mean time you can just add the contents of the tarball to a git repo on github to work around this.
Comment by Stephan on 2013-05-30:
@William great, thanks!

A:

Yes, this looks like a bug in bloom, I cannot remember the state of this feature. I think it is implemented, but I might have just messed up the command line arguments parsing. Can you open an issue on the issue tracker: https://github.com/ros-infrastructure/bloom/issues

Originally posted by William with karma: 17335 on 2013-05-29
This answer was ACCEPTED on the original site
Post score: 0


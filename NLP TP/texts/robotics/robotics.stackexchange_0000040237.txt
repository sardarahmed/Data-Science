Q:

Dynamixel_controller problem

I am trying to control a dynamixel ax-12 servo by using ROS, I followed the tutorials and the answer to this same problem here: http://answers.ros.org/question/12336/dynamixel-controller-problems
When I start the tilt controller, the program hangs here:
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in  ignored
process[tilt_controller_spawner-1]: started with pid [10077]
[INFO] [WallTime: 1336411930.934344] /dev/ttyUSB0 controller_spawner: waiting for controller_manager dynamixel_controller_manager to startup in global namespace...

I am not sure what the AttributeError is or how to fix this problem.
I have less than 20 karma so I can not upload my launch files, I will include them in the text:
controller_manager.launch (I deleted the "<" and ">" symbols in order to show the full code) :

launch
    node name="dynamixel_manager" pkg="dynamixel_controllers" type="controller_manager.py" required="true" output="screen"
        rosparam
            namespace: dynamixel_controller_manager
            serial_ports:
                dxl_tty1:
                    port_name: "/dev/ttyUSB0"
                    baud_rate: 1000000
                    min_motor_id: 5
                    max_motor_id: 6
                    update_rate: 10
        /rosparam
    /node
/launch

start_tilt_controller.launch :

launch
    !-- Start tilt joint controller --
    rosparam file="$(find dynamixeltutorials)/tilt.yaml" command="load"/
    node name="tilt_controller_spawner" pkg="dynamixel_controllers" type="controller_spawner.py"
          args="--manager=dynamixel_controller_manager
        --port /dev/ttyUSB0
                tilt_controller"
          output="screen"/
/launch

tilt.yaml :

tilt_controller:
    controller:
        package: dynamixel_controllers
        module: joint_position_controller
        type: JointPositionController
    joint_name: tilt_joint
    joint_speed: 1.17
    motor:
        id: 5
        init: 512
        min: 0
        max: 1023

Any help with this problem will be appreciated.

Originally posted by rosnovice on ROS Answers with karma: 3 on 2012-05-07
Post score: 0

Original comments
Comment by rosnovice on 2012-05-08:
Thank you both so much!

A:

It looks like you have problem in your start_tilt_controller.launch file, it should look like the following:
<launch>
    !-- Start tilt joint controller --
    <rosparam file="$(find dynamixeltutorials)/tilt.yaml" command="load"/>
    <node name="tilt_controller_spawner" pkg="dynamixel_controllers" type="controller_spawner.py"
          args="--manager=dynamixel_controller_manager
                --port=dxl_tty1
                tilt_controller"
          output="screen"/>
</launch>

Note, that you have to specify the nickname you gave to your serial port not the actual device name (dxl_tty1 vs /dev/ttyUSB0).

Originally posted by arebgun with karma: 2121 on 2012-05-07
This answer was ACCEPTED on the original site
Post score: 3


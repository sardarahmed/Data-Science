Q:

Cannot open exported URDF from solidworks student

Hi, i'm pretty new to this kind of software and also to linux itself. I downloaded a solidworks assembly of an 6-axis epson robot from the epson site. I changed some mates and added all nececary axes. But i cannot open the exported urdf in rviz, moveit!,...
I don't know if it's because it's really a bug in the urdf file, or just because i open it in the wrong environment (because i had to copy it from my microsoft OS to my virtualBox ubuntu OS via shared folders). If someone could tell me if you could open this files on your pc? So I would now if there's a bug in the code, or because i just don't open it in the right environment, that would be really helpfull!
the error I get when I try to open a single exported part in moveit! is:
================================================================================
REQUIRED process [moveit_setup_assistant-2] has died!
process has died [pid 18783, exit code -11, cmd /home/yannik/moveit/devel/lib/mo
veit_setup_assistant/moveit_setup_assistant __name:=moveit_setup_assistant __log
:=/home/yannik/.ros/log/5d837b80-5f3e-11e3-9e91-080027c27847/moveit_setup_assist
ant-2.log].
log file: /home/yannik/.ros/log/5d837b80-5f3e-11e3-9e91-080027c27847/moveit_setu
p_assistant-2*.log
Initialising shutdown!
================================================================================

If i try to open the full assembly in moveit, it also is an exit code -11. If i try to open this assembly in rviz, i get an exit code -1
https://drive.google.com/folderview?id=0B02rl5MtJ-dZdjdwMUtCcTRVVjQ&usp=sharing
There are two zip-files in here. The one C3_ARM1 is one part converted. The other one, Test3URDF, is the complete assembly of the epson robot. Thank you for taking the time to look into this!

Originally posted by Yannik_K on ROS Answers with karma: 30 on 2013-12-04
Post score: 1

Original comments
Comment by gvdhoorn on 2013-12-05:
Could you perhaps copy/paste some of the console output you get? I cannot open it is rather vague, so if you could provide some more details as to what fails for you, we might be able to figure something out. The solidworks_urdf_exporter can be somewhat finicky, but most of the times it works.
Comment by gvdhoorn on 2013-12-06:
@Yannik_K: could you update your original question with this information? It's hard to read as a comment. Apart from that, without access to the URDF, this is probably going to be hard to debug. -11 == segmentation fault, so the moveit_setup_assistant.log will probably be empty (if it exists).
Comment by gvdhoorn on 2013-12-07:
@Yannik_K: if you make the URDF available somewhere, I'd be willing to take a look at it. Basically the whole package the solidworks_urdf_exporter plugin created for you.
Comment by gvdhoorn on 2013-12-08:
@Yannik_K: I've checked your zip-files. All your meshes (*.stl) are 80-byte files, which is probably worth checking out. How exactly did you convert the SolidWorks assembly to a URDF?
Comment by Yannik_K on 2013-12-09:
@gvdhoorn First, i had to add an axis to every part except for the base and it's child link. Because there were none available for them in the window wich comes up after i clicked the 'preview and export' button.
Second, for those same parts, i had to change the joint type to revolute, because they were set to fixed.
Alse, when i press the 'preview and export' button, i see some errors flashing in the solidworks window. It says 'over defined' but i cannot get a detailed list of those errors. Do you need more information about exporting it to URDF?
Comment by gvdhoorn on 2013-12-09:
@Yannik_K: in short: your export failed, all STLs are empty files. Export of a single part should work, regardless of axes, mates etc. As for the axes, just set to 'none' for now. Joint type should be set in first dialogue, before 'preview and export'. Which version of plugin are you using?
Comment by Yannik_K on 2013-12-09:
I am running the newest version, v1.2.2. I tried to the base link of the robot, but the mesh is still empty.
Comment by gvdhoorn on 2013-12-09:
SolidWorks version (32, 64bit) / language? Could you try to see if normal stl export does work? I've had some success using an older version of the plugin (1.1.0 fi). They can all be downloaded from the bitbucket site.
Comment by Yannik_K on 2013-12-10:
I'm running the 64-bit version. I tried to export STL files, but still an error. Can you give a link to the v1.1.0 version so i can try that? I only find v1.2.0 and v1.2.1.
Comment by gvdhoorn on 2013-12-10:
@Yannik_K: so manually exporting STLs using built-in SolidWorks functionality (NOT the plugin) also gets you 80-byte files? That would point to something other than the plugin. As to the older versions: search for commits mentioning 'installer' on the bitbucket project page (wiki has link).
Comment by Yannik_K on 2013-12-10:
Sorry I missunderstood you :) This is a issue i haven't had in mind, i'm running the student version of solidworks 2013, and I see i can't use the 'save as' function to export it to STL. These are the only formats i can save it to:

Part: .prt / .sldprt /
Lib Feat Part: .sldlfp /
Part Pemplate: .prtdotv /
eDrawing: .eprt

Comment by gvdhoorn on 2013-12-10:
Right, that might actually be the problem then. I've seen other reports of incompatibilities with the student version.
PS: could you update the title of your question to include the 'student edition' bit?
Comment by Yannik_K on 2013-12-10:
Thank you again for looking in to this. I will try to get a full version of solidworks in the next days and run some tests again. I will keep this updated as soon as i have got the new results.
Comment by Yannik_K on 2013-12-12:
@gvdhoorn : Here i am again. I managed to get the full version of solidworks 2014. I am able now to save my parts as STL files. I tried to export a part again and saw that the mesh is not empty now, but I am still not able to open it in moveit. I'll add the folder to google drive, named C3_BASE
Comment by gvdhoorn on 2013-12-12:
"still not able to open it in moveit": I assume you mean the setup assisant? And it still crashes? You might want to open a new question, as you no longer use the student edition. Your meshes are fine now, and I could actually load it in RViz.
Comment by Yannik_K on 2013-12-12:
This might sound silly to yo, but i'm even not able to open this in rviz (without a launch file?)
Comment by gvdhoorn on 2013-12-12:
Just to make sure: the setup assistant opens URDF and XACRO. If I browse to your pkg and load C3_BASE_S.URDF it works (or it loads). As for RViz: the urdf_tutorials pkg should help, but is slightly broken right now. Otherwise, do: roslaunch urdf_tutorials display.launch model:=/path/to/your.urdf

A:

As an answer to your original question: the MoveIt setup assistant and rviz most likely crash because the STL files your URDF is referring to are only 80-bytes (most likely only STL header) and contain only '\0' bytes.
This could be caused by the fact that you are using the student version of SolidWorks, which has been known to be incompatible with the exporter plugin. See brawner/sw2urdf/issues on bitbucket for a list of known issues.

Originally posted by gvdhoorn with karma: 86574 on 2013-12-09
This answer was ACCEPTED on the original site
Post score: 1


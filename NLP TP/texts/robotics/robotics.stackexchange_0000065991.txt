Q:

Ubuntu 14.04.2 unmet dependencies (similar for 14.04.3)

I made a fresh install of Ubuntu 14.04.2 and I cannot install ros-indigo-desktop-full, because I get these errors:
The following packages have unmet dependencies:
 libcheese-gtk23 : Depends: libclutter-gtk-1.0-0 (>= 0.91.8) but it is not going to be installed
                   Depends: libcogl15 (>= 1.15.8) but it is not going to be installed
 libcheese7 : Depends: libclutter-gst-2.0-0 (>= 0.10.0) but it is not going to be installed
              Depends: gstreamer1.0-clutter but it is not going to be installed
 libclutter-1.0-0 : Depends: libcogl-pango15 (>= 1.15.8) but it is not going to be installed
                    Depends: libcogl15 (>= 1.15.8) but it is not going to be installed

Tried aptitude, that gives me these conflicts:
The following packages have unmet dependencies:
 libfltk1.1-dev : Conflicts: libfltk-dev which is a virtual package.
 libgl1-mesa-dri-lts-utopic : Conflicts: libgl1-mesa-dri but 10.1.3-0ubuntu0.3 is to be installed.
 libgl1-mesa-glx-lts-utopic : Conflicts: libgl1 which is a virtual package.
                              Conflicts: libgl1-mesa-glx but 10.1.3-0ubuntu0.3 is to be installed.
 xserver-xorg-lts-utopic : Conflicts: libgl1-mesa-dri (>= 0~) but 10.1.3-0ubuntu0.3 is to be installed.
                           Conflicts: libgl1-mesa-glx (>= 0~) but 10.1.3-0ubuntu0.3 is to be installed.
                           Conflicts: libglapi-mesa (>= 0~) but 10.1.3-0ubuntu0.3 is to be installed.
 libfltk1.3-dev : Conflicts: libfltk-dev which is a virtual package.
 libgl1-mesa-glx : Conflicts: libgl1 which is a virtual package.
 libglapi-mesa-lts-utopic : Conflicts: libglapi-mesa but 10.1.3-0ubuntu0.3 is to be installed.

Anyone has a suggestion for these errors? Should I try a new reinstall and hope for the best or is it a known error?

Originally posted by NLZ on ROS Answers with karma: 73 on 2015-02-23
Post score: 7

Original comments
Comment by tfoote on 2015-02-23:
This looks like a duplicate: http://answers.ros.org/question/202829/install-indigo-to-ubuntu-14042testing/
Comment by Nap on 2015-02-24:
Using APT, I'm getting the same error as the OP, and the error's next line says: ros-indigo-desktop-full depends on ros-indigo-desktop
I'm running my Ubuntu on a MacBook Pro 15" Retina 2014.
@tfoote:  the details of that question are different.
Comment by Nap on 2015-02-24:
I tried installing each of the dependencies mentioned but received the following in my terminal:
libcheese-gtk23 is already the newest version. libcheese-gtk23 set to manually installed. 0 to upgrade, 0 to newly install, 0 to remove and 0 not to upgrade.
Comment by Nap on 2015-02-24:
I tried building from Source but after issuing the rosdep install ... command, it returned:
Comment by Nap on 2015-02-24:
E: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages. ERROR: the following rosdeps failed to install apt: command [sudo -H apt-get install -y libfltk1.1-dev] failed
Comment by Nap on 2015-02-24:
When I tried to install libclutter-gtk-1.0-0 I get:
libclutter-gtk-1.0-0 is already the newest version. 0 to upgrade, 0 to newly install, 0 to remove and 0 not to upgrade.
Comment by tfoote on 2015-02-24:
I believe the underlying issue is that the lts-utopic mesa drivers are conflicting with the standard mesa drivers. Which is the same issue as the other question. Can you see what information you can get from: sudo apt-get install -o Debug::pkgProblemResolver=yes 
Comment by Nap on 2015-02-24:
I need to post this in an answer field (not enough room in the comments section, or formatting options).
Comment by salto231 on 2015-02-24:
I've encountered exactly the same problem with fresh installed ubuntu 14.04.2, and have done the requested command.
sudo apt-get install -o Debug::pkgProblemResolver=yes libcheese-gtk23
Reading package lists... Done
Building dependency tree
Reading state information... Done
Comment by salto231 on 2015-02-24:
Starting pkgProblemResolver with broken count: 0
Starting 2 pkgProblemResolver with broken count: 0
Done
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Comment by Nap on 2015-02-24:
I tried installing Hydro from source but got the same error!  Hmmmm.
@tfoote:  Can you interpret the output I posted belew?  I having trouble determining what the actual problem is.

A:

I believe I recently fixed this issue by installing the LTS enablement stack related -dev packages:
sudo apt-get install xserver-xorg-dev-lts-utopic mesa-common-dev-lts-utopic libxatracker-dev-lts-utopic libopenvg1-mesa-dev-lts-utopic libgles2-mesa-dev-lts-utopic libgles1-mesa-dev-lts-utopic libgl1-mesa-dev-lts-utopic libgbm-dev-lts-utopic libegl1-mesa-dev-lts-utopic

Edit: I guess if this is the case then it would be a bug with Ubuntu. I.e. it tries to satisfy some dependency for some -dev package with one that conflicts with the already installed -utopic packages.
Edit2: I used something similar to upgrade to 14.04.3 HWE (the first set of packages is from the upgrade guide, the second are the -dev packages to prevent ros packages from uninstalling):
sudo apt-get install --install-recommends linux-generic-lts-vivid xserver-xorg-core-lts-vivid xserver-xorg-lts-vivid xserver-xorg-video-all-lts-vivid xserver-xorg-input-all-lts-vivid libwayland-egl1-mesa-lts-vivid libgl1-mesa-glx-lts-vivid libglapi-mesa-lts-vivid libgles1-mesa-lts-vivid libegl1-mesa-lts-vivid           xserver-xorg-dev-lts-vivid mesa-common-dev-lts-vivid libxatracker-dev-lts-vivid libgles2-mesa-dev-lts-vivid libgles1-mesa-dev-lts-vivid libgl1-mesa-dev-lts-vivid libgbm-dev-lts-vivid libegl1-mesa-dev-lts-vivid 

Edit3: For upgrading to 14.04.5 HWE (I skipped 14.04.4) the same approach seems to work on my machine:
sudo apt-get install --install-recommends linux-generic-lts-xenial xserver-xorg-core-lts-xenial xserver-xorg-lts-xenial xserver-xorg-video-all-lts-xenial xserver-xorg-input-all-lts-xenial libwayland-egl1-mesa-lts-xenial           xserver-xorg-dev-lts-xenial mesa-common-dev-lts-xenial libxatracker-dev-lts-xenial libgles2-mesa-dev-lts-xenial libgles1-mesa-dev-lts-xenial libgl1-mesa-dev-lts-xenial libgbm-dev-lts-xenial libegl1-mesa-dev-lts-xenial

Originally posted by demmeln with karma: 4306 on 2015-02-24
This answer was ACCEPTED on the original site
Post score: 8

Original comments
Comment by NLZ on 2015-02-24:
Oh, it works. I just checked it on a VM, but dont think its gonna behave differently on my target machine.
Comment by paulbovbel on 2015-02-26:
I have updated the ROS wiki with your fix http://wiki.ros.org/indigo/Installation/Ubuntu#Installation
Hopefully this will save any new users who are trying ROS on a fresh trusty install, until this dependency issue is resolved upstream.
Comment by Nap on 2015-02-27:
Thnx Demmeln.  I'm still going down the build from source path, and it did go a lot further, but I'm get a similar error still, but this time for Unity-Control Center:
The following packages have unmet dependencies: unity-control-center : Depends: libcheese-gtk23 (>= 3.4.0) but it is not going
Comment by Nap on 2015-02-27:
to be installed Depends: libcheese7 (>= 3.0.1) but it is not going to be installed E: Error, pkgProblemResolver::Resolve generated breaks, this may be caused by held packages.
Comment by Nap on 2015-02-27:
ERROR: the following rosdeps failed to install apt: command [sudo -H apt-get install -y libgl1-mesa-dev] failed
Comment by Nap on 2015-02-27:
Perhaps there is another package that needs to be added to your list?
Comment by Spyri on 2015-03-06:
I have been trying to make this work but I'm getting Unable to locate package, anyone knows how to solve this ?
I'm new to Linux, hope this isn't a dumb question.
Ty
Comment by tfoote on 2015-03-11:
I believe this is an issue upstream here: https://bugs.launchpad.net/ubuntu/+source/mesa-lts-utopic/+bug/1424059
Comment by tfoote on 2015-03-11:
Also here: https://bugs.launchpad.net/ubuntu/+source/freeglut/+bug/1424466
And here: https://bugs.launchpad.net/ubuntu/+source/fglrx-installer/+bug/1424491
Comment by Nap on 2015-03-11:
Installing the libaries listed in the answer, I've been able to install Indigo Desktop-Full.  Everything seems to be working but Gazebo has problems with Namespaces. (I haven't used Gazebo much, so I'm not sure if this is actually a problem.)
However, I'm not able to build Indigo from source.
Comment by demmeln on 2015-03-13:
with which error?
Comment by Dereck on 2015-04-21:
FWIW: This got ROS running on my system, but the system failed to boot. I was able to recover by booting into recovery mode, dropping to root shell, manually setting up my internet connection, apt-get remove ros-* *-utopic, apt-get install ubuntu-desktop.
Comment by Benjamin Blumer on 2015-10-04:
The latter bunch of packages worked for me.
Comment by crazymumu on 2015-10-09:
how about the Ubutun 14.04.3, do we need to do something
Comment by demmeln on 2015-10-12:
See my Edit 2 above
Comment by Spyri on 2015-11-18:
I belive it really was a bug with my Ubuntu installation, the problem was solved by reinstalling Ubuntu.
Comment by Cerin on 2016-09-15:
None of these worked for me.


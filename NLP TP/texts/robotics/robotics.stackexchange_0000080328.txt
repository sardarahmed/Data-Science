Q:

How to remove and respawn robot

Hi everyone
I am a new user of ROS with Gazebo 5. I am wondering how to remove and respawn hector quadrotors during the simulation. More specifically, robots should be removed or respawned when certain conditions are met.
Thank you very much

Originally posted by jasonwang538@gmail.com on ROS Answers with karma: 31 on 2017-04-20
Post score: 0

A:

Gazebo, when run through ROS, provides a ROS API for accessing and controlling the simulation. There is a good tutorial available in the Gazebo documentation:
http://gazebosim.org/tutorials?tut=ros_comm
Specifically for creating and destroying robots, you can use the spawn_model and delete_model services. If you want to do this based on conditions, you should create a node to manage your simulated robots. It should these services and decide when to call them.
You can also use the spawn_model node in the gazebo_ros package to spawn models from a launch file. For example:
<node name="spawn_hector" pkg="gazebo_ros" type="spawn_model" args="-file hector.srdf -sdf -model hector_the_quadrotor"/>

This is an alternative way to set up your simulation, but I think that if you are going to manage them as the simulation runs, then the node responsible for managing the models should also be responsible for the initial creation of them.

Originally posted by Geoff with karma: 4203 on 2017-04-20
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by jasonwang538@gmail.com on 2017-04-21:
Thanks for telling me this
Comment by jasonwang538@gmail.com on 2017-04-21:
Hi, Geoff
Sorry to bother you again. I have 2 questions.

I use gazebo 5 with ROS jade. I cannot find service /gazebo/spawn_urdf_model. Should I install something?

Which .hh file should I include? I cannot find that header file

Thank you very much.
Comment by Geoff on 2017-04-23:
The gazebo_msgs package contains the service definitions. You will need to include the header files for the SpawnModel and DeleteModel messages (e.g. gazebo_msgs/SpawnModel.h).
By "cannot find service..." do you mean that the service is not visible in rosservice list?


Q:

Gazebo 1.5 crash on startup, InvalidNameException

I had some problems with old sdf files, I got warnings with the default empty_world so I now use a custom empty world.
Warning [parser.cc:361] Converting a deprecated SDF source[/opt/ros/groovy/stacks/simulator_gazebo/gazebo_worlds/worlds/empty.world].
Set SDF value
Version[1.2] to Version[1.3]
Please use the gzsdf tool to update your SDF files.
$ gzsdf convert [sdf_file]
Would these files be fixed if I reinstall ROS Groovy?
But the InvalidNameException persists, what could cause this?
lennart@Flaptop:~/catkin_ws/src/beginner_tutorials$ roslaunch beginner_tutorials empty_sdf.launch 
... logging to /home/lennart/.ros/log/9cb9bd36-f6d5-11e2-b449-0025b3bf3892/roslaunch-Flaptop-8479.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://Flaptop:33673/

SUMMARY
========

PARAMETERS
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    gazebo (gazebo/gazebo)
    gazebo_gui (gazebo/gui)

auto-starting new master
process[master]: started with pid [8494]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 9cb9bd36-f6d5-11e2-b449-0025b3bf3892
process[rosout-1]: started with pid [8507]
started core service [/rosout]
process[gazebo-2]: started with pid [8521]
process[gazebo_gui-3]: started with pid [8526]
Gazebo multi-robot simulator, version 1.5.0
Copyright (C) 2013 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.5.0
Copyright (C) 2013 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

Msg Waiting for master.terminate called after throwing an instance of 'ros::InvalidNameException'
  what():  Character [] at element [8] is not valid in Graph Resource Name [gazeboeb].  Valid characters are a-z, A-Z, 0-9, / and _.
Aborted (core dumped)
[gazebo-2] process has died [pid 8521, exit code 134, cmd /opt/ros/groovy/stacks/simulator_gazebo/gazebo/scripts/gazebo /home/lennart/catkin_ws/src/beginner_tutorials/worlds/empty_sdf.world __name:=gazebo __log:=/home/lennart/.ros/log/9cb9bd36-f6d5-11e2-b449-0025b3bf3892/gazebo-2.log].
log file: /home/lennart/.ros/log/9cb9bd36-f6d5-11e2-b449-0025b3bf3892/gazebo-2*.log

The launch file:
<launch>

  <arg name="paused" default="false"/>
  <arg name="use_sim_time" default="true"/>
  <arg name="gui" default="true"/>
  <arg name="throttled" default="false"/>

  <!-- set use_sim_time flag -->
  <group if="$(arg use_sim_time)">
    <param name="/use_sim_time" value="true" />
  </group>

  <!-- start empty world -->
  <group if="$(arg paused)">
    <group if="$(arg throttled)">
      <node name="gazebo" pkg="gazebo" type="gazebo" args="-u $(find beginner_tutorials)/worlds/empty_throttled.world" respawn="false" output="screen"/>
    </group>
    <group unless="$(arg throttled)">
      <node name="gazebo" pkg="gazebo" type="gazebo" args="-u $(find beginner_tutorials)/worlds/empty_sdf.world" respawn="false" output="screen"/>
    </group>
  </group>
  <group unless="$(arg paused)">
    <group if="$(arg throttled)">
      <node name="gazebo" pkg="gazebo" type="gazebo" args="$(find beginner_tutorials)/worlds/empty_throttled.world" respawn="false" output="screen"/>
    </group>
    <group unless="$(arg throttled)">
      <node name="gazebo" pkg="gazebo" type="gazebo" args="$(find beginner_tutorials)/worlds/empty_sdf.world" respawn="false" output="screen"/>
    </group>
  </group>

  <!-- start gui -->
  <group if="$(arg gui)">
    <node name="gazebogui" pkg="gazebo" type="gui" respawn="false" output="screen"/>
  </group>

</launch>

Originally posted by Davinci on Gazebo Answers with karma: 65 on 2013-07-27
Post score: 0

Original comments
Comment by atenea on 2013-07-30:
I am not quite sure I understand the problem. Did you already run gzsdf convert? you don't have to reinstall ROS to convert sdf files to the new version, just running gzsdf convert should be enough.
Comment by Davinci on 2013-07-30:
I did already converted the file (but it is a bit unhandy as the files are installed under /opt and you need root rights to convert them). The problem now is the ros::InvalidNameException' which makes Gazebo crash. I cannot load a world in Gazebo as it crashes constantly.
Comment by atenea on 2013-07-30:
Then I am not sure why. Maybe this helps?http://answers.gazebosim.org/question/1126/after-updating-to-gazebo-13-under-ros-groovy-i-get/
Comment by atenea on 2013-07-30:
Then I am not sure why. Maybe this helps? http://answers.gazebosim.org/question/1126/after-updating-to-gazebo-13-under-ros-groovy-i-get/
Comment by Neil Traft on 2014-07-09:
Hi, did you ever find a solution? I have the same InvalidNameException for empty_world and an SDF parsing error similar to yours with simple_world (or any other world with objects in it).

A:

If you were working on a 32-bit OS, then I believe that is your issue. I have the same issue on all the 32-bit machines in my lab, but not the 64-bit ones. It is also not a problem in later versions of Gazebo; only the one needed by Groovy (1.5).

Originally posted by Neil Traft with karma: 18 on 2014-07-24
This answer was ACCEPTED on the original site
Post score: 0


Q:

Unable to clear obstacles marking of costmap_2d

Hi everyone,
I encounter a problem while trying to use a tilting laser for navigation. I manage to generate a point cloud with the help of the laser assembler and filter out the ground with the ground removal. Rviz is used for visualization.
I tried to use the point cloud for marking of obstacles and the tilted laser scan for clearing obstacles. The marking of obstacles was alright, but when the obstacle was being removed, there was still some traces of marking not removed.
Aftering a few testing, i realise that obstacles that are higher or lower than the plane that the laser mounted on will leave traces of marking. Can anyone tell me why is this happening? Thanks in advance.
Best Regards,
TayXR

Originally posted by TayXR on ROS Answers with karma: 11 on 2011-05-25
Post score: 1

A:

The costmap raytraces to clear out obstacles. This means that for obstacles to be cleared out of the map the space they occupy needs to be seen through by a new observation. If you're using the 2D grid representation for the costmap, this just means seeing through any part of the column of space in the world above the occupied cell. If you're using the 3D voxel grid representation of the costmap, this means seeing through a 3D grid cell that contains the old obstacle. If your tilting laser doesn't see through enough of these 3D cells, meaning the scan isn't dense enough, its possible to leave some obstacles hanging.

Originally posted by eitan with karma: 2743 on 2011-05-27
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by eitan on 2011-05-31:
Yes, slowing down the speed at which the laser tilts should give you a denser aggregated scan. There will, of course, be other trade offs with this, like the time it takes to see an obstacle of a certain height with the laser.
Comment by TayXR on 2011-05-29:
I am using hokuyo utm-30lx as my laser sensor. May I know what can i do to increase the density of my laser scan. Does slowing down the tilting speed of the laser sensor helps to increase it?
Comment by TayXR on 2011-05-29:
Hi eitan,
thanks for replying to my question. I was using voxel map_type previously which caused this problem. When I changed it to the costmap map_type, all the markings were able to be cleared without leaving any traces. So its might be what u had said, that my scan was not dense enough to see through the 3D cells.


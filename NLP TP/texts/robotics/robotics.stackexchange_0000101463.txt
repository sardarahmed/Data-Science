Q:

Check if action goal is achieved in different node

Hello everybody
I am using nav2 FollowWaypoints action server to send some waypoints for my robot. Now I want to perform some task once action is finished (every waypoint has been achieved or not). How can I get information whether action is finished or not, but in a different node then the one sending goal (initial action client)?

Originally posted by sdudiak01 on ROS Answers with karma: 27 on 2022-04-04
Post score: 0

A:

I think you can send a trigger message on a separate topic to a different node for each action feedback update from the initial action client. A pair of an updated class variable and a timer publisher should be enough.
Have you tried anything similar before like there (Python) or there (C++)?
What problems did you encounter?

Originally posted by ljaniec with karma: 3064 on 2022-04-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by sdudiak01 on 2022-04-06:
I haven't tried anything you mentioned, but I was thinking to do it using a server request rather than a topic. Is this a good approach?
Comment by ljaniec on 2022-04-06:
Invoking a service inside the callback is not recommended in ROS as it stops everything else while processing. Normal topic publisher should be fine, I think e.g. some timer to see if there is an update of the last saved point reached by the robot and forward this information
Comment by sdudiak01 on 2022-04-07:
I will try it out and let you know how it went
Comment by sdudiak01 on 2022-04-11:
It works!!!. I added goal callbacks like here and in goal callback I send a trigger message to another node. It's very simple, but works just fine.


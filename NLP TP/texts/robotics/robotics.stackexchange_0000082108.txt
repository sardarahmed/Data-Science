Q:

How do I get the displacement vector from one object to another?

I have two objects A and B, each in the form of geometry_msgs/PoseStamped.
I would like to calculate the displacement (translation & rotation) vector that I can apply to any (similar) object A' and arrive to a (similar) object B' (respectively).

I guess the vector should also be of the form PoseStamped.

For translation, can I simply take B.PoseStamped.position.x - A.PoseStamped.position.x (similar for y,z)?

For the quaternion, I am not sure if I can simply do division (since adding angles in quaternions is done by multiplication?) i.e. B.PoseStamped.quaternion.x/A.PoseStamped.quaternion.x ?

I would like to avoid having to transform the quaternion to euler and back.

Originally posted by ysl208 on ROS Answers with karma: 23 on 2017-08-01
Post score: 0

A:

Unfortunately, you cannot do mathematical operations on the geometry_msgs message types. They are plain old ROS messages with no overloaded operators. For what you want to do, you'll need to convert the messages to tf::Pose types. Once you do that, follow the instructions in this answer to calculate displacement.

Originally posted by Ed Venator with karma: 1185 on 2017-08-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2017-08-10:\

They are plain old ROS messages [..]

+1 for this :)
That would be a PORM.


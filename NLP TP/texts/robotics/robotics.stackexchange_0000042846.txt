Q:

Rosdep doesn't read rosdep.yaml

I'm creating a package which has an external dependency on the python module pymodbus, which in Ubuntu is simply installed with sudo apt-get install python-pymodbus.
The manifest.xml of my package has the following line: <rosdep name="pymodbus" />
The rosdep.yaml, placed in the the root folder of my package, is the following:
pymodbus:    
  ubuntu:    
    python-pymodbus

However, when I type rosdep install mypackage, I get the following output:
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
mypackage: Cannot locate rosdep definition for [pymodbus]

From what I have read in the ROS documentation, placing the rosdep.yaml file right next to the manifest.xml should be enough. However, rosdep doesn't seem to find the key for pymodbus.
Any idea on how to make sure that rosdep look for the rosdep.yaml file?
Thanks.

Originally posted by nlauzier on ROS Answers with karma: 37 on 2012-08-01
Post score: 0

A:

Unfortunately, you didn't say anything about the ROS version you are using in your question.
If you are using Fuerte and installed rosdep with pip, rules are not kept in local rosdep.yaml files anymore but in a github repository. Have a look at this page for more information.
If you are still on Electric and your package is in a stack, then you need to put the rosdep.yaml file right next to the stack.xml file. See this page for more information. It explicitly states that you can only put the rosdep.yaml file in a package if it is not part of a stack.

Originally posted by Lorenz with karma: 22731 on 2012-08-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by nlauzier on 2012-08-01:
OK, I was confused with the version. I am using Fuerte so, as you said, I cannot have the yaml file local. I will try to follow the procedure you pointed out. It seems more complicated now than what it was in Electric.
Comment by nlauzier on 2012-08-01:
It worked, thanks! I made the pull request to have python-modbus added to python.yaml.
Comment by joq on 2012-08-01:
Thanks for contributing. It is more complicated, now, but we do have a unified, maintained list (which is good).


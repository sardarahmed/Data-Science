Q:

get rid of warning: Inbound TCP/IP connection failed

I get this warning intermittently:

Inbound TCP/IP connection failed:
connection from sender terminated
before handshake header received. 0
bytes were received. Please check
sender for additional details.

I see this sometimes when a subscriber unsubscribes a topic. I am assuming the warning is issued if the unsubscription happens while the next message is already coming in.
The concrete place I am seeing this is when using smach monitor_state. When a monitored topic delivers a message that satisfies the state, it unsubscribes, and sometimes, I see the above warning.
I want to get rid of warnings, when they really don't indicate a problem.
Can I unsubscribe in a way that is more "clean" and doesn't cause this warning?

Originally posted by knxa on ROS Answers with karma: 811 on 2018-03-23
Post score: 2

Original comments
Comment by azerila on 2020-05-30:
Did you find the source of this warning showing up>

A:

maybe you have solve it. remove rospy.spin() after your callback and change to
while not rospy.is_shutdown():
    continue

Originally posted by skyap with karma: 26 on 2018-06-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by azerila on 2020-05-30:
is there a reason for which this helps? I also have the same warning sometimes showing up in my ros application although it doesn't seem to effect the behaviour of it. But I don't know what the source of it can be. however, I have a node that I keep alive with a while loop but not using rospy.is_shutdown().


Q:

Compiling Autoware v1.12.0 with cuda v10.2

Hello,
I have a pre-compiled Autoware v1.12.0 on my system which I compiled when I had Cuda 9 on my Ubuntu 16.04 system. Basic Autoware functionalities came up, but I could not utilize my GPU HW. Referring NVIDIA support pointed me to update Cuda owing to my GPU HW.  I have a Turing GPU with compute capability 7.5. NVIDIA guidelines for such hardware is to use Cuda v10.x. Accordingly I have installed Cuda v10.2 with cuDNN v7.5.x on an Ubuntu 16.04 OS. However since then, I am trying to recompile Autoware v1.12.0 which is failing at lidar_euclidean_cluster_detect package due to a missing file: /usr/local/cuda/include/thrust/detail/dispatch/is_trivial_copy.h.
Error message is:
No rule to make target '/usr/local/cuda/include/thrust/detail/dispatch/is_trivial_copy.h', needed by 'CMakeFiles/gpu_euclidean_clustering.dir/nodes/lidar_euclidean_cluster_detect/gpu_euclidean_clustering_generated_gpu_euclidean_clustering.cu.o'.  Stop.

Has anyone installed Autoware v1.12.0 with Cuda v10.x? Autoware recommends Cuda v9.0 for Autoware on OS Ubuntu 16.04, but based on my GPU HW, NVIDIA lays out requirement for Cuda v10.x. Any suggestions on how to get out of this paradox?
Thanks

Originally posted by Abhinav on ROS Answers with karma: 33 on 2019-12-11
Post score: 1

A:

@Abhinav - Unfortunately, you ware working with an unsupported configuration. Autoware 1.12.0 supports both Ubuntu 16.04 and 18.04. However, when using Ubuntu 16.04, it only works correctly with CUDA 9.0. Since your computing hardware is not supported by CUDA 9, you cannot use this combination of hardware and software. Your best bet is to upgrade to Ubuntu 18.04 and try compiling there with CUDA 10.0 (not 10.1 or 10.2). See the compatibility matrix here: https://gitlab.com/autowarefoundation/autoware.ai/autoware/-/wikis/Source-Build

Originally posted by Josh Whitley with karma: 1766 on 2019-12-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Abhinav on 2020-01-15:
Using the pipeline you suggested, I am able to compile AW  v1.12 successfully. Thanks @Josh
Please let me know if any of the more recent releases (v1.13 or v1.14) are significant improvements and tested for stability since using Ubuntu 18.04 now opens that horizon for me.


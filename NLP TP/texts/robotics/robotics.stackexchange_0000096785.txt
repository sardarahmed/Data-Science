Q:

Autoware NDT_Matching with ouster-128

Hello,
I want to run Autoware NDT_Matching with ouster-128
I am getting a transform error
For frame [/os1_lidar]: No transform to fixed frame [world].  TF error: [, when looking up transform from frame [os1_lidar] to frame [world]]

I have tested many parameters,

voxel_grid_filter
ndt_matching

but it canâ€™t transform [/os1_lidar]  -> [world]  correctly.
Environment: Ubuntu 16.04, ROS Kinetic, Autoware 1.12.0

Originally posted by ken86202 on ROS Answers with karma: 11 on 2020-08-10
Post score: 1

Original comments
Comment by Patrick N. on 2020-08-10:
Did you define a transform from map->world? NDT matching should create a transform relative to map frame.
Comment by ken86202 on 2020-08-10:
Yes
I have loaded tf_local.launch (map->world) ,and I have  error
For frame [/os1_lidar]: No transform to fixed frame [world].  TF error: [Lookup would require extrapolation into the past.  Requested time 1550.048495240 but the earliest data is at time 1597062760.654010145, when looking up transform from frame [os1_lidar] to frame [world]]

Comment by Patrick N. on 2020-08-10:
Are you replaying recorded data?
Comment by ken86202 on 2020-08-10:
yes I play rosbag
Comment by Patrick N. on 2020-08-10:
Are you using the simulation tab on the gui or setting the use_sim_time rosparam. Seems like some part of your TF tree is using system time and another part using something else.

A:

By default, Autoware.AI does not understand the frame /os1_lidar because it assumes that the lidar's frame is /velodyne. There are a few ways to correct this:

Change your Ouster driver to publish the point clouds with the frame velodyne. (easiest)
Change the code / launch files / configuration files to expect the frame os1_lidar. (hardest)
Change the localizer parameter in ndt_matching to os1_lidar and publish a static transform between os1_lidar and velodyne with parameters 0 0 0 0 0 0. (this is unttested but may work)

Originally posted by Josh Whitley with karma: 1766 on 2020-08-13
This answer was ACCEPTED on the original site
Post score: 1


Q:

ros::time corresponding to message sent

Is there a way to recover the ROS time when a message was sent?  I'm doing some clock synchronization with another package with custom messages that don't include a ros time in the message definition.  With network latency and whatnot, I can't get use ros::Time::now() for synchronization.
EDIT:  The ros time of receipt within a rosbag would also be a help, if there's a way to recover it.

Originally posted by Nick30075 on ROS Answers with karma: 11 on 2018-06-02
Post score: 1

A:

No, afaik the time a message was published is only available if the sender has added that to the message (and even then it's an approximation, as they will probably use ros::Time::now().
The MessageEvent class can provide you with some additional information, such as when a message was received (by your node), but not when it was sent unfortunately.
Also see wiki/ROS/Connection Header for some more fields that can be accessed that way.

I'm doing some clock synchronization with another package with custom messages that don't include a ros time in the message definition.

To synchronise data between nodes a Header (or similar structure) is required, and I would say, is actually exactly what it was intended for. But you probably already knew that.

EDIT: The ros time of receipt within a rosbag would also be a help, if there's a way to recover it.

See #q199941.

Originally posted by gvdhoorn with karma: 86574 on 2018-06-03
This answer was ACCEPTED on the original site
Post score: 1


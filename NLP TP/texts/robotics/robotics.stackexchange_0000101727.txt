Q:

Correct way to change  in launch file

I'm working with Husky in melodic (i.e. ubuntu 18.04). The laser option is disabled by default as shown below
<xacro:arg name="laser_enabled" default="$(optenv HUSKY_LMS1XX_ENABLED 0)" />

When I  start the launch file as follows
roslaunch husky_gazebo husky_empty_world.launch laser_enabled:=true

It doesn't change anything. What is the correct way to change this option? My current solution is to open the file as admin and change 0 to 1. This does slove the problem but it is not an optimal solution. Any suggestions!

Originally posted by CroCo on ROS Answers with karma: 155 on 2022-05-15
Post score: 0

A:

You can use Environment Variables for this:
http://wiki.ros.org/husky_bringup/Tutorials/Customize%20Husky%20Configuration
 HUSKY_LMS1XX_ENABLED    false    Enable/disable the SICK LMS1XX LIDAR 

====
Maybe connected:

https://answers.ros.org/question/341246/xacro-arg-not-working-in-lauch-file/

https://answers.ros.org/question/38956/pass-parameters-to-xacro-in-launch-file/

http://wiki.ros.org/xacro#Rospack_commands

Originally posted by ljaniec with karma: 3064 on 2022-05-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by CroCo on 2022-05-15:
what is the actual command that I need to type in the terminal to change these environment variables?
Comment by ljaniec on 2022-05-15:
To set an environment variable the export command is used. You give the variable a name, which is what is used to access it in shell scripts and configurations and then a value to hold whatever data is needed in the variable, e.g. export NAME=VALUE, so there it would be export HUSKY_LMS1XX_ENABLED=true
Comment by CroCo on 2022-05-16:
I've tried this but it is not working.
Comment by ljaniec on 2022-05-16:
Please add more details in the edit of your questions, maybe something there is incorrect.
Do you call other launchers inside this one?
Comment by CroCo on 2022-05-16:
^never mind, it worked. thank you.
Comment by ljaniec on 2022-05-16:
Relevant issue with similar problem: https://github.com/husky/husky/issues/155
Comment by ljaniec on 2022-05-16:
If it worked, please accept the answer so it will be marked in the questions queue :)


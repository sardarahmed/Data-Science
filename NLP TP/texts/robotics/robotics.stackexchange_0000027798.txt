Q:

Show custom physicsMsg

I have implemented my own physics engine into Gazebo through System plugin.
The next that I want to do is to publish my own physicsMsg and show them on property pane.
It's easy for me to understand how to create the custom message and publish it.
But I have no idea how to show it on the property pane.
Is it possible to show it. in that case, how to do?
Thanks,

Originally posted by aaggjajptj on Gazebo Answers with karma: 3 on 2016-06-27
Post score: 0

A:

Wow, you've integrated your physics engine with Gazebo using a system plugin, that's amazing!
Not sure exactly how your implementation works, but here's how it works for the default physics engines:

gui::ModelListWidget publishes a request for physics_info here.

When the running physics engine is ODE for example, physics::ODEPhysics fills a message with physics info here

gui::ModelListWidget checks the response corresponds to the request it sent here and fills the panel here.

So I think you'd somehow need to subscribe to ~/request for physics_info and publish your message to ~/response. But I think you'll need to make sure the default physics engine doesn't respond first.

Originally posted by chapulina with karma: 7504 on 2016-06-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by aaggjajptj on 2016-06-30:
Thank you for your message.
I could figure out how physics info on GUI is being updated from a physics engine.
Another thing is that I am wondering if I could implement my own msg::Physics message passing between gui and an engine , such as what you explained in the first answer, through plugin system.
Because I would like to deploy only the plugin to my team members
Comment by chapulina on 2016-06-30:
Have you tried subscribing to ~/request from your plugin and sending your own physics message in the response?
Comment by aaggjajptj on 2016-07-04:
Yes, I tried. I could see some parameters in msgs::Physics updating on the model list pane regarding to every response from my physics engine.
In this case, I just inserted code subscribing ~/response in my physics.
The next I want to do is to send another msgs::Physics which I newly defines, such as msgs::Physics2, to gui.
Is it acceptable for the model list pane to show the new msg without code modification in ModelListWidget class?
Comment by chapulina on 2016-07-05:
Oh I see, adding your own custom fields to the ModelListWidget will be difficult, or maybe even impossible, without changing the Gazebo source code.
Comment by aaggjajptj on 2016-07-07:
Your comment is the same as my understanding. I don't get in depth of the gui any more. Thanks!


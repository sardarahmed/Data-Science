Q:

Convert pcap to bag file

Dear everyone,
I got som trouble when trying to convert a *.pcap file into a *.bag file.
I try the method explained here :
https://answers.ros.org/question/213080/convert-raw-velodyne-vlp16-pcap-to-bagfile/
In a first terminal I launch :
roscore
Then in second one, I launch : 
rosrun rosbag record -o your_vlp16_070815.bag /velodyne_packets to open the recording file ?
and finally in the third one, I launch :
rosrun velodyne_driver velodyne_node _model:=VLP16 _pcap:=bureau.pcap _read_once:=true to play the pcap file.
I wait until the third command finish ("done" message), then CTRL+C the second command. I got a .*bag file.
After this, I try to view it using RVIZ following this method :
https://answers.ros.org/question/227205/how-to-display-bag-file-in-rviz/
rosrun rviz rviz -f velodyne
rosrun velodyne_pointcloud cloud_node
rosbag play your_vlp16_070815.bag
I work with ROS Kinetic on Ubuntu 16.04.
Questions :

I don't have calibration file (*.yaml) because I get no file from VLP16 distributor. Can you provide me a sample file even if it doesn't correspond to my sensor ?
When I run the viewer, I get "No tf data. Actual error: Fixed Frame [velodyne] does not exist". I get no points on the screen. Any idea ? 

Best regards, Boris Leroux

Originally posted by BorisLerouxFox on ROS Answers with karma: 1 on 2017-08-09
Post score: 0

Original comments
Comment by sohel on 2017-11-08:
how much time does the third terminal require to finish. Its already more than a hour
Comment by gvdhoorn on 2017-11-08:
That will depend on the size of the pcap file. Are you not seeing the done message?

A:

When I run the viewer, I get "No tf data. Actual error: Fixed Frame [velodyne] does not exist". I get no points on the screen. Any idea ?

You can try rosrun tf static_transform_publisher 0 0 0 0 0 0 base_link velodyne 10. This worked for me. If you have extrinsic data you may input those here. Furthermore select velodyne as fixed frame in rviz.

Originally posted by SoVa with karma: 16 on 2018-04-14
This answer was ACCEPTED on the original site
Post score: 0


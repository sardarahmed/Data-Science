Q:

Buffer size or repaint in RViz

Hi... I try to draw the whole path of my robot with rviz.
But everytime I publish a new path message, the old path gets deleted.
Is there a better way to do this. Or do I have to create my own "vector" and repaint it everytime? Thanks in advance!

Originally posted by bbuecheler on ROS Answers with karma: 11 on 2011-11-04
Post score: 1

A:

The way that I find the easiest is like suggested: creating your own "vector" and "repainting" it.
In fact, a Path is simply a collection of Poses. Normally, only one path is displayed; therefore, if you send a new one, whatever was displayed before gets erased. So, you can create one path object locally, and keep adding new points to it.
Here is a skeleton of an algorithm that should do what you want:
nav_msgs::Path pathMsg;

while (node.ok())
{
    ros::spinOnce();

    geometry_msgs::PoseStamped poseMsg;

    // Fill the poseMsg with whatever pose you want (the point on your path)

    pathMsg.poses.push_back(poseMsg);

    pathPublisher.publish(pathMsg);

    // Waits a little before adding another pose to the path
    rate.sleep();

} // end loop

Originally posted by Benoit Larochelle with karma: 867 on 2012-01-10
This answer was ACCEPTED on the original site
Post score: 0


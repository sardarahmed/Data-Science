Q:

ROS Fuerte Install on Gentoo fails at `rosdep install -a`

ROS Fuerte Install on Gentoo fails at rosdep install -a
Following step by step the instructions from here: http://www.ros.org/wiki/fuerte/Installation/Gentoo
The following output is from rosdep install -a :
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
rxtools: No definition of [swig-wx] for OS [gentoo]
image_geometry: No definition of [opencv2] for OS [gentoo]
bondcpp: No definition of [uuid] for OS [gentoo]
image_proc: No definition of [opencv2] for OS [gentoo]
rviz: No definition of [qt4-qmake] for OS [gentoo]
image_view: No definition of [opencv2] for OS [gentoo]
cv_bridge: No definition of [opencv2] for OS [gentoo]
gazebo: No definition of [tbb] for OS [gentoo]
image_rotate: No definition of [opencv2] for OS [gentoo]
opencv2: No definition of [opencv2] for OS [gentoo]
stereo_image_proc: No definition of [opencv2] for OS [gentoo]
python_qt_binding: No definition of [python-qt-bindings] for OS [gentoo]
cv_markers: No definition of [opencv2] for OS [gentoo]
opende: No definition of [libx11] for OS [gentoo]
nodelet: No definition of [uuid] for OS [gentoo]
opencv_tests: No definition of [opencv2] for OS [gentoo]
turtlesim: No definition of [qt4-qmake] for OS [gentoo]
pcl_ros: No definition of [pcl] for OS [gentoo]
depth_image_proc: No definition of [opencv2] for OS [gentoo]
camera_calibration: No definition of [opencv2] for OS [gentoo]
stage: No definition of [libjpeg] for OS [gentoo]

Originally posted by Cody on ROS Answers with karma: 125 on 2012-04-28
Post score: 1

A:

I've created the needed package mappings (except for swig-wx, I have faked this with a mapping to swig), with a few added work arounds.
First change over to my rosdep mappings.
sed -i 's/ros/jmesmon/' /etc/ros/rosdep/sources.list.d/20-default.list

The repo can be found here: github.com/jmesmon/rosdistro
Add the following overlay for pcl:
layman -a ezod

Then remove the dependency on ros from python_qt_binding. For some reason it is not resolved properly. Edit ~/ros/python_qt_binding/manifest.xml and delete
<rosdep name="ros" />

Without this edit, the following occurs (note that where-defined finds it just fine).
~/g/rosdistro/rosdep $ rosdep install -a
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
python_qt_binding: No definition of [ros] for OS [gentoo]

~/g/rosdistro/rosdep $ rosdep where-defined ros
https://github.com/jmesmon/rosdistro/raw/master/releases/fuerte.yaml

With these changes, this step completes succesfuly.
~/g/rosdistro/rosdep $ rosdep install -a
#All required rosdeps installed successfully

Originally posted by Cody with karma: 125 on 2012-05-15
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Cody on 2012-05-16:
Looks like the pcl from the ezod repo doesn't work with ROS. Need to create a custom package for a patched version. Why can't rosdep just build and install gbp repos itself? Also note that I've removed the PCL and swig-wx mappings, so the above won't work flawlessly.
Comment by Thomas on 2012-07-02:
Please, submit a pull request if you haven't. It will avoid to other Gentoo users to duplicate this work :)
Comment by Cody on 2012-07-15:
I submitted a pull request: https://github.com/ros/rosdistro/pull/42, but the issue with pcl still stands. As does the lack of actual swig-wx bindings. On pcl: a patched version is uneeded, but an option needs to be passed to pcl's cmake to use the ros bindings.
Comment by Cody on 2012-07-15:
What we really need is for rosdep to not fail when it can't find something. Or a way to manually tell it something was installed. ie: portage's "provided". Issue here: https://github.com/ros/rosdep/issues/15  and here: https://github.com/ros/rosdep/issues/16
Comment by Cody on 2012-07-15:
I'm not actively involved in any projects using ROS at the moment, so it is unlikely I'll be the one working on this.


Q:

How to set pin domain(current or voltage) of UR robot with ur_msgs

Hi, I am currently working with a UR10 robot and i want to set the pin mode or domain as it is called to voltage instead of current for the analog output pins. In the ur_msgs/Analog documentation you can see that the Analog message has a pin and a domain which sets the pin mode to either voltage or current. This is not included in the ur_msgs/setIO service of the Universal_robot_driver far as i could see. Am i correct in this or am i not looking at it correctly? If this is not implemented, would it be a good idea to write a program to sets up a temporary socket connetion to the UR robot to force the pin mode/domain to voltage? Would ROS reset this when i would write a value to that pin with the ur_msgs/setIO service?
p.s. i am only talking about the Analog outputs of the UR10

Originally posted by stefvanlierop on ROS Answers with karma: 37 on 2020-02-12
Post score: 0

A:

At the moment this does not seem to be implemented, but the pin domain can be set with the ur_hardware_interface/script_command topic. Example code:
// include
from std_msgs.msg import String 

// the function 
def apply_vacuum(self):
rospy.init_node("apply_vacum_node") 
publisher1 = rospy.Publisher('/ur_hardware_interface/script_command', String, queue_size=2)

try:
   // first 1 is the pin number and second number is the state of the pin 
    message = "sec MyProgram():" + "\n" + "set_standard_digital_out(1,1)" + "\n" + "end " + "\n"
    publisher1.publish(message)  
except rospy.ServiceException, e:
    print "Something went wrong: %s"%e

this will work but make sure you read the scripting manual for the functions that you can use in this format. make sure that you input the correct information. The format i used can be seen here.
you only need to the use the required function for the pin domain that you can find in the mentioned scripting manual in said post.

Originally posted by stefvanlierop with karma: 37 on 2020-02-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2020-02-26:
As this question is the one in which you actually asked about this, I thought it would be best to duplicate your answer from the question you linked here.


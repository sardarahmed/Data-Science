Q:

How to build rviz from source using a different version of Ogre?

I use Ubuntu 20.04 and ROS Noetic. I have just learned how to build rviz from source here but when I try to use different version of Ogre, it still builds with Ogre 1.9.0. How to correctly build rviz with a different version of Ogre?
What I did was that I uninstalled Ogre 1.9.0:
sudo apt remove libogre-1.9.0v5

And installed Ogre 1.12:
sudo apt install libogre-1.12

Then try to build rviz as guided but this step in the documentation, still installs Ogre v1.9.0:
rosdep install --from-paths ./src --ignore-packages-from-source --rosdistro noetic

How to avoid it and use some a specific other version of Ogre instead?

A:

I've been building rviz from source with Ogre 1.12 on Ubuntu 22.04, but 1.12 is the standard there so rosdep automatically pulls in libogre-1.12-dev instead of 1.9.  But it shouldn't be too hard to get it building in 20.04- I just tried it in docker.
You could just run the rosdep command with --simulate as another argument and manually install what it suggests except for libogre-1.9-dev.  Otherwise edit rviz/package.xml to specify 1.12 instead of the system default:
<build_depend>libogre-1.12-dev</build_depend>

and
<build_export_depend>libogre-1.12-dev</build_export_depend>


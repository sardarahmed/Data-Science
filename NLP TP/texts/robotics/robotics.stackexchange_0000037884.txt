Q:

costmap2D from 3Dpointcloud

I am trying to follow tutorial http://www.ros.org/wiki/navigation/Tutorials/RobotSetup. After setting various prerequisites for launch, with move_base launch file, move_base node results in 2D costmap, obstacles, inflated obstacles etc. In rviz visualization, it is observed that obstacles detected are not getting cleared in subsequent published costmaps. Old obstacles becomes part of current costmap as well. Suddenly after sometime, everything is cleared and a correct cost map is displayed.
Am I missing setting up any specific parameter? Current all parameters are as advised in tutorial.
I had set "observation_persistence: 0.0" in costmap_common_params.yaml but it do not help.
Following is a set of screenshots of rviz
Screen 1:
Screeshot 2:

Screeshot 3:

Screeshot 4:
Screenshot5:

This is taken after around 12 seconds from screenshot4. Semicircles in front and back of robot are artifacts of costmap. It is plain road.
This is published on topic /move_base/local_costmap/obstacles.

Originally posted by prince on ROS Answers with karma: 660 on 2012-02-14
Post score: 3

Original comments
Comment by DimitriProsser on 2012-02-14:
This is when driving by an obstacle?
Comment by prince on 2012-02-14:
We had captured one data set as bag which I am replaying for test purposes. The accumulations of previous obstacles in latest costmap is happening continuously. For example when taking a turn in. In this case, obstacles which were on left will shift in horizon and also previous position will stay.
Comment by prince on 2012-02-14:
I had edited original question to add screenshots to it.

A:

The tuning suggestions in that tutorial are designed for indoor robots.  Once you take it outdoors you will need to make the costmap much more permissive for not flat roads and miscalibrations in your data.
FYI: Having worked on autonomous vehicles roads are not flat at all.

Originally posted by tfoote with karma: 58457 on 2012-03-02
This answer was ACCEPTED on the original site
Post score: 2


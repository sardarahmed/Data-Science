Q:

Convert a 16 bit compressed kinect depth image to something usable?

Hi,
I don't know why, but I have a 16 bit Kinect depth image recorded in my bag file.
And now I want to use rgbd_slam for processing.
Is there a solution to get this working, because the normal bitrate is 32Bit depth, isn't it?

Originally posted by madmax on ROS Answers with karma: 496 on 2013-07-18
Post score: 0

A:

What other data is in your bagfile, please post the output of rosbag info <yourbagfile>. If you have a cloud, set the topic for the depth image in rgbdslam's parameters to "" (empty string). Otherwise, try setting the "depth_scaling" parameter to 0.001 (I'm guessing that the 16bit thing contains millimeters).
I am unsure what you mean by "compressed" in the title? That the bagfile is compressed? That wouldn't have any impact (except the cpu performance required to decompress).

Originally posted by Felix Endres with karma: 6468 on 2013-07-21
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by madmax on 2013-07-22:
Well, you answered my other question regarding the strange depth image in my bag file.  The normal image_transport decompressing does not work for me, so I looked how rqt_gui did the thumbnail view, and took this approach. The just make a python image out of it and I convert it back to a ros image. So now I have this image, but then RGBD throws an opencv error that says it can't convert to bayer_grbg8 or so. Don't know the error exactly, as I am not at university right now...


Q:

Loading empty map to move_base

previous message link
Thanks for the reply.
My main intention is to add Slam ability to my robot.
I tried to use gmapping to replace the map_server to produce a concurrent updating map. But the calculation is too demanding on my laptop. I'm thinking whether i can make a simplified Slam to reduce the computational demand on my laptop.
Currently when i published an empty map, which contains all unknown pixels, from my "/map" (nav_msgs::Occupany_msgs) topic, the map is not shown in rviz and the tf containing the odom to map is not created.
Is there any easier ways to solve it?
Sorry to trouble your guys.
With thanks,
Zhiping
laptop specification
core2 duo

Originally posted by zhiping on ROS Answers with karma: 45 on 2011-02-17
Post score: 1

A:

AMCL only operates with an a priori map, so it's not really appropriate for a situation where the map is constantly changing or being refined.
Does rviz's behavior change if you fill the map with free space instead of unknown space? It's possible that rviz is designed to ignore pixels marked as "unknown", but I'm not sure about that. Do you get any errors in rviz while attempting to show your map topic?
In standard usage, the odom->map transform is generated by either AMCL or Gmapping. Since you are using neither, you will have to publish this transform yourself from your SLAM node. See REP 105 for more details.

Originally posted by Eric Perko with karma: 8406 on 2011-02-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tfoote on 2011-03-02:
You will need to run a localization service.  SLAM is simultaneous mapping and localization.  If you don't do them both in one process you need a map a priori for a localization service to work against.  Other things like robot_pose_ekf do not do localization, they produce odometry.
Comment by zhiping on 2011-02-21:
In this case, does it means that i might not be able to use particle filter, which is available in Amcl for localiation?
There is no abnormality in rviz. The only error is that i need to publish the tf between odom and map. Would it be sufficient if i use the combined_odom from EKF localization and initial_pose from rivz to compute the resultant TF between odom and map ?
Sorry to ask so many questions. I really appreciated your help and advice.
With thanks, Zhiping


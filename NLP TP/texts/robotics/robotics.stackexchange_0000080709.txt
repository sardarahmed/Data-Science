Q:

SparkFun 9DoF Razor IMU (SEN-14001)

The ROS driver for the Razor IMU (http://wiki.ros.org/razor_imu_9dof) states to work with the versions SEN-10125 and SEN-10736. However, SparkFun only sells the new version SEN-14001 (https://www.sparkfun.com/products/14001). Does anyone know if the ROS driver still works for this version or if alternatively if I can by an SEN-10736 somewhere.

Originally posted by Markus_ on ROS Answers with karma: 1 on 2017-05-09
Post score: 0

Original comments
Comment by Humpelstilzchen on 2017-05-10:
The ros nodes needs the AHRS firmware on the IMU. Its probably not yet ported.
Comment by Markus_ on 2017-05-10:
Thanks for the hint.
Comment by Humpelstilzchen on 2017-05-10:
Btw if you are looking for a cheap IMU for use with ROS, maybe try TinkerForge IMU Brick 2.0. But I have not tested it yet.
Comment by Markus_ on 2017-05-10:
Looks promising. I'll let you know if I opt for this one and get it to run.
Comment by Humpelstilzchen on 2017-05-15:
Got one, with all the leds it looks a bit like a Christmas tree. Software installation is complicated (requires a daemon). Mounted it on the same bot as my razor. Looking forward to compare.
Comment by Markus_ on 2017-05-16:
Did you use this package? https://github.com/gus484/ros-tinkerforge_sensors
Comment by Humpelstilzchen on 2017-05-16:
So far I have only used the TinkerForge IMU standalone, without ROS. I'm not 100% happy with this package as the covariance matrix is fixed to 0.1 for all values.
Comment by Humpelstilzchen on 2017-05-16:
First result: IMU Brick can give reasonable values without calibration, the razor IMU needs way more attention here. However this comes with higher currents, Razor: 40mA, Brick v2: 70mA.
Comment by Humpelstilzchen on 2017-05-19:
ok Here is a plot of razor imu compared to the Tinkerforge while slowly turning the robot. No suprises so far. The Tinkerforge has a good performance regarding that it is uncalibrated.
Comment by Humpelstilzchen on 2017-05-19:
Here the awesome part, I tried to fool both imu with a magnet. Result is little to no visible change in the tinkerforge orientation.. Looks like the Brick is a keeper.
Comment by Boregard on 2018-03-07:
Hi
thanks for the update. I got some different issues. First SparkFunMPU9250-DMP.cpp was missing. Downloaded from sparkfun git.
But now I get some compilation errors in Arduino IDE. -> sketchbook/libraries/MPU9250DMP/SparkFunMPU9250-DMP.cpp:532: Nicht definierter Verweis auf `mpu_set_lpf'
Br Marco

A:

Hi There,
I'm also trying to setup the razor_imu_9dof node with the new sparkfun board, I've found a fork of the original firmware that supports the new 14001 based board here:
https://github.com/lebarsfa/razor-9dof-ahrs
To be honest though, I haven't managed to get it working 100% yet but it's closer than anything else I've found so far. It's outputting the linear and angular acceleration values correctly but the orientation estimate seems a bit buggy. I'm working on this at the moment so I'll post any progress I make.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2017-11-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Humpelstilzchen on 2017-11-29:
I don't think that this is a good place for reporting updates, try discourse instead.
Comment by lebarsfa on 2017-12-08:
Just a last comment : I think now I have corrected most of the problems on https://github.com/lebarsfa/razor-9dof-ahrs, check latest version and see if it is better...
Comment by PeteBlackerThe3rd on 2017-12-09:
Great news, I'll pull the latest version and let you know how I get on early next week. Thanks for sharing your work.
Comment by PeteBlackerThe3rd on 2017-12-20:
It's working! Thanks for your help lebarsfa. I really think your updated code should get pushed back to the original repo, since no-one can use the original firmware with the hardware that is available now!
Comment by lebarsfa on 2017-12-20:
OK, so I will try to propose a pull request to both https://github.com/Razor-AHRS/razor-9dof-ahrs and https://github.com/KristofRobot/razor_imu_9dof.


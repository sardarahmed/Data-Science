Q:

octomap in rviz and occupancy grids in 3D maps

I have saved a .bt file which I can properly visualize with octovis. However, for some reason I need to visualize octomap image, or to make it clear, 3D maps with voxels on rviz. I can't simply view it by launching octomap_mapping and adding occupied_cells_vis_array. Does it require some kind of editing in the launch file?
I want to know (1)how can I visualize a 3D map generated by octomap directly, i.e., while running Kinect(which I am using as sensing device), with rviz? and (2) how can I visualize an already saved .bt file with rviz?
Moreover, the bottom line of all the effort is to run a localiation algorithm for which I require information like free and occupied cells in the map. If you have any suggestion regarding how I can get occupancy grids for 3D maps, kindly provide that as well....thank you in advance

Originally posted by shubh991 on ROS Answers with karma: 105 on 2012-06-13
Post score: 5

A:

You can visualize both the incrementally built maps and the static ones loaded from a .bt file in octomap_server in the same way (see the documentation of octomap_server/Published Topics):
Add a MarkerArray display in RViz on the topic "occupied_cells_vis" (without the trailing _array, that's an RViz problem). Be sure to set the tf frame to "/map" or whatever your mapping frame is.
For querying occupancy for localization in the octomap stored in octomap_server, see http://octomap.sourceforge.net/doxygen/ (in particular castRay()).

Originally posted by AHornung with karma: 5904 on 2012-06-15
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by shubh991 on 2012-06-15:
Thanks a lot. I was able to visualize the map by loading .bt file and making some changes in the launch-file code for realtime mapping. Thanks for the suggestion on latter problem. I think castRay() could be useful.
Comment by Phelipe on 2015-02-16:
In case of not using octomap_server to generate the octomap (generated directly from rgbdslam), how can i load this .bt file to rviz (for navigation purposes) ?


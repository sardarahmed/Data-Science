Q:

Problem retrieving video from rovio camera

Hi,
I'm trying to connect Rovio to my computer using the rovio package. The robot connects to the computer with no problem using roslaunch rovio.launch, but I can't retrieve the video. I see that the Probe driver for Rovio camera has changed name in gscam, so I've installed it and I've also modified the rovio.launch file with this row :
(with real user and password that I've omitted), but when I launch the application I always get this error:
Gstreamer Version: GStreamer 0.10.28
**
ERROR:/home/antonio/ros/gscam/src/gscam.cpp:55:int main(int, char**): assertion failed: (outpad)
Do you have any suggestion? Thanks

Originally posted by Antonio on ROS Answers with karma: 53 on 2011-03-21
Post score: 0

A:

If you're using the latest version of the gscam node, the usage has changed a bit.
Try changing it to:
<env name="GSCAM_CONFIG" value="souphttpsrc user-id=admin user-pw=password \ location=<a href=" http:="" 192.168.2.74="" getdata.cgi?status="false"">http://192.168.2.74/GetData.cgi?Status=false \ do-timestamp=true ! queue ! multipartdemux ! capsfilter \ caps = 'image/jpeg' ! jpegdec ! ffmpegcolorspace"/>
I.E. removing everything in the pipeline past "ffmpegcolorspace"

Originally posted by John Hoare with karma: 765 on 2011-03-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Antonio on 2011-03-24:
I can't view the image with image_view, because there is no topics associated to the gscam node, so I think it means that it does not has been activated. And also adding the portion that you have suggested nothing has changed. I really don't know where is the problem, otherwise I'd like to thank you for your support!
Comment by John Hoare on 2011-03-24:
It's possible you're using the older version of the gscam driver, so perhaps you'll have to add the "video/x-raw-rgb ! identity name=ros ! fakesink" portion back in. Edit: Actually, have you tried to view the image using image_view first? When I run the gscam I get no "Processing" output.
Comment by Antonio on 2011-03-24:
Ok, I've launched successfully gst-launch (there was a problem with the syntax), now I can retrieve the video. But (unfortunately!) there is still a problem with gscam. when I launch it exporting export GSCAM_CONFIG = "souphttpsrc user-id=admin user-pw=password location=http://192.168.2.74/GetData.cgi do-timestamp=true ! queue ! multipartdemux !  video/x-raw-rgb ! ffmpegcolorspace" the program starts with no errors, but it remain on the message: Gstreamer Version: GStreamer 0.10.28 and nothing happens (also there's no "Processing..." message
Comment by John Hoare on 2011-03-24:
I don't have any experience with the robot in question. But if you can't get it all to work using gst-launch, its certainly not going to work within ROS.
Comment by Antonio on 2011-03-24:
If I access to the robot through the Web page everything it's ok, I can also retrive the video. The problem it's only with gstreamer.
Comment by John Hoare on 2011-03-23:
You would have to add an autovideosink at the end of the pipeline, but it looks like you perhaps have network connectivity issues to your camera. I'm not familiar with the camera you're using, but you could try pinging the ip address, or going to the web interface to verify your system can access it
Comment by Antonio on 2011-03-23:
I type :gst-launch souphttpsrc user-id=admin user-pw=password \ location=http://192.168.2.74/GetData.cgi \ ?Status=false \ do-timestamp=true ! queue ! multipartdemux ! capsfilter \ caps = 'image/jpeg' ! jpegdec ! ffmpegcolorspace
and I get this error: error:pipeline can't be paused error: from the element /GstPipeline:pipeline0/GstSoupHTTPSrc:souphttpsrc0:can't open source in reading mode.
Comment by John Hoare on 2011-03-23:
Have you tried to run that pipeline using gst-launch from the command-line, to make sure that it actually works? Are you sure you can access the camera?
Comment by Antonio on 2011-03-23:
I've changed in <env name="GSCAM_CONFIG" value="souphttpsrc user-id=admin user-pw=password \ location=http://192.168.2.74/GetData.cgi \ ?Status=false \ do-timestamp=true ! queue ! multipartdemux ! capsfilter \ caps = 'image/jpeg' ! jpegdec ! ffmpegcolorspace"> and I get: Failed to PAUSE. What do you think about it?


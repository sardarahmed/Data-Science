Q:

Opencv no rule to make target

I am trying out the example to convert ros image to opencv image from here. I am creating a new package roscv_conv and using a zed camera with ros indigo, on a Jetson tx1, to get this done (I will probably have to edit the topic being subscribed to , given in the example). I have installed OpenCV4Tegra (version 2.4.12.2). But my current issue is that I am receiving the following error during catkin_make :
make[2]: *** No rule to make target `/usr/lib/arm-linux-gnueabihf/libopencv_videostab.so.2.4.8', needed by `/home/ubuntu/tst_ws/devel/lib/roscv_conv/roscv_conv_node'.  Stop.
make[1]: *** [roscv_conv/CMakeFiles/roscv_conv_node.dir/all] Error 2

My CMakeLists.txt looks like this:
cmake_minimum_required(VERSION 2.8.3)
project(roscv_conv)

find_package(catkin REQUIRED COMPONENTS
  cv_bridge
  image_transport
  roscpp
  sensor_msgs
  std_msgs
  
)

find_package(OpenCV REQUIRED)

catkin_package(
  CATKIN_DEPENDS cv_bridge image_transport roscpp sensor_msgs std_msg
)

include_directories(
  ${catkin_INCLUDE_DIRS}
  ${OpenCV_INCLUDE_DIRS}
)

add_executable(roscv_conv_node src/roscv_conv_node.cpp)

target_link_libraries(roscv_conv_node
   ${catkin_LIBRARIES}
   ${OpenCV_LIBRARIES}
)
add_dependencies(roscv_conv_node sensor_msgs_generate_messages_cpp std_msgs_generate_messages_cpp)

Also, I have the following lines in my package.xml :
<build_depend>OpenCV</build_depend>
<run_depend>OpenCV</run_depend>

How do I fix this issue? I believe it has nothing to do with the actual code inside the src folder.

Originally posted by skr_robo on ROS Answers with karma: 178 on 2016-08-03
Post score: 2

A:

Hi,
same problem here. In my case I'm using rpi3 with jessie. Our CMakeList.txt and package.xml are completely the same.
Did you find any solution?
Thanks in advance!
EDIT:
I figured out how to solve this problem. Probably it is a shoddy job, but the case is that it worked for me.
My case is RPI3 + Jessie + ROS Indigo (base)
I installed opencv (sudo apt-get install libopencv-dev) which comes with the 2.4.9 version.
So far everything is running right.
After that I installed image_transport and cv_bridge and the problem started to appear when a node included cv_bridge:
make[2]: *** No rule to make target `/usr/lib/arm-linux-gnueabihf/libopencv_videostab.so.2.4.8', needed by `/home/ubuntu/tst_ws/devel/lib/my_package/my_node'.  Stop.

I moved to where the opencv.so files are and created a symbolic link named "libopencv_videostab.so.2.4.8" and pointing to "libopencv_videostab.so.2.4.9". Catkin_make asked me to do the same with every "libopencv_something.so.2.4.8" I had.
Everything is running correctly now. I'm sure it is not a brilliant solution but, if a stupid idea works, probably is not that stupid!

Originally posted by Nxt with karma: 36 on 2016-09-01
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by skr_robo on 2016-09-01:
I installed a normal OpenCV (not OpenCV4Tegra), version 2.4.13. In my case I found out that it is an issue with the platform.
Comment by Nxt on 2016-09-02:
Thank you! I finally found a solution that works for me, I edited my post with it.
Comment by skr_robo on 2016-09-14:
I think the solution is similar for Jetson as well. Anyway, thank you for the info.


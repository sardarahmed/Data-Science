Q:

which file implements the husky_velocity_controller?

When I controll the husky simulator, the motion of husky is driven by the /husky_velocity_controller/cmd_vel, I send a cmd_vel topic as expected velocity, the robot moves. But from physics,  we know there must be a controller that transform the cmd_vel signal into the force that drives the vehicle. Where can I find the implementation of this controller? in which file? Thanks.

Originally posted by lochlomond on ROS Answers with karma: 61 on 2019-08-26
Post score: 0

A:

If you look here: https://github.com/husky/husky/blob/kinetic-devel/husky_control/config/control.yaml
You can see it loads the type: "diff_drive_controller/DiffDriveController" for the velocity controller.
The source for that is in the ros_controllers package, here: https://github.com/ros-controls/ros_controllers/blob/kinetic-devel/diff_drive_controller/src/diff_drive_controller.cpp.
Specifically, if you want to see how it handles the cmd_vel topic it records the command and does the logic here: https://github.com/ros-controls/ros_controllers/blob/kinetic-devel/diff_drive_controller/src/diff_drive_controller.cpp#L424

Originally posted by 404RobotNotFound with karma: 331 on 2019-09-26
This answer was ACCEPTED on the original site
Post score: 0


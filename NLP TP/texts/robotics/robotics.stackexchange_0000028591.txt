Q:

Create a completely new sensor type

I want to create a Doppler Velocity Log (DVL) sensor that would simply contain 4 RaySensor and a Pose element. In every tutorial that I saw about SensorPlugins, people used existing sensors and extended them. Is it possible to create a completely new sensor type ( <sensor type="dvl" name="super_name"> ... </sensor> )and add it to gazebo instead of using an existing sensor type and extending it? Google doesn't help me to answer this question unfortunately
Assuming that it is possible to create a new Sensor Type, is it possible to create RaySensor objects directly from a .cpp file instead of having to create them with an sdf file? If I look at the documentation for RaySensor, it seems that we can only define the value of some attributes of a RaySensor (like the ray counts or the min-max ranges for example that only have getters but no setters) by using the RaySensor::load(...) function. Isn't there any other possibility to create a RaySensor object directly in c++ and passing the ray-counts and some other value in a constructor?

Originally posted by Tekkk on Gazebo Answers with karma: 1 on 2018-08-28
Post score: 0

Original comments
Comment by wentz on 2018-08-29:
This are to many questions :P. Okay first what do you mean with "a Pose Element"? Second i think and totally recommend to create a new sensor plugin. Should be possible to create a plugin that holds 4 RaySensors. For creating a new sensor you will need more time and better knowledge. Wouldn't recommend.
Comment by wentz on 2018-08-29:
4th you can create a RaySensor in your Cpp take a look here: https://bitbucket.org/osrf/gazebo/src/f4e51e8f64001beda70615ab8982a7d5a4e65b18/gazebo/sensors/RaySensor_TEST.cc?at=default&fileviewer=file-view-default
Comment by maikelo on 2018-10-31:
Were you able to make a new type of sensor? I also want to create a new sensor but I don't see yet how to link the new sensor class into Gazebo. Any clue will be appreciated. Thanks.
Comment by wentz on 2018-11-02:
I've just read your other question: http://answers.gazebosim.org/question/20324/unable-to-create-sensor-of-type/
i think you want to use: GZ_REGISTER_STATIC_SENSOR("dvl", DVLSensor)
instead of: GZ_REGISTER_SENSOR_PLUGIN(DvlPlugin)
Comment by wentz on 2018-11-02:
Would recommend to look here: https://bitbucket.org/osrf/gazebo/src/f4e51e8f64001beda70615ab8982a7d5a4e65b18/gazebo/sensors/?at=default
to see how sensors are implemented.

A:

I found this other post: http://answers.gazebosim.org/question/13966/examples-of-registering-a-custom-sensor-not-plugin/#17653  which help me to make a new sensor for Gazebo. That solution works pretty well.

Originally posted by maikelo with karma: 26 on 2018-11-05
This answer was ACCEPTED on the original site
Post score: 1


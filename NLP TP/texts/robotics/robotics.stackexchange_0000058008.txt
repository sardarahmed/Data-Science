Q:

move_base in Hydro

I'm trying to use the navigation stack with my Robot simulated on Rviz with the arbotix simulator.
I had configuration files that were working perfectly fine in Groovy but I'm trying to switch on Hydro because I want to use my android to control the robot. Thus I tried to use my simulation files from Groovy in Hydro and without a lot of surprise, i'm running into some problems.
So here is my launcher for the map simulation and the move_base node :
<launch>
<!-- Run the map server with a blank map -->
<node name="map_server" pkg="map_server" type="map_server" args="$(find simulation_tobot)/maps/blank_map.yaml"/>

 <include file="$(find simulation_tobot)/launch/nav/fake_move_base.launch" />

<!-- Run a static transform between /odom and /map -->
<node pkg="tf" type="static_transform_publisher" name="odom_map_broadcaster" args="0 0 0 0 0 0 /map /odom 100" />

</launch>

And the launch file for the move base :
<launch>

<node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
   <rosparam file="$(find simulation_tobot)/config/nav/costmap_common_params.yaml" command="load" ns="global_costmap" />
   <rosparam file="$(find simulation_tobot)/config/nav/costmap_common_params.yaml" command="load" ns="local_costmap" />
   <rosparam file="$(find simulation_tobot)/config/nav/local_costmap_params.yaml" command="load" />
   <rosparam file="$(find simulation_tobot)/config/nav/global_costmap_params.yaml" command="load" />
   <rosparam file="$(find simulation_tobot)/config/nav/base_local_planner_params.yaml" command="load" />
</node>

</launch>

But when I launch this I have the following problem which I didn't had in Groovy :
process[map_server-1]: started with pid [16785]
process[move_base-2]: started with pid [16800] 
process[odom_map_broadcaster-3]: started with pid [16815]
[ INFO] [1395114088.229159978]: Using plugin "static_layer"
[ INFO] [1395114088.379876765]: Requesting the map...
[ INFO] [1395114088.583613138]: Resizing costmap to 600 X 600 at 0.010000 m/pix
[ INFO] [1395114088.682955118]: Received a 600 X 600 map at 0.010000 m/pix
[ INFO] [1395114088.694078487]: Using plugin "obstacle_layer"
[ INFO] [1395114088.702218356]:     Subscribed to Topics: scan
[ INFO] [1395114088.800383808]: Using plugin "inflation_layer"
[ERROR] [1395114088.855737636]: You must specify at least three points for the robot footprint, reverting to previous footprint.
[ INFO] [1395114089.090552584]: Using plugin "static_layer"
[ INFO] [1395114089.163674776]: Requesting the map...
[ INFO] [1395114089.165190876]: Resizing costmap to 600 X 600 at 0.010000 m/pix
[ INFO] [1395114089.263945281]: Received a 600 X 600 map at 0.010000 m/pix
[ INFO] [1395114089.283543179]: Using plugin "obstacle_layer"
[ INFO] [1395114089.292445929]:     Subscribed to Topics: scan
[ INFO] [1395114089.390650074]: Using plugin "inflation_layer"
[ERROR] [1395114089.446857981]: You must specify at least three points for the robot footprint, reverting to previous footprint.
[ INFO] [1395114089.619887935]: Created local_planner base_local_planner/TrajectoryPlannerROS
[ INFO] [1395114089.645968891]: Sim period is set to 0.33
[ INFO] [1395114090.520767603]: odom received!

After playing around with it for a little while I guess it's because of the way I create a static transform between /map and /odom but I have no idea what is "specifying at least three points for the robot footprint".
The result is that when I'm simulating in Rviz, the good path is found by move_base but the robot is totally unable to get to the specify point as he don't follow the path at all.
EDIT :
this is my costmap_common_param :
obstacle_range: 2.5
raytrace_range: 3.0
robot_radius: 0.285
inflation_radius: 0.3 
max_obstacle_height: 1
min_obstacle_height: 0.0
observation_sources: scan
scan: {data_type: LaserScan, topic: /scan, marking: true, clearing: true}

I define the radius of my robot there.
Any help is appreciated.

Originally posted by Maya on ROS Answers with karma: 1172 on 2014-03-17
Post score: 1

A:

You must specify the robot_footprint or the robot_radius in your costmap_common_params.yaml. I suggest you to look at the full list of parameters for costmaps here.
Moreover I think you should run something like amcl for localization instead of the static transform.

Originally posted by Tirjen with karma: 808 on 2014-03-17
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Maya on 2014-03-17:
I'm not using amcl for now because I want move_base to work perfectly before.
I've edited my question in concern of your anwer


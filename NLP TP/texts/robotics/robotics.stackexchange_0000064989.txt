Q:

can't spawn model in gazebo

hello everyone , i start gazebo with $ roscore & $ rosrun gazebo_ros gazebo, then i want to add a coke_can to it , and i type: $ rosrun gazebo_ros spawn_model -database coke_can -gazebo -model coke_can -y 1 but nothing happen in gazebo world . and the info in my terminate is below :
spawn_model script started
Deprecated: the -gazebo tag is now -sdf
[INFO] [WallTime: 1420599431.921951] [0.000000] Loading model xml from Gazebo Model Database
[INFO] [WallTime: 1420599431.922563] [0.000000] Waiting for service /gazebo/spawn_sdf_model
[INFO] [WallTime: 1420599431.925847] [0.000000] Calling service /gazebo/spawn_sdf_model
[INFO] [WallTime: 1420599441.933129] [619.918000] Spawn status: SpawnModel: Model pushed to spawn queue, but spawn service timed out waiting for model to appear in simulation under the name coke_can

if anyone know , please tell me , thx

Originally posted by forinkzan on ROS Answers with karma: 141 on 2015-01-06
Post score: 6

A:

Hi! I had the same problem, with the same output from the terminal.
In my case the problem was due to the urdf file that i was using. It seems like the urdf had some deprecated functions from old versions of gazebo, so the parser just gave an error and didnt spawn the model. The "queue error" i think was because the spawn node just send the model and waits for Gazebo to generate it in the simulation. Since Gazebo cant do that, it just says that he is just "waiting to be published".
My solution was to just delete that unused old fuctions from the urdf and it worked fine!. Anyway if this is your case, you should see some parse error about the urdf in the terminal where you are running Gazebo.
I hope this answer help you!

Originally posted by donmrsir with karma: 363 on 2015-09-29
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by 130s on 2015-10-21:
+1 for raising attention to the warning messages and the workaround found. Just headsup; OP uses SDF, not URDF.
Comment by donmrsir on 2015-10-22:
I thought Gazebo automatically converts from urdf to sdf, so i just supposed the OP was probably using URDF too, maybe i shouldnt have done that :D. Anyway i think that the problem can still be something related to the parser, and since is from the Gazebo database, its probably version related.


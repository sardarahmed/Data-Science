Q:

How to Set Image Encoding on pylon camera

I am using the pylon_camera ROS package for my Basler acA2040-90uc camera. I was following installation procedures for the driver, and when I run the line:

roslaunch pylon_camera pylon_camera_node.launch

I see some camera info such as name and exposure time in the Terminal but then the errors:

[ WARN] [1496427607.046367698]: No image encoding provided. Will use 'mono8' or 'rgb8' as fallback!
[ERROR] [1496427607.060515363]: Couldn't find a fallback solution!
[ERROR] [1496427607.061636139]: Error while start grabbing

In the log file generated, I see the warning

WARN [/home/ubuntu/catkin_ws/src/pylon_camera/include/pylon_camera/internal/impl/pylon_camera_base.hpp:442(PylonCameraImpl::setImageEncoding) [topics: /rosout, /pylon_camera_node/image_raw, /pylon_camera_node/camera_info] No image encoding provided. Will use 'mono8' or 'rgb8' as fallback!

I know this camera can support the encoding 'bayer_bggr8', so it is supported. I can also view the images on the Pylon viewer app on a different machine (this one doesn't support that app).
It seems that they may be a service I can call to manually set this image encoding? I was unable to find any information about it, so any assistance would be appreciated. Thanks in advance.

Originally posted by Omkar on ROS Answers with karma: 3 on 2017-06-02
Post score: 0

A:

The encoding can be set with a rosparam and is normally read from a yaml file that also contains other parameters like exposure. The default is here. Setting the image_encoding (line 20) to 'bayer_bggr8' should work.

Originally posted by NEngelhard with karma: 3519 on 2017-06-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Omkar on 2017-06-05:
Thanks for helping! This did the trick!
Using the rosparam command works. Alternatively, one can just uncomment line 20 in the file and change it to bayer_bggr8.
Comment by NEngelhard on 2017-06-06:
No problem. It's always nice to see that people are using our driver.
Comment by pedro_bb72 on 2019-03-12:
Hi I changed however it is not updated and keep saying I didn't specified it. What do you have to do after changing parameters? Thanks
Comment by IvanTomic on 2020-07-27:
Hi, pedro_bb72 I think you shoud rebuild pylon_camera package.


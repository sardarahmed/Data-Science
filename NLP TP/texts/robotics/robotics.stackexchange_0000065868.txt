Q:

Automated rosdoc_lite execution

Hello everyone,
I was wondering whether it is possible to run rosdoc_lite automatically with every catkin_make for my packages, so that supporting documentation is always up-to-date.
Thanks!

Originally posted by Georacer on ROS Answers with karma: 67 on 2015-02-17
Post score: 2

A:

Finally got it!
I don't know why it works, but it does.
    add_dependencies(environment ${PROJECT_NAME}_generate_messages_cpp ROSLITE_HOOK)
[...]
## Generate Doxygen files
    add_custom_command(OUTPUT rosdoc_output
        COMMAND rosdoc_lite $(rospack find last_letter) -o $(rospack find last_letter)/doc
    )
    add_custom_target(ROSLITE_HOOK DEPENDS rosdoc_output)

EDIT: In the end, I did it in the following way. The previous didn't work as expected:
## Generate package documentation with rosdoc_lite
execute_process(COMMAND rospack find last_letter
    OUTPUT_VARIABLE LAST_LETTER_DIR OUTPUT_STRIP_TRAILING_WHITESPACE)
execute_process(COMMAND rosdoc_lite -o ${LAST_LETTER_DIR}/doc/doxygen_rosdoc_lite ${LAST_LETTER_DIR} )

Originally posted by Georacer with karma: 67 on 2015-02-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joq on 2015-02-19:
Defining the dependency is what I was trying to explain. Sorry I didn't know enough to fill in the details. Glad you got it working.


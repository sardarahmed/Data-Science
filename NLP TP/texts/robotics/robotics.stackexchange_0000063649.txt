Q:

Rosserial fails to generate rosserial_msgs library

I've followed this tutorial to set up rosserial for Arduino:
http://wiki.ros.org/rosserial_arduino/Tutorials/Arduino%20IDE%20Setup
But once I get to the step where I generate the libraries for the Arduino with the command
rosrun rosserial_arduino make_libraries.py .

I get the following output at the end:
*** Warning, failed to generate libraries for the following packages: ***
    hector_quadrotor_controller_gazebo (missing dependency)
    rosserial_msgs
    map_msgs
    rosserial_arduino

The output above that doesn't tell me anything:
Exporting rosserial_msgs

  Messages:
    TopicInfo,Exporting std_srvs

  Services:
    Empty,

...

Exporting map_msgs

  Messages:
    OccupancyGridUpdate,PointCloud2Update,ProjectedMapInfo,ProjectedMap,

  Services:
    SetMapProjections,GetPointMapROI,ProjectedMapsInfo,Exporting tf2_msgs

  Messages:
LookupTransformActionResult,LookupTransformAction,LookupTransformActionGoal,LookupTransformFeedback,TFMessage,LookupTransformActionFeedback,TF2Error,LookupTransformGoal,LookupTransformResult,

  Services:
    FrameGraph,

...

Exporting rosserial_arduino

  Messages:
    Adc,Exporting hector_gazebo_plugins

  Services:
    SetBias,

I'm not immediately interested in the first and third libraries, but the second and fourth are a problem, because they make it impossible to use rosserial. How do I solve this?

Originally posted by Overv on ROS Answers with karma: 66 on 2014-10-29
Post score: 2

Original comments
Comment by Wolf on 2014-10-29:
Please scroll up and check if there is any error message there it was attempted to create the rosserial_msgs/rosserial_arduino msgs....
Comment by Overv on 2014-10-29:
@Wolf See the updated question.

A:

I solved the problem by running
source /opt/ros/indigo/setup.bash

again. After that, generating libraries worked fine.

Originally posted by Overv with karma: 66 on 2014-10-30
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by heng on 2015-03-02:
Hey I am having the same problem. I run source /opt/ros/groovy/setup.bash, but I get this when I generate libraries:
IOError: [Errno 13] Permission denied: '/opt/ros/groovy/share/rosserial_arduino/src/ros_lib/duration.cpp'
Comment by ATXCyborg on 2015-06-09:
I had the same issue. Use the following command inside you /libraries folder to remove the ros_lib library.
rm -rf ros_lib
I was able to do this and then run the source command listed above but still ran into the same problem when running the make_libraries.py command from tutorials.


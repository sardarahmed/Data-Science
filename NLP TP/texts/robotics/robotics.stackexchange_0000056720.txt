Q:

gmapping pacakage Overlaying with catkin workspaces

Hi,
I have installed ROS groovy version. I want to do changes in gmapping.
Gmapping is using libararies from openslam_gmapping, So i have cloned slam_gmapping and openslam_gmapping separately and built them.
But when i run launch file to run gmapping , i am getting below error
ERROR: cannot launch node of type [gmapping/slam_gmapping]: can't locate node [slam_gmapping] in package [gmapping]

launch file :
<launch> <node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" respawn="false" output="screen">   
  <param name="odom_frame" value="odom"/>
  <param name="map_update_interval" value="0.1"/>
  <param name="maxUrange" value="69"/>
  <param name="maxRange" value="71"/>
  <param name="sigma" value="0.05"/>
  <param name="kernelSize" value="1"/>
  <param name="lstep" value="0.05"/>
  <param name="astep" value="0.05"/>
  <param name="iterations" value="5"/>
  <param name="lsigma" value="0.075"/>
  <param name="ogain" value="3.0"/>
  <param name="lskip" value="0"/>
  <param name="srr" value="0.01"/>
  <param name="srt" value="0.02"/>
  <param name="str" value="0.01"/>
  <param name="stt" value="0.02"/>
  <param name="linearUpdate" value="0.2"/>
  <param name="angularUpdate" value="0.3"/>
  <param name="temporalUpdate" value="0.1"/>
  <param name="resampleThreshold" value="5"/>
  <param name="particles" value="10"/>
  <param name="xmin" value="-5.0"/>
  <param name="ymin" value="-5.0"/>
  <param name="xmax" value="5.0"/>
  <param name="ymax" value="5.0"/>
  <param name="delta" value="0.05"/>
  <param name="llsamplerange" value="0.01"/>
  <param name="llsamplestep" value="0.01"/>
  <param name="lasamplerange" value="0.005"/>
  <param name="lasamplestep" value="0.005"/>
  <remap from="scan" to="laserscan"/>
</node>
</launch>

How to do code changes to openslam_gmapping
thanks.

Originally posted by bvbdort on ROS Answers with karma: 3034 on 2014-01-22
Post score: 0

Original comments
Comment by BennyRe on 2014-01-22:
Do you mean with "but it was from ros stack not the package which i cloned,did changes and built." that a copy of gmapping you installed with apt-get is being executed and not the copy you cloned from source?
Comment by bvbdort on 2014-01-23:
@BennyRe yes
Comment by dornhege on 2014-01-23:
If you get the error above I'm pretty sure you have NOT built it. Also IIRC the gmapping package does download gmapping itself during the build process.
Comment by bvbdort on 2014-01-23:
@dornhege i have cloned and build the slam_gmapping  cloned from https://github.com/ros-perception/slam_gmapping.git
Comment by BennyRe on 2014-01-23:
Did you correctly overlay these two packages? Here's the tutorial: http://wiki.ros.org/catkin/Tutorials/workspace_overlaying
Comment by bvbdort on 2014-01-23:
@BennyRe i followed as tutorial i was able to buid and roscd is working fine but when i run from "roslaunch gmapping slam_gmapping_pr2.launch" i am getting error as mentioned in question.
Comment by BennyRe on 2014-01-23:
Does your binary exist? check /devel/lib/gmapping
Comment by bvbdort on 2014-01-23:
@BennyRe yes binary exists in /home/overlay_ws/slam_gmapping/devel/lib/gmapping
Comment by BennyRe on 2014-01-23:
Did you source the overlay_ws in the terminal yor using to roslaunch?
Comment by bvbdort on 2014-01-23:
@BennyRe yes i add line "source overlay_ws/slam_gmapping/devel/setup.bash" to .bashrc
Comment by bvbdort on 2014-01-23:
@BennyRe i did source devel/setup.bash in terminal, after that  i was able to launch gmapping but i am not able to launch my packages.
Comment by dornhege on 2014-01-24:
Are they included in the same workspace?
Comment by bvbdort on 2014-01-24:
@dornhege No they both are in different work spaces

A:

If you have two different workspaces sourcing either one will replace the other fully.
If you want both together you can either merge all packages in one workspace or overlay one workspace with another.

Originally posted by dornhege with karma: 31395 on 2014-01-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by bvbdort on 2014-01-24:
Thanks, it worked after putting slam_gmapping, openslam_gmapping in mypackage/src/ and overlay mypackage.
Comment by gershon on 2014-01-29:
bvb,
I want to do the same thing you are, but I am uncertain how to get setup the openslam_gmapping sources so they build and are recognized as a ROS package.  will the "find_packag(catkin REQUIRED nav_msgs openslam_gmapping roscpp rostest tf)"in CMakeLists.txt just work?
Comment by bvbdort on 2014-01-29:
@gershon i did git clone for gmapping and openslam_gmapping inside /src folder of my package. This tutorial is helpful.http://wiki.ros.org/catkin/Tutorials/workspace_overlaying
Comment by gershon on 2014-01-29:
Aha!  I see now.  The only link to source from the slam_gmapping page takes me to an external site that lists the code in a svn repository.  Now I think I see what you mean.  I did find the openslam_gmapping source on git.  Thanks!
Comment by davidgitz on 2015-05-14:
@bvbdort Can you please provide some clarification?  I am having the same problem, and the Workspace  Overlay Tutorial isn't helping me.  Thanks!
Comment by bvbdort on 2015-05-15:
@davidgitz can you tell me what is the exact problem.
Comment by davidgitz on 2015-05-18:
@bvbdort
I don't want to hijack this thread but I think my problem is identical.  I have done a git clone for the slam_gmapping and openslam_gmapping and put in: ~/catkin_ws/src  Then I did: source /opt/ros/groovy/setup.bash and  source ~/catkin_ws/devel/setup.bash and get the same error as the OP.
Comment by bvbdort on 2015-05-18:
your procedure is correct, did you build, if yes check binaries in catkin_ws/devel/lib
Comment by davidgitz on 2015-05-19:
I had not built it.  I had to install the following packages:libsdl-image1.2-dev libsdl-image-gst yaml-cpp along with cloning the navigation stack.  After that I got it to work.  Thanks!


Q:

Network configuration ros <--> android_core

Hi everyone,
I just complied the pubsub example of the android_core package and run it on my (non rooted) Android 4.0.3 device. Hence, I guess I have to use IP numbers to configure the connection.
But the Android device get not included in the ROS network correctly. Rxgraph shows only a "red node" and a communication error.
Roscore runs on the PC. The .bashrc defines here:
export ROS_IP=192.168.178.21

In the Android program I answer the question for the "Master" with:
http://192.168.178.21:11311/

... but I do not receive any message. roswtf generates the following results
Beginning tests of your ROS graph. These may take awhile...
analyzing graph...
... done analyzing graph
running graph rules...
ERROR: connection refused to [http://127.0.0.1:40446/]
ERROR: connection refused to [http://127.0.0.1:43793/]
... done running graph rules

Online checks summary:

Found 3 error(s).

ERROR Communication with [/rosout] raised an error: 
ERROR Could not contact the following nodes:
 * /android_gingerbread/ros_text_view
 * /rosjava_tutorial_pubsub/talker

ERROR The following nodes should be connected but aren't:
 * /rosjava_tutorial_pubsub/talker->/android_gingerbread/ros_text_view (/chatter)
 * /android_gingerbread/ros_text_view->/rosout (/rosout)
 * /rosjava_tutorial_pubsub/talker->/rosout (/rosout)

I do not understand the origin of "127.0.0.1". Any ideas?
Best wishes
Poseidonius

Originally posted by Poseidonius on ROS Answers with karma: 427 on 2012-09-20
Post score: 2

A:

Dear ahendrix,
thanks for your advice. I tested this configuration too, but the result was the same.
After an attentive search I found "my" problem already discussed at answers.ros.org:
Forum Entry
Hence, I do the recommenended change for the android_tutorial_pupsub in MainActivity.java
@Override
protected void init(NodeMainExecutor nodeMainExecutor) {
   talker = new Talker();
   NodeConfiguration nodeConfiguration = NodeConfiguration.newPrivate();
   nodeConfiguration.setMasterUri(getMasterUri());
   nodeMainExecutor.execute(talker, nodeConfiguration);
   nodeMainExecutor.execute(rosTextView, nodeConfiguration);

}
the 4th line into
NodeConfiguration nodeConfiguration = NodeConfiguration.newPublic(InetAddressFactory.newNonLoopback().getHostAddress().toString());

Thanks for your help
Best wishes
Poseidonius

Originally posted by Poseidonius with karma: 427 on 2012-09-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Poseidonius on 2012-09-30:
I found an explaination here: http://answers.ros.org/question/44472/android_core-pubsub-tutorial/ But why does the tutorials use different ways of node configuration?


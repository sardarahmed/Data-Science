Q:

Spawn objects in gazebo in certain frequency ROS2 Foxy

Hello. I'm trying to spawn a box in a certain part of gazebo world. However, this process should continue many times in a certain frequency. In another words, I want to spawn a box in certain frequency in gazebo environment. How can I do this? Thanks in advance.

Originally posted by OguzKahraman on ROS Answers with karma: 3 on 2022-07-31
Post score: 0

A:

Hi,
You can wrap the necessary code for spawning one box inside a Gazebo world inside a service, which takes in maybe a trigger, and a location of the box. You can then add a call to this service in your Timer callback, and this should help you spawn the boxes with a certain frequency.

Originally posted by sampreets3 with karma: 230 on 2022-08-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by OguzKahraman on 2022-08-07:
Hi,
Thank you for your answer. I have found a workaround mostly like you suggested. I will change it like you said using a timer.
My current code is similar:
for i in range(100):
        x = random.randint(18,27)
        y = random.randint(-3,7)
        yaw = np.random.randn()
        x = float(x)
        y = float(y)
        yaw = float(yaw)
        self.initial_pose.position.x = x
        self.initial_pose.position.y = y
        self.initial_pose.position.z = 0.0
        self.initial_pose.orientation.z = yaw
        model_name = "object_"+str(i)
        model_xml = random.choice(self.xml_files)
        self.call_spawn_model_server(model_name, model_xml, self.initial_pose)
        time.sleep(45.0)

Comment by sampreets3 on 2022-08-07:
Hi, thanks for posting your code snippet! I am sure that it will benefit other users of the forum


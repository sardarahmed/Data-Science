Q:

catkin messages and node in same package

Hi,
While working on some ROS node we bumped into the following problem:
We got a package containing a library, messages and services, the library is using these messages and services
The header files of the services and messages are generated succesfully, however when building the library, the error occurs that the header files of the messages and services are not found.
Is this due to the fact that services and messages should not be in a same packages as library or node?
the error looks like
header.h:34:27: fatal error: ns/header.h: No such file or directory compilation terminated.

Thank in advance

Originally posted by Dickvdsteen on ROS Answers with karma: 103 on 2013-01-24
Post score: 5

Original comments
Comment by Dickvdsteen on 2013-01-24:
@KruseT, thanks for your answer, i inspected the cmake and i dont think its a typo
Comment by dornhege on 2013-01-24:
Please provide the exact error message, failing code snippets and cmake files.
Comment by Dickvdsteen on 2013-01-24:
I noticed that the messages and services are generated after the library builds, for that reason it cant be found. However i call generate_messages before add_executable

A:

No, messages and services may lie in the same package as other code, though it is usually a good practice to put them into separate packages, to make the definitions reusable without the other code.
See the tutorial here, where messages and code are mixed:
http://www.ros.org/wiki/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29
So you may have made a typo somewhere in your package or message names instead.

Originally posted by KruseT with karma: 7848 on 2013-01-24
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by Avio on 2018-06-12:
I was having a similar issue, the message generation part may be quite tricky and requires some care. Please also refer to this answer and its links for more tips about the problem.


Q:

ar_kinect with pointcloud_throttle

Hello, I run the ar_kinect node to detect some ARmarkers. This works fine as long as I do not use pointcoude_throttle nodelet to reduce the amout of calculations.
I started the pointcloud throttle as follows
  <!-- throttling -->
  <node pkg="nodelet" type="nodelet" name="pointcloud_throttle" args="load pointcloud_to_laserscan/CloudThrottle camera_nodelet_manager" respawn="true">
    <param name="max_rate" value="10.0"/>
    <remap from="cloud_in" to="/camera/depth_registered/points"/>
    <remap from="cloud_out" to="/cloud_throttled"/>
  </node>

and the ar_kinect node as follows
<node name="ar_kinect" pkg="ar_kinect" type="ar_kinect" respawn="true" output="screen">
        <param name="marker_pattern_list" type="string" value="$(find bipedRobin_navigation)/data/objects_kinect"/>
        <param name="marker_data_directory" type="string" value="$(find ar_pose)"/>
        <param name="threshold" type="int" value="100"/>
        <remap from="points" to="/cloud_throttled" />
</node>

then I get the following error
Failed to find a field named: 'rgb'. Cannot convert message to PCL type.
Using the /cloud_throttled as intput for pointcloud_to_laserscan everything is alright and works.
Next to this issue I asked my self several times what the difference between /camera/depth_register/points, /camera/depth/points and /camera/rgb/points is. Is there somewhere a documentation for the many many outputs from the openni node?
Best Wishes
Johannes Mayr

Originally posted by Johannes on ROS Answers with karma: 75 on 2013-09-09
Post score: 0

A:

Topics with rgb/points or depth_registered/points are typically XYZRGB (that is, colored clouds), those with depth/points are non-colored XYZ clouds.
I have no idea what pointcloud_to_laserscan/CloudThrottle does -- but I'm going to guess it outputs an XYZ cloud and ar_kinect needs XYZRGB. I would suggest looking at using topic_tools throttle node (http://wiki.ros.org/topic_tools) which won't disturb the data.

Originally posted by fergs with karma: 13902 on 2013-09-20
This answer was ACCEPTED on the original site
Post score: 1


Q:

Steps to cancel already-released packages

For a set of packages / a meta package that we already released into buildfarm (openrtm_common), we've figured out that we want to split it into multiple smaller sets / meta packages and fresh release each of them (for better modularity and moreover for easier handling of buildfarm error currently happening).
What step should we take before releasing the new sets of packages?
I'm afraid releasing new sets would cause conflicts if there already exist packages of the same names. Some packages have already been built and available on .deb binary repository. And just cancelling the commits for release.yaml on rosdistro seems not sufficient either.
Thanks!

Originally posted by 130s on ROS Answers with karma: 10937 on 2013-08-10
Post score: 0

Original comments
Comment by Chad Rockey on 2013-08-11:
This question is advanced enough you should ask on the ros-release mailing list.  https://code.ros.org/mailman/listinfo/ros-release
Comment by 130s on 2013-08-11:
Oh, okay, I'll do that. But just as a note, I see *ros.org sites come way earlier in Google's search result even when I logged off my Google account (to disable personalized search). So I prefer asking here for better searchability for the future.

A:

All you need to do is update the release.yaml file.
We've designed the system to be as stateless as possible.  The buildfarm will do a best effort build of what's in the release.yaml.  It can handle upgrades, rollbacks, additions and removals.
Conflicts with past and future packages are not a problem. It will propagate through the various stages of the build pipeline only in a self consistent state.  So as long as the release.yaml doesn't have conflicts the debs should not either.
Note this does not absolve you of considering your users and providing good communication with respect to the development model.  Your users should know what's going on and depending on the development state of the package.  If there are expectations of stability for your users the buildfarm will not prevent you from breaking compatibility.

Originally posted by tfoote with karma: 58457 on 2013-08-11
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by 130s on 2013-08-12:
Thanks for the explanation, and also for the one-stop service; that sounds super nice and easy to use!


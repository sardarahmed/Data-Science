Q:

subscribe to a topic without specifying type

Hi,
is is possible to subscribe to a specific topic, without specifying the message type?
I need to pass the message to a Lua interpreter, and I want to avoid having one C++ function for each type I want to subscribe (which would be every message in actionlib_msgs, control_msgs, diagnostic_msgs, geometry_msgs, map_msgs, nav_msgs, pcl_msgs, sensor_msgs, shape_msgs, std_msgs, tf2_geometry_msgs, tf2_msgs, tf2_sensor_msgs, trajectory_msgs, visualization_msgs)

Originally posted by federico.ferri on ROS Answers with karma: 41 on 2016-03-05
Post score: 1

Original comments
Comment by gvdhoorn on 2016-03-06:
Have you seen wiki/roslua? It's a bit old (although the lua-5.2 branch is pretty recent), but it could provide you with some idea of how to tackle this.

A:

The topic_tools package provides a ShapeShifter class which can be used to subscribe to any topic, but the API is still limited to either passing around serialized messages, or message types that are known at compile time.
The relay node from topic_tools provides a simple example of how to publish and subscribe generically: relay.cpp

Originally posted by ahendrix with karma: 47576 on 2016-03-05
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to run tests in a ROS package?

I've written a ROS package, containing some nodes/scripts/messages etc, all laid out using the recommended folder structure. I'm not trying to execute some tests using the standard catkin_make run_tests and I'm getting the error:
The specified base path "my_ros_package" contains a package but "catkin_make" must be invoked in the root of workspace

If I'm reading this correctly, it's saying I need to create a ROS workspace...just to run tests? This seems a little strange to me. I've written a ton of unittests for Python packages, mostly using the Tox tool, and this handles creating a virtualenv, installing all your dependencies, and then running your tests, all from your Python package. I've never had to create a second Python package just to run my first package's tests.
If you've created a ROS project in a git repo, how are you supposed to test it? Create another git repo containing a "test" ROS workspace...which then clones your first repo? That seems redundant.

Originally posted by Cerin on ROS Answers with karma: 940 on 2018-03-08
Post score: 0

A:

Be sure you’re not in “src” directory. You should be in your “~/catkin_ws” directory and then run this command in terminal:
catkin_make

Originally posted by smartbot with karma: 16 on 2018-03-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Cerin on 2018-03-10:
Yes, I know. Why would I pollute my catkin_ws directory by running unittests in it?
Comment by smartbot on 2018-03-11:
I don't understand what do you mean by polluting your workspace directory. Anyways, my answer was depending on the error you getting as you have an issue with workspace structure.
Comment by smartbot on 2018-03-11:
Reference: https://answers.ros.org/question/221538/the-specified-base-path-homeruicatkin_ws-contains-a-package-but-catkin_make-must-be-invoked-in-the-root-of-workspace-how-can-i-fix-it/


Q:

Linker Error in simple program in Groovy

Hello, everyone,
I'm having some trouble in the linking step of my program after running rosmake.
My program has a dependency in one other package, though I'm pretty sure that this console output isn't related to something on my end.
[ rosmake ] Last 40 linesmpSensorInterface: 10.4 sec ]                                                                                       [ 1 Active 21/22 Complete ]
{-------------------------------------------------------------------------------
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'virtual thunk to log4cxx::AppenderSkeleton::addRef() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'virtual thunk to log4cxx::helpers::ObjectImpl::~ObjectImpl()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Level::getInfo()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'typeinfo for log4cxx::AppenderSkeleton'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::ObjectImpl::addRef() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::Pool::~Pool()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'typeinfo for log4cxx::Appender'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Logger::getRootLogger()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Logger::getLogger(char const*)'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::AppenderSkeleton::addRef() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Logger::getLoggerRepository() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'typeinfo for log4cxx::helpers::ObjectImpl'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'VTT for log4cxx::Appender'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::Object::getClass() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::spi::OptionHandler::getStaticClass()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::AppenderSkeleton::releaseRef() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::spi::LocationInfo::getLineNumber() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Logger::getLogger(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Level::getDebug()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'vtable for log4cxx::helpers::Object'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Level::getWarn()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'virtual thunk to log4cxx::helpers::ObjectImpl::addRef() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::Appender::getClass() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::ObjectPtrBase::~ObjectPtrBase()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'virtual thunk to log4cxx::helpers::ObjectImpl::~ObjectImpl()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'virtual thunk to log4cxx::helpers::ObjectImpl::releaseRef() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::spi::LocationInfo::getMethodName() const'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::AppenderSkeleton::doAppend(log4cxx::helpers::ObjectPtrT<log4cxx::spi::LoggingEvent> const&, log4cxx::helpers::Pool&)'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::Object::getStaticClass()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::ObjectImpl::~ObjectImpl()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'log4cxx::helpers::ObjectImpl::~ObjectImpl()'
/opt/ros/groovy/lib/libroscpp.so: error: undefined reference to 'typeinfo for log4cxx::helpers::ObjectPtrBase'
collect2: ld returned 1 exit status

By chance does anyone know where I'm going wrong?
(I could also be doing something completely foolish!)
Many thanks in advance!

Originally posted by Poofjunior on ROS Answers with karma: 88 on 2013-01-07
Post score: 0

Original comments
Comment by Poofjunior on 2013-01-07:
Ah, I should also post my additions to the CMakeLists.txt
19 rosbuild_add_executable(tempSensorInterface src/tempSensorInterface.cpp)
20 target_link_libraries( tempSensorInterface uniserial)
Comment by joq on 2013-01-08:
You can also edit your question to add additional information.
Comment by joq on 2013-01-08:
Did you build groovy from source or install the Ubuntu binary packages?
Comment by Poofjunior on 2013-01-12:
I'm using the binary packages.  Should I remove ROS and reinstall from source?  (At this point I've also now successfully installed the log4cxx library.)
Comment by joq on 2013-01-13:
The binary packages will be much easier to get working.

A:

This is a bug in rosconsole. It depends on the log4cxx library but doesn't expose this dependency to downstream projects. For now you have to link against "log4cxx" manually (even you don't use the library yourself). The next release of rosconsole (1.9.40) will fix that.

Originally posted by Dirk Thomas with karma: 16276 on 2013-01-15
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by kalectro on 2013-01-16:
interesting, I did not know that, thanks for the heads-up
Comment by Poofjunior on 2013-01-17:
I just discovered this when I removed roscpp from the CMakeLists findpackage() function and was able to create a successful build!  Thanks so much for bringing this up! To  manually link against log4cxx, right now I'm just adding log4cxx into my target_link_libraries(), or is there a better way?


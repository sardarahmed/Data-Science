Q:

How can I build messages separately from services?

I am trying to use the i2cpwm_board package.  This compiles and runs on the Raspberry Pi without problems.  However I want to send servo control messages to the Pi from a PC.  As I understand it this is trivial in ROS.  I run the servo control service on the Pi:
roscore and rosrun i2cpwm_board i2cpwm_board

... and then send messages to it via ROS topics from the PC:
rostopic pub -1 /servos_absolute i2cpwm_board/ServoArray "{servos:[{servo: 1, value: 300}]}"

The problem is that that the PC does not understand the message ?  I tried to build the i2cpwm_board package on the PC, but of course this is designed for the Pi and has many errors (the PC does not have I2C).
What is the approach for this type of multi-architecture problem ?  I feel that I have to change the CMakeLists or package.xml in some way so that the PC only tries to build the messages, but I am very inexperienced with ROS and do not see how to do that.

Originally posted by elpidiovaldez on ROS Answers with karma: 142 on 2018-05-19
Post score: 0

A:

Why not put the message and service definitions in a separate package from the actual service? It's actually a pretty common practice to separate code into separate minimal packages instead of one package that does everything.

Originally posted by jayess with karma: 6155 on 2018-05-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by elpidiovaldez on 2018-05-19:
Thanks.  That is exactly what I need to do.  I had just managed to figure it out for myself by trying to write my own version based on the ROS subscriber example.
Comment by gvdhoorn on 2018-05-20:\

As I understand it this is trivial in ROS.

@elpidiovaldez: that's exactly true, provided that the author of the package(s) that you want to communicate with don't do what the i2cpwm_board devs have done: put everything in a single package.
The suggestion by @jayess is exactly right.


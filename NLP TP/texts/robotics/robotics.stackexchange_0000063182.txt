Q:

Mavros not arming quadcopter?

Hi,
I've been trying to use mavros (http://wiki.ros.org/mavros) to fly a 3DR Iris quadcopter that has a Pixhawk on it, but we're having trouble arming the system.
Run through of the scenario:

We're inside, plug the battery in for the quadcopter, and the quad goes to flashing blue. This stands for "Autopilot ready but no GPS lock". We can arm the quadcopter with the RC controller at this point.

We plug in the radio modem and run 'roslaunch mavros apm2_planner.launch'. At this point we are connected to the quadcopter. When we rostopic echo the /mavros/battery and /mavros/imu/raw_data topics (among others) we get good data. We can pull and push missions.

We put the RC controller in AUTO mode

We run 'rosservice call /mavros/cmd/arming true' in a new terminal, it returns
success: false
result: 3

Does anyone have any ideas? Do we need to be outside with GPS fix? Are there any flags that need to be satisfied in the code before it will allow arming?
Thanks

Originally posted by Eric Schneider on ROS Answers with karma: 60 on 2014-10-08
Post score: 0

A:

Result codes defined in this enum: https://pixhawk.ethz.ch/mavlink/#ENUM_MAV_CMD_ACK
But last time i was seen APM code related to cmd 400 it may return 3 in many ways (it's disappointing me).
Also this topic more related to FCU Firmware rather than mavros, please ask at drone-discuss.

Originally posted by vooon with karma: 404 on 2014-10-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Eric Schneider on 2014-10-12:
Others can see the related drone-discuss question here: https://groups.google.com/forum/#!searchin/drones-discuss/mavros$20arming/drones-discuss/UGQUuGznug0/zNcNn71UlC8J
Comment by rayane on 2017-07-13:
@vooon @Eric Schneider I Have the same problem (just instead of 3 i have result: 4) and I went through all the drone-discuss in the group and I don't get which answer worked for this case?


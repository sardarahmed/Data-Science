Q:

Xsens error comunicating with Ubuntu 12.04

When I try to run:
$ rosrun xsens_driver mtnode.py
it shows this message:
[WARN] [WallTime: 1362075228.016104] Cannot find value for parameter: ~device, assigning default: auto
[WARN] [WallTime: 1362075228.017062] Cannot find value for parameter: ~baudrate, assigning default: 0
[ERROR] [WallTime: 1362075228.018932] Fatal: could not find proper MT device.
I don't know what is the cause of this error, the only thing I know is that when I plug sensor in the computer it doesn't create the virtual port ttyUSB0, what probably cause the node to doesn't find the sensor and send this error message. Someone know how can I fix this, what is causing this error, something is missing?
I'm using Ubuntu 12.04, Kernel 3.2.0-38-generic-pae, ros fuerte.
Before plug in the device:
dmesg|grep -i tty

[    0.000000] console [tty0] enabled
[    1.268379] serial8250: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
[    1.648533] 00:07: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
[   16.461250] Bluetooth: RFCOMM TTY layer initialized
After plug in
[    0.000000] console [tty0] enabled
[    1.268379] serial8250: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
[    1.648533] 00:07: ttyS0 at I/O 0x3f8 (irq = 4) is a 16550A
[   16.461250] Bluetooth: RFCOMM TTY layer initialized
(It's the same answer)

lsusb

Before plug in
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 002: ID 413c:2106 Dell Computer Corp. Dell QuietKey Keyboard
Bus 002 Device 003: ID 413c:3012 Dell Computer Corp. Optical Wheel Mouse
After plug in
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 003 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 004 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 005 Device 001: ID 1d6b:0001 Linux Foundation 1.1 root hub
Bus 002 Device 002: ID 413c:2106 Dell Computer Corp. Dell QuietKey Keyboard
Bus 002 Device 003: ID 413c:3012 Dell Computer Corp. Optical Wheel Mouse
Bus 005 Device 005: ID 2639:0013

And
udevadm monitor

When I plug in the device:
KERNEL[7687.265214] add      /devices/pci0000:00/0000:00:1d.3/usb5/5-2 (usb)
UDEV  [7687.266865] add      /devices/pci0000:00/0000:00:1d.3/usb5/5-2 (usb)
KERNEL[7687.268106] add      /devices/pci0000:00/0000:00:1d.3/usb5/5-2/5-2:1.0 (usb)
KERNEL[7687.268202] add      /devices/pci0000:00/0000:00:1d.3/usb5/5-2/5-2:1.1 (usb)
UDEV  [7687.269808] add      /devices/pci0000:00/0000:00:1d.3/usb5/5-2/5-2:1.1 (usb)
UDEV  [7687.270150] add      /devices/pci0000:00/0000:00:1d.3/usb5/5-2/5-2:1.0 (usb)

Originally posted by Gabrielcarioca on ROS Answers with karma: 28 on 2013-02-28
Post score: 0

Original comments
Comment by dornhege on 2013-02-28:
Please add dmesg output when you plug in the device.

A:

We are aware of this issue when using 4th generation MTi's (orange-coloured PCB/aluminum casing).
Currently, we are working on a new release of the Software Suite that solves these kind of connectivity issues when using the Xsens USB driver in Linux. Serial (RS232) interfaces don't experience this issue.
Marcel, Xsens

Originally posted by marcel_xsens with karma: 26 on 2013-03-04
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by dornhege on 2013-03-04:
Do the new ones have a custom USB interface (i.e no more FTDI) or is the problem just a custom vendor/product id for the FTDI?
Comment by marcel_xsens on 2013-03-04:
It is indeed a new USB interface, that comes directly from the PCB. It uses WinUSB. There is a driver for Linux in Gihub, but it may not work directly out of the box: https://github.com/xsens/xsens_mt
Comment by Gabrielcarioca on 2013-03-05:
There is a prevision for when this new Software Suite will come out? Where can I obtain a cable with serial interface RS232 for this MTi generation?
Comment by Mark Chen on 2013-12-28:
Hi, Marcel. I have the the same problem. When the MTi-700 is inserted into the USB cable, no /dev/ttyUSB0 is created. However, when I inserted another USB-RS232 device, the /dev/ttyUSB0 file was successfully created. Do you have any idea about this?
Comment by Mark Chen on 2013-12-29:
I have solved this problem. The ttyUSB0 is concerned about the Linux version. My previous version is Ubuntu 12.04 3.2.0, and was then updated to 3.8.0. Now it works. It seems that the problem is due to the lack of the module ehci-pci.
After updating the kernel, the following two steps should be run:

sudo modprobe usbserial

sudo insmod /home/abhishek/xsens_driver/xsens_mt/xsens_mt.ko (the xsens_mt.ko can be obtained by make the drive on http://github.com/xsens/xsens_mt).

Comment by Georg on 2014-04-30:
Hi, I also use an xsens MTI-G 700 on ubuntu 12.04. I use the xsens_driver from the hydro debs and have the problem, that the configuration call "rosrun xsens_driver mtdevice.py --configure --output-mode=coapvs --output-settings=tqMAG" causes both the mtdevice.py as well as the node to fail have parsing problems: "MT error: could not parse MTData message" does anybody have an idea? both work fine when I use: rosrun xsens_driver "mtdevice.py -c -s 0x1 -m 0x4"


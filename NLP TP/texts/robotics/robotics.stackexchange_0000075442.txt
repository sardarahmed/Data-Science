Q:

Do topic callbacks and timer callbacks run in the same thread?

The title says it all actually. I wonder whether I need to protect my subscription callbacks from my timer callbacks with a mutex:
eventSubscriber = nh.subscribe("my_topic", 1, &MyNodeClass::topicCallback, this);
timer           = nh.createTimer(my_period_, boost::bind(&MyNodeClass::timerCallback, this, _1));

Can topicCallback and timerCallback be executed in parallel?

Originally posted by Dimitri Schachmann on ROS Answers with karma: 789 on 2016-07-26
Post score: 0

A:

No, topicCallback and timerCallback cannot be executed in parallel, as long as you are using single-threaded spinning. For example, if you are using an AsyncSpinner, callbacks are called from multiple threads and additional care needs to be taken.
Timer (and topic/message) callbacks are serviced when calling spin() or spinOnce() (assuming you are not using some custom CallbackQueue handling).
Refer to http://wiki.ros.org/roscpp/Overview/Callbacks%20and%20Spinning for more details. ;-)

Originally posted by CodeFinder with karma: 100 on 2016-07-26
This answer was ACCEPTED on the original site
Post score: 3


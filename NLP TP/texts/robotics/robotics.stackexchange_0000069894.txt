Q:

Gmapping works in Gazebo, but not on robot

Hello everyone,
another problem with gmapping.
When using the Gazebo simulator gmapping works fine with this command
$ rosrun gmapping slam_gmapping scan:=youbot/scan_front _base_frame:=youbot/base_link _odom_frame:=youbot/odom

As far as I understand this correcly, the arguments should be

scan:=scan
_base_link:=base_link
_odom_frame:=odom

which are the default values, so just starting it with $ rosrun gmapping slam_gmapping scan:=scan should work. The values were obtained from a rosrun tf view_frames (image is a link, click to expand) and rostopic list.

$ rostopic list
/cmd_vel
/cmd_vel_safe
/dashboard/platform_state
/diagnostics
/hokuyo_node/parameter_descriptions
/hokuyo_node/parameter_updates
/joint_states
/map
/map_metadata
/odom
/rosout
/rosout_agg
/scan
/slam_gmapping/entropy
/tf
/tf_static

Gmapping gives with the error:
 [ WARN] [1444300130.237434289]: MessageFilter [target=odom ]: Dropped 100.00% of messages so far. Please turn the [ros.gmapping.message_notifier] rosconsole logger to DEBUG for more information.

which then leads me to the debug messages:
[DEBUG] [1444300178.106273471]: MessageFilter [target=odom ]: Added message in frame laser at time 1444300192.911, count now 5
[DEBUG] [1444300178.210528915]: MessageFilter [target=odom ]: Removed oldest message because buffer is full, count now 5 (frame_id=laser, stamp=1444300192.508830)

In Gazebo Gmapping starts up with some messages (Laser pose, values of settings,...) until Registering first Scan appears, on the actual robot there is just the warning message after a time.
I really don't know what the problem is and would be glad about any input!

Originally posted by 85pando on ROS Answers with karma: 5 on 2015-10-08
Post score: 0

A:

Not sure but on attached log I saw:
frame_id=laser

but this frame does not appear in your tf tree. I guess this is the frame id set on your scan messages but since it does not exists...

Originally posted by afranceson with karma: 497 on 2015-10-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by 85pando on 2015-10-14:
Yeah, that helped a lot. The Hokuyo node publishes on the wrong frame. For the youbot I now changed the launch file to include:
<node pkg="hokuyo_node" type="hokuyo_node" name="hokuyo_node">
  <param name="frame_id" value="/base_laser_front_link" />
</node>


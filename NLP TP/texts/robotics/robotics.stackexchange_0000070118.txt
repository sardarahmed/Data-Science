Q:

RVIZ Build on RPI 2

I am running raspbian jessie. I followed tutorial at ROS on RPI Wiki
I'm trying command "sudo ./src/catkin/bin/catkin_make_isolated --pkg rviz --install -DCMAKE_BUILD_TYPE=Release --install-space /opt/ros/indigo --make-args -j1"
Result is :
Base path: /home/pi/ros_catkin_ws
Source space: /home/pi/ros_catkin_ws/src
Build space: /home/pi/ros_catkin_ws/build_isolated
Devel space: /home/pi/ros_catkin_ws/devel_isolated
Install space: /opt/ros/indigo
Additional CMake Arguments: -DCMAKE_BUILD_TYPE=Release
Additional make Arguments: -j1
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
~~  traversing 188 packages in topological order:
~~  - catkin
~~  - genmsg
~~  - gencpp
~~  - genlisp
~~  - genpy
~~  - angles
~~  - bond_core
~~  - cmake_modules
~~  - class_loader
~~  - common_msgs
~~  - common_tutorials
~~  - convex_decomposition
~~  - cpp_common
~~  - desktop
~~  - diagnostics
~~  - eigen_stl_containers
~~  - executive_smach
~~  - geometry
~~  - geometry_tutorials
~~  - ivcon
~~  - media_export
~~  - message_generation
~~  - message_runtime
~~  - mk
~~  - nodelet_core
~~  - octomap (plain cmake)
~~  - orocos_kdl (plain cmake)
~~  - pr2_description
~~  - python_orocos_kdl (plain cmake)
~~  - qt_dotgraph
~~  - qt_gui
~~  - qt_gui_py_common
~~  - random_numbers
~~  - robot
~~  - robot_model
~~  - ros
~~  - ros_base
~~  - ros_comm
~~  - ros_core
~~  - ros_tutorials
~~  - rosbag_migration_rule
~~  - rosbash
~~  - rosboost_cfg
~~  - rosbuild
~~  - rosclean
~~  - roscpp_core
~~  - roscpp_traits
~~  - roscreate
~~  - rosgraph
~~  - roslang
~~  - roslint
~~  - rosmake
~~  - rosmaster
~~  - rosmsg
~~  - rospack
~~  - roslib
~~  - rosparam
~~  - rospy
~~  - rosservice
~~  - rostime
~~  - roscpp_serialization
~~  - python_qt_binding
~~  - roslaunch
~~  - rosunit
~~  - rosconsole
~~  - pluginlib
~~  - qt_gui_cpp
~~  - resource_retriever
~~  - rosconsole_bridge
~~  - roslz4
~~  - rosbag_storage
~~  - rostest
~~  - rqt_action
~~  - rqt_bag
~~  - rqt_bag_plugins
~~  - rqt_common_plugins
~~  - rqt_console
~~  - rqt_dep
~~  - rqt_graph
~~  - rqt_gui
~~  - rqt_logger_level
~~  - rqt_moveit
~~  - rqt_msg
~~  - rqt_nav_view
~~  - rqt_plot
~~  - rqt_pose_view
~~  - rqt_publisher
~~  - rqt_py_common
~~  - rqt_py_console
~~  - rqt_reconfigure
~~  - rqt_robot_dashboard
~~  - rqt_robot_monitor
~~  - rqt_robot_plugins
~~  - rqt_robot_steering
~~  - rqt_runtime_monitor
~~  - rqt_service_caller
~~  - rqt_shell
~~  - rqt_srv
~~  - rqt_tf_tree
~~  - rqt_top
~~  - rqt_topic
~~  - rqt_web
~~  - smach
~~  - smclib
~~  - std_msgs
~~  - actionlib_msgs
~~  - bond
~~  - diagnostic_msgs
~~  - geometry_msgs
~~  - eigen_conversions
~~  - kdl_conversions
~~  - nav_msgs
~~  - rosgraph_msgs
~~  - sensor_msgs
~~  - image_geometry
~~  - map_msgs
~~  - shape_msgs
~~  - smach_msgs
~~  - std_srvs
~~  - stereo_msgs
~~  - tf2_msgs
~~  - tf2
~~  - trajectory_msgs
~~  - control_msgs
~~  - urdf_parser_plugin
~~  - visualization_msgs
~~  - geometric_shapes
~~  - visualization_tutorials
~~  - viz
~~  - xmlrpcpp
~~  - roscpp
~~  - bondcpp
~~  - bondpy
~~  - collada_parser
~~  - joint_state_publisher
~~  - nodelet
~~  - nodelet_tutorial_math
~~  - pluginlib_tutorials
~~  - roscpp_tutorials
~~  - rosout
~~  - cv_bridge
~~  - diagnostic_aggregator
~~  - diagnostic_updater
~~  - diagnostic_common_diagnostics
~~  - dynamic_reconfigure
~~  - filters
~~  - message_filters
~~  - image_transport
~~  - rosnode
~~  - rospy_tutorials
~~  - rostopic
~~  - roswtf
~~  - rqt_gui_cpp
~~  - rqt_gui_py
~~  - rqt_image_view
~~  - self_test
~~  - smach_ros
~~  - tf2_py
~~  - topic_tools
~~  - rosbag
~~  - actionlib
~~  - actionlib_tutorials
~~  - diagnostic_analysis
~~  - nodelet_topic_tools
~~  - rqt_launch
~~  - tf2_ros
~~  - tf
~~  - interactive_markers
~~  - interactive_marker_tutorials
~~  - laser_geometry
~~  - tf2_kdl
~~  - tf_conversions
~~  - turtlesim
~~  - turtle_actionlib
~~  - turtle_tf
~~  - turtle_tf2
~~  - urdf
~~  - collada_urdf
~~  - kdl_parser
~~  - robot_state_publisher
~~  - rviz
~~  - librviz_tutorial
~~  - rqt_rviz
~~  - rviz_plugin_tutorials
~~  - rviz_python_tutorial
~~  - urdf_tutorial
~~  - visualization_marker_tutorials
~~  - xacro
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Skipping package: 'catkin'
Skipping package: 'genmsg'
Skipping package: 'gencpp'
Skipping package: 'genlisp'
Skipping package: 'genpy'
Skipping package: 'angles'
Skipping package: 'bond_core'
Skipping package: 'cmake_modules'
Skipping package: 'class_loader'
Skipping package: 'common_msgs'
Skipping package: 'common_tutorials'
Skipping package: 'convex_decomposition'
Skipping package: 'cpp_common'
Skipping package: 'desktop'
Skipping package: 'diagnostics'
Skipping package: 'eigen_stl_containers'
Skipping package: 'executive_smach'
Skipping package: 'geometry'
Skipping package: 'geometry_tutorials'
Skipping package: 'ivcon'
Skipping package: 'media_export'
Skipping package: 'message_generation'
Skipping package: 'message_runtime'
Skipping package: 'mk'
Skipping package: 'nodelet_core'
Skipping package: 'octomap'
Skipping package: 'orocos_kdl'
Skipping package: 'pr2_description'
Skipping package: 'python_orocos_kdl'
Skipping package: 'qt_dotgraph'
Skipping package: 'qt_gui'
Skipping package: 'qt_gui_py_common'
Skipping package: 'random_numbers'
Skipping package: 'robot'
Skipping package: 'robot_model'
Skipping package: 'ros'
Skipping package: 'ros_base'
Skipping package: 'ros_comm'
Skipping package: 'ros_core'
Skipping package: 'ros_tutorials'
Skipping package: 'rosbag_migration_rule'
Skipping package: 'rosbash'
Skipping package: 'rosboost_cfg'
Skipping package: 'rosbuild'
Skipping package: 'rosclean'
Skipping package: 'roscpp_core'
Skipping package: 'roscpp_traits'
Skipping package: 'roscreate'
Skipping package: 'rosgraph'
Skipping package: 'roslang'
Skipping package: 'roslint'
Skipping package: 'rosmake'
Skipping package: 'rosmaster'
Skipping package: 'rosmsg'
Skipping package: 'rospack'
Skipping package: 'roslib'
Skipping package: 'rosparam'
Skipping package: 'rospy'
Skipping package: 'rosservice'
Skipping package: 'rostime'
Skipping package: 'roscpp_serialization'
Skipping package: 'python_qt_binding'
Skipping package: 'roslaunch'
Skipping package: 'rosunit'
Skipping package: 'rosconsole'
Skipping package: 'pluginlib'
Skipping package: 'qt_gui_cpp'
Skipping package: 'resource_retriever'
Skipping package: 'rosconsole_bridge'
Skipping package: 'roslz4'
Skipping package: 'rosbag_storage'
Skipping package: 'rostest'
Skipping package: 'rqt_action'
Skipping package: 'rqt_bag'
Skipping package: 'rqt_bag_plugins'
Skipping package: 'rqt_common_plugins'
Skipping package: 'rqt_console'
Skipping package: 'rqt_dep'
Skipping package: 'rqt_graph'
Skipping package: 'rqt_gui'
Skipping package: 'rqt_logger_level'
Skipping package: 'rqt_moveit'
Skipping package: 'rqt_msg'
Skipping package: 'rqt_nav_view'
Skipping package: 'rqt_plot'
Skipping package: 'rqt_pose_view'
Skipping package: 'rqt_publisher'
Skipping package: 'rqt_py_common'
Skipping package: 'rqt_py_console'
Skipping package: 'rqt_reconfigure'
Skipping package: 'rqt_robot_dashboard'
Skipping package: 'rqt_robot_monitor'
Skipping package: 'rqt_robot_plugins'
Skipping package: 'rqt_robot_steering'
Skipping package: 'rqt_runtime_monitor'
Skipping package: 'rqt_service_caller'
Skipping package: 'rqt_shell'
Skipping package: 'rqt_srv'
Skipping package: 'rqt_tf_tree'
Skipping package: 'rqt_top'
Skipping package: 'rqt_topic'
Skipping package: 'rqt_web'
Skipping package: 'smach'
Skipping package: 'smclib'
Skipping package: 'std_msgs'
Skipping package: 'actionlib_msgs'
Skipping package: 'bond'
Skipping package: 'diagnostic_msgs'
Skipping package: 'geometry_msgs'
Skipping package: 'eigen_conversions'
Skipping package: 'kdl_conversions'
Skipping package: 'nav_msgs'
Skipping package: 'rosgraph_msgs'
Skipping package: 'sensor_msgs'
Skipping package: 'image_geometry'
Skipping package: 'map_msgs'
Skipping package: 'shape_msgs'
Skipping package: 'smach_msgs'
Skipping package: 'std_srvs'
Skipping package: 'stereo_msgs'
Skipping package: 'tf2_msgs'
Skipping package: 'tf2'
Skipping package: 'trajectory_msgs'
Skipping package: 'control_msgs'
Skipping package: 'urdf_parser_plugin'
Skipping package: 'visualization_msgs'
Skipping package: 'geometric_shapes'
Skipping package: 'visualization_tutorials'
Skipping package: 'viz'
Skipping package: 'xmlrpcpp'
Skipping package: 'roscpp'
Skipping package: 'bondcpp'
Skipping package: 'bondpy'
Skipping package: 'collada_parser'
Skipping package: 'joint_state_publisher'
Skipping package: 'nodelet'
Skipping package: 'nodelet_tutorial_math'
Skipping package: 'pluginlib_tutorials'
Skipping package: 'roscpp_tutorials'
Skipping package: 'rosout'
Skipping package: 'cv_bridge'
Skipping package: 'diagnostic_aggregator'
Skipping package: 'diagnostic_updater'
Skipping package: 'diagnostic_common_diagnostics'
Skipping package: 'dynamic_reconfigure'
Skipping package: 'filters'
Skipping package: 'message_filters'
Skipping package: 'image_transport'
Skipping package: 'rosnode'
Skipping package: 'rospy_tutorials'
Skipping package: 'rostopic'
Skipping package: 'roswtf'
Skipping package: 'rqt_gui_cpp'
Skipping package: 'rqt_gui_py'
Skipping package: 'rqt_image_view'
Skipping package: 'self_test'
Skipping package: 'smach_ros'
Skipping package: 'tf2_py'
Skipping package: 'topic_tools'
Skipping package: 'rosbag'
Skipping package: 'actionlib'
Skipping package: 'actionlib_tutorials'
Skipping package: 'diagnostic_analysis'
Skipping package: 'nodelet_topic_tools'
Skipping package: 'rqt_launch'
Skipping package: 'tf2_ros'
Skipping package: 'tf'
Skipping package: 'interactive_markers'
Skipping package: 'interactive_marker_tutorials'
Skipping package: 'laser_geometry'
Skipping package: 'tf2_kdl'
Skipping package: 'tf_conversions'
Skipping package: 'turtlesim'
Skipping package: 'turtle_actionlib'
Skipping package: 'turtle_tf'
Skipping package: 'turtle_tf2'
Skipping package: 'urdf'
Skipping package: 'collada_urdf'
Skipping package: 'kdl_parser'
Skipping package: 'robot_state_publisher'

==> Processing catkin package: 'rviz'
==> Building with env: '/opt/ros/indigo/env.sh'
Makefile exists, skipping explicit cmake invocation...
==> make cmake_check_build_system in '/home/pi/ros_catkin_ws/build_isolated/rviz'
==> make -j1 in '/home/pi/ros_catkin_ws/build_isolated/rviz'
[ 55%] Built target rviz
[ 55%] Built target executable
[ 92%] Built target default_plugin
[ 93%] Built target rviz_image_view
[ 93%] Built target color_editor_test
[ 93%] Built target connect_test
[ 93%] Built target interactive_marker_test
[ 94%] Built target line_edit_with_button_test
[ 94%] Built target new_display_dialog_test
[ 94%] Built target render_panel_test
[ 95%] Built target render_points_test
[ 95%] Built target two_render_widgets
[100%] Built target rviz_shiboken
[100%] Compiling generated code for rviz_sip Python bindings...
siplibrviz_siprvizToolManager.o: file not recognized: File truncated
collect2: ld returned 1 exit status
Makefile:37: recipe for target '"/home/pi/ros_catkin_ws/devel_isolated/rviz/lib/python2.7/dist-packages/rviz/librviz_sip".so' failed
make[3]: *** ["/home/pi/ros_catkin_ws/devel_isolated/rviz/lib/python2.7/dist-packages/rviz/librviz_sip".so] Error 1
src/python_bindings/sip/CMakeFiles/librviz_sip.dir/build.make:53: recipe for target '/home/pi/ros_catkin_ws/devel_isolated/rviz/lib/python2.7/dist-packages/rviz/librviz_sip.so' failed
make[2]: *** [/home/pi/ros_catkin_ws/devel_isolated/rviz/lib/python2.7/dist-packages/rviz/librviz_sip.so] Error 2
CMakeFiles/Makefile2:3173: recipe for target 'src/python_bindings/sip/CMakeFiles/librviz_sip.dir/all' failed
make[1]: *** [src/python_bindings/sip/CMakeFiles/librviz_sip.dir/all] Error 2
Makefile:123: recipe for target 'all' failed
make: *** [all] Error 2
<== Failed to process package 'rviz':
  Command '['/opt/ros/indigo/env.sh', 'make', '-j1']' returned non-zero exit status 2

Reproduce this error by running:
==> cd /home/pi/ros_catkin_ws/build_isolated/rviz && /opt/ros/indigo/env.sh make -j1

Command failed, exiting.

It seems the compilation is finished, but then something happens during linking. Rosdep gives some warning about python libs
pi@raspberrypi ~/ros_catkin_ws $ rosdep install --from-paths src --ignore-src --rosdistro indigo -y -r --os=debian:jessie
executing command [sudo -H apt-get install -y python-rospkg]
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 python-rospkg : Depends: python:any (>= 2.7.1-0ubuntu2) but it is not installable
E: Unable to correct problems, you have held broken packages.
executing command [sudo -H apt-get install -y python-catkin-pkg]
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 python-catkin-pkg : Depends: python:any (>= 2.7.1-0ubuntu2) but it is not installable
E: Unable to correct problems, you have held broken packages.
executing command [sudo -H apt-get install -y python-rosdep]
Reading package lists... Done
Building dependency tree
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 python-rosdep : Depends: python:any (>= 2.7.1-0ubuntu2) but it is not installable
                 Depends: python-catkin-pkg but it is not going to be installed
                 Depends: python-rospkg (>= 1.0.34) but it is not going to be installed
                 Depends: python-rosdistro (>= 0.4.0) but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
executing command [sudo -H apt-get install -y libpython2.7-stdlib]
Reading package lists... Done
Building dependency tree
Reading state information... Done
E: Unable to locate package libpython2.7-stdlib
E: Couldn't find any package by regex 'libpython2.7-stdlib'
executing command [sudo -H apt-get install -y libogre-1.8]
Reading package lists... Done
Building dependency tree
Reading state information... Done
Note, selecting 'libogre-1.8-dev' for regex 'libogre-1.8'
Note, selecting 'libogre-1.8.0-dbg' for regex 'libogre-1.8'
Note, selecting 'libogre-1.8.0' for regex 'libogre-1.8'
libogre-1.8-dev is already the newest version.
libogre-1.8.0 is already the newest version.
libogre-1.8.0-dbg is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
ERROR: the following rosdeps failed to install
  apt: command [sudo -H apt-get install -y python-rospkg] failed
  apt: command [sudo -H apt-get install -y python-catkin-pkg] failed
  apt: command [sudo -H apt-get install -y python-rosdep] failed
  apt: command [sudo -H apt-get install -y libpython2.7-stdlib] failed
  apt: Failed to detect successful installation of [python-rospkg]
  apt: Failed to detect successful installation of [python-catkin-pkg]
  apt: Failed to detect successful installation of [python-rosdep]
  apt: Failed to detect successful installation of [libpython2.7-stdlib]
  apt: Failed to detect successful installation of [libogre-1.8]

I had to hack the rosdep settings file with my own base.yaml because the current base.yaml requires lib_ogre_1.9 which is unavailable in the jessie repos.
pi@raspberrypi ~/ros_catkin_ws $ cat /etc/ros/rosdep/sources.list.d/20-default.list
# os-specific listings first
yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/osx-homebrew.yaml osx

# generic
# yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/base.yaml
yaml https://dl.dropboxusercontent.com/u/9840518/base.yaml
# yaml ~/ros_catkin_ws/base.yaml
yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/python.yaml
yaml https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/ruby.yaml
gbpdistro https://raw.githubusercontent.com/ros/rosdistro/master/releases/fuerte.yaml fuerte

Suggestions are welcome!

Originally posted by cezar11111111 on ROS Answers with karma: 16 on 2015-10-29
Post score: 0

A:

I have taken another direction in running RVIZ on RPI2, following mainly these two guides:
https://wiki.ubuntu.com/ARM/RaspberryPi
http://wiki.ros.org/indigo/Installation/UbuntuARM
Now the RVIZ package is succesfully installed on my board.
Thanks & Regards!

Originally posted by cezar11111111 with karma: 16 on 2015-11-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Iman on 2015-11-09:
I am also trying to run rviz on RPI2
you have installed ROS-base, right?
is rviz included? or i have to install ROS-desktop?
I really appreciate any help!
regards
Comment by cezar11111111 on 2015-11-09:
After setting up the sources you can do apt-cache search "ros-indigo" then it will show you all the options available for that distribution. If you install ros-indigo-desktop-full, it will contain rviz.
Comment by Iman on 2015-11-10:
I have installed ros-indigo-desktop, but when I run "rosrun rviz rviz" I get that error Segmentation fault (core dumped), and when I use roslaunch turtlebot_bringup minimal.launch
it give me that [robot_state_publisher-2] process has died [pid 1644, exit code -11..
have you seen something like this?


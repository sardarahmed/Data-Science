Q:

tf lookupTransform sigabrt

hi,
i want to get the transformation between my /map and /robot_0/base_link. I am currentry trying it with:
tf::TransformListener listener;
    tf::StampedTransform transform;
    listener.lookupTransform("/map",
                             "/robot_0/base_link",
                             ros::Time(0),
                             transform);

but i always get a SIGABRT.
What I am doing wrong ?
my tf tree: 
regards,
Edit:
i get the following Error message:

Peter

Originally posted by pkohout on ROS Answers with karma: 336 on 2014-03-29
Post score: 1

A:

Is there any output? (Do you have output="screen" in your launch file?)
It would help if you could post the full code for the node. Are you catching the exceptions mentioned in the API? http://docs.ros.org/hydro/api/tf/html/c++/classtf_1_1Transformer.html#ac01a9f8709a828c427f1a5faa0ced42b
Edit:
It looks like your are trying to look up a transform before the listener has received enough information. Try adding a call to waitForTransform before lookupTransform. If that doesn't help, please add more of your code to your question.

Originally posted by demmeln with karma: 4306 on 2014-03-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by pkohout on 2014-04-02:
i solved the problem, i had to use ros::Time::now() instead of ros::Time(0). I do not know why the code fom http://wiki.ros.org/tf/Tutorials/Writing%20a%20tf%20listener%20%28C%2B%2B%29 does not work, maybe there is something wrong in the tutorial example code.
Comment by demmeln on 2014-04-02:
I have no idea why it would work with ros::Time::now() and not ros::Time(0). In any case it would be a good idea to explictely add a call to waitForTransform. Your code is likely brittle to timeing changes. If your problem is solved, please inicate that by marking an answer as accepted. Thanks.
Comment by dornhege on 2014-04-02:
There are also no try/catch blocks. Even with waitForTransform there might still be an exception.


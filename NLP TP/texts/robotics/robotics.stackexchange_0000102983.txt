Q:

Cannot build package due to pkg_resources.extern.packaging.version.InvalidVersion

Hello,
Currently, I am on Galactic, Ubuntu 20.4
Whenever I run colcon build, my process always fails and give the following reason.
After doing some research, I know is having an issue about the pip version.
Thus, I am wondering if there is a way I can solve it.
Thank you very much!
/home/shouyu/.local/lib/python3.8/site-packages/setuptools/command/install.py:34: SetuptoolsDeprecationWarning: setup.py install is deprecated. Use build and pip and other standards-based tools.
  warnings.warn(

Traceback (most recent call last):
  File "setup.py", line 5, in <module>
    setup(
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/__init__.py", line 108, in setup
    return distutils.core.setup(**attrs)
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/_distutils/core.py", line 185, in setup
    return run_commands(dist)
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/_distutils/core.py", line 201, in run_commands
    dist.run_commands()
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/_distutils/dist.py", line 969, in run_commands
self.run_command(cmd)
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/dist.py", line 1213, in run_command
    super().run_command(command)
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/_distutils/dist.py", line 987, in run_command
    cmd_obj.ensure_finalized()
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/_distutils/cmd.py", line 111, in ensure_finalized
    self.finalize_options()
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/command/develop.py", line 52, in finalize_options
    easy_install.finalize_options(self)
  File "/home/shouyu/.local/lib/python3.8/site-packages/setuptools/command/easy_install.py", line 311, in finalize_options
    self.local_index = Environment(self.shadow_path + sys.path)
  File "/home/shouyu/.local/lib/python3.8/site-packages/pkg_resources/__init__.py", line 1044, in __init__
    self.scan(search_path)
  File "/home/shouyu/.local/lib/python3.8/site-packages/pkg_resources/__init__.py", line 1077, in scan
    self.add(dist)
  File "/home/shouyu/.local/lib/python3.8/site-packages/pkg_resources/__init__.py", line 1096, in add
    dists.sort(key=operator.attrgetter('hashcmp'), reverse=True)
  File "/home/shouyu/.local/lib/python3.8/site-packages/pkg_resources/__init__.py", line 2631, in hashcmp
    self.parsed_version,
  File "/home/shouyu/.local/lib/python3.8/site-packages/pkg_resources/__init__.py", line 2685, in parsed_version
    raise packaging.version.InvalidVersion(f"{str(ex)} {info}") from None
pkg_resources.extern.packaging.version.InvalidVersion: Invalid version: '0.23ubuntu1' (package: distro-info)

Originally posted by sdu568 on ROS Answers with karma: 45 on 2023-01-28
Post score: 1

A:

I solved the issue by downgrade by setuptools package in python to  "65.7.0"

Originally posted by sdu568 with karma: 45 on 2023-01-29
This answer was ACCEPTED on the original site
Post score: 1


Q:

Unable to load existing OWL in Semantic Map Editor

When I tried to load and existing OWL file in Semantic Map Editor, the console output the following messages and just stuck there :
Feb 14, 2014 2:03:01 PM controlP5.ControlBroadcaster printMethodError
SEVERE: An error occured while forwarding a Controller event, please check your code at controlEvent
java.lang.reflect.InvocationTargetException
    at sun.reflect.GeneratedMethodAccessor6.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at controlP5.ControlBroadcaster.invokeMethod(Unknown Source)
    at controlP5.ControlBroadcaster.broadcast(Unknown Source)
    at controlP5.Controller.broadcast(Unknown Source)
    at controlP5.Button.setValue(Unknown Source)
    at controlP5.Button.activate(Unknown Source)
    at controlP5.Button.mouseReleased(Unknown Source)
    at controlP5.Controller.setMousePressed(Unknown Source)
    at controlP5.ControllerGroup.setMousePressed(Unknown Source)
    at controlP5.ControlWindow.mouseReleasedEvent(Unknown Source)
    at controlP5.ControlWindow.mouseEvent(Unknown Source)
    at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
    at java.lang.reflect.Method.invoke(Method.java:606)
    at processing.core.PApplet$RegisteredMethods.handle(Unknown Source)
    at processing.core.PApplet.handleMouseEvent(Unknown Source)
    at processing.core.PApplet.dequeueMouseEvents(Unknown Source)
    at processing.core.PApplet.handleDraw(Unknown Source)
    at processing.core.PApplet.run(Unknown Source)
    at java.lang.Thread.run(Thread.java:744)
Caused by: jpl.PrologException: PrologException: error(existence_error(procedure, /(rdf_has, 3)), context(:(system, /('<meta-call>', 1)), _27))
    at jpl.Query.get1(Query.java:336)
    at jpl.Query.hasMoreSolutions(Query.java:258)
    at jpl.Query.oneSolution(Query.java:688)
    at jpl.Query.hasSolution(Query.java:759)
    at edu.tum.cs.ias.knowrob.prolog.PrologInterface.executeQuery(PrologInterface.java:99)
    at edu.tum.cs.ias.knowrob.vis.applets.SemanticMapVisApplet.getItem(SemanticMapVisApplet.java:903)
    at edu.tum.cs.ias.knowrob.vis.applets.SemanticMapVisApplet.addObject(SemanticMapVisApplet.java:364)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditorForms.controlEvent(SemanticMapEditorForms.java:521)
    ... 22 more

What might be the cause and how to solve it? Thanks~
====================================================
UPDATE:
New error messages:
%     library(error) compiled into error 0.01 sec, 18,352 bytes
%    library(lists) compiled into lists 0.01 sec, 44,824 bytes
%   library(shlib) compiled into shlib 0.01 sec, 65,920 bytes
%   library(option) compiled into swi_option 0.00 sec, 14,752 bytes
ERROR: /usr/lib/swi-prolog/library/process.pl:47:
    '$open_shared_object'/3: /usr/lib/swi-prolog/lib/amd64/process.so: undefined symbol: Sfilefunctions
Warning: /usr/lib/swi-prolog/library/process.pl:47:
    Goal (directive) failed: process:use_foreign_library(foreign(process))
ERROR: /usr/lib/swi-prolog/library/process.pl:341:
    Exported procedure process:process_wait/3 is not defined
ERROR: /usr/lib/swi-prolog/library/process.pl:341:
    Exported procedure process:process_kill/2 is not defined
%  library(process) compiled into process 1.14 sec, 97,120 bytes
% /opt/ros/groovy/stacks/knowrob/rosprolog/prolog/init.pl compiled 1.14 sec, 109,432 bytes
jpl.PrologException: PrologException: error(existence_error(procedure, :(process, /(process_create, 2))), context(:(process, /(process_create, 3)), _0))
    at jpl.Query.get1(Query.java:336)
    at jpl.Query.hasMoreSolutions(Query.java:258)
    at jpl.Query.oneSolution(Query.java:688)
    at edu.tum.cs.ias.knowrob.prolog.PrologInterface.initJPLProlog(PrologInterface.java:43)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditor.<init>(SemanticMapEditor.java:37)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
    at java.lang.Class.newInstance(Class.java:374)
    at processing.core.PApplet.runSketch(Unknown Source)
    at processing.core.PApplet.main(Unknown Source)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditor.main(SemanticMapEditor.java:78)
Exception in thread "main" java.lang.RuntimeException: jpl.PrologException: PrologException: error(existence_error(procedure, :(owl_parser, /(owl_parse, 4))), context(:(system, /(call, 1)), _2))
    at processing.core.PApplet.runSketch(Unknown Source)
    at processing.core.PApplet.main(Unknown Source)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditor.main(SemanticMapEditor.java:78)
Caused by: jpl.PrologException: PrologException: error(existence_error(procedure, :(owl_parser, /(owl_parse, 4))), context(:(system, /(call, 1)), _2))
    at jpl.Query.get1(Query.java:336)
    at jpl.Query.hasMoreSolutions(Query.java:258)
    at jpl.Query.oneSolution(Query.java:688)
    at jpl.Query.hasSolution(Query.java:759)
    at edu.tum.cs.ias.knowrob.prolog.PrologInterface.executeQuery(PrologInterface.java:99)
    at edu.tum.cs.ias.knowrob.prolog.PrologQueryUtils.parseOwlFile(PrologQueryUtils.java:55)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditorForms.loadInputFile(SemanticMapEditorForms.java:1298)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditorForms.selectAndLoadInputFile(SemanticMapEditorForms.java:1272)
    at edu.tum.cs.ias.knowrob.map.SemanticMapEditor.<init>(SemanticMapEditor.java:59)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57)
    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
    at java.lang.reflect.Constructor.newInstance(Constructor.java:526)
    at java.lang.Class.newInstance(Class.java:374)
    ... 3 more

My default-java links to java-1.7.0-openjdk-amd64, and java-1.7.0-openjdk-amd64 links to java-7-openjdk-amd64.

Originally posted by Albert K on ROS Answers with karma: 301 on 2014-02-23
Post score: 0

A:

OK, so I've tested in my setup. What works for me is to call export LD_PRELOAD=libswipl.so; rosrun knowrob_gui KnowRobGUI and to load the demo-map.owl. It looks like this http://knowrob.org/_media/doc/demo-map.png

Originally posted by moritz with karma: 2673 on 2014-03-05
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Albert K on 2014-03-12:
Sorry for the late reply. Here's the output message when I run the program using the above command: http://notepad.cc/tovoiglu79 . When I load the demo-map.owl, I get additional output: "% Loaded "demo-map.owl" in 0.00 sec; 192 triples" on the terminal, but there's still nothing shown in the program.


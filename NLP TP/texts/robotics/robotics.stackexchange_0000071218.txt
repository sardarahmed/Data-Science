Q:

RobotLocalization: navsatnode give wrong results with "nan covariance"

<node pkg="nostop_robot_localization" type="navsat_transform_node" name="test_navsat_node" respawn="true">

  <param name="magnetic_declination_radians" value="2.38"/>
  <param name="yaw_offset" value="0"/>
  <param name="delay" value="0"/>
  <param name="map_frame" value="SRworld"/>
  <param name="odom_frame" value="odom"/>
   <param name="base_link_frame" value="base_link"/>
   <param name="world_frame" value="SRworld"/>
   <!--  Placeholder for input topic remapping-->
   <!--remap from="don't touch" to="my_topic" /-->
  <remap from="/imu/data" to="/test_imu" />
  <remap from="/gps/fix" to="/test_gps" />
  <remap from="/odometry/filtered" to="/output_of_ekf1" />
  
   <!-- Placeholders for output remapping. -->
  <remap from="/odometry/gps" to="/odometry_from_gps"/>
  <remap from="/gps/filtered" to="/gps_filtered"/>
  
</node>

This code returns a nan covariance and the transform doesn't work.
Imu data, gps data and odometry data are ok. Frames are correctly choose, then where is the problem?
Bag file : https://drive.google.com/open?id=0B_1fqLQnQO6obUg0Y3BfekZOdTQ
Message screenshot : https://drive.google.com/open?id=0B_1fqLQnQO6oWjM3WnpFTW9TM2s

Originally posted by Niko on ROS Answers with karma: 33 on 2016-01-08
Post score: 0

Original comments
Comment by Tom Moore on 2016-01-15:
Also, is this from source, or is this the installed binary?
Comment by Tom Moore on 2016-01-15:
Also, I lack permission to view the bag file. It would be really helpful if you could also paste sample messages from all of your input sources in the question.

A:

Thanks for the answer but I have resolved. The problem was in the imu frame_id = ' ' instead frame_id = base_link. Beginner mistake!

Originally posted by Niko with karma: 33 on 2016-01-15
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Tom Moore on 2016-03-08:
Glad you found a solution!


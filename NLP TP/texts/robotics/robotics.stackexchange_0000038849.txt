Q:

Lego Digital Designer doesn't export the right model. Ideas?

Today I've downloaded the Lego Digital Designer from the Lego website and then generated some designs. When I exported the .lxf and .ldr files and proceeded to convert them to .urdf using the lxf2urdf converter I got this message:
Unable to handle 'robot.lxf': 89

I also tried re-generating the urdf files with the lxf/ldf files that come with the nxt_robots_* packages and everything went fine, but if I open and save/export them with LDD (without making any changes) then I also have a similar error message.
Note that in the example above #89 is the link that the converter can't handle, but I noticed that that link doesn't seem to exist, and I checked that the latest (... 86, 87, 88) links generated match with the latest lines at the .ldr file and also with the latest bricks I added with the designer.
So I think it's just that the folks at Lego have updated the .lxf format and the lxf2urdf parser just can't understand the ending of the file... This is really a problem because the urdf generated doesn't have any joints, just links :(
Until someone updates it, anyone knows which version of the LDD works (if any)?
I'd try to upload tomorrow the .lxf file that I've designed in case someone wants to try it (and maybe give me the proper .urdf file :P)
Thanks!
Miguel.
Update: Here are the files! Could anyone try them?
robot.lxf
robot.ldr
robot.urdf
Update: I think now I know what's wrong. When I use the wide rims to build a robot they are not exported to the .ldr file. Actually, if I build a robot with these wide rims LDD will generate an empty (WTF!?) .ldr file... Because of this, lxf2urdf doesn't recognize the bricks and fails to convert the model. I don't know why this happens, but I'm out of ideas. I tried with the latest LDD version (4.2.something), with 4.0 and with 3.1.

Originally posted by Capelare on ROS Answers with karma: 202 on 2012-03-20
Post score: 1

A:

I solved this by replacing the "ldraw.xml" file that comes with the LDD software with the one hosted here. Apparently the original file is outdated.
This seems to solve the problem :)

Originally posted by Capelare with karma: 202 on 2012-03-27
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Capelare on 2012-03-27:
Someone please mark this answer as correct, since I don't have enough karma points.
Comment by Bence Magyar on 2012-03-27:
Could you please modify the NXT ROS wiki tutorial page accordingly? I also had the same problem but I had to move on so skipped this step but would like to get back to it sometime.
Comment by Capelare on 2012-03-28:
Bence I went to the nxt_lxf2urdf wiki page to do so and noticed that this was already noted... I guess I skipped that part when I read the wiki -_-"
Comment by mdtobi on 2013-06-24:
Thanks for the link. I'm using the Lego Digital Designer 4.3.6 and the ldraw file from the wiki page produced an error ("unable to export file"). But the file you linked to is working well.


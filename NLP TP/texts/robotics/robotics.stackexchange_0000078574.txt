Q:

Rviz in a Virtual machine VM process died - initially using hector_slam kinetic Ubuntu 16.04 virtual box 5

Hi,
I'm having trouble with the Hector_slam tutorials, i'm running ROS Kinetic on Ubuntu 16.04.
When i try and run the launch file i get the following:
[rviz-1] process has died [pid 2487, exit code -11, cmd /opt/ros/kinetic/lib/rviz/rviz -d /opt/ros/kinetic/share/hector_slam_launch/rviz_cfg/mapping_demo.rviz __name:=rviz __log:=/home/ben/.ros/log/a7183d30-e320-11e6-a7a4-0800279fda91/rviz-1.log].
log file: /home/ben/.ros/log/a7183d30-e320-11e6-a7a4-0800279fda91/rviz-1*.log

I have no idea why it failed, and even though it generated a log file, it didn't actually write anything to it, as when i open the associated file with a text editor, it's blank.
Any help would be appreciated. Thanks, Ben

Originally posted by Ben12345 on ROS Answers with karma: 98 on 2017-01-25
Post score: 0

Original comments
Comment by gvdhoorn on 2017-01-25:
Please tell us what platform this is, and how you installed ROS. From your other questions I gather this could be a raspberry pi, which could be important.
Comment by Ben12345 on 2017-01-25:
Hi, Ubuntu 16.04 running in Virtual box 5.0.30 on a mac. No raspberry pi.
Ros was installed via the installation guidelines presented on the website - i.e sudo apt-get install etc etc. It was desktop full.
Comment by gvdhoorn on 2017-01-25:
I'm not saying it's definitely the problem, but running RViz in vbox has been problematic before. Have you installed the relevant video drivers / extensions?
Also: are there more lines to the error you posted above?
And: can you rosrun rviz rviz by itself?
Comment by Ben12345 on 2017-01-25:
Hmm that's interesting, i had a few issues with the serial from a VM Ros node about a year ago so that would make sense. I'll give it a try on my dual boot tomorrow.
No i cannot run Rviz by itself, i get a segmentation fault and core dump.
No additional text from the original question.
Thanks
Comment by Ben12345 on 2017-01-25:
Oh and 3D acceleration is enabled, and i'm running OpenGL 2.1 within the VM
Comment by gvdhoorn on 2017-01-26:
Ok. May I suggest you update the title of your question then? The current title seems to suggest this is a problem with hector_slam, but it looks more like an RViz<->VBox problem.

A:

Ok so it seems the problem is with RVIZ and a virtual machine, as this works under a real machine.
A solution for anyone wanting to run Rviz in a virtual box VM is to disable 3D acceleration, i.e switch the VM off, go into settings and uncheck the box for 3D acceleration, i disabled 2D acceleration too.
I imagine there will be a performance hit with any graphics, but something is better than nothing.

Originally posted by Ben12345 with karma: 98 on 2017-02-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by William on 2017-02-03:
I can reproduce, but the segfault is somewhere in Ogre3D and unfortunately I don't really have time to dig into the root cause. I also noticed that glxgears caused weird behavior in the same situation. Maybe it's a bug in the VB video driver for 16.04. Not free, but Parallels works great for me.


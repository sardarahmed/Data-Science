Q:

robot_state_publisher can find 'robot' element

I am trying to load a simple urdf file into rviz.
According to the urdf tutorials I need to start the robot_state_publisher and the joint_state_publisher, but when I start the robot_state_publisher on the following file I get an error.
The urdf file:
<?xml version="1.0"?>
<robot name="bobby">
  <link name="base_link">
    <visual>
      <geometry>
        <box size="0.65 0.72 0.25"/>
      </geometry>
    </visual>
  </link>
</robot>

When I then run the following command:
rosparam set robot_description bobby.urdf
rosrun robot_state_publisher robot_state_publisher

The error that I get is:
[ERROR] [1374568528.590558816]: Could not find the 'robot' element in the xml file
[ERROR] [1374568528.590988619]: Could not generate robot model
[ERROR] [1374568528.591074594]: Failed to extract kdl tree from xml robot description

I am using groovy on 13.04
Can someone tell me what I am doing wrong?

Originally posted by LordTimmeh on ROS Answers with karma: 18 on 2013-07-22
Post score: 0

Original comments
Comment by thebyohazard on 2013-07-23:
Can you add the commands you ran?
Comment by LordTimmeh on 2013-07-25:
I have added my commands to the original question.

A:

Your robot needs a name. Replace the first line with something like
<robot name="robot">

EDIT:
The command rosparam set robot_description bobby.urdf actually sets robot_description to the string "bobby.urdf". What you want is the actual contents of the xml file there instead. Try instead
rosparam set robot_description --textfile bobby.urdf

Originally posted by thebyohazard with karma: 3562 on 2013-07-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by LordTimmeh on 2013-07-23:
I tried this, when I do, I get the same error.
(I changed it in my original post)
Comment by LordTimmeh on 2013-07-25:
Thank you, this fixed my problem.
I was indeed passing it the filename,
Doe i also have to do this for the join_state_publisher?
Comment by thebyohazard on 2013-07-25:
It looks to be the same for joint_state_publisher, and I don't imagine the authors would want to have to switch formats for robot_description. It's been a while since I used it though, so I can't tell you for sure.
Comment by felix k on 2013-07-25:
Yip, robot_description is the same for every node and has to contain the full XML structure.
Comment by LordTimmeh on 2013-07-26:
Ah thanks, everything is clear now.
I interpreted the wiki as meaning the file instead of the text.
Comment by felix k on 2013-07-26:
The node on the other networked machine wants to use robot_description and cannot use any local file path. Think big =]


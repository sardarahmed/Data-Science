Q:

rgbdslam with ROS fuerte installed

Hi, I am using rgbdslam on a Ubuntu 11.10 machine, with ROS fuerte installed. I follow the tutorial(http://www.ros.org/wiki/rgbdslam),
but when I type:
dong@dong-Inspiron-N5110:~/fuerte_workspace/sandbox$ rosdep install rgbdslam
there is a bug:

    ERROR: the following packages/stacks could not have their rosdep keys resolved
    to system dependencies:
    
    rgbdslam: Missing resource eigen
    
    ROS path [0]=/opt/ros/fuerte/share/ros
    
    ROS path [1]=/home/dong/fuerte_workspace/sandbox
    
    ROS path [2]=/home/dong/ros
    
    ROS path [3]=/home/dong/ros
    
    ROS path [4]=/opt/ros/fuerte/share
    
    ROS path [5]=/opt/ros/fuerte/stacks

Is rgbdslam not available for fuerte? How can I make it work?

By following Allenh1's answer, I solved a question but encounter another question:

dong@dong-Inspiron-N5110:~$ rosdep install rgbdslam

    ERROR: the following packages/stacks could not have their rosdep keys resolved
    to system dependencies:
    
    rgbdslam: Cannot locate rosdep definition for [gl2ps]

I don't know why. rosmake don't work too.

I Use this command to install the package:

    sudo apt-get install libgl2ps-dev libgl2ps0

but it doesn't work. there is still

the error above.
    the rosmake(with complete information) error is:

dong@dong-Inspiron-N5110:~/fuerte_workspace/sandbox/rgbdslam$ rosmake rgbdslam

  [ rosmake ] rosmake starting...                                                 
[ rosmake ] Packages requested are: ['rgbdslam']                                
[ rosmake ] Logging to directory /home/dong/.ros/rosmake/rosmake_output-20120727-110708
[ rosmake ] Expanded args ['rgbdslam'] to:
['rgbdslam']                         
[rosmake-0] Starting >>> bullet [ make ]                                        
[rosmake-0] Finished <<< bullet ROS_NOBUILD in package bullet                   
[rosmake-0] Starting >>> geometry_msgs [ make ]                                 
[rosmake-0] Finished <<< geometry_msgs  No Makefile in package geometry_msgs    
[rosmake-0] Starting >>> sensor_msgs [ make ]                                   
[rosmake-1] Starting >>> roslang [ make ]                                       
[rosmake-2] Starting >>> rosconsole [ make ]                                    
[rosmake-0] Finished <<< sensor_msgs  No Makefile in package sensor_msgs        
[rosmake-0] Starting >>> angles [ make ]                                        
[rosmake-3] Starting >>> rostest [ make ]                                       
[rosmake-2] Finished <<< rosconsole  No Makefile in package rosconsole          
[rosmake-2] Starting >>> roswtf [ make ]                                        
[rosmake-0] Finished <<< angles ROS_NOBUILD in package angles                   
[rosmake-1] Finished <<< roslang  No Makefile in package roslang                
[rosmake-1] Starting >>> roscpp [ make ]                                        
[rosmake-0] Starting >>> rospy [ make ]                                         
[rosmake-2] Finished <<< roswtf  No Makefile in package roswtf                  
[rosmake-3] Finished <<< rostest  No Makefile in package rostest                
[rosmake-3] Starting >>> message_filters [ make ]                               
[rosmake-2] Starting >>> g2o [ make ]                                           
[rosmake-0] Finished <<< rospy  No Makefile in package rospy                    
[rosmake-1] Finished <<< roscpp  No Makefile in package roscpp                  
[rosmake-3] Finished <<< message_filters  No Makefile in package message_filters
[rosmake-0] Starting >>> std_msgs [ make ]                                      
[rosmake-1] Starting >>> rosbag [ make ]                                        
[rosmake-3] Starting >>> tf [ make ]                                            
[rosmake-1] Finished <<< rosbag  No Makefile in package rosbag                  
[rosmake-1] Starting >>> rosbuild [ make ]                                      
[rosmake-3] Finished <<< tf ROS_NOBUILD in package tf                           
[rosmake-0] Finished <<< std_msgs  No Makefile in package std_msgs              
[rosmake-0] Starting >>> pcl [ make ]                                           
[rosmake-3] Starting >>> roslib [ make ]                                        
[rosmake-1] Finished <<< rosbuild  No Makefile in package rosbuild              
[rosmake-0] Finished <<< pcl  No Makefile in package pcl                        
[rosmake-3] Finished <<< roslib  No Makefile in package roslib                  
[rosmake-0] Starting >>> smclib [ make ]                                        
[rosmake-1] Starting >>> rosservice [ make ]                                    
[rosmake-1] Finished <<< rosservice  No Makefile in package rosservice          
[rosmake-1] Starting >>> dynamic_reconfigure [ make ]                           
[rosmake-1] Finished <<< dynamic_reconfigure ROS_NOBUILD in package dynamic_reconfigure
[rosmake-1] Starting >>> common_rosdeps [ make ]                                
[rosmake-3] Starting >>> pluginlib [ make ]                                     
[rosmake-1] Finished <<< common_rosdeps ROS_NOBUILD in package common_rosdeps   
[rosmake-1] Starting >>> bond [ make ]                                          
[rosmake-0] Finished <<< smclib ROS_NOBUILD in package smclib                   
[rosmake-1] Finished <<< bond ROS_NOBUILD in package bond                       
[rosmake-1] Starting >>> opencv2 [ make ]                                       
[rosmake-3] Finished <<< pluginlib ROS_NOBUILD in package pluginlib             
[rosmake-0] Starting >>> bondcpp [ make ]                                       
[rosmake-3] Starting >>> visualization_msgs [ make ]                            
[rosmake-1] Finished <<< opencv2 ROS_NOBUILD in package opencv2                 
[rosmake-1] Starting >>> cv_bridge [ make ]                                     
[rosmake-1] Finished <<< cv_bridge ROS_NOBUILD in package cv_bridge             
[rosmake-0] Finished <<< bondcpp ROS_NOBUILD in package bondcpp                 
[rosmake-3] Finished <<< visualization_msgs  No Makefile in package visualization_msgs
[rosmake-0] Starting >>> nodelet [ make ]                                       
[rosmake-0] Finished <<< nodelet ROS_NOBUILD in package nodelet                 
[rosmake-0] Starting >>> nodelet_topic_tools [ make ]                           
[rosmake-0] Finished <<< nodelet_topic_tools ROS_NOBUILD in package nodelet_topic_tools
[rosmake-0] Starting >>> pcl_ros [ make ]                                       
[rosmake-0] Finished <<< pcl_ros ROS_NOBUILD in package pcl_ros                 
[rosmake-2] Finished <<< g2o [PASS] [ 0.06 seconds ]                            
[rosmake-2] Starting >>> rgbdslam [ make ]                                      
[ rosmake ] Last 40 linesbdslam: 19.2 sec ]          [ 1 Active 31/32 Complete ]
{-------------------------------------------------------------------------------
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [  7%] Generating ../src/rgbdslam/srv/_rgbdslam_ros_ui.py
  [  7%] Generating ../src/rgbdslam/srv/_rgbdslam_ros_ui_f.py
  [  7%] Generating ../src/rgbdslam/srv/_rgbdslam_ros_ui_b.py
  [  7%] Generating ../src/rgbdslam/srv/__init__.py
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [ 17%] Built target ROSBUILD_gensrv_py
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  Scanning dependencies of target ROSBUILD_gensrv_cpp
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [ 17%] Generating ../srv_gen/cpp/include/rgbdslam/rgbdslam_ros_ui_f.h
  [ 17%] Generating ../srv_gen/cpp/include/rgbdslam/rgbdslam_ros_ui_b.h
  [ 17%] Generating ../srv_gen/cpp/include/rgbdslam/rgbdslam_ros_ui.h
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [ 25%] Built target ROSBUILD_gensrv_cpp
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  Scanning dependencies of target rospack_gensrv
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [ 25%] Built target rospack_gensrv
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  Scanning dependencies of target rosbuild_precompile
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [ 25%] Built target rosbuild_precompile
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  Scanning dependencies of target gicp
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  make[3]: 正在进入目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  [ 28%] Building CXX object CMakeFiles/gicp.dir/external/gicp/bfgs_funcs.o
  In file included from /home/dong/fuerte_workspace/sandbox/rgbdslam/external   
         /gicp/bfgs_funcs.cpp:37:0:
  /home/dong/fuerte_workspace/sandbox/rgbdslam/external/gicp/optimize.h:44:28: 
   致命错误： gsl/gsl_linalg.h：没有那个文件或目录
  编译中断。
  make[3]: *** [CMakeFiles/gicp.dir/external/gicp/bfgs_funcs.o] 错误 1
  make[3]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  make[2]: *** [CMakeFiles/gicp.dir/all] 错误 2
  make[2]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
  make[1]: *** [all] 错误 2
  make[1]:正在离开目录 `/home/dong/fuerte_workspace/sandbox/rgbdslam/build'
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package rgbdslam written to:
[ rosmake ]    /home/dong/.ros/rosmake/rosmake_output-20120727-110708/rgbdslam/build_output.log
[rosmake-2] Finished <<< rgbdslam [FAIL] [ 19.26 seconds ]                      
[ rosmake ] Halting due to failure in package rgbdslam. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:                                                            
[ rosmake ] Built 32 packages with 1 failures.                                  
[ rosmake ] Summary output to directory                                         
[ rosmake ] /home/dong/.ros/rosmake/rosmake_output-20120727-110708   

By following Sudhan's advice(http://answers.ros.org/question/40059/ros-rgbdslam-fuerte-support/),rosmake rgbdslam works, but octomap still has some problems:
1.edit manifest.xml in rgbdslam package. delete the line '' and add the following
then you can find something similar to loop starting and ending with . within that add the following line without editing other lines:
2.then install qt4. simply, use ubuntu software centre. In devoloper tools -> IDE. you can find it (most probably in the name qt creator).
3.then
$ sudo apt-get install libglew1.5-dev libdevil-dev libsuitesparse-dev
$ sudo apt-get install libgsl0-dev
4.then do $ rosmake rgbdslam. Incase, if you find any error try it with $ rosmake --pre-clean rgbdslam.

Originally posted by dragonfly90 on ROS Answers with karma: 13 on 2012-07-16
Post score: 1

Original comments
Comment by dragonfly90 on 2012-07-19:
by following allenh1's answer, I solved a question but encounter another question:
Comment by allenh1 on 2012-07-23:
Hm... Those are the two packages you are failing to meet the dependencies for... I'd like to see the error from rosmake.

A:

Here's what I did to make it work:
Change the manifest.xml to the following:
<package>
  <description brief="SLAM on RGBD Data">
    This package can be used to register the point clouds from RGBD sensors such as the kinect or stereo cameras.
    The rgbdslam node can be connected easily to an octomap_server node to create a memory-efficient 3D map.
  </description>
  <author>Felix Endres, Juergen Hess, Nikolas Engelhard</author>
  <license>GPL v3</license>
  <review status="unreviewed" notes=""/>
  <url>http://ros.org/wiki/rgbdslam</url>
  <depend package="tf"/>
  <depend package="g2o"/>
  <depend package="pcl"/>
  <depend package="rospy"/>
  <depend package="roscpp"/>
  <depend package="rosbag"/>
  <depend package="pcl_ros"/>
  <!--depend package="opencv2"/-->
  <depend package="cv_bridge"/>
  <depend package="sensor_msgs"/>
  <!--depend package="openni_camera"/-->
  <depend package="geometry_msgs"/>
  <depend package="visualization_msgs"/>
  <rosdep name="opengl"/>
  <rosdep name="qt4"/>
  <rosdep name="eigen"/>
  <rosdep name="libglew"/>
  <rosdep name="libdevil"/>
  <rosdep name="gsl-dev"/>
  <rosdep name="gl2ps"/>
  <export>
    <rosdoc config="rosdoc.yaml" />
    <nodelet plugin="${prefix}/nodelet_plugins.xml" />
    <cpp cflags="-I${prefix}/srv_gen/cpp"/>
 </export>
</package>

This makes the eigen library known as a system dependency, not a ros package.

If you receive the error below, then you need to install a package.
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:

rgbdslam: Cannot locate rosdep definition for [gl2ps]

Use this command to install the package:
sudo apt-get install libgl2ps-dev libgl2ps0

Originally posted by allenh1 with karma: 3055 on 2012-07-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by allenh1 on 2012-07-24:
How about you go to the root of the rgbdslam directory and do a git pull? Maybe code isnoutdated. If you just downloaded it, Check the cmake file.  If it doesn't work, list the build log.
Comment by jerdman on 2012-07-25:
I edited the manifest, which fixed the issue with eigen, but now I'm getting an error about siftgpu
CMake Error at CMakeLists.txt:103 (MESSAGE):
SiftGPU cannot be compiled.  Returned: 2
Comment by jerdman on 2012-07-25:
I edited the manifest, which fixed the issue with eigen, but now I'm getting an error about siftgpu
Comment by jerdman on 2012-07-25:
I edited the manifest, which fixed the issue with eigen, but now I'm getting an error about siftgpu
Comment by gpsinghsandhu on 2012-07-28:
As per me you need a whole lot of other stuff just to use siftgpu. You can disable this feature(only an addon) by editing first line of CMakeList --- set(USE_SIFT_GPU 0) and try to build the rgbdslam if it succeeds please let me know


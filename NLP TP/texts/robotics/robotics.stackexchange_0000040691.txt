Q:

Gmapping in Rviz with Turtlebot

Hi everyone,
I am trying to work on the tutorial provided for gmapping with the Turtlbot and am having some difficulties. I am only getting a blank background when running
rosrun rviz rviz -d rospack find turtlebot_navigation/nav_rviz.vcg
I have posted a screenshot that contains both my rviz screen and my terminal running the gmap demo. The camera is showing the map+obstacle data as shown in my second screenshot.Screenshot-2.png
I have played a bit with the map settings and the background/grid to try and get something but to no avail. Any ideas?
Screenshot.png

Originally posted by TaylorC on ROS Answers with karma: 148 on 2012-05-21
Post score: 0

Original comments
Comment by Eric Perko on 2012-05-21:
Try changing the target_frame to something besides the fixed frame that is attached to the robot, such as base_link or base_footprint.
Comment by piyushk on 2012-05-21:
If the above suggestion does not work, the camera may still not be pointing in the correct. If you are using Fuerte, you can hit the zero button in the Views window. In Electric, I typically zoom out completely (right clicked + drag down), realign (both clicked + drag), zoom in (left clicked + drag)

A:

Hi,
I did face this issue. Try changing the Views to "Orbit" "FPS" and "TopDown Ortho". You might be able to view the map as you wished.
Thanks,
Karthik

Originally posted by karthik with karma: 2831 on 2012-05-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by TaylorC on 2012-05-22:
Thanks Karthik! Changed to Orbit and I can finally see. Did you run into your robot getting confused as to its location? My gmap is not looking at all like it should. I am having slight lag with gmap updates but controls are responsive (using keypad). I have synced times as well.
Comment by TaylorC on 2012-05-22:
The turtlebot is detecting obstacles accurately at about a 2s lag but is not drawing the map correctly. I lapped it around my cubicle 6 times with no obstacles except two cabinets and the walls (made a makeshift door to block entrance).


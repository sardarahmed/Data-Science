Q:

Odometry Information Source

Hi,
I'm trying to generate odometry information following this tutorial. I am using a robot like this one - build with phidgets and with a Kinect mounted.
My problem is that I don't have a speed-source for the robot. It does not have a stepper motor or encoder and the actual speed depends on many factors (laptop weight, floor type, battery state, ...). Seems like this is my best shot for now (Obtaining nav_msgs/Odometry from a laser_scan (eg. with laser_scan_matcher)). Is vslam worth trying with kinect? Is there any other possibility? Am I missing something?
Edit:
it's quite pointless. I can say that the robot moves with fixed speed x and it kind of works but the next issue is the yaw angle - I don't have a gyro and laser_scan_matcher estimations are not very accurate.
For me it means: gmapping won't work without a good odometry source.

Originally posted by Cav on ROS Answers with karma: 345 on 2012-01-24
Post score: 1

A:

I believe that this is what you're looking for. You can then use laser_scan_matcher to compute odometry information.

Originally posted by DimitriProsser with karma: 11163 on 2012-01-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Cav on 2012-01-25:
@tfoote: I was following the Odom-tutorial and using the code from it - I need the vx, vy, vth to compute the odometry. laser_scan_matcher is giving me the position already but to be able to publish nav_msgs/Odometry I still need the speed.
Comment by Cav on 2012-01-25:
@DimitriProsser: laser_scan_matcher is publishing the information as geometry_msgs/Pose2D so I would have to modify it to obtain the needed nav_msgs/Odometry and publish it to the odom topic, right?
Comment by tfoote on 2012-01-24:
Why do you need the velocity information specifically?  Usually the velocity information is integrated to help inform the position.  The laser scan matching goes directly to positional which is usually what you care about.
Comment by DimitriProsser on 2012-01-24:
Why would you have to modify laser_scan_matcher?
Comment by Cav on 2012-01-24:
This is what was in the answer I mentioned (Obtaining nav_msgs/Odometry from a laser_scan), too, but in order to make it work I would have to modify laser_scan_matcher pkg, if I understood it correctly. Is there no other option? FYI I am quite new to ROS :)
Comment by tfoote on 2012-02-22:
The scan matcher algorithm is inherently discrete.  Whatever you do you will need to therefore differentiate the signal.  Thus you could simply write a node which computes the velocity based on the sequence of pose messages.  Then you don't have to modify the node.
Comment by Cav on 2012-02-22:
yes but in my case it does not work too good (movement in a corridor is not being recognized with laser_scan_matcher only). if anyone is interested, tom did some modifications already, links are here: http://answers.ros.org/question/12489/obtaining-nav_msgsodometry-from-a-laser_scan-eg#18434
Comment by martimorta on 2012-07-31:
If you still need it we have a node to transform several kind of messages to odometry http://www.ros.org/wiki/iri_msg_to_odom In this case would be "pose2d_to_odom"


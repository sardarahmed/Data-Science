Q:

How to start the ur modern driver in pos based instead of vel based

It is mentioned in the README of the driver that there is a way to switch between the two modes of executing the joint trajectory. However, how should one specify one rather then the other as default when deploying the driver?
Your help would be very much appreciated.
Victor Wu.

Originally posted by Victor Wu on ROS Answers with karma: 53 on 2019-07-09
Post score: 0

A:

This would be the same as with other ros_control based hardware_interface drivers: by changing the configuration of which controllers are loaded and started vs loaded and stopped.
For the UR3 with ur_modern_driver that can be done with the controllers and stopped_controllers launch file arguments here:

<arg name="controllers" default="joint_state_controller force_torque_sensor_controller vel_based_pos_traj_controller"/>

<arg name="stopped_controllers" default="pos_based_pos_traj_controller joint_group_vel_controller"/>

as you can see, by default the joint_state_controller, force_torque_sensor_controller and the vel_based_pos_traj_controller are loaded and started, and the pos_based_pos_traj_controller and joint_group_vel_controller are loaded but in the stopped state.
You'll want to change that such that pos_based_pos_traj_controller is loaded and started and vel_based_pos_traj_controller is loaded but stopped.

Originally posted by gvdhoorn with karma: 86574 on 2019-07-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Victor Wu on 2019-07-09:
Thank you. That will let me go back to the pos_based controller to carry on my work and try to learn how to use the vel_based controller. I am hoping that the vel_based controller can give me a smoother movement.


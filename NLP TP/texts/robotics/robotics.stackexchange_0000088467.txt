Q:

error while loading shared libraries: libopencv_calib3d3.so.3.2: cannot open shared object file

I see libopencv_calib3d.so, libopencv_calib3d.so.3.3, and libopencv_calib3d.so.3.3.1, but not what I need libopencv_calib3d.so.3.2 .
I have tried several methods, update ubuntu, create a 3.2 to 3.3 soft connection, and modify ld.so.conf.My OpenCV version is 3.1, ubuntu 16.04 and kinetic.
process[republish-1]: started with pid [3405]
process[camera/image_proc-2]: started with pid [3406]
/opt/ros/kinetic/lib/image_proc/image_proc: error while loading shared libraries: libopencv_calib3d3.so.3.2: cannot open shared object file: No such file or directory
[camera/image_proc-2] process has died [pid 3406, exit code 127, cmd /opt/ros/kinetic/lib/image_proc/image_proc _approximate_sync:=true image_raw:=image __name:=image_proc __log:=/home/burger/.ros/log/ccdd3c4e-9ba4-11e8-9c4b-000c29da7948/camera-image_proc-2.log].
log file: /home/burger/.ros/log/ccdd3c4e-9ba4-11e8-9c4b-000c29da7948/camera-image_proc-2*.log

Originally posted by DGCHAO on ROS Answers with karma: 3 on 2018-08-12
Post score: 0

A:

I've had issues where libraries have been linked to over specific versions of the shared objects. There is a simple but slightly messy fix. You can create a symlink from libopencv_calib3d.so.3.3 to libopencv_calib3d.so.3.2 you may have to repeat this for quite a few of the openCV shared objects but I've always managed to get things working using this method.
Hope this helps.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2018-08-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by DGCHAO on 2018-08-13:
Thank you for your answer
I have try
ln -s libopencv_calib3d3.so.3.3 libopencv_calib3d3.so.3.2 
sudo ldconfig
And I use the ls -l command to see the links that have been created.But the error has not changed
Comment by PeteBlackerThe3rd on 2018-08-13:
Is it exactly the same error message? I'd expect it to fail now with a different openCV .so file with a very similar name.
Comment by DGCHAO on 2018-08-13:
Itâ€™s exactly the same error message, it doesn't seem to have any effect.There may be other reasons for this error.
Comment by DGCHAO on 2018-08-13:
I installed two OpenCV versions, one is 2.4.9 and the other is 3.3.1. Will it be the reason for this?
Comment by PeteBlackerThe3rd on 2018-08-13:
It looks like it's a problem with the library paths in this case. Have you got a build dependency on openCV3 on your package.xml file and the correct dependency set in CMakeLists.txt?
Comment by DGCHAO on 2018-08-13:
I find the dependency on package.xml .<exec_depend>python-opencv</exec_depend>.But when I view the dynamic link library through the burger@burger:/opt/ros/kinetic/lib/arm-linux-gnueabihf$ ldd libopencv_calib3d3.so.3.3 It won't show about libopencv_calib3d3.so.
Comment by DGCHAO on 2018-08-13:
It seems to be able to use some libraries in OpenCV3, of course not including libopencv_calib3d3.so.
Comment by DGCHAO on 2018-08-14:
That's strange.When I verify with pkg-config --modversion opencv which shows 2.4.9 version .But when verify withpython -c "import cv2 :print cv2__version__"which shows 3.3.1 version.
Comment by DGCHAO on 2018-08-14:
Thank you very much for your help, I have solved the problem. I misplaced the link and now I re-established the link.
Comment by PeteBlackerThe3rd on 2018-08-14:
Great, glad you got it working.


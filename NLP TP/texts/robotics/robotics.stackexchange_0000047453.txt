Q:

robot_pose_ekf coordinate frame

I have a visual odometry source which outputs Ros odometry msg in a coordinate system of the camera which is z-axis forward. Now i also have an Imu based odometry which gives data according to coordinate frame of the world which is x-axis forward.
If i input these two sources in the robot_pose_ekf package, the pose published from the package would be according to which coordinate system?
If this could cause a problem should i convert the visual odometry to the world's coordinate system with x-axis forward terminology.? Also what about the related published tf..?

Originally posted by Karan on ROS Answers with karma: 263 on 2013-01-20
Post score: 1

A:

The wiki page of robot_pose_ekf says that all poses are robot poses. So every source of information should publish pose information of the robot (and not the sensor). REP 105 could help you to understand odometry frames. If your odometry source publishes sensor movements you will have to transform this to robot movements.
Have a look at viso2_ros::OdometerBase::integrateAndPublish() for an example of how to transform sensor pose information to robot pose information using tf.

Originally posted by Stephan with karma: 1924 on 2013-01-23
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Karan on 2013-01-23:
So this means i should transform the visual odometry from z-axis forward frame to robot frame which is X-axis forward..?
Comment by Stephan on 2013-01-23:
Yes, the full transformation from your visual odometry frame to your robot base_link has to be used. Make sure all your motion input reports motion of the same frame (base_link).


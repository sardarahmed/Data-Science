Q:

Webots version 7.1.2 problem with image_raw / Nao Robots / ROS

Hello there,
Our group has been trying to get a video feed from a Nao Robot in Webots, using ROS. We've successfully managed to obtain a video image from the top camera (ID:"/CameraTop_frame"), but when we switch to the bottom camera (ID:"/CameraBottom_frame"), it returns no data and crashes the camera driver. We've tried 'rostopic echo' on both cameras and only the top camera returns any data.
We have been editing the file "nao_camera.py" to switch between the two cameras, editing the following line in the script (line 31):
self.camera_switch = rospy.get_param('~camera_switch', 0)   #We change the 0 here to a 1. This should access the bottom camera
    if self.camera_switch == 0:
        self.frame_id = "/CameraTop_frame"
    elif self.camera_switch == 1:
        self.frame_id = "/CameraBottom_frame"
    else:
        rospy.logerr('Invalid camera_switch. Must be 0 or 1')
        exit(1)

Our team thinks it is either an issue with Webots/ROS, or perhaps we are trying to access the bottom camera in the wrong way? We are all running 64 bit Ubuntu. We have also tried rolling back Webots until version 6, as well as trying the newest version, 7.2.1. The top camera works fine across all versions.
Any input would be greatly appreciated.
Thanks,
Dominic.

Originally posted by Dominic on ROS Answers with karma: 11 on 2013-08-13
Post score: 1

Original comments
Comment by SL Remy on 2013-08-15:
Are you using http://www.ros.org/wiki/kaist_webots ?

A:

This looks like it could be a bug in nao_camera.py. Unfortunately I don't have webots to test it myself. You could try contacting some of the other developpers by posting on
https://groups.google.com/forum/#!forum/ros-sig-aldebaran
Hope that helps!

Originally posted by Miguel S. with karma: 1114 on 2013-08-15
This answer was ACCEPTED on the original site
Post score: 0


Q:

ros2: C++ and Python in same package. Is it possible?

Hi
In ROS1, it was possible to have Python script in any package that contains C++ or Python, but in ROS2, it seems we need separate packages for Python and C++, which I do not find practical.
Is there any reason of not having the possibility to create one package for both C++ and Python?

Originally posted by Anis on ROS Answers with karma: 253 on 2018-07-26
Post score: 5

Original comments
Comment by 130s on 2023-04-07:
https://answers.ros.org/question/309391 is a follow-up to this question, as OP there didn't find none of the answers in this thread so far makes it clear how to mix C++ and Python.

A:

It is possible to create a package having multiple programming languages. rclpy is a ROS 2 package containing both python and C. The same could be done with C++ and python.
In ROS 1 using catkin and calling catkin_python_setup() in a CMakeLists.txt causes a setup.py file to be called, but the CMake code has to be there even if the package has no C or C++ code. In ROS 2 a package can be pure python.

Originally posted by sloretz with karma: 3061 on 2018-07-26
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Dirk Thomas on 2018-07-26:
In ROS 2 a CMake project can install Python packages and modules (see https://github.com/ament/ament_cmake/tree/7ab62a83055f7a14de9f2e65f60e166a99752eeb/ament_cmake_python/cmake) but it does provide a mechanism to invoke a setup.py file.
Comment by Dirk Thomas on 2018-07-26:
While that could be implemented similar as it is in catkin it is fairly complex and the catkin implementation as several severe limitations. Therefore it hasn't been done until now.
Comment by lxbeyond on 2018-08-09:
can we build demo_nodes_cpp and demo_nodes_py into one project as demo_nodes_test and run "ros2 run demo_nodes_test listener.py"(run python listener) or " ros2 run demo_nodes_test listener "(run c++ listener) ? I don't know how to install python executable with ament_cmake .
Comment by andrestoga on 2023-01-03:
@Dirk Thomas Could you please provide an example in how to invoke a setup.py file in CMake?


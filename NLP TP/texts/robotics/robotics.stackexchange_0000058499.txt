Q:

Asus Xtion on BeagleBone Black

I am working with the BeagleBone Black and Asus Xtion Pro Live.
(lsusb gives device ID 1d27:0600, exactly what I expect)
I have installed Ubuntu 12.04 (hard floating point edition for BeagleBoneBlack), and ROS Hydro.
After installing all the prerequisites, I built the OpenNI and Sensor software packages.
I can navigate to ~/OpenNI/Platform/Linux/Bin/Arm-Release, and run some of the samples, and they work fine. For example, running Sample-NiSimpleRead returns me distance at roughly 30Hz
However, when I try to roslaunch openni_launch, I get nothing.
No error messages, no reports of problems connecting to USB. Just no data coming out.
The cluster of nodes starts publishing a bunch of TF messages, and they seem to be what is desired.
However, I get no other rostopics published.
I have tried to use Openni2 launch and camera, but they refuse to build because they say they can't find libopenni2 (even though I built and installed openni2.2 as well)
Here is what I get:
ubuntu@ubuntu-armhf:~/catkin_ws$ roslaunch openni_launch openni.launch --screen
... logging to /home/ubuntu/.ros/log/2eca5c12-bd41-11e3-a675-c8a030a9e305/roslaunch-ubuntu-armhf-1039.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
started roslaunch server (COMMENTED OUT DUE TO LOW KARMA)
SUMMARY
PARAMETERS

/camera/camera_nodelet_manager/num_worker_threads
/camera/depth_rectify_depth/interpolation
/camera/depth_registered_rectify_depth/interpolation
/camera/disparity_depth/max_range
/camera/disparity_depth/min_range
/camera/disparity_registered_hw/max_range
/camera/disparity_registered_hw/min_range
/camera/disparity_registered_sw/max_range
/camera/disparity_registered_sw/min_range
/camera/driver/depth_camera_info_url
/camera/driver/depth_frame_id
/camera/driver/depth_registration
/camera/driver/device_id
/camera/driver/rgb_camera_info_url
/camera/driver/rgb_frame_id
/rosdistro
/rosversion

NODES
/camera/
camera_nodelet_manager (nodelet/nodelet)
debayer (nodelet/nodelet)
depth_metric (nodelet/nodelet)
depth_metric_rect (nodelet/nodelet)
depth_points (nodelet/nodelet)
depth_rectify_depth (nodelet/nodelet)
depth_registered_rectify_depth (nodelet/nodelet)
disparity_depth (nodelet/nodelet)
disparity_registered_hw (nodelet/nodelet)
disparity_registered_sw (nodelet/nodelet)
driver (nodelet/nodelet)
points_xyzrgb_hw_registered (nodelet/nodelet)
points_xyzrgb_sw_registered (nodelet/nodelet)
rectify_color (nodelet/nodelet)
rectify_ir (nodelet/nodelet)
rectify_mono (nodelet/nodelet)
register_depth_rgb (nodelet/nodelet)
/
camera_base_link (tf/static_transform_publisher)
camera_base_link1 (tf/static_transform_publisher)
camera_base_link2 (tf/static_transform_publisher)
camera_base_link3 (tf/static_transform_publisher)
auto-starting new master
process[master]: started with pid [1052]
ROS_MASTER_URI=(COMMENTED OUT DUE TO LOW KARMA)
setting /run_id to 2eca5c12-bd41-11e3-a675-c8a030a9e305
process[rosout-1]: started with pid [1065]
started core service [/rosout]
process[camera/camera_nodelet_manager-2]: started with pid [1077]
process[camera/driver-3]: started with pid [1089]
[ INFO] [1396757346.036883399]: Initializing nodelet with 4 worker threads.
[ INFO] [1396757346.458945357]: Loading nodelet /camera/driver of type openni_camera/driver to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757346.462795566]: /camera/depth -> /camera/depth
[ INFO] [1396757346.466614774]: /camera/depth_registered -> /camera/depth_registered
[ INFO] [1396757346.468080191]: /camera/ir -> /camera/ir
[ INFO] [1396757346.470297191]: /camera/projector -> /camera/projector
[ INFO] [1396757346.474172607]: /camera/rgb -> /camera/rgb
process[camera/debayer-4]: started with pid [1117]
[ INFO] [1396757347.335602982]: Loading nodelet /camera/debayer of type image_proc/debayer to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757347.339695774]: /camera/image_color -> /camera/rgb/image_color
[ INFO] [1396757347.345555066]: /camera/image_mono -> /camera/rgb/image_mono
[ INFO] [1396757347.347040357]: /camera/image_raw -> /camera/rgb/image_raw
process[camera/rectify_mono-5]: started with pid [1131]
[ INFO] [1396757348.245950608]: Loading nodelet /camera/rectify_mono of type image_proc/rectify to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757348.251764066]: /camera/image_mono -> /camera/rgb/image_mono
[ INFO] [1396757348.253316524]: /camera/image_rect -> /camera/rgb/image_rect_mono
Warning: USB events thread - failed to set priority. This might cause loss of data...
process[camera/rectify_color-6]: started with pid [1146]
[ INFO] [1396757348.913601941]: Loading nodelet /camera/rectify_color of type image_proc/rectify to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757348.918652274]: /camera/image_mono -> /camera/rgb/image_color
[ INFO] [1396757348.921174233]: /camera/image_rect -> /camera/rgb/image_rect_color
process[camera/rectify_ir-7]: started with pid [1160]
[ INFO] [1396757349.529303816]: Loading nodelet /camera/rectify_ir of type image_proc/rectify to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757349.538406441]: /camera/image_mono -> /camera/ir/image_raw
[ INFO] [1396757349.542360441]: /camera/image_rect -> /camera/ir/image_rect_ir
process[camera/depth_rectify_depth-8]: started with pid [1174]
[ INFO] [1396757350.136137899]: Loading nodelet /camera/depth_rectify_depth of type image_proc/rectify to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757350.140509441]: /camera/image_mono -> /camera/depth/image_raw
[ INFO] [1396757350.147281024]: /camera/image_rect -> /camera/depth/image_rect_raw
process[camera/depth_metric_rect-9]: started with pid [1188]
[ INFO] [1396757350.753727900]: Loading nodelet /camera/depth_metric_rect of type depth_image_proc/convert_metric to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757350.760690525]: /camera/image -> /camera/depth/image_rect
[ INFO] [1396757350.762344858]: /camera/image_raw -> /camera/depth/image_rect_raw
process[camera/depth_metric-10]: started with pid [1202]
[ INFO] [1396757351.345033983]: Loading nodelet /camera/depth_metric of type depth_image_proc/convert_metric to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757351.350987316]: /camera/image -> /camera/depth/image
[ INFO] [1396757351.356612733]: /camera/image_raw -> /camera/depth/image_raw
process[camera/depth_points-11]: started with pid [1216]
[ INFO] [1396757351.977357441]: Loading nodelet /camera/depth_points of type depth_image_proc/point_cloud_xyz to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757351.982807316]: /camera/image_rect -> /camera/depth/image_rect_raw
[ INFO] [1396757351.989016275]: /camera/points -> /camera/depth/points
process[camera/register_depth_rgb-12]: started with pid [1230]
[ INFO] [1396757352.593318400]: Loading nodelet /camera/register_depth_rgb of type depth_image_proc/register to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757352.597428566]: /camera/depth/camera_info -> /camera/depth/camera_info
[ INFO] [1396757352.601426983]: /camera/depth/image_rect -> /camera/depth/image_rect_raw
[ INFO] [1396757352.604415233]: /camera/depth_registered/image_rect -> /camera/depth_registered/sw_registered/image_rect_raw
[ INFO] [1396757352.607016566]: /camera/rgb/camera_info -> /camera/rgb/camera_info
process[camera/points_xyzrgb_sw_registered-13]: started with pid [1244]
[ INFO] [1396757353.224106108]: Loading nodelet /camera/points_xyzrgb_sw_registered of type depth_image_proc/point_cloud_xyzrgb to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757353.227869775]: /camera/depth_registered/image_rect -> /camera/depth_registered/sw_registered/image_rect_raw
[ INFO] [1396757353.232736608]: /camera/depth_registered/points -> /camera/depth_registered/points
[ INFO] [1396757353.234236858]: /camera/rgb/camera_info -> /camera/rgb/camera_info
[ INFO] [1396757353.237942275]: /camera/rgb/image_rect_color -> /camera/rgb/image_rect_color
process[camera/depth_registered_rectify_depth-14]: started with pid [1258]
[ INFO] [1396757353.848848233]: Loading nodelet /camera/depth_registered_rectify_depth of type image_proc/rectify to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757353.855331442]: /camera/image_mono -> /camera/depth_registered/image_raw
[ INFO] [1396757353.857538067]: /camera/image_rect -> /camera/depth_registered/hw_registered/image_rect_raw
process[camera/points_xyzrgb_hw_registered-15]: started with pid [1272]
[ INFO] [1396757354.480069442]: Loading nodelet /camera/points_xyzrgb_hw_registered of type depth_image_proc/point_cloud_xyzrgb to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757354.487196817]: /camera/depth_registered/image_rect -> /camera/depth_registered/hw_registered/image_rect_raw
[ INFO] [1396757354.488677858]: /camera/depth_registered/points -> /camera/depth_registered/points
[ INFO] [1396757354.492098025]: /camera/rgb/camera_info -> /camera/rgb/camera_info
[ INFO] [1396757354.493744108]: /camera/rgb/image_rect_color -> /camera/rgb/image_rect_color
process[camera/disparity_depth-16]: started with pid [1286]
[ INFO] [1396757355.114874650]: Loading nodelet /camera/disparity_depth of type depth_image_proc/disparity to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757355.119781192]: /camera/left/disparity -> /camera/depth/disparity
[ INFO] [1396757355.121095400]: /camera/left/image_rect -> /camera/depth/image_rect_raw
[ INFO] [1396757355.124713233]: /camera/right -> /camera/projector
process[camera/disparity_registered_sw-17]: started with pid [1300]
[ INFO] [1396757355.771074525]: Loading nodelet /camera/disparity_registered_sw of type depth_image_proc/disparity to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757355.777746192]: /camera/left/disparity -> /camera/depth_registered/disparity
[ INFO] [1396757355.779304358]: /camera/left/image_rect -> /camera/depth_registered/sw_registered/image_rect_raw
[ INFO] [1396757355.783324733]: /camera/right -> /camera/projector
process[camera/disparity_registered_hw-18]: started with pid [1314]
[ INFO] [1396757356.419458484]: Loading nodelet /camera/disparity_registered_hw of type depth_image_proc/disparity to manager camera_nodelet_manager with the following remappings:
[ INFO] [1396757356.425178859]: /camera/left/disparity -> /camera/depth_registered/disparity
[ INFO] [1396757356.426905775]: /camera/left/image_rect -> /camera/depth_registered/hw_registered/image_rect_raw
[ INFO] [1396757356.430642859]: /camera/right -> /camera/projector
process[camera_base_link-19]: started with pid [1328]
process[camera_base_link1-20]: started with pid [1339]
process[camera_base_link2-21]: started with pid [1350]
process[camera_base_link3-22]: started with pid [1361]

Originally posted by Maeth on ROS Answers with karma: 1 on 2014-04-05
Post score: 0

A:

Just so you know, you have an older version of the Xtion (0600), so you SHOULD be using openni(1) launch and camera. Openni2 only worked properly (for me) for the newer Xtion (0601).
The setup is definitely finicky in regards to your usb controller and kernel version, so you could try fiddling around with the settings in /etc/openni/GlobalDefaults.ini.

Originally posted by paulbovbel with karma: 4518 on 2014-04-07
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by tonybaltovski on 2014-04-07:
@paulbovbel  How well does the Beaglebone black handle the xtion data? Is it capable of 30 fps?
Comment by paulbovbel on 2014-08-10:
I never used it with the beaglebone, but almost certainly not.


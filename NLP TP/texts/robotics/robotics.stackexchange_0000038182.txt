Q:

How to add GPU support in ROS opencv

Sorry for insisting on the topic (see http://answers.ros.org/question/28245/does-libopencv_gpu-actually-provide-gpu-support) but I still think this is relevant to ROS.
In Ubuntu 11.10, ros-electric-vision-opencv depends on libopencv2.3-dev (= 2.3.1+svn6514+branch23-9~oneiric).
It seems to me that the libopencv package does not provide GPU support out of the box, and to obtain GPU support one has to recompile OpenCV from source with the WITH_CUDA option. Not exactly easy, but anyway... assuming success in the later, how to then install ros-electric-vision-opencv and make sure my code (HOG) will run the GPU?
If ros-electric-vision-opencv depended on libopencv2.3-dev with a more flexible version number I guess I would try building a package to replace the 2.3.1+svn6514+branch23-9~oneiric package. Or am I missing something here?
Sorry if I am off topic again, but I really need the info...

Originally posted by brice rebsamen on ROS Answers with karma: 1001 on 2012-02-23
Post score: 3

Original comments
Comment by longzhixi123 on 2013-05-06:
helloï¼Œi want to use surfgpu with ros, is it possible ? thanks a lot

A:

What keeps you from using a (userspace-)local installation of opencv and compile and link against that? If you omit opencv from your manifest, the "original" cv install shouldn't even appear in your compiler-flags. Then you can just add your local version of opencv in manifest.xml

Originally posted by Felix Endres with karma: 6468 on 2012-02-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by brice rebsamen on 2012-03-11:
first of all I am part of a team and not everybody is GPU enabled. So if I point my manifest to a local install then it will create problem for the rest of the team. Maybe there is a hack, such as using conditional rules, etc...
Comment by brice rebsamen on 2012-03-11:
Second, making sure opencv is not in any of my dependencies directly or indirectly is going to be tough as I need to use cv_bridge too. I was thinking that I could attempt to rebuild the opencv package from source but the source package is not available from the ROS repo. Could it be made available?
Comment by tfoote on 2012-04-19:
The source is linked to from the wiki page. http://www.ros.org/wiki/vision_opencv


Q:

Why is there a Twist in Odometry message

Hello,
Everything basically is in the title. I've been here and I know it's position and speed of the robot. But I'm wondering why you need the speed in the Odometry as it's going to be the exact same thing as the cmd_vel topic.
For example if I'm doing a motor driver taking a Twist as input, should I return the exact same Twist in the /Odometry message afterward ? It seems rather useless to me and I feel like I'm missing something but I don't know what.

Originally posted by Maya on ROS Answers with karma: 1172 on 2014-03-19
Post score: 3

A:

The Twist you send on the "cmd_vel" topic is the desired motion you command your robot to perform. The Twist in the nav_msgs/Odometry message you get back is the measured/estimated motion that the robot performed. In an ideal world (with perfect controllers and sensing), these would be the same, but that world doesn´t exist ;)

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-03-19
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Maya on 2014-03-19:
So the driver should be able to return the actual speed of the motor. But wouldn't that be implied by the odometry?
Comment by Stefan Kohlbrecher on 2014-03-19:
In many applications yes, but getting the position of the robot at a given timestamp is only redundant with velocity if the latter doesn´t change between samples.
Comment by Maya on 2014-03-19:
I'm sorry I don't get it. What should not change between samples ?
Comment by Stefan Kohlbrecher on 2014-03-20:
If the velocity of the robot does not change over time, the position data is redundant with velocity data (you can get one from the other). If velocity changes over time, it is not redundant, because a given (odometry) position for a timestamp could have been reached with infinitely many velocity profiles. In that  case, the additional Twist information is not redundant.
Comment by Maya on 2014-03-20:
Haaaa I get it ! Thanks a lot for the explanation !


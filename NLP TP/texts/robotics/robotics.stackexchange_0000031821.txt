Q:

kinect_tools compilation problem

Hello,
I'm trying to
rosmake kinect_tools --rosdep-install

and I get the following error:
[ rosmake ] Packages requested are: ['kinect_tools']                                                                                                                                                                        
[ rosmake ] Logging to directory/home/gsaponaro/.ros/rosmake/rosmake_output-20110525-194202                                                                                                                                 
[ rosmake ] Expanded args ['kinect_tools'] to:
['kinect_tools']                                                                                                                                                             
[ rosmake ] Generating Install Script using rosdep then executing. This may take a minute, you will be prompted for permissions. . .                                                                                        
Failed to find stack for package [eigen3]
Failed to load rosdep.yaml for package [eigen3]:Cannot locate installation of package eigen3: [rospack] couldn't find package [eigen3]. ROS_ROOT[/opt/ros/diamondback/ros] ROS_PACKAGE_PATH[/home/gsaponaro/kinect/ros:/opt/ros/diamondback/stacks]
rosdep executing this script:
{{{
set -o errexit
#No Packages to install
}}}
[ rosmake ] rosdep successfully installed all system dependencies                                                                                                                                                           
[rosmake-0] Starting >>> kinect_tools [ make ]                                                                                                                                                                              
[ rosmake ] All 22 linesinect_tools: 0.1 sec ]                                                                                                                                                     [ 1 Active 0/1 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  [rosbuild] Building package kinect_tools
  Failed to invoke /opt/ros/diamondback/ros/bin/rospack deps-manifests kinect_tools
  [rospack] couldn't find dependency [eigen3] of [kinect_tools]
  [rospack] missing dependency
  
  
  CMake Error at /opt/ros/diamondback/ros/core/rosbuild/public.cmake:113 (message):
    
  
    Failed to invoke rospack to get compile flags for package 'kinect_tools'.
    Look above for errors from rospack itself.  Aborting.  Please fix the
    broken dependency!
  
  Call Stack (most recent call first):
    /opt/ros/diamondback/ros/core/rosbuild/public.cmake:183 (rosbuild_invoke_rospack)
    CMakeLists.txt:12 (rosbuild_init)

So, having read here that in DiamondBack we should use eigen instead of eigen3, I removed the 3 from manifest.xml, and I still get errors:
[rosmake-0] Starting >>> kinect_tools [ make ]
[ rosmake ] Last 40 linesnect_tools: 6.4 sec [ 1 Active 53/54 Complete ]
{-------------------------------------------------------------------------------
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp: In member function ‘void HandProcessor::segFingers(double, int)’:
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:267: error: ‘centroid’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:283: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:283: error: ‘arm’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:283: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:299: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp: In member function ‘void HandProcessor::identfyFingers()’:
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:313: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:313: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:314: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:314: error: ‘class Finger’ has no member named ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp: In member function ‘void HandAnalyzer::getEigens(const kinect_tools::Hand&)’:
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:392: error: ‘Eigen3’ has not been declared
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:392: error: expected ‘;’ before ‘centroid’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:394: error: expected primary-expression before ‘__attribute__’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:394: error: expected ‘;’ before ‘__attribute__’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:395: error: expected primary-expression before ‘__attribute__’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:395: error: expected ‘;’ before ‘__attribute__’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:396: error: ‘Eigen3’ has not been declared
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:396: error: expected ‘;’ before ‘cov’
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:397: error: ‘centroid’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:398: error: ‘cov’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:399: error: ‘eigen_vectors’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:399: error: ‘eigen_values’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:400: error: ‘direction’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:403: error: ‘armvector’ was not declared in this scope
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:404: error: ‘flipvec’ was not declared in this scope
  In file included from /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:48:
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg/pcl_tools/include/pcl_tools/segfast.hpp: In function ‘void extractEuclideanClustersFast2(pcl::PointCloud<PointT>&, std::vector<std::vector<int, std::allocator<int> >, std::allocator<std::vector<int, std::allocator<int> > > >&, double, int) [with PointT = pcl::PointXYZ]’:
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:273:   instantiated from here
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg/pcl_tools/include/pcl_tools/segfast.hpp:1273: warning: comparison between signed and unsigned integer expressions
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/src/analyze_hands.cpp:273:   instantiated from here
  /home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg/pcl_tools/include/pcl_tools/segfast.hpp:1314: warning: comparison between signed and unsigned integer expressions
  make[3]: *** [CMakeFiles/analyzehands.dir/src/analyze_hands.o] Error 1
  make[3]: Leaving directory `/home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/build'
  make[2]: *** [CMakeFiles/analyzehands.dir/all] Error 2
  make[2]: Leaving directory `/home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/build'
  make[1]: *** [all] Error 2
  make[1]: Leaving directory `/home/gsaponaro/kinect/ros/kinect_demos/mit-ros-pkg-experimental/kinect_tools/build'
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package kinect_tools written to:
[ rosmake ]    /home/gsaponaro/.ros/rosmake/rosmake_output-20110525-193810/kinect_tools/build_output.log                                                  
[rosmake-0] Finished <<< kinect_tools [FAIL] [ 6.41 seconds ]

Thank you very much for your help.

Originally posted by Giovanni Saponaro on ROS Answers with karma: 68 on 2011-05-25
Post score: 0

A:

Kinect_tools is obsolete. If you want the hand tracking library, you should check out hand_interaction, as referred to by www.ros.org/wiki/mit-ros-pkg/KinectDemos

Originally posted by Garratt Gallagher with karma: 26 on 2011-06-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Giovanni Saponaro on 2011-06-27:
Fair enough, thanks.


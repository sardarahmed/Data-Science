Q:

Hokuyo - No map received in RViz

Hi everyone!
I am trying to use the package "GMapping" to visualize the map acquired with Hokuyo laser scanner!
I have no odometry, so I simulated a TF with a launch file, which worked already in other applications!
<launch>

  <node pkg="tf" type="static_transform_publisher" name="US6" args="0 7 2 1.5708 0 0 base_link laser 100" />

</launch>

When running RViz, in Global Options, the Fixed frame is map;
In Grid, the Reference Frame is map;
In TF I have the following warnings: No transform from [map] to [base_link] / No transform from [odom] to [base_link]
In map, the topic is map and I receive this warning and error message: No map received / No transform from [] to [base_link]
What did I do wrong? I notice that if I change the Fixed Frame in Global Options and the one in Grid, the error disappear and some other errors appear... what are the correct options to be selected in Global Options and in Grid?
Thank you for your time!

Originally posted by anamcarvalho on ROS Answers with karma: 123 on 2014-08-28
Post score: 1

A:

As bvbdort already mentioned, you need to also publish the base_link -> odom transform. If you don't have an odometry system, you can do it with a static transform publisher in your launch file like this:
<launch>
  <node pkg="tf" type="static_transform_publisher" name="odom_to_base_link" args="0 0 0 0 0 0 odom base_link 100" />
  <node pkg="tf" type="static_transform_publisher" name="US6" args="0 7 2 1.5708 0 0 base_link laser 100" />
</launch>

That way every transform gmapping expects to run is set up.
Mind that gmapping won't really be able to extimate the position of the laser in the map, since you publish odometry information manually as a static transformation. But at least you should see a map built from your laser.
PS: If it still doesn't work that way, please provide info about what gmapping prints out.

Originally posted by Malefitz with karma: 136 on 2014-09-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by anamcarvalho on 2014-09-02:
Thank you Malefitz, it works =) now I have another question but i'll open a new one, since it isn't related with the transforms!


Q:

dpkg-gencontrol: warning: can't parse dependency cpp_common

As I was trying to generate .deb from the roscpp_traits package on a Raspberry pi 3B+ using bloom (python-bloom/stretch,now 0.8.0-1 all), I got the following error
...
dh binary -v --buildsystem=cmake
   dh_gencontrol -O-v -O--buildsystem=cmake
       dpkg-gencontrol -pros-kinetic-roscpp-traits -ldebian/changelog -Tdebian/ros-kinetic-roscpp-traits.substvars -Pdebian/ros-kinetic-roscpp-traits
dpkg-gencontrol: warning:     debian/changelog(l5): found trailer where expected start of change data
LINE:  -- Dirk Thomas <dthomas@osrfoundation.org>  Thu, 01 Feb 2018 13:00:00 -0000
dpkg-gencontrol: warning: Depends field of package ros-kinetic-roscpp-traits: unknown substitution variable 
${shlibs:Depends}
dpkg-gencontrol: warning: can't parse dependency cpp_common
dpkg-gencontrol: error: error occurred while parsing Depends field: , , boost, catkin, cpp_common, libconsole-bridge-dev
dh_gencontrol: dpkg-gencontrol -pros-kinetic-roscpp-traits -ldebian/changelog -Tdebian/ros-kinetic-roscpp-traits.substvars -
Pdebian/ros-kinetic-roscpp-traits returned exit code 255
debian/rules:22: recipe for target 'binary' failed
make: *** [binary] Error 2

Apparently, ${shlibs:Depends} and ${misc:Depends} variables were not properly populated.
What drives me puzzled is on the same machine I can generate .deb package for rostime. Similar to roscpp_traits, rostime also lists cpp_common as a run_depend.
I had a .yaml file and for dependencies with entries like:
rostime:
    debian:
      stretch: [cpp_common]

and
roscpp_traits:
  debian:
    stretch: [rostime, cpp_common]

It is cached by rosdep by entry in the /etc/ros/rosdep/sources.list.d/20-default.list
yaml file:///home/pi/raspi_rosdep.yaml kinetic stretch debian

Can somebody help or point me to where I should look at.
Many thanks.

Originally posted by vunguyen on ROS Answers with karma: 31 on 2019-07-17
Post score: 0

A:

Problem solved. It turned out that the dependency entries of the local .yaml was wrong. Dashes ('-') should had been used instead of underscore ('_').

Originally posted by vunguyen with karma: 31 on 2019-07-17
This answer was ACCEPTED on the original site
Post score: 0


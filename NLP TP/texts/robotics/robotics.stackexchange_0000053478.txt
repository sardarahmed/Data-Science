Q:

How to read a topic last value from a Python script?

Hello.
I'm working on a teleop program in Python. I want to change a joint position and add an offset read from the keyboard.
So I need to read a topic value to add the offset and send the command with the target value. Of course I have read the tutorial about the subscriber in Python. My requirement is slightly different. I do not want to process a piece of code each time a value is published. I do not even need a fresh value, since I consider that the last published one is sufficient.
So is there a way to get this last published value using rospy?
Thanks for your help.

Originally posted by Arn-O on ROS Answers with karma: 107 on 2013-08-13
Post score: 1

A:

It depends.

Just have a subscriber and record the last published value manually.

If you have access to the publisher code, make the publisher latched. This will always keep the last published value and send it to any new subscribers.

Originally posted by dornhege with karma: 31395 on 2013-08-13
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Arn-O on 2013-08-14:
Thx for your answer. I finally used the solution 1.
Comment by colllin on 2021-02-03:
Ahhhh, “latching” was the missing link for me.   Or QoS/“durability” in ros2.  Thank you!  See: https://answers.ros.org/question/305795/ros2-latching/


Q:

How does Hector_mapping and Gmapping do if the robot is on the slope?

Hello everyone! I have made both hector_mapping and Gmapping work well on the ground , but I got  some problems when the robot is on continuous slope of 20 degrees.How does the two algorithms work at this situation?Can they fuse the roll and  pitch with the laser data automously and  I just need to publish data of roll and pitch ?Or do I need to run other nodes,such as robot_pose_ekf ?

Originally posted by Yuichi Chu on ROS Answers with karma: 148 on 2014-03-05
Post score: 0

A:

Within certain limits this can work. Did you set up your robot like this?
As always with SLAM it depends on the environment. As long as your sloped world can be interpreted as a 2D map you have a chance of that working. If your laser is not leveled the transition from flat ground to sloped ground may be tricky.

Originally posted by dornhege with karma: 31395 on 2014-03-05
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Hendrik Wiese on 2014-03-06:
Actually, I don't see the problem, yet. There are transforms for the robot base relative to its horizontally oriented projection over ground and to the map, transforms for the laser relative to the robot base etc. Shouldn't hector_mapping be able to make use of these transforms?
Comment by dornhege on 2014-03-06:
Yes, if the robot is setup like that. However, if you drive up a slope and the environment completely changes at a certain height it becomes problematic.
Comment by Yuichi Chu on 2014-03-06:
Thank you very much for answering,dornhege. I set  in the launch file. I plan to set odom_frame equals to base_footprint ,and base_footprint equals to base_stablized,and use the hector_imu_attitude_to_tf to add the transform from base_stablized to base_link.
Comment by Yuichi Chu on 2014-03-06:
are there any problems with the tf setting?And would you please give me some advice about how to calculate the height between base_footprint and base_stablized ?
Comment by Hendrik Wiese on 2014-03-06:
Why are you going to calculate the height between base_footprint and base_stabilized? Isn't that something that a sensor of some kind should measure?
Comment by dornhege on 2014-03-06:
I think that depends on the definition of what base_footprint should be. Is that at zero height relative to the robot or at zero height in the world. SLAM with 6-dof pose estimation would probably include the height offset in the map->odom transform.


Q:

About driver on ROS

Hello everyone! Thesedays I am thinking of applying ROS on a simple arm we made. I uses a device to connect the motors with my computer. But that device has no driver for ROS. But I found its driver for linux.
So it means I need to re-write a driver on ROS for this device, right? Can I use that driver for linux and simply include it in my ROS code?

Originally posted by pcler on ROS Answers with karma: 35 on 2014-12-10
Post score: 0

A:

Basically yes. That is usually how I do it.

Originally posted by dornhege with karma: 31395 on 2014-12-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pcler on 2014-12-10:
Thank you for answering! If I could get the source code of that device's driver for linux, how can I make use of it? Should I create a "bridge" node inside the ROS or something to make use of it?
Comment by dornhege on 2014-12-10:
Is this a device driver in form of a kernel module or similar OR a driver that is just a program in userland?
Comment by dornhege on 2014-12-10:
Usually you'd just write a ROS node that is the driver code (user), but instead of whatever interface it currently uses, e.g. text output, you'd send and receive ROS messages.
Comment by pcler on 2014-12-11:
I have asked for more information. Now we got a .o file for linux kernel module driver and multiple .so Dynamic Loaded Library files. And a .h head file is given for using its API in linux. Could you please tell me how to make use of these things on ROS? I am a new guy. Thank you sincerely!!!
Comment by dornhege on 2014-12-11:
As a start you must have some kind of user space program (non-ROS) that talks to your hardware. This you have to figure out for yourself. The next step would be to build that same thing with ROS.
Comment by dornhege on 2014-12-11:
Once you are there identify what interfaces you'd like to have in ROS and just add these as in the basic tutorials.
Comment by pcler on 2014-12-13:
Thank you so much! Now I am looking into it...
Comment by pcler on 2014-12-17:
Could you help me again? I have got a driver for linux and a .so dynamic library in /lib. Now I can run the user-space program thing on linux. And I am changing it into ROS. But there is question that how to include that .so dynamic library by editing CMakeLists? I can use gcc -l to include that .so


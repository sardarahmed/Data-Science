Q:

Failed rosmake [pcl_ros] on ubuntu 11.10 ros-electric pandaboard

I have been working on Kinect sensor integration on Panda board. Because i am using panda board i removed "pcl_visualization" from manifest.xml in pcl directory in perception_pcl stack in Ros.
When i rosmake the pcl_ros package i get the following error..
Building CXX object src/tools/CMakeFiles/convert_pcd_to_image.dir/convert_pcd_to_image.o
make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' [ 29%] Building CXX object CMakeFiles/pcl_ros_tf.dir/src/pcl_ros/transforms.o Building CXX object CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/convex_hull.o make[3]: Entering directory /home/panda/ros/perception_pcl/pcl_ros/build'
[ 31%] Building CXX object CMakeFiles/pcl_ros_features.dir/src/pcl_ros/features/feature.o
/home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/features/feature.cpp:50:23:fatal error: pcl/io/io.h: No such file or directory
compilation terminated.
make[3]: *** [CMakeFiles/pcl_ros_features.dir/src/pcl_ros/features/feature.o] Error 1
make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' make[2]: *** [CMakeFiles/pcl_ros_features.dir/all] Error 2 make[2]: *** Waiting for unfinished jobs.... [ 33%] Building CXX object CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/moving_least_squares.o <b>  /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/transforms.cpp:38:23: fatal error: pcl/io/io.h: No such file or directory</b> compilation terminated. In file included from /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/surface/convex_hull.h:41:0, from /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/surface/convex_hull.cpp:39: <b>  /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/pcl_nodelet.h:51:29: fatal error: pcl/point_types.h: No such file or directory</b> compilation terminated. In file included from /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/surface/moving_least_squares.h:41:0, from /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/surface/moving_least_squares.cpp:39: <b>/home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/pcl_nodelet.h:51:29: fatal error: pcl/point_types.h: No such file or directory</b> compilation terminated. /home/panda/ros/perception_pcl/pcl_ros/src/tools/convert_pcd_to_image.cpp:51:23: fatal error: pcl/io/io.h: No such file or directory compilation terminated. make[3]: *** [CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/convex_hull.o] Error 1 make[3]: *** Waiting for unfinished jobs.... make[3]: *** [CMakeFiles/pcl_ros_tf.dir/src/pcl_ros/transforms.o] Error 1 make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build'
make[2]: *** [CMakeFiles/pcl_ros_tf.dir/all] Error 2
make[3]: *** [CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/moving_least_squares.o] Error 1
make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' make[2]: *** [CMakeFiles/pcl_ros_surface.dir/all] Error 2 make[3]: *** [src/tools/CMakeFiles/convert_pcd_to_image.dir/convert_pcd_to_image.o] Error 1 make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build'
make[2]: *** [src/tools/CMakeFiles/convert_pcd_to_image.dir/all] Error 2
make[2]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' make[1]: *** [all] Error 2 make[1]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build'
[ rosmake ] Output from build of package pcl_ros written to:
[ rosmake ]    /home/panda/.ros/rosmake/rosmake_output-20121220-190754/pcl_ros/build_output.log
[rosmake-0] Finished <<< pcl_ros [FAIL] [ 63.39 seconds ]
[ rosmake ] Halting due to failure in package pcl_ros.
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:
[ rosmake ] Built 48 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /home/panda/.ros/rosmake/rosmake_output-20121220-190754
---errors---
home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/pcl_nodelet.h:51:29: fatal error: pcl/point_types.h: No such file or directory
/home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/transforms.cpp:38:23: fatal error: pcl/io/io.h: No such file or directory
/home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/features/feature.cpp:50:23:fatal error: pcl/io/io.h: No such file or directory

What should i do??
Should i install a standalone version of PCL on pandaboard? Would that provide necessary paths to the above files..?
EDIT : The output from "make VERBOSE=1" in pcl_ros directory
[ 31%] Building CXX object CMakeFiles/pcl_ros_features.dir/src/pcl_ros/features/feature.o
/usr/bin/c++   -Dpcl_ros_features_EXPORTS -DBOOST_CB_DISABLE_DEBUG -DEIGEN_YES_I_KNOW_SPARSE_MODULE_IS_NOT_STABLE_YET -O2 -g -fPIC -I/home/panda/ros/perception_pcl/pcl_ros/include -I/home/panda/ros/nodelet_core/nodelet_topic_tools/include -I/home/panda/ros/nodelet_core/nodelet/include -I/home/panda/ros/nodelet_core/nodelet/srv_gen/cpp/include -I/home/panda/ros/pluginlib/include -I/home/panda/ros/pluginlib -I/home/panda/ros/bond_core/bondcpp/include -I/home/panda/ros/bond_core/bond/msg_gen/cpp/include -I/home/panda/ros/bond_core/smclib/include -I/home/panda/ros/ros_comm/utilities/message_filters/include -I/home/panda/ros/driver_common/dynamic_reconfigure/include -I/home/panda/ros/driver_common/dynamic_reconfigure/msg/cpp -I/home/panda/ros/driver_common/dynamic_reconfigure/srv/cpp -I/home/panda/ros/driver_common/dynamic_reconfigure/msg_gen/cpp/include -I/home/panda/ros/driver_common/dynamic_reconfigure/srv_gen/cpp/include -I/home/panda/ros/geometry/tf/include -I/home/panda/ros/geometry/tf/msg_gen/cpp/include -I/home/panda/ros/geometry/tf/srv_gen/cpp/include -I/home/panda/ros/bullet/include -I/home/panda/ros/geometry/angles/include -I/home/panda/ros/perception_pcl/pcl/include/pcl-1.1 -I/usr/include/vtk-5.6 -I/usr/include/mpi -I/usr/include/tcl8.5 -I/usr/include/python2.7 -I/usr/lib/jvm/default-java/include -I/usr/include/libxml2 -I/usr/include/freetype2 -I/home/panda/ros/perception_pcl/pcl/msg_gen/cpp/include -I/home/panda/ros/common_msgs/sensor_msgs/include -I/home/panda/ros/common_msgs/sensor_msgs/msg_gen/cpp/include -I/home/panda/ros/common_msgs/sensor_msgs/srv_gen/cpp/include -I/home/panda/ros/common_msgs/geometry_msgs/msg_gen/cpp/include -I/home/panda/ros/ros_comm/tools/rosbag/include -I/home/panda/ros/ros_comm/tools/topic_tools/include -I/home/panda/ros/ros_comm/tools/topic_tools/srv_gen/cpp/include -I/home/panda/ros/ros_comm/tools/rostest/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp/msg_gen/cpp/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp/srv_gen/cpp/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp_serialization/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp_traits/include -I/home/panda/ros/ros_comm/utilities/xmlrpcpp/src -I/home/panda/ros/ros_comm/messages/rosgraph_msgs/msg_gen/cpp/include -I/home/panda/ros/ros_comm/messages/std_msgs/include -I/home/panda/ros/ros_comm/messages/std_msgs/msg_gen/cpp/include -I/home/panda/ros/ros/core/roslib/msg_gen/cpp/include -I/home/panda/ros/ros/core/roslib/include -I/home/panda/ros/ros/tools/rospack -I/home/panda/ros/ros/tools/rospack/include -I/home/panda/ros/ros_comm/tools/rosconsole/include -I/home/panda/ros/ros_comm/utilities/rostime/include -I/home/panda/ros/ros_comm/utilities/cpp_common/include -I/usr/include/eigen3 -I/home/panda/ros/perception_pcl/cminpack/include -I/home/panda/ros/perception_pcl/flann/include -I/home/panda/ros/perception_pcl/pcl_ros/build -I/home/panda/ros/perception_pcl/pcl_ros/src -I/home/panda/ros/perception_pcl/pcl_ros/cfg/cpp    -DROS_PACKAGE_NAME='"pcl_ros"' -DBT_USE_DOUBLE_PRECISION -DBT_EULER_DEFAULT_ZYX -W -Wall -Wno-unused-parameter -fno-strict-aliasing -pthread -fopenmp -o CMakeFiles/pcl_ros_features.dir/src/pcl_ros/features/feature.o -c /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/features/feature.cpp
/home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/features/feature.cpp:50:23: fatal error: pcl/io/io.h: No such file or directory
compilation terminated.
make[3]: *** [CMakeFiles/pcl_ros_features.dir/src/pcl_ros/features/feature.o] Error 1
make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' make[2]: *** [CMakeFiles/pcl_ros_features.dir/all] Error 2 make[2]: *** Waiting for unfinished jobs.... /usr/bin/cmake -E cmake_progress_report /home/panda/ros/perception_pcl/pcl_ros/build/CMakeFiles 46 [ 33%] Building CXX object CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/moving_least_squares.o /usr/bin/c++   -Dpcl_ros_surface_EXPORTS -DBOOST_CB_DISABLE_DEBUG -DEIGEN_YES_I_KNOW_SPARSE_MODULE_IS_NOT_STABLE_YET -O2 -g -fPIC -I/home/panda/ros/perception_pcl/pcl_ros/include -I/home/panda/ros/nodelet_core/nodelet_topic_tools/include -I/home/panda/ros/nodelet_core/nodelet/include -I/home/panda/ros/nodelet_core/nodelet/srv_gen/cpp/include -I/home/panda/ros/pluginlib/include -I/home/panda/ros/pluginlib -I/home/panda/ros/bond_core/bondcpp/include -I/home/panda/ros/bond_core/bond/msg_gen/cpp/include -I/home/panda/ros/bond_core/smclib/include -I/home/panda/ros/ros_comm/utilities/message_filters/include -I/home/panda/ros/driver_common/dynamic_reconfigure/include -I/home/panda/ros/driver_common/dynamic_reconfigure/msg/cpp -I/home/panda/ros/driver_common/dynamic_reconfigure/srv/cpp -I/home/panda/ros/driver_common/dynamic_reconfigure/msg_gen/cpp/include -I/home/panda/ros/driver_common/dynamic_reconfigure/srv_gen/cpp/include -I/home/panda/ros/geometry/tf/include -I/home/panda/ros/geometry/tf/msg_gen/cpp/include -I/home/panda/ros/geometry/tf/srv_gen/cpp/include -I/home/panda/ros/bullet/include -I/home/panda/ros/geometry/angles/include -I/home/panda/ros/perception_pcl/pcl/include/pcl-1.1 -I/usr/include/vtk-5.6 -I/usr/include/mpi -I/usr/include/tcl8.5 -I/usr/include/python2.7 -I/usr/lib/jvm/default-java/include -I/usr/include/libxml2 -I/usr/include/freetype2 -I/home/panda/ros/perception_pcl/pcl/msg_gen/cpp/include -I/home/panda/ros/common_msgs/sensor_msgs/include -I/home/panda/ros/common_msgs/sensor_msgs/msg_gen/cpp/include -I/home/panda/ros/common_msgs/sensor_msgs/srv_gen/cpp/include -I/home/panda/ros/common_msgs/geometry_msgs/msg_gen/cpp/include -I/home/panda/ros/ros_comm/tools/rosbag/include -I/home/panda/ros/ros_comm/tools/topic_tools/include -I/home/panda/ros/ros_comm/tools/topic_tools/srv_gen/cpp/include -I/home/panda/ros/ros_comm/tools/rostest/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp/msg_gen/cpp/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp/srv_gen/cpp/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp_serialization/include -I/home/panda/ros/ros_comm/clients/cpp/roscpp_traits/include -I/home/panda/ros/ros_comm/utilities/xmlrpcpp/src -I/home/panda/ros/ros_comm/messages/rosgraph_msgs/msg_gen/cpp/include -I/home/panda/ros/ros_comm/messages/std_msgs/include -I/home/panda/ros/ros_comm/messages/std_msgs/msg_gen/cpp/include -I/home/panda/ros/ros/core/roslib/msg_gen/cpp/include -I/home/panda/ros/ros/core/roslib/include -I/home/panda/ros/ros/tools/rospack -I/home/panda/ros/ros/tools/rospack/include -I/home/panda/ros/ros_comm/tools/rosconsole/include -I/home/panda/ros/ros_comm/utilities/rostime/include -I/home/panda/ros/ros_comm/utilities/cpp_common/include -I/usr/include/eigen3 -I/home/panda/ros/perception_pcl/cminpack/include -I/home/panda/ros/perception_pcl/flann/include -I/home/panda/ros/perception_pcl/pcl_ros/build -I/home/panda/ros/perception_pcl/pcl_ros/src -I/home/panda/ros/perception_pcl/pcl_ros/cfg/cpp    -DROS_PACKAGE_NAME='"pcl_ros"' -DBT_USE_DOUBLE_PRECISION -DBT_EULER_DEFAULT_ZYX -W -Wall -Wno-unused-parameter -fno-strict-aliasing -pthread -o CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/moving_least_squares.o -c /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/surface/moving_least_squares.cpp ***/home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/transforms.cpp:38:23: fatal error: pcl/io/io.h: No such file or directory*** compilation terminated. In file included from /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/surface/moving_least_squares.h:41:0, ***from /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/surface/moving_least_squares.cpp:39: /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/pcl_nodelet.h:51:29: fatal error: pcl/point_types.h: No such file or directory*** compilation terminated. In file included from /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/surface/convex_hull.h:41:0, ***from /home/panda/ros/perception_pcl/pcl_ros/src/pcl_ros/surface/convex_hull.cpp:39: /home/panda/ros/perception_pcl/pcl_ros/include/pcl_ros/pcl_nodelet.h:51:29: fatal error: pcl/point_types.h: No such file or directory*** compilation terminated. ***/home/panda/ros/perception_pcl/pcl_ros/src/tools/convert_pcd_to_image.cpp:51:23: fatal error: pcl/io/io.h: No such file or directory*** compilation terminated. make[3]: *** [CMakeFiles/pcl_ros_tf.dir/src/pcl_ros/transforms.o] Error 1 make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build'
make[2]: *** [CMakeFiles/pcl_ros_tf.dir/all] Error 2
make[3]: *** [CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/convex_hull.o] Error 1
make[3]: *** Waiting for unfinished jobs....
make[3]: *** [CMakeFiles/pcl_ros_surface.dir/src/pcl_ros/surface/moving_least_squares.o] Error 1
make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' make[2]: *** [CMakeFiles/pcl_ros_surface.dir/all] Error 2 make[3]: *** [src/tools/CMakeFiles/convert_pcd_to_image.dir/convert_pcd_to_image.o] Error 1 make[3]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build'
make[2]: *** [src/tools/CMakeFiles/convert_pcd_to_image.dir/all] Error 2
make[2]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build' make[1]: *** [all] Error 2 make[1]: Leaving directory /home/panda/ros/perception_pcl/pcl_ros/build'
make: *** [all] Error 2

Originally posted by Karan on ROS Answers with karma: 263 on 2012-12-20
Post score: 1

Original comments
Comment by Eric Perko on 2012-12-20:
Could you include the output of "make VERBOSE=1" from within the pcl_ros directory? Specifically, just for one of the objects that fails to compile so that we can see the include lines.
Comment by Eric Perko on 2012-12-21:
Is there a "pcl/io/io.h" file inside /home/panda/ros/perception_pcl/pcl/include/pcl-1.1 ? That looks like the path that actually points to PCL and is the path that that header should be under.
Comment by Karan on 2012-12-21:
The thing is that the directory structure of pcl package of Ros in perception_pcl stack is very different from the one directory included in PCLConfig.cmake  so i dont know which path to add in PCL_DIR and PCL_INCLUDE_DIRS in PCLConfig.cmake.  There is no include directory in pcl package directory.!
Comment by Karan on 2012-12-22:
Thanks a lot Eric!!!  I downloaded the makefile from the above link and then replaced the old one with this one in pcl package. I used "make" command in the directory. It did the building and installed all the files in directories as required by PCLConfig.cmake.. It Worked like a charm after that...
Comment by Eric Perko on 2012-12-22:
Excellent. I've converted that comment to an answer. If that solved your problem, accept it so others can easily find the solution in the future.
Comment by RodBelaFarin on 2013-01-10:
hi everybody, is there anyone with a running pandaboard + ros + kinect? if so could you please upload an image of your system? that would be greatful help for me. thanks!

A:

Can you make sure the PCL package is actually built? According to http://svn.pointclouds.org/ros/tags/perception_pcl-1.0.2/pcl/Makefile (which is the best reference I could find for Electric), making the package should download and build a PCL tarball.
Update:
You shouldn't have needed to download and replace the existing pcl package Makefile with that file. If you were using a properly installed Electric, that Makefile should have already existed. Maybe something didn't get checked out or downloaded properly when you were first installing ROS Electric.

Originally posted by Eric Perko with karma: 8406 on 2012-12-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Karan on 2012-12-22:
I installed Ros on the pandaboard from source. So what i did was just run the rosinstall command and then add the environment variables to bashrc. What else should have i done??  At the current time all the ros commands work including the roscore. So what am i missing??
Comment by Eric Perko on 2012-12-27:
Not sure. I'm mainly curious if you actually needed to replace the Makefile or if they were actually the same and the key was that, for whatever reason, rosmake had not previously been building PCL, which is what happened when you called "make" in the pcl package directory.


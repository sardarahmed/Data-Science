Q:

rgbdslam crashes on repeated "send model" request

I would like to repeatedly query RGBDSLAM for pose estimate (map is less important but would be nice as well).
However if I make repeated calls to "send model" or "save trajectory", either in the GUI or using service calls I get the following error message:
[rgbdslam-7] process has died [pid 20770, exit code -11].
log files: /home/james/.ros/log/6dd532b8-573d-11e1-8050-002608dcf037/rgbdslam-7*.log
I have tried different request intervals but it still happens when I wait more than 10 seconds between each request, and ideally I would like much more frequent tf information than this.
I am using ubuntu 11.10 and ROS electric on a 2.8ghz core 2 duo with 8gb of RAM. Could the speed of my computer be the problem? Is there anything else I can try?
Thanks in advance,
James

Originally posted by jwrobbo on ROS Answers with karma: 258 on 2012-02-14
Post score: 0

A:

Hi James,
sounds weird. Have you looked into the logfile mentioned in the error message?
Otherwise you would either need to run it in a debugger or fiddle a little with the code, as I cannot reproduce the problem.
Concerning the speed, you can have a look at the function "void GraphManager::sendAllClouds()" in graph_manager.cpp around line 1350.
There the frequency of sending the transforms and clouds is throttled to 5 Hz in the line
ros::Rate r(5); //slow down a bit, to allow for transmitting to and processing in other nodes

You can set that any value.
You can omit sending of the cloud by removing (or commenting out) the following line:
graph_[i]->publish("/openni_rgb_optical_frame", now, batch_cloud_pub_);

Are you only interested in the current pose estimate or in the whole trajectory?
Edit:
I added the feature to send the current pose estimate after each processed frame. That means, you can just listen to the transformation from /map to /openni_camera and use the sending of the clouds only if you want to update the map. This doesn't fix the crash you mentioned though. Please download it here and report back whether that works for you. You need to replace the rgbdslam folder with the folder rgbdslam_dev-f4835f9e1e39 (i.e. rename the latter to the former) and rebuild.

Originally posted by Felix Endres with karma: 6468 on 2012-02-16
This answer was ACCEPTED on the original site
Post score: 0


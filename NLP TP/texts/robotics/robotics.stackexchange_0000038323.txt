Q:

rosbag info C++ API

Is there any way to recover the number of messages of a given topic from a .bag file using the C++ API?
I know the Python API does, which is used in rosbag info <bag> (I think, by means of the _get_yaml_info Bag class method), but I'd like to know whether we have the same feature in the C++ API or not?
Thanks!

Originally posted by Enrique on ROS Answers with karma: 834 on 2012-02-28
Post score: 2

A:

Did you try the rosbag::View::size method? As I understand it, it should return the number of messages. Maybe std::distance(view.begin(), view.end()) could also work, but not sure about that.

Originally posted by Lorenz with karma: 22731 on 2012-02-29
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Enrique on 2012-02-29:
I mean to obtain the number of messages without reading them, like rosbag info does (as I mention in my question). Currently, I read all messages using C++ API, and I convert them to some ASCII files I need, but only at the end I know the number of messages, and I need it at the very beginning.
Comment by Lorenz on 2012-02-29:
Sorry. My fault. I updated my answer.
Comment by Enrique on 2012-02-29:
rosbag::View::size() works! It uses std::distance in its implementation, btw. Thanks a lot!
Comment by YancenBOB on 2019-08-14:
@Enrique
Hi. I met almost the same question or need to get the number of messages in a rosbag. I used the function  view.size() but it showed the size_cache (uint32) and it was 68435, not the value of the messages number. How could I make it works? Thank you


Q:

Unknown CMake command "ign_find_package"

I get the same error as in this post but I couldn't solve it by just sourcing my ignition workspace.
I installed ignition gazebo edifice with these instructions.
The place where I build it with colcon build --merge-install is ~/workspace.
Now I tried to recreate the example plugin in another folder ~/ros2_ws/src/plugins/sample_system.
Then I source the ign workspace with . ~/workspace/install/setup.bash
and try to build the ros2_ws with colcon build but I get this error
CMake Error at CMakeLists.txt:5 (ign_find_package):
  Unknown CMake command "ign_find_package".

Originally posted by florian.pix on Gazebo Answers with karma: 11 on 2022-05-19
Post score: 0

A:

The system plugin tutorial from ign gazebo seems to be incomplete. Before using "ign_find_package" you need to first put in "find_package(ignition-cmake2 REQUIRED)".
Also ign_find_package isn*t needed in every case. For example a basic GUI Plugins CMakeLists.txt could look like this:
cmake_minimum_required(VERSION 3.10.2 FATAL_ERROR)

if(POLICY CMP0100)
  cmake_policy(SET CMP0100 NEW)
endif()

project(test_plugin)

set(CMAKE_AUTOMOC ON)

find_package(ignition-gazebo5 REQUIRED COMPONENTS gui)

QT5_ADD_RESOURCES(resources_RCC ${PROJECT_NAME}.qrc)

add_library(${PROJECT_NAME} SHARED
  ${PROJECT_NAME}.cc
  ${resources_RCC}
)
target_link_libraries(${PROJECT_NAME}
    PRIVATE ignition-gazebo5::gui
)

Originally posted by florian.pix with karma: 11 on 2022-05-24
This answer was ACCEPTED on the original site
Post score: 0


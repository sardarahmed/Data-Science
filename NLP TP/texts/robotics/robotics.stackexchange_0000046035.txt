Q:

Groovy Beta: How do I build the higher level packages for Arch Linux

Ok ... I have followed these instructions and successfully complete step 2 of building the ROS base. It went pretty cleanly and I can run roscore no problem.
Now how do I build the old equivalent of Desktop-Full Install?
I tried to follow the generic install instructions, but they don't seem to help me. I get confused and don't see anything that looks like it will build everything.

Originally posted by Kevin on ROS Answers with karma: 2962 on 2012-11-23
Post score: 2

Original comments
Comment by KruseT on 2012-11-23:
This is work in progress. The generic install instructions will define this once the TODOs in there are resolved.

A:

Building higher-level packages in Arch is unfortunately not completely trivial. However, with catkin and bloom, live got a lot easier.
I was spending some time to create a few scripts to generate PKGBUILD files for ROS packages. At the moment, I'm importing more and more packages. Rviz is working fine and maybe there will even be PCL soon. Unfortunately, my tool chain works only for wet packages, so pr2_gazebo doesn't work yet. If you want to check out what I have, have a look at my github repository. To build the packages, first go into the directory ros-build-tools and call makepkg -i. Then, go into the directory groovy and just execute make. This will build and install Arch packages in the right order. If you want to just build rviz, you can also just call make rviz.
A few notes:

The makefile will install arch packages, so it will ask you for sudo.

Don't use parallel build, it doesn't work properly. To be sure, you can use make -j1.

If you run into linker errors, edit /etc/makepkg.conf and remove --as-needed from the linker flags. For some reason, it was causing linker errors for me.

You can import your additional wet packages with /usr/share/ros-build-tools/import_catkin_packages.py. The option --help will show you the available command line options. I'd be happy about bug-reports and patches in case you want to help :) The generated PKGBUILD seems to work in a lot of cases, but sometimes you will have to fix some dependencies or patch a few files.

Originally posted by Lorenz with karma: 22731 on 2012-11-25
This answer was ACCEPTED on the original site
Post score: 1


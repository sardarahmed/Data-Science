Q:

problem adding an image as texture to an object

I want to display an image in the gazebo environment. Looking at a few answers suggested that I've to add an object & lay the image as texture over the object.
I followed what's suggested in the answers of this post, but no avail. Then I created a collada mesh as suggested by this tutorial. Still no luck. The object gets inserted like a grey plane as shown below.

What I did until now:

I created a directory for the model with the name ~/.gazebo/models/aruco_marker. This is how the folder looks like:

contents of model.sdf:
      true
 <link name="link">
   <collision name="collision">
     <geometry>
       <plane>
         <normal>0 0 1</normal>
         <size>10 10</size>
       </plane>
     </geometry>
     <surface>
       <friction>
         <ode>
           <mu>100</mu>
           <mu2>50</mu2>
         </ode>
       </friction>
     </surface>
   </collision>
   <visual name="visual">
     <cast_shadows>false</cast_shadows>
     <geometry>
       <plane>
         <normal>0 0 1</normal>
         <size>10 10</size>    </plane>    <mesh>
     <uri>model://aruco_marker/materials/textures/4x4_1000-25_side50.dae</uri>
       </mesh>
     </geometry>
     <material>
       <script>
         <uri>model://aruco_marker/materials/scripts/aruco_marker.material</uri>
         <name>MyGroundPlane/Image</name>
       </script>
     </material>
   </visual>
 </link>   </model> </sdf>

contents of model.config
 
     Aruco Marker
     1.0
     model.sdf
     
         My textured ground plane.
     
 

contents of materials/scripts/aruco_marker.material
material ArucoMarker/Image
{
technique
{
pass
{
ambient 0.5 0.5 0.5 1.0
diffuse 1.0 1.0 1.0 1.0
specular 0.0 0.0 0.0 1.0 0.5
texture_unit
{
texture 4x4_1000-25_side50.jpg
filtering trilinear
}
}
}
}

This is the .jpg file:

I generated a .dae file for it using an online converter
Any help is greatly appreciated, thanks!

Originally posted by user1928 on Gazebo Answers with karma: 3 on 2022-02-16
Post score: 0

A:

You need to give the <uri> to the materials/scripts and materials/textures directory of your model, so that the material with the given <name> is read and the texture file is found.
i.e.
    <material>
      <script>
        <uri>model://aruco_marker/materials/scripts/</uri>
        <uri>model://aruco_marker/materials/textures/</uri>
        <name>ArucoMarker/Image</name>
      </script>
    </material>

See this model from gazebo as an example http://models.gazebosim.org/pine_tree/

Originally posted by Veerachart with karma: 226 on 2022-02-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by user1928 on 2022-02-21:
Thanks, it was helpful. I had another bug in my code. As can be seen in my post above, the name tag within the material tag in the visual section of my model.sdf file wasn't matching with the name mentioned in my .material script.
Comment by user1928 on 2022-02-21:
I tried generating the collada (.dae) file with blender but that wasn't required. The one generated with the online convertor (mentioned in my post) was good enough.


Q:

Parallel Physics - Real Time factor

We are working according:
Tutorial on thread-island and with the repositories suggested by Ying Lu as answered to: this question
Our goal is to reach real time factor of 1 in our simulation.
We have the following computer:
HP EliteDesk 800 G3 TWR (Y1B39AV)
16GiB System Memory                                                                                   Intel(R) Core(TM) i7-7700K CPU @ 4.20GHz (x8)

And the following graphical card: GeForce GTX 1080
We are originally interested with running our simulation with two island_threads.
We checked the following 3 configurations:

gazebo --verbose -o unthrottled0 gazebo/worlds/dual_pr2.world
gazebo --verbose -o unthrottled1 gazebo/worlds/dual_pr2.world
gazebo --verbose -o unthrottled2 gazebo/worlds/dual_pr2.world

To our surprise:

unthrottled 0 ==> Real Time factor is around 0.95
unthrottled 1 ==> Real Time factor is around 0.41 !!!!!!
unthrottled 2 ==> Real Time factor is around 0.62 !!!!!!

To be honest, with a much less good computer we got good results regarding real time factor (from 0.60 without to 0.75 with 2 islands) so we had a lot of expectations toward the strong station.
I am attaching a screen capture of gazebo with a filtered htop.
unthrottled0.jpeg
unthrottled2.jpeg
Obviously, we are doing something wrong.... Do you have an idea?
Thanks a lot

Originally posted by mhallak on Gazebo Answers with karma: 96 on 2017-11-07
Post score: 0

A:

The solution of the problem is to compile gazebo with the flag release.
./src/catkin/bin/catkin_make_isolated -DCMAKE_BUILD_TYPE=RELEASE

Then the real time factor is as expected.
The default compile flag is RelWithDebInfo and it seems that running gzserver compiled with debug flag is catastrophic for the real time factor....

Originally posted by mhallak with karma: 96 on 2017-12-06
This answer was ACCEPTED on the original site
Post score: 1


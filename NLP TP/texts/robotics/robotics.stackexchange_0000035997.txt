Q:

gpsd_client help please, can't see data on fix topic

Hi, I'm trying to follow the tutorial for gpsd_client, but it's not quite working.  I'm running ROS Diamondback on Ubuntu 10.04, and just downloaded the latest gps_umd files.
Everything works fine early on in the tutorial.  'gpscat -s 19200 /dev/ttyUSB0' shows the output from the GPS unit (a garmin gps 18x-5Hz).  'gpsd -S 4000 /dev/ttyUSB0' runs and connects to the unit (Usually running with the -N -n -D 2 options to show logging, keep from running in background, etc).  Reading the gpsd data with cgps or xgps show the correct lat/long for my area.
Running the gpsd_client doesn't throw any red flags (it prints a statement that it GPSd opened), but when I try to show the fix data (with rostopic echo /fix) it doesn't show anything.  The only other step in the tutorial that doesn't work is when it has you send 'telnet localhost 4000' to see what gpsd is sending over port 4000.  I don't see anything, but cgps works when I tell it to look for data on that port.
I found another question asking about something similar, but it sounded like his problem was due to using cturtle at the time.
The only thing that doesn't seem to work is that xgps doesn't show any satellites in thy sky view.  It still shows the correct lat/long and elevation though.
Update:
So I added a bunch of print statements to the client.cpp file and re-ran.  It tells me that there's no fix, and that there's no satellites visible and none being used.  But when I launch gpsmon, it tells me that there's anywhere between 6 and 10 satellites visible (on the right hand side of gpsmon).  But it doesn't show me the azimuth, elevation, etc for any satellites.
Has anyone else had a similar issue?  Thanks.

Originally posted by mattmclellan on ROS Answers with karma: 66 on 2011-11-25
Post score: 4

A:

Figured it out.  Looking into the manual for the Garmin GPS I'm using, I noticed that the sentence for what satellites are visible wasn't sent be default.  Setting the unit to send the GPGSV sentence fixed not seeing the satellites visible in gpsmon.  Then enabling the GPGLL sentence fixed the fix data not being published.

Originally posted by mattmclellan with karma: 66 on 2011-11-27
This answer was ACCEPTED on the original site
Post score: 1


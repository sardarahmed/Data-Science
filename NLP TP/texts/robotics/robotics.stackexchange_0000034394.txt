Q:

Call a service at startup with a launch file

Is it possible to call a service from a launch file once at startup?
We want to call the service /global_localization of AMCL the first time we launch our robot.

Originally posted by Javier on ROS Answers with karma: 408 on 2011-09-21
Post score: 11

A:

Just have the call be its own node in the launch file:
<node pkg="rosservice" type="rosservice" name="global_loc" args="call --wait /global_localization" />

Originally posted by bhaskara with karma: 1479 on 2011-09-21
This answer was ACCEPTED on the original site
Post score: 24

Original comments
Comment by roehling on 2011-09-21:
That was my first idea, too. But as Lorenz wrote above, roslaunch tends to pass additional parameters which let rosservice choke.
Comment by Dereck on 2012-10-22:
This worked for me, I just added that line verbatim directly under my AMCL launch line. I like this method better, it just feels right, light, and clean. :)
Comment by Dereck on 2013-02-28:
Apparently this no longer works in Groovy....  Comment here if you want this feature fixed I suppose: https://github.com/ros/ros_comm/issues/180
Comment by Oscar Lima on 2015-05-05:
This works under hydro i just tested with this line of code in launch file under ubuntu 12.04:

Comment by Karsten on 2015-12-18:
This still works under indigo like charm!
Comment by renweiros on 2017-04-28:
This also works under kinetic! Thank bhaskara for the answer:)
Comment by Hakaishin on 2019-09-10:
still works in melodic
Comment by amjack on 2020-12-10:
Thanks works for me in melodic , for Gazebo service,
<node pkg="rosservice" type="rosservice" name="rosservice" args="call /gazebo/reset_simulation"/>

Comment by Den on 2021-11-16:
This worked for me in noetic with the following:
The service arguments were:
Header header
string name
string type

and the following was added to the launch file:
<node pkg="rosservice" type="rosservice" name="rosservice" args="call /start '[0, 0, 'map']' '' ''" />
Comment by Rufus on 2021-12-13:
For a slightly more complicated example (involving nested quotes):   <node pkg="rosservice" type="rosservice" name="open_door" args="call --wait /gazebo/apply_joint_effort '{joint_name: &apos;door_panel_frame_joint&apos;, effort: 100.0, start_time: {secs: 0.0, nsecs: 0.0}, duration: {secs: 1.0, nsecs: 0}}'"/>


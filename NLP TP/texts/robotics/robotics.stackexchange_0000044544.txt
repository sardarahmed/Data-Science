Q:

rosdep install cv_bridge: failed to install opencv2.3

Hi all,
I am using ROS Electric installed from source under Debian Squeeze. I need to use the package cv_bridge so I installed the stack vision_opencv, which depends on OpenCV2.3.
When I execute rosdep install cv_bridge, I get the following error:
Failed to find rosdep opencv2.3 for package cv_bridge on OS:debian version:squeeze
rosdep install ERROR:
failed to install opencv2.3

According to the wiki:
The opencv-2.3 package is not available on squeeze. 
The quicker solution is to get libcv-dev. 
The best solution would be to add a source tarball install in the rosdep.yaml

Has anybody implemented that best solution?
Thank you very much in advance.

Originally posted by flamenco on ROS Answers with karma: 40 on 2012-10-01
Post score: 0

A:

Hi!
I don't know if this is the best solution, but what I did is to modify the OpenCV2.3 section of vision_opencv/rosdep.yaml
opencv2.3:
  ubuntu:
    lucid:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~lucid]
    maverick:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~maverick]
    natty:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~natty]
    oneiric:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~oneiric]

For this other
opencv2.3:
  ubuntu:
    lucid:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~lucid]
    maverick:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~maverick]
    natty:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~natty]
    oneiric:
      apt:
        packages: [libopencv2.3-dev=2.3.1+svn6514+branch23-12~oneiric]
  debian:
    squeeze: |
      if [ ! -f /usr/local/lib/libopencv_core.so.2.3.1 ] ; then
        mkdir -p ~/ros/ros-deps
        cd ~/ros/ros-deps
        wget --tries=10 -O OpenCV-2.3.1a.tar.bz2 http://sourceforge.net/projects/opencvlibrary/files/opencv-unix/2.3.1/OpenCV-2.3.1a.tar.bz2/download
        tar xjvf OpenCV-2.3.1a.tar.bz2
        cd OpenCV-2.3.1
        mkdir release
        cd release
        cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local ..
        make && sudo make install
        sudo cp /usr/local/lib/pkgconfig/opencv.pc /usr/local/lib/pkgconfig/opencv-2.3.1.pc
      fi

It worked for me, I hope it helps you.

Originally posted by Martin Peris with karma: 5625 on 2012-10-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joq on 2012-10-02:
Good to know this works for Electric. Unfortunately, it will not work for Fuerte or Groovy.


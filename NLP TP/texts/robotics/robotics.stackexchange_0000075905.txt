Q:

SOLVED: Yaw Drift with UM7

Hello,
I am experiencing a vexing issue in that using the UM7 ROS driver, after a few minutes (~2)  of running the yaw drifts at a seeming constant rate (I don't have enough points to upload an image to illustrate).  I can use the reset service of the UM7 driver to reset the EKF, but then after awhile (~ 2 min) it starts to drift again.
The odd thing is that this seems to be a problem that is something to do with ROS UM7 driver.  I can use the CH Windows interface and I don't see the issue - i.e, the yaw output is stable.
I am using Firmware U71D.
I have calibrated the mag. with the CH Windows serial interface.
I have experimented with different settings as suggested here: http://www.chrobotics.com/forums/topic/yaw-drift-with-u71d
I have looked through the UM7 driver source code, but can't seem to find anything that would cause this.
I have used the verified that the mag. updates are being used by the unit
I have made sure to "flash commit" the configuration to the UM7 so that it is non-volatile.
Any help would be greatly appreciated.
Brian

SOLUTION
As Stefan suggested, installing the U71C firmware seemed to fix the issue.  Thank you!

Originally posted by BSBingham on ROS Answers with karma: 108 on 2016-08-21
Post score: 0

Original comments
Comment by gvdhoorn on 2016-08-22:
I've given you some karma, so you should be able to upload images now.
Comment by xlightx on 2018-08-02:
My firmware version of this sensor is U72A and still has the drift. I can't find the older drivers anywhere. Does anyone have them by chance?

A:

I also saw extreme yaw drift on a new UM7 unit. It turned out that the estimation of gyro biases that was added in firmware U71D is good in theory, but apparently not very robust in actual use. I downgraded our sensor to firmware U71C and it now works fine again (after trying to make the sensor work with various settings on the newer firmware). I thus recommend downgrading and seeing if it fixes your issue.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-08-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by BSBingham on 2016-08-22:
Thanks Stefan!
Comment by Airuno2L on 2016-08-23:
If that solves the problem please click the check mark next to the answer to mark it as solved.


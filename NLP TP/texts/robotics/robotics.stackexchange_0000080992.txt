Q:

Communicate between Android and ROS threads

Hello,
I have a simple Java class that launch a thread containing a ROS node
public class ROSThread implements Runnable {
private Thread m_thread;

public ROSThread() {
    this.m_thread = new Thread(this);
}

public void rosrun(){
    m_thread.start();
}

@Override
public void run() {
    // start your classic ROS node (spin()) in a dedicated thread
    startROSNode();
}

//load C/C++ shared library
static
{
    System.loadLibrary("ros_main");
}
private native void startROSNode();
}

Which is launched in the Activity class
ROSThread rosThread = new ROSThread();
rosThread.rosrun();

In this activity, I would like to indicate to my ROS nod that it needs to publish something.
Any idea how to do that ?
Thanks in advance,

Originally posted by TristanKpka on ROS Answers with karma: 13 on 2017-05-24
Post score: 0

A:

@TristanKpka take a look at this post: https://answers.ros.org/question/272979/rosjava-publishing-to-a-topic-based-on-user-input-button/.
You need to create a node that can publish something "on demand", and the call that method whenever you want.
Unless you need a package that was already written in Cpp, I would just use the regular nodes provided by rosjava. Those will give you the functionality you need to publish messages.
A bit late, but hope it helps!

Originally posted by jubeira with karma: 1054 on 2017-10-13
This answer was ACCEPTED on the original site
Post score: 0


Q:

Check to see if a service is running?

Hi,
I'm trying to use a service that will only ever need to be called once. I'd like to destroy the service server object as soon as the service is completed, allowing the service name to be reused.
I've tried sending a call to Shutdown() as the last part of the service callback, but of course this starts destroying the service while it's in use. Can anyone suggest a way to check if a service is currently in use?
I'd prefer not to use another service or topic to signal the completion of the service from the client.

Originally posted by Chengarda on ROS Answers with karma: 156 on 2013-12-12
Post score: 0

A:

You can have the server destroy itself using a flag after finishing servicing the call. And the Master API for the client to know if the service is there. http://wiki.ros.org/ROS/Master_API roscpp and rospy both have methods to expose this capability.
I'd suggest you review your program design. Requiring the server to start up and shutdown is an odd requirement which add a lot of overhead. You could probably find a simpler solution.

Originally posted by tfoote with karma: 58457 on 2013-12-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Chengarda on 2013-12-15:
Thanks, good advice, both parts. I think you might be right about a simpler solution.


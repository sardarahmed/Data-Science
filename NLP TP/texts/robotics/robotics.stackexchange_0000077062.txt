Q:

Get a navigation goal from laserscan

Hi everyone,
For some purpose, I want to publish a navigation goal(type geometry_msgs::PoseStamped ). Now I want to get the position and orientation from the laserscan data as fellows, how can i make it?
float ra = scan_msg->ranges[t];
float angle = scan_msg->angle_min + i * scan_msg->angle_increment;

the laserscan frame_id = "laser", the map frame_id = "map", and I have the tf tree laser->base_link->odom->map.
Any suggestions.
Thank You In Advance!!!
EDIT
I have solve the problem at this link

Originally posted by chengwei on ROS Answers with karma: 51 on 2016-11-01
Post score: 0

Original comments
Comment by gvdhoorn on 2016-11-03:
Could you please post your last edit as an answer, and then accept your own answer? That shows much more clearly that your question was answered than if you close it.
Thanks.

A:

I'm a little unclear on what you actual question is but I'll offer some advice.
Obtaining your current location based on laser scan data can be done with something like the amcl package that compares the laser scans to a known map.
You can create a map from laser scan data using gmapping or manually using GIMP (just export as .gmp).
An easy way to publish a Navigation Goal is to use RVIZ. You can select the 2D Nav goal button at the top which allows you to place an arrow on the screen of where you want the nav goal to be.

Originally posted by shoemakerlevy9 with karma: 545 on 2016-11-02
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by chengwei on 2016-11-02:
Hi,shoemakelevy,
I'm sorry for my poor English.
I want to publish a Navigation Goal, and the Goal's position is obtaining from a laserscan range float ra = scan_msg->ranges[t] ,and the Goal's orientation is get from a angle float angle = scan_msg->angle_min + i * scan_msg->angle_increment;
Comment by shoemakerlevy9 on 2016-11-02:
No problem. I'm still a bit confused about your application. Is your laser scan being taken from your robots position? Are you then trying to obtain a navigation goal? If so which range do you want to use? It looks like you have an array. Also can you explain your angle calculation?
Comment by chengwei on 2016-11-02:
Hi,
The laserscan is taken from my robots, the frame is laser, I want to obtain a navigation goal from the laserscan, float ra = scan_msg->ranges[t];float angle = scan_msg->angle_min + t * scan_msg->angle_increment, here the t is constant, obtained by calculation. Not an array, just one data
Comment by chengwei on 2016-11-02:
Just as obtain the navigation goal from a range,and a angle in a laserscan. The range is the specified orientation(angle) in the laserscan.
I want to publish the Goal about something interesting, and detect object from the laserscan.


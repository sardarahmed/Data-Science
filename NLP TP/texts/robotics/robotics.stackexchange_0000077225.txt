Q:

Robot with valves in Gazebo

I'm quite new to ROS and Gazebo and I would be very grateful if anyone could give me any pointers as to how to add valves to a car-like robot I have simulated in Gazebo. The idea is that given some input the robot will open/close the valves attached to it. I have searched for a similar robot model but could not find one. Any ideas will be very welcome! Thank you very much.

Originally posted by cclina on ROS Answers with karma: 26 on 2016-11-09
Post score: 0

Original comments
Comment by lucasw on 2016-11-09:
What is supposed to happen in the simulation when the valves open or close?
Comment by cclina on 2016-11-10:
Ideally, water should come out, but any other indication that the valves have opened or closed, such as turning a light on and off, would also work.

A:

Gazebo doesn't have fluid simulation, so it would have to be some other visual indicator involving motion of rigid bodies or lights.
You could have a brightly colored object with no <collision> that is on a linear/prismatic actuator that retracts inside another object that hides it when off, then is set to protrude out and become visible when the valve is on.
Lights aren't yet well integrated, it looks like there is now a pull request to make it possible to attach lights to a robot https://bitbucket.org/osrf/gazebo/issues/900/allow-attachment-of-lights-to-links though that will take a while to make it into a major gazebo release and be integrated with gazebo_ros.  It is possible to create a light through the gazebo_ros spawn model service and then turn the light on and off through another service call, and it could also be manually positioned through a gazebo ros topic interface to move around with a mobile robot.
You might also consider only putting visual indicators of this sort in rviz visualizations (a Marker could change color from red to green very easily in rviz) instead of gazebo.

Originally posted by lucasw with karma: 8729 on 2016-11-10
This answer was ACCEPTED on the original site
Post score: 0


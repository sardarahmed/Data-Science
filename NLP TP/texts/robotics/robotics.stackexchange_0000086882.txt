Q:

import cv2 error caused by ROS!

I have anaconda installed. which python gives me the following output: 
/home/nehal/anaconda3/bin/python

Now when I start python on command line, it starts the anaconda's python but `import cv2` gives me the following error:
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ImportError: /opt/ros/kinetic/lib/python2.7/dist-packages/cv2.so: undefined symbol: PyCObject_Type

In the .bashrc I have :
export PATH="/home/nehal/anaconda3/bin:$PATH"
export PYTHONPATH="/home/nehal/anaconda3/lib/python3.6/dist-package‌​s:$PYTHONPATH"
ROS_IP=
ROS_HOSTNAME=
ROS_MASTER_URI=
source /opt/ros/kinetic/setup.bash
source ~/catkin_ws/devel/setup.bash

and nothing else related to python in .bashrc
nehal@nehal-Inspiron-5559:~$ echo $PYTHONPATH
/home/nehal/catkin_ws/devel/lib/python2.7/dist-packages:/opt/ros/kinetic/lib/python2.7/dist-packages:/home/nehal/anaconda3/lib/python3.6/site-package‌​s:/home/nehal/anaconda3/lib/python3.6/dist-package‌​s:/home/nehal/anaconda3/lib/python3.6/dist-package‌​s:/home/nehal/anaconda3/lib/python3.6/dist-package‌​s:/home/nehal/anaconda3/lib/python3.5/dist-package‌​s:/home/userx/anaconda3/lib/python3.5/dist-package‌​s:/home/userx/anaconda3/lib/python3.5/dist-package‌​s:/home/userx/anaconda3/lib/python3.5/dist-package‌​s

Originally posted by nrb on ROS Answers with karma: 37 on 2018-05-08
Post score: 0

A:

You're mixing Anaconda (which is apparently Python 3) with python modules that are compiled for cPython 2.7. These are incompatible and won't work together.
You may want to try either:

Don't use Anaconda when you use ROS (use one or the other, but not both)
Recompile ROS and the OpenCV python library to use Anaconda (I have no idea how to do this, but you can probably find instructions online)

Originally posted by ahendrix with karma: 47576 on 2018-05-08
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by nrb on 2018-05-08:
Thank you!


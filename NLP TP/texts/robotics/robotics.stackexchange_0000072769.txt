Q:

How to set collision for octomap in moveit?

I input octomap to moveit first of run this command.
 rosrun octomap_server octomap_server_node cloud_in:=rtabmap/cloud_map 

And move goal quadrotor when fixed framed is odom-combine. After that, I set fixed framed to map.(this is the only way I can move quadrotor) And do the plan. I found that quadrotor pass through the octomap. Octomap doesnâ€™t have collision. How do I set collision for octomap?
in this picture,you can see quadrotor ignore octomap

Originally posted by sean819 on ROS Answers with karma: 25 on 2016-03-14
Post score: 0

A:

octomap_server is a standalone node belonging to octomap_ros that is completely independent of moveit. The octomap library is used inside moveit (or more precise, the move_group node) for representing environment geometry, but that does not mean that loading a octomap into octomap_server automatically makes it known to moveit.
One option to feed the octomap to moveit is using the planning scene ROS API described in this tutorial. Using that you can send new octomap collision geometry to moveit as part of the moveit_msgs/PlanningSceneWorld message inside the moveit_msgs/PlanningScene message.
Another (perhaps easier) option is to update the internal moveit octomap directly using your sensors, see moveit 3D Perception/Configuration.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-03-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by sean819 on 2016-03-15:
i think the first option is difficult for me(I am a beginner).So i didn't success.
Then i try the second one.But after i did all step in the tutorial and launch demo.launch.I got the warn message in this picture.
Comment by sean819 on 2016-03-15:
i add the new question in here
Comment by sean819 on 2016-03-27:
I success now.but the weird thing is when i move xtion pro live. It didn't build 3D model. It build like a mass here.How can i fix that?


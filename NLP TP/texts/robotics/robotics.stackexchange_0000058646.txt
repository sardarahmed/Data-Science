Q:

Problems building & running Openni2_camera

Hi All,
I've managed to download and successfully compile OpenNi2 and run the sample apps.
Getting some problems with Openni2_camera however:
Compiling I get the likes of:
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniStreamRegisterNewFrameCallback'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniStreamGetProperty'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniDeviceIsCommandSupported'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniDeviceSetProperty'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniReleaseDeviceList'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniStreamDestroy'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniStreamStart'
/home/mark/catkin_ws/devel/lib/libopenni2_wrapper.so: undefined reference to `oniDeviceCreateStream'

And probably related:
Running (or trying to)
rosrun openni2_camera OpenNI2.cfg 

I get
Traceback (most recent call last):
File "/home/mark/catkin_ws/src/openni2_camera/cfg/OpenNI2.cfg", line 7, in <module>
  gen = ParameterGenerator()
 File "/opt/ros/groovy/lib/python2.7/dist-packages/dynamic_reconfigure/parameter_generator_catkin.py", line 234, in     __init__
self.dynconfpath = sys.argv[1]  # FIXME this is awful
IndexError: list index out of range

I'm running this with Groovy on my PC. Was to stick with Groovy ideally as I'm going to migrate it all to my Raspberry Pi
Many Thanks
Mark

Originally posted by MarkyMark2012 on ROS Answers with karma: 1834 on 2014-04-10
Post score: 1

Original comments
Comment by jbinney on 2014-04-10:
How did you install OpenNi2? The ROS debs are built from a fork of that - there may be modifications. Can you uninstall your source copy of OpenNi2 and sudo apt-get install libopenni2-dev libopenni2-0?
Comment by MarkyMark2012 on 2014-04-11:
Okay just tried that and still getting the same error

A:

Did you ever get around this?
Cheers

Originally posted by dhood with karma: 621 on 2014-06-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by MarkyMark2012 on 2014-08-13:
Hi,
Sorry for the tardy reply. Yes managed to get it build. I had to download and build OpenNI2 from scrach (https://github.com/kalectro/OpenNI2) then made sure the pcl part of ros was built okay the finally built openni2_camera (https://github.com/ros-drivers/openni2_camera)
At the moment testing will let you know in the next day or so how that goes
Comment by miguel on 2015-08-15:
Did you manage to get this working? Ive installed Kalectros OpenNI2 and that is working but I can only build openni2_camera from kalectros repo which does not work with openni2_launch..is there anyway to use the ros-drivers openni2_camera? my raspbeery pi says cant find libopenni2?
Comment by MarkyMark2012 on 2015-08-15:
Yes - You need to download and build OpenNI2 - It takes a while but it'll be faster on RPi2


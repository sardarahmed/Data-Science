Q:

failed make install on lion with latest homebrew instructions

I'm having limited success getting ROS up and running on mac lion and Xcode 4.3.2.  I had a version of electric up using dependencies from mac ports, but couldn't get rviz working.  Since then fuerte has been released and it looks like that is the only supported install method for mac so I gave it a try.  I had a tough time with wxWidgets.  The quicktime framework is not 64-bit compatible and I could find a way to rebuild wxWidgets without quicktime.  After following the recently updated homebrew instructions (http://ros.org/wiki/fuerte/Installation/OSX/Homebrew/Source) that includes a pointer to downloading binary versions of wxWidgets, I managed to get a successful build.
I am now stuck at .   The roslib egg has failed dependencies as shown below.  It can't seem to find rospkg.  rospkg is installed here </Library/Python/2.7/site-packages>.
Thanks for any help related to this.

Installed /opt/ros/fuerte/lib/python2.7/site-packages/roslib-0.0.0-py2.7.egg
Processing dependencies for roslib==0.0.0
Searching for rospkg
Reading http://pypi.python.org/simple/rospkg/
Reading http://www.ros.org/wiki/rospkg
Reading http://pr.willowgarage.com/downloads/rospkg/
Best match: rospkg 1.0.2
Downloading http://pypi.python.org/packages/source/r/rospkg/rospkg-1.0.2.tar.gz#md5=15ce5f528933cf113a1fab3fdfe61fc6
Processing rospkg-1.0.2.tar.gz
Writing /tmp/easy_install-70FL6f/rospkg-1.0.2/setup.cfg
Running rospkg-1.0.2/setup.py -q bdist_egg --dist-dir /tmp/easy_install-70FL6f/rospkg-1.0.2/egg-dist-tmp-YL0deA
Traceback (most recent call last):
  File "/Users/wagner/ros-underlay/ros/setup.py", line 50, in <module>
    license = "BSD"
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/distutils/core.py", line 152, in setup
    dist.run_commands()
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/distutils/dist.py", line 953, in run_commands
    self.run_command(cmd)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/distutils/dist.py", line 972, in run_command
    cmd_obj.run()
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/install.py", line 73, in run
    self.do_egg_install()
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/install.py", line 101, in do_egg_install
    cmd.run()
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 350, in run
    self.easy_install(spec, not self.no_deps)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 570, in easy_install
    return self.install_item(None, spec, tmpdir, deps, True)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 622, in install_item
    self.process_distribution(spec, dist, deps)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 674, in process_distribution
    [requirement], self.local_index, self.easy_install
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/pkg_resources.py", line 580, in resolve
    dist = best[req.key] = env.best_match(req, self, installer)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/pkg_resources.py", line 825, in best_match
    return self.obtain(req, installer) # try and download/install
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/pkg_resources.py", line 837, in obtain
    return installer(requirement)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 590, in easy_install
    return self.install_item(spec, dist.location, tmpdir, deps)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 620, in install_item
    dists = self.install_eggs(spec, download, tmpdir)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 814, in install_eggs
    return self.build_and_install(setup_script, setup_base)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 1094, in build_and_install
    self.run_setup(setup_script, setup_base, args)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/command/easy_install.py", line 1080, in run_setup
    run_setup(setup_script, args)
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/sandbox.py", line 30, in run_setup
    lambda: execfile(
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/sandbox.py", line 72, in run
    return func()
  File "/usr/local/Cellar/python/2.7.3/lib/python2.7/site-packages/distribute-0.6.26-py2.7.egg/setuptools/sandbox.py", line 32, in <lambda>
    {'__file__':setup_script, '__name__':'__main__'}
  File "setup.py", line 8, in <module>
    version = '0.0.0'
ImportError: No module named rospkg
CMake Error at ros/CMakeFiles/safe_execute_install.cmake:5 (message):
  Error executing process with arguments
Call Stack (most recent call first):
  ros/cmake_install.cmake:31 (INCLUDE)
  cmake_install.cmake:40 (INCLUDE)

make: *** [install] Error 1

Originally posted by rwagner on ROS Answers with karma: 1 on 2012-05-16
Post score: 0

Original comments
Comment by rwagner on 2012-05-16:
I ran <sudo easy_install -U rosinstall vcstools rospkg rosdep> with no errors.  Everything was installed into /Library/Python/2.7/site-packages/.
Comment by rwagner on 2012-05-16:
I also have this line in my .bashrc  export PYTHONPATH="/usr/local/lib/python2.7/site-packages:/usr/local/lib/python:$PYTHONPATH"
Comment by rwagner on 2012-05-16:
$echo $PYTHONPATH
/usr/local/lib/python2.7/site-packages:/usr/local/lib/python
Comment by rwagner on 2012-05-16:
python -c 'import rospkg' error out if /Library/Python/2.7/site-packages is not on the python path otherwise it finds it.  Is the goal for rospkg rosdep and the others to be put in /usr/local/lib/python2.7/site-packages and not /Library/Python/2.7/site-packages?
Comment by Dan Lazewatsky on 2012-05-16:
Yes, this stuff is supposed to be installed in /usr/local/lib/python2.7/site-packages. Otherwise the instructions wouldn't tell you to add that to your PYTHONPATH.
Comment by rwagner on 2012-05-17:
I thought as much, but it is installed in /Library/Python/2.7/site-packages even when I have /usr/local/lib/python2.7/site-packages in the PYTHONPATH.  I need to figure out why that is.

A:

I would imagine that if you run python -c 'import rospkg' you get an ImportError, right?
Did you make sure to add
export PYTHONPATH="/usr/local/lib/python2.7/site-packages:/usr/local/lib/python:$PYTHONPATH"

to your .bashrc, and source ~/.bashrc?
Were you able to run sudo easy_install -U rosinstall vcstools rospkg rosdep with no errors?

Originally posted by Dan Lazewatsky with karma: 9115 on 2012-05-16
This answer was ACCEPTED on the original site
Post score: 0


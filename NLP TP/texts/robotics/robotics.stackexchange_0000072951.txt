Q:

Calculate azimuth and elevation angles

If I have two frames: /parent and /child. I can use tf:lookuptransform to find the transformation between two frames.
Now, I want to find the azimuth and elevation angles in spherical coordinate between two frames. Do ROS have any available function to do something like that?
Thanks

Originally posted by tn0432 on ROS Answers with karma: 60 on 2016-03-21
Post score: 0

Original comments
Comment by al-dev on 2016-03-21:
How would you define the azimuth and elevation angles "between two frames"? They give you 2DOF and a generic 3D transformation would need 6DOF...

A:

No, to my knowledge ROS doesn't make those methods available.
You need to better define what between two frames means, though. Assuming you can treat Frame1 as the origin (that is, position (x,y,z)=(0,0,0) and orientation (x,y,z,w)=(0,0,0,1)), calculating the azimuth/elevation to another frame can be accomplished using only Frame2's relative-to-Frame1 (x2,y2,z2) location:
magnitude = sqrt((x2*x2) + (y2*y2) + (z2*z2));
azimuth   = atan2(y2, x2);
elevation = asin(z2 / magnitude);

Note that angles should be normalized to -M_PI <= val < M_PI.
If you're going to be working with spherical coordinates, two sites I've found invaluable are Aviation Formulary and Calculate distance, bearing and more between Latitude/Longitude points.

Originally posted by kramer with karma: 1470 on 2016-03-23
This answer was ACCEPTED on the original site
Post score: 1


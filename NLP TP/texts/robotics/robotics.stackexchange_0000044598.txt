Q:

"Rosmake tf" with nao toolchain cross compiling

Hi, I have problems to make tf package. I am using Fuerte Ros-Base installation from Source, ubuntu 12. Tha aldebaran NAO atom cross-compiling. The boost libraries are in /path/to/nao-cross-toolchain-dir/sysroot/usr but ros boost config is searching into the wrong patth /path/to/nao-cross-toolchain-dir/cross folder. Thanks.
[ rosmake ] rosmake starting...                                                 
    [ rosmake ] Packages requested are: ['tf']                                      
    [ rosmake ] Logging to directory /home/nao/.ros/rosmake/rosmake_output-20121003-205651
    [ rosmake ] Expanded args ['tf'] to:
    ['tf']                                     
    [rosmake-0] Starting >>> bullet [ make ]                                        
    [rosmake-1] Starting >>> geometry_msgs [ make ]                                 
    [rosmake-1] Finished <<< geometry_msgs  No Makefile in package geometry_msgs    
    [rosmake-1] Starting >>> sensor_msgs [ make ]                                   
    [rosmake-1] Finished <<< sensor_msgs  No Makefile in package sensor_msgs        
    [rosmake-1] Starting >>> roslang [ make ]                                       
    [rosmake-1] Finished <<< roslang  No Makefile in package roslang                
    [rosmake-1] Starting >>> roscpp [ make ]                                        
    [rosmake-1] Finished <<< roscpp  No Makefile in package roscpp                  
    [rosmake-1] Starting >>> rosconsole [ make ]                                    
    [rosmake-1] Finished <<< rosconsole  No Makefile in package rosconsole          
    [rosmake-1] Starting >>> angles [ make ]                                        
    [rosmake-1] Finished <<< angles [PASS] [ 0.41 seconds ]                         
    [rosmake-1] Starting >>> rospy [ make ]                                         
    [rosmake-1] Finished <<< rospy  No Makefile in package rospy                    
    [rosmake-1] Starting >>> rostest [ make ]                                       
    [rosmake-1] Finished <<< rostest  No Makefile in package rostest                
    [rosmake-1] Starting >>> roswtf [ make ]                                        
    [rosmake-1] Finished <<< roswtf  No Makefile in package roswtf                  
    [rosmake-1] Starting >>> message_filters [ make ]                               
    [rosmake-1] Finished <<< message_filters  No Makefile in package message_filters
    [ rosmake ] All 30 lines
    {-------------------------------------------------------------------------------
      /home/nao/ros-nao/ros/fuerte/share/ros/core/mk/cmake.mk:7: warning: overriding commands for target `all'
      /home/nao/ros-nao/ros/fuerte/share/ros/core/mk/cmake_stack.mk:7: warning: ignoring old commands for target `all'
      /home/nao/ros-nao/ros/fuerte/share/ros/core/mk/cmake.mk:24: warning: overriding commands for target `clean'
      /home/nao/ros-nao/ros/fuerte/share/ros/core/mk/cmake_stack.mk:16: warning: ignoring old commands for target `clean'
      mkdir -p bin
      cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
      [rosbuild] Building package bullet
      [rosbuild] Including /home/nao/ros-nao/ros/fuerte/share/rospy/rosbuild/rospy.cmake
      [rosbuild] Including /home/nao/ros-nao/ros/fuerte/share/roscpp/rosbuild/roscpp.cmake
      [rosbuild] Including /home/nao/ros-nao/ros/fuerte/share/common-lisp/ros/roslisp/rosbuild/roslisp.cmake
      Traceback (most recent call last):
        File "/home/nao/ros-nao/ros/fuerte/bin/rosboost-cfg", line 5, in <module>
          pkg_resources.run_script('roslib==1.8.9', 'rosboost-cfg')
        File "/usr/lib/python2.7/dist-packages/pkg_resources.py", line 499, in run_script
          self.require(requires)[0].run_script(script_name, ns)
        File "/usr/lib/python2.7/dist-packages/pkg_resources.py", line 1235, in run_script
          execfile(script_filename, namespace, namespace)
        File "/home/nao/ros-nao/ros/fuerte/lib/python2.7/dist-packages/roslib-1.8.9-py2.7.egg/EGG-INFO/scripts/rosboost-cfg", line 35, in <module>
          rosboost_cfg.main()
        File "/home/nao/ros-nao/ros/fuerte/lib/python2.7/dist-packages/roslib-1.8.9-py2.7.egg/rosboost_cfg/rosboost_cfg.py", line 328, in main
          raise BoostError("Cannot find boost in any of %s"%search_paths(options.sysroot))
      rosboost_cfg.rosboost_cfg.BoostError: "Cannot find boost in any of [('/path/to/nao-cross-toolchain-dir//cross//usr', True), ('/path/to/nao-cross-toolchain-dir//cross//usr/local', True)]"
      CMake Error at /home/nao/ros-nao/ros/fuerte/share/ros/core/rosbuild/public.cmake:852 (message):
        rosboost-cfg --include_dirs failed
      Call Stack (most recent call first):
        CMakeLists.txt:8 (rosbuild_add_boost_directories)
      
      
      -- Configuring incomplete, errors occurred!
    -------------------------------------------------------------------------------}
    [ rosmake ] Output from build of package bullet written to:
    [ rosmake ]    /home/nao/.ros/rosmake/rosmake_output-20121003-205651/bullet/build_output.log
    [rosmake-0] Finished <<< bullet [FAIL] [ 0.50 seconds ]                         
    [ rosmake ] Halting due to failure in package bullet. 
    [ rosmake ] Waiting for other threads to complete.
    [ rosmake ] Results:                                                            
    [ rosmake ] Built 11 packages with 1 failures.                                  
    [ rosmake ] Summary output to directory                                         
    [ rosmake ] /home/nao/.ros/rosmake/rosmake_output-20121003-205651

Originally posted by LeonardoLeottau on ROS Answers with karma: 58 on 2012-10-03
Post score: 1

Original comments
Comment by AHornung on 2012-10-03:
Did you set the BOOST_ROOT environment variable, and is it pointing to the right directory?

A:

Great... thanks a lot.
export ROS_BOOST_ROOT="${CTC_DIR}/sysroot/usr"
export ROS_BOOST_VERSION="1.45.0"
export BOOST_ROOT="${CTC_DIR}/sysroot/usr"

Originally posted by LeonardoLeottau with karma: 58 on 2012-10-04
This answer was ACCEPTED on the original site
Post score: 0


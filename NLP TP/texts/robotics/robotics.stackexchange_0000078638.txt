Q:

roslibjs audio_common_msgs wrong array length

Hi,
I publish audio_common_msgs Audiodata from my ros module and subscribe to it via roslibjs
    var audio_topic = new ROSLIB.Topic({
    ros : ros,
    name : '/camera/audio',
    messageType : 'audio_common_msgs/AudioData'
});

It works but the length of the data is incorrect. I send predefined array sizes of 512 and check in my ros module if the length is really 512. However in my roslibjs webpage the data is of length 684. I dont know where the other array values come from. Can someone help me out?
thanks

Originally posted by Swoncen on ROS Answers with karma: 23 on 2017-01-29
Post score: 0

Original comments
Comment by dinesh on 2020-04-17:
Can u share u'r code how u played the audio using roslibjs? i'm really stuck in it.

A:

Could it be that the binary data is encoded as base64? Similar to how images are encoded in roslibjs?

Originally posted by gvdhoorn with karma: 86574 on 2017-01-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Swoncen on 2017-01-30:
Excellent comment. This was so obvious but I didn't think of it. I try to enocde it in the evening and see if it's true. base64: 64 = 2^6, so 6 bits instead of 8: (512/6) *8 = 682,6. So it is not exactly 684, but very close and it could be filled up to 684 (next even number) or something like that.
Comment by Swoncen on 2017-01-30:
It's correct with "atob()". Thanks!


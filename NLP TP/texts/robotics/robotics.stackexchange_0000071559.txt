Q:

Rosserial Arduino control by keyboard

I wonder use keyboard to control My arduino for making a little car.
So I use the package "ros-keyboard" and write a node myself(click me to github).
And it seems that two packages' data types are different, even the arduino recive topic message "/keyboard/keydown", there is nothing happen when I push buttom on the keyboard.
Do I miss something ?  thanks!! > <

Originally posted by YingHua on ROS Answers with karma: 196 on 2016-01-24
Post score: 0

A:

The publisher is sending messages with the message type keyboard/Key, but your subscriber is subscribing to message with the type std_msgs/Empty. Since these message types don't match, the subscriber will discard any messages it receives.
You're also reading data from the serial line with the Serial class in Arduino, and trying to use rosserial at the same time. Since both are trying to use the serial line, there will be a conflict, and rosserial probably will not work. The keypress data you want should be in the keyboard/Key message, so you don't need to do Serial.read().

Originally posted by ahendrix with karma: 47576 on 2016-01-24
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by YingHua on 2016-01-27:
Thanks for your response.I am planning to modify arduino code to subscribe to keyboard/Key.


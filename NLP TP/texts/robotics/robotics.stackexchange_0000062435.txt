Q:

How to use geographic_msgs?

Hi,
I'm trying to write a little client to access osm maps. What I did so far is:
ros::init(argc, argv, "Geo");
ros::NodeHandle n;
ros::ServiceClient client = n.serviceClient<geographic_msgs::GetGeographicMap>("geographic_msgs");
geographic_msgs::GetGeographicMap srv;

srv.request.url = "http://openstreetmap.org/node/123456";
if(client.call(srv))
{
     ROS_INFO("connected");
}
else
{
     ROS_ERROR("failed");
}

If I run the programm I always get "failed" as an output.
Could anyone tell me how to connect to the maps correctly?
Thanks in advance,
Chris

Originally posted by chris on ROS Answers with karma: 13 on 2014-09-08
Post score: 1

Original comments
Comment by BennyRe on 2014-09-08:
Is the service running?
Comment by chris on 2014-09-09:
Unfortunately the service seems not to be running. I tried to run it with rosrun, but there was no executable found. I compiled the Package with catkin_make before and I had no error as a result. In addition the Package seems to be a Metapackage.
So how could I start the service?

A:

The geographic_info metapackage does not contain any nodes for downloading maps.
Try osm_cartography instead. There's a osm_server node.

Originally posted by BennyRe with karma: 2949 on 2014-09-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by chris on 2014-09-09:
I downloaded a part of the map previously and used:
srv.request.url = "package:///home/user/map.osm";

But this is not working either.
Comment by BennyRe on 2014-09-09:
If you want to call a service, a server providing that service has to be running.
Comment by chris on 2014-09-09:
Do you know how the server in this package is called and how I can run it?
Comment by BennyRe on 2014-09-09:
The wiki page I linked says that the node is called osm_server. And I guess you run it with rosrun osm_cartography osm_server.
Comment by chris on 2014-09-09:
Thanks for your help
Comment by BennyRe on 2014-09-09:
If your question is answered please mark this answer as correct.


Q:

Starting rviz, failed to initialize ogre, cannot find RenderSystem_GL.so

Found an answer. See my answer below (guess I can't accept my own)
Setting up things on my (gentoo) desktop.
Command line output just about says everything:
$ rosrun rviz rviz
Failed to initialize Ogre: OGRE EXCEPTION(7:InternalErrorException): Could not load dynamic library RenderSystem_GL.  System Error: RenderSystem_GL.so: cannot open shared object file: No such file or directory in DynLib::load at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/OgreMain/src/OgreDynLib.cpp (line 91)
[ERROR] [1298662054.238455770]: Caught exception while loading: OGRE EXCEPTION(7:InternalErrorException): Could not load dynamic library RenderSystem_GL.  System Error: RenderSystem_GL.so: cannot open shared object file: No such file or directory in DynLib::load at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/OgreMain/src/OgreDynLib.cpp (line 91)                                                                                                                                                  
murph@murph ~/ros $ find . | grep -i RenderSystem_GL.so
./visualization_common/ogre/ogre/lib/OGRE/RenderSystem_GL.so
./visualization_common/ogre/build/ogre_src_v1-7-1/build/lib/RenderSystem_GL.so

My hardware:
01:00.0 VGA compatible controller: ATI Technologies Inc RV620 [FirePro 2260]
And my drivers:
x11-drivers/xf86-video-ati version 6.13.1
[edit]
I found this: https://code.ros.org/gf/project/ros/mailman/?_forum_action=ForumMessageBrowse&thread_id=49372&action=ListThreads&mailman_id=20
Which sounds similar. I copied RenderSystem_GL.so,
Plugin_OctreeSceneManager.so, and Plugin_ParticleFX.so up a folder as indicator (one by one as they were pointed out as missing), but now it cannot find Plugin_CgProgramManager.so which I do not have anywhere.
[edit 2]
When doing 'make' after 'make wipe' on the ogre subtree, I see this:

-----------------------------------------------------------------------------
-- The following OPTIONAL packages could NOT be located on your system.
-- Consider installing them to enable more features from this software.
+ OpenGL ES: Support for the OpenGL ES 1.x render system 
+ cg: C for graphics shader language 
+ POCO: POCO framework 
+ tbb: Threading Building Blocks 
+ Doxygen: Tool for building API documentation 
+ CppUnit: Library for performing unit tests 
-----------------------------------------------------------------------------

Notice that cg is included there. So perhaps the configure scripts can't find my Cg libraries (they are installed)? I'm no cmake wizard, though.

Originally posted by Murph on ROS Answers with karma: 1033 on 2011-02-25
Post score: 0

Original comments
Comment by tfoote on 2011-02-25:
Could you update your question to include your graphics card and driver version.

A:

Looks like the ogre setup doesn't search the right locations for you Cg libraries on Gentoo. Set this before you run make wipe && make in the ogre subfolder.
export Cg_HOME=/opt/nvidia-cg-toolkit
Also, it seems that for some reason gentoo systems end up putting some of the .so files in the wrong folder, so we'll need to move them afterwards.

export Cg_HOME=/opt/nvidia-cg-toolkit 
cd ~/ros/visualization_common/ogre       
Of course, now it segfaults. But I'm sure that's something different.

Originally posted by Murph with karma: 1033 on 2011-03-07
This answer was ACCEPTED on the original site
Post score: 1


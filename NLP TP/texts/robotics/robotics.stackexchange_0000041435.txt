Q:

hector slam problem with imu

How to combine the hector slam (mapping) with microstrain imu ? will it be cancel out the "SearchDir angle change too large"? thanks

Originally posted by jas on ROS Answers with karma: 33 on 2012-06-17
Post score: 1

Original comments
Comment by Stefan Kohlbrecher on 2012-06-18:
Can you post a more detailed description of your setup (type of LIDAR/environment you try to use it in etc.) ?
Comment by jas on 2012-06-18:
Currently I have a Hokoyo Laser Range Finder, PC104 3353f and a Microstrain 3DM-GX3-25 IMU. I am trying to achieve something similar to this video: http://www.gkmm.tu-darmstadt.de/rescue/?q=node/141 However, I do not know how am I supposed to integrate the IMU with hector_slam.
Comment by jas on 2012-06-18:
Now I am already able to get a map when there is only horizontal and slow movement. But this "SearchDir angle change too large" appears frequently
Comment by jas on 2012-06-18:
I launch the following launch file together to get the map : hokuyo test.launch(default launch file) , microstarain default launch file, hector_mapping default launch file and hector_slam ugv launch file (but this i edit it a bit)
Comment by jas on 2012-06-18:
when i type  the "roswtf"command i found the following error:ERROR Communication with [/hokuyo] raised an error:
ERROR Communication with [/map_nav_broadcaster] raised an error:
ERROR Communication with [/nav_base_broadcaster] raised an error:
ERROR Communication with [/rosout] raised an error:
Comment by jas on 2012-06-18:
ERROR The following nodes should be connected but aren't:

/hector_mapping->/hector_mapping (/tf)
/hokuyo->/hector_mapping (/scan)
/nav_foot_broadcaster->/hector_mapping (/tf)
/nav_baselink_broadcaster->/hector_mapping (/tf)
/map_nav_broadcaster->/hector_mapping (/tf)

Comment by jas on 2012-06-18:\

/nav_base_broadcaster->/hector_mapping (/tf)

Comment by jas on 2012-06-18:
Thank you in advanced for your help :D

A:

The velocities in the odometry messages from hector_mapping are always zero. You can try out the angular velocity from the IMU. For the linear velocity you can differentiate the position of the odometry from hector_mapping, integrate the linear acceleration from the IMU, and combine them through averaging or filtering.
My robot doesn't have an IMU, and I get the "SearchDIR angle change too large" message only when my robot is gone crazy so that the map is messed up. If you get the message often or from the beginning, I don't think augmenting your robot with an IMU will fix the issue.

Originally posted by Young Lee with karma: 16 on 2012-06-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by NAGALLA DEEPAK on 2018-02-03:
My robot have neither odometry nor imu. But I am able to produce the map.I have to move very slow else it will show "SearchDIR angle change too large"and at some point of time mapping is stopped.I want to integrate imu now.I am able to produce values over /imu topic.Could you help me fusing with map


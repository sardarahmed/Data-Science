Q:

xacro processing in ROS 2 YAML launch files (or XML)?

I'm trying to use YAML launch files for a Gazebo simulation project I'm working on, but it doesn't seem like there's a lot of documentation beyond the basics here.
I need to process a robot description xacro and pass that as a param to robot_state_publisher.
Does the YAML frontend support this?
Does someone know of an example in an existing package?
I should be able to RUN the xacro processing with an executable but it's not clear how I'd store and access the variable. (I could probably put it into an env var and then read the env var, but that seems like a roundabout way to
https://design.ros2.org/articles/roslaunch_xml.html#executable-tag
Here I'm linking to XML docs because there's not much on YAML that I can find, but it seems from other recent investigations like YAML and XML are almost exactly the same.

Originally posted by danzimmerman on ROS Answers with karma: 337 on 2023-03-27
Post score: 0

A:

I found the answer here https://github.com/ros2/launch/issues/366#issuecomment-572750757
There is a $(command ...) substitution that can be processed into a value, like:
- let:
    name: "robot_description_content"
    value: "$(command '$(find-exec xacro) $(var robot_xacro) name:=ur ur_type:=ur5e')"

Ultimately the same as launch.substitutions.Command() in a Python launch file.

Originally posted by danzimmerman with karma: 337 on 2023-03-27
This answer was ACCEPTED on the original site
Post score: 1


Q:

How to see nodes CPU usage in ROS?

Hello all.
I built an autonomous car simulation in Gazebo. But for some reason my simulation runs with a very low time rate (around 0.1 off the real time) .
My program includes a number of different nodes and I suspect that some of those nodes use considerably more CPU than others.
The question is : Is there a way to see the CPU usage of each running node ?

Originally posted by dmeltz on ROS Answers with karma: 192 on 2013-01-11
Post score: 7

A:

Since normal nodes are started as distinct processes a simple top or htop should do the trick.
Sadly i dont know of a way to see the load if you are working with nodelets that reside within the same process. Maybe someone else can shed some light, if this is even possible? (Other than starting the nodelets in different managers and making them distinct processes?)

Originally posted by Ben_S with karma: 2510 on 2013-01-12
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Lorenz on 2013-01-12:
The only way to see the CPU load of a nodelet is to start it in a separate process. ROS does not provide any direct means for getting CPU usage.
Comment by joq on 2013-01-12:
Gazebo, itself, can use a lot of CPU cycles, depending on how detailed your simulation model is. A good place to start is checking the CPU load for those processes. We created simpler models for when we need more robots or better performance, saving the detailed models for other purposes.


Q:

Write to a file from a C++ ROS node?

Hello,
Is there a way to write to a file from the C++ source of a ROS node? I know that I can write directly to a .bag file, however I would like to be able to write to my own file formats (i.e. directly to a CSV rather than having to export a CSV from rxbag, etc).
I tried this from within the C++ of a node:
ofstream myfile;
myfile.open ("example.txt");
myfile << "Writing this to a file.\n";
myfile.close();

With the above code, the program executes just fine but I can't find "example.txt" anywhere on the file system. Does ROS just ignore this operation, or put the file somewhere I can't seem to find?
Thanks for the help!

Originally posted by gavinmachine on ROS Answers with karma: 353 on 2011-10-22
Post score: 7

A:

You should put in the whole path for where you want the file to be written.
myfile.open("/home/user/example.txt")

That way the file is always created in /home/user/ and not the directory ros runs the program from.

Originally posted by thericcer with karma: 151 on 2011-10-22
This answer was ACCEPTED on the original site
Post score: 11

Original comments
Comment by rbaleksandar on 2015-09-27:
I was writing some STL files (output from nodes that worked with PCL and converted point clouds to meshes). I've noticed that when you don't give the full path but just the file name (example: my_mesh.stl) the file is written into .ros (the hidden folder inside the user's /home. Weird...
Comment by xingxiajie on 2019-05-11:
like the comment above, i found my files in the hidden folder .ros,
Comment by rezenders on 2019-12-12:
is it possible to instead of passing the whole path to use something like $(find package)/data/example.txt?


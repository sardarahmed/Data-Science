Q:

little help with rosmake and rosserial

Hi, i'm having some problems running rosmake.
i have a pkg and make some changes , and have to run rosmake again,but now i get the error:
    [ rosmake ] rosmake starting...                                                 
[ rosmake ] No package specified.  Building ['virtualtouch']                    
[ rosmake ] Packages requested are: ['virtualtouch']                            
[ rosmake ] Logging to directory /home/virtualtouch/.ros/rosmake/rosmake_output-20130122-200938
[ rosmake ] Expanded args ['virtualtouch'] to:
['virtualtouch']                 
[rosmake-1] Starting >>> std_msgs [ make ]                                      
[rosmake-0] Starting >>> roslang [ make ]                                       
[rosmake-2] Starting >>> geometry_msgs [ make ]                                 
[rosmake-3] Starting >>> rosserial_msgs [ make ]                                
[rosmake-0] Finished <<< roslang  No Makefile in package roslang                
[rosmake-0] Starting >>> roscpp [ make ]                                        
[rosmake-1] Finished <<< std_msgs  No Makefile in package std_msgs              
[rosmake-2] Finished <<< geometry_msgs  No Makefile in package geometry_msgs    
[rosmake-1] Starting >>> bullet [ make ]                                        
[rosmake-2] Starting >>> sensor_msgs [ make ]                                   
[rosmake-0] Finished <<< roscpp  No Makefile in package roscpp                  
[rosmake-0] Starting >>> nav_msgs [ make ]                                      
[rosmake-2] Finished <<< sensor_msgs  No Makefile in package sensor_msgs        
[rosmake-1] Finished <<< bullet ROS_NOBUILD in package bullet                   
[rosmake-2] Starting >>> rosconsole [ make ]                                    
[rosmake-1] Starting >>> angles [ make ]                                        
[rosmake-0] Finished <<< nav_msgs  No Makefile in package nav_msgs              
[rosmake-0] Starting >>> rospy [ make ]                                         
[rosmake-2] Finished <<< rosconsole  No Makefile in package rosconsole          
[rosmake-1] Finished <<< angles ROS_NOBUILD in package angles                   
[rosmake-2] Starting >>> rostest [ make ]                                       
[rosmake-1] Starting >>> roswtf [ make ]                                        
[rosmake-0] Finished <<< rospy  No Makefile in package rospy                    
[rosmake-0] Starting >>> message_filters [ make ]                               
[rosmake-2] Finished <<< rostest  No Makefile in package rostest                
[rosmake-1] Finished <<< roswtf  No Makefile in package roswtf                  
[rosmake-0] Finished <<< message_filters  No Makefile in package message_filters
[rosmake-0] Starting >>> tf [ make ]                                            
[rosmake-0] Finished <<< tf ROS_NOBUILD in package tf                           
[ rosmake ] All 26 linesosserial_msgs: 0.7 sec ]     [ 1 Active 14/18 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  [rosbuild] Building package rosserial_msgs
  [rosbuild] Including /opt/ros/fuerte/share/roslisp/rosbuild/roslisp.cmake
  [rosbuild] Including /opt/ros/fuerte/share/rospy/rosbuild/rospy.cmake
  [rosbuild] Including /opt/ros/fuerte/share/roscpp/rosbuild/roscpp.cmake
  CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:818 (file):
    file Internal CMake error when trying to open file:
    /opt/ros/fuerte/stacks/rosserial/rosserial_msgs/msg_gen/generated for
    writing.
  Call Stack (most recent call first):
    CMakeLists.txt:11 (rosbuild_genmsg)
  
  
  [rosbuild] Error from calling to Python to set the mtime on /opt/ros/fuerte/stacks/rosserial/rosserial_msgs/msg_gen/generated:
  
  CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:830 (message):
    [rosbuild] Failed to set mtime; aborting
  Call Stack (most recent call first):
    CMakeLists.txt:11 (rosbuild_genmsg)
  
  
  -- Configuring incomplete, errors occurred!
  CMake Error: Unable to open cache file for save. /opt/ros/fuerte/stacks/rosserial/rosserial_msgs/build/CMakeCache.txt
  CMake Error: : System Error: Permission denied
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package rosserial_msgs written to:
[ rosmake ]    /home/virtualtouch/.ros/rosmake/rosmake_output-20130122-200938/rosserial_msgs/build_output.log
[rosmake-3] Finished <<< rosserial_msgs [FAIL] [ 0.73 seconds ]                 
[ rosmake ] Halting due to failure in package rosserial_msgs. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:                                                            
[ rosmake ] Built 15 packages with 1 failures.                                  
[ rosmake ] Summary output to directory                                         
[ rosmake ] /home/virtualtouch/.ros/rosmake/rosmake_output-20130122-200938

i reinstall ubuntu, ROS Fuerte, and everything.
for install rosserial first i have to go to opt/ros/fuerte/stacks and here run :

hg clone --insecure
https://kforge.ros.org/rosserial/hg
rosserial
and continue normally with the tutorial rosserial_arduino, and that was all i did.

Originally posted by monidiaz on ROS Answers with karma: 92 on 2013-01-22
Post score: 0

A:

It seems you have a copy of rosserial_msgs in /opt/ros/fuerte/stacks that was notinstalled using apt-get, as if you had copied it to there. This you should not do, as you do not have write permissions there. Packages installed via apt-get have a ROS_NOBUILD file that prevents the attemt to write, yours seem to be lacking that file. Delete the rosserial stack in /opt/ros/fuerte, and either get it from apt-get, or put it somewhere under your home directory (e.g. in a rosinstall workspace).

Originally posted by KruseT with karma: 7848 on 2013-01-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by monidiaz on 2013-01-22:
i'm working with fuerte,i have to re-installed it, and now installing rosserial had some problems like i express http://answers.ros.org/question/52949/installing-rosserial_arduino-error/ i have to go to the directory opt/ros/fuerte/stacks and continue and now get this error.
Comment by joq on 2013-01-22:
Get rid of the garbage you created in /opt/ros and everything should be fine. You will probably need sudo to clean up the mess your created.


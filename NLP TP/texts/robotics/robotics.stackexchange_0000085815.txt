Q:

rostest: specifying a single test case

How do I tell rostest to only run a single specific test method in a python unittest.TestCase class?
I can execute the full test suite with:
rostest foo foo.test

The tests are defined in a file test/rostest_foo.py, how do I run only the test method test_a in class TestFoo?
Any command line arguments to rostest?
My test classes are looking like this:
#!/usr/bin/env python

import rospy
import unittest

class TestFoo(unittest.TestCase):

    def test_a(self):
        self.assertEqual(2+3, 5)

if __name__ == '__main__':
    import rostest
    rospy.init_node('TestFoo', anonymous=True)
    rostest.rosrun('foo', 'TestFoo', TestFoo)

Originally posted by knxa on ROS Answers with karma: 811 on 2018-03-12
Post score: 1

A:

Answering my own old question:
in ROS melodic you can use a string describing a specific test like this:
rostest.rosrun('foo', 'TestFoo', '__main__.TestFoo.test_a')

... and of course that string may come from command line arguments.

Originally posted by knxa with karma: 811 on 2022-12-28
This answer was ACCEPTED on the original site
Post score: 0


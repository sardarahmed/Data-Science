Q:

Converting twist into direction and a distance

My robot is design around a tank style control system which takes an angle of rotation and distance for commands, however the cmd_vel sends it data in a twist message, how do I covert the angular and linear velocities into a distance and an angle?

Originally posted by Massbuilder on ROS Answers with karma: 71 on 2013-09-21
Post score: 0

A:

You can't.
Twist describes translational and rotational velocities. To get a distance/angle from that, you'd need a time frame that this should be set. You could assume some (short) time frame, or use the controller frequency that sends out those messages. This might work somehow.
If you want to receive twist commands from the default navigation stack, you'll need to modify your command interface (that probably already has some level of control). Alternatively you could write a local planner for the navigation stack that sends out local pose deltas.
If you want to use something else, just use another message to represent the command that you need and send that.

Originally posted by dornhege with karma: 31395 on 2013-09-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Massbuilder on 2013-09-23:
Any suggestions what topic I should use given that I can't use cmd_vel?
Comment by dornhege on 2013-09-23:
If you move to an actual position in your controller, you could just send a geometry_msgs/PoseStamped and set the frame_id to base_link.
Comment by dornhege on 2013-09-23:
Or change your controller to accept velocities (it will probably have that internally anyways) if you plan to use move_base at some point in time.
Comment by Massbuilder on 2013-09-23:
my robot is a complete custom job. At the moment it is a mobile base with a propellor microcontroller and some bump sensor
Comment by dornhege on 2013-09-23:
In that case isn't it easiest to just use velocities? That should make your controller easier too.


Q:

Joystick operation for a gazebo ros youbot

Hi everyone,
I have created a node just like teleop_joy using ros.org. It publishes a topic /joy and the type of message is sensor_msgs/Joy. My youbot has a topic /cmd_vel and the type of message is geometry_msgs/Twist. I want to move the youbot using joystick by subscribing /cmd_vel to /joy but the type of messages are different. How can I do this? Any ideas please

Originally posted by manju on ROS Answers with karma: 13 on 2016-12-07
Post score: 0

Original comments
Comment by jsanch2s on 2016-12-07:
Have you checked out this tutorial?

A:

As this tutorial shows, you need to subscribe to your topic /joy and then assign the data from the joystick (with a proper normalization/scaling) to a Twist message which you then can publish to your /cmd_vel topic in order to move your youBot.
The tutorial shows an example of the callback, i.e. where you listen to the joystick data and then assign it to the Twist message:
void TeleopTurtle::joyCallback(const sensor_msgs::Joy::ConstPtr& joy)
{
  geometry_msgs::Twist twist;
  twist.angular.z = a_scale_*joy->axes[angular_];
  twist.linear.x = l_scale_*joy->axes[linear_];
  vel_pub_.publish(twist);
}

Originally posted by jsanch2s with karma: 136 on 2016-12-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2016-12-09:
And as much fun as it is to write these things ourselves, for others that want to reuse something existing, take a look at teleop_twist_joy.


Q:

Rostime convention: sec+nsec vs microsec

Hi there!
Current ros::Time represents time in a form of sec and nsec. Was there any particular reason for choosing this representation or are there any particular advantages of it?
We currently discuss time representation in our group and the feel is to go with microsec only since this is the resolution that modern hardware for Unix supports (http://man7.org/linux/man-pages/man7/time.7.html). Does anyone see any obvious disadvantage in doing it so?

Originally posted by dejanpan on ROS Answers with karma: 1420 on 2016-11-01
Post score: 2

Original comments
Comment by dejanpan on 2016-11-02:
Just pasting in some comments from @tfoote:
for ROS1 I don't think we have design documentation.
We wanted at least nanosecond resolution and wanted at least 64bit resolution.
We've been thinking of just using just uint64.
I think in the early ROS iterations we didn't consider uint64 as standard.

A:

Thinking back a little bit more. The choice of sec and nsec was to keep the timestamps human readable on introspection. Reading a sec, nsec tuple is relatively easy for human readability and understandability. You loose some amount of time representation into the future since not all 64 bits of data are useable. But human readability is valuable.
There are things that can provide higher accuracy than the unix timers. Some sensors etc rely on that level of precision.
Clearly in most cases you will not need the full resolution. But how much do you save if you use microseconds? If you use a 64bit representation nano-seconds will work for more than 500 years past the epoch, while microseconds will last more than 500000 years past the epoch. A 32bit representation is not adequate for either microseconds or nanoseconds to represent the current date past the epoch. Picking a width between 32 and 64 is likely to just need padding for most operations and the additional complexity is makes it undesirable.
Since you cannot really make the data more compact by dropping 3 significant figures, I would suggest that supporting the higher resolution has more potential uses than being able to plan millenniums into the future.

Originally posted by tfoote with karma: 58457 on 2016-11-02
This answer was ACCEPTED on the original site
Post score: 1


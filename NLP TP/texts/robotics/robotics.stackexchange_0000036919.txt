Q:

Custom CostMap Values

I'd like to add values to the costmap used by move_base (and the PR2). However I don't want to add obstacles from sensor data. Instead, I'd like to just be able to arbitrarily raise the cost of going through particular locations. For instance, our lab has a kitchen, and we'd rather the robots don't go into that area unless they absolutely have to. Seems like you could do that by making the value of the costmap in that area less than 127 (as per the costmap documentation).
It seems like there might be three approaches to this problem.

Formulate the restrictions as artificial sensor data. Seems tricky and hacky.
Dynamically edit the global map.
Enhance move_base to subscribe to some additional information source.

It seems like 3 is the most straightforward solution, but I'm wondering if there's a better way.
tl;dr; How do I add "I'd really rather you didn't go there" areas to the costmap?

Originally posted by David Lu on ROS Answers with karma: 10932 on 2012-01-09
Post score: 4

A:

I'd say that if you just wanted to avoid that area completely, you could simply mark those areas as obstacles in a static map and load that map into the global map using map_server.
If you want to preserve the ability to traverse it, the above are the best options in my opinion.
I'll add a fourth option, just in case:
Carry two static maps loaded from image files. One with the areas in question marked as obstacles, and one with them as free. Then, you can use actionlib to watch for a path-planning failure due to no route. If this error is received, you could then load the emptier map and retry. This is also a fairly hacky solution, but it eliminates the need for marking the areas as obstacles dynamically.

Originally posted by DimitriProsser with karma: 11163 on 2012-01-09
This answer was ACCEPTED on the original site
Post score: 3


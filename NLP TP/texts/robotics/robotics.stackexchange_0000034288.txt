Q:

Getting a real time position feedback from rviz?

We all know that if we want to get the position of your robot we are using the amcl, now my goal is to get a real time x,y position of the robot as shown in rviz interface itself and display it in a loop in the Linux terminal, how do I do it. I have create a listener.cpp file, do I change amcl file to work like a talker since whatever the talker publish, the listener will receive? Or do I implant the cl codes into my listener.cpp? I'm a bit confused.

Originally posted by cheyanne on ROS Answers with karma: 13 on 2011-09-14
Post score: 0

A:

You don't need to edit the amcl node at all. In the documentation here you can see that the amcl node publishes to a topic called amcl_pose that represents the robot's position with respect to the map origin. All you have to do is open a new terminal and type the following:
rostopic echo /amcl_pose

You can find a tutorial on using rostopic here.
Another option if you're going to be porting the information to a GUI application, you could run amcl while using rosbag, and then view it afterwards with rxbag to view it, export it to .csv files, etc.
EDIT: In order to then return data to the robotino_base node, first look here to see what topics that the node subscribes to. If you want to publish to cmd_vel, you can see that the type is geometry_msgs/Twist (all cmd_vel messages are of this type). So to do this, you must use:
rostopic pub /cmd_vel geometry_msgs/Twist '[1.0,0.0,0.0]' '[0.0,0.0,0.0]'

For more information on how to specify the contents of the message, you can look here. I hope this helps.

Originally posted by DimitriProsser with karma: 11163 on 2011-09-14
This answer was ACCEPTED on the original site
Post score: 3


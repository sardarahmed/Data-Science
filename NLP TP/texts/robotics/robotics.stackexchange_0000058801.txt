Q:

Error in building face_recognition package

In tutorials of face_recognition http://wiki.ros.org/face_recognition
I downloaded the face_recognition package from Github https://github.com/procrob/procrob_functional
but when I build the package using the command rosmake face_recognition ,I had the following error .
[ rosmake ] rosmake starting...                                                                                                                
[ rosmake ] Packages requested are: ['face_recognition']                                                                                       
[ rosmake ] Logging to directory /home/smart-engineers/.ros/rosmake/rosmake_output-20140417-150308                                             
[ rosmake ] Expanded args ['face_recognition'] to:
['face_recognition']                                                                        
[rosmake-0] Starting >>> catkin [ make ]                                                                                                       
[rosmake-0] Finished <<< catkin ROS_NOBUILD in package catkin
 No Makefile in package catkin                                                   
[rosmake-0] Starting >>> genmsg [ make ]                                                                                                       
[rosmake-3] Starting >>> console_bridge [ make ]                                                                                               
[rosmake-0] Finished <<< genmsg ROS_NOBUILD in package genmsg
 No Makefile in package genmsg                                                   
[rosmake-0] Starting >>> genlisp [ make ]                                                                                                      
[rosmake-3] Finished <<< console_bridge ROS_NOBUILD in package console_bridge
 No Makefile in package console_bridge                           
[rosmake-1] Starting >>> genpy [ make ]                                                                                                        
[rosmake-2] Starting >>> gencpp [ make ]                                                                                                       
[rosmake-3] Starting >>> cpp_common [ make ]                                                                                                   
[rosmake-0] Finished <<< genlisp ROS_NOBUILD in package genlisp
 No Makefile in package genlisp                                                
[rosmake-0] Starting >>> rospack [ make ]                                                                                                      
[rosmake-3] Finished <<< cpp_common ROS_NOBUILD in package cpp_common
 No Makefile in package cpp_common                                       
[rosmake-3] Starting >>> rostime [ make ]                                                                                                      
[rosmake-1] Finished <<< genpy ROS_NOBUILD in package genpy
 No Makefile in package genpy                                                      
[rosmake-2] Finished <<< gencpp ROS_NOBUILD in package gencpp
 No Makefile in package gencpp                                                   
[rosmake-0] Finished <<< rospack ROS_NOBUILD in package rospack
 No Makefile in package rospack                                                
[rosmake-0] Starting >>> roslib [ make ]                                                                                                       
[rosmake-1] Starting >>> message_generation [ make ]                                                                                           
[rosmake-2] Starting >>> roslang [ make ]                                                                                                      
[rosmake-3] Finished <<< rostime ROS_NOBUILD in package rostime
 No Makefile in package rostime                                                
[rosmake-0] Finished <<< roslib ROS_NOBUILD in package roslib
 No Makefile in package roslib                                                   
[rosmake-0] Starting >>> rosunit [ make ]                                                                                                      
[rosmake-3] Starting >>> roscpp_traits [ make ]                                                                                                
[rosmake-1] Finished <<< message_generation ROS_NOBUILD in package message_generation
 No Makefile in package message_generation               
[rosmake-2] Finished <<< roslang ROS_NOBUILD in package roslang
 No Makefile in package roslang                                                
[rosmake-2] Starting >>> xmlrpcpp [ make ]                                                                                                     
[rosmake-0] Finished <<< rosunit ROS_NOBUILD in package rosunit
 No Makefile in package rosunit                                                
[rosmake-0] Starting >>> rosgraph [ make ]                                                                                                     
[rosmake-2] Finished <<< xmlrpcpp ROS_NOBUILD in package xmlrpcpp
 No Makefile in package xmlrpcpp                                             
[rosmake-1] Starting >>> rosclean [ make ]                                                                                                     
[rosmake-2] Starting >>> opencv2 [ make ]                                                                                                      
[rosmake-3] Finished <<< roscpp_traits ROS_NOBUILD in package roscpp_traits
 No Makefile in package roscpp_traits                              
[rosmake-3] Starting >>> roscpp_serialization [ make ]                                                                                         
[rosmake-0] Finished <<< rosgraph ROS_NOBUILD in package rosgraph
 No Makefile in package rosgraph                                             
[rosmake-2] Finished <<< opencv2 ROS_NOBUILD in package opencv2
 No Makefile in package opencv2                                                
[rosmake-2] Starting >>> rosmaster [ make ]                                                                                                    
[rosmake-0] Starting >>> rosparam [ make ]                                                                                                     
[rosmake-3] Finished <<< roscpp_serialization ROS_NOBUILD in package roscpp_serialization
 No Makefile in package roscpp_serialization         
[rosmake-3] Starting >>> message_runtime [ make ]                                                                                              
[rosmake-1] Finished <<< rosclean ROS_NOBUILD in package rosclean
 No Makefile in package rosclean                                             
[rosmake-0] Finished <<< rosparam ROS_NOBUILD in package rosparam
 No Makefile in package rosparam                                             
[rosmake-1] Starting >>> class_loader [ make ]                                                                                                 
[rosmake-3] Finished <<< message_runtime ROS_NOBUILD in package message_runtime
 No Makefile in package message_runtime                        
[rosmake-2] Finished <<< rosmaster ROS_NOBUILD in package rosmaster
 No Makefile in package rosmaster                                          
[rosmake-3] Starting >>> std_msgs [ make ]                                                                                                     
[rosmake-0] Starting >>> rosbuild [ make ]                                                                                                     
[rosmake-3] Finished <<< std_msgs ROS_NOBUILD in package std_msgs
 No Makefile in package std_msgs                                             
[rosmake-1] Finished <<< class_loader ROS_NOBUILD in package class_loader
 No Makefile in package class_loader                                 
[rosmake-3] Starting >>> rosgraph_msgs [ make ]                                                                                                
[rosmake-0] Finished <<< rosbuild ROS_NOBUILD in package rosbuild
 No Makefile in package rosbuild                                             
[rosmake-1] Starting >>> actionlib_msgs [ make ]                                                                                               
[rosmake-0] Starting >>> rosconsole [ make ]                                                                                                   
[rosmake-2] Starting >>> geometry_msgs [ make ]                                                                                                
[rosmake-1] Finished <<< actionlib_msgs ROS_NOBUILD in package actionlib_msgs
 No Makefile in package actionlib_msgs                           
[rosmake-3] Finished <<< rosgraph_msgs ROS_NOBUILD in package rosgraph_msgs
 No Makefile in package rosgraph_msgs                              
[rosmake-2] Finished <<< geometry_msgs ROS_NOBUILD in package geometry_msgs
 No Makefile in package geometry_msgs                              
[rosmake-2] Starting >>> sensor_msgs [ make ]                                                                                                  
[rosmake-0] Finished <<< rosconsole ROS_NOBUILD in package rosconsole
 No Makefile in package rosconsole                                       
[rosmake-0] Starting >>> roscpp [ make ]                                                                                                       
[rosmake-1] Starting >>> pluginlib [ make ]                                                                                                    
[rosmake-2] Finished <<< sensor_msgs ROS_NOBUILD in package sensor_msgs
 No Makefile in package sensor_msgs                                    
[rosmake-2] Starting >>> cv_bridge [ make ]                                                                                                    
[rosmake-0] Finished <<< roscpp ROS_NOBUILD in package roscpp
 No Makefile in package roscpp                                                   
[rosmake-0] Starting >>> rosout [ make ]                                                                                                       
[rosmake-3] Starting >>> rospy [ make ]                                                                                                        
[rosmake-1] Finished <<< pluginlib ROS_NOBUILD in package pluginlib
 No Makefile in package pluginlib                                          
[rosmake-2] Finished <<< cv_bridge ROS_NOBUILD in package cv_bridge
 No Makefile in package cv_bridge                                          
[rosmake-0] Finished <<< rosout ROS_NOBUILD in package rosout
 No Makefile in package rosout                                                   
[rosmake-3] Finished <<< rospy ROS_NOBUILD in package rospy
 No Makefile in package rospy                                                      
[rosmake-0] Starting >>> roslaunch [ make ]                                                                                                    
[rosmake-0] Finished <<< roslaunch ROS_NOBUILD in package roslaunch
 No Makefile in package roslaunch                                          
[rosmake-0] Starting >>> rostest [ make ]                                                                                                      
[rosmake-0] Finished <<< rostest ROS_NOBUILD in package rostest
 No Makefile in package rostest                                                
[rosmake-0] Starting >>> actionlib [ make ]                                                                                                    
[rosmake-3] Starting >>> message_filters [ make ]                                                                                              
[rosmake-0] Finished <<< actionlib ROS_NOBUILD in package actionlib
 No Makefile in package actionlib                                          
[rosmake-3] Finished <<< message_filters ROS_NOBUILD in package message_filters
 No Makefile in package message_filters                        
[rosmake-3] Starting >>> image_transport [ make ]                                                                                              
[rosmake-3] Finished <<< image_transport ROS_NOBUILD in package image_transport
 No Makefile in package image_transport                        
[rosmake-3] Starting >>> face_recognition [ make ]                                                                                             
[ rosmake ] All 2 linesface_recognition: 0.0 sec ]                                                                  [ 1 Active 40/41 Complete ]
{-------------------------------------------------------------------------------
  mkdir: cannot create directory `build': Permission denied
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package face_recognition written to:
[ rosmake ]    /home/smart-engineers/.ros/rosmake/rosmake_output-20140417-150308/face_recognition/build_output.log
[rosmake-3] Finished <<< face_recognition [FAIL] [ 0.07 seconds ]                                                                              
[ rosmake ] Halting due to failure in package face_recognition. 
[ rosmake ] Waiting for other threads to complete.                            
[ rosmake ] Results:                                                                                                                           
[ rosmake ] Built 41 packages with 1 failures.                                                                                                 
[ rosmake ] Summary output to directory                                                                                                        
[ rosmake ] /home/smart-engineers/.ros/rosmake/rosmake_output-20140417-150308  

What is the cause of this error??

How can I solve it??

Is there any command to install this
package via terminal ??

my distribution is Hydro. I use ubuntu 12.04.
Any help,please??

Originally posted by Eman on ROS Answers with karma: 164 on 2014-04-17
Post score: 1

Original comments
Comment by BennyRe on 2014-04-17:
rosmake says you the cause of the error: It hasn't the permissions to create the 'build' directory. Where did    you create your rosmake workspace? What are the permissions of the face_recognition package? face_recognition is currently not in the debians, so you can't install it with apt-get atm.
Comment by Eman on 2014-04-17:
The face_recognition package is in the src folder of catkin_WS . The catkin_WS is in the home.When I tried to type " rospack find face_recognition ", it returned the path of the package,so this mean that ROS can see the package.
Comment by BennyRe on 2014-04-17:
Ah ok, so you are using rosbuild inside the catkin workspace. I know some people do this. I personally always used rosbuild on groovy and late like this: http://wiki.ros.org/catkin/Tutorials/using_rosbuild_with_catkin
Comment by Eman on 2014-04-17:
Excuse me, when I transfered this package to the file system/opt/ros/hydro/share using the command " sudo cp -r " , it has been transferred successfully to /opt/ros/hydro/share. but when I tried to build it using " rosmake face_recognition " , I had the same error
Comment by Eman on 2014-04-17:
Using the command " sudo apt-get install " to install packages, it downloaded the packages in filesystem/opt/ros/hydro/share,
So, I tried the same concept using the command " sudo cp-r ", so what is the error ??
Comment by Ken_in_JAPAN on 2014-04-17:
Hello @Eman, Do you look for this page ( http://wiki.ros.org/people )? I have never used this package people, but this page includes face_detector package. Do you try to install it with sudo apt-get install ros-***-people ? If you don't need it, please remove it.
Comment by Eman on 2014-04-21:
@BennyRe Thanks a lot for your help.
Comment by Eman on 2014-04-21:
@Ken_in_JAPAN
Thanks a lot for your help.

A:

You should not copy uour package to /opt/ros/hydro/share ! You get this error because the the package folder is now likely owned by root and not writable by you. As a rule of thumb you should never manually edit anything underneath /opt/ros.
Remove anything you added to /opt/ros/hydro/share, create a rosbuild workspace (ontop the base install, or ontop of your catkin workspace, see http://wiki.ros.org/catkin/Tutorials/using_rosbuild_with_catkin ), add the source to that workspace and try again with rosmake.
Edit: Maybe the face_detector package from http://wiki.ros.org/people as suggested by @Ken_in_JAPAN is a better choice, because it is a catkin package released into hydro and can even be installed via APT. I have no idea how the two packages compare functionality wise, though.

Originally posted by demmeln with karma: 4306 on 2014-04-18
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Ken_in_JAPAN on 2014-04-18:
@demmeln, I agree to your answer. I'm sorry. I post my comment before reading his comment. I missed his article that he download the package in /opt/ros/hydro/share.
Comment by Eman on 2014-04-21:
@demmeln
Thanks a lot for your help. How can I remove this package from /opt/ros/hydro/share ,please??
Is there a command to do that ??
Comment by demmeln on 2014-04-21:
Didn't you say you moved the files manually with sudo cp -r? You remove the files you added (e.g. with the rm command, but be very careful not to delete something else accidentally with sudo rm -r.
Comment by Eman on 2014-04-21:
Thanks for your help.


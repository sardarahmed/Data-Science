Q:

Gazebo 1.9 latest Ros-Hydro-Gazebo package isn't working correctly

Hey Guys,
I am gotten myself into a real mess, and really need some help. I am currently running ROS Hydro, and I am aware that I need to run Gazebo 1.9.x in order for my ROS simluations to work on Gazebo. I have installed Gazebo 1.9.3 and verified that I have installed it correctly.
Now here is where the problem I think is. I used this command to install ros-gazebo pkgs

sudo apt-get install ros-hydro-gazebo-ros-pkgs ros-hydro-gazebo-ros-control

For every file installed I saw a version number of "2.3.4" in it and example:

Setting up ros-hydro-gazebo-msgs (2.3.4-0precise-20140130-1938-+0000) ...

Is this version number associated with Gazebo 2.x or 1.9.x? Is this correct files for the ROS-Hydro-Gazebo package ?
After successfully installing the ROS-Hydro-Gazebo package, I tested using the gazebo_ros package by using the command

source /opt/ros/hydro/setup.bash

rosrun gazebo_ros gazebo

After running these commands my node gets stuck waiting for the gzserver and finally the command fails.
code8200@TETHYS:~/catkin_ws$ rosrun gazebo_ros gazebo
Gazebo multi-robot simulator, version 1.9.3
Copyright (C) 2013 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org
Gazebo multi-robot simulator, version 1.9.3
Copyright (C) 2013 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org
Msg Waiting for master.gzserver: symbol lookup error: /opt/ros/hydro/lib/libgazebo_ros_api_plugin.so: undefined symbol: ZN3ros7console5printEPNS0_10FilterBaseEPvNS0_6levels5LevelERKSt18basic_stringstreamIcSt11char_traitsIcESaIcEEPKciSE
...................
Error [ConnectionManager.cc:116] Failed to connect to master in 30 seconds.
I need to know why this is happening. Can anyone help me fix this?

Originally posted by mfran89 on Gazebo Answers with karma: 3 on 2014-02-06
Post score: 0

Original comments
Comment by mfran89 on 2014-02-06:
I installed both Gazebo and ros gazebo pkgs through debs btw
Comment by mfran89 on 2014-02-06:
I think the problem is that there is a undefined symbol for the gzserver  gzserver: symbol lookup error: /opt/ros/hydro/lib/libgazebo_ros_api_plugin.so: undefined symbol: ZN3ros7console5printEPNS0_10FilterBaseEPvNS0_6levels5LevelERKSt18basic_stringstreamIcSt11char_traitsIcESaIcEEPKciSE

A:

You are right, the problem was an ABI change in the package rosconsole. Looks like you only are using ros repository (and not packages.osrfoundation.org). If this is right, you should have installed:

gazebo-1.9.3 (has nothing to do with the breakage)
ros-hydro-gazebo-* (2.3.4 versions)
ros-hydro-rosconsole (1.9.54 version)

Be sure that you have updated your ros-hydro-rosconsole and the version is 1.9.54.

apt-get install ros-hydro-rosconsole

I was not able to reproduce the error with these packages.

Originally posted by Jose Luis Rivero with karma: 1485 on 2014-02-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by mfran89 on 2014-02-07:
Well I ended up reinstalling ROS Hydro before seeing this message, which did update the rosconsole to 1.9.54, and my problem seems to have gone away! I can only assume that the rosconsole may not have been up to date. So thanks for the info and I hope it helps others aswell.


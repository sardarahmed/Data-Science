Q:

erratic_gazebo tutorial not working

hi,
I am using cturtle 1.2.4 on ubuntu 10.04 lucid.So I am trying to understand gazebo and 2d navigation stackusing erratic_gazebo stack tutorial.the link of the tutorial is http://www.ros.org/wiki/simulator_gazebo/Tutorials/TeleopErraticSimulation.However i was unable to move to the required destination.In the rviz it showing that the robot model error.The transforms to the base_caster_support_link and so on.However the robot is moving.It is giving the following errors.
[ WARN] [1299364679.666606599, 11.932000000]: You have set an inflation radius that is less than the inscribed and circumscribed radii of the robot. This is dangerous and could casue the robot to hit obstacles. Please change your inflation radius setting appropraitely.
WARN] [1299364675.734772614, 9.732000000]: No transmissions were specified in the robot description.
[ WARN] [1299364675.734874486, 9.732000000]: None of the joints in the robot desription matches up to a motor. The robot is uncontrollable.
[ WARN] [1299364676.126019799, 9.732000000]: No transmissions were specified in the robot description.
[ WARN] [1299364676.126128562, 9.732000000]: None of the joints in the robot desription matches up to a motor. The robot is uncontrollable.
[ INFO] [1299364676.133165879, 9.732000000]: Callback thread id=0x7f7e0c2ed8e0
[ WARN] [1299364676.150355776, 9.743000000]: Message from [unknown] has a non-fully-qualified frame_id [odom]. Resolved locally to [/odom].  This is will likely not work in multi-robot systems.  This message will only print once.
[ WARN] [1299364676.278951375, 9.832000000]: Message from [/gazebo] has a non-fully-qualified frame_id [base_laser_link]. Resolved locally to [/base_laser_link].  This is will likely not work in multi-robot systems.  This message will only print once.
[ WARN] [1299364679.666606599, 11.932000000]: You have set an inflation radius that is less than the inscribed and circumscribed radii of the robot. This is dangerous and could casue the robot to hit obstacles. Please change your inflation radius setting appropraitely.

Originally posted by avin111 on ROS Answers with karma: 83 on 2011-03-05
Post score: 0

Original comments
Comment by avin111 on 2011-03-05:
hi,I am using the following command roslaunch erratic_gazebo erratic_2dnav_demo.launch.My aim is to implement a 2d navigation stack on a rover similar to erratic mobile robot.So could you please help me what exactly should i look into to write the urdf of my rover and simulate the 2d navigation stack  in gazebo.
Comment by arebgun on 2011-03-05:
Hi, can you tell me exactly what commands you are running? The tutorial you pointed to is outdated and is using the old erratic stack that doesn't exist anymore.
Comment by Arkapravo on 2013-03-20:
Have a look => http://answers.ros.org/question/12636/slam-in-gazebo/

A:

Hi,
Try installing erratic_robot stack with sudo apt-get install ros-cturtle-erratic-robot and running any of the navigation stack demos from erratic_navigation_apps package. For example, to run SLAM demo in simulation run:
roslaunch erratic_navigation_apps demo_2dnav_slam.launch
Erratic's URDF description is in erratic_description package, navigation stack configurations are in erratic_navigation and example launch files in erratic_navigation_apps.
To actually drive the robot we need to launch a keyboard teleoperation node in another terminal:
rosrun erratic_teleop erratic_keyboard_teleop
Make sure this terminal window has focus so that keyboard commands are properly captured by the teleoperation node.

Originally posted by arebgun with karma: 2121 on 2011-03-05
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Stefan Kohlbrecher on 2011-03-09:
Ah thanks, I'll check that out.
Comment by arebgun on 2011-03-09:
Stefan, you can still send navigation goal from RVIZ. Once you load up RVIZ on the right side in Tool Properties there's a 2D Nav Goal Topic, type in "move_base_simple/goal". That should send the goal to the right place.
Comment by Stefan Kohlbrecher on 2011-03-09:
yes, I am. On cturtle I could give navigation goals and planning worked, while on diamondback I get a error log message because I'm sending goal poses, but move_base expects a action goal on that topic IIRC.
Comment by arebgun on 2011-03-09:
Stefan, are you on diamondback?
Comment by Stefan Kohlbrecher on 2011-03-09:
Btw: I also noticed I now have to use teleop_keyboard, while it was possible to use navigation goals clicked via rviz with cturtle. From briefly looking at it it seems like move_base now uses action_lib instead of simple goal poses given by rviz. Is there a quick way of re-enabling point and click?
Comment by szokei on 2011-03-09:
Sometimes the map is not loaded, after navigating with the keyboard a correct map was created. Thank you!
Comment by arebgun on 2011-03-09:
Ok, that's a cturtle version. So when you launch that what do you see in gazebo, what do you mean when you say you can't move robot? Did you run the keyboard teleop node from erratic_teleop package?
Comment by szokei on 2011-03-09:
rosversion: 1.2.4 and I'm running: roslaunch demo_2dnav_slam.launch
Comment by arebgun on 2011-03-09:
Tell me what version of ros you are using and what commands you are running?
Comment by szokei on 2011-03-09:
roswtf resulted the following WARNING These nodes have died: * xml2factor_wg_walls-2     * spawn_robot-3                       The following node subscriptions are unconnected:

/amcl:  /initialpose
/move_base_node/local_costmap/voxel_grid_throttle:  /move_base_node/local_costmap/voxel_grid
/move_base_node:   /move_base_simple/goal,  /move_base/cancel,  /tf_message
/voxel_visualizer:   /move_base_node/local_costmap/voxel_grid_throttled
/gazebo:   /gazebo/set_model_state,   /gazebo/set_link_state

Comment by szokei on 2011-03-09:
Okay, but what should be the output of the program, because I can't do anything in Gazebo, can't move the robot etc.Thank you.
Comment by arebgun on 2011-03-09:
This is just a warning, it usually appears when everything is starting up because the computer is too busy loading all the nodes and the update loops runs slower than expected.
Comment by szokei on 2011-03-08:
After the map is loaded the applications has stopped to work due to the following: Subscribed to Topics: base_scan base_scan_marking
[ WARN] The /base_scan/marking observation buffer has not been updated for 0.34 seconds, and it should be updated every 0.20 seconds.
Comment by arebgun on 2011-03-06:
What do you mean wg_worlds parameter? If you want to launch the simulation with a different map/world, there's a few examples available in gazebo_worlds package, or you can create your own. Also, if you are satisfied with an answer, please mark it as accepted. Thanks!
Comment by avin111 on 2011-03-05:
Thank you it worked..By the way how to remove wg_worlds parameter from the simulation..really thanks for the help..


Q:

Need help to edit libgazebo_ros_bumper source

Hellor everybody
I'm going to validate gazebo and ROS contact and 6 axis force/torque sensors. I have currently studied 6 axis force torque sensor using a simple inverted pendulum. I compared 6 axis forces and torques outputs with the ones that I calculate using dynamic model of the inverted pendulum. Unfortunately, I realized that force and torque values are abnormal and noisy (although I set Gaussian noise for the sensor to zero)
After getting abnormal data from 6 axis force torques, I decided to use libgazebo_ros_bumper as contact sensor. Now my problem in evaluating output of this sensor is that the size of contact state is very large (e. g. 34 contact point even in simulating contact between sphere and ground). That is why I want to edit source code of libgazebo_ros_bumper to sum up all contact force and make one advertise one total wrench and force... Am new to ROS and gazebo, can someone here help me to do this??
Thanks for your attention

Originally posted by Masoud on ROS Answers with karma: 41 on 2016-09-21
Post score: 0

A:

Git clone https://github.com/ros-simulation/gazebo_ros_pkgs.git into your catkin workspace and build it, it will supersede the version probably installed on your system under /opt.
You want to check out the branch that matches your system (e.g. kinetic-devel or jade-devel).
If it is running correctly then start editing the plugin gazebo_plugins/src/gazebo_ros_bumper.cpp .
With more effort you could make your own catkin package and bring in gazebo_ros_bumper.cpp, then rename it and modify it and have it coexist as a different bumper type alongside the standard version.

Originally posted by lucasw with karma: 8729 on 2016-09-21
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Masoud on 2016-09-21:
Thanks lucas, but I want to know in which line of source code I should I insert my "for" loop, and and how I can publish the total force and wrench in c++.. I
Comment by lucasw on 2016-09-22:
I see a for loop at https://github.com/ros-simulation/gazebo_ros_pkgs/blob/jade-devel/gazebo_plugins/src/gazebo_ros_bumper.cpp#L245 , also there is already something in there called total_wrench which is summing up forces and torques.
Comment by Masoud on 2016-09-24:
dear lucas..
I decided to create a subscriber node to listen to contact sensor.. Would you please pay attention to my new question.


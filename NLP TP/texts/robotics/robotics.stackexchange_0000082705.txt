Q:

Problem with running json-prolog:prolog to query an owl file

Hi,
I have a cram project running with Ros. i simply want to query an owl file and receive results in cram.
Knowrob is installed on my system and i can run  rosrun rosprolog rosprolog knowrob_common examples.

Based on limited documentations and available codes, to query the owl file, i came up with the following code
 (json-prolog:prolog '("rdf_has" ?owlname "http://knowrob.org/kb/srdl2-comp.owl#urdfName"("literal")))
i received
; Evaluation aborted on #<SB-KERNEL:CASE-FAILURE expected-type: (OR STRING ROSLISP::URI) datum: NIL>.
i tried every permutation to place owl address, variable and owl command. same error showed up in all cases.
Moreover, by running (json-prolog:check-connection) i have the following error
[(JSON-PROLOG) WARN] 1504631904.665: Node is not running.
I am not sure which node i should run and is it neccessary in order to query the owl file?
Thanks

Originally posted by aAsoodeh on ROS Answers with karma: 3 on 2017-09-07
Post score: 0

A:

Hi,
Well, as your warning message suggests, your ROS node is not running. Without a ROS node you cannot do any ROS communication with other nodes. Simply start a new node:
(roslisp:start-ros-node "my_awesome_node")

and try the query again.
I have a suspicion, though, that the ("literal") clause will create problems. For beginners I usually suggest to use the json-prolog:prolog-simple query, which simply accepts a string instead of a list with the query and parameters as json-prolog:prolog does. E.g.:
(json-prolog:prolog-simple "rdf_has(OWLNAME, 'http://knowrob.org/kb/srdl2-comp.owl#urdfName', OTHERVAR).")

Edit: in case you're interested to know what the correct version of your original query is, this is how I would write it:
(json-prolog:prolog '("rdf_has" ?owlname "http://knowrob.org/kb/srdl2-comp.owl#urdfName" ("literal" ?var)))

Originally posted by gaya with karma: 311 on 2017-09-07
This answer was ACCEPTED on the original site
Post score: 2


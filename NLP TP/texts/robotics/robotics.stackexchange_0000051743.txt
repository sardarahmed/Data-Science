Q:

Trouble with Catkin: Compiling node and generating messages in same package

Hi Guys,
I am currently catkinizing the ublox driver found here: https://github.com/tu-darmstadt-ros-pkg/ublox
The node "ublox_msgs" builds a library and generates a number of messages at the same time.  The library that is built in the package depends on the generated message header files that is created during compile time.
The problem is that it tries to compile the library without waiting for all the message headers to all be generated.  The result is a error that it can not find one of the generated header files.  For example:
../../ublox_msgs/include/ublox_msgs/ublox_msgs.h:41:35: fatal error: ublox_msgs/NavTIMEGPS.h: No such file or directory

I can see the messages being generated, and if I run "cakin_make" multiple times, it will generate all the headers and no longer error out.  But I would like it to generate the message headers and then compile the library, so a error does not happen.  I know the library and the messages should probably be in separate packages, but I just wanted to get it working in its current state.
I tried following what was referenced in this post, but it did not seem to work either: http://answers.ros.org/question/53265/catkin-messages-and-node-in-same-package/
Here is my package.xml file:
<?xml version="1.0"?>
<package>
  <name>ublox_msgs</name>
  <version>0.0.0</version>
  <description>
  </description>

  <maintainer email="jane.doe@example.com">Jane Doe</maintainer>
  <license>TODO</license>

  <buildtool_depend>catkin</buildtool_depend>

  <build_depend>message_generation</build_depend>
  <build_depend>roscpp</build_depend>
  <build_depend>ublox_serialization</build_depend>

  <run_depend>message_runtime</run_depend>
  <run_depend>roscpp</run_depend>
  <run_depend>ublox_serialization</run_depend>

  <export>
  </export>
</package>

Here is my CMakeLists.txt file:
cmake_minimum_required(VERSION 2.8.3)
project(ublox_msgs)

find_package(catkin REQUIRED COMPONENTS genmsg ublox_serialization roscpp)

## Generate messages in the 'msg' folder
add_message_files(
    DIRECTORY msg
    FILES
    AidALM.msg
    AidEPH.msg
    AidHUI.msg
    CfgANT.msg
    CfgCFG.msg
    CfgMSG.msg
    CfgNAV5.msg
    CfgPRT.msg
    CfgRATE.msg
    CfgSBAS.msg
    NavCLOCK.msg
    NavDGPS.msg
    NavDGPS_SV.msg
    NavDOP.msg
    NavPOSECEF.msg
    NavPOSLLH.msg
    NavSBAS.msg
    NavSBAS_SV.msg
    NavSOL.msg
    NavSTATUS.msg
    NavSVINFO.msg
    NavSVINFO_SV.msg
    NavTIMEGPS.msg
    NavTIMEUTC.msg
    NavVELECEF.msg
    NavVELNED.msg
    RxmALM.msg
    RxmEPH.msg
    RxmRAW.msg
    RxmRAW_SV.msg
    RxmSFRB.msg
    RxmSVSI.msg
    RxmSVSI_SV.msg
)

## Generate added messages and services with any dependencies listed here
 generate_messages()

catkin_package(
   INCLUDE_DIRS include
   LIBRARIES ${PROJECT_NAME}
#  CATKIN_DEPENDS message_runtime
#  DEPENDS ublox_msgs
)

include_directories(include
  ${catkin_INCLUDE_DIRS}
)

## Declare a cpp library
add_library(ublox_msgs
   src/ublox_msgs.cpp
)

## Add cmake target dependencies of the executable/library
## as an example, message headers may need to be generated before nodes
add_dependencies(${PROJECT_NAME} ${PROJECT_NAME}_gencpp)

## Specify libraries to link a library or executable target against
target_link_libraries(${PROJECT_NAME} ${catkin_LIBRARIES})

I tried to follow the tutorials as much as possible: https://github.com/ros/catkin_tutorials/blob/master/create_package_pubsub/catkin_ws/src/beginner_tutorials/CMakeLists.txt
Does anyone see a issue in these files?  Or maybe there is still a bug in Catkin?
Thank you for your help.

Update
So it looks like it works with catkin_make -j1 but NOT with just catkin_make.  So it seems to be possibly a bug with running multiple jobs at once while compiling.  Since the catkin_make -j1 command runs make -j1 -l1 and the catkin_make command runs make -j4 -l4.
Here is the entire output of catkin_make -j1 on a previously unbuilt workspace:
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU
-- Check for working C compiler: /usr/bin/gcc
-- Check for working C compiler: /usr/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Using CATKIN_DEVEL_PREFIX: removed
-- Using CMAKE_PREFIX_PATH: removed
-- This workspace overlays: removed
-- Found PythonInterp: /usr/bin/python (found version "2.7.3")
-- Looking for include files CMAKE_HAVE_PTHREAD_H
-- Looking for include files CMAKE_HAVE_PTHREAD_H - found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE 
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using CATKIN_TEST_RESULTS_DIR: removed
-- catkin 0.5.65
-- BUILD_SHARED_LIBS is on
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 4 packages in topological order:
-- ~~  - ublox (metapackage)
-- ~~  - ublox_serialization
-- ~~  - ublox_msgs
-- ~~  - ublox_gps
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- +++ processing catkin metapackage: 'ublox'
-- ==> add_subdirectory(ublox)
-- +++ processing catkin package: 'ublox_serialization'
-- ==> add_subdirectory(ublox_serialization)
-- +++ processing catkin package: 'ublox_msgs'
-- ==> add_subdirectory(ublox_msgs)
-- ublox_msgs: 33 messages, 0 services
-- +++ processing catkin package: 'ublox_gps'
-- ==> add_subdirectory(ublox_gps)
-- Boost version: 1.46.1
-- Found the following Boost libraries:
--   system
--   regex
-- Configuring done
-- Generating done
-- Build files have been written to: removed
####
#### Running command: "make -j1 -l1" in "/home/user/build"
####
Scanning dependencies of target ublox_msgs_gencpp
[  1%] Generating C++ code from ublox_msgs/AidALM.msg
[  2%] Generating C++ code from ublox_msgs/AidEPH.msg
[  3%] Generating C++ code from ublox_msgs/AidHUI.msg
[  4%] Generating C++ code from ublox_msgs/CfgANT.msg
[  5%] Generating C++ code from ublox_msgs/CfgCFG.msg
[  6%] Generating C++ code from ublox_msgs/CfgMSG.msg
[  7%] Generating C++ code from ublox_msgs/CfgNAV5.msg
[  8%] Generating C++ code from ublox_msgs/CfgPRT.msg
[  9%] Generating C++ code from ublox_msgs/CfgRATE.msg
[ 10%] Generating C++ code from ublox_msgs/CfgSBAS.msg
[ 11%] Generating C++ code from ublox_msgs/NavCLOCK.msg
[ 11%] Generating C++ code from ublox_msgs/NavDGPS.msg
[ 12%] Generating C++ code from ublox_msgs/NavDGPS_SV.msg
[ 13%] Generating C++ code from ublox_msgs/NavDOP.msg
[ 14%] Generating C++ code from ublox_msgs/NavPOSECEF.msg
[ 15%] Generating C++ code from ublox_msgs/NavPOSLLH.msg
[ 16%] Generating C++ code from ublox_msgs/NavSBAS.msg
[ 17%] Generating C++ code from ublox_msgs/NavSBAS_SV.msg
[ 18%] Generating C++ code from ublox_msgs/NavSOL.msg
[ 19%] Generating C++ code from ublox_msgs/NavSTATUS.msg
[ 20%] Generating C++ code from ublox_msgs/NavSVINFO.msg
[ 21%] Generating C++ code from ublox_msgs/NavSVINFO_SV.msg
[ 22%] Generating C++ code from ublox_msgs/NavTIMEGPS.msg
[ 23%] Generating C++ code from ublox_msgs/NavTIMEUTC.msg
[ 24%] Generating C++ code from ublox_msgs/NavVELECEF.msg
[ 25%] Generating C++ code from ublox_msgs/NavVELNED.msg
[ 26%] Generating C++ code from ublox_msgs/RxmALM.msg
[ 27%] Generating C++ code from ublox_msgs/RxmEPH.msg
[ 28%] Generating C++ code from ublox_msgs/RxmRAW.msg
[ 28%] Generating C++ code from ublox_msgs/RxmRAW_SV.msg
[ 29%] Generating C++ code from ublox_msgs/RxmSFRB.msg
[ 30%] Generating C++ code from ublox_msgs/RxmSVSI.msg
[ 31%] Generating C++ code from ublox_msgs/RxmSVSI_SV.msg
[ 31%] Built target ublox_msgs_gencpp
Scanning dependencies of target ublox_msgs
[ 32%] Building CXX object ublox_msgs/CMakeFiles/ublox_msgs.dir/src/ublox_msgs.cpp.o
Linking CXX shared library /home/user/devel/lib/libublox_msgs.so
[ 32%] Built target ublox_msgs
Scanning dependencies of target ublox_msgs_genlisp
[ 33%] Generating Lisp code from ublox_msgs/AidALM.msg
[ 34%] Generating Lisp code from ublox_msgs/AidEPH.msg
[ 35%] Generating Lisp code from ublox_msgs/AidHUI.msg
[ 36%] Generating Lisp code from ublox_msgs/CfgANT.msg
[ 37%] Generating Lisp code from ublox_msgs/CfgCFG.msg
[ 38%] Generating Lisp code from ublox_msgs/CfgMSG.msg
[ 39%] Generating Lisp code from ublox_msgs/CfgNAV5.msg
[ 40%] Generating Lisp code from ublox_msgs/CfgPRT.msg
[ 41%] Generating Lisp code from ublox_msgs/CfgRATE.msg
[ 42%] Generating Lisp code from ublox_msgs/CfgSBAS.msg
[ 43%] Generating Lisp code from ublox_msgs/NavCLOCK.msg
[ 44%] Generating Lisp code from ublox_msgs/NavDGPS.msg
[ 45%] Generating Lisp code from ublox_msgs/NavDGPS_SV.msg
[ 46%] Generating Lisp code from ublox_msgs/NavDOP.msg
[ 46%] Generating Lisp code from ublox_msgs/NavPOSECEF.msg
[ 47%] Generating Lisp code from ublox_msgs/NavPOSLLH.msg
[ 48%] Generating Lisp code from ublox_msgs/NavSBAS.msg
[ 50%] Generating Lisp code from ublox_msgs/NavSBAS_SV.msg
[ 51%] Generating Lisp code from ublox_msgs/NavSOL.msg
[ 52%] Generating Lisp code from ublox_msgs/NavSTATUS.msg
[ 53%] Generating Lisp code from ublox_msgs/NavSVINFO.msg
[ 54%] Generating Lisp code from ublox_msgs/NavSVINFO_SV.msg
[ 55%] Generating Lisp code from ublox_msgs/NavTIMEGPS.msg
[ 56%] Generating Lisp code from ublox_msgs/NavTIMEUTC.msg
[ 57%] Generating Lisp code from ublox_msgs/NavVELECEF.msg
[ 58%] Generating Lisp code from ublox_msgs/NavVELNED.msg
[ 59%] Generating Lisp code from ublox_msgs/RxmALM.msg
[ 60%] Generating Lisp code from ublox_msgs/RxmEPH.msg
[ 61%] Generating Lisp code from ublox_msgs/RxmRAW.msg
[ 62%] Generating Lisp code from ublox_msgs/RxmRAW_SV.msg
[ 63%] Generating Lisp code from ublox_msgs/RxmSFRB.msg
[ 63%] Generating Lisp code from ublox_msgs/RxmSVSI.msg
[ 64%] Generating Lisp code from ublox_msgs/RxmSVSI_SV.msg
[ 64%] Built target ublox_msgs_genlisp
Scanning dependencies of target ublox_msgs_genpy
[ 65%] Generating Python from MSG ublox_msgs/AidALM
[ 66%] Generating Python from MSG ublox_msgs/AidEPH
[ 67%] Generating Python from MSG ublox_msgs/AidHUI
[ 68%] Generating Python from MSG ublox_msgs/CfgANT
[ 69%] Generating Python from MSG ublox_msgs/CfgCFG
[ 70%] Generating Python from MSG ublox_msgs/CfgMSG
[ 71%] Generating Python from MSG ublox_msgs/CfgNAV5
[ 72%] Generating Python from MSG ublox_msgs/CfgPRT
[ 73%] Generating Python from MSG ublox_msgs/CfgRATE
[ 74%] Generating Python from MSG ublox_msgs/CfgSBAS
[ 75%] Generating Python from MSG ublox_msgs/NavCLOCK
[ 76%] Generating Python from MSG ublox_msgs/NavDGPS
[ 77%] Generating Python from MSG ublox_msgs/NavDGPS_SV
[ 78%] Generating Python from MSG ublox_msgs/NavDOP
[ 79%] Generating Python from MSG ublox_msgs/NavPOSECEF
[ 80%] Generating Python from MSG ublox_msgs/NavPOSLLH
[ 80%] Generating Python from MSG ublox_msgs/NavSBAS
[ 81%] Generating Python from MSG ublox_msgs/NavSBAS_SV
[ 82%] Generating Python from MSG ublox_msgs/NavSOL
[ 83%] Generating Python from MSG ublox_msgs/NavSTATUS
[ 84%] Generating Python from MSG ublox_msgs/NavSVINFO
[ 85%] Generating Python from MSG ublox_msgs/NavSVINFO_SV
[ 86%] Generating Python from MSG ublox_msgs/NavTIMEGPS
[ 87%] Generating Python from MSG ublox_msgs/NavTIMEUTC
[ 88%] Generating Python from MSG ublox_msgs/NavVELECEF
[ 89%] Generating Python from MSG ublox_msgs/NavVELNED
[ 90%] Generating Python from MSG ublox_msgs/RxmALM
[ 91%] Generating Python from MSG ublox_msgs/RxmEPH
[ 92%] Generating Python from MSG ublox_msgs/RxmRAW
[ 93%] Generating Python from MSG ublox_msgs/RxmRAW_SV
[ 94%] Generating Python from MSG ublox_msgs/RxmSFRB
[ 95%] Generating Python from MSG ublox_msgs/RxmSVSI
[ 96%] Generating Python from MSG ublox_msgs/RxmSVSI_SV
[ 97%] Generating Python msg __init__.py for ublox_msgs
[ 97%] Built target ublox_msgs_genpy
Scanning dependencies of target ublox_gps
[ 98%] Building CXX object ublox_gps/CMakeFiles/ublox_gps.dir/src/gps.cpp.o
Linking CXX shared library /home/user/devel/lib/libublox_gps.so
[ 98%] Built target ublox_gps
Scanning dependencies of target ublox_gps_node
[100%] Building CXX object ublox_gps/CMakeFiles/ublox_gps_node.dir/src/node.cpp.o
Linking CXX executable /home/user/lib/ublox_gps/ublox_gps_node
[100%] Built target ublox_gps_node

Here is the entire output of catkin_make on a previously unbuilt workspace:
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU
-- Check for working C compiler: /usr/bin/gcc
-- Check for working C compiler: /usr/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Using CATKIN_DEVEL_PREFIX: removed
-- Using CMAKE_PREFIX_PATH: removed
-- This workspace overlays: removed
-- Found PythonInterp: /usr/bin/python (found version "2.7.3")
-- Looking for include files CMAKE_HAVE_PTHREAD_H
-- Looking for include files CMAKE_HAVE_PTHREAD_H - found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE 
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using CATKIN_TEST_RESULTS_DIR: removed
-- catkin 0.5.65
-- BUILD_SHARED_LIBS is on
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 4 packages in topological order:
-- ~~  - ublox (metapackage)
-- ~~  - ublox_serialization
-- ~~  - ublox_msgs
-- ~~  - ublox_gps
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- +++ processing catkin metapackage: 'ublox'
-- ==> add_subdirectory(ublox)
-- +++ processing catkin package: 'ublox_serialization'
-- ==> add_subdirectory(ublox_serialization)
-- +++ processing catkin package: 'ublox_msgs'
-- ==> add_subdirectory(ublox_msgs)
-- ublox_msgs: 33 messages, 0 services
-- +++ processing catkin package: 'ublox_gps'
-- ==> add_subdirectory(ublox_gps)
-- Boost version: 1.46.1
-- Found the following Boost libraries:
--   system
--   regex
-- Configuring done
-- Generating done
-- Build files have been written to: /home/user/build
####
#### Running command: "make -j4 -l4" in "/home/user/build"
####
Scanning dependencies of target ublox_gps
Scanning dependencies of target ublox_msgs_genlisp
Scanning dependencies of target ublox_msgs_gencpp
Scanning dependencies of target ublox_msgs_genpy
[  1%] [  2%] Building CXX object ublox_gps/CMakeFiles/ublox_gps.dir/src/gps.cpp.o
[  3%] [  4%] Generating Lisp code from ublox_msgs/AidALM.msg
Generating C++ code from ublox_msgs/AidALM.msg
Generating Python from MSG ublox_msgs/AidALM
[  5%] Generating Lisp code from ublox_msgs/AidEPH.msg
[  6%] Generating Python from MSG ublox_msgs/AidEPH
[  7%] Generating C++ code from ublox_msgs/AidEPH.msg
[  8%] Generating Lisp code from ublox_msgs/AidHUI.msg
[  9%] Generating Python from MSG ublox_msgs/AidHUI
In file included from /home/user/src/ublox_msgs/include/ublox/serialization/ublox_msgs.h:33:0,
                 from /home/user/src/ublox_gps/include/ublox_gps/gps.h:36,
                 from /home/user/src/ublox_gps/src/gps.cpp:30:
/home/user/src/ublox_msgs/include/ublox_msgs/ublox_msgs.h:32:33: fatal error: ublox_msgs/NavCLOCK.h: No such file or directory compilation terminated.
[ 10%] Generating Lisp code from ublox_msgs/CfgANT.msg
[ 11%] [ 12%] Generating Lisp code from ublox_msgs/CfgCFG.msg
Generating Python from MSG ublox_msgs/CfgANT
[ 13%] Generating C++ code from ublox_msgs/AidHUI.msg
[ 14%] Generating Python from MSG ublox_msgs/CfgCFG
[ 15%] Generating Lisp code from ublox_msgs/CfgMSG.msg
[ 16%] Generating Python from MSG ublox_msgs/CfgMSG
[ 17%] [ 18%] Generating Lisp code from ublox_msgs/CfgNAV5.msg
Generating C++ code from ublox_msgs/CfgANT.msg
[ 19%] Generating Python from MSG ublox_msgs/CfgNAV5
[ 20%] Generating Python from MSG ublox_msgs/CfgPRT
[ 21%] Generating Lisp code from ublox_msgs/CfgPRT.msg
[ 22%] Generating C++ code from ublox_msgs/CfgCFG.msg
[ 23%] Generating Python from MSG ublox_msgs/CfgRATE
[ 24%] Generating Lisp code from ublox_msgs/CfgRATE.msg
[ 25%] Generating Python from MSG ublox_msgs/CfgSBAS
[ 26%] Generating Lisp code from ublox_msgs/CfgSBAS.msg
[ 27%] [ 28%] Generating Python from MSG ublox_msgs/NavCLOCK
Generating C++ code from ublox_msgs/CfgMSG.msg
[ 29%] Generating Lisp code from ublox_msgs/NavCLOCK.msg
[ 30%] Generating Python from MSG ublox_msgs/NavDGPS
[ 32%] [ 32%] Generating C++ code from ublox_msgs/CfgNAV5.msg
Generating Lisp code from ublox_msgs/NavDGPS.msg
make[2]: *** [ublox_gps/CMakeFiles/ublox_gps.dir/src/gps.cpp.o] Error 1
make[1]: *** [ublox_gps/CMakeFiles/ublox_gps.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[ 33%] Generating Lisp code from ublox_msgs/NavDGPS_SV.msg
[ 34%] Generating Python from MSG ublox_msgs/NavDGPS_SV
[ 35%] Generating Lisp code from ublox_msgs/NavDOP.msg
[ 35%] Generating Lisp code from ublox_msgs/NavPOSECEF.msg
[ 36%] Generating Python from MSG ublox_msgs/NavDOP
[ 37%] Generating C++ code from ublox_msgs/CfgPRT.msg
[ 38%] Generating Python from MSG ublox_msgs/NavPOSECEF
[ 39%] Generating Python from MSG ublox_msgs/NavPOSLLH
[ 40%] Generating Lisp code from ublox_msgs/NavPOSLLH.msg
[ 41%] Generating C++ code from ublox_msgs/CfgRATE.msg
[ 41%] Generating Python from MSG ublox_msgs/NavSBAS
[ 42%] Generating Python from MSG ublox_msgs/NavSBAS_SV
[ 43%] Generating Lisp code from ublox_msgs/NavSBAS.msg
[ 44%] Generating Lisp code from ublox_msgs/NavSBAS_SV.msg
[ 45%] [ 46%] Generating C++ code from ublox_msgs/CfgSBAS.msg
Generating Python from MSG ublox_msgs/NavSOL
[ 47%] Generating Python from MSG ublox_msgs/NavSTATUS
[ 48%] Generating Lisp code from ublox_msgs/NavSOL.msg
[ 50%] [ 51%] Generating Python from MSG ublox_msgs/NavSVINFO
Generating Lisp code from ublox_msgs/NavSTATUS.msg
[ 52%] Generating Lisp code from ublox_msgs/NavSVINFO.msg
[ 53%] Generating C++ code from ublox_msgs/NavCLOCK.msg
[ 54%] Generating Python from MSG ublox_msgs/NavSVINFO_SV
[ 55%] Generating Lisp code from ublox_msgs/NavSVINFO_SV.msg
[ 56%] Generating Lisp code from ublox_msgs/NavTIMEGPS.msg
[ 57%] Generating Python from MSG ublox_msgs/NavTIMEGPS
[ 58%] Generating Lisp code from ublox_msgs/NavTIMEUTC.msg
[ 58%] Generating C++ code from ublox_msgs/NavDGPS.msg
[ 59%] Generating Python from MSG ublox_msgs/NavTIMEUTC
[ 60%] Generating Lisp code from ublox_msgs/NavVELECEF.msg
[ 61%] [ 62%] Generating C++ code from ublox_msgs/NavDGPS_SV.msg
Generating Python from MSG ublox_msgs/NavVELECEF
[ 63%] Generating Lisp code from ublox_msgs/NavVELNED.msg
[ 64%] [ 65%] [ 66%] Generating Python from MSG ublox_msgs/NavVELNED
Generating Lisp code from ublox_msgs/RxmALM.msg
Generating C++ code from ublox_msgs/NavDOP.msg
[ 67%] Generating Python from MSG ublox_msgs/RxmALM
[ 68%] [ 69%] Generating Lisp code from ublox_msgs/RxmEPH.msg
Generating Python from MSG ublox_msgs/RxmEPH
[ 70%] Generating Lisp code from ublox_msgs/RxmRAW.msg
[ 71%] [ 72%] Generating C++ code from ublox_msgs/NavPOSECEF.msg
Generating Lisp code from ublox_msgs/RxmRAW_SV.msg
[ 73%] Generating Python from MSG ublox_msgs/RxmRAW
[ 74%] Generating Lisp code from ublox_msgs/RxmSFRB.msg
[ 74%] Generating Lisp code from ublox_msgs/RxmSVSI.msg
[ 75%] Generating Python from MSG ublox_msgs/RxmRAW_SV
[ 76%] Generating C++ code from ublox_msgs/NavPOSLLH.msg
[ 77%] Generating Python from MSG ublox_msgs/RxmSFRB
[ 78%] Generating Lisp code from ublox_msgs/RxmSVSI_SV.msg
[ 79%] [ 80%] Generating C++ code from ublox_msgs/NavSBAS.msg
Generating Python from MSG ublox_msgs/RxmSVSI
[ 80%] Built target ublox_msgs_genlisp
[ 81%] Generating C++ code from ublox_msgs/NavSBAS_SV.msg
[ 82%] [ 83%] Generating C++ code from ublox_msgs/NavSOL.msg
Generating Python from MSG ublox_msgs/RxmSVSI_SV
[ 84%] [ 85%] Generating Python msg __init__.py for ublox_msgs
Generating C++ code from ublox_msgs/NavSTATUS.msg
[ 85%] Built target ublox_msgs_genpy
[ 86%] Generating C++ code from ublox_msgs/NavSVINFO.msg
[ 87%] Generating C++ code from ublox_msgs/NavSVINFO_SV.msg
[ 88%] Generating C++ code from ublox_msgs/NavTIMEGPS.msg
[ 89%] [ 90%] Generating C++ code from ublox_msgs/NavTIMEUTC.msg
Generating C++ code from ublox_msgs/NavVELECEF.msg
[ 91%] Generating C++ code from ublox_msgs/NavVELNED.msg
[ 92%] Generating C++ code from ublox_msgs/RxmALM.msg
[ 93%] Generating C++ code from ublox_msgs/RxmEPH.msg
[ 94%] Generating C++ code from ublox_msgs/RxmRAW.msg
[ 94%] Generating C++ code from ublox_msgs/RxmRAW_SV.msg
[ 95%] Generating C++ code from ublox_msgs/RxmSFRB.msg
[ 96%] Generating C++ code from ublox_msgs/RxmSVSI.msg
[ 97%] Generating C++ code from ublox_msgs/RxmSVSI_SV.msg
[ 97%] Built target ublox_msgs_gencpp
make: *** [all] Error 2
Invoking "make" failed

Update 2
Here is the repository with the code that is producing this error: https://github.com/raptort3000/ublox_catkin

Originally posted by Raptor on ROS Answers with karma: 377 on 2013-06-06
Post score: 4

Original comments
Comment by William on 2013-06-06:
Can you post the entire output of catkin_make -j1 on a previously unbuilt workspace? Your package looks ok to me, I don't see why you would be getting the out of order build bug (I can pretty confidently confirm that this is that bug since you can resolve it by running multiple times).
Comment by Raptor on 2013-06-07:
Look at update above.
Comment by joq on 2013-06-07:
Why is CATKIN_DEPENDS message_runtime commented out? What happens when you use it?
Comment by Raptor on 2013-06-07:
I do not see a difference if I use it or not, at least during compile time.
Comment by joq on 2013-06-07:
I think it is needed for other catkin packages that use your messages.
Comment by Raptor on 2013-06-07:
Alright I will keep that in then.

A:

UPDATED to remove incorrect suggestion, see comments below.
The currently-recommended variable name for expanding self-defined messages and services is:
add_dependencies(uuid_msgs ${${PROJECT_NAME}_EXPORTED_TARGETS})

I wrote that using the uuid_msgs target, because others reading this question may be confused by the fact that your library target has the same name as your package.

Originally posted by joq with karma: 25443 on 2013-06-06
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by William on 2013-06-06:
I think that ${${PROJECT_NAME}_gencpp} will not work, that would be dereferencing a target (${PROJECT_NAME}_gencpp is a target). The second recommendation is definitely correct.
Comment by Raptor on 2013-06-07:
The line from above: "add_dependencies(${PROJECT_NAME} ${${PROJECT_NAME}_gencpp})" does not seem to work.  Here is the error that is produced: "CMake Error at ublox_msgs/CMakeLists.txt:108 (add_dependencies):
add_dependencies called with incorrect number of arguments"
Comment by joq on 2013-06-07:
Sorry for the mistake. I thought it was a CMake variable, but as @william said, it's a target. I'll update the answer. Did the other add_dependencies() work for you?
Comment by Raptor on 2013-06-07:
No problem, I thank you guys for the help.  I put the command "add_dependencies(ublox_msgs ${PROJECT_NAME}_EXPORTED_TARGETS)" in place of "add_dependencies(${PROJECT_NAME} ${PROJECT_NAME}_gencpp)" and got the same error, that it could not find one of the generated header files from the messages.
Comment by joq on 2013-06-07:
Don't forget the double evaluation: ${${PROJECT_NAME}_EXPORTED_TARGETS}
Comment by Raptor on 2013-06-07:
If I add the double evaluation, "add_dependencies(ublox_msgs ${${PROJECT_NAME}_EXPORTED_TARGETS})"  I get the cmake error: "CMake Error at ublox_msgs/CMakeLists.txt:68 (add_dependencies): add_dependencies called with incorrect number of arguments" like the one above.
Comment by joq on 2013-06-07:
What does message("exported targets: ${${PROJECT_NAME}_EXPORTED_TARGETS}") print? Sounds like it must be empty.
Comment by Raptor on 2013-06-07:
It is empty.  I guess I am unclear on how to use it.  This is the only resource I found that has any documentation on it: http://farnsworth.csres.utexas.edu/docs/catkin/html/howto/building_msgs.html and it does not tell you how to really use it.
Comment by joq on 2013-06-07:
That variable should list all the targets created by your package. This looks like a bug to me. Please report it here: https://github.com/ros/catkin/issues/new with a link to this page so you don't have to repeat it all.
Comment by Raptor on 2013-06-07:
For reference, here is the bug report: https://github.com/ros/catkin/issues/435
Comment by Jeremy Corbett on 2014-11-05:
This worked for me!


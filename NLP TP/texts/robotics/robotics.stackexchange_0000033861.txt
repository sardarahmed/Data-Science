Q:

Best practices for logging messages and parameters

Hi all,
I was wondering about best practices to log datasets with rosbag and save the parameters that were used during logging. As long as parameters do not change, I could just run rosparam dump paramfile and then run rosbag record my_topics.
However, when e.g. using dynamic reconfigure during logging, parameters will change.
One could now run rosparam dump paramfile every time dynamic reconfigure was used, but that's rather tedious and error prone. Another way would be to create a parameter message and publish the current parameters at a constant rate - less error prone but also not really nice... any better ideas?
Would it be possible to configure the parameter server such that it dumps the parameters on every change, or can I find something like this already somewhere in the logs?
Best, Markus

Originally posted by Markus Achtelik on ROS Answers with karma: 390 on 2011-08-24
Post score: 10

A:

In terms of 'best practices', I wouldn't change parameterization while collecting data.  In general, it will be hard to properly synchronize the affect of parameter changes with streaming messages.

Originally posted by kwc with karma: 12244 on 2011-09-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tfoote on 2011-10-26:
I suggest you feature enhancement ticket to keep this from getting lost.
Comment by Markus Achtelik on 2011-10-04:
I agree to that. For some specific case, we just published the few parameters that changed with a custom message. For the rest it would be nice to have a rosbag record parameter like "-p" which does a "rosparam dump" when recording starts and saves to the same filename as the bag, but with .yaml
Comment by 130s on 2012-11-13:
I'm planning to implement features to record params over time and also synchronize with rosbag as an rqt plugin (will be stored on github https://github.com/130s/rqt_param)


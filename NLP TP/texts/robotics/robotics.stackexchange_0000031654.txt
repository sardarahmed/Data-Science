Q:

rxplot using custom messages

Hi,
I have built my own message type, containing some float32 arrays of variable size and a Header. It works ok and I can record and visualize them using rxbag, but when I try to plot it using rxplot /topicname/field[0] I cannot see anything. However, I see plot axes getting scaled properly, but no line is showing up.
Even the header.seq cannot be seen.
How can I plot custom messages?
Best,
Arturo.

Originally posted by Arturo Ribes on ROS Answers with karma: 21 on 2011-05-18
Post score: 2

Original comments
Comment by Martin GÃ¼nther on 2011-05-18:
Could you edit your question to include the message definition? And perhaps provide a link to a rosbag you recorded?

A:

Are you properly time stamping your messages? I found rxplot doesn't like plotting messages that contain a header (and thus a timestamp) when the time stamp in the header is left blank.
If there's no header at all it won't complain, but if there is a header in your message type the time stamp should be filled for rxplot to plot it correctly.
Well, in fact, it probably is plotting it correctly, if you consider that the correct plot contains every data point in the same moment in time (guess it's time 0).

Originally posted by Miguel Prada with karma: 1071 on 2011-05-19
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by Miguel Prada on 2011-09-01:
You just need to fill the header.stamp field in the message with either ros::Time::now() or rospy.Time.now(), if the code building the message is written in C++ or Python respectively. That should be enough.
Comment by Gideon on 2011-09-01:
Could you point me to an example of filling in a time stamp? I am having the same issue, everything is being plot at t=0. Thanks
Comment by Patrick Bouffard on 2011-05-19:
I've noticed the same thing. Probably worth filing a ticket on rxplot. The best behaviour in the case of a 'blank' header is probably to do the same as if there was no header at all (and perhaps spit out a warning).


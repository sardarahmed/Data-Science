Q:

Amcl initialpose coordinate system

I'm still in the process of learning ros and i have a question regarding the initialpose topic. I'm transforming points from the kinect pcl to map coordinates (for sending goals) and using initalpose orientation to known which way is forward in a map. The problem is that when i get orientation with values: x,y,z = 0,0,-1. Why is z set and not x? Isn't the z axis the axis pointing up?
Thanks.

Originally posted by ZeroCool on ROS Answers with karma: 151 on 2012-06-12
Post score: 1

Original comments
Comment by piyushk on 2012-06-12:
/initialpose is not published by amcl, but subscribed to. Could you explain how you are using it? It is typically used to give an initial estimate of the robot's position to the localization algorithm.
Comment by joq on 2012-06-12:
Sounds like your transform from the kinect frame to /map is wrong. The /map frame of reference should be East, North, Up.
Comment by ZeroCool on 2012-06-13:
There was a typo. I meant orientation from initialpose topic. I subscribe to /initialpose and output the pose.orientation and the values are 0,0,-1. Im using it only to know which way is forward in the map so for example if i detect a obstacle i know which way the robot should go to move around the
Comment by ZeroCool on 2012-06-13:
obstacle (where the obstacle size is known).

A:

Saw your other question, and I think you are misunderstanding the orientation values. This is the format of /initialPose: http://www.ros.org/doc/api/geometry_msgs/html/msg/PoseWithCovarianceStamped.html
The orientation is a quarternion, so it comes with x, y, z, w (The individual values do not represent rotation about that axis eg value of x does not mean rotation about x-axis).
You will need to do a conversion if you need roll, pitch, yaw (rotations about x, y, z axis respectively).

Originally posted by weiin with karma: 2268 on 2012-06-13
This answer was ACCEPTED on the original site
Post score: 1


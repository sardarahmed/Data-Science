Q:

How to implement the "pipeline pattern" in ROS?

Hi,
as far as I understand in ROS the connections between nodes are implicitely given by topic names. So for example node A provides "camera_image", and node B subscribes to "camera_image", and provides "edge_detections". Now, A and B are connected. The names are hard-coded in the nodes source files.
But what if I want to install a node C between A and B, which takes "camera_image", provides "black_and_white_image"? Node B now should no longer subscribe to "camera_image", but to "black_and_white_image".
Of course I don't want to change the source of B. Should I pass the topic name as command line argument?
What is my fundamental misunderstanding here?

Originally posted by foopeter on ROS Answers with karma: 23 on 2014-05-29
Post score: 1

A:

The default topic names are coded into the nodes in question, but they can be changed at runtime through remapping arguments.
In your example, you would remap the input topic of node B to black_and_white_image, like:
rosrun pkg_B B_node camera_image:=black_and_white_image

Note that the topic type is also hardcoded, and cannot be changed at runtime unless the node explicitly supports it.

Originally posted by ahendrix with karma: 47576 on 2014-05-29
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by demmeln on 2014-05-29:
Also, you can conveniently remap in launch files: http://wiki.ros.org/roslaunch/XML/remap
Comment by foopeter on 2014-06-02:
Thank you, this makes it very clear!


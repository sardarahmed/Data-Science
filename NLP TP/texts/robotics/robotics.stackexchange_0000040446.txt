Q:

File reading and roslaunch

Hello,
I built a node which simply reads a file and builds a vector of data from it. However, when i tried running the node from roslaunch instead of rosrun, according to the log file, it ca n longer open the said data.txt file, causing my node to shutdown. I tried moving the file around but the problem persists. Here is the code
ifstream vel("ros_workspace/odometry/traj.txt");
  if(!vel.is_open()
{
    ROS_INFO("file not found!");
    ros::shutdown();
  }

I am new to ROS and not very familiar with the PATHS, don't even know if the problem comes from there, so this might be a very simple question.
Thanks!
Barbosa

Originally posted by Barbosa on ROS Answers with karma: 35 on 2012-05-13
Post score: 0

Original comments
Comment by AsifA on 2014-07-29:
Hi, I am unable to read a test file to build a vector from it. Would you please share your code of reading a file and building a vector of data. Thanks

A:

While using roslaunch, all relative paths are evaluated from ~/.ros. So the file is being searched at the location ~/.ros/ros_workspace/odometry/traj.txt.
A much better solution is to provide the filename as an input parameter. You can place the file in one of your packages, and use the find substitution to locate the file. Checkout the roslaunch XML wiki page for an example using manifest.xml. You can then use the roscpp parameter api to obtain this parameter in your code.

Originally posted by piyushk with karma: 2871 on 2012-05-13
This answer was ACCEPTED on the original site
Post score: 3


Q:

Reading an bytemultiarray message

Hi i need to read an bytemultiarray message.
I try with routings like this, but don't work with bytemultiarray.
void arrayCallback(const std_msgs::ByteMultiArray::ConstPtr& array)
{

    int i = 0;
    // print all the remaining numbers
    for(std::vector<int>::const_iterator it = array->data.begin(); it != array->data.end(); ++it)
    {
        Arr[i] = *it;
        i++;
    }

    return;
}

Originally posted by barovehicles on ROS Answers with karma: 1 on 2017-08-21
Post score: 0

Original comments
Comment by jayess on 2017-08-21:
What do you mean by

I try with routings like this, but don't work with bytemultiarray

?

A:

Hello,
I tried to create a node here using your for loop, and the problem is that CPP bytes are handled using signed char type, not int.
So, you have to do like this:
void arrayCallback(const std_msgs::ByteMultiArray::ConstPtr& array)
{

    int i = 0;
    // print all the remaining numbers
    for(std::vector<signed char>::const_iterator it = array->data.begin(); it != array->data.end(); ++it)
    {
        Arr[i] = *it;
        i++;
    }

    return;
}

There's a tutorial showing how to deal with ByteMultiArray messages, you can check it here: https://youtu.be/RMTLKf5q3Ro

Originally posted by marcoarruda with karma: 541 on 2017-09-04
This answer was ACCEPTED on the original site
Post score: 0


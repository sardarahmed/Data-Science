Q:

Unable to execute motion plan in MoveIt 2 and ROS2 controller manager keeps dying

Hello ROS Community,
I am currently working on a project with MoveIt 2 and ROS2 (Humble) and I am facing an issue I can't seem to resolve.
Context:
I am running a simulation of a six-jointed robot and using MoveIt 2 for planning. I have successfully created a motion plan for my robot, but when I try to execute the plan, it fails. Additionally, my controller manager keeps dying.

LOG:
roskuttan@SILENT-KILLERED:~/hexa_bot_ws$ ros2 launch hexa_bot_description_moveit_config demo.launch.py use_sim_time:=true
[INFO] [launch]: All log files can be found below /home/roskuttan/.ros/log/2023-05-31-21-33-40-784795-SILENT-KILLERED-11858
[INFO] [launch]: Default logging verbosity is set to INFO
Using load_yaml() directly is deprecated. Use xacro.load_yaml() instead.
[INFO] [static_transform_publisher-1]: process started with pid [11859]
[INFO] [robot_state_publisher-2]: process started with pid [11861]
[INFO] [move_group-3]: process started with pid [11863]
[INFO] [rviz2-4]: process started with pid [11865]
[INFO] [ros2_control_node-5]: process started with pid [11867]
[INFO] [spawner-6]: process started with pid [11869]
[INFO] [spawner-7]: process started with pid [11871]
[static_transform_publisher-1] [INFO] [1685549021.419656555] [static_transform_publisher0]: Spinning until stopped - publishing transform
[static_transform_publisher-1] translation: ('0.000000', '0.000000', '0.000000')
[static_transform_publisher-1] rotation: ('0.000000', '0.000000', '0.000000', '1.000000')
[static_transform_publisher-1] from 'world' to 'base_link'
[ros2_control_node-5] [INFO] [1685549021.428105055] [resource_manager]: Loading hardware 'GazeboSystem'
[ros2_control_node-5] terminate called after throwing an instance of 'pluginlib::LibraryLoadException'
[ros2_control_node-5]   what():  According to the loaded plugin descriptions the class gazebo_ros2_control/GazeboSystem with base class type hardware_interface::SystemInterface does not exist. Declared types are  fake_components/GenericSystem mock_components/GenericSystem test_hardware_components/TestSystemCommandModes test_hardware_components/TestTwoJointSystem test_system
[ros2_control_node-5] Stack trace (most recent call last):
[ros2_control_node-5] #16   Object "", at 0xffffffffffffffff, in
[ros2_control_node-5] #15   Object "/opt/ros/humble/lib/controller_manager/ros2_control_node", at 0x55bfce760d84, in
[ros2_control_node-5] #14   Object "/usr/lib/x86_64-linux-gnu/libc.so.6", at 0x7f99cabb9e3f, in __libc_start_main
[robot_state_publisher-2] [WARN] [1685549021.429758155] [kdl_parser]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
[ros2_control_node-5] #13   Object "/usr/lib/x86_64-linux-gnu/libc.so.6", at 0x7f99cabb9d8f, in
[ros2_control_node-5] #12   Object "/opt/ros/humble/lib/controller_manager/ros2_control_node", at 0x55bfce76089e, in
[ros2_control_node-5] #11   Object "/opt/ros/humble/lib/libcontroller_manager.so", at 0x7f99cb26d171, in controller_manager::ControllerManager::ControllerManager(std::shared_ptr<rclcpp::Executor>, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, rclcpp::NodeOptions const&)
[ros2_control_node-5] #10   Object "/opt/ros/humble/lib/libcontroller_manager.so", at 0x7f99cb26c257, in controller_manager::ControllerManager::init_resource_manager(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&)
[robot_state_publisher-2] [INFO] [1685549021.429863355] [robot_state_publisher]: got segment JAW1_1
[robot_state_publisher-2] [INFO] [1685549021.429918055] [robot_state_publisher]: got segment JAW2_1
[robot_state_publisher-2] [INFO] [1685549021.429927655] [robot_state_publisher]: got segment JAW3_1
[robot_state_publisher-2] [INFO] [1685549021.429934355] [robot_state_publisher]: got segment JAW6_1
[robot_state_publisher-2] [INFO] [1685549021.429940655] [robot_state_publisher]: got segment Jaw4_1
[robot_state_publisher-2] [INFO] [1685549021.429946955] [robot_state_publisher]: got segment Jaw5_1
[robot_state_publisher-2] [INFO] [1685549021.429953255] [robot_state_publisher]: got segment NEMA_3_1
[robot_state_publisher-2] [INFO] [1685549021.429959555] [robot_state_publisher]: got segment NEMA_4_1
[robot_state_publisher-2] [INFO] [1685549021.429965955] [robot_state_publisher]: got segment NEMA_5_1
[robot_state_publisher-2] [INFO] [1685549021.429972355] [robot_state_publisher]: got segment Nema_1_1
[robot_state_publisher-2] [INFO] [1685549021.429978655] [robot_state_publisher]: got segment Nema_2_1
[robot_state_publisher-2] [INFO] [1685549021.429984755] [robot_state_publisher]: got segment Nema_6_1
[robot_state_publisher-2] [INFO] [1685549021.429991155] [robot_state_publisher]: got segment base_link
[ros2_control_node-5] #9    Object "/opt/ros/humble/lib/libhardware_interface.so", at 0x7f99caabe207, in hardware_interface::ResourceManager::load_urdf(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, bool)
[ros2_control_node-5] #8    Object "/opt/ros/humble/lib/libhardware_interface.so", at 0x7f99caac6856, in
[ros2_control_node-5] #7    Object "/opt/ros/humble/lib/libhardware_interface.so", at 0x7f99caa9d858, in
[ros2_control_node-5] #6    Object "/usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30", at 0x7f99cae86517, in __cxa_throw
[ros2_control_node-5] #5    Object "/usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30", at 0x7f99cae862b6, in std::terminate()
[ros2_control_node-5] #4    Object "/usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30", at 0x7f99cae8624b, in
[ros2_control_node-5] #3    Object "/usr/lib/x86_64-linux-gnu/libstdc++.so.6.0.30", at 0x7f99cae7abbd, in
[ros2_control_node-5] #2    Object "/usr/lib/x86_64-linux-gnu/libc.so.6", at 0x7f99cabb87f2, in abort
[ros2_control_node-5] #1    Object "/usr/lib/x86_64-linux-gnu/libc.so.6", at 0x7f99cabd2475, in raise
[ros2_control_node-5] #0    Object "/usr/lib/x86_64-linux-gnu/libc.so.6", at 0x7f99cac26a7c, in pthread_kill
[ros2_control_node-5] Aborted (Signal sent by tkill() 11867 1000)
[ERROR] [ros2_control_node-5]: process has died [pid 11867, exit code -6, cmd '/opt/ros/humble/lib/controller_manager/ros2_control_node --ros-args --params-file /tmp/launch_params_7r7rh_1h --params-file /home/roskuttan/hexa_bot_ws/install/hexa_bot_description_moveit_config/share/hexa_bot_description_moveit_config/config/ros2_controllers.yaml'].
[move_group-3] [INFO] [1685549021.449993556] [moveit_rdf_loader.rdf_loader]: Loaded robot model in 0.0034793 seconds
[move_group-3] [INFO] [1685549021.450093856] [moveit_robot_model.robot_model]: Loading robot model 'hexa_bot'...
[move_group-3] [WARN] [1685549021.554605257] [kdl_parser]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
[move_group-3] [INFO] [1685549021.826553560] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Publishing maintained planning scene on 'monitored_planning_scene'
[move_group-3] [INFO] [1685549021.826699960] [moveit.ros_planning_interface.moveit_cpp]: Listening to 'joint_states' for joint states
[move_group-3] [INFO] [1685549021.827212460] [moveit_ros.current_state_monitor]: Listening to joint states on topic 'joint_states'
[move_group-3] [INFO] [1685549021.827698260] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Listening to '/attached_collision_object' for attached collision objects
[move_group-3] [INFO] [1685549021.827730360] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Starting planning scene monitor
[move_group-3] [INFO] [1685549021.828636760] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Listening to '/planning_scene'
[move_group-3] [INFO] [1685549021.828666160] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Starting world geometry update monitor for collision objects, attached objects, octomap updates.
[move_group-3] [INFO] [1685549021.829195760] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Listening to 'collision_object'
[move_group-3] [INFO] [1685549021.829711260] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Listening to 'planning_scene_world' for planning scene world geometry
[move_group-3] [WARN] [1685549021.829869660] [moveit.ros.occupancy_map_monitor.middleware_handle]: Resolution not specified for Octomap. Assuming resolution = 0.1 instead
[move_group-3] [ERROR] [1685549021.829882660] [moveit.ros.occupancy_map_monitor.middleware_handle]: No 3D sensor plugin(s) defined for octomap updates
[move_group-3] [INFO] [1685549021.956556861] [moveit.ros_planning_interface.moveit_cpp]: Loading planning pipeline 'ompl'
[move_group-3] [INFO] [1685549021.967400661] [moveit.ros_planning.planning_pipeline]: Using planning interface 'OMPL'
[move_group-3] [INFO] [1685549021.968736261] [moveit_ros.add_time_optimal_parameterization]: Param 'ompl.path_tolerance' was not set. Using default value: 0.100000
[move_group-3] [INFO] [1685549021.968770861] [moveit_ros.add_time_optimal_parameterization]: Param 'ompl.resample_dt' was not set. Using default value: 0.100000
[move_group-3] [INFO] [1685549021.968776561] [moveit_ros.add_time_optimal_parameterization]: Param 'ompl.min_angle_change' was not set. Using default value: 0.001000
[move_group-3] [INFO] [1685549021.968795761] [moveit_ros.fix_workspace_bounds]: Param 'ompl.default_workspace_bounds' was not set. Using default value: 10.000000
[move_group-3] [INFO] [1685549021.968810061] [moveit_ros.fix_start_state_bounds]: Param 'ompl.start_state_max_bounds_error' was set to 0.100000
[move_group-3] [INFO] [1685549021.968814261] [moveit_ros.fix_start_state_bounds]: Param 'ompl.start_state_max_dt' was not set. Using default value: 0.500000
[move_group-3] [INFO] [1685549021.968823561] [moveit_ros.fix_start_state_collision]: Param 'ompl.start_state_max_dt' was not set. Using default value: 0.500000
[move_group-3] [INFO] [1685549021.968827461] [moveit_ros.fix_start_state_collision]: Param 'ompl.jiggle_fraction' was not set. Using default value: 0.020000
[move_group-3] [INFO] [1685549021.968831861] [moveit_ros.fix_start_state_collision]: Param 'ompl.max_sampling_attempts' was not set. Using default value: 100
[move_group-3] [INFO] [1685549021.968840961] [moveit.ros_planning.planning_pipeline]: Using planning request adapter 'Add Time Optimal Parameterization'
[move_group-3] [INFO] [1685549021.968843961] [moveit.ros_planning.planning_pipeline]: Using planning request adapter 'Resolve constraint frames to robot links'
[move_group-3] [INFO] [1685549021.968846661] [moveit.ros_planning.planning_pipeline]: Using planning request adapter 'Fix Workspace Bounds'
[move_group-3] [INFO] [1685549021.968849061] [moveit.ros_planning.planning_pipeline]: Using planning request adapter 'Fix Start State Bounds'
[move_group-3] [INFO] [1685549021.968851361] [moveit.ros_planning.planning_pipeline]: Using planning request adapter 'Fix Start State In Collision'
[move_group-3] [INFO] [1685549021.968870061] [moveit.ros_planning.planning_pipeline]: Using planning request adapter 'Fix Start State Path Constraints'
[move_group-3] [INFO] [1685549021.970424561] [moveit.ros_planning_interface.moveit_cpp]: Loading planning pipeline 'chomp'
[move_group-3] [INFO] [1685549021.971178561] [moveit.ros_planning.planning_pipeline]: Multiple planning plugins available. You should specify the '~planning_plugin' parameter. Using 'ompl_interface/OMPLPlanner' for now.
[move_group-3] [INFO] [1685549021.971303161] [moveit.ros_planning.planning_pipeline]: Using planning interface 'OMPL'
[move_group-3] [INFO] [1685549021.972436761] [moveit.ros_planning_interface.moveit_cpp]: Loading planning pipeline 'pilz_industrial_motion_planner'
[move_group-3] [INFO] [1685549021.974974061] [moveit.pilz_industrial_motion_planner.joint_limits_aggregator]: Reading limits from namespace robot_description_planning
[move_group-3] [INFO] [1685549021.985698861] [moveit.pilz_industrial_motion_planner]: Available plugins: pilz_industrial_motion_planner/PlanningContextLoaderCIRC pilz_industrial_motion_planner/PlanningContextLoaderLIN pilz_industrial_motion_planner/PlanningContextLoaderPTP
[move_group-3] [INFO] [1685549021.985751361] [moveit.pilz_industrial_motion_planner]: About to load: pilz_industrial_motion_planner/PlanningContextLoaderCIRC
[move_group-3] [INFO] [1685549021.986958761] [moveit.pilz_industrial_motion_planner]: Registered Algorithm [CIRC]
[move_group-3] [INFO] [1685549021.986990961] [moveit.pilz_industrial_motion_planner]: About to load: pilz_industrial_motion_planner/PlanningContextLoaderLIN
[move_group-3] [INFO] [1685549021.987695061] [moveit.pilz_industrial_motion_planner]: Registered Algorithm [LIN]
[move_group-3] [INFO] [1685549021.987727361] [moveit.pilz_industrial_motion_planner]: About to load: pilz_industrial_motion_planner/PlanningContextLoaderPTP
[move_group-3] [INFO] [1685549021.988397661] [moveit.pilz_industrial_motion_planner]: Registered Algorithm [PTP]
[move_group-3] [INFO] [1685549021.988430361] [moveit.ros_planning.planning_pipeline]: Using planning interface 'Pilz Industrial Motion Planner'
[move_group-3] [INFO] [1685549022.044199962] [moveit.plugins.moveit_simple_controller_manager]: Added FollowJointTrajectory controller for hexa_group_controller
[move_group-3] [INFO] [1685549022.044348862] [moveit.plugins.moveit_simple_controller_manager]: Returned 1 controllers in list
[move_group-3] [INFO] [1685549022.044368962] [moveit.plugins.moveit_simple_controller_manager]: Returned 1 controllers in list
[move_group-3] [INFO] [1685549022.044593362] [moveit_ros.trajectory_execution_manager]: Trajectory execution is managing controllers
[move_group-3] [INFO] [1685549022.044608362] [move_group.move_group]: MoveGroup debug mode is ON
[move_group-3] [INFO] [1685549022.062510262] [move_group.move_group]:
[move_group-3]
[move_group-3] ********************************************************
[move_group-3] * MoveGroup using:
[move_group-3] *     - ApplyPlanningSceneService
[move_group-3] *     - ClearOctomapService
[move_group-3] *     - CartesianPathService
[move_group-3] *     - ExecuteTrajectoryAction
[move_group-3] *     - GetPlanningSceneService
[move_group-3] *     - KinematicsService
[move_group-3] *     - MoveAction
[move_group-3] *     - MotionPlanService
[move_group-3] *     - QueryPlannersService
[move_group-3] *     - StateValidationService
[move_group-3] ********************************************************
[move_group-3]
[move_group-3] [INFO] [1685549022.062578162] [moveit_move_group_capabilities_base.move_group_context]: MoveGroup context using planning plugin ompl_interface/OMPLPlanner
[move_group-3] [INFO] [1685549022.062591762] [moveit_move_group_capabilities_base.move_group_context]: MoveGroup context initialization complete
[move_group-3] Loading 'move_group/ApplyPlanningSceneService'...
[move_group-3] Loading 'move_group/ClearOctomapService'...
[move_group-3] Loading 'move_group/MoveGroupCartesianPathService'...
[move_group-3] Loading 'move_group/MoveGroupExecuteTrajectoryAction'...
[move_group-3] Loading 'move_group/MoveGroupGetPlanningSceneService'...
[move_group-3] Loading 'move_group/MoveGroupKinematicsService'...
[move_group-3] Loading 'move_group/MoveGroupMoveAction'...
[move_group-3] Loading 'move_group/MoveGroupPlanService'...
[move_group-3] Loading 'move_group/MoveGroupQueryPlannersService'...
[move_group-3] Loading 'move_group/MoveGroupStateValidationService'...
[move_group-3]
[move_group-3] You can start planning now!
[move_group-3]
[rviz2-4] [INFO] [1685549023.470930477] [rviz2]: Stereo is NOT SUPPORTED
[rviz2-4] [INFO] [1685549023.471053777] [rviz2]: OpenGl version: 4.1 (GLSL 4.1)
[rviz2-4] [INFO] [1685549023.501633577] [rviz2]: Stereo is NOT SUPPORTED
[rviz2-4] Warning: class_loader.impl: SEVERE WARNING!!! A namespace collision has occurred with plugin factory for class rviz_default_plugins::displays::InteractiveMarkerDisplay. New factory will OVERWRITE existing one. This situation occurs when libraries containing plugins are directly linked against an executable (the one running right now generating this message). Please separate plugins out into their own library or just don't link against the library and use either class_loader::ClassLoader/MultiLibraryClassLoader to open.
[rviz2-4]          at line 253 in /opt/ros/humble/include/class_loader/class_loader/class_loader_core.hpp
[spawner-6] [INFO] [1685549023.684063179] [spawner_hexa_group_controller]: Waiting for '/controller_manager' node to exist
[spawner-7] [INFO] [1685549023.697945680] [spawner_joint_state_broadcaster]: Waiting for '/controller_manager' node to exist
[spawner-6] [INFO] [1685549025.692602801] [spawner_hexa_group_controller]: Waiting for '/controller_manager' node to exist
[spawner-7] [INFO] [1685549025.706280201] [spawner_joint_state_broadcaster]: Waiting for '/controller_manager' node to exist
[rviz2-4] [ERROR] [1685549026.603712111] [moveit_ros_visualization.motion_planning_frame]: Action server: /recognize_objects not available
[rviz2-4] [INFO] [1685549026.626118711] [moveit_ros_visualization.motion_planning_frame]: MoveGroup namespace changed: / -> . Reloading params.
[rviz2-4] [INFO] [1685549027.162018417] [moveit_rdf_loader.rdf_loader]: Loaded robot model in 0.419107 seconds
[rviz2-4] [INFO] [1685549027.162081317] [moveit_robot_model.robot_model]: Loading robot model 'hexa_bot'...
[rviz2-4] [WARN] [1685549027.265816918] [kdl_parser]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
[rviz2-4] [INFO] [1685549027.569002321] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Starting planning scene monitor
[rviz2-4] [INFO] [1685549027.570028021] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Listening to '/monitored_planning_scene'
[spawner-6] [INFO] [1685549027.701593522] [spawner_hexa_group_controller]: Waiting for '/controller_manager' node to exist
[spawner-7] [INFO] [1685549027.715603622] [spawner_joint_state_broadcaster]: Waiting for '/controller_manager' node to exist
[rviz2-4] [INFO] [1685549028.015328126] [interactive_marker_display_94082560574336]: Connected on namespace: /rviz_moveit_motion_planning_display/robot_interaction_interactive_marker_topic
[rviz2-4] [WARN] [1685549028.028109026] [kdl_parser]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
[rviz2-4] [INFO] [1685549028.037560326] [moveit_ros_visualization.motion_planning_frame]: group hexa_group
[rviz2-4] [INFO] [1685549028.037607926] [moveit_ros_visualization.motion_planning_frame]: Constructing new MoveGroup connection for group 'hexa_group' in namespace ''
[rviz2-4] [INFO] [1685549028.055481726] [move_group_interface]: Ready to take commands for planning group hexa_group.
[rviz2-4] [INFO] [1685549028.056432626] [moveit_ros_visualization.motion_planning_frame]: group hexa_group
[rviz2-4] [INFO] [1685549028.078346227] [interactive_marker_display_94082560574336]: Sending request for interactive markers
[rviz2-4] [INFO] [1685549028.110504727] [interactive_marker_display_94082560574336]: Service response received for initialization
[spawner-6] [INFO] [1685549029.709702566] [spawner_hexa_group_controller]: Waiting for '/controller_manager' node to exist
[spawner-7] [INFO] [1685549029.724280667] [spawner_joint_state_broadcaster]: Waiting for '/controller_manager' node to exist
[spawner-6] [ERROR] [1685549031.717070515] [spawner_hexa_group_controller]: Controller manager not available
[spawner-7] [ERROR] [1685549031.732596315] [spawner_joint_state_broadcaster]: Controller manager not available
[ERROR] [spawner-6]: process has died [pid 11869, exit code 1, cmd '/opt/ros/humble/lib/controller_manager/spawner hexa_group_controller --ros-args'].
[ERROR] [spawner-7]: process has died [pid 11871, exit code 1, cmd '/opt/ros/humble/lib/controller_manager/spawner joint_state_broadcaster --ros-args'].
[move_group-3] [INFO] [1685550203.588396713] [moveit_move_group_default_capabilities.move_action_capability]: Received request
[rviz2-4] [INFO] [1685550203.588840613] [move_group_interface]: Plan and Execute request accepted
[move_group-3] [INFO] [1685550203.589105613] [moveit_move_group_default_capabilities.move_action_capability]: executing..
[move_group-3] [INFO] [1685550204.589486014] [moveit_ros.current_state_monitor]: Didn't received robot state (joint angles) with recent timestamp within 1.000000 seconds.
[move_group-3] Check clock synchronization if your are running ROS across multiple machines!
[move_group-3] [WARN] [1685550204.589572414] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Failed to fetch current robot state.
[move_group-3] [INFO] [1685550204.589851214] [moveit_move_group_default_capabilities.move_action_capability]: Combined planning and execution request received for MoveGroup action. Forwarding to planning and execution pipeline.
[move_group-3] [INFO] [1685550204.590623014] [moveit_ros.plan_execution]: Planning attempt 1 of at most 1
[move_group-3] [INFO] [1685550204.590696614] [moveit_move_group_capabilities_base.move_group_capability]: Using planning pipeline 'ompl'
[move_group-3] [INFO] [1685550204.594164414] [moveit.ompl_planning.model_based_planning_context]: Planner configuration 'hexa_group' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
[move_group-3] [WARN] [1685550204.803294815] [moveit_trajectory_processing.time_optimal_trajectory_generation]: Joint velocity limits are not defined. Using the default 1 rad/s. You can define velocity limits in the URDF or joint_limits.yaml.
[move_group-3] [WARN] [1685550204.803342315] [moveit_trajectory_processing.time_optimal_trajectory_generation]: Joint acceleration limits are not defined. Using the default 1 rad/s^2. You can define acceleration limits in the URDF or joint_limits.yaml.
[move_group-3] [INFO] [1685550204.807110715] [moveit.plugins.moveit_simple_controller_manager]: Returned 1 controllers in list
[move_group-3] [INFO] [1685550204.807181715] [moveit.plugins.moveit_simple_controller_manager]: Returned 1 controllers in list
[move_group-3] [INFO] [1685550204.807390815] [moveit_ros.trajectory_execution_manager]: Validating trajectory with allowed_start_tolerance 0.01
[move_group-3] [INFO] [1685550205.807536415] [moveit_ros.current_state_monitor]: Didn't received robot state (joint angles) with recent timestamp within 1.000000 seconds.
[move_group-3] Check clock synchronization if your are running ROS across multiple machines!
[move_group-3] [WARN] [1685550205.807644115] [moveit_ros.trajectory_execution_manager]: Failed to validate trajectory: couldn't receive full current joint state within 1s
[move_group-3] [INFO] [1685550205.807974815] [moveit_move_group_default_capabilities.move_action_capability]: Solution found but controller failed during execution
[rviz2-4] [INFO] [1685550205.809449015] [move_group_interface]: Plan and Execute request aborted
[rviz2-4] [ERROR] [1685550205.889689215] [move_group_interface]: MoveGroupInterface::move() failed or timeout reached
[rviz2-4] [INFO] [1685550214.709188686] [move_group_interface]: MoveGroup action client/server ready
[move_group-3] [INFO] [1685550214.709703786] [moveit_move_group_default_capabilities.move_action_capability]: Received request
[move_group-3] [INFO] [1685550214.709881186] [moveit_move_group_default_capabilities.move_action_capability]: executing..
[rviz2-4] [INFO] [1685550214.709934386] [move_group_interface]: Planning request accepted
[move_group-3] [INFO] [1685550215.710077184] [moveit_ros.current_state_monitor]: Didn't received robot state (joint angles) with recent timestamp within 1.000000 seconds.
[move_group-3] Check clock synchronization if your are running ROS across multiple machines!
[move_group-3] [WARN] [1685550215.710154784] [moveit_ros.planning_scene_monitor.planning_scene_monitor]: Failed to fetch current robot state.
[move_group-3] [INFO] [1685550215.710255684] [moveit_move_group_default_capabilities.move_action_capability]: Planning request received for MoveGroup action. Forwarding to planning pipeline.
[move_group-3] [INFO] [1685550215.710386384] [moveit_move_group_capabilities_base.move_group_capability]: Using planning pipeline 'ompl'
[move_group-3] [INFO] [1685550215.710926284] [moveit.ompl_planning.model_based_planning_context]: Planner configuration 'hexa_group' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
[move_group-3] [INFO] [1685550215.919333384] [moveit_move_group_default_capabilities.move_action_capability]: Motion plan was computed successfully.
[rviz2-4] [INFO] [1685550215.919845184] [move_group_interface]: Planning request complete!
[rviz2-4] [INFO] [1685550216.010869384] [move_group_interface]: time taken to generate plan: 0.0359888 seconds
[move_group-3] [INFO] [1685550217.064185082] [moveit_move_group_default_capabilities.execute_trajectory_action_capability]: Received goal request
[move_group-3] [INFO] [1685550217.064419882] [moveit_move_group_default_capabilities.execute_trajectory_action_capability]: Execution request received
[move_group-3] [INFO] [1685550217.064451582] [moveit.plugins.moveit_simple_controller_manager]: Returned 1 controllers in list
[move_group-3] [INFO] [1685550217.064463882] [moveit.plugins.moveit_simple_controller_manager]: Returned 1 controllers in list
[move_group-3] [INFO] [1685550217.064563082] [moveit_ros.trajectory_execution_manager]: Validating trajectory with allowed_start_tolerance 0.01
[rviz2-4] [INFO] [1685550217.064417482] [move_group_interface]: Execute request accepted
[move_group-3] [INFO] [1685550218.064699880] [moveit_ros.current_state_monitor]: Didn't received robot state (joint angles) with recent timestamp within 1.000000 seconds.
[move_group-3] Check clock synchronization if your are running ROS across multiple machines!
[move_group-3] [WARN] [1685550218.064772280] [moveit_ros.trajectory_execution_manager]: Failed to validate trajectory: couldn't receive full current joint state within 1s
[move_group-3] [INFO] [1685550218.064894380] [moveit_move_group_default_capabilities.execute_trajectory_action_capability]: Execution completed: ABORTED
[rviz2-4] [INFO] [1685550218.065488680] [move_group_interface]: Execute request aborted
[rviz2-4] [ERROR] [1685550218.165020080] [move_group_interface]: MoveGroupInterface::execute() failed or timeout reacheds

Originally posted by Roskuttan on ROS Answers with karma: 53 on 2023-06-01
Post score: 2

Original comments
Comment by Ranjit Kathiriya on 2023-06-01:
Hello,
Can you please, post your log and screenshot over here, I think you have enough karma to upload images.
Comment by Roskuttan on 2023-06-01:
I have atttached the log in the drive because i am unable to post the full log here
Comment by Ranjit Kathiriya on 2023-06-01:
I have updated your question, I hope it helps you.
Comment by Roskuttan on 2023-06-01:
ok thank you so much

A:

I have successfully resolved the issue and would like to share the resolution process, which may benefit others who encounter a similar problem. The issue I faced was twofold:
1. Discrepancy in the Naming Convention:
In my hexa_bot.yaml file, the arm controller was referenced as arm_controller. However, in the MoveIt configuration files, ros2_controllers.yaml and moveit_controllers.yaml, the arm controller was named arm_controller_controller. This inconsistency in naming caused the system to be unable to correctly identify and match the arm controller across these files, leading to the failure in the execution of the motion plan.

2. Incorrect Node Launch Sequence:
There was an issue with the controller manager dying, which was due to the incorrect sequence in which the launch nodes were initiated. The gazebo launch node should be started first, followed by the MoveIt demo launch node. Failing to do so resulted in the controller manager not starting properly.
It's important to note that the issue was not related to the gazebo_ros2_control tag, which was initially suspected to be the cause.
By correcting the naming discrepancy and ensuring consistency in referencing the arm controller across all the files (I changed arm_controller_controller to arm_controller in the ros2_controllers.yaml and moveit_controllers.yaml files), I was able to resolve the first issue. Ensuring the correct sequence of node launches resolved the second issue. Now, with the correct and consistent naming and proper node launch sequence, the system can accurately identify the arm controller, allowing the motion plan to be executed correctly and the ROS2 controller manager to function without any interruptions.
This experience serves as a reminder of the importance of maintaining consistent naming conventions across different files within a project, especially when these files have interdependencies, and the necessity of following the correct node launch sequence.
I hope this detailed explanation assists others facing similar issues. Consistency is crucial when dealing with complex systems like ROS2.
I'd like to express my sincere gratitude to @danzimmerman for directing me towards the right path. Your input played a crucial role in identifying the root causes and arriving at the solutions. Thank you!

Originally posted by Roskuttan with karma: 53 on 2023-06-08
This answer was ACCEPTED on the original site
Post score: 0


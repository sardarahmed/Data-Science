Q:

kinect camera not detected

I wanted to set up the kinect with ROS. I am running ROS-electric. I installed openni_kinect using sudo apt-get install ros-electric-openni-kinect. I then ran roslaunch openni_launch openni.launch to see if it would launch. Now when I run this command it returns with the everything shown below.

aksat@ubuntu:~/ros_workspace/ros_repos$ roslaunch openni_launch openni.launch
... logging to /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/roslaunch-ubuntu-24440.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://ubuntu:48521/

SUMMARY
========

PARAMETERS
 * /rosdistro
 * /camera/driver/rgb_frame_id
 * /camera/driver/rgb_camera_info_url
 * /camera/depth_registered/rectify_depth/interpolation
 * /camera/driver/depth_frame_id
 * /camera/depth/rectify_depth/interpolation
 * /rosversion
 * /camera/driver/device_id
 * /camera/driver/depth_camera_info_url

NODES
  /camera/depth/
    rectify_depth (nodelet/nodelet)
    metric_rect (nodelet/nodelet)
    metric (nodelet/nodelet)
    disparity (nodelet/nodelet)
    points (nodelet/nodelet)
  /camera/rgb/
    debayer (nodelet/nodelet)
    rectify_mono (nodelet/nodelet)
    rectify_color (nodelet/nodelet)
  /
    camera_nodelet_manager (nodelet/nodelet)
    camera_base_link (tf/static_transform_publisher)
    camera_base_link1 (tf/static_transform_publisher)
    camera_base_link2 (tf/static_transform_publisher)
    camera_base_link3 (tf/static_transform_publisher)
  /camera/
    driver (nodelet/nodelet)
    register_depth_rgb (nodelet/nodelet)
    points_xyzrgb_depth_rgb (nodelet/nodelet)
  /camera/ir/
    rectify_ir (nodelet/nodelet)
  /camera/depth_registered/
    rectify_depth (nodelet/nodelet)
    metric_rect (nodelet/nodelet)
    metric (nodelet/nodelet)
    disparity (nodelet/nodelet)

auto-starting new master
process[master]: started with pid [24454]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to cf0669fa-490d-11e1-b4ab-0026828752b8
process[rosout-1]: started with pid [24467]
started core service [/rosout]
process[camera_nodelet_manager-2]: started with pid [24479]
process[camera/driver-3]: started with pid [24480]
process[camera/rgb/debayer-4]: started with pid [24481]
process[camera/rgb/rectify_mono-5]: started with pid [24482]
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
process[camera/rgb/rectify_color-6]: started with pid [24483]
process[camera/ir/rectify_ir-7]: started with pid [24485]
process[camera/depth/rectify_depth-8]: started with pid [24491]
process[camera/depth/metric_rect-9]: started with pid [24496]
process[camera/depth/metric-10]: started with pid [24498]
process[camera/depth/disparity-11]: started with pid [24508]
process[camera/depth/points-12]: started with pid [24515]
process[camera/register_depth_rgb-13]: started with pid [24520]
process[camera/depth_registered/rectify_depth-14]: started with pid [24522]
process[camera/depth_registered/metric_rect-15]: started with pid [24532]
process[camera/depth_registered/metric-16]: started with pid [24538]
process[camera/depth_registered/disparity-17]: started with pid [24539]
process[camera/points_xyzrgb_depth_rgb-18]: started with pid [24542]
process[camera_base_link-19]: started with pid [24546]
process[camera_base_link1-20]: started with pid [24549]
process[camera_base_link2-21]: started with pid [24559]
process[camera_base_link3-22]: started with pid [24560]
[ERROR] [1327685946.423785481]: Failed to load nodelet [/camera/rgb/rectify_mono] of type [image_proc/rectify]: According to the loaded plugin descriptions the class image_proc/rectify with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_view/disparity image_view/image openni_camera/OpenNINodelet openni_camera/driver pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
[FATAL] [1327685946.425377640]: Service call failed!
[camera/rgb/rectify_mono-5] process has died [pid 24482, exit code 255].
log files: /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/camera-rgb-rectify_mono-5*.log
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[ INFO] [1327685948.744306297]: No devices connected.... waiting for devices to be connected
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[ERROR] [1327685949.849244546]: Failed to load nodelet [/camera/depth_registered/rectify_depth] of type [image_proc/rectify]: According to the loaded plugin descriptions the class image_proc/rectify with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_view/disparity image_view/image openni_camera/OpenNINodelet openni_camera/driver pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
[ERROR] [1327685949.849482732]: Failed to load nodelet [/camera/ir/rectify_ir] of type [image_proc/rectify]: According to the loaded plugin descriptions the class image_proc/rectify with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_view/disparity image_view/image openni_camera/OpenNINodelet openni_camera/driver pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
[ERROR] [1327685949.849677181]: Failed to load nodelet [/camera/rgb/debayer] of type [image_proc/debayer]: According to the loaded plugin descriptions the class image_proc/debayer with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_view/disparity image_view/image openni_camera/OpenNINodelet openni_camera/driver pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
[ERROR] [1327685949.849873087]: Failed to load nodelet [/camera/depth/rectify_depth] of type [image_proc/rectify]: According to the loaded plugin descriptions the class image_proc/rectify with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_view/disparity image_view/image openni_camera/OpenNINodelet openni_camera/driver pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
[FATAL] [1327685949.850351918]: Service call failed!
[FATAL] [1327685949.850990073]: Service call failed!
[FATAL] [1327685949.853094181]: Service call failed!
[FATAL] [1327685949.853464489]: Service call failed!
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[camera/rgb/debayer-4] process has died [pid 24481, exit code 255].
log files: /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/camera-rgb-debayer-4*.log
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[camera/ir/rectify_ir-7] process has died [pid 24485, exit code 255].
log files: /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/camera-ir-rectify_ir-7*.log
[camera/depth/rectify_depth-8] process has died [pid 24491, exit code 255].
log files: /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/camera-depth-rectify_depth-8*.log
[camera/depth_registered/rectify_depth-14] process has died [pid 24522, exit code 255].
log files: /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/camera-depth_registered-rectify_depth-14*.log
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[rospack] opendir error [No such file or directory] while crawling /home/aksat/aksat
[ERROR] [1327685950.506497003]: Failed to load nodelet [/camera/rgb/rectify_color] of type [image_proc/rectify]: According to the loaded plugin descriptions the class image_proc/rectify with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_view/disparity image_view/image openni_camera/OpenNINodelet openni_camera/driver pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
[FATAL] [1327685950.507506957]: Service call failed!
[camera/rgb/rectify_color-6] process has died [pid 24483, exit code 255].
log files: /home/aksat/.ros/log/cf0669fa-490d-11e1-b4ab-0026828752b8/camera-rgb-rectify_color-6*.log
[ INFO] [1327685951.744851947]: No devices connected.... waiting for devices to be connected
[ INFO] [1327685954.745357505]: No devices connected.... waiting for devices to be connected
[ INFO] [1327685957.745839540]: No devices connected.... waiting for devices to be connected
[ INFO] [1327685960.746328466]: No devices connected.... waiting for devices to be connected
[ INFO] [1327685963.746806281]: No devices connected.... waiting for devices to be connected
[ INFO] [1327685966.747305849]: No devices connected.... waiting for devices to be connected
^C[camera_base_link3-22] killing on exit
[camera_base_link2-21] killing on exit
[camera_base_link-19] killing on exit
 [camera_base_link1-20] killing on exit
[camera/points_xyzrgb_depth_rgb-18] killing on exit
[camera/depth_registered/disparity-17] killing on exit
[camera/depth_registered/metric-16] killing on exit
[camera/depth_registered/metric_rect-15] killing on exit
[camera/register_depth_rgb-13] killing on exit
[camera/depth/points-12] killing on exit
[camera/depth/disparity-11] killing on exit
[camera/depth/metric-10] killing on exit
[camera/depth/metric_rect-9] killing on exit
[camera/driver-3] killing on exit
[camera_nodelet_manager-2] killing on exit
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

As you can see there are a number of errors which occur for some reason and I am unsure as to why these occur? They were not there before yet they suddenly turned up after removing redundant lines from my .bashrc. The edited bit of my .bashrc now looks like this:
source /opt/ros/electric/setup.bash
source ~/ros_workspace/setup.sh
source ~/ros_workspace/ros_repos/opencv2_overlay/setup.sh
export ROS_PACKAGE_PATH=~/ros_workspace:$ROS_PACKAGE_PATH
export ROS_PACKAGE_PATH=~/ros_workspace/ros_repos:$ROS_PACKAGE_PATH

export LD_LIBRARY_PATH=/usr/include/opencv
export PKG_CONFIG_PATH=/usr/include/opencv
alias cv="g++ -I/usr/include/opencv -lcv -lcxcore -lcvaux -lhighgui -lm"

The main error than arises when it says [ INFO] [1327684365.007993055]: No devices connected.... waiting for devices to be connected. The kinect is definitely connected. I have tried multiple kinects and in multiple USB ports. I also tried dmesg to check it was connected and it returned:
[ 7638.116188] usb 1-2: new high speed USB device using ehci_hcd and address 52
[ 7638.249939] hub 1-2:1.0: USB hub found
[ 7638.250117] hub 1-2:1.0: 3 ports detected
[ 7639.009053] usb 1-2.2: new full speed USB device using ehci_hcd and address 53
[ 7640.544918] usb 1-2.1: new high speed USB device using ehci_hcd and address 54
[ 7642.080965] usb 1-2.3: new high speed USB device using ehci_hcd and address 55

so its definitely there and lsusb also returns showing that the kinect is connected.
I've also tried sudo apt-get remove ros-electric-openni-kinect and then reinstalling it yet it still amounts to the same thing. I've been trying to get it to work for the last two days but haven't been able to get anywhere!
Does anybody have any ideas? Any help is much appreciated!
Thank You!!

Originally posted by AksatShah on ROS Answers with karma: 59 on 2012-01-27
Post score: 0

A:

I've solved the issue! There were two errors to solve here:

First of all the kinect camera driver had not been set up correctly so the package had to be re-built and that fixed that issue. I'm not sure why it didn't build the first time to be sure.

My ROS workspace had a conflict within it with the image_proc folder in openni. This I believe had been created while trying to create an opencv overlay.

Thank you very much for all the help.

Originally posted by AksatShah with karma: 59 on 2012-02-01
This answer was ACCEPTED on the original site
Post score: 1


Q:

Set velocity limit for Pilz Planner

Hi everyone,
i have an universal robot ur5e and can control it with ros+moveit. I use ompl or chomp for planning.
Now i want to try the Pilz planner, where problems begin. I install the Pilz planner package and copy the pilz_command_planner_planning_pipeline.launch.xml file in my launch directory. I can launch moveit with the pilz_command_pipeline, but while starting the error
Exception while loading move_group capability 'move_group/MoveGroupExecuteService': MultiLibraryClassLoader: Could not create object of class type move_group::MoveGroupExecuteService as no factory exists for it. Make sure that the library exists and was explicitly loaded through MultiLibraryClassLoader::loadLibrary()

appears. But at the end of booting i see:
[ INFO] [1625746415.465549752]: MoveGroup context using planning plugin pilz::CommandPlanner
[ INFO] [1625746415.465605026]: MoveGroup context initialization complete

You can start planning now!

Testing it with RViz, choosing PTP planner i got the error:
[ERROR] [1625746966.020478861]: velocity limit not set for group endeffector
[ERROR] [1625746966.020622564]: Exception caught: 'velocity limit not set for group endeffector'

Can anybody help me? I dont know where i can set the velocity limit. Changing the velocity in RViz doesn't help.
In future i want to use python for control the robot using a script like this. But this doesn't work at all right now.
Thanks

Originally posted by anonymous74883 on ROS Answers with karma: 13 on 2021-07-08
Post score: 1

Original comments
Comment by pitsai on 2021-08-25:
Hello,
Have you solved the problem yet? Because I'm running into the same issue.

A:

I had the same problem a few days ago, I solved it by modifying the joint_limits.yaml file inside of your *_movit_config/config package. Make sure that has_velocity_limits and has_acceleration_limits are true, here is a code snippet.
 joint_limits:
     elbow_joint:
         has_velocity_limits: true
         max_velocity: 3.15
         has_acceleration_limits: true
         max_acceleration: 3

Originally posted by oscardev with karma: 26 on 2021-09-03
This answer was ACCEPTED on the original site
Post score: 0


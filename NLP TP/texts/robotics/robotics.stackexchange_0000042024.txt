Q:

android_core compilation error

I m trying to compile android_core stack.
first I ran the command

android update project --path
./android_gingerbread_mr1 --target
android-13

after this running ./gradelw debug causes the following error
-pre-compile:

-compile:
    [javac] Compiling 40 source files to /home/pragyan/Techiome/android_core/android_honeycomb_mr2/bin/classes
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/layer/CompressedBitmapLayer.java:40: package compressed_visualization_transport_msgs does not exist
    [javac]     SubscriberLayer<compressed_visualization_transport_msgs.CompressedBitmap> implements TfLayer {
    [javac]                                                            ^
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/layer/CompressedBitmapLayer.java:83: package compressed_visualization_transport_msgs does not exist
    [javac]   void update(compressed_visualization_transport_msgs.CompressedBitmap compressedBitmap) {
    [javac]                                                      ^
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/VisualizationView.java:67: cannot find symbol
    [javac] symbol  : constructor FrameTransformTree()
    [javac] location: class org.ros.rosjava_geometry.FrameTransformTree
    [javac]     frameTransformTree = new FrameTransformTree();
    [javac]                          ^
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/VisualizationView.java:126: cannot find symbol
    [javac] symbol  : method setPrefix(java.lang.String)
    [javac] location: class org.ros.rosjava_geometry.FrameTransformTree
    [javac]       frameTransformTree.setPrefix(tfPrefix);
    [javac]                         ^
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/layer/CompressedBitmapLayer.java:70: package compressed_visualization_transport_msgs does not exist
    [javac]     Subscriber<compressed_visualization_transport_msgs.CompressedBitmap> subscriber =
    [javac]                                                       ^
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/layer/CompressedBitmapLayer.java:74: package compressed_visualization_transport_msgs does not exist
    [javac]         .addMessageListener(new MessageListener<compressed_visualization_transport_msgs.CompressedBitmap>() {
    [javac]                                                                                        ^
    [javac] /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/layer/CompressedBitmapLayer.java:77: package compressed_visualization_transport_msgs does not exist
    [javac]               compressed_visualization_transport_msgs.CompressedBitmap compressedBitmap) {
    [javac]                                                      ^
    [javac] Note: /home/pragyan/Techiome/android_core/android_honeycomb_mr2/src/org/ros/android/view/visualization/VisualizationView.java uses or overrides a deprecated API.
    [javac] Note: Recompile with -Xlint:deprecation for details.
    [javac] 7 errors

BUILD FAILED
/home/pragyan/Techiome/android-sdk-linux/tools/ant/build.xml:680: The following error occurred while executing this line:
/home/pragyan/Techiome/android-sdk-linux/tools/ant/build.xml:693: Compile failed; see the compiler error output for details.

Total time: 3 seconds

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':android_honeycomb_mr2:debug'.
> Command 'ant' finished with (non-zero) exit value 1.

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

BUILD FAILED

Any solutions?
Thanks in advance :)

Originally posted by pntripathi9417 on ROS Answers with karma: 66 on 2012-07-06
Post score: 1

A:

I found a post under code.google.com for rosjava and issues.  So far, after copying the modified VisualizationView.java code, everything compiled and seems to work just fine.  It seems that there is an issue in the current android_core.
I hope this helps.
LINK: http://code.google.com/p/rosjava/issues/detail?id=128

Originally posted by orion with karma: 213 on 2012-07-11
This answer was ACCEPTED on the original site
Post score: 0


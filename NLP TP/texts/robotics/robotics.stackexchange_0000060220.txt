Q:

Subscriber to /scan

This the error i'm getting for the code m writting below.
I'm trying to write a subscriber to /scan and a callback function which prints the angle_min on the terminal (ranges[] later). However i guess im making a mistake in the ROS_INFO(....) part.
Please have a look and Please help.
Thank You.
In function ‘void poseMessageReceived(const ConstPtr&)’:
error: ‘const ConstPtr’ has no member named ‘angle_min’
make[2]: *** [beginner_tutorials/CMakeFiles/lms.dir/src/lms.cpp.o] Error 1
make[1]: *** [beginner_tutorials/CMakeFiles/lms.dir/all] Error 2
 #include "ros/ros.h"
    #include "sensor_msgs/LaserScan.h"
    #include "std_msgs/String.h"
    #include "iomanip"
    
    void poseMessageReceived(const sensor_msgs::LaserScan::ConstPtr& scan)
    {
        ROS_INFO("position=: [%f]",scan.angle_min);
    }
    
    int main(int argc,char **argv)
    {
        ros::init(argc,argv,"subscribe_to_scan");
        ros::NodeHandle n;
    
        //Create a subscriber object
        ros::Subscriber sub = n.subscribe("/Scan",1000, poseMessageReceived);
    
        //Let ROS take over
        ros::spin();
        
        return 0;
    }

Originally posted by aniket on ROS Answers with karma: 7 on 2014-06-20
Post score: 0

A:

use scan->angle_min instead of scan.angle_min

Originally posted by bvbdort with karma: 3034 on 2014-06-20
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by aniket on 2014-06-20:
i guess it kind of worked but now it gives me this error
Scanning dependencies of target lms
[ 66%] [ 66%] Built target talker
Built target listener
[100%] Building CXX object beginner_tutorials/CMakeFiles/lms.dir/src/lms.cpp.o
Linking CXX executable lms
[100%] Built target lms
Comment by bvbdort on 2014-06-20:
can you post error clearly.
Comment by aniket on 2014-06-20:
i cant edit my comment. so i have asnwered it. Please look at the second asnwer above. Thanx
Comment by bvbdort on 2014-06-20:
its not showing any error, you can share your CMakeLists file from http://pastebin.com/
Comment by aniket on 2014-06-20:
http://pastebin.com/G12Gxbki
Comment by bvbdort on 2014-06-20:
i assume you are using only lms.cpp and not talker.cpp,listener.cpp. ....remove add_executable(talker src/talker.cpp)  and add_executable(listener src/listener.cpp)  and build use this CMake file http://pastebin.com/w8nfMk0E
Comment by aniket on 2014-06-20:
http://pastebin.com/5NmrBvFV
It shows no error. But i still cant find the executable. And when i try to run rosrun beginner_tutorials lms, it gives me this error   ====>>> [rosrun] Couldn't find executable named lms below /home/melab/catkin_ws/src/beginner_tutorials
Comment by bvbdort on 2014-06-20:
do source devel/setup.bash in your workspace
Comment by aniket on 2014-06-20:
did that..
Comment by bvbdort on 2014-06-20:
Create workspace again and build the code.hope it works.
Comment by tfoote on 2014-06-22:
This answer answered your initial question. If you have another question please ask it as a new question and reference this one if it's a follow up.


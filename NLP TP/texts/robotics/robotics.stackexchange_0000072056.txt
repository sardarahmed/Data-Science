Q:

Display CameraInfo/Image message with frame_id != fixed frame

Hi guys,
I've tried to display multiple CameraInfo/Image messages within rviz. I have tf_broadcasters, publishing the camera transformations with about 50 Hz.
My CameraInfo/Image messages have different frame_id's and I want to visualize them with rviz' default plugin. However, a camera image only shows up if the global fixed frame is equal to the image frame_id. Specifically, the warning within the plugin is :

No CameraInfo received on [/sensor/camera/st_front_right_rect/camera_info].  Topic may not exist.
No Image received

At first, I thought this could happen because of tf, but this seems to be fine.
My tf tree, visualized via view_frames  looks fine (one root, with several leaves). In particular, doing a rosrun tf tf_monitor camera_rig_calibration st_front_left_rect gives me
RESULTS: for camera_rig_calibration to st_front_left_rect
Chain is: camera_rig_calibration -> st_front_left_rect
Net delay     avg = 0.0161706: max = 0.223564

Frames:
Frame: st_front_left_rect published by unknown_publisher Average Delay: 0.00131894 Max Delay: 0.030248

Doing a rostopic echo /sensor/camera/st_front_left_rect/image_rect/header gives me for the Image/header:
seq: 1077
stamp: 
  secs: 18980
  nsecs: 802162648
frame_id: st_front_left_rect

and rostopic echo /sensor/camera/st_front_left_rect/cameraInfo/header for the CameraInfo/Header:
seq: 1077
stamp: 
  secs: 18980
  nsecs: 802162456
frame_id: st_front_left_rect

However, I cannot visualize the image for fixed frame camera_rig_calibration.
Any ideas, how I could further debug? Thanks in advance for any help provided!
What could be other reasons for the CameraInfo/Image not showing up? I can provide further code if desired.
Regards,
Sascha

Originally posted by sascha on ROS Answers with karma: 16 on 2016-02-15
Post score: 0

A:

I solved my problem using the tf2_ros::StaticTransformPublisher for publishing the transformation graph.
I guess my problem was that transfomations and cameras were published in two different processes and thus had slightly different stamps.

Originally posted by sascha with karma: 16 on 2016-02-20
This answer was ACCEPTED on the original site
Post score: 0


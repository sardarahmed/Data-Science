Q:

Benchmarking MoveIt: unable to connect to database

Hello!
I'm trying to benchmark the different OMPL algorithms by using the official tutorial, however I cannot connect to the database.
As I am launching the panda arm with the db turned on through this command:
roslaunch panda_moveit_config demo.launch db:=true
I get the following error:
[ERROR] [1642350646.192738964]: Unable to connect to the database at 'localhost:33829'. If you just created the database, it could take a while for initial setup.
I've seen a solution posted in this thread, however that was for melodic while I'm on Noetic. As far as I've seen, there is no mongodb_store for Noetic, hence this solution didn't work for me.
I have installed ros mongodb via this command:
sudo apt-get install ros-noetic-warehouse-ros-mongo
Does anyone know how to solve this issue? Could it be that I'm missing some files or maybe they need additional setup?

Originally posted by Zero1d on ROS Answers with karma: 15 on 2022-01-16
Post score: 1

Original comments
Comment by osilva on 2022-01-19:
Have you reviewed this tutorial  ?
Comment by Zero1d on 2022-01-22:
Yes I have. I installed ros_mongo for ros noetic and used the default suggested host and port. The error persists.
Comment by osilva on 2022-01-22:
Please take a look at this tread: https://github.com/ros-planning/moveit/issues/123#issuecomment-797582356
sudo apt install mongodb-server-core
sudo apt install ros-noetic-warehouse-ros
# Not sure if the command below is needed...
sudo apt install ros-noetic-warehouse-ros-mongo

Plus there is more things to try that may help.
Let me know if it works to add as an answer.
Comment by Zero1d on 2022-01-23:
Thank you osilva, your solution allowed me to connect to the database!
I'm new to the forums, so can you tell me if it's I that have to add the solution as the one that worked (and if it's so then how) or if it's something that you do yourself.
Comment by osilva on 2022-01-23:
Hi @Zero1d, the idea is to document the solution in the form of an answer. You may answer your own questions as well. To accept the answer pls check on the check mark so others know it worked for you. And you may also vote the question up to give karma to the answerer.

A:

For the following error:
[ERROR] [1642350646.192738964]: Unable to connect to the database at 'localhost:33829'. If you just created the database, it could take a while for initial setup.

Likely cause is missing dependencies. Install the following:
sudo apt install mongodb-server-core
sudo apt install ros-noetic-warehouse-ros
# Not sure if the command below is needed...
sudo apt install ros-noetic-warehouse-ros-mongo

To verify mongod is working:
mongod -v

If the following error appears:
[ERROR] [1615567759.671633]: Mongo process exited with error code 100

That is because you have forgotten to kill your roslaunch panda_moveit_config demo.launch db:=true
The suggested solution comes from this thread: https://github.com/ros-planning/moveit/issues/123#issuecomment-797582356

Originally posted by osilva with karma: 1650 on 2022-01-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by 130s on 2022-09-07:
FYI, the need for manually installing mongodb-server-core is explained in https://github.com/ros-planning/warehouse_ros_mongo/issues/31


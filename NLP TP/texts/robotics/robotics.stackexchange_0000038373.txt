Q:

Navigation Stack and Stage Questions

I'm working on using the navigation stack with a simulated robot in stage.  I have a used the sample move_base_fake_localization_5cm.launch and have no problems with it.  However, I'm trying to work with my own simulation.  I have a few problems, and I don't know if they are related or separate.

When I run my launch file, everything launches, but I get a warning over and over.  The warning is: The origin for the sensor at (3.00, 6.40) is out of map bounds.  So, the costmap cannot raytrace for it.
When I launch rviz, nothing lines up right.  The robot is not within the map.  The robot is also at a 90 degree angle from what it shows in stage.

Stage shows everything correctly.  Some areas of the map in stage are valid and others are not.  It seems to me that the coordinate system that I see in stage and the coordinate system for the costmap are offset.  Any suggestions on where to look to fix this?

Originally posted by Turak on ROS Answers with karma: 16 on 2012-03-01
Post score: 0

A:

I got this to work, so I thought I'd post what the problem was in case someone else stumbles across the same issue in the future.  I needed to change the position of my stage simulation floorplan so that one map corner was in the top left section of the coordinate plan (-x, y).  This lined the map in stage up with the costmap, getting rid of the errors.

Originally posted by Turak with karma: 16 on 2012-03-01
This answer was ACCEPTED on the original site
Post score: 0


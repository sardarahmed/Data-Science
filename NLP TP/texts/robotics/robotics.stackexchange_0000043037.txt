Q:

How to solve 'ERROR: toplevel: Undefined procedure: planvis_create/1 (DWIM could not correct goal)'?

I followed Knowrob PlanVis.
I run the following command successfully.
  rosrun rosprolog rosprolog mod_vis
  register_ros_package(knowrob_actions).
  owl_parse('/opt/ros/electric/stacks/knowrob/knowrob_actions/owl/serve_drink.owl', false, false, true).
  

And I run planvis_create got the error:
  ?- planvis_create(Pv).
  ERROR: toplevel: Undefined procedure: planvis_create/1 (DWIM could not correct goal)
  ?-  

How to solve it?
Thank you~

  sam@sam:~$ apt-cache policy ros-electric-knowrob 
  ros-electric-knowrob:
    Installed: 0.2.1-s1339740007~maverick
    Candidate: 0.2.1-s1339740007~maverick
    Version table:
   *** 0.2.1-s1339740007~maverick 0
          500 http://packages.ros.org/ros/ubuntu/ maverick/main amd64 Packages
          100 /var/lib/dpkg/status
  sam@sam:~$  

After I reuse svn co to checkout, rosmake success!
But when I run planvis_create, it shows nothing but empty window with black background.
  ?- 
  |      register_ros_package(knowrob_actions).
  true.
  
  ?- owl_parse('/opt/ros/electric/stacks/knowrob/knowrob_actions/owl/serve_drink.owl', false, false, true).
  % Parsed "serve_drink.owl" in 0.02 sec; 465 triples
  % Parsed "roboearth.owl" in 0.01 sec; 151 triples
  % Parsed "knowrob.owl" in 0.11 sec; 3,763 triples
  % Parsed "srdl2.owl" in 0.00 sec; 4 triples
  true.
  
  ?- planvis_create(Pv).
  Pv = @'J#00000140410873114712'.
  
  ?-                   

How to fix it?
Thank you~

Originally posted by sam on ROS Answers with karma: 2570 on 2012-08-08
Post score: 0

A:

Which version of KnowRob do you use? Maybe the electric debian packages don't have the plan visualization yet, it's a rather new feature. If you use the KnowRob installation from source, this should work fine.
Edit: You seem to use the .deb packages of KnowRob. In the Electric release of KnowRob (version 0.2.1), planvis was not contained yet. To use it, you need to check out KnowRob from SVN and compile KnowRob yourself. The instructions can be found on the [[knowrob]] wiki page, the SVN URL is the following:
svn co http://code.in.tum.de/pubsvn/knowrob/tags/latest knowrob
Moritz

Originally posted by moritz with karma: 2673 on 2012-08-08
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by sam on 2012-08-08:
I have edited my original post. Is that suitable for plan visualization? Thank you~
Comment by sam on 2012-08-08:
When I use svn and rosmake, it shows couldn't find knowrob_cad_parser package. Where is that package? I can't find at ros.org. Thank you~
Comment by moritz on 2012-08-09:
That was my fault, I accidentally did not copy that package to the release branch. Please do an svn update in KnowRob and try again. Sorry for that!
Comment by sam on 2012-08-09:
I have edited my original post. Rosmake is passed, but the graph window show nothing. How to fix it? Thank you~
Comment by moritz on 2012-08-09:
What do you expect it to show? You have successfully created a canvas to which you can send actions for visualization using planvis_load, as described in the documentation.
Comment by sam on 2012-08-09:
Oh, I see, sorry I found that I haven't finish the tutorials...^^"
Comment by sam on 2012-08-09:
I run 'planvis_highlight('http://ias.cs.tum.edu/kb/knowrob.owl#ReachToApproachPose',$Pv).'  Why I can't see the hightlight similar with the website? ( I can show the ReachToApproachPose on canvas) Thank you~
Comment by moritz on 2012-08-09:
Are you sure 'http://ias.cs.tum.edu/kb/knowrob.owl#ReachToApproachPose' exists? In /opt/ros/electric/stacks/knowrob/knowrob_actions/owl/serve_drink.owl, the namespace is http://www.roboearth.org/kb/serve_drink.owl#


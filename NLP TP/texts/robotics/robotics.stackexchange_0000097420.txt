Q:

Send a 2D array through topics in ROS2

What is a proper way of sending 2D arrays through topics? I want to send small ones (4x6 for example) and so far I created an array msg (float64[]) and then use the .reshape function in order to send it as an unidimensional array. However, I do not know if there is a better way.
Thanks in advance for your help.

Originally posted by jeferrandiz on ROS Answers with karma: 27 on 2020-10-27
Post score: 0

A:

Yep I think your approach is good enough. You define an one dimensional array in msg and after you receive the msg in your callback you restructure this as a 2D array.
One thing I can recommend though is that you add 2 additional fields such as width and height to your msg description, and when you recive your msg you can know the correct dimensions by receiving width and height
A good use case will be to check how sensor_msgs::Image do this by something similar;

Originally posted by Fetullah Atas with karma: 819 on 2020-10-28
This answer was ACCEPTED on the original site
Post score: 1


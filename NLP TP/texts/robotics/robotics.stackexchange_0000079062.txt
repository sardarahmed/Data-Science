Q:

Limiting LaserScan range for Map Building

Hi all,
I have a turtlebot and RPLidar A2 sensor. I am currently implementing hector slam and I am wondering if it is possible to use the laserScans registered just from the 180degree rotation facing the front of the robot instead of the entire 360deg the RPLidar has to build the map. Is there a way to go about doing that?
Thank you!

Originally posted by Rayner on ROS Answers with karma: 62 on 2017-02-20
Post score: 0

Original comments
Comment by kartikmadhira1 on 2017-02-20:
Try setting the map_update_angle_thresh, laser_min_dist, laser_max_dist params in the hector_slam launch file. Again this is just a logical guess.
Comment by tb12 on 2017-02-23:
Which slam algorithm are you using?
Comment by Rayner on 2017-02-24:
I am using Hector SLAM.
Comment by skydddive on 2018-07-01:
in ros,there is a laserfilter package for it.You can use the laserscanangleboundfilters to do that.

A:

Managed to limit the scan by editing the hector mapping source file,hectorMappingRos.cpp. Set a fixed range for [i] - for the scan range and pointcloud data container from 270-360deg and 0 to 90deg. However, this gave rise to an exponential increase in inaccuracies in map building.

Originally posted by Rayner with karma: 62 on 2017-02-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by MarkyMark2012 on 2017-02-23:
what errors did you get? I would expect the accuracy to decrease - less data points - but Hector SLAM will work with XTION - although from experience it's don't like swift angle changes too much as it looses track (Can be helped by adding IMU data)
Comment by Rayner on 2017-02-23:
I am only using a 2D RPLidar A2 sensor, which might decrease the inaccuracies further. I usually get the common SearchDir angle change too large which then messes up the map building process. It's somewhat similar to what I described in my other question
Comment by Rayner on 2017-02-23:
I am also adding a fixed tilt of 20deg to the sensor (which is why I am limiting my sensor to 180deg), but this also worsens the map building process. Tried implementing this but that itself doesn't seem to be working properly
Comment by MarkyMark2012 on 2017-02-23:
Yep you will get "SearchDir angle change too large" if the robot rotates too swiftly and there are not enough data points. My 2D RPLidar A2 works fine, but I haven't restricted it
Comment by Rayner on 2017-02-23:
Yup, it works best with no restrictions. Thanks for your help Mark!
Comment by burf2000 on 2017-02-25:
I wondered what that error message meant


Q:

What is the correct tf configuartion for RGBDSLAM?

Hi,
I want to use RGBDSLAM with an initial ground_truth, to map the trajectory to my cordinate system.
Therefore I publish a tf from map to ground_truth_frame and set the parameter config/ground_truth_frame_name to ground_truth_frame.
But I still get the following Warning:
"openni_camera" passed to lookupTransform argument source_frame does not exist.  - Using Identity for Ground Truth (This message is throttled to 1 per 5 seconds)
How can I set the pose for my initial Node?
edit: I use some kind of fake Camera to publish the Images from files, so there is actually noch openNI running.open
edit: As I can see from the openni_listener.cpp I need a tf from the bas_frame to some kind of depth_frame(I have no clue what this is) and also I need a tf from ground_truth_frame to openni_camera.
I dont know the meaning of these tfs...could someone please help me on this?

Originally posted by alubitz on ROS Answers with karma: 1 on 2016-07-18
Post score: 0

A:

New answer since I think I understood your problem now.
My suggestion (July 19) with the static transform publisher from /newmap to /map helps when you use the /tf transformations online. But you seem to use the saved trajectory. To have the trajectory affected you would need to do it as follows.
Use a static transform publisher from yourbase to yoursensorframe set to your known static offset (you call it ground truth). You can choose yourbase as you wish but yoursensorframe needs to be set to the same as the frame_id set in the rgbd image (I'd guess of the color image, but maybe depth).
Then set rgbdslam's parameter base_frame_name to yourbase and fixed_frame_name to map (or whatever else).
Then rgbdslam should make the first position of yourbase (i.e. the inverse offset as seen from the camera) to the position of map.
I hope this works. If not, the relevant code is in the trajectory saving method

Originally posted by Felix Endres with karma: 6468 on 2016-08-09
This answer was ACCEPTED on the original site
Post score: 0


Q:

CvBridge: depth registration for depth and rgb opencv images and convert to ros image msg

What I want to do basically is publishing depth_registred image on topic.
I already have opencv depth and rgb images and the transformation between them.
I wonder should I finish depth registration first and then use CvBridge to convert it to ros image msg or convert depth and rgb images to two ros image msgs and finish depth registration?
I have tried the first way but I am stuck at the step of converting to ros image msg since I can't find specific encoding for RGBD image.
Thanks in advance for any suggestion.

Originally posted by Oh233 on ROS Answers with karma: 55 on 2018-01-17
Post score: 0

A:

All the RGB-D cameras I've worked with in ROS publish their RGB and depth (registered) on different image topics. There is no RGB-D type as far as I know,  it would be messy anyway because the depth channel is usually a positive floating point channel (in meters) and the RGB channels are 8 bit intensities. You could maybe get away with a 4 channel float image but it would not be the most bandwidth efficient.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2018-01-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Oh233 on 2018-01-18:
But when launching Kinect2 on ROS by freenect_camera package, it does publish depth_registered image on topic. Hence I wonder how does it get depth_registered image.
Comment by Oh233 on 2018-01-18:
Sorry, it is my bad. I misunderstood the meaning of depth_registered image. I thought it is RGBD image. Thanks for your help.


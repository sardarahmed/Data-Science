Q:

how does octomap realize the height of different place?

Hi Everyone,
I'm using rgbdslam to generate a 3D map and send it to octomap for further processing. But now I found a problem I cannot solve: I'm generating the map of an office but according to octomap, it seems to determine to make my room very declined, As seen from the image I attach, if the same color represents the same height. I have no clue how it happens. Can anyone have any ideas? Thanks a lot !
Chong

Originally posted by Chong on ROS Answers with karma: 76 on 2012-08-19
Post score: 0

Original comments
Comment by AHornung on 2012-08-19:
Please add the proper tags to your question next time, so it can be found and answered.

A:

octomap_server which you used for mapping does not reason about height or inclination in any way of the incoming data. It will just use a tf lookup from your sensor's tf frame to the map frame in order to align (register) the scan in the world frame.
This information has to be provided by the user, in your case it's coming from RGBD-Slam. Already there, your data must be tilted. I would assume that it will be better if your camera is aligned horizontally for most images, particularly the first. Adding an IMU and integrating it will completely solve this problem.

Originally posted by AHornung with karma: 5904 on 2012-08-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Chong on 2012-09-09:
thanks!!! would you please tell me how to add an IMU?
Comment by AHornung on 2012-09-13:
Not in a straightforward way. You would need to extend the code of RGBD-Slam to use roll and pitch from your IMU data.


Q:

Use leddar sensor with Local_map package

Hi everyone,
I tried to run the local_map package to get a occupation grid from the laser scan sensor (Leddar) but when i tried to run the package it doesn't construct the map... I tried the same package with the Laser msg from Kinect and it work very well.
Do i need to do some changes on the message published by the Leddar package? Does anyone were able to use Leddar to map the local environment?
Thanks

Originally posted by jmrrosa on ROS Answers with karma: 16 on 2016-09-22
Post score: 0

Original comments
Comment by Airuno2L on 2016-09-23:
We'll need more information to be able to help. The leddar is pretty low resolution to do mapping but I guess it should work with local_map. Are you sure the leddar is outputting data? You can make sure by doing rostopic echo /scan
Comment by jmrrosa on 2016-09-23:
Yes Leddar is outputting data. I solve the question and i post the response to my own question. I know that leddar have low resolution, but it will basically complete the other sensors to do the mapping. I will use just a local map because i only need to map the environment around the platform.
Comment by jmrrosa on 2016-09-23:
Please correct me if I'm not using the best approach. Thanks!

A:

Hello again!
So i figured out what was the problem. So with the Kinect you dont need to publish the tf but with the leddar you have to declare the tf relationship from the local_map (that i assume to be the parent) and the leddar frame.
In the launch file that you need to create just put the following code (if i have any error please correct me!):
<node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="1 0 0 0 0 0 1 local_map/local_map /leddar 100" />

Once you have done it you will need to change in the //Construct LaserScan message of the file leddar.cpp the time parameter to
msg.header.stamp = ros::Time(0);

And it's done!

Originally posted by jmrrosa with karma: 16 on 2016-09-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Airuno2L on 2016-09-23:
Glad you figured it out. You can accept you answer as the correct one by checking the check mark above to close this out.


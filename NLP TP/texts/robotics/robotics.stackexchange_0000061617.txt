Q:

Openni2 Unable to Subscribe To Two Cameras Simultaneously

I have two Asus Xtion Pros, but it is impossible to subscribe to both depth_registered/points topics at the same time. I have looked into the logs of openni2 launch but there's nothing relevant in there, and there are also no error messages printed in the terminal. Any ideas?
UPDATE: Actually, there is a warning when starting the openni2 driver:
Warning: USB events thread - failed to set priority. This might cause loss of data...

Originally posted by atp on ROS Answers with karma: 529 on 2014-08-07
Post score: 1

A:

Might be able to help troubleshoot if you post the contents of your kernel log (dmesg), as this is most likely a hardware issue. Make sure you capture the bits when you plug in the cameras, and start openni for each of them.
Making the setup work greatly depends on which revision of Xtion you're using (0600 or 0601, check lsusb -l output). Since you're using openni not openni2, I'm assuming you're using the older 0600 Xtions.
Running two cameras simultaneously is definitely possible, but you'll be limited by your hardware. I found that many USB chipsets would not support running multiple Xtions (probably due to data bandwidth limitations), which could be solved by using a separate USB host card for the second camera.
Making everything work is compounded by the fact that older Xtions in particular are very finicky about USB hardware support - USB2 and USB3. There is a firmware hotfix (https://github.com/nh2/asus-xtion-fix) that supposedly makes the 0600 work with USB3 and openni2, but I was lucky enough to be able to pull two newer 0601s from labmates and didn't have to go through that mess.

Originally posted by paulbovbel with karma: 4518 on 2014-08-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by paulbovbel on 2014-08-10:
Just saw that you're using openni2, so disregard the last part. Also keep in mind that openni2 uses a 'lazy publisher', meaning that it will only start pulling data from your cameras AFTER someone subscribes to it. So make sure that's what's captured in your dmesg log if you post it.
Comment by atp on 2014-08-11:
Until now, putting each camera on a different bus solved the problem. I assume that this connects each camera to a different USB host card (as you suggested).
Comment by paulbovbel on 2014-08-11:
But it doesn't work anymore? Weird that you don't see anything pop up in dmesg. What happens when you try to subscribe to both, just no output from either?
Have you tried playing around with the endpoint settings (don't forget to restart) - link
Comment by atp on 2014-08-11:
No, it does work! I just said until now because I wanted to give it some more time before I say that it works. So, I think this is enough time now. That's why I marked your answer here as correct.


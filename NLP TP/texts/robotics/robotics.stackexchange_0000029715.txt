Q:

Setting up OMPL on a non-PR2 robot

Hi guys,
I am trying to set up some basic planning with a Schunk arm. I am not concerned with obstacle avoidance at the moment. I tried the interpolated_ik_motion_planner as a simple solution, but very often it complains that there is no IK solution for the problem. So I decided to try OMPL.
The first (of a series of) question is: If I check the topics ompl_planning subscribes to, it lists /joint_states of unkown (!!) type. I provided to feed it with sensor_msgs/JointState messages, but it complains that the message is wrong:
"Planning environment received invalid joint state"
So, what should I give it?

Originally posted by Lorenzo Riano on ROS Answers with karma: 1342 on 2011-02-20
Post score: 1

A:

Hi Lorenzo,
/joint_states is indeed a subscription to a message of type sensor_msgs/JointState. Can you check the following for this message:
(a) make sure joint_state.position.size() == joint_state.name.size()
(b) make sure joint_state.velocity.size() == joint_state.name.size()
Planning environment checks the message to make sure that all the fields are filled in and prints that error if it finds that they are not. This probably requires better output. I have opened a ticket to that effect https://code.ros.org/trac/wg-ros-pkg/ticket/5041

Originally posted by Sachin Chitta with karma: 1304 on 2011-02-21
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Lorenzo Riano on 2011-02-21:
I checked and it is a JointState. The driver for the Schunk arm did not provide a velocity vector. I changed the code and hopefully you will see the changes soon in the repository. And yes, a better output would be useful. Thanks for you help!


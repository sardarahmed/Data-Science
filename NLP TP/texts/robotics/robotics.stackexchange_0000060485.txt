Q:

Installing ar_pose

Hi, I'm new to ROS and need help with installing the ar_pose(ttp://wiki.ros.org/ar_pose) package.
I have downloaded the ccny_vision(ttp://wiki.ros.org/ccny_vision) stack, but after I run the command
rosmake ccny_vision

I get the following errors:
make[3]: Entering directory /home/sander57/ros/stacks/ccny_vision/ar_pose/build' make[3]: Entering directory /home/sander57/ros/stacks/ccny_vision/ar_pose/build'
[ 90%] [ 90%] Building CXX object CMakeFiles/ar_single.dir/src/ar_single.cpp.o
Building CXX object CMakeFiles/ar_multi.dir/src/ar_multi.cpp.o
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp: In member function ‘void ar_pose::ARSinglePublisher::getTransformationCallback(const ImageConstPtr&)’:
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:240:7: error: ‘btQuaternion’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:240:20: error: expected ‘;’ before ‘rotation’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:241:7: error: ‘btVector3’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:241:17: error: expected ‘;’ before ‘origin’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:242:7: error: ‘btTransform’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:242:19: error: expected ‘;’ before ‘t’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:246:38: error: ‘t’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:254:19: error: expected ‘;’ before ‘markerOrigin’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:255:21: error: expected ‘;’ before ‘m’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:256:21: error: expected ‘;’ before ‘markerPose’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_multi.cpp:258:26: error: ‘markerPose’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp: In member function ‘void ar_pose::ARSinglePublisher::getTransformationCallback(const ImageConstPtr&)’:
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:260:7: error: ‘btQuaternion’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:260:20: error: expected ‘;’ before ‘rotation’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:261:7: error: ‘btVector3’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:261:17: error: expected ‘;’ before ‘origin’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:262:7: error: ‘btTransform’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:262:19: error: expected ‘;’ before ‘t’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:268:45: error: ‘t’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:271:45: error: ‘t’ was not declared in this scope
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:280:19: error: expected ‘;’ before ‘markerOrigin’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:281:21: error: expected ‘;’ before ‘m’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:282:21: error: expected ‘;’ before ‘markerPose’
/home/sander57/ros/stacks/ccny_vision/ar_pose/src/ar_single.cpp:284:25: error: ‘markerPose’ was not declared in this scope
make[3]: *** [CMakeFiles/ar_single.dir/src/ar_single.cpp.o] Error 1
make[3]: Leaving directory /home/sander57/ros/stacks/ccny_vision/ar_pose/build' make[2]: *** [CMakeFiles/ar_single.dir/all] Error 2 make[2]: *** Waiting for unfinished jobs.... make[3]: *** [CMakeFiles/ar_multi.dir/src/ar_multi.cpp.o] Error 1 make[3]: Leaving directory /home/sander57/ros/stacks/ccny_vision/ar_pose/build'
make[2]: *** [CMakeFiles/ar_multi.dir/all] Error 2
make[2]: Leaving directory /home/sander57/ros/stacks/ccny_vision/ar_pose/build' make[1]: *** [all] Error 2 make[1]: Leaving directory /home/sander57/ros/stacks/ccny_vision/ar_pose/build'
[ rosmake ] Output from build of package ar_pose written to:
[ rosmake ]    /home/sander57/.ros/rosmake/rosmake_output-20140702-095732/ar_pose/build_output.log
[rosmake-1] Finished <<< ar_pose [FAIL] [ 11.38 seconds ]
[ rosmake ] Halting due to failure in package ar_pose.
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:
[ rosmake ] Built 58 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /home/sander57/.ros/rosmake/rosmake_output-20140702-095732
Any suggestions on how to resolve this issue?
Thanks!

Originally posted by david.sanders on ROS Answers with karma: 3 on 2014-07-01
Post score: 0

A:

ccny has not been maintened AFAIK.
try installing this one: http://wiki.ros.org/ar_tools

Originally posted by Procópio with karma: 4402 on 2014-07-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by david.sanders on 2014-07-01:
I'm getting the same error:
cv_bridge/CvBridge.h: No such file or directory
again, I do have cv_bridge installed, so I'm not sure what's going on... thanks for the suggestion though
Comment by fergs on 2014-07-01:
cv_bridge/CvBridge.h is the old C-style OpenCV api version, which was deprecated in Fuerte and eventually removed in hydro. The new C++ style api version for OpenCV2 is in a header cv_bridge/cv_bridge.h
Comment by david.sanders on 2014-07-01:
the ar_pose uses code from CvBridge.h instead of cv_bridge.h, so instead of manually converting everything, I decided to copy CvBridge.h into the correct directory. However, I'm now getting a bunch of errors which I will write in my main post. Any idea where it might be coming from? thanks!
Comment by fergs on 2014-07-01:
The header files are completely different -- they have an entirely different API than the old one. The repository linked above (the wiki points to https://github.com/LucidOne/ar_tools) appears to be updated already -- you should grab that code instead of whatever you were previously using.
Comment by david.sanders on 2014-07-01:
I was getting the same errors, but it turns out the command rosmake ar_tools still invoked the makefiles in the ccny_vision directory anyways. I deleted this directory and everything seems good now, thanks!


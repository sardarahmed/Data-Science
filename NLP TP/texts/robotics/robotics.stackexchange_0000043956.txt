Q:

Issue with gazebo plugin tutorial

Hi guys. I have been trying to do the gazebo plugin tutorial found here. When i try to rosmake the package I created, it first indicate an error that gazebo.h is not found. I then replaced gazebo.h with gazebo.hh (i can only locate gazebo.hh in my system). That solved my issue, but it then gave me another error
" error: ISO C++ forbids declaration of ‘GZ_REGISTER_PLUGIN’ with no type [-fpermissive]" during rosmake.
My cpp file is the same as what is  in the tutorial. Anyone here encountered this problem before?
In addition, may I know where can I learn to write and use a gazebo plugin? Since the ROS tutorial is "work in progress".

Originally posted by ChengXiang on ROS Answers with karma: 201 on 2012-09-06
Post score: 0

A:

Hi,
here are some examples of includes from my plugins:
#include "gazebo.hh"
#include "physics/physics.h"
#include "common/Events.hh"
#include "common/Plugin.hh"
#include "common/Time.hh"
#include "common/common.h"

As for the error maybe try putting ‘GZ_REGISTER_PLUGIN’ before the last '}' (outside the class, inside the namespace), that is how I have them declared.
Here are tutorials for the new gazebo.
Cheers

Originally posted by Andrei Haidu with karma: 146 on 2012-09-07
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by ChengXiang on 2012-09-07:
Thanks Andrei.That solved my problem. However, I run into new issue in Rosmake. I wonder if you faced similar problem?


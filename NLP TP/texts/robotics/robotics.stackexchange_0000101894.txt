Q:

nav2 stuck at ComputePathToPose

Hello,
I'm trying to make Nav2 work with my robot.
When I send a goal, the behavior tree server tells:
[bt_navigator-5] [INFO] [1654258199.783487131] [mmx.bt_navigator]: Begin navigating from current location to (1.45, 1.00)

but nothing happens, the robot is not moving, there is no message on the /cmd_vel topic.
It seems to be stuck in the ComputePathToPose action (see the Groot capture below):

I am using ROS2 Galactic and Gazebo Ignition to simulate my robot.
All the topics and frames of my robot are prefixed by its name.
I launched Nav2 using the namespace of my robot.
I've set Nav2 to use the pointcloud generated by my robot to build its maps.
The obstacles are correctly detected on the map when I display them in rviz.
I have no slam and no localisation (no prior map nor AMCL), the odometry is generated by gazebo on the /odom topic of the robot.
The only hint I have is this message when I echo /rosout:
stamp:
  sec: 1654259921
  nanosec: 857207772
level: 20
name: mmx.bt_navigator
msg: Begin navigating from current location to (2.67, -2.74)
file: /tmp/binarydeb/ros-galactic-nav2-bt-navigator-1.0.8/src/navigators/navigate_to_pose.cpp
function: initializeGoalPose
line: 194

I have no idea on how to debug this, can someone help me ?

Originally posted by Acwok on ROS Answers with karma: 85 on 2022-06-03
Post score: 2

Original comments
Comment by Acwok on 2022-06-03:
I removed the frame prefix and the namespace and the issue is still there

A:

The issue was that the global_costmap was waiting for messages on the /map topic, but there was none because I wasn't using slam nor a map server (I just wanted to make a simple demo).
I set the map_topic parameter of the global_costmap to /global_costmap/costmap to solve the issue.

Originally posted by Acwok with karma: 85 on 2022-06-06
This answer was ACCEPTED on the original site
Post score: 2


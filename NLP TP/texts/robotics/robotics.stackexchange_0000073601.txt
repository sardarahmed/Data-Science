Q:

pointcloud .pcd in rviz - transformation problem

Hello guys,
with another program I obtained my pointcloud and saved in a .pcd file. Now I'm trying to insert the pointcloud into the ros visualizer. I did the program and everything works fine. The only problem is that the cloud is a weird positon (as shown in the image below):
image description http://imageshack.com/a/img922/7799/cRYIb0.png
the right-up part should be the floor.
How can I do for making a right transformation and put the pointcloud in a right way?

Originally posted by almosca on ROS Answers with karma: 7 on 2016-04-27
Post score: 0

Original comments
Comment by Felix Endres on 2016-04-27:
Are you publishing it with the correct tf frame?
Comment by almosca on 2016-04-27:
well i don't know I followed a tutorial for importing the point cloud on rviz! the point are taken respect to the kinect that is on the gripper of the robot

A:

Even though "Fixed Frame" says "odom"  in your picture, rviz seems to display the point cloud in the coordinate frame of the sensor. I.e. your sensor is placed at the displayed coordinate axes.
You need to set the "Fixed Frame" to a frame that is (in reality) placed on the floor and make the transformation from there to the sensor known via tf. Often these transformations are available from the robot model and published on /tf, so you need only to select the correct frames. If you attached the sensor yourself, you probably need to tell rviz the transformation from, e.g., the gripper to the sensor's optical center (which would be an extrinsic calibration issue).
Then fixed frame in RViz should be, e.g. "base_link", "odom", "world" or "map". The "frame_id" set in the header of the pointcloud then needs to be the frame of the sensor.

Originally posted by Felix Endres with karma: 6468 on 2016-04-29
This answer was ACCEPTED on the original site
Post score: 2


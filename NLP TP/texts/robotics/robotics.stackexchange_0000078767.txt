Q:

octomap_server, velodyne_driver, and rviz

We are attempting to use rviz to visualize an Octomap from octomap_server created from a Velodyne sensor stream. We subscribed octomap_server to the velodyne_driver PointCloud2 stream by remapping the "velodyne_points" topic to "cloud_in" in the launch file of velodyne_points (in velodyne_pointcloud/launch/cloud_nodelet.launch). However, no octomap is being created. We can visualize the "cloud_in" topic in rviz as the correct velodyne pointcloud, but the occupied_cells_vis MarkerArray topic published by octomap does not display anything in rviz. We also tried remapping the topics in the octomap launch file.
In rviz we can see a warning saying "Fixed Frame: No tf data. Actual error: Fixed Frame [velodyne] does not exist". We do invoke rviz with "-f velodyne". We are not sure if this could be causing the problem.

Originally posted by prosello on ROS Answers with karma: 11 on 2017-02-03
Post score: 1

A:

Hi There, it sounds like the frame that the octomap is being broadcast in doesn't have a published transformation into the velodyne frame.
You can use the command :
rosrun tf view_frames

to create a pdf file that will show you all the coordinate frames and the transformation that are being published between them.
You can find the frameId of the 'occupied_cells_vis' topic using this comman :
rostopic echo occupied_cells_vis

This will probably spit a huge amount of data onto the console, but if you cancel it and scroll up through sooner or later you will find a header section that will include the frameId. When you've found this frameId you can then set the 'Fixed Frame' option under 'Global Options' in Rviz to this frameId then you should be able to visualise this topic.
Alternatively you can change the frame that octomap is publishing it's maps in or create a static transform publisher to link the velodyne and octomap frames together.
Hope this helps.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2017-02-05
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by prosello on 2017-02-06:
Running
rosrun tf view_frames

produces a pdf file that says "No tf data received", and
rostopic echo occupied_cells_vis

doesn't spit anything to the console :(


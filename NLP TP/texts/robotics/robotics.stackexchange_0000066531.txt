Q:

set parameter using launch file

I have three different but related questions
1st: Is it possible to set the value of a variable using the launch file?
I read about it online but I couldn't understand how to use it.
2nd: I couldn't find anything on how to use the launch file to set the value of a variable in a message. for instance if I have:
mymessagevector.msg:
mymessage myvector[2]

mymessage.msg:
int32 value
string ID

Is there a way to set the myvector[0].ID="ID1" and myvector[1].ID="ID2" and always publish that without having to define it everytime I sent the message to a topic?
3rd: If I don't know how many variables I have and I want to publish each variable in a different topic like /commontopic/var1 ; /commontopic/var2 ; /commontopic/varN , is there a way to achieve this using the terminal?
Thank you in advance

Originally posted by Carollour on ROS Answers with karma: 33 on 2015-03-23
Post score: 1

A:

1st) Take a look here: roslaunch/xml/param.
For example you can set the parameter test to be a double of value 2.0:
<param name="test" type="double" value="2.0" /> 
Now the parameter 'test' is loaded into ROS parameter server and you can access it from your node like this:
double testvar;
node_handle.getParam("/test", testvar);
std::cout<<testvar; //prints 2

Look also here for more examples.
2nd) You can do this using the method described above, simply load ID1 and ID2 as default values of parameters and load them inside your node where you can publish them.
3rd) I don't think there's a way to do this from command line only, AFAIK, and i would not endorse that, what if there are 1000 variables? creating a tousand topics would probaly clog your system.
I think the best way would be to create a custom message with an array, if the variables are double the message would look like this:
//customMSG.msg
double[] myvars

Then the subscriber can parse the message and determine how many variables are there.

Originally posted by Tabjones with karma: 43 on 2015-03-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Carollour on 2015-03-24:
Thank you, that helped!


Q:

Bad stereo mapping in RTABmap

Hi,
I have a stereo camera, Intel T265 and I am getting strange stereo map:

Why is that?
I have also recorded the bag:
https://drive.google.com/file/d/1sjh1QdhBczf9v69mqZckdFTdfV8486nl/view?usp=sharing

Originally posted by EdwardNur on ROS Answers with karma: 115 on 2019-03-18
Post score: 0

A:

rtabmap requires rectified stereo images as input. There are a lot of right images missing from the bag, but I'm still able to try stereo_image_proc to rectify the images:
$ rosrun stereo_image_proc stereo_image_proc /left/image_raw:=/camera/fisheye1/image_raw /left/camera_info:=/camera/fisheye1/camera_info /right/image_raw:=/camera/fisheye2/image_raw /right/camera_info:=/camera/fisheye2/camera_info

Raw:

Rectified:

As you can see, the rectification doesn't work with the current calibration info. Here is a tutorial to calibrate stereo cameras: http://wiki.ros.org/camera_calibration/Tutorials/StereoCalibration
cheers,
Mathieu

Originally posted by matlabbe with karma: 6409 on 2019-03-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by EdwardNur on 2019-03-23:
@matlabbe Hi thank you, I already figured this out but gave up on a camera for a while as calibrating was not perfect. Meanwhile, can you have a look at my new question?
https://answers.ros.org/question/319313/why-does-pointcloud-pointing-upwards/


Q:

Error in Creating a new world similar to the atlas_utils pkg to make a robot stand up

I am trying to create a new world with a new humanoid robot (similar to the atlas )model initialed in it. My main aim is to keep the robot standing first.
I only have the model urdf file.I want to create a controller that gives the joints a inital torque to keep the robot standing. I use the following tutorial to create my files.
http://gazebosim.org/wiki/Tutorials/drcsim/1.3/changing_controller_configuration
I try to replicate the atlas_utils package for my robot and I get a error.
I first created a mysim.lauch file in ~/ros/hubo_trial/launch/ directory,which has the following script
    <launch>
    
      <!-- start gazebo with the Hubo -->
      <include file="$(find hubo_utils)/launch/hubo_no_controllers.launch"/>
    
      <!-- Controller Manager -->
      <include file="$(find pr2_controller_manager)/controller_manager.launch" />
    
      <!-- Fake Calibration -->
      <node pkg="rostopic" type="rostopic" name="fake_joint_calibration"
            args="pub /calibrated std_msgs/Bool true" />
    
      <!-- Whole Body -->
      <rosparam command="load" file="$(find hubo)/ros/whole_body_trajectory_controller.yaml" />
    
       <!-- Controllers that come up started -->
       <node name="hubo_urdf_controller_spawner"
          pkg="pr2_controller_manager" type="spawner" output="screen"
          args="--wait-for=/calibrated Hubo_controller" />
    
    </launch>

my hubo_no_controllers.launch file is as follows
    <launch>
    
      <arg name="gzname" default="gazebo"/>
      <arg name="gzworld" default="hubo.world"/>
      <param name="/use_sim_time" type="bool" value="true"/>
    
      <!-- start gazebo with the Hubo -->
      <node name="gazebo" pkg="hubo_utils" type="run_$(arg gzname)" args="$(arg gzworld)" output="screen" />
    
      <!-- Robot Description -->
      <param name="robot_description" textfile="$(find hubo)/model.urdf"/>
      
    </launch>

my whole_body_trajectory_controller.yaml is as follows

Hubo_controller:
  type: "robot_mechanism_controllers/JointTrajectoryActionController"
  joints:
    - LHY
    - LHR
    - LHP
    - LKP
    - LAP
    - LAR
    - RHY
    - RHR
    - RHP
    - RKP
    - RAP
    - RAR
  gains:
    LHY: {p:     5.0, d:  0.01, i:   0.0, i_clamp:    0.0}
    LHR: {p:   100.0, d:   1.0, i:   0.0, i_clamp:    0.0}
    LHP: {p:  2000.0, d:  10.0, i:   0.0, i_clamp:    0.0}
    LKP: {p:  1000.0, d:  10.0, i:   0.0, i_clamp:    0.0}
    LAP: {p:   900.0, d:   8.0, i:   0.0, i_clamp:    0.0}
    LAR: {p:   300.0, d:   2.0, i:   0.0, i_clamp:    0.0}
    RHY: {p:     5.0, d:  0.01, i:   0.0, i_clamp:    0.0}
    RHR: {p:   100.0, d:   1.0, i:   0.0, i_clamp:    0.0}
    RHP: {p:  2000.0, d:  10.0, i:   0.0, i_clamp:    0.0}
    RKP: {p:  1000.0, d:  10.0, i:   0.0, i_clamp:    0.0}
    RAP: {p:   900.0, d:   8.0, i:   0.0, i_clamp:    0.0}
    RAR: {p:   300.0, d:   2.0, i:   0.0, i_clamp:    0.0}
  joint_trajectory_action_node:
    joints:
    - LHY
    - LHR
    - LHP
    - LKP
    - LAP
    - LAR
    - RHY
    - RHR
    - RHP
    - RKP
    - RAP
    - RAR
  constraints:
      goal_time: 0.0
      LHY:
        goal: 0.02
      LHR:
        goal: 0.02
      LHP:
        goal: 0.02
      LKP:
        goal: 0.02
      LAP:
        goal: 0.02
      LAR:
        goal: 0.02
      RHY:
        goal: 0.02
      RHR:
        goal: 0.02
      RHP:
        goal: 0.02
      RKP:
        goal: 0.02
      RAP:
        goal: 0.02
      RAR:
        goal: 0.02
  

Are these the only 3 files that I need to set up the pkage?
I run it saying roslaunch hubo_trial mysim.launch
and I get the following error :
... logging to /home/bharadwajramesh/.ros/log/9a4bbf84-6a9b-11e2-8f8a-844bf50ed35d/roslaunch-ubuntu-3581.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://ubuntu:55050/

SUMMARY
========

PARAMETERS
 * /Hubo_controller/constraints/LAP/goal
 * /Hubo_controller/constraints/LAR/goal
 * /Hubo_controller/constraints/LHP/goal
 * /Hubo_controller/constraints/LHR/goal
 * /Hubo_controller/constraints/LHY/goal
 * /Hubo_controller/constraints/LKP/goal
 * /Hubo_controller/constraints/RAP/goal
 * /Hubo_controller/constraints/RAR/goal
 * /Hubo_controller/constraints/RHP/goal
 * /Hubo_controller/constraints/RHR/goal
 * /Hubo_controller/constraints/RHY/goal
 * /Hubo_controller/constraints/RKP/goal
 * /Hubo_controller/constraints/goal_time
 * /Hubo_controller/gains/LAP/d
 * /Hubo_controller/gains/LAP/i
 * /Hubo_controller/gains/LAP/i_clamp
 * /Hubo_controller/gains/LAP/p
 * /Hubo_controller/gains/LAR/d
 * /Hubo_controller/gains/LAR/i
 * /Hubo_controller/gains/LAR/i_clamp
 * /Hubo_controller/gains/LAR/p
 * /Hubo_controller/gains/LHP/d
 * /Hubo_controller/gains/LHP/i
 * /Hubo_controller/gains/LHP/i_clamp
 * /Hubo_controller/gains/LHP/p
 * /Hubo_controller/gains/LHR/d
 * /Hubo_controller/gains/LHR/i
 * /Hubo_controller/gains/LHR/i_clamp
 * /Hubo_controller/gains/LHR/p
 * /Hubo_controller/gains/LHY/d
 * /Hubo_controller/gains/LHY/i
 * /Hubo_controller/gains/LHY/i_clamp
 * /Hubo_controller/gains/LHY/p
 * /Hubo_controller/gains/LKP/d
 * /Hubo_controller/gains/LKP/i
 * /Hubo_controller/gains/LKP/i_clamp
 * /Hubo_controller/gains/LKP/p
 * /Hubo_controller/gains/RAP/d
 * /Hubo_controller/gains/RAP/i
 * /Hubo_controller/gains/RAP/i_clamp
 * /Hubo_controller/gains/RAP/p
 * /Hubo_controller/gains/RAR/d
 * /Hubo_controller/gains/RAR/i
 * /Hubo_controller/gains/RAR/i_clamp
 * /Hubo_controller/gains/RAR/p
 * /Hubo_controller/gains/RHP/d
 * /Hubo_controller/gains/RHP/i
 * /Hubo_controller/gains/RHP/i_clamp
 * /Hubo_controller/gains/RHP/p
 * /Hubo_controller/gains/RHR/d
 * /Hubo_controller/gains/RHR/i
 * /Hubo_controller/gains/RHR/i_clamp
 * /Hubo_controller/gains/RHR/p
 * /Hubo_controller/gains/RHY/d
 * /Hubo_controller/gains/RHY/i
 * /Hubo_controller/gains/RHY/i_clamp
 * /Hubo_controller/gains/RHY/p
 * /Hubo_controller/gains/RKP/d
 * /Hubo_controller/gains/RKP/i
 * /Hubo_controller/gains/RKP/i_clamp
 * /Hubo_controller/gains/RKP/p
 * /Hubo_controller/joint_trajectory_action_node/joints
 * /Hubo_controller/joints
 * /Hubo_controller/type
 * /pr2_controller_manager/joint_state_publish_rate
 * /pr2_controller_manager/mechanism_statistics_publish_rate
 * /robot_description
 * /robot_state_publisher/publish_frequency
 * /robot_state_publisher/tf_prefix
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    fake_joint_calibration (rostopic/rostopic)
    gazebo (hubo_utils/run_gazebo)
    hubo_urdf_controller_spawner (pr2_controller_manager/spawner)
    pr2_mechanism_diagnostics (pr2_mechanism_diagnostics/pr2_mechanism_diagnostics)
    robot_state_publisher (robot_state_publisher/state_publisher)

auto-starting new master
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[master]: started with pid [3597]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 9a4bbf84-6a9b-11e2-8f8a-844bf50ed35d
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[rosout-1]: started with pid [3610]
started core service [/rosout]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[gazebo-2]: started with pid [3624]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[robot_state_publisher-3]: started with pid [3626]
Gazebo multi-robot simulator, version 1.3.1
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.3.1
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[pr2_mechanism_diagnostics-4]: started with pid [3647]
Msg Waiting for master.Warning [parser.cc:362] Converting a deprecatd SDF source[/usr/share/drcsim-1.3/worlds/hubo.world].
Set SDF value
  Version[1.2] to Version[1.3]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[fake_joint_calibration-5]: started with pid [3670]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[hubo_urdf_controller_spawner-6]: started with pid [3671]
Warning [parser.cc:378] SDF has no <sdf> element in file[/usr/share/drcsim-1.3/models/hubo/model.urdf]
Dbg [Body_Torso] has no parent joint
Warning [parser_urdf.cc:1115] urdf2gazebo: link[Body_HNR] has no inertia, [1] children links ignored
.Warning [parser_urdf.cc:1121] urdf2gazebo: link[Body_HNR] has no inertia, [1] children joints ignored
.Warning [parser_urdf.cc:1127] urdf2gazebo: link[Body_HNR] has no inertia, parent joint [HNR] ignored
.Warning [parser_urdf.cc:1131] urdf2gazebo: link[Body_HNR] has no inertia, not modeled in gazebo
Warning [parser.cc:287] parse from urdf file [/usr/share/drcsim-1.3/models/hubo/model.urdf].
Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345

Msg Connected to gazebo master @ http://localhost:11345
[ INFO] [1359522735.484321223, 0.001000000]: Can't find <atlas><model_name> blocks. using default.
[ERROR] [1359522735.485538966, 0.001000000]: atlas model not found.
[ INFO] [1359522735.485680642, 0.001000000]: Can't find <drc_vehicle><model_name> blocks. using default.
[ERROR] [1359522735.486533219, 0.001000000]: drc vehicle not found.
Error [SDF.cc:738] Missing element description for [drc_fire_hose]
Warning [gazebo_main.cc:62] escalating to SIGKILL on client
[gazebo-2] process has finished cleanly
log file: /home/bharadwajramesh/.ros/log/9a4bbf84-6a9b-11e2-8f8a-844bf50ed35d/gazebo-2*.log

the last 4 lines are the error portion! I dont understand why it is searching for the Atlas robot ? can someone please helpme with what is happening here

Originally posted by Bharadwaj Ramesh on Gazebo Answers with karma: 51 on 2013-01-30
Post score: 0

Original comments
Comment by Paulo Filho on 2015-03-03:
I'm with a similar problem, follow this tutorial for installing drcsim(http://gazebosim.org/tutorials?tut=drcsim_install&cat=drcsim), but I have this problem:
VRCPlugin: fire_hose_model [fire_hose] not found, threading disabled.
[ INFO] [1425391723.907508791]: atlas/time_to_unpin not specified, default harness duration to 5.000000 seconds
[ INFO] [1425391723.908802676]: atlas/startup_mode not specified, default bdi_stand that  takes 2.000000 seconds to finish.
I'm trying to build my biped
Comment by nkoenig on 2015-03-03:
The VRCPlugin is very specific to the Virtual Robotics Challenge. It looks for specific models, and complains if they are not present. If you don't need the VRCPlugin, then you can leave it out of you world.
Comment by Paulo Filho on 2015-03-04:
The problem I do not know if my robot will stand and walk without this plugin, because I am new in the Gazebo and ROS and I'm not sure how to set up my world and my robot to stands on the floor. When I take plugin "<plugin filename =" libVRCPlugin.so "name =" vrc_plugin ">
       <drc_fire_hose> "My robot is not loaded.

A:

It looks like you are including some DRC specific launch files or DRC elements in your world files, like the drc_fire_hose. If you want to use these DRC elements, then you'll have to install DRCSim and run the drcsim setup.sh script.

Originally posted by nkoenig with karma: 7676 on 2013-07-24
This answer was ACCEPTED on the original site
Post score: 0


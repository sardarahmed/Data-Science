Q:

rviz dies with ogre exception in groovy

I am testing groovy. Running "rosrun rviz rviz" gives me:
terminate called after throwing an instance of 'Ogre::InternalErrorException'what():  OGRE EXCEPTION(7:InternalErrorException): Cannot compile GLSL high-level shader : rviz/include/pass_depth.geom Cannot compile GLSL high-level shader : rviz/include/pass_depth.geom (1) : error C0201: unsupported version 150 (5) : error C5060: out can't be used with non-varying depth in GLSLProgram::compile at /build/buildd/ogre-1.7.4/RenderSystems/GL/src/GLSL/src/OgreGLSLExtSupport.cpp (line 65) Aborted (core dumped)

Device Name: Quadro FX 3700/PCI/SSE2
Driver Version: 2.1.2.0
The driver is the binary driver Ubuntu 12.04 gives me.
Any ideas about this? Is the driver to old?
EDIT:
2013-02-07:
Just updated to new packages. I had to re-install the graphic drivers and I then made sure to take the recommended version (might have had version 173 before). And now rvix starts OK for me and no error messages. So either I had the wrong driver version or the recent update of the groovy packages solved the problem.

Originally posted by TommyP on ROS Answers with karma: 1339 on 2013-01-08
Post score: 2

Original comments
Comment by clark on 2013-01-09:
I have met a similar issue,           python: /build/buildd/ogre-1.7.4/OgreMain/include/OgreSingleton.h:80: Ogre::Singleton::Singleton() [with T = Ogre::LogManager]: Assertion `!ms_Singleton' failed.
Aborted (core dumped)
Comment by WilliamWoodall on 2013-02-07:
This was definitely a problem with rviz gracefully degrading on OS X.  Please mark an answer so it shows up as answered.  Thanks.

A:

Try again with the newest version of rviz, we recently fixed a similar error on OS X:
https://github.com/ros-visualization/rviz/pull/558
EDIT:
You can get the latest rviz by updating and rebuilding your workspace:
cd ~/ros_catkin_ws
wstool merge -t src http://packages.ros.org/web/rosinstall/generate/raw/groovy/desktop --merge-replace
wstool update -t src

This command will prompt you for action at each of the packages which have changed, choose 'b' for backup and replace on each of them.
Then rebuild the stack:
rm -rf build* devel*
./src/catkin/bin/catkin_make_isolated --install

It is necessary to rebuild all of the packages because it is likely many packages (not just rviz) have changed and may affect rviz.

Originally posted by WilliamWoodall with karma: 1626 on 2013-01-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by TommyP on 2013-01-25:
So how do I build the latest version? I tested downloading a zip file from the github and build in a workspace but it included files from /opt/.../rviz which seems wrong. So what are the steps to build it?
Comment by WilliamWoodall on 2013-01-25:
I updated my answer.


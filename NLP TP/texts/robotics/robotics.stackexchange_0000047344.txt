Q:

Viso2 mono_odometer error

Hi guys,
I am trying to use the viso2 package in order to obtain the monocular visual odometry using a Firefly mv camera. The camera works fine and I am able to view the images. However, when I run the command:
rosrun viso2_ros mono_odometer image:=/camera/image_raw
I get the following warnings and error:

[WARN] [1358388437.751639814]: parameter 'camera_height' is required but not set.
Using default: 1.000000
[WARN] [1358388437.752287274]: parameter 'camera_pitch' is required but not set.
Using default: 0.000000
Segmentation fault (core dumped)

Any idea what is causing this segmentation fault?
Thanks and best regards,
Khalid

Originally posted by K_Yousif on ROS Answers with karma: 735 on 2013-01-16
Post score: 1

Original comments
Comment by K_Yousif on 2013-01-16:
I am not sure why it is not showing the warnings, I get a couple of warnings regarding setting the camera height and camera pitch.

A:

It seems that you do not use rectified images. Please calibrate your camera and make sure the camera driver pubishes the accurate CameraInfo messages. Run image_proc in the camera's namespace to generate rectified images from your raw input.
Then let mono_odometer subscribe to <your camera>/image_rect. If you still have problems, please modify your question to include the full console output of mono_odometer.

Originally posted by Stephan with karma: 1924 on 2013-01-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by K_Yousif on 2013-01-18:
Thanks Stephan for your reply, I will try that and update the question.
Comment by K_Yousif on 2013-01-20:
Hi Stephans, I calibrated the camera, and subscribed to image_raw and not image_rect (which does not publish anything) and now it works. I am not sure if what i did is correct? camra_info seems to be publishing the calibrated camera information. However, I cannot find the rectified image.
Comment by Stephan on 2013-01-20:
You have to run image_ proc to generate rectified images.
Comment by K_Yousif on 2013-01-20:
Thanks for your response, I  am running the image_proc node, but I have just realized that I forgot to add the remapping from image_rect to camera_image_rect in my launch file. I will try this later and let you know if it works.
Comment by K_Yousif on 2013-01-21:
Ok I realized I was not running the image_proc node in the proper way. Now it works, Thanks alot for your help. I have another question about VISO2 that I will post in a new thread so it can help others.
Comment by Stephan on 2013-01-21:
If your issue is resolved, please mark the answer as correct so that it does not show up as "unanswered" any more.
Comment by Dava2788 on 2013-10-01:
Hi can any of you give an example of the launch file to run Viso2. Because i'm trying to developed that lauch file and i can't.  My problem is I'm not able to generated rectified images. I just put my problem in this link:http://answers.ros.org/question/84611/what-things-do-i-need-to-make-a-rectification-image-in-image-proc
I will appreciate any respond . Thank you


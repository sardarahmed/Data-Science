Q:

Rviz | tf | scan - (No transform to fixed base)

Hello all,
I'm facing issues with scan data visualization on rviz. The following pictures show the problem:

image 1

image 2

As we can see from image 1, the transformation between the laser and base_link frames is defined, nevertheless rviz does not find this transformation and so can not display the scan data. To be more precisely, the reported message is:

Transform [sender=unknown_publisher]

and in sequece

For frame [laser]: No transform to fixed frame [base_link]. Tf error: [Lookup would require extrapolation to the future. Requested time 1469464365.119867794 but the latest data is at time 1469463838.127784645, when looking up transform from frame [laser] to frame [base_link]]

Well, I know that a lot of problems of visualizing data in rviz is related with timestemp and I a read a bunch of topic theads here, in the forum, but I do not realize how to solve this issue.
Here goes additional information and pictures:

The command:

rosrun tf tf_echo laser base_link

and

rosrun tf tf_echo base_link laser

runs without problem. But the command:

rosrun tf tf_monitor laser base_link

return a strange message that is:

RESULTS: for laser to base_link Chain is: odom -> base_link -> base_link ->
base_link -> base_link -> base_link -> base_link -> base_link -> base_link ->

base_link Net delay     avg =
0.350788: max = 0.548574
Frames: Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309 Frame: base_link published by
unknown_publisher Average Delay:
0.400253 Max Delay: 0.400309
All Broadcasters: Node:
unknown_publisher 256.402 Hz, Average
Delay: 0.400246 Max Delay: 0.40031

as we can see, there is a strange loop behavior in the Chain (first line)
The using multiple machines, so maybe there is a problem with synchronization.
Any clue to where should I start or to what should I do to resolve this???
Thanks in advance!!!

Originally posted by Randerson on ROS Answers with karma: 236 on 2016-07-25
Post score: 0

A:

I found de origem of the problem. It was caused, as I suspect, by the time difference between the machines that were running the roscore and the tf transformation. I only synchronized them and I got the publication of the scan data stream on rviz.
Although I do no used, I think that I good solution is presented here.
For me, just as a first workaround, I used the command:
sudo ntpdate MACHINE_IP

where the MACHINE_IP variable contains the IP of the machine that used as reference to synchronize the other machines. (The command is executed in the machine that needs to be synchronized)

Originally posted by Randerson with karma: 236 on 2016-08-01
This answer was ACCEPTED on the original site
Post score: 1


Q:

Errors in Minimal.launch after installing Fuerte Turtlebot Upgrade

On Ubuntu Oneiric, following upgrade instructions to Fuerte Turtlebot, http://www.ros.org/wiki/Robots/TurtleBot/fuerte/Robot_Upgrade, roscore started Ok  with "minimal.launch" though with several ROS error msgs in addition to a Lenovo x120e "battery" issue I reported in an earlier post:
core service [/rosout] found
process[appmaster-1]: started with pid [14537]
process[app_manager-2]: started with pid [14538]
process[turtlebot_node-3]: started with pid [14539]
process[turtlebot_laptop_battery-4]: started with pid [14541]
process[robot_state_publisher-5]: started with pid [14543]
process[diagnostic_aggregator-6]: started with pid [14548]
/opt/ros/fuerte/stacks/turtlebot/turtlebot_node/nodes/turtlebot_node.py:54: UserWarning: roslib.rosenv is deprecated, please use rospkg or rosgraph.rosenv
import roslib.rosenv
[ WARN] [1336438418.625508278]: The root link base_footprint has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
process[robot_pose_ekf-7]: started with pid [14581]
turtlebot_apps.installed
loading installation data for [turtlebot_apps.installed]
[WARN] [WallTime: 1336438419.701618] Unable to check laptop battery info. Exception: [Errno 2] No such file or directory: '/proc/acpi/battery/BAT0/info'
[WARN] [WallTime: 1336438419.702619] Unable to check laptop battery state. Exception: [Errno 2] No such file or directory: '/proc/acpi/battery/BAT0/state'
ERROR: Cannot locate app file for turtlebot_teleop/android_teleop: package is not installed.
[INFO] [WallTime: 1336438419.739866] Starting app manager for turtlebot
Traceback (most recent call last):
File "/opt/ros/fuerte/stacks/turtlebot/turtlebot_node/nodes/turtlebot_node.py", line 68, in 
import turtlebot_node.robot_types as robot_types
File "/opt/ros/fuerte/stacks/turtlebot/turtlebot_node/src/turtlebot_node/robot_types.py", line 29, in 
import create_sensor_handler
File "/opt/ros/fuerte/stacks/turtlebot/turtlebot_node/src/turtlebot_node/create_sensor_handler.py", line 42, in 
_struct_I = roslib.message.struct_I
AttributeError: 'module' object has no attribute 'struct_I'
[INFO] [WallTime: 1336438419.766782] Waiting for foreign master [http://localhost:11312] to come up...
[INFO] [WallTime: 1336438419.772081] Foreign master is available
[INFO] [WallTime: 1336438419.809062] Registering (/turtlebot/app_list,http://10.0.1.6:60690/) on master http://localhost:11312
[INFO] [WallTime: 1336438419.821318] Registering (/turtlebot/application/app_status,http://10.0.1.6:60690/) on master http://localhost:11312
turtlebot_apps.installed
loading installation data for [turtlebot_apps.installed]
Suggestions to troubleshoot?

Originally posted by RobotRoss on ROS Answers with karma: 141 on 2012-05-07
Post score: 2

Original comments
Comment by AndreasB on 2012-05-08:
I'm seeing similar problems after updating to Fuerte and at the same time updating to ubuntu precise.

A:

This it is a defect (see ticket for patch or better wait till its merged into the trunk):
https://kforge.ros.org/turtlebot/trac/ticket/139
p.s.: the fixes I applied:
rospkg.common.ResourceNotFound: rostest
ROS path [0]=/opt/ros/fuerte/share/ros

-> add /opt/ros/fuerte/share to ROS_PACKAGE_PATH
  File "/opt/ros/fuerte/stacks/turtlebot/turtlebot_node/src/turtlebot_node/create_sensor_handler.py", line 42, in <module>
    _struct_I = roslib.message.struct_I
AttributeError: 'module' object has no attribute 'struct_I'

-> get fix from https://kforge.ros.org/turtlebot/trac/ticket/139
in /opt/ros/fuerte/stacks/turtlebot execute sudo patch -p1 < PathToDiffFix
I also applied https://kforge.ros.org/turtlebot/trac/ticket/137 to fix the install.bash and https://kforge.ros.org/turtlebot/trac/ticket/142 to fix kinect.launch
For turtlebot.eu fellows: Read
http://answers.ros.org/question/27755/roomba-500-series-installation-problem
You have to change the turtlebot_node parameters robot_type publish_tf has_gyro

Originally posted by ZendelO with karma: 16 on 2012-05-10
This answer was ACCEPTED on the original site
Post score: 2


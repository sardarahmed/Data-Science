Q:

How to set/change QoS deadline for a publisher node during/before runtime

There is an active topic "/control/drive_inputs" that I'm trying to publish to using ros2 topic pub /control/drive_inputs core/msg/DriveInput "{...}" -n test. This creates the publisher node "test" with the following QoS Profile:

This raises an incompatible QoS policy error, where the last incompatible policy is the deadline. This is because the Infinite deadline needs to be set to 20 ms in order to be compatible with the subscriber node, which has a deadline of 20,000,000 ns:

However, the "test" publisher node has no QoS deadline parameter for me to override during runtime, and I don't know how to change it's QoS deadline prior to running that ros2 topic pub command. What should I do?

A:

I'm not sure if this is possible from the ros2cli: the easiest way is to create a simple python publisher for your test, where you can set the QoS settings.


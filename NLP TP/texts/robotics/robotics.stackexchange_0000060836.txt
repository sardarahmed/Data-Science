Q:

Indigo rqt_image_view depends on build_isolated

Why does rqt_image_view still depend on the workspace that was used for building it although it was installed to /opt/ros/indigo? Is that desirable? What can I do to fix this?
 rosrun rqt_image_view rqt_image_view                                                                                                                              
    Traceback (most recent call last):
      File "/opt/ros/indigo/lib/rqt_image_view/rqt_image_view", line 8, in <module>
        sys.exit(main.main(sys.argv, standalone='rqt_image_view'))
      File "/opt/ros/indigo/lib/python2.7/site-packages/rqt_gui/main.py", line 59, in main
        return super(Main, self).main(argv, standalone=standalone, plugin_argument_provider=plugin_argument_provider, plugin_manager_settings_prefix=str(hash(os.environ['ROS_PACKAGE_PATH'])))
      File "/opt/ros/indigo/lib/python2.7/site-packages/qt_gui/main.py", line 336, in main
        from python_qt_binding import QT_BINDING
      File "/Users/tatsch/ros_catkin_ws/build_isolated/python_qt_binding/bdist.macosx-10.9-intel/egg/python_qt_binding/__init__.py", line 55, in <module>
      File "/Users/tatsch/ros_catkin_ws/build_isolated/python_qt_binding/bdist.macosx-10.9-intel/egg/python_qt_binding/binding_helper.py", line 262, in <module>
      File "/Users/tatsch/ros_catkin_ws/build_isolated/python_qt_binding/bdist.macosx-10.9-intel/egg/python_qt_binding/binding_helper.py", line 81, in _select_qt_binding
      File "/Users/tatsch/ros_catkin_ws/build_isolated/python_qt_binding/bdist.macosx-10.9-intel/egg/python_qt_binding/binding_helper.py", line 147, in _load_pyqt
      File "/usr/local/lib/python2.7/site-packages/PyQt4/Qwt5/__init__.py", line 32, in <module>
        from Qwt import *
    RuntimeError: the sip module implements API v11.0 to v11.1 but the PyQt4.Qwt5.Qwt module requires API v10.1

Originally posted by J.M.T. on ROS Answers with karma: 266 on 2014-07-15
Post score: 2

A:

I don't think this actually depends on those files. Maybe it is just the source path baked into compiled python paths. Try removing / renaming that build dir. Fr me this results in the same error.
Now it seems we need to update the homebrew formula for pyqt to the 11.1 release, but it gives me a linker error...
EDIT: See hombrew issue https://github.com/Homebrew/homebrew/pull/30881
EDIT 2: I confirmed that the path referring to build is indeed baked into the installed compile python files, which kind of makes sense. So this is not a dependency to the build folder and the error is something else, namely outdated pyqt. Unfortunately there seems to be a linking issue for the recent pyqt version on OS X / clang, see the above github issue.
Update: It seems we have been able to fix the PyQT formula. With the current version in that pull request I can run rqt successfully. The formula will hopefully get merged into homebrew soon.
Update2: PyQt 4.11.1 has been released into homebrew. After brew update and subsequent brew upgrade pyqt, you should be able to run the GUI. Maybe you need to also brew reinstall pyqwt after upgrading pyqt.

Originally posted by demmeln with karma: 4306 on 2014-07-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by J.M.T. on 2014-07-15:
When renaming it back to ros_catkin_ws it still results in the same error. No wonder, there is nothing inside ~/ros_catkin_ws/build_isolated/python_qt_binding/bdist.macosx-10.9-intel
Comment by demmeln on 2014-07-15:
I don't think the error is related to the contents of that directory. The python code is being executed evem though the files are not in that directory, as you can see from the stacktrace. I think this is purely an issue of PyQt being outdated and the wrong stack trace ...
Comment by demmeln on 2014-07-15:
... is due to the way the python-qt-bindings module is compiled.
Comment by J.M.T. on 2014-08-05:
Thanks demmeln, this will surely fix it, unfortunately now i can't install indigo anymore because rosdep is broken :(
Comment by demmeln on 2014-08-05:
If you have previously done the rosdep step for installing indigo I suspect you can skip it now.
Comment by J.M.T. on 2014-08-05:
Wow, all 219 packages compiled successfully. Never had such a painless ROS compile and all thanks to you Nikolaus!


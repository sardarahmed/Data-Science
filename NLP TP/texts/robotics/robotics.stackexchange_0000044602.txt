Q:

How to solve 'undefined reference to `sqlite3_step'?

When I rosmake rein:
  sam@sam:/media/Data/code/ros/recognition/bigg_detector$ rosmake
  [ rosmake ] rosmake starting...                                                                                                                          
  [ rosmake ] No package specified.  Building ['bigg_detector']                                                                                            
  [ rosmake ] Packages requested are: ['bigg_detector']                                                                                                    
  [ rosmake ] Logging to directory /home/sam/.ros/rosmake/rosmake_output-20121004-174214                                                                   
  [ rosmake ] Expanded args ['bigg_detector'] to:
  ['bigg_detector']                                                                                        
  [rosmake-0] Starting >>> rosbuild [ make ]                                                                                                               
  [rosmake-0] Finished <<< rosbuild  No Makefile in package rosbuild                                                                                       
  [rosmake-0] Starting >>> roslib [ make ]                                                                                                                 
  [rosmake-1] Starting >>> rosconsole [ make ]                                                                                                             
  [rosmake-0] Finished <<< roslib  No Makefile in package roslib                                                                                           
  [rosmake-2] Starting >>> roslang [ make ]                                                                                                                
  [rosmake-1] Finished <<< rosconsole  No Makefile in package rosconsole                                                                                   
  [rosmake-0] Starting >>> bond [ make ]                                                                                                                   
  [rosmake-3] Starting >>> smclib [ make ]                                                                                                                 
  [rosmake-3] Finished <<< smclib ROS_NOBUILD in package smclib                                                                                            
  [rosmake-1] Starting >>> pluginlib [ make ]                                                                                                              
  [rosmake-2] Finished <<< roslang  No Makefile in package roslang                                                                                         
  [rosmake-4] Starting >>> opencv2 [ make ]                                                                                                                
  [rosmake-0] Finished <<< bond ROS_NOBUILD in package bond                                                                                                
  [rosmake-4] Finished <<< opencv2 ROS_NOBUILD in package opencv2                                                                                          
  [rosmake-1] Finished <<< pluginlib ROS_NOBUILD in package pluginlib                                                                                      
  [rosmake-3] Starting >>> geometry_msgs [ make ]                                                                                                          
  [rosmake-0] Starting >>> rosservice [ make ]                                                                                                             
  [rosmake-3] Finished <<< geometry_msgs  No Makefile in package geometry_msgs                                                                             
  [rosmake-5] Starting >>> roscpp [ make ]                                                                                                                 
  [rosmake-4] Starting >>> rospy [ make ]                                                                                                                  
  [rosmake-4] Finished <<< rospy  No Makefile in package rospy                                                                                             
  [rosmake-0] Finished <<< rosservice  No Makefile in package rosservice                                                                                   
  [rosmake-2] Starting >>> sensor_msgs [ make ]                                                                                                            
  [rosmake-5] Finished <<< roscpp  No Makefile in package roscpp                                                                                           
  [rosmake-6] Starting >>> bullet [ make ]                                                                                                                 
  [rosmake-4] Starting >>> angles [ make ]                                                                                                                 
  [rosmake-1] Starting >>> bondcpp [ make ]                                                                                                                
  [rosmake-7] Starting >>> dynamic_reconfigure [ make ]                                                                                                    
  [rosmake-3] Starting >>> rostest [ make ]                                                                                                                
  [rosmake-6] Finished <<< bullet ROS_NOBUILD in package bullet                                                                                            
  [rosmake-5] Starting >>> roswtf [ make ]                                                                                                                 
  [rosmake-2] Finished <<< sensor_msgs  No Makefile in package sensor_msgs                                                                                 
  [rosmake-8] Starting >>> message_filters [ make ]                                                                                                        
  [rosmake-0] Starting >>> rosbag [ make ]                                                                                                                 
  [rosmake-9] Starting >>> std_msgs [ make ]                                                                                                               
  [rosmake-4] Finished <<< angles ROS_NOBUILD in package angles                                                                                            
  [rosmake-3] Finished <<< rostest  No Makefile in package rostest                                                                                         
  [rosmake-10] Starting >>> common_rosdeps [ make ]                                                                                                        
  [rosmake-6] Starting >>> image_geometry [ make ]                                                                                                         
  [rosmake-2] Starting >>> cv_bridge [ make ]                                                                                                              
  [rosmake-1] Finished <<< bondcpp ROS_NOBUILD in package bondcpp                                                                                          
  [rosmake-7] Finished <<< dynamic_reconfigure ROS_NOBUILD in package dynamic_reconfigure                                                                  
  [rosmake-11] Starting >>> flann [ make ]                                                                                                                 
  [rosmake-3] Starting >>> nodelet [ make ]                                                                                                                
  [rosmake-5] Finished <<< roswtf  No Makefile in package roswtf                                                                                           
  [rosmake-0] Finished <<< rosbag  No Makefile in package rosbag                                                                                           
  [rosmake-9] Finished <<< std_msgs  No Makefile in package std_msgs                                                                                       
  [rosmake-9] Starting >>> pcl [ make ]                                                                                                                    
  [rosmake-8] Finished <<< message_filters  No Makefile in package message_filters                                                                         
  [rosmake-2] Finished <<< cv_bridge ROS_NOBUILD in package cv_bridge                                                                                      
  [rosmake-8] Starting >>> tf [ make ]                                                                                                                     
  [rosmake-4] Starting >>> image_transport [ make ]                                                                                                        
  [rosmake-11] Finished <<< flann ROS_NOBUILD in package flann                                                                                             
  [rosmake-6] Finished <<< image_geometry ROS_NOBUILD in package image_geometry                                                                            
  [rosmake-3] Finished <<< nodelet ROS_NOBUILD in package nodelet                                                                                          
  [rosmake-10] Finished <<< common_rosdeps ROS_NOBUILD in package common_rosdeps                                                                           
  [rosmake-9] Finished <<< pcl  No Makefile in package pcl                                                                                                 
  [rosmake-4] Finished <<< image_transport ROS_NOBUILD in package image_transport                                                                          
  [rosmake-8] Finished <<< tf ROS_NOBUILD in package tf                                                                                                    
  [rosmake-2] Starting >>> nodelet_topic_tools [ make ]                                                                                                    
  [rosmake-2] Finished <<< nodelet_topic_tools ROS_NOBUILD in package nodelet_topic_tools                                                                  
  [rosmake-0] Starting >>> pcl_ros [ make ]                                                                                                                
  [rosmake-0] Finished <<< pcl_ros ROS_NOBUILD in package pcl_ros                                                                                          
  [rosmake-0] Starting >>> rein [ make ]                                                                                                                   
  [ rosmake ] Last 40 linesin: 2.8 sec ]                                                                                        [ 1 Active 32/34 Complete ]
  {-------------------------------------------------------------------------------
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::loadRS(int)':
    (.text+0xfb5): undefined reference to `sqlite3_step'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::loadRS(int)':
    (.text+0x1032): undefined reference to `sqlite3_column_text'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::loadRS(int)':
    (.text+0x11d5): undefined reference to `sqlite3_column_count'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::loadRS(int)':
    (.text+0x136a): undefined reference to `sqlite3_errmsg'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::bindAndExecute(int)':
    (.text+0x19b2): undefined reference to `sqlite3_reset'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::bindAndExecute(int)':
    (.text+0x19fc): undefined reference to `sqlite3_bind_blob'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::bindAndExecute(int)':
    (.text+0x1a30): undefined reference to `sqlite3_bind_null'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::bindAndExecute(int)':
    (.text+0x1aaa): undefined reference to `sqlite3_bind_text'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::execute(int)':
    (.text+0x1b7d): undefined reference to `sqlite3_reset'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(statement.o): In function `soci::sqlite3_statement_backend::prepare_for_describe()':
    (.text+0x115): undefined reference to `sqlite3_column_count'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(vector-use-type.o): In function `soci::sqlite3_vector_use_type_backend::bind_by_name(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, void*, soci::details::exchange_type)':
    (.text+0x381): undefined reference to `sqlite3_bind_parameter_index'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(standard-into-type.o): In function `soci::sqlite3_standard_into_type_backend::post_fetch(bool, bool, soci::indicator*)':
    (.text+0x85): undefined reference to `sqlite3_column_type'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(standard-into-type.o): In function `soci::sqlite3_standard_into_type_backend::post_fetch(bool, bool, soci::indicator*)':
    (.text+0xae): undefined reference to `sqlite3_column_text'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(standard-into-type.o): In function `soci::sqlite3_standard_into_type_backend::post_fetch(bool, bool, soci::indicator*)':
    (.text+0x213): undefined reference to `sqlite3_column_blob'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(standard-into-type.o): In function `soci::sqlite3_standard_into_type_backend::post_fetch(bool, bool, soci::indicator*)':
    (.text+0x226): undefined reference to `sqlite3_column_bytes'
    /usr/lib/gcc/x86_64-linux-gnu/4.6/../../../../lib/libsoci_sqlite3-gcc-3_0.a(standard-use-type.o): In function `soci::sqlite3_standard_use_type_backend::bind_by_name(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, void*, soci::details::exchange_type, bool)':
    (.text+0x231): undefined reference to `sqlite3_bind_parameter_index'
    collect2: ld 回傳 1
    make[3]: *** [../bin/rein] Error 1
    make[3]: Leaving directory `/media/Data/code/ros/recognition/rein/build'
    make[2]: *** [CMakeFiles/rein.dir/all] Error 2
    make[2]: Leaving directory `/media/Data/code/ros/recognition/rein/build'
    make[1]: *** [all] Error 2
    make[1]: Leaving directory `/media/Data/code/ros/recognition/rein/build'
  -------------------------------------------------------------------------------}
  [ rosmake ] Output from build of package rein written to:
  [ rosmake ]    /home/sam/.ros/rosmake/rosmake_output-20121004-174214/rein/build_output.log     
  [rosmake-0] Finished <<< rein [FAIL] [ 2.84 seconds ]                                                                                                    
  [ rosmake ] Halting due to failure in package rein. 
  [ rosmake ] Waiting for other threads to complete.                                                  
  [ rosmake ] Results:                                                                                                                                     
  [ rosmake ] Built 33 packages with 1 failures.                                                                                                           
  [ rosmake ] Summary output to directory                                                                                                                  
  [ rosmake ] /home/sam/.ros/rosmake/rosmake_output-20121004-174214                                                                                        
  sam@sam:/media/Data/code/ros/recognition/bigg_detector$                                                                               

I have tried to install sqlite,sqlite3.
I also tried to add a line to rein/CMakeLists.txt
  target_link_libraries(${PROJECT_NAME} /usr/lib/libsqlite.so.0)
        

But those actions doesn't work.
How to fix it?
Thank you~
================================
bigg_detector  cat manifest.xml

Binarized Gradient Grid (BiGG) detector and ROS wrapper for the rein.

Gary Bradski and Marius Muja
BSD

http://ros.org/wiki/bigg_detector
    <depend package="nodelet" />
    <depend package="opencv2" />
    <depend package="rein" />
    <depend package="flann" />
  
    <export>
      <cpp cflags="-I${prefix}/include -I${prefix}/msg_gen/cpp/include -I${prefix}/msg/cpp -I${prefix}/cfg/cpp" lflags="-Wl,-rpath,${prefix}/lib -L${prefix}/lib -lbigg_detector" />
      <nodelet plugin="${prefix}/nodelets.xml" />
    </export>
  </package>            

rein manifest.xml
  <package>
    <description brief="ReIn">
  
      The Recognition Infrastructure (ReIn) is a software library that
      facilitates rapid development for 2D/3D object and scene recognition. ReIn
      can create different computational graphs from its various modules by
      combining them together in parallel or in a cascade fashion. Examples
      include: object detectors, pose estimators, attention operators, etc.
  
      The backbone of ReIn is supported by OpenCV
      (http://opencv.willowgarage.com/) and PCL (http://pcl.ros.org).
  
    </description>
    <author>Marius Muja, Radu Bogdan Rusu</author>
    <license>BSD</license>
    <review status="unreviewed" notes=""/>
    <url>http://ros.org/wiki/rein</url>
  
    <!-- ROS data structures -->
    <depend package="sensor_msgs" />
    <depend package="geometry_msgs" />
  
    <!-- ROS dependencies (for ReIn_ros) -->
    <depend package="roscpp" />
    <depend package="nodelet" />
    <depend package="dynamic_reconfigure" />
    <depend package="tf" />
    <depend package="pcl_ros" />
    <depend package="image_geometry" />
  
    <depend package="cv_bridge" />
    <depend package="image_transport" />
  
    <!-- OpenCV/PCL -->
    <depend package="opencv2" />
    <depend package="pcl" />
    
    <rosdep name="libpq-dev" />
    <rosdep name="libsoci" />
  
    <export>
      <cpp cflags="-I${prefix}/include -I${prefix}/msg_gen/cpp/include -I${prefix}/msg/cpp -I${prefix}/cfg/cpp" lflags="-Wl,-rpath,${prefix}/lib -L${prefix}/lib -lrein -lrein_ros -lrein_tools" />
      <nodelet plugin="${prefix}/nodelets.xml" />
    </export>
  </package>                                                                         

Originally posted by sam on ROS Answers with karma: 2570 on 2012-10-03
Post score: 0

Original comments
Comment by Mani on 2012-10-04:
Could you please update this post with the contents of manifest.xml?

A:

Try to install libsqlite3-dev package.
sudo apt-get install libsqlite3-dev

Assuming you're on Ubuntu/Debian.

Once dev package installed, edit your CMakeLists.txt and add lines:
 # enable pkg_check_modules macro
 include(FindPkgConfig)
 pkg_check_modules(SQLITE sqlite3)

and then add the found library to your project by:
 target_link_libraries(${PROJECT_NAME} ${SQLITE__LIBRARIES})

or
 rosbuild_add_link_flags(${PROJECT_NAME} ${SQLITE_LDFLAGS})

Originally posted by Jakub with karma: 1821 on 2012-10-04
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by sam on 2012-10-05:
I tried to install this lib,but still couldn't solve this problem. What to do next? Thank you~
Comment by Mani on 2012-10-05:
Have you tried rosdep install rein?
Comment by sam on 2012-10-17:
rosdep command not found.
Comment by sam on 2012-10-17:
I have tried to revise CMakeLists.txt but nothing recoveried. What can I do next? Thank you~


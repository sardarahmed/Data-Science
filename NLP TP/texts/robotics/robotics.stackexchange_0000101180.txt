Q:

ros2 launch using ignition while run command line in ros2

How do you load some command line such as "ros2 topic pub --once /S0 std_msgs/msg/Float64 '{data: 1.5}' && ros2 topic pub --once /S1 std_msgs/msg/Float64 '{data: 1.5}'" while leave ignition bridge in the launch file?
Even better, how do you create a node where you can load ros2 command line?

Originally posted by kak13 on ROS Answers with karma: 113 on 2022-02-07
Post score: 0

Original comments
Comment by ChuiV on 2022-02-09:
I'm not sure I follow your question. Are you asking how to run ros2 topic pub ... from a launch file? If so, use the launch.actions.ExecuteProcess action.
Comment by kak13 on 2022-02-14:
Yes!! I think that's the one.
How do you use it exactly? I don't think I've ever seen it before

A:

Sounds like you're looking for the ExecuteProcess Launch action:
from launch import LaunchDescription
from launch.action import ExecuteProcess

def generate_launch_description():
    return LaunchDescription([
        ExecuteProcess(cmd=['ros2', 'topic', 'pub', '--once', '/S0',
                            'std_msgs/msg/Float64', '{data: 1.5}']),
        ExecuteProcess(cmd=['ros2', 'topic', 'pub', '--once', '/S1',
                            'std_msgs/msg/Float64', '{data: 1.5}']),
    ])

Another example can be found in the launch examples: https://github.com/ros2/launch/blob/master/launch/examples/launch_counters.py#L112

Originally posted by ChuiV with karma: 1046 on 2022-02-14
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by kak13 on 2022-02-16:
Thank you so much!


Q:

How to compile sicktoolbox_wrapper2

I'm trying to use the LMS511 laser scanner. After a deep search I found a recommended fork of the Sicktoolbox_wrapper2 at:  https://bitbucket.org/koreatech-ugv/laser_drivers
To install, from TerminaI I typed:
git clone https://bitbucket.org/koreatech-ugv/laser_drivers.git
then in catkin_ws: catkin_make
source devel/setup.bash
rosrun sicktoolbox_wrapper2 sicklms5xx
gives the error:
[rosrun] Couldn't find executable named sicklms5xx below /home/ros/catkin_ws/src/laser_drivers/sicktoolbox_wrapper2
Can anyone help?
Thanks,
Sam

Originally posted by Sam Wane on ROS Answers with karma: 11 on 2016-05-04
Post score: 1

Original comments
Comment by Sam Wane on 2016-05-04:
I realised I need to use rosbuild as in
http://wiki.ros.org/catkin/Tutorials/using_rosbuild_with_catkin
I've followed the tutorial and built the code but still get similar error:
[rosrun] Couldn't find executable named sicklms5xx below /home/ros/rosbuild_ws/sicktoolbox2/sicktoolbox_wrapper2
Comment by Sam Wane on 2016-05-04:
I do get the following error during the build process:
/bin/sh: 1: autoreconf: not found
[ rosmake ] Output from build of package sicktoolbox2 written to:
[ rosmake ]    /home/ros/.ros/rosmake/rosmake_output-20160504-
Comment by sai on 2017-06-05:
@Sam Wayne How did you solve this error ? rosrun sicktoolbox_wrapper2 sicklms_5xx Attempting to connect to Sick LMS 5xx @ 192.168.0.1:2111 A Timeout Occurred - SickLMS5xx::_setupConnection: select() timeout! [ERROR] Initialize failed
I am also facing the same issue!

A:

You are attempting to compile the package with Catkin, while it is a rosbuild one (legacy ROS build system). Please see the differences here.
It is possible to make a rosbuild overlay workspace on top of your catkin workspace. Please read Using robuild with catkin. Particularly pay attention to sections 3.3 and onwards.
P.S. Unfortunately I had no time to catkinize the package back in 2013 and now I have no access to the hardware to make sure everything works.
(it took me a while to understand I didn't press the Post button)
EDIT:
Regarding the autoconf. If you are on Ubuntu install it with:
sudo apt-get install autoconf

EDIT 2:
I tried to reproduce the error you have mentioned in the comments, but almost everything worked fine. The only problem I can spot is that you are cloning the laser_drivers stack into sicktoolbox2 directory, that seems to be wrong because the actual stack name is laser_drivers.
Make sure the workspaces were sourced correctly. To do that unset all ROS environment variables (the ones that have ROS_ prefix) or simply comment the lines in your .bashrc file that source ROS workspace setups, e.g. ~/catkin/devel/setup.bash (if you have any) and restart the terminal. Also remove the rosbuild workspace folder.
Then source catkin workspace:
$ source ~/catkin_ws/devel/setup.bash

Create rosbuild overlay:
$ mkdir ~/rosbuild_ws
$ cd ~/rosbuild_ws
$ rosws init . ~/catkin_ws/devel

Add laser_drivers stack with sicktoolbox2 to rosbuild overlay:
# Pay attention to the parameter after 'set' argument
$ rosws set laser_drivers --set https://bitbucket.org/koreatech-ugv/laser_drivers.git
$ rosws update laser_drivers

Source rosbuild overlay:
$ source ~/rosbuild_ws/setup.bash

Additionally, to make bash tab-completion work for downloaded packages and stacks:
$ rosstack profile
$ rospack profile

Finally, build the stack:
$ rosmake laser_drivers

In my case the last step failed to build hokyo_node package, but I think that can be ignored if you don't need it. The sicktoolbox2 and sicktoolbox_wrapper2 compiled without errors.
If you still encounter the problem with download_checkmd5.py after following the above steps, it might be necessary to reinstall ROS.

Originally posted by Boris with karma: 3060 on 2016-05-04
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Sam Wane on 2016-05-11:
Thank you. I've now installed 'autoconf' ok.
When I  'rosmake sicktoolbox2 '
I get:
Build failures with context:
/bin/sh: 1: /opt/ros/indigo/share/rosbuild/bin/download_checkmd5.py: not found
make: *** [build/rhuitl-sicktoolbox-7439818/trunk/unpacked] Error 127
Comment by Sam Wane on 2016-05-11:
in more detail:
rosws set sicktoolbox2 --git https://bitbucket.org/koreatech-ugv/laser_drivers.git
rosws update sicktoolbox2
rosmake sicktoolbox2
Builds with a failure looking for /bin/sh: 1: /opt/ros/indigo/share/rosbuild/bin/download_checkmd5.py: not found
Comment by Sam Wane on 2016-05-12:
Dear Boris,
thank you for your detailed answer. I have now managed to compile it as you mentioned.
Could you please tell me how to run?
I've tried $ rosrun sicktoolbox2 sicklms5xx
but get:
[rosrun] Couldn't find executable named sicklms5xx below /home/ros/catkin_ws/src/laser_drivers/sicktoolbox2
Comment by Boris on 2016-05-12:
@sam-wane The ROS-nodes are in the wrapper package, so you have to run them with rosrun sicktoolbox_wrapper2 sicklms_5xx
Comment by Sam Wane on 2016-05-12:
When I run the above, I get:
[rosrun] Couldn't find executable named sicklms_5xx below /home/ros/rosbuild_ws/laser_drivers/sicktoolbox_wrapper2
Comment by Boris on 2016-05-12:
Did you actually run rosmake laser_drivers? This command should make whole stack (in rosbuild terms). If you did, then try to compile just the wrapper with rosmake sicktoolbox_wrapper2. rosmake usually builds in parallel, so it is possible the wrapper didn't compile because of hokyo_node.
Comment by Sam Wane on 2016-05-13:
Fantastic! It works I believe since it is trying to contact the laser, I will resolve setting the correct ip address next and then test it on the LMS511. Thank you so much for your patience!
I have just ordered the outdoor Hokuyo too as a back up plan too so can run that with the Hokuyo node
Comment by Sam Wane on 2016-06-09:
Close, I've changed the ip address of Sick to 192.168.0.1 and can ping it, but I get the error when I run:
rosrun sicktoolbox_wrapper2 sicklms_5xx
Attempting to connect to Sick LMS 5xx @ 192.168.0.1:2111
A Timeout Occurred - SickLMS5xx::_setupConnection: select() timeout!
[ERROR]  Initialize failed
Comment by Boris on 2016-06-16:
Unfortunately I can't help you with this as I don't have the device. Maybe try to connect to the device from Windows machine via proprietary SICK software and make sure the network settings match...
Comment by sai on 2017-06-05:
@Sam Wayne How did you solve this error ? rosrun sicktoolbox_wrapper2 sicklms_5xx Attempting to connect to Sick LMS 5xx @ 192.168.0.1:2111 A Timeout Occurred - SickLMS5xx::_setupConnection: select() timeout! [ERROR] Initialize failed
I am also facing the same issue!


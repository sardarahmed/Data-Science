Q:

Laser filters limit scan angle opposite way and hector mapping limit of scan range

Hi guys,
As pointed in the wiki and here I have used the pacakge laser_filters with the function LaserScanAngularBoundsFilter to eliminate some points. However the filter acts on the opposite way I would like to.

As in the photo attached it ispossible to see that the points eliminated are the one on the front and not on the back. So the screenshot have the points I would like to remove. At the beginning I thought, ok easy, just change the sign of the upper and lower bound. But, seems that laser filter does not work if lower bound is bigger that upper bound.
Any hints guys?
For clarity, here the actual .yaml of the image above:
scan_filter_chain:
    - name: range
      type: LaserScanAngularBoundsFilter
      params:
        lower_angle: -1.57
        upper_angle: 1.57

Originally posted by matteopantano on ROS Answers with karma: 32 on 2017-08-25
Post score: 0

A:

What happens if you chain two filters like this?
scan_filter_chain:
  - name: range1
    type: LaserScanAngularBoundsFilter
    params:
      lower_angle: -3.14
      upper_angle: -1.57
  - name: range2
    type: LaserScanAngularBoundsFilter
    params:
      lower_angle: 1.57
      upper_angle: 3.14

Originally posted by Ed Venator with karma: 1185 on 2017-08-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by matteopantano on 2017-08-26:
Awesome! It worked! And also hector mapping works! Here pic: picture
Comment by Mekateng on 2017-10-06:
Would you send your codes to my mail Mr. @matteopantano? mechinengineer@gmail.com
Comment by matteopantano on 2017-10-09:
There is no code for using LaserScanFilters, maybe wiki helps how to!
Comment by Jasmin on 2019-08-02:
Hi, I'm using an RPLIDAR A2 and I have the same need but the solution didn't work for me. Each filter is working alone but the two don't work together and the output is a scan with just one value because I've got  angle_min=angle_max=1.57079660892.
Can anyone help me with that? Thanks.
Comment by Jasmin on 2019-08-02:
I tried this configuration instead,
 scan_filter_chain:
- name: laser_cutoff
  type: laser_filters/LaserScanAngularBoundsFilterInPlace
  params:
    lower_angle: -1.5708
    upper_angle: 1.5708 

It kind of worked because I'm left with the front part of the scan but the range of the output scan is like the input scan and not 180Â° as I need it to be.


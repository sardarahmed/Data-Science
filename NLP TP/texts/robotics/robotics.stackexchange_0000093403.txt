Q:

How to start ROS2 node automatically after starting the system?

How to make autostart of nodes in ROS2 at system startup? I tried through rc.local and nothing good came of it.

Originally posted by D0l0RES on ROS Answers with karma: 23 on 2019-09-26
Post score: 0

A:

We use systemd service with properly defined environment variables, works fine.
Example:
[Unit]
Description="Project daemon"

[Service]
Environment="ROS_DOMAIN_ID=42"
Environment="LD_LIBRARY_PATH=/opt/project/install/lib:/opt/ros/dashing/lib"
Environment="PYTHONPATH=/opt/project/install/lib/python3.6/site-packages:/opt/ros/dashing/lib/python3.6/site-packages/"
Environment="AMENT_PREFIX_PATH=/opt/project/install:/opt/ros/dashing"
    
ExecStart=/opt/ros/dashing/bin/ros2 launch --debug project_bringup project.launch.py
Restart=on-failure

[Install]
WantedBy=multi-user.target

Originally posted by Dmitriy with karma: 78 on 2019-10-02
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Andromeda on 2021-08-11:
Can you tell us more infos about that? For instance: where do you put that file? And why did you specify WantedBy ?
Comment by Lar on 2023-02-13:
Can someone please explain how can I know what to put in the "Environment"? I tried to put in the paths I get when running "printenv | grep -i ROS" (I get much longer paths for some reason) but I still get "Package not found" when running the service.


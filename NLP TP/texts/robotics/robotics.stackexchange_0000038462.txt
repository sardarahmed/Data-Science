Q:

Quaternion covariance matrix for imu_filter

Hi everyone,
I really hope that someone can help me as I'm quite stuck. I'm using imu_filter to apply a Kalman filter to my visual odometry / IMU measurements. My only problem is: imu_filter expects rotations as quaternions, and hence also wants the covariance matrix to be based on quaternions.
From my odometry, however, I only get Euler angles. I've been trying a lot to at least get an estimate for the quaternion variances, but so far I haven't been very successful. Googling, I found one very short (actually just 2 pages) technical report of which I think might cover this problem: Link
But I'm absolutely unable to understand it. Does anyone have an idea for a simple way to at least get a rough estimate of the variances? I don't want to use a static parameterization, as the variances vary quite a bit. I'd really appreciate any help.
Thanks,
Konstantin

Originally posted by Konstantin on ROS Answers with karma: 11 on 2012-03-05
Post score: 1

A:

Try using robot_pose_ekf package and make sure that the frame_id of IMU is changed to base_footprint. Using the ROBOT_POSE_EKF package , a Extended Kalman Filter can be applied to IMU and Visual Odometry data..I guess that you wont have any problem with the covariances by using this package..
Also there is another package called ethzasl_sensor_fusion which takes in "pose" information and fuses with IMU information.
There are tutorials on how to use this package too.
good luck

Originally posted by sai with karma: 1935 on 2012-10-06
This answer was ACCEPTED on the original site
Post score: 1


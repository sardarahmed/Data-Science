Q:

Fuerte turtlebot simulator Ubuntu 12.04 precise

Hi,
I am having a hard time running the turtlebot simulator with ros-fuerte on Ubuntu precise 12.04. I used to run the simulator without any problems with Ubuntu Lucid and ros-electric. It seems to be an issue with the gazebo server and the boost libraries. More specifically, after issuing:

roslaunch turtlebot_gazebo turtlebot_empty_world.launch
I get the following error:
--
waiting for service spawn_urdf_model
gzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:418: T* boost::shared_ptr::operator->() const [with T = urdf::Inertial]: Assertion `px != 0' failed.

Service call failed: transport error completing service call: unable to receive data from sender, check sender's logs for details

Aborted (core dumped)

I have observed the same behavior on 3 different 12.04 machines (Ububtu, lubuntu, Xubuntu). Is this a known problem for fuerte-precise turtlebot simulator or am I doing sth wrong? Note that stripping down the turtlebot urdf to just the create base seems to  work - but that's definitely not a solution.

Originally posted by Savvas on ROS Answers with karma: 43 on 2012-07-10
Post score: 4

A:

I noticed that in the turtlebot_description/urdf/turtlebot_body.urdf.xacro file they had commented out this:
<inertial>
  <mass value="0.0001" />
  <origin xyz="0 0 0" />
  <inertia ixx="0.0001" ixy="0.0" ixz="0.0"
          iyy="0.0001" iyz="0.0" 
          izz="0.0001" />
</inertial>

After removing the commented out part, the turtlebot was spawned correctly and all of the topics seem to be published as well.
The only issue is that while running you will be bombarded by this warning:
Warning [RaySensor.cc:206] ranges not constructed yet (zero sized)
But other than that it seems to run correctly.

Originally posted by mgrimson with karma: 36 on 2012-07-12
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Savvas on 2012-07-12:
Thank you very much for this. Indeed this fixed the problem.
Comment by bit-pirate on 2012-07-24:
This seems to be a more general problem. I guess, this part was commented out, because otherwise KDL complains about not being able to handle inertia in the first link. Leaving the inertia out was working for Electric, but now it crashes with the new Gazebo.


Q:

when is the callback function called

Hi all,
I am slightly confused about when the callback functions are called from ROS Subscriber. Taking the following code as example:
#include "ros/ros.h"
#include <geometry_msgs/Vector3.h>

void callback_fn(const geometry_msgs::Vector3::ConstPtr& ticks)
{
}

int main(int argc, char **argv)
{
    ros::init(argc,argv,"test");
    ros::NodeHandle n;
    ros::Subscriber re_msg = n.subscribe("re_ticks",1000,callback_fn);
    ros::spin();
}

So my question is whenever ros::spin() is called, does it call all the callback functions or only those for which the value of the message on the corresponding topic has changed? So in the above example, Is callback_fn called every time ros::spin() is executed or only when the message on the topic "re_ticks" has changed?
Thanks in advance.
Naman Kumar

Originally posted by Naman on ROS Answers with karma: 1464 on 2015-04-20
Post score: 0

A:

Messages don't "change". Messages are send from someone and the received. So, the callback will be called every time a new message is received. This is independent from how fast the loop inside ros::spin goes (unless messages arrive faster than it can handle them) and from the values of the message, i.e., if someone sends the same message 5 times with the same unchanged values, the callback should be called 5 times.

Originally posted by dornhege with karma: 31395 on 2015-04-20
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Naman on 2015-04-20:
yes..that makes sense..Thanks!


Q:

STAGE creates bag files with a wrong timestamp

hello everyone
in these days, i've tried to create bag files by recording messages generated by STAGE robot simulator.
The problem is that every bag file generated has a timestamp associated to the date of linux's birth (january 1st, 1970).
I tried twice and I got same problem. This doesn't happen if i generate a custom topic, write on it by my code and store messages in a bag file. in this case, bag file has a correct timestamp.
could you tell me how to force system to write properly timestamps for bags generated by STAGE?
thanks for support.

Originally posted by ubisum on ROS Answers with karma: 23 on 2012-12-24
Post score: 0

A:

Stage generates simulated time, which begins at zero (Jan. 1, 1970).
I don't know how to change that.
If you run another node in the same ROS graph with /use_sim_time set, it should generate compatible timestamps with the messages stage publishes.

Originally posted by joq with karma: 25443 on 2012-12-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tfoote on 2012-12-25:
As Jack mentions the intended behavior is to have all nodes running with /use_sim_time.  This allows everything to remain syncronized even if the sim runs faster or slower than real time.
Comment by ubisum on 2012-12-26:
thanks for your answer. i started roscore, then i wrote
rosparam set /use_sim_time true.
Then i wrote
rosbag play --clock bag1.bag bag2.bag
nothing happened. execution of first bag continues to last 40 years since his 1970 timestamp. maybe i mistooke somewhere. do u know where?
Comment by ubisum on 2012-12-26:
moreover: how to tell STAGE node to run with /use_sim_time?
Comment by joq on 2013-01-14:
Set the /use_sim_time parameter before running Stage. Running rosbag with the --clock option causes it to publish the /clock topic, not what you want when running Stage.


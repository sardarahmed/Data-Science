Q:

rosandroid tutorial_pubsub connection bewteen RosTextView and Talker-message

In the talker the message is published
in the res/layout a rostextview is created
where is the link that makes the rostextview show the message?
Thanks

Originally posted by stefan on ROS Answers with karma: 15 on 2014-08-06
Post score: 0

A:

Could you indicate what wasn't clear in the extended answer to your previous question?
If you want the actual source, see RosTextView.java in org.ros.android.view, lines 68 to 92 (this is the Hydro version):
public void onStart(ConnectedNode connectedNode) {
  Subscriber<T> subscriber = connectedNode.newSubscriber(topicName, messageType);
  subscriber.addMessageListener(new MessageListener<T>() {
    @Override
    public void onNewMessage(final T message) {
      if (callable != null) {
        post(new Runnable() {
          @Override
          public void run() {
            setText(callable.call(message));
          }
        });
      } else {
        post(new Runnable() {
          @Override
          public void run() {
            setText(message.toString());
          }
        });
      }
      postInvalidate();
    }
  });
}

The onNewMessage(..) method essentially calls the callback registered earlier by the user, which in the case of a std_msgs::String could just return the string itself.

Btw: you might be interested in the ROS Java Special Interest Group.

Originally posted by gvdhoorn with karma: 86574 on 2014-08-06
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by stefan on 2014-08-07:
ok... :) ... i guess i lost sight of the wood for the trees yesterday - should have looked in my onCreate in the MainActivity - i added a whole lot of stuff in between meanwhile
Comment by gvdhoorn on 2014-08-07:
So, question answered then?


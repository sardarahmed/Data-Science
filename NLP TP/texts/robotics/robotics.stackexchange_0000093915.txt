Q:

Error with real UR5: Can't accept new action goals. Controller is not running

I get the following error when I try to send the UR5 a goal: Can't accept new action goals. Controller is not running. 
Here are the commands I am running:
$ roslaunch ur_robot_driver ur5_bringup.launch robot_ip:=169.254.198.35 kinematics_config:="${HOME}/my_robot_calibration.yaml"
$ roslaunch ur5_moveit_config ur5_moveit_planning_execution.launch sim:=true
$ roslaunch ur5_moveit_config moveit_rviz.launch config:=true

The console is however printing that the controllers have been loaded:
[INFO] [1574671438.720679]: Controller Spawner: Loaded controllers: joint_state_controller, scaled_pos_traj_controller, speed_scaling_state_controller, force_torque_sensor_controller
[INFO] [1574671438.728787]: Started controllers: joint_state_controller, scaled_pos_traj_controller, speed_scaling_state_controller, force_torque_sensor_controller

RViz is still able to plan the goal. Does anyone know what the issue is? Let me know if more information is needed.

Originally posted by shu on ROS Answers with karma: 64 on 2019-11-25
Post score: 1

A:

Can't accept new action goals. Controller is not running.

The "controller" here is most likely the JointTrajectoryController (see here where it prints that message). Even though the spawner has tried to start it, it may not actually be running, probably due to the robot controller (ie: the UR controller) not being in the correct state.
Make sure you have a TP program running that starts the External Control mode.
See UniversalRobots/Universal_Robots_ROS_Driver#4 for an issue about the exact same problem.
There is an open PR to add a FAQ section to the ur_robot_driver documentation which also describes this: UniversalRobots/Universal_Robots_ROS_Driver#44.
Finally: always copy-paste verbatim console output into your question. It's very difficult to help you if you paraphrase errors or don't show context.

Originally posted by gvdhoorn with karma: 86574 on 2019-11-25
This answer was ACCEPTED on the original site
Post score: 1


Q:

Help with hydrodynamics plugin in gazebosim garden

I was working on a AUV simulation which worked quite well until I broke my ubuntu 20.04 environment.
After I reinstalled ubuntu 22.04, I also had to reinstall Gazebo Garden and I noticed that the binary installation command had changed from last time I had to use it.
After downloading all necessary packages for my project I tried to run it like I used to and now my submarine accelerates straight up until it reaches the air and makes the simulation crash.
The parameters of the Hydrodynamics plugin seem to work differently from before and even so I fiddled with the signs I can't quite find a configuration where my robot moves as before.
From what I have seen, if the 2nd order stability derivative along z axis has a negative sign, the robot accelerates vertically up instead of slowing down and conversely, if the sign is positive, the robot acceleration vertically down increases endlessly. Because of that I couldn't test much along x and y axis but I suspect it to be the same.
Another point would be that the graded_buoyancy example file behaves weirdly, with a bloc shooting straight into the sky and another spinning very fast above water.
Thank you, I look forward to any help.

Originally posted by pamariot on Gazebo Answers with karma: 3 on 2023-02-08
Post score: 0

Original comments
Comment by azeey on 2023-02-08:
There's a discussion in https://github.com/gazebosim/gz-sim/pull/1784 that might be helpful to you.

A:

Further to @azeey's comment - there was a similar issue with the bluerov2 model which was fixed by updating the parameter labels for the quadratic damping terms (the formula use in the hydrodynamics plugin changed after gz-sim7_7.2.0). This PR contains the fix for the bluerov2: https://github.com/clydemcqueen/bluerov2_ignition/pull/5.
It changes the labels <xUU> to <xUabsU> etc.

Originally posted by srmainwaring with karma: 61 on 2023-02-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pamariot on 2023-02-09:
Thank you the fix of changing xUU to xUabsU (same for y and z) makes my robot behave normally!


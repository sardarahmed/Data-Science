Q:

cannnot get orientation and twist when I use navsat_transform_node

I am using robot_localization. I cannot get orientation and twist when I use navsat_transform_node
/odometry/gps:
header: 
  seq: 28094
  stamp: 
    secs: 937
    nsecs: 125000000
  frame_id: map
child_frame_id: ''
pose: 
  pose: 
    position: 
      x: 2.49630257778
      y: 17.7388892993
      z: 0.0
    orientation: 
      x: 0.0
      y: 0.0
      z: 0.0
      w: 1.0
  covariance: [1e-08, -5.048709793414476e-29, 0.0, 0.0, 0.0, 0.0, 5.048709793414476e-29, 1e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1e-08, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
twist: 
  twist: 
    linear: 
      x: 0.0
      y: 0.0
      z: 0.0
    angular: 
      x: 0.0
      y: 0.0
      z: 0.0
  covariance: [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
---

configuration:
<!-- Launch file for navsat_transform_node -->

<launch>

    <node pkg="robot_localization" type="navsat_transform_node" name="husky1_navsat_transform_node" respawn="true" output="screen">

      <param name="frequency" value="30"/>

      <param name="delay" value="3"/>

      <param name="magnetic_declination_radians" value="0.00003"/>

      <param name="yaw_offset" value="0"/>

      <param name="zero_altitude" value="true"/>

      <param name="broadcast_utm_transform" value="true"/>

      <param name="publish_filtered_gps" value="true"/>

      <param name="use_odometry_yaw" value="false"/>

      <param name="wait_for_datum" value="false"/>

      <remap from="/imu/data" to="/husky1/imu/data"/>
      <remap from="/odometry/filtered" to="/husky1/odometry/global"/>
      <remap from="/gps/fix" to="/husky1/navsat/fix"/>

      <remap from="/odometry/gps" to="/husky1/navsat/utm"/>
      <remap from="/gps/filtered" to="/husky1/navsat/fix/filtered"/>

    </node>

</launch>

/husky1/odometry/global:
---
header: 
  seq: 42357
  stamp: 
    secs: 1412
    nsecs: 656000000
  frame_id: map
child_frame_id: base_link
pose: 
  pose: 
    position: 
      x: 5.67409634562
      y: -0.00536289633199
      z: 0.0
    orientation: 
      x: 0.0
      y: 0.0
      z: -0.000118362412395
      w: 0.999999992995
  covariance: [70.66050408625279, 1.657914765327644e-06, 0.0, 0.0, 0.0, -2.806335318895866e-15, 1.6579147653275846e-06, 70.66541949291299, 0.0, 0.0, 0.0, -4.383180677631162e-12, 0.0, 0.0, 4.99170811431798e-07, -1.5429649866114815e-18, 2.7391211179689968e-14, 0.0, 0.0, 0.0, -1.542964986611482e-18, 4.983498248917792e-07, 5.097058643510261e-23, 0.0, 0.0, 0.0, 2.7391211179689968e-14, 5.0970586584165347e-23, 4.983498248908744e-07, 0.0, -2.8063353188958655e-15, -4.383180677631163e-12, 0.0, 0.0, 0.0, 9.99999583339231e-10]
twist: 
  twist: 
    linear: 
      x: -1.00203964705
      y: 0.0
      z: 0.0
    angular: 
      x: 0.0
      y: 0.0
      z: -0.015310633634
  covariance: [0.0007568863759984565, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0007568863759984565, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 4.987593009686394e-07, -4.578453641153633e-26, 6.566583313329733e-23, 0.0, 0.0, 0.0, -4.578453641153633e-26, 4.95145362870019e-07, 5.896887380344254e-30, 0.0, 0.0, 0.0, 6.566583313329732e-23, 5.896885129504885e-30, 4.95145362870019e-07, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 2.4248389812764786e-05]
---

/huksy1/imu/data:
---
header: 
  seq: 75087
  stamp: 
    secs: 1502
    nsecs: 160000000
  frame_id: base_link
orientation: 
  x: 6.43851356416e-05
  y: 7.52796181221e-05
  z: 0.812650335544
  w: 0.582751595731
orientation_covariance: [2.6030820491461885e-07, 0.0, 0.0, 0.0, 2.6030820491461885e-07, 0.0, 0.0, 0.0, 0.0]
angular_velocity: 
  x: -0.00694041450798
  y: 0.00659595053377
  z: 0.629754707118
angular_velocity_covariance: [2.5e-05, 0.0, 0.0, 0.0, 2.5e-05, 0.0, 0.0, 0.0, 2.5e-05]
linear_acceleration: 
  x: 0.0487142371412
  y: 0.769819778017
  z: 9.80907450176
linear_acceleration_covariance: [2.5e-05, 0.0, 0.0, 0.0, 2.5e-05, 0.0, 0.0, 0.0, 2.5e-05]
---

/husky1/navsat/fix:
---
header: 
  seq: 62270
  stamp: 
    secs: 1557
    nsecs: 175000000
  frame_id: base_link
status: 
  status: 0
  service: 0
latitude: 49.9002823995
longitude: 8.90012318601
altitude: 0.144989392771
position_covariance: [1e-08, 0.0, 0.0, 0.0, 1e-08, 0.0, 0.0, 0.0, 1e-08]
position_covariance_type: 2
---

What should I do? Thanks.

Originally posted by Devin on ROS Answers with karma: 62 on 2016-02-12
Post score: 0

A:

navsat_transform_node doesn't produce orientation or twist data. It just converts your GPS (UTM) position to you robot's world frame.

Originally posted by Tom Moore with karma: 13689 on 2016-02-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Devin on 2016-02-12:
Thanks.
But how can I get the velocity direction of robot? I think I need to collect several coordinate data from GPS and compute the velocity direction. Any easier method?
Comment by Venkat Ganesh on 2016-05-24:
@Devin I'm not sure if you still need this but you can fuse the output of navsat_transform_node (transformed GPS information in your robot's frame) with IMU/Odometry information using an ekf_localization_node to get a nav_msgs/Odometry message (Pose, Twist)
Comment by Tom Moore on 2016-05-30:
That's true. Additionally, the EKF will produce an estimated velocity if you keep giving it only pose data coming out of navsat_transform_node.


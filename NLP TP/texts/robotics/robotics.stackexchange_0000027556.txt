Q:

heightmap "Coordinates out of range" error

Hi,
I'm looking at the heightmap tools in gazebo but getting this error.   The heightmap works OK when I use the shipped example png:

          
            
                 file://media/materials/textures/heightmap_bowl.png
              1 1 1
              0 0 0
            
          
        
But when I swich to my own png I get a load of errors like
Error [Image.cc:311] Image: Coordinates out of range [995 1024]
Something gets loaded into gazebo, I can see a spiky terrain (it should be smooth) that suggests there may be some problem interpreting bytes as pixels.   There is an area that's all zero height which does display correctly.
My own png has 1025x1025 pixels, and I've tried saving it in 8-bit (heights 0-255) and 16-bit, with no change to the error.  It is supposed to represent an area of 2050m x 2050m, with heights from 0 to 250m.
Is there something I need to change in the size setting perhaps, I have tried
2050 2050 250
but still getting the error.

Originally posted by charlesfox on Gazebo Answers with karma: 11 on 2015-11-05
Post score: 0

A:

Answering own question for future reference -- problem was that pngs were still being saved as 16bit not 8bit.   Looks like Gazebo interprets 16bit image values as pairs of 8bit values, which gives rise to the choppy/buggy appearance.

Originally posted by charlesfox with karma: 11 on 2015-11-06
This answer was ACCEPTED on the original site
Post score: 0


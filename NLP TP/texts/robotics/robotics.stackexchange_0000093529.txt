Q:

Map is not initialized, with Rviz and Gazebo simulation, ROS2

Hi. I have been following the Turtlebot3 tutorial with ROS2 Dashing (http://emanual.robotis.com/docs/en/platform/turtlebot3/ros2/#ros2) which works fine for all the steps.
Now, i want to try out simulation in gazebo and navigation2 with a simple robot i have built on my own. As a starter i have been using the turtlebot files, the only thing i have changed is the design of the robot (inside the model and urdf files). The sensors etc. is kept the same. I also use the map and world for turtlebot3.
I want to perform the simulation part in the tutorial.
First I run the command:
 ros2 launch turtlebot3_gazebo turtlebot3_world.launch.py

which correctly visualize the robot and world in Gazebo.
Then I run
ros2 launch turtlebot3_navigation2 navigation2.launch.py use_sim_time:=True map:=$HOME/map.yaml

RviZ opens with the correct map, but a lot of errors occur both in Rviz and in the terminalwindow:
[rviz2-9] [ERROR] [rviz2]: "map" passed to lookupTransform argument target_frame does not exist.
[amcl-3] [INFO] [amcl_rclcpp_node]: [signalFailure] Drop message: frame 'base_scan' at time 21.617 for reason(0)
When I used the turtlebot model, this errors also occurred, but they where removed when I set the initial pose for the robot.
Now, when I try to set the initial pose, the command line tells that amcl has received an initial pose and set it:
[amcl-3] [INFO] [amcl]: initialPoseReceived
[amcl-3] [INFO] [amcl]: Setting pose (0.000000): 1.445 0.511 -2.742
[amcl-3] [INFO] [amcl]: Received a 384 X 384 map @ 0.050 m/pix
[amcl-3] [INFO] [amcl]: Setting pose (0.000000): 1.445 0.511 -2.742
But the errors in rviz are still there and the command window keeps printing the same errors as before.
The error in Rviz are Global Status: Error, Fixed Frame:Frame [map] does not exist.
I assume it is the transform between the map and gazebo/odom(?) which is missing, but I tought it would be fine when I set the initial pose for the robot.
Does anyone have any suggestions to what could be the problem?

Originally posted by ninamwa on ROS Answers with karma: 81 on 2019-10-10
Post score: 3

A:

Try to have the Fixed Frame changed. For example, a world frame.
http://wiki.ros.org/rviz/UserGuide#Coordinate_Frames

Originally posted by vaspo with karma: 61 on 2020-06-12
This answer was ACCEPTED on the original site
Post score: 1


Q:

can hector_slam be used to create 3D models?

Hello,
Does hector_slam create only 2D maps or can it be used to created 3D models as well?
My data comes from a Velodyne LiDAR and I need to create a 3D model of the object that is being scanned. I am looking for the right tool to use and was not sure if hector_slam could create 3D models. If it can't and you can recommend something else, please do so :)
Thank you.

Originally posted by chukcha2 on ROS Answers with karma: 89 on 2016-02-16
Post score: 1

A:

hector_slam performs localization only in 2D, but if you combine that information with IMU data (for roll and pitch) and additional data about the z position (from prior knowledge, odometry or other sensors), it can be used for 3D mapping. This approach is used for building a 3D octomap-based map via mapping with known poses using a RGB-D sensor with our autonomous USAR robots as visible in this video.
Depending on your accuracy requirements, sensor motion and scale of environment other solutions might be worth a look. See for instance this recent video made using a Velodyne HDL-64e. ethzasl_icp_mapping also uses libpointmatcher and you could try that.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-02-17
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by chukcha2 on 2016-02-17:
Thank you Stefan. It is not immediately clear from the video the quality of the 3D model, the resolution, etc. but I will look into libpointmatcher and ethzasl_icp_mapping. I am specifically interested in mounting VLP-16 on a drone and scanning a small building with a couple cm or better resolution.
Comment by jodafo on 2016-02-29:
Hi, I'm doing something similar as you are up to. I first tried using lpm/ethzasl_icp_mapping but was disappointed by the high percentage of points that you have to filter out to get it running in realtime. I found configuring it quite hard. Please let me know if you're better at tweaking params :)
Comment by jodafo on 2016-02-29:
Also, I implemented a point to plane algo that doesnt rely on kd trees for surface normal approximation and src/tar point association. It seems to be a_lot faster (>20iter, 100%pts) than lpm and doesnt deteriorate with map size . I'll try to write up the approach and release code end of next month
Comment by chukcha2 on 2016-03-02:
@jodafo, I haven't had a chance to try it yet. But please let me know of your results :)
Comment by Clack on 2016-03-03:
Our team is also working on 3D SLAM by modifying some existing 2D SLAM algorithm such as hector_slam, gmapping and MRPT icp-SLAM. We are not sure whether we can successfully modify hector_slam because it seems hard to add IMU data to it, neither is gmapping.
Hope to see any of your progress :)
Comment by hashim on 2016-04-10:
Hi Clack, how much work have you done ? have you been successful in modifying hector_slam to get a 3D SLAM ?
Comment by Clack on 2016-04-10:
We've mainly focused on building a 2D SLAM system recently. However one of our teammates planned to convert 2D point cloud to 3D using data obtained by IMU. He will have this done in maybe one month. I will inform you as soon as we have a progress. And we are also curious about your idea :)
Comment by Clack on 2016-04-10:
I mean the 3D point clouds are based on 2D ones obtained by the laser scanner. And IMU data are used to build a transform relationship between 2D and 3D.
Comment by ateator on 2016-06-22:
clack, do you have any updates? that is exactly what I am trying to do
Comment by Clack on 2016-06-24:
We recently encountered problems with 3D point clouds distortion caused by IMU and we are looking for papers and other resources to figure out how to fix that. If we had this done we will inform you ASAP :)
Comment by ateator on 2016-06-24:
Thank you. Do you have any hints of things I could look into to try to get started? I have a 2D LaserScan working with octomap and I have ordered the Razor 9DOF IMU. I'm wondering if the Third dimension is integrated automatically by ROS once I have the IMU node?
Comment by Clack on 2016-06-24:
I think so, the standard IMU message type in ROS is 3 dimensional, that is, the node will output 3D points which represents the pose of the IMU. But if you want to use those messages to convert your 2D LIDAR points to 3D, you need to write a new node, which is exactly our group is working at.
Comment by ateator on 2016-06-28:
I look forward to hearing about your progress :)
Comment by ricot on 2017-05-02:
Hello, I am new to ROS and trying to do the exact same thing. @Clack what were the main hurdles you went through and were you able to get the 3d points out of the 2d Lidar ? Are there guidelines somewhere that I could follow and/or is your code public ?
Comment by Clack on 2017-05-02:
Hello, ricot. Actually I'm not working on this topic any more. However one of the members in our lab is now using a kind of framework called LOAM to build a 3D map using LiDAR and IMU. The performance is quite impressive. Hope this will help :)


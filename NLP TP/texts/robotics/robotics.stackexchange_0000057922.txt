Q:

Why do I get this error when catkin_make my package?

Linking CXX executable /home/joao/catkin_ws/devel/lib/testbot_description/parser /opt/ros/hydro/lib/liburdf.so: undefined reference to `ros::console::print(ros::console::FilterBase*, void*, ros::console::levels::Level, char const*, int, char const*, char const*, ...)' /opt/ros/hydro/lib/liburdf.so: undefined reference to `ros::console::print(ros::console::FilterBase*, void*, ros::console::levels::Level, std::basic_stringstream<char, std::char_traits<char>, std::allocator<char> > const&, char const*, int, char const*)' collect2: ld returned 1 exit status make[2]: *** [/home/joao/catkin_ws/devel/lib/testbot_description/parser] Error 1 make[1]: *** [testbot_description/CMakeFiles/parser.dir/all] Error 2 make: *** [all] Error 2 Invoking "make" failed

[ROS Hydro  and Ubuntu 12.04]
I am trying to follow the urdf parser tutorial.
My testbot_description package has a /src/parser.cpp   file  and a /urdf/my_robot.urdf  file
Both are identical to the ones suggested by the tutorial page. (I already copied and pasted the code to make sure).
This is my CMakeLists:
cmake_minimum_required(VERSION 2.8.3)
project(testbot_description)

## Find catkin macros and libraries
## if COMPONENTS list like find_package(catkin REQUIRED COMPONENTS xyz)
## is used, also find other catkin packages
find_package(catkin REQUIRED COMPONENTS urdf)

## DEPENDS: system dependencies of this project that dependent projects also need
catkin_package(
#  INCLUDE_DIRS include
#  LIBRARIES testbot_description
#  CATKIN_DEPENDS urdf
#  DEPENDS system_lib
)

include_directories(
  ${catkin_INCLUDE_DIRS}
)

add_executable(parser src/parser.cpp)
target_link_libraries(parser ${catkin_LIBRARIES})

And this is my package.xml:
<package>
  <name>testbot_description</name>
  <version>0.0.1</version>
  <description>The testbot_description package</description>

  <maintainer email="joao.cicero@ifce.edu.br">Joao Cicero</maintainer>

  <license>BSD</license>

  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>urdf</build_depend>
  <run_depend>urdf</run_depend>

  <!-- The export tag contains other, unspecified, tags -->
  <export>
    <!-- You can specify that this package is a metapackage here: -->
    <!-- <metapackage/> -->

    <!-- Other tools can request additional information be placed here -->
  </export>
</package>

Originally posted by Joao Ferreira on ROS Answers with karma: 81 on 2014-03-14
Post score: 0

Original comments
Comment by BennyRe on 2014-03-15:
Please also post your package.xml
Comment by Joao Ferreira on 2014-03-15:
Thanks, BennyRe.  I just added it. I hope it will help.
Comment by Joao Ferreira on 2014-03-15:
I just realized that when I comment the code that calls for initFile()  I get rid of this error and I am able to build my package.
In my parser.cpp , if I keep the
"
if (!model.initFile(urdf_file))
{
ROS_ERROR("Failed to parse urdf file");
return -1;
}
"
the error appears again.

A:

Well, I don't know why, but when I git cloned the robot_model package to my catkin workspace, instead of just installing it using apt-get  I finally managed to build my testbot_description package.
Does anyone know why? At least I can proceed with the urdf tutorials, now, and I hope this will help others.
$ cd ~/catkin_ws/src

$ git clone https://github.com/ros/robot_model

$ cd ~/catkin_ws

$ catkin_make

Originally posted by Joao Ferreira with karma: 81 on 2014-03-17
This answer was ACCEPTED on the original site
Post score: 0


Q:

Is the gazebo simulator deterministic

Can anybody confirm whether the gazebo simulator, and the sensors in simulation as used in ROS are deterministic?
For example, is the PR2 guaranteed to get the same sensor measurements if instantiated the same way.
Edit: As a concrete example - suppose the PR2 is instantiated and in front of it a table and few objects on the table (all created using spawn_model from the same launch file). Example sensor use is the pr2_tabletop_object_detector and example motor control is the pr2_pick_and_place_manager. Assume that the last two are deterministic given the same information from the basic robot sensors. Can we expect the sensor information, and the effect of robot actions to be the same?

Originally posted by Dimitar Simeonov on ROS Answers with karma: 535 on 2011-08-29
Post score: 2

Original comments
Comment by hsu on 2011-08-29:
Hi, please be a little bit more specific about the scenario you are trying to reproduce?  E.g. is dynamics involved?  is the information transmitted over ros nodes? etc.  thanks.

A:

What is your "deterministic" requirement?  E.g. Same mantissa/exponent for all rigid body states?  Identical sensor generation for all the Pixel/Ray traces?  Or Behavioral, i.e. pick up the coke can again :) ?
With regards to gazebo's LCP solutions for constrained rigid body dynamics, I am sure you are familiar with "jittery" states it creates (try rxplot one of the joint_states topics).  The jitters are deterministic if given exactly the same initial conditions, environmental inputs and with the same timing.
In the scenario you described above, if by "deterministic" you imply precisely the same  world state down to machine precision, then no.  Given all the higher level components (ros nodes outside of gazebo) are asynchronous, timing of executions vary in sim/hardware and is dependent on cpu load, coupled with jitters from the LCP solution yields non-deterministic behavior.

Originally posted by hsu with karma: 5780 on 2011-08-29
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Dimitar Simeonov on 2011-08-29:
Thank you. I was wandering more about the jitters- and supposed they are deterministic but wanted to double check. Beyond simulation state, I doubt anyone can assume determinism in robotics.


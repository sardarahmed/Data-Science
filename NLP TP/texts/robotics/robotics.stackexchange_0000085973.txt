Q:

Gazebo model stuck in ground after enabling joint controllers

Hi there.
I am struggling with getting my RC Car model to work properly with Gazebo. I have followed both the Gazebo and ROS tutorial on how to create the URDF (XACRO) files and the required Gazebo launch file.
With just the joint state publisher I am able to view the model correctly in RVIZ. But whenever I include the joint controllers and spawn the model in Gazebo it will just spawn within the ground and without any wheel.
I have uploaded all the files to the following Git repository: https://github.com/mindThomas/JetsonCar-Simulation
Any clues about what could be wrong? You can try and run the Gazebo model and see for yourself:
roslaunch jetsoncar_description gazebo.launch

Thank you in advance.
Best regards,
Thomas Jespersen

Originally posted by mindthomas on ROS Answers with karma: 61 on 2018-03-18
Post score: 0

Original comments
Comment by gvdhoorn on 2018-03-18:
Please see #q284241, I'm not sure, but you might be running into the same problem.
Comment by mindthomas on 2018-03-18:
Thanks for your suggestion. Unfortunately even changing all controllers to be just JointVelocityController does not solve the problem. The model still spawns within the ground and can not be moved above ground.

A:

I have solved the problem.
The problem was related to some inertias being too small, probably causing numerical issues or crashes.
In this case the wheel inertia ended up being less than 0.0001 (due to a low wheel weight) which seems to have caused the problem with the car being stuck in the ground when controllers and transmission were attached to the wheels.
Furthermore I realized that the same thing can happen if the PID constants for the controllers are too small.
See also: http://answers.gazebosim.org/question/4102/my-robot-blows-up-when-i-launch-the-controllers-update-2/

Originally posted by mindthomas with karma: 61 on 2018-03-24
This answer was ACCEPTED on the original site
Post score: 2


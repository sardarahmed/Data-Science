Q:

Deprecated Kinect driver superior to the new one

Hey everyone
I have been working for a project for a couple of months now which includes cup detection using the Kinect camera. After the release of Fuerte I upgraded my machines accordingly, but apparently I forgot the machine running my Kinect camera. 
I have now upgraded my machine but I noticed strange deviations in my results. I made some quick comparison and it looks like the deprecated driver provides alot better result than the new one introduced in Fuerte. 
test http://s16.postimage.org/ljlfwcs5h/deprecated_kinect.png
test http://s18.postimage.org/iylfil1nt/new_kinect2.png
The first image is taken with the deprecated driver and the second with the new one. While the scaling is a bit different, it is purely due to zoom. The position of the camera is fixed and the cups have not been moved. 
When I execute my algorithm to extract the cups I get the following results:
test http://s15.postimage.org/9jyg8cfkr/seg_cups_deprecated_kinect.png
test http://s16.postimage.org/glc66f9fp/seg_cups_new_kinect.png 
As it is clearly seen, it seems there some failure in the new driver when comes to registering the rgb image with the pointcloud. It looks like there is a shift in the image. I have not dived into the problem and I might have missed something totally obvious, but for now I leave my post as it is until someone can enlighten me on this strange phenomena or I figure out why. Atleast I find the problem quite relevant.  
Regards 
Sebastian Aslund

Originally posted by Aslund on ROS Answers with karma: 289 on 2012-06-21
Post score: 1

A:

It looks like depth registration is turned off, which manifests itself as the RGB data not being aligned properly to the depth. The openni_launch quick start section explains how to enable depth registration.

Originally posted by Dan Lazewatsky with karma: 9115 on 2012-06-21
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Aslund on 2012-06-27:
Hmm, might have been an idea to read the manual more in deep :) I just read the API telling me that the registered pointcloud matches the RGB image, missed that you actually had to manually ensure this. Maybe it should be pointed out better for easier transition?
Comment by Aslund on 2012-06-27:
Hmm, might have been an idea to read the manual more in deep :) I just read the API telling me that the registered pointcloud matches the RGB image, missed that you actually had to manually ensure this.


Q:

How to keep Pose Markers in RViz?

I publish a PoseStamped topic "pose" and display the pose in RViz using the display type "Pose" (with shape axes). However, I would like to keep the old poses in order to see the whole trajectory of rather than only the latest pose.
I know it is also possible to use visualization markers instead (is there a "axes" visualization marker type?) according to wiki.ros.org/rviz/DisplayTypes/Marker and use marker.action = visualization_msgs::Marker::ADD;.
But if this is possible directly in the RViz GUI, I would prefer this solution instead of implementing the markers.

Originally posted by takahashi on ROS Answers with karma: 185 on 2015-07-15
Post score: 1

Original comments
Comment by William on 2015-07-16:
There was recently a pull request that was merged which may offer what you're looking for in the PoseArray display plugin: https://github.com/ros-visualization/rviz/pull/858

A:

You can use a Pose Array
def talker():
    obj = get_poses()
    pub = rospy.Publisher('topic', PoseArray, queue_size=len(obj))
    rospy.init_node('pose_array')
    rate = rospy.Rate(60) # 10hz
    while not rospy.is_shutdown():
        Poses = PoseArray()
        Poses.header.frame_id = "/surface"
        Poses.header.stamp = rospy.Time.now()
        for i in range(len(obj)):
            Poses.poses.append(obj[i])
        pub.publish(Poses)
        rate.sleep()

Originally posted by swethmandava with karma: 102 on 2016-04-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by takahashi on 2016-04-13:
In this solution the full pose array is published everytime. This seems to generate a lot of overhead for large arrays (by repeatedly sending the full array) and I think it is much more efficient to have a pose visual that has an internal buffer, where the previous poses are stored.


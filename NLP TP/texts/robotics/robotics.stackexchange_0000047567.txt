Q:

Error installing gazebo from source

Hello People,
i need to re-install my gazebo from source, in this moments i have created a workspace and there i run the folowing lines:
rosws set --svn simulator_gazebo https://code.ros.org/svn/ros-pkg/stacks/simulator_gazebo/tags/latest/

rosws update

everything goes ok until here, but when i run the rosmake i obtain this error:
jose@ubuntu:~/fuerte_workspace$ rosmake simulator_gazebo[ rosmake ] rosmake starting...                            
[ rosmake ] Packages requested are: ['simulator_gazebo']   
[ rosmake ] Logging to directory /home/jose/.ros/rosmake/rosmake_output-20130123-121606
[ rosmake ] Expanded args ['simulator_gazebo'] to:
['gazebo_plugins', 'gazebo_tools', 'gazebo', 'gazebo_worlds']
[rosmake-0] Starting >>> roslang [ make ]                  
[rosmake-1] Starting >>> urdf_interface [ make ]           
[rosmake-1] Finished <<< urdf_interface ROS_NOBUILD in package urdf_interface
[rosmake-0] Finished <<< roslang  No Makefile in package roslang
[rosmake-2] Starting >>> ivcon [ make ]                    
[rosmake-1] Starting >>> common_rosdeps [ make ]           
[rosmake-2] Finished <<< ivcon ROS_NOBUILD in package ivcon
[rosmake-0] Starting >>> roscpp [ make ]                   
[rosmake-3] Starting >>> colladadom [ make ]               
[rosmake-2] Starting >>> rosconsole [ make ]               
[rosmake-2] Finished <<< rosconsole  No Makefile in package rosconsole
[rosmake-1] Finished <<< common_rosdeps ROS_NOBUILD in package common_rosdeps
[rosmake-3] Finished <<< colladadom ROS_NOBUILD in package colladadom
[rosmake-1] Starting >>> ogre [ make ]                     
[rosmake-2] Starting >>> roslib [ make ]                   
[rosmake-0] Finished <<< roscpp  No Makefile in package roscpp
[rosmake-1] Finished <<< ogre ROS_NOBUILD in package ogre  
[rosmake-3] Starting >>> angles [ make ]                   
[rosmake-3] Finished <<< angles ROS_NOBUILD in package angles
[rosmake-2] Finished <<< roslib  No Makefile in package roslib
[rosmake-1] Starting >>> rosbuild [ make ]                 
[rosmake-1] Finished <<< rosbuild  No Makefile in package rosbuild
[rosmake-2] Starting >>> urdf_parser [ make ]              
[rosmake-2] Finished <<< urdf_parser ROS_NOBUILD in package urdf_parser
[rosmake-3] Starting >>> collada_parser [ make ]           
[rosmake-0] Starting >>> resource_retriever [ make ]       
[rosmake-1] Starting >>> opende [ make ]                   
[rosmake-3] Finished <<< collada_parser ROS_NOBUILD in package collada_parser
[rosmake-2] Starting >>> rostest [ make ]                  
[rosmake-3] Starting >>> urdf [ make ]                     
[rosmake-1] Finished <<< opende ROS_NOBUILD in package opende
[rosmake-1] Starting >>> parallel_quickstep [ make ]       
[rosmake-0] Finished <<< resource_retriever ROS_NOBUILD in package resource_retriever
[rosmake-3] Finished <<< urdf ROS_NOBUILD in package urdf  
[rosmake-2] Finished <<< rostest  No Makefile in package rostest
[rosmake-0] Starting >>> convex_decomposition [ make ]     
[rosmake-3] Starting >>> srdf [ make ]                     
[rosmake-1] Finished <<< parallel_quickstep ROS_NOBUILD in package parallel_quickstep
[rosmake-2] Starting >>> collada_urdf [ make ]             
[rosmake-2] Finished <<< collada_urdf ROS_NOBUILD in package collada_urdf
[rosmake-0] Finished <<< convex_decomposition ROS_NOBUILD in package convex_decomposition
[rosmake-3] Finished <<< srdf ROS_NOBUILD in package srdf  
[rosmake-1] Starting >>> xacro [ make ]                    
[rosmake-0] Starting >>> bullet [ make ]                   
[rosmake-3] Starting >>> geometry_msgs [ make ]            
[rosmake-2] Starting >>> ogre_tools [ make ]               
[rosmake-2] Finished <<< ogre_tools ROS_NOBUILD in package ogre_tools
[rosmake-2] Starting >>> std_srvs [ make ]                 
[rosmake-1] Finished <<< xacro ROS_NOBUILD in package xacro
[rosmake-1] Starting >>> rospy [ make ]                    
[rosmake-2] Finished <<< std_srvs  No Makefile in package std_srvs
[rosmake-0] Finished <<< bullet ROS_NOBUILD in package bullet
[rosmake-3] Finished <<< geometry_msgs  No Makefile in package geometry_msgs
[rosmake-3] Starting >>> sensor_msgs [ make ]              
[rosmake-1] Finished <<< rospy  No Makefile in package rospy
[rosmake-2] Starting >>> roswtf [ make ]                   
[rosmake-3] Finished <<< sensor_msgs  No Makefile in package sensor_msgs
[rosmake-1] Starting >>> message_filters [ make ]          
[rosmake-0] Starting >>> gazebo [ make ]                   
[rosmake-2] Finished <<< roswtf  No Makefile in package roswtf
[rosmake-1] Finished <<< message_filters  No Makefile in package message_filters
[rosmake-2] Starting >>> std_msgs [ make ]                 
[rosmake-3] Starting >>> gazebo_tools [ make ]             
[rosmake-1] Starting >>> tf [ make ]                       
[rosmake-1] Finished <<< tf ROS_NOBUILD in package tf      
[rosmake-1] Starting >>> nav_msgs [ make ]                 
[rosmake-2] Finished <<< std_msgs  No Makefile in package std_msgs
[rosmake-2] Starting >>> rosservice [ make ]               
[rosmake-1] Finished <<< nav_msgs  No Makefile in package nav_msgs
[rosmake-1] Starting >>> diagnostic_msgs [ make ]          
[rosmake-2] Finished <<< rosservice  No Makefile in package rosservice
[rosmake-1] Finished <<< diagnostic_msgs  No Makefile in package diagnostic_msgs
[rosmake-2] Starting >>> dynamic_reconfigure [ make ]      
[rosmake-2] Finished <<< dynamic_reconfigure ROS_NOBUILD in package dynamic_reconfigure
[rosmake-2] Starting >>> gazebo_plugins [ make ]           
[rosmake-1] Starting >>> diagnostic_updater [ make ]       
[rosmake-1] Finished <<< diagnostic_updater ROS_NOBUILD in package diagnostic_updater
[rosmake-1] Starting >>> self_test [ make ]                
[rosmake-1] Finished <<< self_test ROS_NOBUILD in package self_test
[rosmake-1] Starting >>> driver_base [ make ]              
[rosmake-1] Finished <<< driver_base ROS_NOBUILD in package driver_base
[rosmake-1] Starting >>> orocos_kdl [ make ]               
[rosmake-1] Finished <<< orocos_kdl ROS_NOBUILD in package orocos_kdl
[rosmake-1] Starting >>> python_orocos_kdl [ make ]        
[rosmake-1] Finished <<< python_orocos_kdl ROS_NOBUILD in package python_orocos_kdl
[rosmake-1] Starting >>> kdl [ make ]                      
[rosmake-1] Finished <<< kdl ROS_NOBUILD in package kdl
 No Makefile in package kdl
[rosmake-1] Starting >>> eigen_conversions [ make ]        
[rosmake-1] Finished <<< eigen_conversions ROS_NOBUILD in package eigen_conversions
[rosmake-1] Starting >>> simmechanics_to_urdf [ make ]     
[rosmake-1] Finished <<< simmechanics_to_urdf ROS_NOBUILD in package simmechanics_to_urdf
[rosmake-1] Starting >>> timestamp_tools [ make ]          
[rosmake-1] Finished <<< timestamp_tools ROS_NOBUILD in package timestamp_tools
[rosmake-1] Starting >>> kdl_parser [ make ]               
[rosmake-1] Finished <<< kdl_parser ROS_NOBUILD in package kdl_parser
[rosmake-1] Starting >>> tf_conversions [ make ]           
[rosmake-1] Finished <<< tf_conversions ROS_NOBUILD in package tf_conversions
[rosmake-1] Starting >>> robot_state_publisher [ make ]    
[rosmake-1] Finished <<< robot_state_publisher ROS_NOBUILD in package robot_state_publisher
[rosmake-1] Starting >>> mk [ make ]                       
[rosmake-1] Finished <<< mk  No Makefile in package mk     
[ rosmake ] All 21 linesazeb... [ 3 Active 49/53 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  [rosbuild] Building package gazebo_tools
  Failed to invoke /opt/ros/fuerte/bin/rospack deps-manifests gazebo_tools
  [rospack] Error: package/stack gazebo depends on non-existent package assimp
  
  
  CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:129 (message):
    
  
    Failed to invoke rospack to get compile flags for package 'gazebo_tools'.
    Look above for errors from rospack itself.  Aborting.  Please fix the
    broken dependency!
  
  Call Stack (most recent call first):
    /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:203 (rosbuild_invoke_rospack)
    CMakeLists.txt:4 (rosbuild_init)
  
  
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package gazebo_tools written to:
[ rosmake ]    /home/jose/.ros/rosmake/rosmake_output-20130123-121606/gazebo_tools/build_output.log
[rosmake-3] Finished <<< gazebo_tools [FAIL] [ 0.22 seconds ]
[ rosmake ] Halting due to failure in package gazebo_tools. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] All 21 linesazeb... [ 2 Active 49/53 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  [rosbuild] Building package gazebo
  Failed to invoke /opt/ros/fuerte/bin/rospack deps-manifests gazebo
  [rospack] Error: package/stack gazebo depends on non-existent package assimp
  
  
  CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:129 (message):
    
  
    Failed to invoke rospack to get compile flags for package 'gazebo'.  Look
    above for errors from rospack itself.  Aborting.  Please fix the broken
    dependency!
  
  Call Stack (most recent call first):
    /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:203 (rosbuild_invoke_rospack)
    CMakeLists.txt:5 (rosbuild_init)
  
  
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package gazebo written to:
[ rosmake ]    /home/jose/.ros/rosmake/rosmake_output-20130123-121606/gazebo/build_output.log
[rosmake-0] Finished <<< gazebo [FAIL] [ 0.26 seconds ]    
[ rosmake ] Halting due to failure in package gazebo. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] All 21 lines
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  [rosbuild] Building package gazebo_plugins
  Failed to invoke /opt/ros/fuerte/bin/rospack deps-manifests gazebo_plugins
  [rospack] Error: package/stack gazebo depends on non-existent package assimp
  
  
  CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:129 (message):
    
  
    Failed to invoke rospack to get compile flags for package 'gazebo_plugins'.
    Look above for errors from rospack itself.  Aborting.  Please fix the
    broken dependency!
  
  Call Stack (most recent call first):
    /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:203 (rosbuild_invoke_rospack)
    CMakeLists.txt:4 (rosbuild_init)
  
  
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package gazebo_plugins written to:
[ rosmake ]    /home/jose/.ros/rosmake/rosmake_output-20130123-121606/gazebo_plugins/build_output.log
[rosmake-2] Finished <<< gazebo_plugins [FAIL] [ 0.25 seconds ]
[ rosmake ] Halting due to failure in package gazebo_plugins. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:                                       
[ rosmake ] Built 52 packages with 3 failures.             
[ rosmake ] Summary output to directory                    
[ rosmake ] /home/jose/.ros/rosmake/rosmake_output-20130123-121606

Now i dont know what is the problem, someone has any idea???...
Thank you!!!

Originally posted by joseescobar60 on ROS Answers with karma: 172 on 2013-01-23
Post score: 0

A:

The pertinent lines in your output are:
package/stack gazebo depends on non-existent package assimp

Since fuerte there is no ROS package assimp - it is a system dependency. You can see however that your manifest.xml wants it as a package: https://code.ros.org/svn/ros-pkg/stacks/simulator_gazebo/tags/latest/gazebo/manifest.xml
So you are getting the wrong version of gazebo.
I suggest getting the version for fuerte since that is what you are using. See the list of tags in the SVN repository here:
https://code.ros.org/svn/ros-pkg/stacks/simulator_gazebo/tags/
The version for fuerte is 1.6.16 - this can be verified by looking at the rosinstall file for fuerte:
http://packages.ros.org/cgi-bin/gen_rosinstall.py?rosdistro=fuerte&variant=desktop-full&overlay=no
There is also a tag for fuerte.

Originally posted by DamienJadeDuff with karma: 399 on 2013-01-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joseescobar60 on 2013-01-24:
hello, tank you for your help, the idea is to install another version because the fuerte's version has a problem with the contact sensor, and i need another version, oldest or newer
Comment by DamienJadeDuff on 2013-01-25:
Do you know which versions do not have the contact sensor problem?
Comment by DamienJadeDuff on 2013-01-25:
The above error can be fixed by removing the assimp dependency from the manifest.xml file in the package referenced (gazebo), assuming assimp is installed on your system. But that error would generally only be found for older versions  of gazebo.
Comment by DamienJadeDuff on 2013-01-25:
The general solution is to get the version of gazebo you want, attempt to compile and fix each error as it comes up. Try the closest version to Fuerte that you can get (preferably newer) first.
Comment by joseescobar60 on 2013-01-28:
as i know the only version of gazebo with the contact sensors problem is the version of the ROS fuerte 1.6.16, i trying to install oanother version
Comment by DamienJadeDuff on 2013-01-28:
In that case since you know the problem is with 1.6.16 I suggest trying the next version after that (1.7.0) and then if that is buggy move on to later versions. Perhaps you have already posted your problems with making that work. If so, why don't you put a link to the question here.
Comment by joseescobar60 on 2013-01-28:
that is what i did, but anyone version works, everyone fail!
Comment by DamienJadeDuff on 2013-01-29:
So what went wrong with 1.7.0 and up? The above errors seem to apply to 1.6.x series. Perhaps you need to start a new question with that error if you can't solve it. If you want to go with 1.6.x series, start by following my suggestion above for editing manifest.xml.
Comment by joseescobar60 on 2013-01-29:
i try to edit this file, but this file is in the ros repository, i cant edit it...
Comment by DamienJadeDuff on 2013-01-29:
Once you have checked out the repository everything in it is editable (and this manifest.xml file is not part of the set of files that are automatically downloaded - if you want to edit those files then it should be somehow possible to also). Once it's checked out it's available on your computer.


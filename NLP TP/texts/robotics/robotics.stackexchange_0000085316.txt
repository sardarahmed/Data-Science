Q:

Does transforming from laser scan to point cloud change the order of the points?

I am receiving laser scans with special information written into the intensity parameter.
When I convert the laser scans to point cloud using the high fidelity transformation does this change the number of points?
I use the special intensity for information regarding closeness to other items in the map in order to capture dynamic objects.
When I run the bag viewing the laser scans with the intensities in rviz it seems to work fine but when I convert it to point clouds and append the intensity it no longer fits leaving me to think that the high fidelity transformation may either use the intensity for something it shouldn't or simply change the number of points.
I hope I have provided enough information.
Can anyone shed some light on this?
ADD:
I have tried using the other laser scan to point cloud transformation which yields the same results. My guess is that when the transform happens the cloud points are not in the same order as the laser scan points was in the beginning.
ADD:
This however leads me to the question how I can then use my intensities with the point cloud when the order is different?
ADD:
Maybe it could be that when I transform to base_frame that the points are put in a different order?
ADD:
It seems that there is less points in the converted point cloud than there were in the laser scan ranges.

Originally posted by Atik on ROS Answers with karma: 16 on 2018-02-14
Post score: 0

Original comments
Comment by lucasw on 2018-02-14:
What is the 'high fidelity' conversion node and what is the other one mentioned in the first add comment?
Comment by Atik on 2018-02-15:
http://wiki.ros.org/laser_geometry, it is in the wiki...
Comment by lucasw on 2018-02-15:
You are probably losing points because the range is either below the minimum or above the maximum https://github.com/ros-perception/laser_geometry/blob/indigo-devel/src/laser_geometry.cpp#L110 (is there not a standard laser scan to pointcloud node, everyone just has to call these library functions?)
Comment by lucasw on 2018-02-15:
But other than that the code looks like it preserves the order.
Comment by gvdhoorn on 2018-02-15:\

is there not a standard laser scan to pointcloud node, everyone just has to call these library functions?

@lucasw: laser_assembler.

A:

I found the way to use intensities after conversion to point cloud.
When you convert the point cloud the intensities get written into the channels array inside the point cloud object.
Here intensities can he reached however in a normalized manner.

Originally posted by Atik with karma: 16 on 2018-02-15
This answer was ACCEPTED on the original site
Post score: 0


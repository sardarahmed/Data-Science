Q:

How to stop the robot with nav2 foxy?

I have an RC-Car that has object detection and distance estimation implemented. I want the car to stop if it detects a red light while navigating from point A to B. Once the light changes, it should continue navigating to the final destination. I’m relatively new to the navigation stack, so I’m a bit lost with this problem. I’ve read some documentation and tutorials from the nav2 tutorials and have found only these possible ways to implement this:

Utilize the Follow Dynamic Point behavior to calculate a new updated path to the point in front of a traffic light using odometry information. In this approach, I’m not sure how exactly I can measure new coordinates. In case of an error, there could be some deviation from the initial trajectory, which might lead to rotation at the new endpoint.

Implement the Cancel Control Action and update the path as needed later. However, I’m unsure if it’s possible to do this using ROS2 Foxy (I can’t use another ROS2 distribution), as this plugin seems to be available starting from Humble.

Write a custom plugin using C++ to cancel the “FollowPath” action.

Are there other ways to achieve this? I’m completely sure that due to my lack of expertise in navigation, I’m missing some crucial aspects and potential future problems. I would appreciate any information and thoughts!
P.S. Apologies if I missed a discussion where this issue was already addressed.

A:

I think the simplest way is to make the system somehow ignores the cmd_vel published by Nav2. In my cases usually I would lime to achieve something  similar by using an Emergency Stop. Whenever my micro-ROS detect E-Stop conditions it will ignore the cmd_vel and send stop command to the motors. Once the E-Stop is released then it will continue to listen to the cmd_vel. No issue with the Nav2 stack so far


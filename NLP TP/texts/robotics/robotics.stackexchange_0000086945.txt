Q:

Unknown CMake command "catkin_run_tests_target"

Hello, i am currently working to get packages working and activating the workspace in catkin
When i start a new Terminal i get this:
bash: ~catkin_ws/devel/setup.bash: Datei oder Verzeichnis nicht gefunden

in english that would be no files or directory found
Using the command "catkin_init_workspace" gives me the response:
File "/home/creesy/catkin_ws/src/CMakeLists.txt" already exists

when I got for cd .. to get to the upper directory and use "catkin_make" I get the following error:
CMake Error at /opt/ros/kinetic/share/roslint/cmake/roslint-extras.cmake:67 (catkin_run_tests_target):
  
Unknown CMake command "catkin_run_tests_target".

Call Stack (most recent call first):
  operator_ws/src/taurobtrackerapi/taurob_teleop_twist_joy/CMakeLists.txt:35 (roslint_add_test)

-- Configuring incomplete, errors occurred!
See also "/home/creesy/catkin_ws/build/CMakeFiles/CMakeOutput.log".
See also "/home/creesy/catkin_ws/build/CMakeFiles/CMakeError.log".
Makefile:1356: die Regel für Ziel „cmake_check_build_system“ scheiterte
make: *** [cmake_check_build_system] Fehler 1
Invoking "make cmake_check_build_system" failed

Edit1:
My developement environment paths looks like following
~/catkin_ws/src/operator_ws and ~/catkin_ws/src/realsense-2.0.3
I also have I think the normal installfiles of ROS under /opt/ros/kinetic/..
I think that means i have 2 different workspaces in catkin named operator_ws and realsense-2.0.3
Edit2:
After experimenting now further and getting the operator_ws folder out of catkin workspace i can at least build the realsense folder. That could mean that in the first folder there are undefined dependencies or errors. I cant really understand that since it works for collegues of me
Edit3:
I just figured why it works for my collegues. they are not using the realsense camera and only the operator_ws which means they don have the problems with nested things.
does that mean i have to get both the operator_wsfolder and the realsense folder in one upper folder for a single workspace?
Edit4:
I am trying to build only the operator_ws workspace and leaving out the realsense camera related packages getting the error i have problems with all together.

-- +++ processing catkin package: 'rosserial_server'
-- ==> add_subdirectory(operator_ws/src/rosserial/rosserial_server)
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   system
--   thread
--   chrono
--   date_time
--   atomic
-- +++ processing catkin package: 'taurob_teleop_twist_joy'
-- ==> add_subdirectory(operator_ws/src/taurobtrackerapi/taurob_teleop_twist_joy)
CMake Error at /opt/ros/kinetic/share/roslint/cmake/roslint-extras.cmake:67
(catkin_run_tests_target):
  Unknown CMake command "catkin_run_tests_target".
Call Stack (most recent call first):
  operator_ws/src/taurobtrackerapi/taurob_teleop_twist_joy/CMakeLists.txt:35
(roslint_add_test)

-- Configuring incomplete, errors occurred!
See also "/home/creesy/catkin_ws/build/CMakeFiles/CMakeOutput.log".
See also "/home/creesy/catkin_ws/build/CMakeFiles/CMakeError.log".
Invoking "cmake" failed

I have the feeling that there must be a fault in the files themself which cancels the invoking of cmake could that be right or is it still about the nesting issue? It just looks for me like there are problems with taurobtrackerapi and if that is the case i have to ask my collegues what they have done different
Edit5:
Here is a picture of the workspace operator_ws collegues said i just have to download it and it works. Maybe that isnt the whole story about it?

Edit6:
Ok i think i am just too stupid, i should just get the files out of the src in operator_ws or instead of catkin directory use catkin_make in the operator_ws folder
Edit7:
I have done everything you stated in your last reply
operator_ws is no more in ~/catkin_ws/src there is only realsense as workspace left now.
I think my problem with operator_ws is that it has several directories and it looks like the catkin_ws directory
build gcount.csv mapping.bash rviz.bash Start_ALL.bash
counts.txt _gcounter math serial,time Start_ALL (Kopie).bash
devel logs rospy src watchdog.bash
Edit8:
Copying all files from operator_ws/src to catkin_ws/src worked so far with all but one package container.
somehow navigation-kinetic-devel doesnt want to be build since one file doesnt grant me Permissions. I will ask my collegues tomorrow on how to solve this.
Still many thanks for all the work and advice

Originally posted by Creesy on ROS Answers with karma: 5 on 2018-05-14
Post score: 0

Original comments
Comment by gvdhoorn on 2018-05-14:\

~catkin_ws/

Could you please post the line from your .bashrc where the workspace is sourced? It is at least missing a slash (/) between ~ and catkin_ws, but perhaps also either a dot (.) or source.
Comment by Creesy on 2018-05-14:
i managed to get rid of the first problem i had by opening a new terminal with gedit ~/.bashrc & and then outcommenting the last lines in there. you mean: source ~/catkin_ws/devel/setup.bash ?
i still have the problem that somehow the CMake command is unknown
Comment by gvdhoorn on 2018-05-14:
The line you commented is probably something you'd want there. Unless you want to source your workspace manually in each new terminal.
re: other problem(s): at this point I'd recommend to rm -rf $HOME/catkin_ws/build $HOME/catkin_ws/devel and redo all steps.
Comment by gvdhoorn on 2018-05-14:
Don't forget source /opt/ros/kinetic/setup.bash before you start using catkin_make or any of the other commands.
Also: what is the operator_ws path that appears in the error message? Do you have multiple workspaces?
Comment by Creesy on 2018-05-14:
operator_ws path are multiple ros packages for the robot we are using. it could be that i have multiple workspaces since everything got a bit messy there. about the sources in .bashrc i have multiple lines with the same sources i just outcommented the ones making problems.
Comment by gvdhoorn on 2018-05-14:
I recommend you read up on Catkin workspaces, particularly how things work with multiple workspaces and when you should/shouldn't source others. I suspect all of your workspaces are now chained, which is probably not a desirable situation.
Comment by Creesy on 2018-05-14:
yeah if it prevents me from using the different packages for the robot then definately not desired. im currently trying to rebuild catkin
Comment by Creesy on 2018-05-14:
OK I used your suggestions about removing build and devel. now when i try to redo the steps for making the directories I get the error that invoking "make -j4 -l4" failed because there are denied permissions.
Comment by gvdhoorn on 2018-05-14:\

Im currently trying to rebuild catkin

Are you referring to the catkin package itself here? That would seem to be unnecessary.
Comment by gvdhoorn on 2018-05-14:
re: permission errors: I believe it would be good if you could describe your development environment a bit better/more. Please detail all workspaces you have (ie: paths), how they relate and how you normally build and source them.
Very concretely however: have you ever run things with sudo?
Comment by Creesy on 2018-05-14:
ok i will try my best here. So i do have catkin_ws/src/operator_ws and catkin_ws/src/realsense2.0.3 I think those are 2 different workspaces? i do also have ROS related stuff under /opt/ros/kinetic/... which i think is the default place for the downloaded ros files. I use catkin_make to build
Comment by Creesy on 2018-05-14:
I tried following the instructions during the installing of the packages but to be honest i have mostly no real clue what i am really doing there trying my best getting used to it with tutorials and such but it seems i havent sourced correctly or something is missing. And yes i tried sudo too
Comment by gvdhoorn on 2018-05-14:
Please just edit your original question text. Use the edit button/link for that. Append the new info to the end and prefix it with EditN (where N is the nr of edits you've already made).
Comment by Creesy on 2018-05-14:
should I maybe deinstall all ROS related files and reinstall everything? could that be a thing that i installed too much so files are conflicting?
Comment by gvdhoorn on 2018-05-14:
Please don't post screenshots of things that are essentially text. To show us directory listings, just run ls -al or tree -L 1 or something similar and copy-paste the output in your question.

A:

Edit1: My developement environment paths looks like following

~/catkin_ws/src/operator_ws and ~/catkin_ws/src/realsense-2.0.3

I also have I think the normal installfiles of ROS under /opt/ros/kinetic/..

I think that means i have 2 different workspaces in catkin named operator_ws and realsense-2.0.3

yes, I agree. And they also seem to be nested. That is not ok.

Edit2: After experimenting now further and getting the operator_ws folder out of catkin workspace i can at least build the realsense folder.

This confirms my suspicions. Workspaces cannot be nested.

That could mean that in the first folder there are undefined dependencies or errors. I cant really understand that since it works for collegues of me

I don't know why it works for your colleagues. Perhaps they've ran rosdep install -y --from-paths ~/catkin_ws/src/operator_ws -i and didn't nest their workspaces?

Edit:

I just figured why it works for my collegues. they are not using the realsense camera and only the operator_ws which means they don have the problems with nested things.
does that mean i have to get both the operator_wsfolder and the realsense folder in one upper folder for a single workspace?

You can either add all packages to a single workspace, or use workspace chaining. That is explained in the Catkin pages I linked to earlier.

re: edit 4:

I have the feeling that there must be a fault in the files themself which cancels the invoking of cmake could that be right or is it still about the nesting issue?

I'm confused about this:

-- ==> add_subdirectory(operator_ws/src/taurobtrackerapi/taurob_teleop_twist_joy)

...
See also "/home/creesy/catkin_ws/build/CMakeFiles/CMakeOutput.log".

notice the last line: why is Catkin entering the operator_ws/src/rosserial/rosserial_server directory while it is building the /home/creesy/catkin_ws workspace? Do you still have those workspaces nested? Or is the operator_ws/src directory the only directory in operator_ws?

re: edit 5: if operator_ws is in $HOME/Documents, how can it be built by Catkin when you're building $HOME/catkin_ws? That does not make sense to me. Have you symlinked it into your catkin_ws? Can you please:

comment all source lines in your .bashrc
start a new terminal
source /opt/ros/$distro/setup.bash
rm -rf $HOME/catkin_ws/build
rm -rf $HOME/catkin_ws/devel
cd $HOME/catkin_ws
catkin_make

If that succeeds, then we can try building the other workspace.

re: edit 6 & 7: yes, you were still nesting two workspaces. operator_ws contained its own devel and build folders. That probably won't work.
You have two options:

put everything that is now inside operator_ws/src inside $HOME/catkin_ws/src. Treat it as a single workspace, and build that using catkin_make
move operator_ws out of catkin_ws/src, make sure to not have sourced catkin_ws/devel and build operator_ws in isolation

In short: you can have as many packages as you want in a single workspace, but you cannot have devel, build and / or install spaces inside another src space. Please review the Catkin documentation I linked earlier.

Originally posted by gvdhoorn with karma: 86574 on 2018-05-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Creesy on 2018-05-14:
ok thank you very much. I will try the first solution for the beginning, but since there will be other packages from my collegues who also have to get into one place i might have to go for option too later and should learn how to do it correctly . I will review the docu again.
Comment by gvdhoorn on 2018-05-15:
Could you please mark the question as answered by ticking the checkmark (✓) to the left of the answer if you feel it has been answered? Thanks.


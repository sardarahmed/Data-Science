Q:

Set ROS_MASTER_URI on remote robots

Hi everyone,
I tried searching on the internet, but I didn't find exactly what I wanted.
I have the following infrastructure:
PC : 192.168.0.100
Robot1 :  192.168.10.101
Robot2 :  192.168.10.102
Robot3 :  192.168.10.103
The robots are always the same but the PC can change. If I use mine that is the IP , if someone else uses another one the IP changes.
For this reason everytime I start an experiment I need to make sure to do an export on the Robot1-2-3 of my ROS_MASTER_URI.
I am sure there is a way of doing it in one of the launch files I use but I didn't find yet a solution which is fast and clean.
Could you please point me in the right direction?
EDIT:
I do :
<machine name="Robot1" address="192.168.10.101" user="odroid" env-loader="/home/odroid/catkin_ws/devel/env.sh" default="true"> </machine>

I would like to pass directly the environment variable ROS_MASTER_URI in the previous lines but I know it is not possible anymore. Do you know how should I modify the env.sh file to tell it to do an
export ROS_MASTER_URI="http://192.168.0.100:11311"
Where, as I said before, 192.168.0.100 is the IP of my PC where the ros master is running.
Thanks a lot.

Originally posted by fabbro on ROS Answers with karma: 115 on 2016-03-10
Post score: 0

A:

This is a situation in which a DNS server (which is coupled with / knows how to deal with your DHCP server) would work best. Instead of using IP addresses, you'd give hostnames to your robots and your PC, and then make sure the DNS server can resolve the hostnames to the IPs (and back).
All your robots would then have ROS_MASTER_URI=http://hostname_of_your_pc:11311, which would work no matter what IP your PC gets. You would also need to make sure ROS_HOSTNAME is configured correctly on all three robots & your PC.

Originally posted by gvdhoorn with karma: 86574 on 2016-03-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by fabbro on 2016-03-10:
ok. Let's say on all the robots I have:
ROS_MASTER_URI=http://hostname_of_your_pc:11311
This means that I have to set my ROS_MASTER_URI on my PC to : ROS_MASTER_URI=http://hostname_of_your_pc:11311
But also set the default of the machines to NEVER. Right?
Comment by gvdhoorn on 2016-03-10:
The value of ROS_MASTER_URI on your PC doesn't really matter for your robots. It's only used locally. You can leave it at the default (using localhost) or change it to the hostname.

But also set the default of the machines to NEVER. Right?

I don't understand what this means.


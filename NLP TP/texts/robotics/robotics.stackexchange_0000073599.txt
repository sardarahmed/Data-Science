Q:

In ros gmapping, how to use Intel Research Lab dataset?

I don't know how to use the Intel Research Lab dataset (.clf).  Should I read the file and publish the lase_scan and tf topic?  If so,how should I do in detail?  thanks.

Originally posted by wang cong on ROS Answers with karma: 15 on 2016-04-27
Post score: 1

A:

I had some time on my hands, so I wrote a script for you: clf_to_rosbag.py .
The script converts the .clf file into a rosbag file. The alternative would have been to publish laser_scan and tf, as you suggest, but then we would also have to handle publishing the /clock topic (since the data has timestamps from the past). By converting to a bag file, rosbag --clock handles this for us.

Originally posted by Martin Günther with karma: 11816 on 2016-04-27
This answer was ACCEPTED on the original site
Post score: 9

Original comments
Comment by wang cong on 2016-04-27:
Thanks. I have converted the .clf file to .bag file by running the  clf_to_rosbag.py .
But when I run the bag file ,open the rviz, no map  received.I input the command: "rosrun gmapping slam_gmapping scan:=base_scan" and  it print nothing. I think if it works well ,it should print something . thanks
Comment by Martin Günther on 2016-04-28:
It should be scan:=laser, not scan:=base_scan, since I wrote the laser data on the topic laser.
Comment by wang cong on 2016-04-28:
Still no map .And in rviz, Map shows no  " No transform from [] to [map]",how to deal with it ? Thanks
Comment by wang cong on 2016-04-28:
OK,thanks very much.I have got it. I need to publish a tf  base_link -> base_laser ,and I modify the .py you provided , the tf in it is odom->base_link . Now ,it works.  thanks!
Comment by Martin Günther on 2016-05-02:
Glad to help! BTW, you closed the question; I've reopened it, since we usually don't do that here. Please "accept" my answer instead.
Comment by wang cong on 2016-05-02:
i don't know how tp accept your answer ,please tell me
Comment by Martin Günther on 2016-05-02:
Just click the round checkmark icon next to my answer and wait a few seconds until it turns green. Don't click again.
Comment by Kyle Fan on 2016-09-27:
Hello,can you give me the clf_to_rosbag.py you midified? Thank you!
Comment by gvdhoorn on 2016-09-27:
@Kyle Fan: the link to the script is in @Martin Günther's answer above. Just click on the clf_to_rosbag.py link.
Comment by user_123 on 2016-11-07:
Is there any generalized code that can convert any .clf file to .bag format?????? I was trying the same code for 'aces.clf' file after changing the names in the code, but it is giving IO error.
Comment by LReddy on 2016-11-30:
@wang tiancheng Could you please post the code in which you modified and published the tf


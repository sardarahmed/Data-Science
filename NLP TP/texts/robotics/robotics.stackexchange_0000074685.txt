Q:

Rviz seg fault - libqgif

Dear Ros Users,
I am having problem using Rviz in indigo, Ubuntu 14-04
This is the result using gdb
Starting program: /opt/ros/indigo/bin/rviz 
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
[New Thread 0x7fffda65b700 (LWP 14883)]
[New Thread 0x7fffd9e5a700 (LWP 14884)]
[New Thread 0x7fffd3fff700 (LWP 14885)]
[New Thread 0x7fffd37fe700 (LWP 14886)]
[New Thread 0x7fffd2ffd700 (LWP 14887)]
[ INFO] [1466425664.305130446]: rviz version 1.11.14
[ INFO] [1466425664.305216267]: compiled against Qt version 4.8.6
[ INFO] [1466425664.305243255]: compiled against OGRE version 1.8.1 (Byatis)
[New Thread 0x7fffd27fc700 (LWP 14891)]
[New Thread 0x7fffd1ffb700 (LWP 14892)]
[New Thread 0x7fffd17fa700 (LWP 14893)]
[New Thread 0x7fffd0ff9700 (LWP 14898)]
[Thread 0x7fffd37fe700 (LWP 14886) exited]
[New Thread 0x7fffd37fe700 (LWP 14899)]
[New Thread 0x7fffb54a3700 (LWP 14900)]
[New Thread 0x7fffb4ca2700 (LWP 14901)]
[New Thread 0x7fffabfff700 (LWP 14902)]
[ INFO] [1466425665.105177134]: Stereo is NOT SUPPORTED
[ INFO] [1466425665.105331984]: OpenGl version: 4.5 (GLSL 4.5).
[New Thread 0x7fffab33e700 (LWP 14916)]
[New Thread 0x7fffaab3d700 (LWP 14917)]

Program received signal SIGSEGV, Segmentation fault.
0x00007fffd01cc140 in ?? () from /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqgif.so

The ouput of gdb backtrace is:
Program received signal SIGSEGV, Segmentation fault.
0x00007fffd01cc140 in ?? () from /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqgif.so
(gdb) bt
#0  0x00007fffd01cc140 in ?? () from /usr/lib/x86_64-linux-gnu/qt4/plugins/imageformats/libqgif.so
#1  0x00007ffff2e03cba in QFactoryLoader::instance(QString const&) const () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#2  0x00007ffff6f7f112 in QIcon::addFile(QString const&, QSize const&, QIcon::Mode, QIcon::State) ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#3  0x00007ffff6f7f45a in QIcon::QIcon(QString const&) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#4  0x00007ffff6f83c4d in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#5  0x00007ffff6f87245 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#6  0x00007ffff6f7ecc5 in QIcon::pixmap(QSize const&, QIcon::Mode, QIcon::State) const () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#7  0x00007ffff71e8f2c in QCommonStyle::drawControl(QStyle::ControlElement, QStyleOption const*, QPainter*, QWidget const*) const ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#8  0x00007ffff727ade5 in QWindowsStyle::drawControl(QStyle::ControlElement, QStyleOption const*, QPainter*, QWidget const*) const ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#9  0x00007ffff7267187 in QCleanlooksStyle::drawControl(QStyle::ControlElement, QStyleOption const*, QPainter*, QWidget const*) const ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#10 0x00007ffff724ac8b in QGtkStyle::drawControl(QStyle::ControlElement, QStyleOption const*, QPainter*, QWidget const*) const ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#11 0x00007ffff7248202 in QGtkStyle::drawComplexControl(QStyle::ComplexControl, QStyleOptionComplex const*, QPainter*, QWidget const*) const
    () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#12 0x00007ffff7343339 in QToolButton::paintEvent(QPaintEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#13 0x00007ffff6f2a300 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#14 0x00007ffff6edae2c in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#15 0x00007ffff6ee14a0 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#16 0x00007ffff2e1e4dd in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#17 0x00007ffff6f24a21 in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#18 0x00007ffff6f25450 in QWidgetPrivate::paintSiblingsRecursive(QPaintDevice*, QList<QObject*> const&, int, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#19 0x00007ffff6f245dc in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#20 0x00007ffff6f25450 in QWidgetPrivate::paintSiblingsRecursive(QPaintDevice*, QList<QObject*> const&, int, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#21 0x00007ffff6f252bf in QWidgetPrivate::paintSiblingsRecursive(QPaintDevice*, QList<QObject*> const&, int, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#22 0x00007ffff6f245dc in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#23 0x00007ffff6f25450 in QWidgetPrivate::paintSiblingsRecursive(QPaintDevice*, QList<QObject*> const&, int, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#24 0x00007ffff6f252bf in QWidgetPrivate::paintSiblingsRecursive(QPaintDevice*, QList<QObject*> const&, int, QRegion const&, QPoint const&, int---Type <return> to continue, or q <return> to quit---
, QPainter*, QWidgetBackingStore*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#25 0x00007ffff6f252bf in QWidgetPrivate::paintSiblingsRecursive(QPaintDevice*, QList<QObject*> const&, int, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#26 0x00007ffff6f245dc in QWidgetPrivate::drawWidget(QPaintDevice*, QRegion const&, QPoint const&, int, QPainter*, QWidgetBackingStore*) ()
   from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#27 0x00007ffff70e794e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#28 0x00007ffff6f19ea0 in QWidgetPrivate::syncBackingStore() () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#29 0x00007ffff6f53a23 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#30 0x00007ffff6f54c3c in QApplication::x11ProcessEvent(_XEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#31 0x00007ffff6f7cb32 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#32 0x00007ffff1791e04 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#33 0x00007ffff1792048 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#34 0x00007ffff17920ec in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#35 0x00007ffff2e4b7a1 in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) ()
   from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#36 0x00007ffff6f7cbe6 in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#37 0x00007ffff2e1d0af in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#38 0x00007ffff2e1d3a5 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#39 0x00007ffff2e22b79 in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#40 0x0000000000400c36 in main ()

Laptop is an i5-243M with Nvidia Geforce GT 540M /2GB, using NVIDIA binary driver - version 352.63 from nvidia-352
The result os glxgears is ~4000FPS
Thank you!

Originally posted by Rahndall on ROS Answers with karma: 133 on 2016-06-20
Post score: 0

Original comments
Comment by William on 2016-06-20:
Please add a backtrace from gdb.

A:

I completely reinstalled Ubuntu and now the problem doesn't appear anymore

Originally posted by Rahndall with karma: 133 on 2016-06-24
This answer was ACCEPTED on the original site
Post score: 0


Q:

amcl and global map question

**** static map *****
image: rosmap.pgm
resolution: 0.005
origin: [0, 0, 0]
negate: 0
occupied_thresh: 0.65
free_thresh: 0.196
width:        20.0
height:       20.0

*** common map parms ****
obstacle_range:         2.5
raytrace_range:         3.0
footprint:              [[0.25, 0.1], [0.25, -0.1], [-0.25,-0.1], [-0.25, 0.1]] 
max_scaling_factor:     0.02  # The scalling factor for footprint defined in local costmap
inflation_radius:       0.02 # Propagating cost values out from occupied cells that decrease with distance.
map_type:               costmap
track_unknown_space:    true
observation_sources:    laser_scan_sensor 
laser_scan_sensor:      {sensor_frame: hokuyo_frame, data_type: LaserScan, topic: /scan, marking: true, clearing: true}
resolution:             0.005

global_costmap:
  global_frame:        /map
  robot_base_frame:    /base_link
  update_frequency:    30.0
  publish_frequency:   30.0
  static_map:          true
  width:               20.0
  height:              20.0     

local_costmap:
  global_frame:      /odom
  robot_base_frame:  /base_link
  update_frequency:  30.0
  publish_frequency: 30.0
  static_map:        false
  rolling_window:    true
  width:             16.0
  height:            16.0

I running amcl and move_base with no static map. The map on setting position looks like. Should not the local map be contained fully within the global map. How do I get them to center on each other?
.
if I set a goal that does not over lap the two then I get his message.
[ WARN] [1382396905.755665136, 26.606000000]: The goal sent to the navfn planner is off the global costmap. Planning will always fail to this goal.

Why does the global map not overlap the local cost map? How can I get them to align. The global map should map on top of the grid.

Originally posted by rnunziata on ROS Answers with karma: 713 on 2013-10-21
Post score: 0

A:

I had a bad origin setting in the  map yaml file

Originally posted by rnunziata with karma: 713 on 2013-10-22
This answer was ACCEPTED on the original site
Post score: 0


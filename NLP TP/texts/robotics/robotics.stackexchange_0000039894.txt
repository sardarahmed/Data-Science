Q:

Clarity on ROS Master

I have been intrigued by an aspect of the ROS Master that is not clear to me..
From ros.org
  "The ROS Master provides naming and registration servicesto the rest of the nodes 
  in the ROS system. It tracks publishers and subscribers to topics as well as
  services. The role of the Master is to enable individual ROS nodes to locate one
  another. Once these nodes have located each other they communicate with each other
  peer-to-peer."

There is also a great picture here:
image description http://www.ros.org/wiki/ROS/Technical%20Overview?action=AttachFile&do=get&target=master-node-example.png
My Question is:
I understand the ROS Master to be a very lightweight tool for the naming and coordination between ROS Nodes / Topics / Services etc..  The pictures and descriptions seem to entail that when information is given to a viewer or subscriber that the connection is there on only a peer-to-peer connection, where does the ROS Master fit into the peer-to-peer connection in order to know if the connection persists or even connected in the first place?

Originally posted by kmaroney on ROS Answers with karma: 204 on 2012-04-25
Post score: 0

A:

The ROS Master has no knowledge of actual connections between nodes.  It is akin to DNS, which has no idea of what hosts are connected, but merely enables hosts to find each other.

Originally posted by kwc with karma: 12244 on 2012-04-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by kmaroney on 2012-04-25:
So simply by querying the ros master for a specific topic, the ros master assumes connection for the duration of a node?  This does not seems like the most intelligent way to me.  I can ask you where the grocery store is but is it fair for you to assume I went there, or am still there?
Comment by kmaroney on 2012-04-25:
Does a node notify the master when it goes offline also?  How does 'rosnode list' work if the ros master is not continuously polling the nodes for activity / connections?
Comment by tfoote on 2012-05-27:
There are some updates when shutting down etc.  Also nodes will notify the master of unsubscribing and unadvertizing.   But sometimes state does get stale on the master, such as if a node crashes hard.


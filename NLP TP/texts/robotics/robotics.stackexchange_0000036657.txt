Q:

modelling sensors(IMU) in Gazebo

hi all,i need to modell sensors like:gyro,acc,magnetfieldsensor in Gazebo.
Are there any examples for a sensor implemented urdf-file?
how can i modell these sensors in a urdf file,for my quadrotor?
thanks, greets

Originally posted by hmmm on ROS Answers with karma: 37 on 2011-12-21
Post score: 0

A:

  <joint name="imu_joint" type="fixed">
    <axis xyz="1 0 0"/> <!-- 0 1 0 -->
    <origin xyz="0 0 0.19"/>
    <parent link="base_link"/>
    <child link="imu_link"/>
  </joint>

<link name="imu_link">
  <inertial>
    <mass value="0.001"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.000001" iyz="0" izz="0.0001"/>
  </inertial>
  <visual>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <geometry>
      <box size="0.001 0.001 0.001"/>
    </geometry>
  </visual>
  <collision>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <geometry>
      <box size=".001 .001 .001"/>
    </geometry>
  </collision>
</link>

<gazebo>
  <controller:gazebo_ros_imu name="imu_controller" plugin="libgazebo_ros_imu.so">
    <alwaysOn>true</alwaysOn>
    <updateRate>50.0</updateRate> 
    <bodyName>imu_link</bodyName>
    <topicName>imu_data</topicName>
    <gaussianNoise>2.89e-08</gaussianNoise>
    <xyzOffsets>0 0 0</xyzOffsets>
    <rpyOffsets>0 0 0</rpyOffsets>
    <interface:position name="imu_position"/>
  </controller:gazebo_ros_imu>
</gazebo>

EDIT: This publishes a topic with the type sensor_msgs/Imu. To access the data via rxplot, you could use:
rxplot /imu_data/orientation/x

Originally posted by DimitriProsser with karma: 11163 on 2011-12-22
This answer was ACCEPTED on the original site
Post score: 10

Original comments
Comment by hmmm on 2012-01-06:
hi dimitri,thanks . i had success. But how can i plot these imu data in rxplot? it does not work.For example, i tried : rxplot imu_data/x               Can you please show me the correct syntax? greetz
Comment by DimitriProsser on 2012-01-06:
rostopic echo "imu_data". It publishes to a topic with the name that you specify in <topicName>.
Comment by hmmm on 2012-01-05:
hi dimitri,i edit this to my urdf,but how can i now see the imu messages? which service do i have to call?
Comment by rajnunes on 2016-04-14:
how do i use this in urdf?


Q:

Send the name of image files

I'm sending image files using image_transport and my client node likes to receive the file names as well but apparently sensor_msgs::Image doesn't have a field for it. Nor I haven't been able to find other measure in ROS to send image file and its name together.
What's the most recommended way to achieve my goal? Extend Image and make my own publisher node (isn't it nicer to have this feature by default if it doesn't exist)?
To save an image as a file btw usually requires file extension but knowing file name solves as well (sensor_msgs/CompressedImage has a field for it but still not for file name).

Originally posted by 130s on ROS Answers with karma: 10937 on 2012-08-26
Post score: 0

A:

Before trying these, first maybe you should ask yourself if you really need to be sending images with filenames over ROS, instead of just the filenames, and letting your client read them into memory. However, if you really must do this, there are two options that come to mind:
Option 1:
You can publish two streams of data, one from the image_transport and one from a normal publisher with your own custom metadata type with an identical header. Then on the receiving end, you should be able to use a message synchronizer with the image_transport as described in this question.
Option 2:
If you care about the image data frame-by-frame, then you're probably only using the RAW transport of image_transport. In this case, you don't really need it, and you can just use a normal publisher and use your own composite message like:
sensor_msgs/Image image
string filename

Originally posted by jbohren with karma: 5809 on 2012-08-26
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by 130s on 2012-08-29:
@jbohren I asked this b/c I wasn't sure if there's already nice solution for my case. msg synchronizer looks interesting & I'll try it.
Comment by 130s on 2012-08-29:
Also nice warning at the beginning! In our case we receive msg from a node on different robot that's made by other team in different org so 1st of all nice to have flexibility (and I can think of situations where sending file names becomes advantageous).


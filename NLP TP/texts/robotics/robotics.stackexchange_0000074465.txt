Q:

Check master ros node is started C++

Hello,
Is there a way in C++ to check whether the master ros node is setup? I initially believed ros::init() would return false, but the return type is false...
I have quickly looked on the internet and could find nothing...
Thanks ;)

Originally posted by arennuit on ROS Answers with karma: 955 on 2016-06-10
Post score: 0

Original comments
Comment by arennuit on 2016-06-13:
Anyone for this question?
Comment by gvdhoorn on 2016-06-13:
Please don't post comments or updates as answers. It can be confusing when looking at the questions list (it appears as if the question has already at least one answer). I've moved your answer to the comment section, but please keep it in mind for next time.
Comment by arennuit on 2016-06-13:
got it, thanks.

A:

You can use ros::master::check().
#include "ros/ros.h"
#include <iostream>

int main(int argc, char *argv[])
{
    ros::init(argc, argv, "master_test");
    ros::Time::init();
    while (!ros::master::check())
    {
        std::cout << "waiting..." << std::endl;
        ros::Duration(0.5).sleep();
    }
    std::cout << "master started!" << std::endl;
    return 0;
}

Originally posted by jarvisschultz with karma: 9031 on 2016-06-13
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by arennuit on 2016-06-14:
That works fine, thanks!


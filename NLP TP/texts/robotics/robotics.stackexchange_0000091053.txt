Q:

rosnodejs get private param

I've written a ROS node using rosnodejs, and I would like to pass it a privately scoped parameter on the command line like:
rosrun mynode myscript.js _myparam:=foo
What would be as simple as rospy.getParam('~myparam') in rospy seems to not work in rosnodejs.  What is the correct way to get a private parameter using rosnodejs?

Originally posted by griffin on ROS Answers with karma: 16 on 2019-03-22
Post score: 0

Original comments
Comment by griffin on 2019-03-22:
After a bit more research, it would appear to me that there is not feature parity between rospy and rosnodejs.  rosnodejs does not appear to handle commandline parameters as of this time and this may be impossible to support.

A:

It appears that rosrun just passes all arguments through to the executable in question.  Rospy modules have a built-in step that strips all arguments containing the "remapping" string ":=" and sends them to the parameter server namespaced under the parent node's name.  The relevant code is here.
rosnodejs does not currently pass any privately scoped parameters up to the parameter server.  Command line arguments are parsed here, and only ROS_IP/related arguments are dealt with in netutils, and the only other code that deals with remappings is in Names.js, which explicitly ignores any remappings that start with an underscore.  This is likely due to the fact that properly parsing parameter types must be done using YAML syntax, and a YAML parser for rosnodejs would introduce another dependency and be a PITA to maintain.
I'll figure out how to do what I want without private parameters I guess.

Originally posted by griffin with karma: 16 on 2019-03-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by griffin on 2019-03-22:
Also seems that I can't accept my own answer, so I'll leave it up to a mod


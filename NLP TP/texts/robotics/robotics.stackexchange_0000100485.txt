Q:

python3-rosdep2 install broke ROS

Hello,
I was working with ROS today and got a prompt from the command line about installing this: apt install python3-rosdep2.
After doing this, I can't use ROS at all, checking through the apt history it seems like doing this has removed some packages:
Start-Date: 2021-11-08  11:33:26
Commandline: apt install python3-rosdep2
Requested-By: roshan (1000)
Install: python3-rosdep2:amd64 (0.18.0-1)
Remove: ros-noetic-geometry-tutorials:amd64 (0.2.3-1focal.20210922.201745), ros-noetic-laser-filters:amd64 (1.8.11-1focal.20210922.194524), ros-noetic-image-publisher:amd64 (1.15.3-1focal.20210922.200310), ros-noetic-image-pipeline:amd64 (1.15.3-1focal.20210922.205910), ros-noetic-laser-assembler:amd64 (1.7.8-1focal.20210922.194540), ros-noetic-rospy:amd64 (1.15.13-1focal.20210922.175756), ros-noetic-theora-image-transport:amd64 (1.14.0-1focal.20210922.200534), ros-noetic-nodelet:amd64 (1.10.1-1focal.20210922.181344), ros-noetic-rqt-common-plugins:amd64 (0.4.9-1focal.20210922.201002), ros-noetic-tf-conversions:amd64 (1.13.2-1focal.20210922.204930), ros-noetic-transmission-interface:amd64 (0.19.5-1focal.20210922.175713), ros-noetic-rqt-tf-tree:amd64 (0.6.2-1focal.20210922.190701), ros-noetic-rqt-robot-steering:amd64 (0.5.12-1focal.20210922.184605), ros-noetic-move-slow-and-clear:amd64 (1.17.1-1focal.20210922.204329), ros-noetic-qt-gui-cpp:amd64 (0.4.2-1focal.20210727.063105), ros-noetic-laser-proc:amd64 (0.1.6-1focal.20210922.191914), ros-noetic-bondpy:amd64 (1.8.6-1focal.20210922.181003), ros-noetic-rqt-bag:amd64 (0.5.1-1focal.20210922.185047), ros-noetic-interactive-markers:amd64 (1.12.0-1focal.20210922.191144), ros-noetic-base-local-planner:amd64 (1.17.1-1focal.20210922.204227), ros-noetic-fake-localization:amd64 (1.17.1-1focal.20210922.191133), ros-noetic-rqt-shell:amd64 (0.4.11-1focal.20210922.182538), ros-noetic-rqt-robot-dashboard:amd64 (0.5.8-1focal.20210922.194605), ros-noetic-polled-camera:amd64 (1.12.0-1focal.20210922.192745), ros-noetic-rqt-dep:amd64 (0.4.12-1focal.20210922.185101), ros-noetic-navfn:amd64 (1.17.1-1focal.20210922.204403), ros-noetic-tf2-tools:amd64 (0.7.5-1focal.20210922.201556), ros-noetic-image-common:amd64 (1.12.0-1focal.20210922.204547), ros-noetic-unique-id:amd64 (1.0.6-1focal.20210922.181714), ros-noetic-rviz:amd64 (1.14.9-2focal.20210922.202300), ros-noetic-rosbag:amd64 (1.15.13-1focal.20210922.182846), ros-noetic-turtle-tf2:amd64 (0.2.3-1focal.20210922.191157), ros-noetic-joint-state-controller:amd64 (0.19.0-1focal.20210922.193126), ros-noetic-nodelet-topic-tools:amd64 (1.10.1-1focal.20210922.184119), ros-noetic-rqt-launch:amd64 (0.4.9-1focal.20210922.190707), ros-noetic-aruco-detect:amd64 (0.12.0-1focal.20210922.202850), ros-noetic-gmapping:amd64 (1.4.2-1focal.20210922.193821), ros-noetic-rqt-gui:amd64 (0.5.2-1focal.20210922.181514), ros-noetic-urdf:amd64 (1.13.2-1focal.20210922.182037), ros-noetic-rqt-ez-publisher:amd64 (0.6.1-1focal.20210922.194428), ros-noetic-rqt-reconfigure:amd64 (0.5.4-1focal.20210922.190717), ros-noetic-urdf-sim-tutorial:amd64 (0.5.1-1focal.20210922.212009), ros-noetic-turtlebot3-example:amd64 (1.2.5-1focal.20210922.195400), ros-noetic-rqt-rosmon-dbgsym:amd64 (2.4.0-1focal.20210922.182147), ros-noetic-rqt-publisher:amd64 (0.4.10-1focal.20210922.190822), ros-noetic-costmap-2d:amd64 (1.17.1-1focal.20210922.202213), ros-noetic-tf2-py:amd64 (0.7.5-1focal.20210922.180952), ros-noetic-rosunit:amd64 (1.15.8-1focal.20210727.061745), ros-noetic-controller-manager:amd64 (0.19.5-1focal.20210922.184643), ros-noetic-compressed-image-transport:amd64 (1.14.0-1focal.20210922.200636), ros-noetic-rqt-action:amd64 (0.4.9-1focal.20210922.190844), ros-noetic-rqt-multiplot-dbgsym:amd64 (0.0.12-1focal.20210922.183145), ros-noetic-diagnostics:amd64 (1.10.4-1focal.20210922.195736), ros-noetic-rosnode:amd64 (1.15.13-1focal.20210922.184725), ros-noetic-rqt-controller-manager:amd64 (0.19.5-1focal.20210922.184720), ros-noetic-rqt-gui-py:amd64 (0.5.2-1focal.20210922.181802), ros-noetic-image-transport-plugins:amd64 (1.14.0-1focal.20210922.205929), ros-noetic-rqt-msg:amd64 (0.4.10-1focal.20210922.190710), ros-noetic-position-controllers:amd64 (0.19.0-1focal.20210922.190720), python3-rosdep-modules:amd64 (0.21.0-1), ros-noetic-rqt-moveit:amd64 (0.5.10-1focal.20210922.193744), ros-noetic-rqt-graph:amd64 (0.4.14-1focal.20210922.185000), ros-noetic-rqt-robot-plugins:amd64 (0.5.8-1focal.20210922.212333), ros-noetic-clear-costmap-recovery:amd64 (1.17.1-1focal.20210922.204228), ros-noetic-dynamixel-sdk:amd64 (3.7.51-4focal.20210922.181516), ros-noetic-rqt-nav-view:amd64 (0.5.7-1focal.20210922.194433), ros-noetic-executive-smach:amd64 (2.5.0-1focal.20210922.201523), ros-noetic-rostest:amd64 (1.15.13-1focal.20210922.181721), ros-noetic-rostopic:amd64 (1.15.13-1focal.20210922.183347), ros-noetic-roslib:amd64 (1.15.8-1focal.20210727.060939), ros-noetic-stereo-image-proc:amd64 (1.15.3-1focal.20210922.203743), ros-noetic-rosbag-storage:amd64 (1.15.13-1focal.20210922.182542), ros-noetic-rqt-bag-plugins:amd64 (0.5.1-1focal.20210922.193754), ros-noetic-turtle-tf:amd64 (0.2.3-1focal.20210922.193925), ros-noetic-pcl-ros:amd64 (1.7.3-1focal.20210922.203604), ros-noetic-rviz-python-tutorial:amd64 (0.11.0-1focal.20210922.212902), ros-noetic-rosmsg:amd64 (1.15.13-1focal.20210922.183357), ros-noetic-rospack:amd64 (2.6.2-1focal.20210423.225024), ros-noetic-diagnostic-common-diagnostics:amd64 (1.10.4-1focal.20210922.194625), ros-noetic-nodelet-core:amd64 (1.10.1-1focal.20210922.184602), ros-noetic-rqt-image-view-dbgsym:amd64 (0.4.16-1focal.20210922.200437), ros-noetic-visualization-tutorials:amd64 (0.11.0-1focal.20210922.213557), ros-noetic-compressed-depth-image-transport:amd64 (1.14.0-1focal.20210922.200624), ros-noetic-gazebo-ros:amd64 (2.9.2-1focal.20210922.202736), ros-noetic-rqt-srv:amd64 (0.4.9-1focal.20210922.190847), ros-noetic-rqt-py-common:amd64 (0.5.2-1focal.20210922.190352), ros-noetic-rosservice:amd64 (1.15.13-1focal.20210922.183748), ros-noetic-rosbash:amd64 (1.15.8-1focal.20210726.192129), ros-noetic-rqt-top:amd64 (0.4.10-1focal.20210922.182244), ros-noetic-roslaunch:amd64 (1.15.13-1focal.20210922.180949), ros-noetic-filters:amd64 (1.9.1-1focal.20210922.182031), ros-noetic-joint-state-publisher:amd64 (1.15.0-1focal.20210922.194815), ros-noetic-rviz-plugin-tutorials:amd64 (0.11.0-1focal.20210922.212859), ros-noetic-turtle-actionlib:amd64 (0.2.0-1focal.20210922.190304), ros-noetic-geometry:amd64 (1.13.2-1focal.20210922.205605), ros-noetic-rqt-rviz:amd64 (0.7.0-1focal.20210922.211830), ros-noetic-navigation:amd64 (1.17.1-1focal.20210922.205507), ros-noetic-rqt-web:amd64 (0.4.10-1focal.20210922.182314), ros-noetic-turtlebot3-description:amd64 (1.2.5-1focal.20210922.182749), ros-noetic-rqt-pose-view:amd64 (0.5.11-1focal.20210922.194438), ros-noetic-global-planner:amd64 (1.17.1-1focal.20210922.204730), ros-noetic-joint-state-publisher-gui:amd64 (1.15.0-1focal.20210922.195437), ros-noetic-carrot-planner:amd64 (1.17.1-1focal.20210922.204811), ros-noetic-pluginlib-tutorials:amd64 (0.2.0-1focal.20210922.175706), ros-noetic-move-base:amd64 (1.17.1-1focal.20210922.205107), ros-noetic-nav-core:amd64 (1.17.1-1focal.20210922.203942), ros-noetic-laser-pipeline:amd64 (1.6.4-1focal.20210922.205140), ros-noetic-image-rotate:amd64 (1.15.3-1focal.20210922.200413), ros-noetic-ros-base:amd64 (1.5.0-1focal.20210922.204431), ros-noetic-actionlib:amd64 (1.13.2-1focal.20210922.184944), ros-noetic-xacro:amd64 (1.14.9-1focal.20210922.182435), ros-noetic-gazebo-ros-pkgs:amd64 (2.9.2-1focal.20210922.210144), ros-noetic-ros-comm:amd64 (1.15.13-1focal.20210922.185251), ros-noetic-pr2-power-board:amd64 (1.1.10-1focal.20210922.182217), ros-noetic-ros-core:amd64 (1.5.0-1focal.20210922.204149), ros-noetic-joint-limits-interface:amd64 (0.19.5-1focal.20210922.182311), ros-noetic-rqt-logger-level:amd64 (0.4.11-1focal.20210922.185042), ros-noetic-forward-command-controller:amd64 (0.19.0-1focal.20210922.190452), ros-noetic-robot:amd64 (1.5.0-1focal.20210922.205702), ros-noetic-image-transport:amd64 (1.12.0-1focal.20210922.192223), ros-noetic-tf2-kdl:amd64 (0.7.5-1focal.20210922.190836), ros-noetic-tf2-geometry-msgs:amd64 (0.7.5-1focal.20210922.190831), ros-noetic-roswtf:amd64 (1.15.13-1focal.20210922.185048), ros-noetic-turtlebot3-bringup:amd64 (1.2.5-1focal.20210922.195117), ros-noetic-rgbd-launch:amd64 (2.3.0-1focal.20210922.204006), ros-noetic-interactive-marker-tutorials:amd64 (0.11.0-1focal.20210922.194128), ros-noetic-py-trees-msgs:amd64 (0.3.7-2focal.20210922.200626), ros-noetic-rqt-joint-trajectory-controller:amd64 (0.19.0-1focal.20210922.184715), ros-noetic-depth-image-proc:amd64 (1.15.3-1focal.20210922.203342), ros-noetic-rosserial-client:amd64 (0.9.2-1focal.20210922.194721), ros-noetic-realtime-tools:amd64 (1.16.1-1focal.20210922.190222), ros-noetic-turtlebot3-navigation:amd64 (1.2.5-1focal.20210922.205530), ros-noetic-actionlib-tutorials:amd64 (0.2.0-1focal.20210922.190120), ros-noetic-ros:amd64 (1.15.8-1focal.20210727.062118), ros-noetic-ros-tutorials:amd64 (0.10.2-1focal.20210922.182510), ros-noetic-rqt:amd64 (0.5.2-1focal.20210922.182525), ros-noetic-perception-pcl:amd64 (1.7.3-1focal.20210922.212410), ros-noetic-rqt-gui-cpp:amd64 (0.5.2-1focal.20210922.181753), ros-noetic-perception:amd64 (1.5.0-1focal.20210922.212705), ros-noetic-rqt-image-view:amd64 (0.4.16-1focal.20210922.200437), ros-noetic-kdl-parser:amd64 (1.14.1-1focal.20210922.182314), ros-noetic-librviz-tutorial:amd64 (0.11.0-1focal.20210922.210819), ros-noetic-control-toolbox:amd64 (1.18.2-1focal.20210922.190431), ros-noetic-diff-drive-controller:amd64 (0.19.0-1focal.20210922.194342), ros-noetic-rqt-py-trees:amd64 (0.4.1-1focal.20210922.200953), ros-noetic-diagnostic-analysis:amd64 (1.10.4-1focal.20210922.183355), ros-noetic-rqt-rviz-dbgsym:amd64 (0.7.0-1focal.20210922.211830), ros-noetic-stage-ros:amd64 (1.8.0-1focal.20210922.193922), ros-noetic-turtlebot3-slam:amd64 (1.2.5-1focal.20210922.195338), ros-noetic-gazebo-ros-control:amd64 (2.9.2-1focal.20210922.203410), ros-noetic-bond-core:amd64 (1.8.6-1focal.20210922.182438), ros-noetic-resource-retriever:amd64 (1.12.6-1focal.20210727.062548), ros-noetic-viz:amd64 (1.5.0-1focal.20210922.212526), ros-noetic-roslisp:amd64 (1.9.24-1focal.20210726.192430), ros-noetic-camera-calibration:amd64 (1.15.3-1focal.20210922.203257), ros-noetic-common-tutorials:amd64 (0.2.0-1focal.20210922.190720), ros-noetic-rotate-recovery:amd64 (1.17.1-1focal.20210922.204830), ros-noetic-turtlebot3:amd64 (1.2.5-1focal.20210922.205621), ros-noetic-tf2-ros:amd64 (0.7.5-1focal.20210922.190247), ros-noetic-controller-manager-msgs:amd64 (0.19.5-1focal.20210922.184437), ros-noetic-rqt-topic:amd64 (0.4.12-1focal.20210922.184611), ros-noetic-roscreate:amd64 (1.15.8-1focal.20210727.061658), ros-noetic-fiducial-msgs:amd64 (0.12.0-1focal.20210922.201807), ros-noetic-rqt-runtime-monitor:amd64 (0.5.9-1focal.20210922.182142), ros-noetic-gazebo-plugins:amd64 (2.9.2-1focal.20210922.203430), ros-noetic-teleop-twist-keyboard:amd64 (1.0.0-1focal.20210922.181440), ros-noetic-rqt-pr2-dashboard:amd64 (0.4.0-1focal.20210922.194647), ros-noetic-image-proc:amd64 (1.15.3-1focal.20210922.203006), ros-noetic-urdf-tutorial:amd64 (0.5.0-1focal.20210922.211741), ros-noetic-rqt-py-console:amd64 (0.4.10-1focal.20210922.182305), ros-noetic-rqt-multiplot:amd64 (0.0.12-1focal.20210922.183145), ros-noetic-rospy-tutorials:amd64 (0.10.2-1focal.20210922.182322), ros-noetic-smach-ros:amd64 (2.5.0-1focal.20210922.190355), ros-noetic-dwa-local-planner:amd64 (1.17.1-1focal.20210922.204820), ros-noetic-diagnostic-aggregator:amd64 (1.10.4-1focal.20210922.182108), ros-noetic-rqt-console:amd64 (0.4.11-1focal.20210922.190551), ros-noetic-amcl:amd64 (1.17.1-1focal.20210922.193203), ros-noetic-rosserial-python:amd64 (0.9.2-1focal.20210922.181355), ros-noetic-nodelet-tutorial-math:amd64 (0.2.0-1focal.20210922.181735), ros-noetic-robot-state-publisher:amd64 (1.15.0-1focal.20210922.194208), ros-noetic-rqt-robot-monitor:amd64 (0.5.13-1focal.20210922.190555), ros-noetic-simulators:amd64 (1.5.0-1focal.20210922.212523), ros-noetic-rqt-service-caller:amd64 (0.4.10-1focal.20210922.190825), ros-noetic-variant-topic-tools:amd64 (0.1.6-1focal.20210922.180802), ros-noetic-rqt-plot:amd64 (0.4.13-1focal.20210922.190811), ros-noetic-mk:amd64 (1.15.8-1focal.20210726.192420), ros-noetic-turtlesim:amd64 (0.10.2-1focal.20210922.180802), ros-noetic-camera-info-manager:amd64 (1.12.0-1focal.20210922.192649), ros-noetic-tf:amd64 (1.13.2-1focal.20210922.193350), ros-noetic-pluginlib:amd64 (1.13.0-1focal.20210727.062753), ros-noetic-image-view:amd64 (1.15.3-1focal.20210922.202847), ros-noetic-desktop:amd64 (1.5.0-1focal.20210922.213651), ros-noetic-rosserial-arduino:amd64 (0.9.2-1focal.20210922.195211), ros-noetic-turtlebot3-teleop:amd64 (1.2.5-1focal.20210922.181445), ros-noetic-laser-geometry:amd64 (1.6.7-1focal.20210922.194214), ros-noetic-desktop-full:amd64 (1.5.0-1focal.20210922.213755), ros-noetic-dynamic-reconfigure:amd64 (1.7.1-1focal.20210922.183831), ros-noetic-rqt-gui-cpp-dbgsym:amd64 (0.5.2-1focal.20210922.181753), ros-noetic-rqt-rosmon:amd64 (2.4.0-1focal.20210922.182147)
End-Date: 2021-11-08  11:35:11

Is there any way to revert this?

Originally posted by Roshan on ROS Answers with karma: 51 on 2021-11-08
Post score: 0

A:

Hello, I was working with ROS today and got a prompt from the command line about installing this: apt install python3-rosdep2

it's almost certain that's one of the UpstreamPackages. Those are not compatibly with actual ROS Noetic packages, which is why apt asked you whether you'd be OK with uninstalling all of the packages you show.
See the linked wiki page for more information about them, and see “upstream packages” increasingly becoming a problem for a recent-ish discussion.

Is there any way to revert this?

Just reinstall ros-noetic-desktop-full. apt will probably start complaining / warning that python3-rosdep2 is not compatible, but you don't need that package anyway.

Originally posted by gvdhoorn with karma: 86574 on 2021-11-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2021-11-08:
Duplicates / closely related: #q353082, #q359586 and #q356158.


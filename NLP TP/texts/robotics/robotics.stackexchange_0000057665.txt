Q:

Problem with ros navigation

I'm trying to run navigation stack on a differential robot without a static map. I just want the robot to move 10 meters forward without colliding into any obstacles. It works well for the first time, when the global frame and the robot frame coincide perfectly, but once the robot has moved, it starts giving the below warnings. It does not do any path planning, instead it just keeps rotating in place.
Request for map failed; trying again...
The origin for the sensor at (0.19, 0.00) is out of map bounds. So, the costmap cannot raytrace for it.
The robot's start position is off the global costmap. Planning will always fail, are you sure the robot has been properly localized?

Given below is my configuration files:
common_costmap.yaml
obstacle_range: 1.0
raytrace_range: 3.0
robot_radius: 0.376
inflation_radius: 0.45
max_obstacle_height: 0.9
observation_sources: point_cloud_sensor
point_cloud_sensor: {sensor_frame: camera_link, data_type: PointCloud, topic: /pointcloudoutput, marking: true, clearing: true, max_obstacle_height: 0.85}
local_costmap.yaml
local_costmap:
global_frame: /odom
robot_base_frame: /base_link
update_frequency: 5.0
publish_frequency: 2.0
static_map: false
rolling_window: true
width: 6.0
height: 6.0
resolution: 0.05
global_costmap.yaml
global_costmap:
global_frame: /odom
robot_base_frame: /base_link
update_frequency: 5.0
static_map: false
rolling_window: true

Originally posted by rahulr on ROS Answers with karma: 1 on 2014-03-04
Post score: 0

A:

You can't run navigation with a map. It doesn't need a static map, but the global planner does need some kind of map to plan against.
For dynamic environments, I've had some limited success running move_base on top of gmapping, instead of amcl and a static map.
I would recommend getting gmapping to run well by itself, and once that works well, running your navigation on top of gmapping. This way, you can troubleshoot gmapping by itself without chasing the robot around, and it will be easier to isolate failures to either move_base or gmapping, rather than trying to debug both simultaneously.

Originally posted by ahendrix with karma: 47576 on 2014-03-04
This answer was ACCEPTED on the original site
Post score: 1


Q:

hydro turtlebot catkin ROS package: Service [kobuki/load_nodelet] has not been advertised

I'm trying to go through the tutorial for Kobuki Turtlebot on this page: wiki.ros.org/kobuki/Tutorials/Write%20your%20own%20controller%20for%20Kobuki
But when I tried to launch the bump_blink_controller, it gets stuck at waiting for service kobuki/load_nodelet. I already did minimal.launch and it seems fine.
Below is the full roslaunch output, and the last line is where it's stuck. I followed catkin instruction to initialize my catkin workspace, is there anything I missed while trying to build the package?
turtlebot@turtlebot:/opt/ros/hydro/share/kobuki_controller_tutorial$ roslaunch kobuki_controller_tutorial bump_blink_app.launch --screen ... logging to /home/turtlebot/.ros/log/50d2e6c2-f25b-11e3-a454-240a641beb01/roslaunch-turtlebot-15308.log Checking log directory for disk usage. This may take awhile. Press Ctrl-C to interrupt Done checking log file disk usage. Usage is <1GB.

started roslaunch server  http:// 192.168.1.108:54204/

SUMMARY ========

PARAMETERS * /rosdistro * /rosversion

NODES / bump_blink_controller (nodelet/nodelet)

ROS_MASTER_URI=http:// localhost:11311

core service [/rosout] found process[bump_blink_controller-1]: started with pid [15326] [ INFO] [1402595998.924197642]: Loading nodelet /bump_blink_controller of type kobuki_controller_tutorial/BumpBlinkControllerNodelet to manager kobuki with the following remappings: [ INFO] [1402595998.924404875]: /bump_blink_controller/commands/led1 -> /mobile_base/commands/led1 [ INFO] [1402595998.924468276]: /bump_blink_controller/events/bumper -> /mobile_base/events/bumper 

> [ INFO] [1402595998.928954200]:
> waitForService: Service
> [/kobuki/load_nodelet] has not been
> advertised, waiting...

Originally posted by yis on ROS Answers with karma: 1 on 2014-06-16
Post score: 0

A:

The launch file example in the tutorial is misleading. If you started normal minimal.launch, the nodelet_manager name should be mobile_base_nodelet_manager like this file.
https://github.com/yujinrobot/kobuki/blob/hydro-devel/kobuki_controller_tutorial/launch/bump_blink_app.launch
I have updated the launch file example in the tutorial. It should work now.

Originally posted by jihoonl with karma: 634 on 2014-06-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by yis on 2014-06-17:
Now in the minimal.launch screen, I got this error when I was trying to launch the tutorial again:
Failed to load nodelet [/bump_blink_controller] of type [kobuki_controller_tutorial/BumpBlinkControllerNodelet]: According to the loaded plugin descriptions the class kobuki_controller_tutorial/BumpBlinkControllerNodelet with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register depthimage_to_laserscan/DepthImageToLaserScanNodelet image_proc/crop_decimate image_proc/debayer image_proc/rectify image_rotate/image_rotate image_view/disparity image_view/image kobuki_auto_docking/AutoDockingNodelet kobuki_bumper2pc/Bumper2PcNodelet kobuki_node/KobukiNodelet kobuki_safety_controller/SafetyControllerNodelet nodelet_tutorial_math/Plus openni_camera/driver pcl/BAGReader pcl/ExtractIndices pcl/NodeletDEMUX pcl/NodeletMUX pcl...
Comment by yis on 2014-06-17:
The library file .so is also not created under /opt/ros/hydro/lib. I got it to create it during some previous attempts, but I'm not sure if I missed some steps or configurations, I can't get it to create the file anymore. What is the essential step in creating the .so file? I notice the path is set in the nodelet_plugins.xml, but how is the library created? My error looks like this:     Failed to load nodelet [/bump_blink_controller] of type [kobuki_controller_tutorial/BumpBlinkControllerNodelet]: Could not find library corresponding to plugin kobuki_controller_tutorial/BumpBlinkControllerNodelet. Make sure the plugin description XML file has the correct name of the library and that the library actually exists.


Q:

Interpreting ros error code

Here is the error code that I am getting
[darknet_ros-2] process has died [pid 1733, exit code -11, cmd /home/nvidia/catkin_ws/devel/lib/darknet_ros/darknet_ros __name:=darknet_ros __log:=/home/nvidia/.ros/log/b9b03498-0cdc-11e8-9325-2816adcdeb8c/darknet_ros-2.log].
log file: /home/nvidia/.ros/log/b9b03498-0cdc-11e8-9325-2816adcdeb8c/darknet_ros-2*.log
The log file reports the following:
[rospy.client][INFO] 2018-01-29 20:27:28,806: init_node, name[/mipi_cap_node], pid[1732]
[xmlrpc][INFO] 2018-01-29 20:27:28,808: XML-RPC server binding to 0.0.0.0:0
[xmlrpc][INFO] 2018-01-29 20:27:28,810: Started XML-RPC server [http://192.168.1.32:44140/]
[rospy.impl.masterslave][INFO] 2018-01-29 20:27:28,810: _ready: http://192.168.1.32:44140/
[rospy.init][INFO] 2018-01-29 20:27:28,811: ROS Slave URI: [http://192.168.1.32:44140/]
[rospy.registration][INFO] 2018-01-29 20:27:28,813: Registering with master node http://192.168.1.29:11311
[xmlrpc][INFO] 2018-01-29 20:27:28,813: xml rpc node: starting XML-RPC server
[rospy.registration][INFO] 2018-01-29 20:27:28,814: Registering publisher topic [/camera/rgb/image_raw] type             [sensor_msgs/Image] with master
[rospy.init][INFO] 2018-01-29 20:27:28,911: registered with master
[rospy.rosout][INFO] 2018-01-29 20:27:28,912: initializing /rosout core topic
[rospy.rosout][INFO] 2018-01-29 20:27:28,917: connected to core topic /rosout
[rospy.simtime][INFO] 2018-01-29 20:27:28,921: /use_sim_time is not set, will not subscribe to simulated time [/clock] topic
[rospy.internal][INFO] 2018-01-29 20:27:29,139: topic[/rosout] adding connection to [/rosout], count 0
[rospy.internal][INFO] 2018-01-29 20:27:33,557: topic[/camera/rgb/image_raw] adding connection to [/darknet_ros], count 0
[rospy.internal][INFO] 2018-01-29 20:27:36,530: topic[/camera/rgb/image_raw] removing connection to /darknet_ros
[rospy.internal][INFO] 2018-01-29 20:27:44,671: topic[/camera/rgb/image_raw] adding connection to        [/rostopic_8635_1518100309363], count 0
[rospy.internal][INFO] 2018-01-29 20:27:46,893: topic[/camera/rgb/image_raw] removing connection to /rostopic_8635_1518100309363

[rospy.internal][INFO] 2018-01-29 20:27:49,532: topic[/camera/rgb/image_raw] adding connection to                 [/rostopic_8656_1518100314233], count 0
[rospy.internal][INFO] 2018-01-29 20:28:10,690: topic[/camera/rgb/image_raw] removing connection to /rostopic_8656_1518100314233
[rosout][WARNING] 2018-01-29 20:28:10,783: Inbound TCP/IP connection failed: connection from sender terminated before handshake header received. 0 bytes were received. Please check sender for additional details.
[rospy.internal][ERROR] 2018-01-29 20:28:10,788: Inbound TCP/IP connection failed:
Traceback (most recent call last):
File "/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py", line 321, in _tcp_server_callback
header = read_ros_handshake_header(sock, StringIO(), buff_size)
File "/opt/ros/kinetic/lib/python2.7/dist-packages/rosgraph/network.py", line 364, in read_ros_handshake_header
raise ROSHandshakeException("connection from sender terminated before handshake header received. %s bytes were    received. Please check sender for additional details."%b.tell())
ROSHandshakeException: connection from sender terminated before handshake header received. 0 bytes were received. Please check sender for additional details.
[rospy.internal][INFO] 2018-01-29 20:28:22,484: topic[/camera/rgb/image_raw] adding connection to [/image_view_1518100347117379321], count 0
[rospy.internal][INFO] 2018-01-29 20:28:34,113: topic[/camera/rgb/image_raw] removing connection to /image_view_1518100347117379321
[rospy.internal][INFO] 2018-01-29 20:29:47,053: topic[/camera/rgb/image_raw] adding connection to [/rostopic_9008_1518100431738], count 0
[rospy.internal][INFO] 2018-01-29 20:29:51,258: topic[/camera/rgb/image_raw] removing connection to /rostopic_9008_1518100431738
[rosout][WARNING] 2018-01-29 20:29:51,363: Inbound TCP/IP connection failed: connection from sender terminated before handshake header received. 0 bytes were received. Please check sender for additional details.
[rospy.internal][ERROR] 2018-01-29 20:29:51,365: Inbound TCP/IP connection failed:
Traceback (most recent call last):
File "/opt/ros/kinetic/lib/python2.7/dist-packages/rospy/impl/tcpros_base.py", line 321, in _tcp_server_callback
header = read_ros_handshake_header(sock, StringIO(), buff_size)
File "/opt/ros/kinetic/lib/python2.7/dist-packages/rosgraph/network.py", line 364, in read_ros_handshake_header
raise ROSHandshakeException("connection from sender terminated before handshake header received. %s bytes were received. Please check sender for additional details."%b.tell())
ROSHandshakeException: connection from sender terminated before handshake header received. 0 bytes were received. Please check sender for additional details.
[rospy.core][INFO] 2018-01-29 20:30:17,905: signal_shutdown [signal-2]
[rospy.internal][INFO] 2018-01-29 20:30:17,972: topic[/rosout] removing connection to /rosout
[rospy.impl.masterslave][INFO] 2018-01-29 20:30:17,973: signal-2
[rospy.core][INFO] 2018-01-29 20:30:19,182: signal_shutdown [atexit]
Now mipi_cap_node is created using a python script. Any leads why this could be happening. Could it be because mipi_cop_node does not have the correct directory structure?

Originally posted by pnambiar on ROS Answers with karma: 120 on 2018-02-08
Post score: 0

A:

It seems like the darknet_ros node is the one that is crashing. Exit code -11 is a segfault, which indicates some kind of memory error in that node. You might want to run it in gdb or valgrind to debug it: http://wiki.ros.org/roslaunch/Tutorials/Roslaunch%20Nodes%20in%20Valgrind%20or%20GDB
The log file you posted doesn't seem to be from the node that crashed, and despite the formatting errors I don't see anything obviously wrong; it just looks like that node shut down normally.

Originally posted by ahendrix with karma: 47576 on 2018-02-09
This answer was ACCEPTED on the original site
Post score: 0


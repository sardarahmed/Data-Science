Q:

AddingSensorsToPR2 tutorial errors

Hi guys,
I am going through the urdf/Tutorials/AddingSensorsToPR2  tutorial. This tutorial basically shows how to add new links and attach sensors to a link in gazebo.
Although the new links and joints can be added and viewed properly:

I can find the ROS topic for the added camera. Here is a part of my xacro file, slightly modified from the original file on the tutorial page.
 <gazebo reference="finger_tip_camera_link">
  <sensor:camera name="finger_tip_camera_sensor">
    <imageSize>640 480</imageSize>
    <imageFormat>BAYER_BGGR8</imageFormat>
    <hfov>90</hfov>
    <nearClip>0.01</nearClip>
    <farClip>100</farClip>
    <updateRate>25.0</updateRate>
    <controller:gazebo_ros_camera name="finger_tip_camera_controller" plugin="libgazebo_ros_camera.so">
      <alwaysOn>true</alwaysOn>
      <updateRate>25.0</updateRate>
      <imageTopicName>finger_tip_cam/image</imageTopicName>
      <cameraInfoTopicName>finger_tip_cam/camera_info</cameraInfoTopicName>
      <frameName>finger_tip_camera_link</frameName>
      <interface:camera name="finger_tip_camera_iface" />
    </controller:gazebo_ros_camera>
  </sensor:camera>
  <turnGravityOff>true</turnGravityOff>
  <material>PR2/Blue</material>
  </gazebo>

I didn't see any error message, just couldn't find the ROS image topic, which should be finger_tip_cam/image in this case.
Any idea what goes wrong and where can I find the documentation on the syntax of gazebo_plugin. The Ros Camera Plugin XML Reference and Example here is fairly limited, not detailed enough for me to understand...

Originally posted by vincent on ROS Answers with karma: 311 on 2011-09-01
Post score: 0

Original comments
Comment by vincent on 2011-09-03:
thank you i'll do that
Comment by Eric Perko on 2011-09-03:
Post the entire solution as an answer and then one of the site admins can come along and mark it as the actual accepted answer (currently, I don't think you can accept your own answer to your own question).
Comment by vincent on 2011-09-03:
sorry for that, what should I do to close off this question?
Comment by kwc on 2011-09-02:
It sounds like you've already answered your own question.  Please close off this question if that is the case and don't incrementally ask new questions (use new posts to ask different questions).

A:

When I start up the gazebo world with pr2, there is some warnings:
[ WARN] [1314971961.560814557, 0.001000000]: urdf2gazebo: link(r_gripper_tool_frame) has no inertia, 1 children link ignored.
[ WARN] [1314971961.560901210, 0.001000000]: urdf2gazebo: link(r_gripper_tool_frame) has no inertia, 1 children joint ignored.
[ WARN] [1314971961.560934768, 0.001000000]: urdf2gazebo: link(r_gripper_tool_frame) has no inertia, parent joint(r_gripper_tool_joint) is ignored.
[ WARN] [1314971961.560967559, 0.001000000]: urdf2gazebo: link(r_gripper_tool_frame) has no inertia, not modeled in gazebo.

I added the intertia property to r_gripper_tool_frame which was originally defined in file "pr2_description/urdf/gripper.urdf.xacro" and it worked.
But i'm still wondering if there is detailed gazebo plugin XML reference.

Originally posted by vincent with karma: 311 on 2011-09-03
This answer was ACCEPTED on the original site
Post score: 1


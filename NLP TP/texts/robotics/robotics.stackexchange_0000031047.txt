Q:

Kinect raw disparity offset

Hello, I'm looking at the kinect calibration (http://www.ros.org/wiki/kinect_calibration/technical). Can anyone tell me why the disparity offset, doff, is around 1090? How is this value obtained?
Thanks
Roberto

Originally posted by Roberto Battisti on ROS Answers with karma: 11 on 2011-04-12
Post score: 1

Original comments
Comment by Felix Endres on 2011-04-13:
Are you aware that using openni_kinect (http://www.ros.org/wiki/openni_kinect) there is no need for calibration?

A:

As Felix said, OpenNI internally converts the raw disparity values to metric distances, so when using openni_kinect there's no longer any need to calibrate that conversion. If you're interested in how this was done, the code is in kinect_calibration, starting line 292.
Basically, the depth Z is related to a raw disparity reading r by Z = A / (B - r), where A and B are constants we are solving for. In calibration, we:

Capture depth and IR images of a checkerboard with known size.
Find the checkerboard corners in the IR image.
Solve the PnP problem to get the 3d coordinates of each corner. (In the code, this is a by-product of calibrating the IR camera intrinsics.)
Look up the corresponding raw disparity reading for each corner in the depth images.
Given this set of (Z, r) observations, perform a least-squares fitting for A and B.

Originally posted by Patrick Mihelich with karma: 4336 on 2011-04-20
This answer was ACCEPTED on the original site
Post score: 1


Q:

rtabmap process crashing, [rtabmap_ros with realsense ZR300]

Hi,
I am trying to use rtabmap_ros package with realsense ZR300 camera. After roslaunch one of the rtabmap process is crashed and the GUI visualization is empty. I have build both realsense_camera and rtabmap_ros from source.
Procedure I followed:
roslaunch realsense_camera zr300_nodelet_default.launch

roslaunch rtabmap_ros rgbd_mapping.launch

I have added the screenshot of the error.  Looking for suggestions to solve the error.
Thanks.

Errors:

Debug info :

rqt_graph:

roswtf:
Loaded plugin tf.tfwtf
No package or stack in context
================================================================================
Static checks summary:

No errors or warnings
================================================================================
Beginning tests of your ROS graph. These may take awhile...
analyzing graph...
... done analyzing graph
running graph rules...
ERROR: connection refused to [http://i-ssrc-ws-13:40681/]
... done running graph rules
running tf checks, this will take a second...
... tf checks complete

Online checks summary:

Found 4 warning(s).
Warnings are things that may be just fine, but are sometimes at fault

WARNING The following node subscriptions are unconnected:
 * /rtabmap/rtabmapviz:
   * /rtabmap/info
   * /rtabmap/global_path
   * /rtabmap/mapData
   * /rtabmap/goal_reached
   * /rtabmap/goal_node
 * /rqt_gui_py_node_5161:
   * /statistics

WARNING The following nodes are unexpectedly connected:
 * /camera/nodelet_manager->/roswtf_9415_1505292273588 (/tf)

WARNING These nodes have died:
 * rtabmap/rtabmap-2

WARNING No tf messages

Found 2 error(s).

ERROR Could not contact the following nodes:
 * /rtabmap/rtabmap

ERROR Errors connecting to the following services:
 * service [/rtabmap/rtabmap/list] appears to be malfunctioning: Unable to communicate with service [/rtabmap/rtabmap/list], address [rosrpc://i-ssrc-ws-13:54771]
 * service [/rtabmap/rtabmap/load_nodelet] appears to be malfunctioning: Unable to communicate with service [/rtabmap/rtabmap/load_nodelet], address [rosrpc://i-ssrc-ws-13:54771]
 * service [/rtabmap/rtabmap/get_loggers] appears to be malfunctioning: Unable to communicate with service [/rtabmap/rtabmap/get_loggers], address [rosrpc://i-ssrc-ws-13:54771]
 * service [/rtabmap/rtabmap/set_logger_level] appears to be malfunctioning: Unable to communicate with service [/rtabmap/rtabmap/set_logger_level], address [rosrpc://i-ssrc-ws-13:54771]
 * service [/rtabmap/rtabmap/unload_nodelet] appears to be malfunctioning: Unable to communicate with service [/rtabmap/rtabmap/unload_nodelet], address [rosrpc://i-ssrc-ws-13:54771]

Originally posted by bvbdort on ROS Answers with karma: 3034 on 2017-09-13
Post score: 0

A:

rtabmap node is crashing on start without showing any log. This may be caused by different versions of the same library loaded from rtabmap's dependencies (like two shared libraries built with different Eigen version or configuration) or a problem when loading shared libraries. Can you output the cmake log of rtabmap library? You may try to limit the dependencies built with the library, like setting -DWITH_REALSENSE=OFF when building rtabmap library (rtabmap library doesn't need to be built with the sensor support if you are using the ros package for the camera).
$ cd rtabmap/build
$ cmake -DWITH_REALSENSE=OFF ..
$ make -j4
$ make install

cheers,
Mathieu

Originally posted by matlabbe with karma: 6409 on 2017-09-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by bvbdort on 2017-09-14:
Thanks for the answer. Its problem with my workspace, but I am not sure exactly what caused the problem. Now its working well after re installing the librealsense. This time I built librealsense without using sourcing ros environment.


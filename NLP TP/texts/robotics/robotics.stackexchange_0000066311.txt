Q:

How to use image_proc node

Using Xtion on Ubuntu with ROS hydro. Ran openni2_launch to the launch camera drivers.

$ rostopic list

/camera/rgb/image_raw
/camera/rgb/camera_info
and many other topics /camera/depth/.. camera/ir/..

ROS_NAMESPACE=camera rosrun image_proc
image_proc

tells me to advertise /camera/image_raw first.
[ WARN] [1426076094.517140381]: The input topic '/camera/image_raw' is not yet advertised
I was assuming my camera drivers are publishing to /camera/image_raw and camera/camera_info by default which I suppose image_proc will subscribe to publish image_mono or image_rect image but apparently they are publishing /camera/rgb/image_raw and camera/rgb/camera_info. What is the difference between /camera/image_raw and /camera/rgb/image_raw and  how should I publish /camera/image_raw.

Originally posted by rdhn on ROS Answers with karma: 51 on 2015-03-11
Post score: 1

A:

If your cam driver topics are
/camera/rgb/image_raw

/camera/rgb/camera_info

I guess you should start the image_proc node like:
ROS_NAMESPACE=camera/rgb rosrun image_proc image_proc

Update with explanations:
The ROS_NAMESPACE=camera/rgb puts all topics of the node into this namespace. Initially if you run
rosrun image_proc image_proc

it will listen to the topics
/image_raw

/camera_info

. If you than change the call into
ROS_NAMESPACE=camera rosrun image_proc image_proc

as mentioned in the tutorial it will listen to
/camera/image_raw

/camera/camera_info

. However, your camera driver apparently publishes to the /camera/rbg namespace so your call will be
ROS_NAMESPACE=camera/rgb rosrun image_proc image_proc

such that the image_proc node listens to the topics of your camera driver which are:
/camera/rgb/image_raw

/camera/rgb/camera_info

Originally posted by Wolf with karma: 7555 on 2015-03-11
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by rdhn on 2015-03-11:
can you please explain what is actually happening?
Comment by Wolf on 2015-03-12:
Please see the edit
Comment by rdhn on 2015-03-12:
thank you for the explanation. can you also give me the command list to convert depth image to XYZ point cloud using depth_image_proc/point_cloud_xyz nodelet of depth_image_proc.
Comment by Wolf on 2015-03-12:
Sorry, don't know this. Please feel free to open new thread on that, if you can not find it in the docs/tutorials


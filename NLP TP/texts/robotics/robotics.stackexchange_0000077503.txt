Q:

Roomba - TurtleBot1 serial communication for TeleOP

Hey there,
I have a roomba version 521 and I would like to use it as base of a "turtle Bot". I know this is kind of old stuff cause no one uses these base es anymore. Many use kobuki or directly start with TurtleBot version 3.
Nevertheless I would like to use a roomba version 521 as the base staion of my turtlebot. Now I am searching for software to connect this base station via a Mini - DIN serial port connector to a laptop on which ros indigo 14.04 LTS is running on.
My Problem is I do not find any working software for communicating  with ros with my laptop to the roomba.
I ended up with this tutorial: wikiRobots/RoombaRobin.
When I tried to test the software I downloaded within this tutorial. And I started:
roslaunch roomba_robin_bringup minimal.launch

I got the following errors:
roslaunch roomba_robin_bringup minimal.launch ...
logging to /home/markus/.ros/log/65038936-b274-11e6-8df8-9cb70de7f81a/roslaunch-turtleBot1-6333.log
Checking log directory for disk usage. This may take awhile. Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

while processing /home/markus/catkin_ws/src/roomba_robin/roomba_robin_bringup/launch/includes/mobile_base.launch.xml:
while processing /home/markus/catkin_ws/src/roomba_robin/roomba_robin_bringup/launch/includes/kobuki/mobile_base.launch.xml:

Invalid roslaunch XML syntax: [Errno 2] No such file or directory:
u'/home/markus/catkin_ws/src/roomba_robin/roomba_robin_bringup/launch/includes/kobuki/mobile_base.launch.xml'
The traceback for the exception was written to the log file

Any ideas how I can solve this issue?
By the way if I connect my serial cable with the laptop and type lsusb I see the following:
Bus 003 Device 006: ID 0403:6001 Future Technology Devices International, Ltd FT232 USB-Serial (UART) IC

Hope if somebody knows where there is still software for the roomba 521 available?
WIth the Tipp of Jacob:
Thanks Jacob,
I saw that you have one of the biggest libraries for the Roombas and I already testet it...
I followed your tutorial on your Page step by step but I came into some problems when executing

roslaunch ca_driver create_1.launch [publish_tf:=true]
markus@turtleBot1:~/create_ws/create_autonomy/ca_driver/launch$
> catkin build
> ----------------------------------------------------------- Profile:                     default
> Extending:             [env]
> /opt/ros/indigo Workspace:            
> /home/markus/create_ws
> ----------------------------------------------------------- Source Space:       [exists]
> /home/markus/create_ws/src Log Space: 
> [exists] /home/markus/create_ws/logs
> Build Space:        [exists]
> /home/markus/create_ws/build Devel
> Space:        [exists]
> /home/markus/create_ws/devel Install
> Space:      [unused]
> /home/markus/create_ws/install
> DESTDIR:            [unused] None
> ----------------------------------------------------------- Devel Space Layout:          linked
> Install Space Layout:        None
> ----------------------------------------------------------- Additional CMake Args:       None
> Additional Make Args:        None
> Additional catkin Make Args: None
> Internal Make Job Server:    True
> Cache Job Environments:      False
> ----------------------------------------------------------- Whitelisted Packages:        None
> Blacklisted Packages:        None
> ----------------------------------------------------------- Workspace configuration appears valid.
> ----------------------------------------------------------- [build] No packages were found in the
> source space
> '/home/markus/create_ws/src' [build]
> No packages to be built. [build]
> Package table is up to date.          
> [build] Summary: All 0 packages
> succeeded!                            
> [build]   Ignored:   None.            
> [build]   Warnings:  None.            
> [build]   Abandoned: None.            
> [build]   Failed:    None.            
> [build] Runtime: 0.3 seconds total.   
> markus@turtleBot1:~/create_ws/create_autonomy/ca_driver/launch$
roslaunch ca_driver create_2.launch
[desc:=true] [publish_tf:=true]
[create_2.launch] is neither a launch
file in package [ca_driver] nor is
[ca_driver] a launch file name The
traceback for the exception was
written to the log file

markus@turtleBot1:~/create_ws/create_autonomy/ca_driver/launch$
roslaunch ca_driver create_1.launch
[publish_tf:=true] [create_1.launch]
is neither a launch file in package
[ca_driver] nor is [ca_driver] a
launch file name The traceback for the
exception was written to the log file

create_1.launch  is neither a launch file in package [ca_driver] nor is [ca_driver] a launch file name
Do I have to modify the installation in some why have I installed something wrong
Best
Markus
Best
Markus

Originally posted by Markus on ROS Answers with karma: 311 on 2016-11-24
Post score: 0

A:

Hi Markus,
You could check out my driver create_autonomy for controlling the Roomba base as a replacement to roomba_robin. The create_1.launch file should do the trick.
Jacob

Originally posted by jacobperron with karma: 1870 on 2016-11-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Markus on 2016-11-25:
as comments are not allowed to be that long I just posted an answer above ... Would be glad if you could help me.
Comment by jacobperron on 2016-11-25:
catkin is not detecting any packages. Is the create_autonomy repository actually cloned inside catkin_ws/src ?
Also, the square brackets [publish_tf:=true] are to indicate it is optional, meaning you shouldn't actual type those. You can just run roslaunch ca_driver create_1.launch.
Comment by Markus on 2016-11-29:
Hm I fixed that issue now. However I get a new Problem when executing> roslaunch ca_driver create_1.launch
It says the following>
Unable to contact my own server at [http://130.83.118.240:32925/].
This usually means that the network is not configured properly.
Comment by Markus on 2016-11-29:
After solving this error I would like to know how do I use:
rostopic pub power_led  std_msgs/UInt8MultiArray 1 2
the above code is not workin what do I have to change
Comment by jacobperron on 2016-11-30:
You might find rosrun rqt_publisher rqt_publisher easier to use. I'm not sure of the proper command line syntax.
Comment by jacobperron on 2016-11-30:
As far as network issues go, I would ask around other threads. See http://answers.ros.org/question/236444/unable-to-contact-my-own-server/?answer=236592#post-id-236592
Comment by Markus on 2016-11-30:
The command line syntax is:
rostopic pub -1 /set_ascii std_msgs/UInt8MultiArray '{data:[34,35]}'

rostopic pub /power_led std_msgs/UInt8Multiray '{data:[90]}'


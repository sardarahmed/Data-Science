Q:

What is the best way for recieving data through serial port in hydro?

What is the best way for recieving data through serial port in hydro?
Does hydro supports cereal_port package?

Originally posted by mr.karimi on ROS Answers with karma: 52 on 2013-12-09
Post score: 1

A:

If you are looking to write a device driver, then you probably just want a serial library.  This depends on the language that you want to use.
For Python, I would use pyserial.
In C++, I would recommend @William's serial library.  It has an API similar to pyserial, and it is cross-platform and well maintained.  I have used it in several projects.
If you are looking to communicate with an Arduino or embedded linux, then stick to rosserial

Originally posted by mjcarroll with karma: 6414 on 2013-12-09
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by mr.karimi on 2013-12-12:
Thank you very much!  :)
Comment by mr.karimi on 2013-12-13:
excuse me , i write a simple program but it doesn't work!
my program :
#include "serial/serial.h"
#include "ros/ros.h"
int main(int argc,char **argv)
{
ros::init(argc,argv,"serial") ;
ros::NodeHandle nh ;
serial::Serial my_serial("dev/ttyUSB0",9600,serial::Timeout::simpleTimeout(1000),serial::eightbits,serial::parity_none,serial::stopbits_one,serial::flowcontrol_none);
ROS_INFO_STREAM("Is Serial Port Open?");
if(my_serial.isOpen())
ROS_INFO_STREAM("Yes");
else
ROS_INFO_STREAM("No");
}
and I got these errors :
CMakeFiles/serial.dir/serial.cpp.o: In function main': /home/mohammad/ros_workspace/serial_test3/serial.cpp:8: undefined reference to serial::Serial::Serial(std::string const&, unsigned int, serial::Timeout, serial::bytesize_t, serial::parity_t, serial::stopbits_t, serial::flowcontrol_t)'
/home/mohammad/ros_workspace/serial_test3/serial.cpp:10: undefined reference to `serial::Serial::isOpen() const'
/home/mohammad/ros_workspace/serial_tes
Comment by mr.karimi on 2013-12-13:
i think i should add a link to serial library but i don't know how!
Comment by mjcarroll on 2013-12-13:
You likely need to add the serial library to your package.xml and CMakeLists.txt file, so that you can find it in your package.  Here is an example of a motor controller driver using the serial library: https://github.com/wjwwood/ax2550
Comment by mr.karimi on 2013-12-19:
I'm sorry for my delay(I got a bad cold!)    I wrote another program but when i compiled it with catkin_make , it wrote this message in red color :
"Linking CXX executable /home/mohammad/ros_workspace/devel/lib/first_test/serial  "
is it an error?
and when i write "rosrun first_test serial" , it says  :  "[rosrun] Couldn't find executable named serial below /home/mohammad/ros_workspace/src/first_test  "
Comment by mr.karimi on 2013-12-19:
and please see my CMakeList.txt file , is it correct?
" cmake_minimum_required(VERSION 2.8.3)
project(first_test)
find_package(catkin REQUIRED roscpp serial)
catkin_package(
INCLUDE_DIRS
LIBRARIES first_test
CATKIN_DEPENDS serial
)
include_directories(include ${catkin_INCLUDE_DIRS})
add_executable(serial serial.cpp)
target_link_libraries(serial ${catkin_LIBRARIES} ${serial_LIBRARIES})
"
Comment by mr.karimi on 2013-12-19:
now it doesn't show that message but when i want to run it , this message shows :
[rosrun] Couldn't find executable named serial below /home/mohammad/ros_workspace/src/first_test "
Comment by mr.karimi on 2013-12-21:
Finally I did it! Thank you very much , it was very helpful!  :)


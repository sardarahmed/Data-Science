Q:

Problem picking items up in Gazebo with PR2

Hello,
I've set up my own world in Gazebo and now want the PR2 in the simulation grasp the items and pick them up. Therefore I have a script (script from aaai_lfd_demo: https://bosch-ros-pkg.svn.sourceforge.net/svnroot/bosch-ros-pkg/trunk/stacks/aaai_lfd_demo/aaai_lfd_demo_executive/scripts/executive.py) which moves the arm of the PR2 into the right position, opens the gripper, grasps the item, and should pick it up. But if the PR2 has grasped the item he freezes. He isn't able to pick it up. So what could be the problem? When using this script with an actual PR2, it works, so it has to be a problem with the Gazebo setup.
I just launch my world, a PR2 and my script to move the robot.
Here is the xml code of my object: (Are there maybe some parameters wrong?)
 
  
       -0.1355  -1.138   0.9
       0.0    0.0    0.0
    false 
    
      
        1.5
        1.5
        default
        0.085 0.07 0.14
         0.1
        
          0.085 0.07 0.14
          Gazebo/Red
          unit_box
        
      
    
  -->
I also tried the pick up the coke_can from the PR2_Pick_and_Place_Demo from the pr2_simulator  tutorials in my world, but it also doesn't work.
Thanks in advance!
Ralf Kempf

Originally posted by r_kempf on ROS Answers with karma: 133 on 2011-06-23
Post score: 2

Original comments
Comment by r_kempf on 2011-07-01:
No just the PR2 freezes. I'm using my own world file and im launching a pr2 within my world.launch
Comment by hsu on 2011-06-28:
does the entire simulation freeze?  which world file are you using (are you launching pr2 via 'roslaunch pr2_gazebo pr2_empty_world.launch')?
Comment by Rodrigo on 2016-10-18:
Were you able to spot the problem? I think I'm facing the same issue. I'm using MoveIt! to pick objects, the first part of a grasp is ok (move the arm and open the gripper), but when the gripper closes around the object the controller get stuck waiting for the gripper to fully close.
Comment by LSD on 2022-12-01:
@Rodrigo
Does this answer help with your issue?

A:

The gripper controller is not detecting stall due to gripper velocity jitter. Try adding these two lines to your aaai_lfd_simulator/launch/simulation_world.launch:
<!-- Set params for sim -->
<param name="r_gripper_controller/gripper_action_node/stall_velocity_threshold" value="0.01" type="double"/>
<param name="l_gripper_controller/gripper_action_node/stall_velocity_threshold" value="0.01" type="double"/>

Originally posted by hsu with karma: 5780 on 2011-07-01
This answer was ACCEPTED on the original site
Post score: 2


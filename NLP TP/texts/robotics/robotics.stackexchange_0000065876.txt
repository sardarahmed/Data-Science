Q:

Error compiling ros_web_video

Hello, I wanted to use the ros_web_video library but when I compile it, I obtain the following compilation error:
Base path: /home/robot/Desktop/gamma
Source space: /home/robot/Desktop/gamma/src
Build space: /home/robot/Desktop/gamma/build
Devel space: /home/robot/Desktop/gamma/devel
Install space: /home/robot/Desktop/gamma/install
####
#### Running command: "cmake /home/robot/Desktop/gamma/src -DCATKIN_DEVEL_PREFIX=/home/robot/Desktop/gamma/devel -DCMAKE_INSTALL_PREFIX=/home/robot/Desktop/gamma/install" in "/home/robot/Desktop/gamma/build"
####
-- Using CATKIN_DEVEL_PREFIX: /home/robot/Desktop/gamma/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/hydro
-- This workspace overlays: /opt/ros/hydro
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Python version: 2.7
-- Using Debian Python package layout
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/robot/Desktop/gamma/build/test_results
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- catkin 0.5.89
-- BUILD_SHARED_LIBS is on
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 2 packages in topological order:
-- ~~  - ros_web_video
-- ~~  - control
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- +++ processing catkin package: 'ros_web_video'
-- ==> add_subdirectory(ros_web_video)
-- Boost version: 1.46.1
-- Found the following Boost libraries:
--   system
--   filesystem
--   thread
-- Found BZip2: /usr/lib/i386-linux-gnu/libbz2.so 
-- Looking for BZ2_bzCompressInit in /usr/lib/i386-linux-gnu/libbz2.so
-- Looking for BZ2_bzCompressInit in /usr/lib/i386-linux-gnu/libbz2.so - found
-- Found ZLIB: /usr/lib/i386-linux-gnu/libz.so (found version "1.2.3.4")
Cloning into 'libvpx'...
Note: checking out 'v1.2.0'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at b9ce430... Update CHANGELOG for v1.2.0 release
Cloning into 'FFmpeg'...
Note: checking out 'n1.1'.

You are in 'detached HEAD' state. You can look around, make experimental
changes and commit them, and you can discard any commits you make in this
state without impacting any branches by performing another checkout.

If you want to create a new branch to retain commits you create, you may
do so (now or later) by using -b with the checkout command again. Example:

  git checkout -b new_branch_name

HEAD is now at 79013a5... update for 1.1
Configuring selected codecs
  enabling vp8_encoder
  enabling vp8_decoder
Configuring for target 'x86-linux-gcc'
  enabling x86
  enabling runtime_cpu_detect
  enabling mmx
  enabling sse
  enabling sse2
  enabling sse3
  enabling ssse3
  enabling sse4_1
Neither yasm nor nasm have been found

Configuration failed. This could reflect a misconfiguration of your
toolchains, improper options selected, or another problem. If you
don't see any useful error messages above, the next step is to look
at the configure error log file (config.err) to determine what
configure was trying to do when it died.
make: *** No targets specified and no makefile found.  Stop.
yasm not found, use --disable-yasm for a crippled build

If you think configure made a mistake, make sure you are using the latest
version from Git.  If the latest version fails, report the problem to the
ffmpeg-user@ffmpeg.org mailing list or IRC #ffmpeg on irc.freenode.net.
Include the log file "config.log" produced by configure as this will help
solving the problem.
Makefile:2: config.mak: No such file or directory
Makefile:49: /common.mak: No such file or directory
Makefile:92: /libavutil/Makefile: No such file or directory
Makefile:92: /library.mak: No such file or directory
Makefile:178: /doc/Makefile: No such file or directory
Makefile:179: /tests/Makefile: No such file or directory
make: *** No rule to make target `/tests/Makefile'.  Stop.
-- +++ processing catkin package: 'control'
-- ==> add_subdirectory(control)
-- Using these message generators: gencpp;genlisp;genpy
-- Generating .msg files for action control/Control /home/robot/Desktop/gamma/src/control/action/Control.action
-- control: 7 messages, 1 services
-- Configuring done
-- Generating done
-- Build files have been written to: /home/robot/Desktop/gamma/build
####
#### Running command: "make -j4 -l4" in "/home/robot/Desktop/gamma/build"
####
Scanning dependencies of target std_msgs_generate_messages_lisp
Scanning dependencies of target geometry_msgs_generate_messages_lisp
Scanning dependencies of target ros_web_video
[  0%] Built target std_msgs_generate_messages_lisp
[  0%] [  0%] Built target geometry_msgs_generate_messages_lisp
Built target actionlib_msgs_generate_messages_lisp
Scanning dependencies of target geometry_msgs_generate_messages_cpp
Scanning dependencies of target std_msgs_generate_messages_cpp
[  0%] Built target actionlib_msgs_generate_messages_cpp
[  0%] Built target geometry_msgs_generate_messages_cpp
[  0%] Built target std_msgs_generate_messages_cpp
Scanning dependencies of target std_msgs_generate_messages_py
Scanning dependencies of target geometry_msgs_generate_messages_py
[  0%] Built target actionlib_msgs_generate_messages_py
[  0%] [  0%] Built target geometry_msgs_generate_messages_py
Built target std_msgs_generate_messages_py
[ 21%] Built target control_generate_messages_lisp
[ 48%] [ 70%] Built target control_generate_messages_py
Built target control_generate_messages_cpp
[ 72%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/ffmpeg_wrapper.cpp.o
[ 72%] Built target control_generate_messages
[ 75%] Built target control_client
[ 78%] Built target control_server
[ 81%] [ 83%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/server.cpp.o
Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/connection.cpp.o
[ 86%] Built target control_service
[ 89%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/topic_streamer.cpp.o
[ 91%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/reply.cpp.o
[ 94%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/request_parser.cpp.o
[ 97%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/image_subscriber.cpp.o
make[2]: *** No rule to make target `/home/robot/Desktop/gamma/src/ros_web_video/FFmpeg/libavcodec/libavcodec.a', needed by `/home/robot/Desktop/gamma/devel/lib/ros_web_video/ros_web_video'.  Stop.
make[2]: *** Waiting for unfinished jobs....
[100%] Building CXX object ros_web_video/CMakeFiles/ros_web_video.dir/src/ffmpeg_encoder.cpp.o
make[1]: *** [ros_web_video/CMakeFiles/ros_web_video.dir/all] Error 2
make: *** [all] Error 2
Invoking "make" failed

Which one is the reason of this?
Thanks

Originally posted by pexison on ROS Answers with karma: 82 on 2015-02-17
Post score: 0

A:

Solved, for compilation details see:
Compiling ros_web_video

Originally posted by pexison with karma: 82 on 2015-02-18
This answer was ACCEPTED on the original site
Post score: 0


Q:

Compile without tests to build a debian package

Hello,
I'm making the debian package for Debian of Gazebo 1.8.2 but I'm doing that in a chroot directory, so I do not have display output and tests doesn't pass. What I want is to disable tests to build the package for Debian, do you know if there is a way to do that? Or just simply remove the "test" folder? Or there is another way to pass the tests and build the package?
I commented all lines referring to "test" but it stopped at 85%, when linking to msgs_TEST:
/usr/bin/ld: cannot find -lgtest
/usr/bin/ld: cannot find -lgtest_main
collect2: error: ld returned 1 exit status
make[3]: *** [gazebo/msgs/msgs_TEST] Error 1
make[3]: Leaving directory /root/jderobot-gazebo-5.1.2/obj-i486-linux-gnu' make[2]: *** [gazebo/msgs/CMakeFiles/msgs_TEST.dir/all] Error 2 make[2]: Leaving directory /root/jderobot-gazebo-5.1.2/obj-i486-linux-gnu'
make[1]: *** [all] Error 2
make[1]: Leaving directory `/root/jderobot-gazebo-5.1.2/obj-i486-linux-gnu'
dh_auto_build: make -j1 returned exit code 2
Thanks!
Borja.

Originally posted by bmenendez on Gazebo Answers with karma: 18 on 2013-05-31
Post score: 0

A:

Just commented the line "enable_testing()" and can complete the packaging :)

Originally posted by bmenendez with karma: 18 on 2013-05-31
This answer was ACCEPTED on the original site
Post score: 0


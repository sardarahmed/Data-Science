Q:

Support for 'short description' in package.xml / Bloom?

Is there any way for Bloom to generate 'short descriptions' like what rosbuild used to do?
manifest.xml actually had an explicit brief attribute on the description tag, which seems to have been removed in package.xml. There are a number of packages in Groovy and Hydro (in Ubuntu) that have very long package descriptions, where a succinct short description would definitely help make things a bit more readable.

Update (2015-06-16): an initial implementation for this was added to Bloom with the merge of ros-infrastructure/bloom/pull/366. Short descriptions (or synopses) are automatically extracted from the package manifest description field. Only the rosdebian generator supports this for now.

Originally posted by gvdhoorn on ROS Answers with karma: 86574 on 2013-12-24
Post score: 1

A:

Are you talking about the description in the debs themselves?
I think this was removed from the package.xml spec because it was pretty much always not set or completely redundant to the description.
I could conceive that we use an approach like doxygen, where the first line, if followed by a new line character, is considered the brief.
In fact, the Debian guidelines for control files says the first line is considered the brief:
http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Description
The bloom template simply plops the whole description down in the description: field, so if you put a new line after the first line in your package's description, it should get processed by debs as the brief:
https://github.com/ros-infrastructure/bloom/blob/c2abfec5e4513a4e75909f14676a0371414da41b/bloom/generators/debian/templates/control.em#L12
There are some other interesting rules in there, which we could take advantage of, perhaps bloom could intelligently change the contents of the package.xml description to use some of those rules. If you think that is value, please open a ticket to that effect in bloom's tracker.

Originally posted by William with karma: 17335 on 2013-12-24
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2013-12-25:
Yes, short descriptions in debs. I sort of expected Bloom to do that, seeing how it generates the control file. Am I right to think that Bloom strips any HTML tags out of the description tag before generating the control file? Are newlines preserved in that case? I'll open a ticket.


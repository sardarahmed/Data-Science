Q:

Can I transform LaserScan messages?

Is there a way to transform LaserScan messages from one frame to another? I'd like to keep the message type (i.e., I don't want a PointCloud message, I want to keep LaserScan). I have a tf tree setup and I simply want my to work with my LaserScan message in a different frame.

Originally posted by kamek on ROS Answers with karma: 79 on 2013-11-22
Post score: 0

A:

That´s not easily possible because of the way a scan is represented in the sensors_msgs/LaserScan message. The distance measurements are given in a vector and the position of scan endpoints can be computed using the other fields in the message (angle_min etc.). This representation obviously is only valid when using the actual frame_id of the LIDAR.
The easiest way to transform it to another frame is converting it to a pointcloud using the tools provided in laser_pipeline.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2013-11-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by kamek on 2013-11-22:
That's what I figured, that you'd have to first convert to a pointcloud. Is there a simple way to convert back to a LaserScan message after the transformation? I thought maybe someone had written a LaserScan->PointCloud->Transform->LaserScan tool.
Comment by Stefan Kohlbrecher on 2013-11-22:
Look at the contents of the message, the representation only is viable when the frame used is the one where the LIDAR´s spinning mirror is. (Nearly) every attempt to put a transformed scan into a LaserScan message will be an approximation and erroneous (apart from some corner cases).
Comment by kamek on 2013-11-22:
Thanks. I suppose it would work using a different LaserScan message that had ranges and bearings rather than ranges, start angle, and angle increments.


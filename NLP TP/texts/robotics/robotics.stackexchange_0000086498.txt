Q:

How to transform rtabmap/odom?

I want to compare the visual odometry from RTABMAP (Kinect 2) with ground truth. But it provides odometry rotated 90 degrees around. How to align it with ground truth?
Sorry for my English.

Originally posted by vkpankov on ROS Answers with karma: 35 on 2018-04-10
Post score: 0

A:

rtabmap follows REP 103 Coordinate Frame Conventions. If you try the hand-held tutorial for Kinect v2, you will see that an optical rotation is added with a static_transform_publisher between camera_link and kinect2_link frames:
 $ rosrun tf static_transform_publisher 0 0 0 -1.5707963267948966 0 -1.5707963267948966 camera_link kinect2_link 100

then launch rgbd_odometry with _frame_id:=camera_link so that odometry is computed in ROS coordinates and not image coordinates.
Is your ground truth also in ROS coordinates? If not, you may need to add a TF to be so.
cheers

Originally posted by matlabbe with karma: 6409 on 2018-04-12
This answer was ACCEPTED on the original site
Post score: 2


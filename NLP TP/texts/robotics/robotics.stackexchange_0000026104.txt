Q:

Control Model Tutorial: Sensor isn't attached

I'm going through the Control Model tutorial.  Part of the plugin displays the minimum distance sensed by a ray sensor.  Unfortunately, it's perpetually displaying min_range = 9.500.  I think the sensor isn't travelling with the box, because when I change the initial pose of the box, the 9.500 value changes to something else and stays put.
My understanding was that having the sensor inside of  tags was supposed to keep it attached.  Am I wrong? How do I attach it?
I'm wondering if something in Gazebo is configured wrong because running this tutorial  up to and including the gztopic echo /gazebo/default/box/link/my_contact  doesn't produce anything other than
$ gztopic echo /gazebo/default/box/link/my_contact
Msg Waiting for master
Msg Connected to gazebo master @ http://127.0.0.1:11345
Msg Publicized address: 142.103.111.179

Originally posted by Ben B on Gazebo Answers with karma: 175 on 2013-03-25
Post score: 1

A:

hi.
try to check if each ray is measuring correctly.
edit the plugin to:
      this->model->SetLinearVel(math::Vector3(0, 0, 0)); //so it does not move

and add this below it
      // console output
      static int rgcount =0;
      rgcount ++;
      if(rgcount>=2000)
      { 
         rgcount = 0; 
         float r0 = this->raysensor->GetRange(0); //index 0
         float r90 = this->raysensor->GetRange(90); //index 90
         float r180 = this->raysensor->GetRange(179); //index 179
         printf("0deg:   %3.3f \n90deg:  %3.3f \n180deg: %3.3f \n\n", r0, r90, r180);

      }

then manualy put/move cubes at these angles changing distances, see if the values match or if they give the same number as before. also move the box with the sensor manualy around to see if the sensor moves with the box.
edit: index 180 -> 179

Originally posted by GAugusto with karma: 161 on 2013-03-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Ben B on 2013-03-27:
I think index 180 should be index 179.  Anyway, no change.  I'm getting 30, 9.5, and 30.
Comment by GAugusto on 2013-03-27:
yes, indeed it should be 179 (i used to use 181samples).
well the ranges seam correct.
did moving the box manualy changed the range values? if not then the sensor is not moving with the model, wich is wierd because the model description seams correct.
Comment by Ben B on 2013-03-27:
Unfortunately, the values stayed the same.
Comment by GAugusto on 2013-03-27:
that is very strange,the sensor is really unattached from the model. i just finished redoing the tutorial and it worked, tho im using gazebo1.4 the sdf is still 1.3 :/   can you see the rays (blue field) moving with the box?
Comment by Ben B on 2013-03-27:
I don't see the blue rays at all.
Comment by GAugusto on 2013-03-27:
then probably there was a bug/accident during the installation. unfortunately i cant help you more. :( last resource scenario reinstall gazebo, BUT make a backup of your .bashrc file (gedit ~/.bashrc) just to be safe before you reinstall.
Comment by Ben B on 2013-03-28:
Thanks for trying, GAugusto.  Unfortunately, I've tried reinstalling. First I had it installed from a repo, then I tried from source.  I've also reproduced this error on fresh install on another computer.


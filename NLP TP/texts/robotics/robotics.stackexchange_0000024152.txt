Q:

Transparent Interior of Mesh in Gazebo

I am trying to use a tunnel-like mesh in gazebo as a model of its own. I have the pointcloud and I followed this tutorial to transform it to a mesh https://gazebosim.org/api/gazebo/3.3/pointcloud.html
My problem is that on gazebo, the inside of the mesh is completely transparent so the inside of the tunnel cannot be detected by a lidar. Any idea how to fix it ?

A:

Sounds like you're seeing backface culling, where faces that don't point toward the viewer aren't rendered. Here's what it looks like when face normals aren't rendered correctly (from this page):

There are typically a couple ways around this:

Invert the normals in CloudCompare, but this will mean the outside of the mesh is transparent and the inside is visible.
Duplicate the mesh and flip the normals to get a "two-faced" mesh. With Blender, open the mesh, select the mesh, hit "tab" to go to edit mode, hit "a" to select all, "shift + D" to duplicate the mesh, "esc" to cancel moving it, then go to Mesh -> Normals -> Flip and flip the normals.
It might be possible to disable backface culling in gazebo but the link in that post is dead, and I don't get any results when I search for backface culling.

That's it, typically - either the normals exist (options 1 and 2) or you tell the engine to ignore the normals (option 3). The lidar itself will generally render only what the engine allows to be rendered, and if the normals are getting culled then there's nothing there for the lidar to detect.
I have not used Gazebo, though, so things might be different there.


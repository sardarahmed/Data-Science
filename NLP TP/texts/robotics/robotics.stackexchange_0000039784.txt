Q:

ROS Answers SE migration: rviz and c++

Hi, I'm Angelo and I'm beginner.
I want to know if it's possible to command a robot with c++ and rviz.
That's, if I can calculate the value of non fixed joint and send the value to rviz and so I can see the effect.
If yes, could you send me an example?
Thank you very much
Angelo

Originally posted by manang on ROS Answers with karma: 1 on 2012-04-22
Post score: 0

A:

Rviz doesn't visualize robots based on joint values. Instead, you have to create a urdf description of your robot and run a robot_state_publisher. The robot_state_publisher subscribes to the joint_state topic which is normally published by your robot driver and publishes the link poses of your robot. Rviz will then be able to visualize your robot. Have a look here and here for tutorials on URDF.
EDIT: You need to send commands to your robot driver. On the PR2, one specific robot driver node runs a lot of controllers that provide different action lib actions. When they receive an action goal, they calculate the corresponding motor commands and move the robot. Moving the robot changes the encoder values and the published joint states change, the robot moves in RViz. We don't know about your robot platform and how your hardware accepts commands, so we cannot give a more specific answer.

Originally posted by Lorenz with karma: 22731 on 2012-04-22
This answer was ACCEPTED on the original site
Post score: 2


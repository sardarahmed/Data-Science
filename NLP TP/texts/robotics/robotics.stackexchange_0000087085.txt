Q:

Remove ROS artifact from CMake install

I am using CPack to create .deb binaries. The relevant part of the CMakeLists.txt looks like this:
INSTALL(TARGETS ${PROJECT_NAME}_node  DESTINATION bin)
INSTALL(FILES doc/${PROJECT_NAME}.yaml DESTINATION share)
INSTALL(FILES doc/${PROJECT_NAME}.service DESTINATION lib/systemd/system)

SET(CPACK_DEBIAN_PACKAGE_MAINTAINER "Maintainer")
SET(CPACK_GENERATOR "DEB")

The .deb file gets build fine, the only problem i have is that ROS is adding som files:

.catkin
local/.rosinstall
local/env.sh
local/setup.{sh,bash,zsh}
local/_setup_util.py

Any idea on how I can stop those files from appearing?

Originally posted by David Kristiansen on ROS Answers with karma: 13 on 2018-05-23
Post score: 1

A:

To skip the generation / installation of these prefix level files you can pass -DCATKIN_BUILD_BINARY_PACKAGE=1 to the CMake invocation.

Originally posted by Dirk Thomas with karma: 16276 on 2018-05-23
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by David Kristiansen on 2018-05-23:
This has bothered me for the good part of this day. This worked perfectly. Thank you. Is there some way of adding this to CMakeLists.txt?
I was a little fast there. I added SET(CATKIN_BUILD_BINARY_PACKAGE true) in my CMakeLists.txt. :)
Comment by Dirk Thomas on 2018-05-23:
I wouldn't recommend that. Basically when you build the package from source you want these files to be created (in order to setup the environment to use them). It is a packaging specific argument. I am not sure if you can define CPack specific CMake arguments in the CMake file.
Comment by David Kristiansen on 2018-05-23:
That is a very good point. I will have to look into that!
Comment by yaobin on 2020-12-01:
Hi, where can I find the documentation of the macro "CATKIN_BUILD_BINARY_PACKAGE"? I tried to search in Google but didn't find any link.


Q:

Adding lines into CMakeList.txt makes an error. I need help

Hello,
Firstly i need to say im totally beginner on ROS.I managed to install it and my Professor wanted to me complete these tasks;
-Create a ROS package with your name.
-Create two nodes, a chatter which publishes std_msgs and a listener
to listen to chatter.
-The message you are required to send will be assigned for each one
separately.
-The listener should get the message and print it using ROS_INFO
function.
So i managed to create work space , but i stucked at somewhere that wants me to add these lines into my_package/CMakeLists.txt.
lines are ;
add_executable(name_of_node_chatter src/01.cpp) ,
target_link_libraries(name_of_node_chatter ${catkin_LIBRARIES}) , 
add_dependencies(name_of_node_chatter my_package_generate_messages_cpp)

link text
But when i add them into CMakeList.txt like this ;
link text
After i save this txt file i try to run catkin_make command on terminal.It gaves me this error ;
link text
I don't know what to do , please can you help me to fix this problem.

Originally posted by Karandiru on ROS Answers with karma: 3 on 2020-03-23
Post score: 0

Original comments
Comment by karenchiang on 2020-03-24:
Hi, the target you want to build is name_of_node_listener or name_of_node_chatter? In the screenshot of CMakeLists.txt you shared, it's written name_of_node_listener but here you wrote name_of_node_listener. Could you please add your entire CMakeLists.txt to your main question text? You can use the edit button/link for that. It would be easier for people to review. Thank you.
Comment by Karandiru on 2020-03-24:
I guess i made huge mistake , without defining the chatter , i put listener code on CMakeList.txt that is why terminal gives me that 01.cpp error. In this case 01.cpp is chatter and 02.cpp is listener one.And im trying to run the code without chatter.Thank you for your answer. @tcchiang and also @nkhedekar
Comment by jayess on 2020-03-24:
@tcchiang can you please update your question with a copy and paste of the errors instead of using images? Please see the Support page.
Comment by karenchiang on 2020-03-25:
@jayess, I'm sorry but I am not the original poster. Please tag @Karandiru, thanks.
Comment by jayess on 2020-03-25:
@tcchiang Sorry about that. @Karandiru can you please update your question with a copy and paste of the errors instead of using images?
Comment by Karandiru on 2020-03-25:
I can not access to the ubuntu right now that is why i can not copy the errors from terminal.I editted the lines.Problem is still same. @jayess

A:

Hello,
You should have added those three lines after find_package(). The order does matter in CMakeLists.txt. Please see  wiki/catkin - CMakeLists.txt - Overall Structure and Ordering.
I think your package does not contain any messages/services/actions files so you don't really need
add_dependencies(name_of_node_chatter my_package_generate_messages_cpp)

If you do, you need to add generate_messages(DEPENDENCIES ...). The message generation targets are created by generate_messages(DEPENDENCIES ...). Using add_dependencies(name_of_node_chatter my_package_generate_messages_cpp) is to ensure that my_package_generate_messages_cpp is built before the name_of_node_chatter  target.
If your target depends on other messages/services/actions from other packages, even though your package doesn't build any messages/services/actions at compile time, you should add
add_dependencies(name_of_node_chatter ${catkin_EXPORTED_TARGETS})

More details about add_dependencies(...) can be found here.
I think it's always safe to add a dependency on catkin_EXPORTED_TARGETS.

Originally posted by karenchiang with karma: 241 on 2020-03-25
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Karandiru on 2020-03-28:
Hello ,
First of all thank your for your explanatory answer.But eventho i tried with your instructions , terminal gave me another error I dont know how to post a terminal output like a link but this is my CMakeList file i put lines in order like you said link text and this is terminal output of catkin_make link text i hope you can still help me.
Comment by karenchiang on 2020-03-28:
Hello,
You shouldn't have added the lines inside the find_package() function. I couldn't tell you exactly where you should have added because you didn't show the whole contents of CMakeList.txt. If you are using the auto-generated CMakeLists.txt, then they should be added after include_directories(...). I strongly suggest you really look through this and this.
Comment by karenchiang on 2020-03-28:
You don't need to post a terminal output as a link. Please copy-paste the terminal error messages and the CMakeList.txt into your original question, select the lines, and press ctrl+k or click the preformatted text button (the one with 101010 on it).


Q:

Turtlebot: Unstable

We recently started working with a turtlebot using the ros tutorials for the same.

We do not know when it is switched on in full mode and when in passive mode or safe mode. Immediately after we switch on the iRobot Create, the red light flashes and there is a small beep and the green light comes on. But in a few seconds the green light goes off with another beep. This doesn't happen all the time, but very often. Also, the moment we switch on the Create, the kinect cable's led is ON. But only when the red light flashes, the led is on. After the beep, after the green light comes on, this kinect cable's LED goes OFF. And sometimes the output from minimal.launch says, "check if the Create is plugged in and powered on", when the connections are perfect and after i have turned the create on.

Will minimal.launch get the turtlebot service on by default? Because if I start the service and then launch minimal.launch, it says "shutdown request: New node registered with the same name."

Dashboard doesn't always work from the workstation. Sometimes it works:Sometimes not. It works fine on the turtlebot. On the workstation it says POWER SYSTEM ERROR. Though we do not know what that means. This also happens only sometimes.

Sometimes starting up minimal.launch powers the kinect. (May be the bot is pushed to full-mode). Sometimes the same thing happens with teleop. We are not always able to push it to full mode from the dashboard, which should work.

We still managed to calibrate the bot and build a map. The map was nowhere near the real room. Later we found out that when the actual bot turned 90degrees the bot on the map turned very less (about 45degrees). We manipulated the parameters odom_angular_scale_correction and gyro_scale_correction, but to no luck.

What we know for sure.

The network connection is perfect. For teleop and ssh work great.
The env variables, ROS_MASTER_URI and ROS_HOSTNAME are correctly set.
All mechanical connections on the turtlebot are correct.

Please help us out.

Originally posted by prasanna on ROS Answers with karma: 55 on 2012-03-14
Post score: 3

A:

okay...

The create doesn't always display it's power state accurately using the LED. Typically the green LED will be on and then go off when the ROS driver connects. Decide whether you're going to use minimal.launch or the turtlebot service but do not use both. They do the same thing essentially and will conflict with each other causing nodes to startup and shutdown repeatedly.

to start the service type:
 sudo service turtlebot start

to stop the service type:
    sudo service turtlebot stop

If the service isn't working or not starting up properly look at the dashboard and it should display the problem. Or make sure that you have the correct interface setup for the service. Check out this tutorial for details http://ros.org/wiki/turtlebot_bringup/Tutorials/TurtleBot%20Bringup

most likely the reason the dashboard isn't working is because you don't have the ROS_HOSTNAME set on the workstation machine in the terminal that you ran the dashboard from. Make sure that the terminal you are running from has the correct ROS_HOSTNAME and ROS_MASTER_URI.

minimal.launch will never power up the kinect. There is no method for doing it. most likely what is happening it the robot received a cmd_vel msg, the TurtleBot node will put the TurtleBot in full mode when it receives a cmd_vel msg, when the breaker service is called, or when the TurtleBot is set into full mode.

Are you sure that you calibrated the gyro properly? If you run the calibration repeatedly it should get approximately the same number every time. Also check to see what the angular rate of the gyro is 150 deg/sec or 300deg/sec. TurtleBots from clearpath now have 300deg/sec gyros and you must set the ~gyro_measurement_range parameter for the gyro type. You can also use dynamic reconfigure to do this as well. Also make sure that after you calibrate the TurtleBot you update your launch file either minimal.launch or turtlebot.launch in /etc/ros/electric(or your current distro). Then relaunch minimal.launch or restart the TurtleBot service.

Originally posted by mmwise with karma: 8372 on 2012-03-14
This answer was ACCEPTED on the original site
Post score: 4


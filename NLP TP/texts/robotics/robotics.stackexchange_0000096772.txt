Q:

Moveit parametically disable one joint

Hi all,
I am currently planning the motion of my robot using <move_group_interface.h>. I am aware that I could deactivate one joint in config files (urdf or srdf).
However is there any possibility for instance to exclude the 2. joint for the given motion task. I would like to realize this in a higher level like in the move_group_interface.cpp, because the deactivated joint has to be activated again in different environments.

Originally posted by xman236 on ROS Answers with karma: 51 on 2020-08-08
Post score: 2

Original comments
Comment by Gates on 2021-03-16:
Can you update if you solved it? I am facing the same issue.
Comment by fvd on 2021-03-17:
Did the current answer not work for you? It looks correct.
Comment by Gates on 2021-03-17:
No unfortunately I couldn't make the solution work. Here is my trial after the answer: constrained move code. I check if I could make the constraints work at lines 50-52-61, I couldn't set. Then I tried (abnormally) attach the constraint to the goal_pose yet it didn't work. I don't know how/where to attach the constraints apparently...
Comment by Gates on 2021-03-17:
Also I tried attaching the constraint to my group (arm_group instead of goal_pose) but I get the same error:
'MoveGroupCommander' object has no attribute 'motion_plan_request'

I tried using arm_group.set_path_constraints(goal_constraint). It sets only path constraints. arm_group.get_path_constraints() returns something but arm_group.get_known_constraints() returns still nothing.
I don't know how to connect the constraints to my motion plan.

A:

Your goal might be achievable with Trajectory Constraints, especially Joint Constraints which you can set. Get your current joint values and construct the TrajectoryConstraint for your disabled joint to stay fixed to that value.

Originally posted by pcoenen with karma: 249 on 2020-08-10
This answer was ACCEPTED on the original site
Post score: 1


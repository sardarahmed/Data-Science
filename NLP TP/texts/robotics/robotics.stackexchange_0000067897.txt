Q:

Cannot properly overlay eigen_conversions

I am on Groovy and I would like to overlay the package eigen_conversions[1]. If I do roscd eigen_conversions, I land in the correct directory: ~/gggroovy/geometry/eigen_conversions, my overlay. This indicates that my ROS_PACKAGE_PATH environment variable is correct, as far as I know. My ROS_PACKAGE_PATH indeed includes the path corresponding to my overlay, in addition to including at the end :/opt/ros/groovy/share:/opt/ros/groovy/stacks
However, when I do roscd eigen_conversions; rosmake, I see
[rosmake-7] Finished <<< eigen_conversions ROS_NOBUILD in package eigen_conversions

But there is no ROS_NOBUILD inside ~/gggroovy/geometry/eigen_conversions.
More importantly, when I try to build packages that depend on eigen_conversions, I get errors like
/opt/ros/groovy/include/eigen_conversions/eigen_kdl.h:66:6: error: in passing argument 2 of ‘void tf::vectorEigenToKDL(const Eigen::Matrix<double, 3, 1>&, KDL::Twist&)’

which indicate that the compiler is using the wrong include file, not the one in the overlay.
I have otherwise successfully done overlays.
[1 ]https://github.com/goretkin/geometry/tree/groovy-devel?files=1

Originally posted by gustavogoretkin on ROS Answers with karma: 28 on 2015-06-03
Post score: 0

Original comments
Comment by gvdhoorn on 2015-06-04:
Please add which version of eigen_conversions you are trying to build. Even the groovy-devel version seems like it is a catkin package, so I'm not sure rosmake should do anything with it.
Comment by gustavogoretkin on 2015-06-04:
Ah, alright. I've included a link to the exact package I'd like to overlay, which is essentially groovy-devel.
Do you know what I can do to uncatkinize the package or make it otherwise be picked up by my system? I am using the PR2, and many packages I need are not catkinized.

A:

You should create a catkin workspace which overlays any system catkin packages (such as eigen_conversions), and then set up your rosbuild workspace as an overlay on top of that.
Section 3.3 of this tutorial does a decent job of describing the process in more detail.

Originally posted by ahendrix with karma: 47576 on 2015-06-04
This answer was ACCEPTED on the original site
Post score: 1


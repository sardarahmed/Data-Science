Q:

How do I apply a patch for a fix that has not made it to a release?

Following these instructions http://www.ros.org/wiki/electric/Installation/OSX/Homebrew and executing
rosinstall ~/ros "http://packages.ros.org/cgi-bin/gen_rosinstall.py?rosdistro=electric&variant=desktop-full&overlay=no"

I get the following:
/ros/ros_comm/tools/rosconsole/src/rosconsole/rosconsole.cpp:33:2: error: #error This code is known to provoke a compiler crash with llvm-gcc 4.2. You will have better luck with clang++. See code.ros.org/trac/ros/ticket/3626
  /Users/jwoods/ros/ros_comm/tools/rosconsole/src/rosconsole/rosconsole.cpp:745: internal compiler error: Segmentation fault
  Please submit a full bug report,
  with preprocessed source if appropriate.
  See <URL:http://developer.apple.com/bugreporter> for instructions.
  make[3]: *** [CMakeFiles/rosconsole.dir/src/rosconsole/rosconsole.o] Error 1
  make[2]: *** [CMakeFiles/rosconsole.dir/all] Error 2
  make[1]: *** [all] Error 2

I have tried manually making the change to CMakeLists.txt as is present in the patch, but this is overwritten the next time I try to run the rosinstall.
What is the process for applying a patch so that it isn't overwritten?
Thanks!

Originally posted by jeff on ROS Answers with karma: 1 on 2012-01-10
Post score: 0

A:

Once you have applied the patch:
https://code.ros.org/trac/ros/attachment/ticket/3626/ros_comm-1.6.5-rosconsole_g++-4.2.patch
With the command:
roscd ros_comm && patch -p 0 < /path/to/ros_comm-1.6.5-rosconsole_g++-4.2.patch

Then skip rosinstall and manually complete rosmake with:
rosmake --rosdep-install ros ros_comm

That should get you through what rosinstall was going to do.  I don't think rosinstall should overwrite your changes, but I could be wrong about that.

Originally posted by William with karma: 17335 on 2012-01-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by William on 2012-01-11:
Thought so, his comments just made me doubt my experience for a second there.
Comment by joq on 2012-01-10:
rosinstall just updates from the repository, it will not remove any local changes.


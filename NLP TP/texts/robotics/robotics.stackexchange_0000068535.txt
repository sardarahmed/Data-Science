Q:

Subscribe /tilt_controller1/state to know current position

Hi people,
I am working with Dynamixel Servomotor AX-12+ in ROS fuerte and I need to know its current position.
In my code I subscribe to /tilt_controller1/state this is the info topic:
youbot@diego-VPCEH2K1E:~$ rostopic info /tilt_controller1/state
Type: dynamixel_msgs/JointState

but I dont know how to put the arguments of the callback, this is my code:
#include <dynamixel_msgs/JointState.h>
//----------------
void callback(const dynamixel_msgs::JointState& str)
{
    //str.current_pos
    std::cout<<"rotacion"<<std::endl;
}
//-------
sub = n.subscribe("/tilt_controller1/state", 1, callback);

The error is:
fatal error: dynamixel_msgs/JointState.h: No such file or directory
I think is a mistake with the library...is the rest of the code ok? Please can somebody help me?
Thanks

Originally posted by Rookie92 on ROS Answers with karma: 47 on 2015-07-09
Post score: 0

Original comments
Comment by thebyohazard on 2015-07-09:
Could you elaborate? I'm not sure I completely understand your question. If this doesn't compile, please update your question with the compiler output and error messages.
Comment by Rookie92 on 2015-07-09:
Eddit with the error. I think I have not the library JointState.h but i dont know if that is the only problem. Where can i get the library and where must i put it? I add in the manifest:
<depend package="JointState"/> 

and then this is the error:
1/2
Comment by Rookie92 on 2015-07-09:
2/2
and then this is the error:
Failed to invoke /opt/ros/fuerte/bin/rospack deps-manifests mapping
  [rospack] Error: package/stack mapping depends on non-existent package JointState

A:

The package is actually dynamixel_msgs. JointState is one of the messages defined in the dynamixel_msgs package, so change
<depend package="JointState"/>

to
<depend package="dynamixel_msgs"/>

Originally posted by thebyohazard with karma: 3562 on 2015-07-10
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Rookie92 on 2015-07-10:
Thanks so much tbh!!!!! you have made me happier Friday :)
Only one question more in the callback when i want to use the current position is this code line right?
counter=str.current_pos;

Comment by thebyohazard on 2015-07-10:
Sure thing. That looks right to me.
Comment by Rookie92 on 2015-07-10:
Thanks thanks thanks thanks!!!!!


Q:

ament_copyright --add-missing gives KeyError: 'copyright_holder'

I get an error running ament_copyright --add-missing:
$ /opt/ros/eloquent/bin/ament_copyright --add-missing "Clyde McQueen" bsd2
Traceback (most recent call last):
  File "/opt/ros/eloquent/bin/ament_copyright", line 11, in <module>
    load_entry_point('ament-copyright==0.8.1', 'console_scripts', 'ament_copyright')()
  File "/opt/ros/eloquent/lib/python3.6/site-packages/ament_copyright/main.py", line 128, in main
    file_descriptors, name, licenses[args.add_missing[1]], args.verbose)
  File "/opt/ros/eloquent/lib/python3.6/site-packages/ament_copyright/main.py", line 221, in add_missing_header
    header = license_.file_header.format(**{'copyright': copyright_})
KeyError: 'copyright_holder'

I see copyright_holder in the template, but I'm not sure how to set it: https://github.com/ament/ament_lint/blame/master/ament_copyright/ament_copyright/template/bsd2_header.txt
Perhaps this is a little-used feature, so nobody has noticed this bug? Workaround is easy, I'll just copy/paste the headers.

Originally posted by clyde on ROS Answers with karma: 1247 on 2020-06-01
Post score: 0

A:

While the bug has been fixed for Foxy (https://github.com/ament/ament_lint/pull/206) it hasn't been backported  yet.
As a temporary workaround you can apply the same patch to your local file ament_copyright/main.py.

Originally posted by Dirk Thomas with karma: 16276 on 2020-06-03
This answer was ACCEPTED on the original site
Post score: 1


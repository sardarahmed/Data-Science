Q:

How to enable blinkers (indicator lights) in Autoware.ai when turning?

Might be abit too general question, but maybe someone can give a good starting point.
How to best implement the functionality of flashing blinkers (indicator lights) when turning using Autoware.ai and possibly openplanner?

There is LaneType attribute in map (lane.csv) where 0 - forward, 1 - turn left, 2 - turn right

Also have found following topics:

/indicator_cmd (autoware_msgs/IndicatorCmd)
/lamp_cmd (autoware_msgs/IndicatorCmd)
/turn_signal_cmd (dbw_mkz_msgs/TurnSignal)

Open to all suggestions.

Originally posted by edgar on ROS Answers with karma: 3 on 2020-05-05
Post score: 0

Original comments
Comment by Hatem on 2020-05-07:
the values in lane.csv is used for global planning. and it is not semantically the same as activating blinkers.
open planner currently doesn't send this information.
Comment by edgar on 2020-05-07:
Thank you! So, there is nothing in openplanner currently that is sending the information for turning on egocar's blinkers when it is turning?
There is for example: PlanningHelpers::GetIndicatorsFromPath - so this and all the other inidicator related stuff in code is to determine and predict the actions of other vehicles?
Comment by Hatem on 2020-05-08:
Exactly, it is only for intention estimation.
the logic for the ego vehicle decision making should be more complicated than this.

A:

It looks like twist_gate listens to /lamp_cmd, which is usually produced by Decision Maker. twist_gate should then pass this along as part of the VehicleCmd message type to your vehicle interface (looks like you're using a DataSpeed DBW system). You may need to have some node parse out the lamp_cmd from the VehicleCmd and send a message to /turn_signal_cmd to activate it in your DBW system as this is not part of Autoware.ai currently.
In fact, if you would like to contribute a DataSpeed interface package to Autoware.ai, contributions are always welcome! (keeping in mind that feature additions will end at the end of 2020 as described here)

Originally posted by Josh Whitley with karma: 1766 on 2020-05-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by edgar on 2020-05-07:
Thank You for your answer!
No, not DataSpeed DBW. Actually AStuff PACMod :). I've copied a bit wrong thing into my original post.
So there is /turn_signal_command (automotive_platform_msgs/TurnSignalCommand) in PacMOD
So do I understand correctly? SSC_interface listens to /vehicle_cmd and it includes also information of blinkers: /lamp_cmd. It publishes /ssc/turn_signal_command that should trigger the corresponding vehicle controllers and thus blinkers, if said so in /lamp_cmd message.
So I need to get the information to /lamp_cmd, but currently it seems that in OpenPlanner there is nothing that publishes anything about egocar blinkers.
Comment by Josh Whitley on 2020-05-07:
Yes, this appears to be correct. Since you are using AutonomouStuff's SSC, I would recommend getting in touch with their support team. Their Open Autonomy Team may be able to provide a quick fix for this issue.
Please remember to accept this answer (the checkbox under the up/down buttons) if it was helpful.


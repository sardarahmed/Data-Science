Q:

gazebo and stereo_image_proc

I know that a tutorial is in the works, but I was just hoping that somehow maybe I could get stereo_image_proc to work with the camera.
So far I have been able to get the individual camera up and running using libgazebo_ros_camera.so and image_view seems to work all right.
So I have made left and right as per the tutorial on stereo_image_proc, but it seems to crash with this error when I run....
ROS_NAMESPACE=erratic_stereo rosrun stereo_image_proc stereo_image_proc __name:=proc  _approximate_sync:=True _queue_size:=10
This program crashes with the following error:
stereo_image_proc: /tmp/buildd/ros-electric-vision-opencv-1.6.9/debian/ros-electric-vision-opencv/opt/ros/electric/stacks/vision_opencv/image_geometry/src/stereo_camera_model.cpp:28: bool image_geometry::StereoCameraModel::fromCameraInfo(const CameraInfo&, const CameraInfo&): Assertion `left_.tfFrame() == right_.tfFrame()' failed.
Aborted
Now it seems like a synchronizing error.
Thanks for any help.
I might give the wge100 camera from the pr2 files and see if I can get stereo_image_proc working with something in gazebo.
TheLegace.

Originally posted by TheLegace on ROS Answers with karma: 76 on 2012-02-15
Post score: 0

Original comments
Comment by TheLegace on 2012-02-15:
After some tweaking and confirming the data does indeed makes sense I can post up my urdf files if anyone wants them. I need to write an opencv program soon, but maybe if I can understand the controller well enough I can write a tutorial.
Comment by hsu on 2012-02-15:
Please do post your solutions as answers.  Thanks!

A:

After tirelessly going through the pr2 code and seeing how the pr2 does stereo imaging I figured out that the frame that both camera controllers need to be in must be the same. Now that I made them the same stereo_image_proc seems to be working.

Originally posted by TheLegace with karma: 76 on 2012-02-15
This answer was ACCEPTED on the original site
Post score: 0


Q:

Moveit Forward Kinematics for Empty Joint State

I'm using the /compute_fk service from moveit to calculate forward kinematics. This works as I expected except for the case of an empty joint state given as the current joint state to the service. In that case, the service calculates the FK for the current pose of the link, e.g., the end effector. Should not the Forward Kinematics calculation fail if the joint angles are equal to the zero vector?

Originally posted by atp on ROS Answers with karma: 529 on 2014-08-13
Post score: 2

A:

One could certainly argue for that, but that´s not the current behavior and likely also won´t be changed, as this would be a significant change for all users that rely on the observed behavior. If you look at the code in kinematics_service_capability.cpp L183, you´ll see that first the current robot state is retrieved and then updated using the robot_state in the request. If the requested robot_state is empty, the current robot state is used instead, which explains the behavior you are seeing.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-08-14
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by atp on 2014-08-14:
Thanks for explaining this in detail! It would be good if someone would add this into the documentation.


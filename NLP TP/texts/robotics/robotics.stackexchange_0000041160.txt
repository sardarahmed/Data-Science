Q:

ROS Answers SE migration: Pioneer Robots

Hello all,
I have a pioneer-3dx robot. It has ROS diamondback installed with Ubuntu 11.04. Would anyone be willing to help me get the p2os_driver to work? It fails to set up the p2os board. The board is the original setup and the serial should be /dev/ttyS0, but it won't setup. What do I need to do to get it working?
Thanks,
-Hunter A.
First, I start roscore:
allenh1@muri-pc7:~/ros/unstable/p2os_driver$ roscore

In a new terminal, I then start the node:
allenh1@muri-pc7:~/ros/unstable/p2os_driver$ ./p2os
[ INFO] [1339007302.017190905]: using serial port: [/dev/ttyUSB0]
[ INFO] [1339007302.048548689]: P2OS connection opening serial port /dev/ttyUSB0...
[ERROR] [1339007302.048644466]: P2OS::Setup():open():
[ERROR] [1339007302.048728305]: p2os setup failed...

I want to make sure it's working properly before we get a laptop on it, so here's my current setup.

New errors... Progress...
I gave write access to the USB with this command:
allenh1@muri-pc7:~$ sudo chmod 777 /dev/ttyUSB0

Firstly, I'm pretty special. I forgot to plug the robot it; however, upon plugging it in, the old errors were reproduced. So, I'd say that's pretty conclusive evidence that the robot is at least attempting to communicate with the computer.

Originally posted by allenh1 on ROS Answers with karma: 3055 on 2012-06-06
Post score: 1

A:

Hi,
If you are connecting your laptop to your robot with usb port then.
Please go through this answer. You should be able to resolve the issue. Else be specific on the error you are getting.
Thanks

I would suggest you to follow this tutorial carefully. Since you are using only one laptop on the robot, you can ignore the networking part of it. Please post the errors that you are getting along with their corresponding ros commands.

Ok I see your pic here. It looks fine. Just a small guess on the rights of the /dev/ttyUSB0. Make sure you have given both read and write rights to that port before you run the p2os. Follow the instructions and run in the following fashion.
roscore
rosrun p2os_dashboard p2os_dashboard 

Please check the dashboard and take a screenshot of the same as well.
rosrun p2os_driver p2os

If you are just planning to check if the robot is fine and working you may go with the ROSARIA package and test it. It might be simpler than p2os. But if you are planning start your work on something then p2os is suggested for pioneer bots.
If the above process doesn't work please post the pic of the screenshot taken in the dashboard stage.
Thanks, Karthik

Originally posted by karthik with karma: 2831 on 2012-06-06
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by allenh1 on 2012-06-06:
How are you connecting the base? Do I need a cable? Does the local network communication not suffice?
Comment by karthik on 2012-06-06:
Place the laptop on the robot and connect the seriel (robot) to usb (laptop) converter.
Comment by allenh1 on 2012-06-06:
Do I need to run anything on the robot? It's a fresh install. I've got the serial to usb plugged into the external serial. Is that right?
Comment by karthik on 2012-06-06:
yes... ....
Comment by allenh1 on 2012-06-06:
on the host I run: p2os _port:=/dev/ttyUSB0 and roscore. On the robot, I run nothing.
Comment by karthik on 2012-06-06:
allen: You have to be clear. I get a feeling that you have a laptop on the robot and a workstation which is connected via wifi to the laptop on the robot. Am i right?
Comment by allenh1 on 2012-06-06:
No... I have a physical connection with a serial to usb. Would you mind posting a picture of your setup?
Comment by karthik on 2012-06-06:
I am not in the lab right now. I would require more info now. So i understand you have connected ur laptop to the robot using the converter. Please give me the details of the commands you gave after this step in the laptop. I mean the ros commands. Please post it by editing your question.
Comment by allenh1 on 2012-06-06:
I edited it.


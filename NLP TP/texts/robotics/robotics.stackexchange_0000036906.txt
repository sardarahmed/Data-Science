Q:

How to use messages included in sensor_msgs with ROSJava?

I have downloaded the project sensor_msgs from the repository:
roslocate info sensor_msgs
- svn:
        local-name: sensor_msgs
        uri: https://code.ros.org/svn/ros-pkg/stacks/common_msgs/trunk/sensor_msgs

Before downloading this project in my worskspace, when rosmake detect the dependency:
<depend package="sensor_msgs" />

Shell printed the following message:
[rosmake-1] Starting >>> sensor_msgs [ make ]                                   
[rosmake-1] Finished <<< sensor_msgs ROS_NOBUILD in package sensor_msgs 

But later, when I download the project, I received the following message when I execute rosmake in my package:
[rosmake-0] Starting >>> sensor_msgs [ make ]                                   
[rosmake-0] Finished <<< sensor_msgs  No Makefile in package sensor_msgs

When I use messages from that package:
            Publisher<org.ros.message.sensor_msgs.JointState> motor =
                node.newPublisher("motor1", "sensor_msgs.JointState");

I receive the following exception when I execute the node:
Jan 8, 2012 10:59:22 PM org.ros.internal.node.RosoutLogger fatal
SEVERE: org.ros.exception.RosRuntimeException: org.ros.exception.RosRuntimeException: java.lang.IllegalArgumentException

But if I use messages from std_msgs, I don't have any problem:
            Publisher<org.ros.message.std_msgs.String> publisher2 =
                node.newPublisher("motor1", "std_msgs/String");

How to use messages from sensor_msgs?
I noticed that the package sensor_msgs doesn't have any makefile to execute rosmake.
Many thanks in advance.

Originally posted by Juan Antonio Bre√±a Moral on ROS Answers with karma: 274 on 2012-01-08
Post score: 0

A:

You shouldn't have to explicitly install the sensor_msgs package; it should be part of your default ROS install, in the common_msgs stack. You're seeing errors because you have that package installed twice; I recommend you remove the copy that you manually installed.
You can confirm that you still have a valid install by running roscd sensor_msgs and observing that it finds the sensor_msgs package.
When passing the type string to newPublisher, they type is specified with a slash, as sensor_msgs/JointState, not sensor_msgs.JointState

Originally posted by ahendrix with karma: 47576 on 2012-01-08
This answer was ACCEPTED on the original site
Post score: 1


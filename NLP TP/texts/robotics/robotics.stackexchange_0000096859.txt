Q:

imu mpu9250 unstable in rviz

I am using mpu9250 in a differential drive mobile robot.
i am using this package jeskesen /i2c_imu .
My problem is that the robot is unstable in rvize after launching  imu package although the robot is still at its zero position and there is no cmd_vel. (the robot rotates around its base_link origin in yaw, pitch, and roll.)  and base_link, imu_link, and the four wheels links are rotate also).
Those are the imu outputs  although the real robot does not move or rotate:
orientation:
angular_velocity:
linear_acceleration:
base_link small rotation this image is screen shot during the rotation or the rotational vibration.
base link with odom >> this image is screen shot during the rotation or the rotational vibration.>>>> in this case I rotated the real robot, then the imu rotated also but return frequently to its zero rotation.
screen shot of robot with heading but it returns frequently to its zero rotation
This is the launch file
<launch>
    <node pkg="tf" type="static_transform_publisher" name="imu_to_base" 
        args="0 0 0 0 0 0 base_link imu_link 50" /> 
    <node pkg="i2c_imu" type="i2c_imu_node" name="i2c_imu" output="screen" >
    <rosparam file="$(find i2c_imu)/param/imu.yaml"/>       
    </node>        

This is imu.yaml  file
imu_type: 7
imu_frame: imu_link
i2c_bus: 1 
i2c_slave_address: 104
fusion_type: 2

mpu9150:
  #Sample Rates  
  compass_sample_rate: 25      # 40
   gyro_accel_sample_rate: 50   # 80

  
  #Accel
  accel_low_pass_filter: 3
  accel_full_scale_range: 8  # 16
 
   #Gyro
   gyro_low_pass_filter: 3
   gyro_full_scale_range: 8   # 16

Originally posted by Ahmed_Desoky on ROS Answers with karma: 23 on 2020-08-17
Post score: 0

A:

It is unstable because I was used odometry node with Imu

Originally posted by Ahmed_Desoky with karma: 23 on 2020-08-21
This answer was ACCEPTED on the original site
Post score: 0


Q:

Sensors in Gazebo

Hi all!
I'd like to add an hokuyo laser to the pioneer that I'm simulating with gazebo. But I don't know how to do it.
I've seen that with Gazebo you can simulate an erratic robot with a laser on it.
So I added:
 <include filename="$(find erratic_description)/urdf/erratic_hokuyo_laser.xacro" />
 <!-- BASE LASER ATTACHMENT -->
<erratic_hokuyo_laser parent="base_link">
    <origin xyz="0.2 0 0.001" rpy="0 0 0" />
</erratic_hokuyo_laser>

to the pioneer3dx.xacro.
But when I run the simulation I can't see the laser in the robot model and /scan in the topic list.
Any advice?

Originally posted by camilla on ROS Answers with karma: 255 on 2012-12-17
Post score: 2

A:

I solved the problem changing the lines added this way:
 <include filename="$(find p2os_urdf_mod)/defs/erratic_hokuyo_laser.xacro"/>
    
<xacro:erratic_hokuyo_laser parent="base_link">
    <origin xyz="0.01 0 0.23" rpy="0 0 0" />
</xacro:erratic_hokuyo_laser>

and in the "erratic_hokuyo_laser.xarco" I added the keyword xacro: before the macro tag:
<xacro:macro name="erratic_hokuyo_laser" params="parent *origin">
...
</xacro:macro>

Now I can see the /scan topic and map its values with rviz.

Originally posted by camilla with karma: 255 on 2012-12-20
This answer was ACCEPTED on the original site
Post score: 2


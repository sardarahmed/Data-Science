Q:

I need help making/building a catkin package

Let me start off by saying that I have read the tutorials on how to make a package and how to build it, but I seem to be too stupid to get it right because it never works. I am running ros groovy on Ubuntu 12.04lts. This is what I am trying to do, build a package that can be started by a launch file. The package is a python script that reads a serial line form a arduino and publishes it on a ros topic. The package that I want to make is all based around "encoder_feedback.py". After I build the package, I try to run it with
walle@wallebase:~/catkin_ws$ rosrun encoder_feedback encoder_feedback.py
Traceback (most recent call last):
  File "/home/walle/catkin_ws/src/encoder_feedback/scripts/encoder_feedback.py", line 4, in <module>
    import rospy
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rospy/__init__.py", line 49, in <module>
    from .client import spin, myargv, init_node, \
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rospy/client.py", line 46, in <module>
    import yaml
ImportError: No module named yaml

What do I need to do to build a working package? Let me know if I need to post the .py code or include more info. Thanks for any help you can give.

Originally posted by packrat on ROS Answers with karma: 51 on 2013-04-26
Post score: 3

Original comments
Comment by joq on 2013-04-26:
Do you have a run_depend for python-yaml in your package.xml?
Comment by packrat on 2013-04-27:
No I don't. just <build_depend>std_msgs</build_depend><build_depend>rospy</build_depend><run_depend>std_msgs</run_depend><run_depend>rospy</run_depend>
Comment by packrat on 2013-04-27:
All I am importing is
import serial
import time
import rospy
from std_msgs.msg import Int32

A:

Have you seen this question? Try this and comment your results...

Originally posted by gustavo.velascoh with karma: 756 on 2013-04-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by packrat on 2013-04-27:
walle@wallebase:~$ sudo apt-get install python-yaml
Reading package lists... Done
Building dependency tree
Reading state information... Done
python-yaml is already the newest version.
python-yaml set to manually installed.
0 upgraded, 0 newly installed, 0 to remove and 1 not upgraded.
Comment by gustavo.velascoh on 2013-04-27:
check
/usr/lib/python2.7/dist-packages
and
/usr/lib/python2.6/dist-packages
for python-yaml
Comment by packrat on 2013-04-28:
Both pythons have yaml
Comment by packrat on 2013-05-04:
Any ideas?
Comment by gustavo.velascoh on 2013-05-04:
Can I download your code for try to run it... Do you have the package in a repo?


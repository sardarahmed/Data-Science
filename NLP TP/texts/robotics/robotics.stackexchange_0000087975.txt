Q:

Launching PowerCube on multiple CAN busses

Hello I am working with a Schunk LWA3 (DOF 7) in ROS with the Schunk PowerCube package.
I have success launching the PowerCube and initializing the modules. The issue is that the arm has the modules broken out onto two difference CAN busses which are connected to different ports on a PCI card. The .yaml file that is taken in by the ROS node is:
powercube_chain parameters
can_module: PCAN
can_device: /dev/pcan0 
can_baudrate: 1000
modul_ids: [1,2,3,4] 
joint_names: [arm_1_joint, arm_2_joint, arm_3_joint, arm_4_joint]
max_accelerations: [0.4,0.4,0.4,0.4]
min_publish_duration: 0.01 
horizon: 0.1 
frequency: 100

ptp_vel: 0.4 # rad/sec
ptp_acc: 0.2 # rad/sec^2
max_error: 0.15 # rad

Again, this works fine and modules with Ids 1,2,3,4 are initialized just fine. However when I try to include a new can_device at /dev/pcan1  (to find modules 5,6,7) it will take whatever device is mentioned second and load the corresponding modules.
Ive tried:
devices: ["/dev/pcan0", "/dev/pcan1"]

This method still causes the first device listed to be used and only those modules found. I also attempted to edit my launch file to look for two different .yaml's but only the second is considered in this case.
Does anyone have experience with this or any suggestions?
Thank you !
Kyle

Originally posted by PatFGarrett on ROS Answers with karma: 31 on 2018-07-17
Post score: 0

A:

I was able to fix the issue with a CAN y-cable and connecting them to the same bus on one PCAN device.
Im not sure how I will communicate with the PG70 gripper which powercube in this method recognizes as a rotary joint and requests a new configuration using the windows powercube. Most of the gripper support seems to be serial communication

Originally posted by PatFGarrett with karma: 31 on 2018-07-24
This answer was ACCEPTED on the original site
Post score: 0


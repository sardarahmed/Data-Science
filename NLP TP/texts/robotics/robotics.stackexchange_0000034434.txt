Q:

Read or write message from/to file

What is the easiest way to load/write a message from/to a file in C++?
I want something like this:
void loadMessage(const std::string& filename, std_msgs::Image& image_msg)
{
    // open file and put it's content in img_msg
}
void saveMessage(std_msgs::Image& image_msg, const std::string& filename)
{
    // put message content in file
}

The file has YAML format, for example created by
rostopic pub -1 /image std_msgs/Image > file

Originally posted by Stephan on ROS Answers with karma: 1924 on 2011-09-22
Post score: 3

Original comments
Comment by Mac on 2011-09-23:
Do you mean that you want the output file to be in YAML format?
Comment by joq on 2011-09-23:
Is there some reason not to use rosbag? That is the normal ROS technique; it can be done with standard commands.
Comment by lucasw on 2016-02-08:
This is similar to http://answers.ros.org/question/10330/whats-the-best-way-to-convert-a-ros-message-to-a-string-or-xml/

A:

The best way I see is to use rosbag. You can easily record messages from the command line by just executing
rosbag /topic1 /topic2

Rosbag also provides a C++ and a Python API for writing and reading streams of messages from your programs. Have a look at this page for more information on the API.

Originally posted by Lorenz with karma: 22731 on 2011-09-23
This answer was ACCEPTED on the original site
Post score: 5


Q:

Using Gazebo 5 to simulate a robot, how do I add more noise/drift to the transforms/odometry?

I'm trying to measure the performance of AMCL under changes in Lidar specs, such as max range, update frequency, FOV, and other things. But it turns out that in simulation from gazebo that odometry has so little noise/drift that AMCL performs very well whether I use a simulated 30 meter long laser or a 1 meter long laser. This happens even in large featureless rooms.For example, over the course of 60 seconds of driving the 1 meter long laser only saw a wall for half a second. Yet the performance of AMCL on that run is comparable favorably to the run with the 30 meter long laser.
Any help would be greatly appreciated. I'm relatively new to ROS, I just started using it less than two months ago so please bare with  me if I have any follow up questions, thank you very much.
EDIT:
I don't know if it helps but I am using the gazebo plugin for differential drive robots. I don't know if it's possible to alter it somehow to add more drift/noise.

Originally posted by vorilant on ROS Answers with karma: 1 on 2016-08-08
Post score: 0

Original comments
Comment by Miguel Velez on 2016-10-28:
Have you had any luck of doing this?
Comment by nemesis on 2017-12-06:
@vorilant I am facing a similar issue as you. amcl is giving me good results without doing much work and I don't know why :/

A:

Hi Vorilant!
I have been trying to do this for my simulated drone - hector_quadrotor package - but I still haven't succeeded. The related paper explains quite nicely the idea to implement a drifting noise but it is not implemented yet.
In my situation, the odometry is send by Gazebo as a ground_truth message and the plugin that is used is P3D. When I digged into the URDF files, I found a Gaussian Noise parameter. We I changed it, it just fix static values inside the covariance matrix of the given odometry... Not really what we want to do, as we are looking for drift effect...
Let me know if you get any progress,
Quentin

Originally posted by quentin with karma: 123 on 2016-08-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Miguel Velez on 2016-10-28:
Have you had any luck of doing this?
Comment by vorilant on 2016-10-28:
I did not have any luck adding drift unfortunately. Sorry I couldn't be more help. Thank you for the link to the paper though. I'll check that out.


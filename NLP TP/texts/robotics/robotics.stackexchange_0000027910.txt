Q:

Should I Write a Plugin For This? Changing Turtlebot wheel diameter after model loads

I need to change the diameter of the Turtlebot's wheels within a Gazebo simulation.  I've found the xacro file in which the wheel diameter is getting set (below).
I'm wondering if writing a plugin to change the wheel diameter is appropriate.  My other idea is to make a second Turtlebot URDF with the new wheel diameter, delete the original Turtlebot model from the Gazebo world, and spawn the new one in its place.
Here's where wheel_diameter is set:
    <plugin name="kobuki_controller" filename="libgazebo_ros_kobuki.so"> 
     <publish_tf>1</publish_tf> 
                       
      <wheel_diameter>0.070</wheel_diameter> 

                                        
           </plugin> 
  </gazebo> 

Link to the whole file:
https://github.com/yujinrobot/kobuki/blob/a540661bbd6c11ba8c9a6482251562f9b62970c2/kobuki_description/urdf/kobuki_gazebo.urdf.xacro

Originally posted by ElizabethA on Gazebo Answers with karma: 5 on 2016-09-23
Post score: 0

A:

What's wrong with writing a second xacro? You shouldn't need to delete/respawn, however. Find the launch file that called spawn_model, then copy that as your own launch file and change the model to launch your modified version instead.

Originally posted by Peter Mitrano with karma: 768 on 2016-09-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ElizabethA on 2016-09-27:
I'm going to go with the second xacro.  My delete/respawn plan is because I'm going to navigate an environment up to a point with one Turtlebot, and then I'm going to switch out that model with Turtlebot model with the wheel adjustment, to simulate a tire going flat.
Thanks for your feedback!
Comment by Peter Mitrano on 2016-09-27:
please accept this answer so others can find it. glad you found it useful


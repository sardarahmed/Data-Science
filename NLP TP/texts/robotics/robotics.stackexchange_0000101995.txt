Q:

How to include motor model in my robot simulation?

Hi,
I am working on a project which needs to simulate robotic arm in gazebo. But, whatever, I understand there is no provision to include motor model in  the simulation. But, motor model needs to be included due to our project requirement. I really appreciate it if someone can share their thoughts and suggestion to simulate motor model inside the gazebo.
Thank you,
RCboT

Originally posted by rcbot on ROS Answers with karma: 39 on 2022-06-21
Post score: 0

A:

What do you mean by simulating a motor model there? It is not exactly clear - do you want to have an input to the motor model inside the simulation? So it produces forces etc. as an output?
You could use MoveIt and it's controllers, e.g. like here:

https://medium.com/@tahsincankose/custom-manipulator-simulation-in-gazebo-and-motion-planning-with-moveit-c017eef1ea90

https://github.com/cambel/ur3

Originally posted by ljaniec with karma: 3064 on 2022-06-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by rcbot on 2022-06-22:
Thanks for your answer Ljaniec. I mean to say, how can we include motor inertia , damping and friction of our motor? Sorry I wasn't very clear before. Thank you
Comment by ljaniec on 2022-06-23:
It looks like you need to first create a mathematical model of motor you want to test (e.g. using input-output decoupling?) and then implement it in Matlab & Simulink so you can "react" to the control signals as you wanted (as in a motor with inertia, damping etc.), then (for simulation) prepare an URDF model with MoveIt or directly with ros2_control plugins and connect it with your mathematical model of motor. There is probably a much simpler approach, where the internal ROS node would translate the control signals as in a modeled real engine - I think the hardest part is the engine model part, where you have to do a literature review. I found a a repository which could be a good start base/an example at least: https://github.com/nilseuropa/gazebo_ros_motors,
Comment by rcbot on 2022-06-23:
Thanks for your suggestions Ljaniec. I will go through them :)


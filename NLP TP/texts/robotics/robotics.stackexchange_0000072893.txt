Q:

CSM Package Not Found

Hi,
I've got an issue compiling laser_scan_matcher. When running catkin_make I get the following error:
-- checking for module 'csm'
-- package 'csm' not found
Cmake error
Now I've built csm and installed it. What else do I need to do to get catkin to find it?
Thanks
Mark

Originally posted by MarkyMark2012 on ROS Answers with karma: 1834 on 2016-03-18
Post score: 4

Original comments
Comment by joq on 2016-03-18:
How did you install the csm package?
Comment by MarkyMark2012 on 2016-03-18:
My base ROS workspace is ~/ros_ws/src
Installed csm src into  ~/ros_ws/src/csm and ran install_quickstart.sh  which successfully compiled it all and "installed" it
That installed it to:
~/ros_ws/src/csm/deploy
Comment by joq on 2016-03-18:
What operating system are you using?
Comment by joq on 2016-03-18:
Did you source  ~/ros_ws/src/csm/deploy/setup.bash?
Comment by MarkyMark2012 on 2016-03-18:
This is on a raspberry pi (hence the building everything) re: source - there is no  ~/ros_ws/src/csm/deploy/setup.bash file

A:

It looks like laser_scan_matcher uses  pkg-config to find the csm headers and libraries.
You probably need to set the $PKG_CONFIG_PATH in your environment, adding the directory containing the csm.pc file installed with csm.

Originally posted by joq with karma: 25443 on 2016-03-19
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by MarkyMark2012 on 2016-03-21:
Cheers sir that has done the trick!! (Now it can't find csm header files - shall try and persuade it otherwise :) )
Comment by joq on 2016-03-21:
That should have resolved both header and library locations. What does pkg-config --cflags csm print?
Comment by MarkyMark2012 on 2016-03-21:
Comes back with -I/usr/include/cairo -I/home/pi/ros_ws/install/include
Comment by joq on 2016-03-21:
Seems OK. Are the headers in fact there?
Comment by MarkyMark2012 on 2016-03-21:
Just gotten around to checking this - so you were correct - the headers weren't there. Simply copied them into that dir and it's all complied! I now have - after some faff - LSM running on a Pi 2. Shall write all this up as a how-to...
Comment by joq on 2016-03-21:
Copying the headers should not have been necessary. The csm install should have created a csm.pc that points to the right place. If you write this up, try to figure out what when wrong with that.
Comment by DM2 on 2016-07-14:
After installation (and exporting the pkg-config to $PKG_CONFIG_PATH), and checking the headers are installed where they should be, I try to catkin_make_isolated but failed to process package csm, no env.sh generated at /home/pi/ros_catkin_ws/devel_isolated/csm/env.sh
Comment by DM2 on 2016-07-14:
full command is ros_catkin_ws $ sudo ./src/catkin/bin/catkin_make_isolated --install-space /opt/ros/indigo -DCMAKE_BUILD_TYPE=Release --force-cmake. I think it's somehow interpreting csm as a package.
EDIT: I added --install to the command and it seems to have passed the make :/


Q:

Package to detect interrupted connection?

Hey everybody,
I have built the following setup (simplified):
Moving base with Pixhawk running APM Rover <-> MavRos (executed on a Pi2, together with the ROS Master) <-> Wifi Link <-> Desktop Machine with Joystick
The joystick is sending RC override messages via a mavros_extras teleop node which are correctly executed by the moving base.
Before I let the setup loose in the wild, I wanted to think about savety a little. For example: What happens if the Wifi link is interrupted while the joystick is not in idle position? It turned out that mavros will execute that last command it received, which mean my base will keep moving ..
So I figured it might make sense to have a monitoring node (running on the moving base side of the Wifi link) which makes sure that the rc override messages are still arriving (and sends out some default value if they dont). In fact I wondered if there is such a node already, as I have the impression that this could be a fairly generic usecase.
If anybody knows a package that contains code to do that I'd be very grateful if you told me where to find it!

Originally posted by blubbi321 on ROS Answers with karma: 95 on 2016-08-29
Post score: 0

A:

Depends on control method used. I suppose you use RC override?
If so last time i seen APM do not have safety timeout. But better to check current status since they used it for Solo (all controls via Wi-Fi).
PX4 as i know has safety timeout, so controls override have limited time and require frequent refresh.
You can write simple node that listens to override topic, check timeout and publish reset on overflow.

Originally posted by vooon with karma: 404 on 2016-08-30
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by blubbi321 on 2016-08-31:
Yes, RC override messages, as pointed out in the question ;)
I could not get the PX4 to work with a rover base, which is why I went for APM.
Question is about your last suggestion: Is something like that already available in ROS? Seems a generic case to me ..
Comment by vooon on 2016-09-05:
No, i do not know about existing node that can work with mavros_msgs/RCOverride message.
But script should be pretty easy ~10 LOC.
Comment by blubbi321 on 2016-11-12:
Thanks for your answer. Wrote my own node a while ago, just wanted to accept your answer ;)


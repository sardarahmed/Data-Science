Q:

Poor move_base performance on Nvidia Xavier

I recently migrated a robotics project from the TX2 to the Xavier, and my navigation has been functioning poorly. The map update loop frequently misses its update loop of 10 Hz, whereas the exact same software with the same settings very rarely had this problem on the TX2.
What I've tried:

All of my sensors are publishing at rates over 10 Hz
Two separate Xavier devices flashed with the newest firmware.
Both TrajectoryPlannerROS and DWAPlannerROS
Maximum performance mode on the Xavier
CPU usage is low. move_base isn't even using all of a single core. The Xavier is significantly faster than the TX2. I'm fairly confident this isn't a CPU performance issue.

The only difference is that the Xavier is running Melodic and the TX2 was running Kinetic. My software is unchanged. I looked through the default values for move_base in Melodic and Kinetic and they appear to be identical. Is there anything else I should try?

Originally posted by adriandole on ROS Answers with karma: 26 on 2019-07-26
Post score: 1

Original comments
Comment by gvdhoorn on 2019-07-28:
Did you remember to build the navigation packages with optimisations enabled?

A:

Enabling optimizations appears to be the fix; I compiled with Catkin using -DCMAKE_BUILD_TYPE=Release. I'm not compiling move_base or any other navigation packages directly so I'm not sure why this works but it does.

Originally posted by adriandole with karma: 26 on 2019-07-29
This answer was ACCEPTED on the original site
Post score: 0


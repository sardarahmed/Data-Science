Q:

roslaunch file using rosparam

I'm trying to write a roslaunch file which opens a few nodes with unique ip addresses which are provided in a yaml file.  If I wanted to start each one using terminals for each I would type it in as follows:
rosrun foo_pkg foo_node 1 192.168.100.10
rosrun foo_pkg foo_node 2 192.168.100.20
I want to be able to open them all in one launch file:
FIRST TRY SIMPLY CODING INTO LAUNCH FILE:
     <launch>
       <node   name="FOO1"
               pkg="foo_pkg"
               type="foo_node"
               args="1 192.168.100.10"
               output="screen"/>
       <node   name="FOO2"
               pkg="foo_pkg"
               type="foo_node"
               args="2 192.168.100.20"
               output="screen"/>
     </launch>

This didn't work, I guess I can't put the arguments in this way but don't know how to put them in correctly.
In the end I want it to get these values from a launch file like below:
     ip:  
       board1:  
         num: 1  
         address: '192.168.10.10'  
       board2:  
         num: 2  
         address: '192.168.10.20'

So my main question is ... HOW CAN I USE THE ROSPARAMS INSIDE THE ROSLAUNCH FILE TO PROPERLY LAUNCH THEM?

Originally posted by vbplaya on ROS Answers with karma: 3 on 2014-08-06
Post score: 0

A:

I think you're on the right track, but you've misunderstood the XML syntax of launch files.
Try:
<launch>
  <node   name="FOO1"
          pkg="foo_pkg"
          type="foo_node"
          args="1 192.168.100.10"
          output="screen"/>
  <node   name="FOO2"
          pkg="foo_pkg"
          type="foo_node"
          args="2 192.168.100.20"
          output="screen"/>
</launch>

Originally posted by ahendrix with karma: 47576 on 2014-08-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by vbplaya on 2014-08-07:
Actually, I already had it exactly like this ... I just don't know how to put the greater than and less than symbols in message without it thinking it is actual xml code to execute.
Comment by ahendrix on 2014-08-07:
You question was completely unclear about that.
Comment by ahendrix on 2014-08-07:
You say that this launch file "didn't work." There are serveral hundred things that might cause it to not work. Can you edit your question to include the exact command and the exact output from the command?
Comment by vbplaya on 2014-08-07:
It turns out my code was correct already (exactly yours shown above).  Problem was that when you add the "args" line to the code it sends the args you entered along with 2 others: "__name:=FOO1" and "__log:= ...".  I had code in the other files which verified correct # of args.
Comment by vbplaya on 2014-08-07:
My code accounted for too few and too many args ... so I thought it was exiting because it had 0 args when it was actually because of too many.
Comment by vbplaya on 2014-08-07:
I finally figured out how to put the code in without messing up when using the greater than or less than symbols!  That took a while ... sadly.  Thanks for your help.  Do you have any idea on the second part of my question about how I can assign the args by means of the rosparam yaml file I load?
Comment by ahendrix on 2014-08-07:
I think @bvbdort 's answer does a good job of describing how to set parameters in a launch file and how to retrieve them from C++.


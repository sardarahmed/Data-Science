Q:

how to stop the joint motion( clear the force)

I have set a force on the shoulder of simple_arm and it seems that It is going to move forever until I stop it somehow.
How can I clear/stop the force that I have set by Joint::SetForce() on a joint? In general how can we stop the motion of a model in programming.
Is there any function to stop the model?

Originally posted by nkoenig on Gazebo Answers with karma: 7676 on 2012-09-19
Post score: 0

A:

Where in you'r code have you applied the force ?
are you absolutely sure it is not in the onUpdate() or similar never ending call ?
What is the purpose?
have you got friction in the joint ?
according to newtons laws of motion, the arm will continue to rotate forever, unless something provides a reaction force, like friction.
if you apply the force in a small duration of time, the turnrate of the arm will after that moment in time become constant. With frictions it will decellerate, with repeated force the arm will accellerate.
with repeated force and friction the arm will reach a steady state where you'r applied force equals the force from friction, and from here the speed will eventually become constant.
solutionset:

if you are repeatingly applying force, stop that after some time and let the friction stop the arm (use gazebos simulation time..)

learn control theory, (and basic physics) and let a controller that calculate the desired force to have the arm move to a position or speed or both be implemented.  (You should do this to control the HW anyway)

stop using forces, cheat and use the animation interface for gazebo

Originally posted by nkoenig with karma: 7676 on 2012-09-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by suvrat on 2013-07-30:
i have the same kind of problem ,i tried to modify the c++ code in tutorial http://gazebosim.org/wiki/Tutorials/1.3/control_robot/mobile_base_laser .it also not stopping.i have setForce to zero even it is not stooping .I am beginner in field of robotics as well as in gazebo .plz guide me ,i am attachin my modified code here
Comment by suvrat on 2013-07-30:
double target_dist = 2.0;
   if (min_dist < this->laser->GetRangeMax())
  {

    double torque = this->gain *( (min_dist - target_dist)*0.1 );

    this->leftWheelJoint->SetForce(0, torque);
    this->rightWheelJoint->SetForce(0, torque);
  } 

else 

{
this->leftWheelJoint->SetForce(0,0.0);
this->rightWheelJoint->SetForce(0,0.0);
}
Comment by suvrat on 2013-07-30:
as i can't paste my complete code here i just paste the part which i had modified .


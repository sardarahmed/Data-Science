Q:

Callback for integer message

Hello Folks,
i am just leanring roscpp and i want to re-write the Simple Publisher and Subscriber Tutorial with an integer instead of a string. So how have i to write the callback function?
void chatterCallback(const std_msgs::UInt16 msg)
{
     ROS_INFO("I heard: [%d]", msg->data);}
}

But catkin_make says:
error: ‘UInt16’ was not declared in this scope

Have i missed some additional headers so std_msgs/UInt16 message isn't declared yet?
The same problem also appears also for ros::Publisher chatter_pub = n.advertise<UInt16>("test", 5);.
Someone has a hint for me?

Originally posted by krl101 on ROS Answers with karma: 48 on 2017-02-16
Post score: 1

A:

You are missing a header file.
For the callback, in the tutorial there is a line containing
#include "std_msgs/String.h"

You should replace that with
#include "std_msgs/UInt16.h"

For the publisher you will want to replace the line containing
ros::Publisher chatter_pub = n.advertise<std_msgs::String>("chatter", 1000);

with
ros::Publisher chatter_pub = n.advertise<std_msgs::UInt16>("chatter", 1000);

Originally posted by Thomas D with karma: 4347 on 2017-02-16
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by krl101 on 2017-02-21:
Oh x.x
yes, this is logical.
Thank you very much.


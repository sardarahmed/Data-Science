Q:

Catkin: Use ROS message from another package

Hi guys
I'm trying to use a ROS message defined in another package, lets say message_package in my own package which I will call myPackage. The problem I have is that catkin first tries to build myPackage before message_package. Hence I get a compilation error:

fatal error: message_package/msg.h: No such file or directory
#include "message_package/msg.h"

I don't understand why catkin does that. In the package.xml of myPackage I added

<build_depend> message_package </build_depend>

and in the CMakeLists.txt I added

find_package(catkin REQUIRED
COMPONENTS
roscpp
std_msgs
genmsg
message_package  )

What else can I do to tell catkin to compile message_package BEFORE myPackage, so that the necessary headers are there?

Originally posted by potAito on ROS Answers with karma: 63 on 2015-03-30
Post score: 6

Original comments
Comment by martinerk0 on 2021-07-15:
Why nobody upvotes question? :(   (I gave u upvote, thanks)

A:

You need to add a build-time dependency between your package and the packages you depend on. Assuming the node you're trying to compile is called your_executable, try:
add_dependencies(your_executable ${catkin_EXPORTED_TARGETS})

Originally posted by ahendrix with karma: 47576 on 2015-03-30
This answer was ACCEPTED on the original site
Post score: 13

Original comments
Comment by potAito on 2015-03-30:
Huh it's working, thanks. I thought that's taken care of with build_depend. What exactly is ${catkin_EXPORTED_TARGETS}?
Comment by joq on 2015-03-31:
It is a CMake variable containing all the targets exported by packages you depend on. See: http://docs.ros.org/indigo/api/catkin/html/howto/format2/cpp_msg_dependencies.html for details.
Comment by potAito on 2015-03-31:
Aha! Thank you very much!
Comment by Mobeen on 2022-11-24:
What will be your_executable ?
Comment by icore-az on 2022-12-14:
name of your .cpp file. Example add_dependencies(ros_ssa_single_agent ${catkin_EXPORTED_TARGETS}) # Followed example https://answers.ros.org/question/52744/how-to-specify-dependencies-with-foo_msgs-catkin-packages/


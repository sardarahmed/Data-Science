Q:

[RTABMAP, Navigation, Noetic]Error:The goal sent to the navfn planner is off the global costmap

I use RTABMAP and Navigation stack.
When I specify more than 4m ahead in "2D Nav Gaol" in move_base, I get the following error message.
The goal sent to the navfn planner is off the global costmap. Planning will always fail to this goal.

I want to set a goal point at least 10m away, but the robot does not work.
The robot will go 3m away without error.
I have heard that I can fix it with the RTABMAP settings, but no matter what I look up I can't figure out how to set it up.
Below is the launch file for RTABMAP.
 <launch>
  <!-- Choose visualization -->
  <arg name="rtabmapviz"              default="false" /> 
  <arg name="rviz"                    default="true" />
  
  <!-- Localization-only mode -->
  <arg name="localization"            default="false"/>
  
  <!-- Corresponding config files -->
  <arg name="rtabmapviz_cfg"          default="$(find rtabmap_ros)/launch/config/rgbd_gui.ini" />
  <arg name="rviz_cfg"                default="$(find rtabmap_ros)/launch/config/rgbd.rviz" />
  
  <arg name="frame_id"                default="robot_center"/>
  <arg name="odom_topic"              default="/t265/odom/sample"/>
  
  <arg name="rgbd_sync"               default="true"/>
  <arg name="approx_rgbd_sync"        default="false"/>
  <arg name="visual_odometry"         default="false"/>
  <!--<arg name="approx_sync"         default="true"/>-->
  
  <arg name="rgb_topic"               default="/d400/color/image_raw" />
  <arg name="depth_topic"             default="/d400/aligned_depth_to_color/image_raw" />
  <arg name="camera_info_topic"       default="/d400/color/camera_info" />

  <param name="Mem/UseOdomGravity" type="string" value="true"/>
  <param name="Optimizer/GravitySigma" type="string" value="0.3"/>
  <param name="Vis/MaxDepth" type="string" value="3.5"/>
  
  <param name="cloud_noise_filtering_radius" value="0.1"/>
  <param name="cloud_noise_filtering_min_neighbors" value="2"/>
  <!-- param name = "proj_max_ground_height" value = "0.2" / -->
  
  <include file="$(find rtabmap_ros)/launch/rtabmap.launch">
    <arg name="rtabmapviz"              value="$(arg rtabmapviz)" /> 
    <arg name="rviz"                    value="$(arg rviz)" />
    <arg name="localization"            value="$(arg localization)"/>
    <arg name="gui_cfg"                 value="$(arg rtabmapviz_cfg)" />
    <arg name="rviz_cfg"                value="$(arg rviz_cfg)" />                                                                          

    <arg name="odom_topic"              value="$(arg odom_topic)"/>
    <arg name="frame_id"                value="$(arg frame_id)"/>
    <arg name="rgbd_sync"               value="$(arg rgbd_sync)"/>
    <arg name="depth_topic"             value="$(arg depth_topic)"/>
    <arg name="rgb_topic"               value="$(arg rgb_topic)"/>
    <arg name="camera_info_topic"       value="$(arg camera_info_topic)"/>
    <arg name="approx_rgbd_sync"        value="$(arg approx_rgbd_sync)"/>
    <arg name="visual_odometry"         value="$(arg visual_odometry)"/>   
  </include>    
</launch>

What should I add to which part to solve this problem?
Is it possible that it is not the RTABMAP setting in the first place, but the Navigation stack setting?
Thank you.

Originally posted by donguri on ROS Answers with karma: 13 on 2022-12-04
Post score: 0

A:

I asked the same question in the Official RTAB-Map Forum and the great matlabbe answered it.
http://official-rtab-map-forum.206.s1.nabble.com/Error-The-goal-sent-to-the-navfn-planner-is-off-the-global-costmap-td9216.html#a9226
Thank you very much, Mathieu!!!

Originally posted by donguri with karma: 13 on 2022-12-05
This answer was ACCEPTED on the original site
Post score: 0


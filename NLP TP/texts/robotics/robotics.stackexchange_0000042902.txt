Q:

How to create OWL file that can query by knowrob normally?

I followed knowrob tutorials.
I create an owl file sam_world.owl by protege.
  <?xml version="1.0"?>
  
  
  <!DOCTYPE Ontology [
      <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >
      <!ENTITY xml "http://www.w3.org/XML/1998/namespace" >
      <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
      <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
  ]>
  
  
  <Ontology xmlns="http://www.w3.org/2002/07/owl#"
       xml:base="http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4"
       xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
       xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
       xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
       xmlns:xml="http://www.w3.org/XML/1998/namespace"
       ontologyIRI="http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4">
      <Prefix name="" IRI="http://www.w3.org/2002/07/owl#"/>
      <Prefix name="owl" IRI="http://www.w3.org/2002/07/owl#"/>
      <Prefix name="rdf" IRI="http://www.w3.org/1999/02/22-rdf-syntax-ns#"/>
      <Prefix name="xsd" IRI="http://www.w3.org/2001/XMLSchema#"/>
      <Prefix name="rdfs" IRI="http://www.w3.org/2000/01/rdf-schema#"/>
      <Declaration>
          <Class IRI="#book"/>
      </Declaration>
      <Declaration>
          <Class IRI="#cup"/>
      </Declaration>
      <Declaration>
          <Class IRI="#flower"/>
      </Declaration>
      <Declaration>
          <Class IRI="#outside"/>
      </Declaration>
      <Declaration>
          <Class IRI="#room"/>
      </Declaration>
      <Declaration>
          <Class IRI="#sidewalk"/>
      </Declaration>
      <SubClassOf>
          <Class IRI="#book"/>
          <Class IRI="#room"/>
      </SubClassOf>
      <SubClassOf>
          <Class IRI="#cup"/>
          <Class IRI="#room"/>
      </SubClassOf>
      <SubClassOf>
          <Class IRI="#flower"/>
          <Class IRI="#outside"/>
      </SubClassOf>
      <SubClassOf>
          <Class IRI="#sidewalk"/>
          <Class IRI="#outside"/>
      </SubClassOf>
  </Ontology>
  
  
  
  <!-- Generated by the OWL API (version 3.3.1957) http://owlapi.sourceforge.net -->                                                

And I load knowrob:
  rosrun rosprolog rosprolog mod_vis 

Then I load my own owl file and query it...
It shows many warnings and one query error:
  ?- owl_parser:owl_parse('/home/sam/code/ros/sam_ai/sam_owl/sam_world.owl', false, false, true).
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:12: Unexpected element http://www.w3.org/2002/07/owl# : Ontology
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:19: Unexpected element http://www.w3.org/2002/07/owl# : Prefix
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:20: Unexpected element http://www.w3.org/2002/07/owl# : Prefix
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:21: Unexpected element http://www.w3.org/2002/07/owl# : Prefix
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:22: Unexpected element http://www.w3.org/2002/07/owl# : Prefix
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:23: Unexpected element http://www.w3.org/2002/07/owl# : Prefix
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:24: Unexpected element http://www.w3.org/2002/07/owl# : Declaration
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:25: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:27: Unexpected element http://www.w3.org/2002/07/owl# : Declaration
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:28: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:30: Unexpected element http://www.w3.org/2002/07/owl# : Declaration
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:31: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:33: Unexpected element http://www.w3.org/2002/07/owl# : Declaration
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:34: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:36: Unexpected element http://www.w3.org/2002/07/owl# : Declaration
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:37: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:39: Unexpected element http://www.w3.org/2002/07/owl# : Declaration
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:40: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:42: Unexpected element http://www.w3.org/2002/07/owl# : SubClassOf
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:43: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:44: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:46: Unexpected element http://www.w3.org/2002/07/owl# : SubClassOf
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:47: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:48: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:50: Unexpected element http://www.w3.org/2002/07/owl# : SubClassOf
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:51: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:52: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:54: Unexpected element http://www.w3.org/2002/07/owl# : SubClassOf
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:55: Unexpected element http://www.w3.org/2002/07/owl# : Class
  Warning: RDF: file:///home/sam/code/ros/sam_ai/sam_owl/sam_world.owl:56: Unexpected element http://www.w3.org/2002/07/owl# : Class
  % Parsed "sam_world.owl" in 0.00 sec; 0 triples
  false.
  
  ?- owl_subclass_of(A, sam_world:'room').
  ERROR: namespace `sam_world' does not exist
  ^  Exception: (11) setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user), '$expand':expand_goal(owl_subclass_of(_G1269, sam_world:room), _G1330, user, [user, system]), _G1398, '$expand':'$set_source_module'(_G1355, user)) ? creep
  ^  Exception: (6) setup_call_catcher_cleanup('$toplevel':'$set_source_module'(user, user), '$toplevel':expand_goal(user:owl_subclass_of(_G1269, sam_world:room), _G1306), _G1398, '$toplevel':'$set_source_module'(_G1308, user)) ? creep
  ?-                                                      

How to fix it?
Thank you~

The rdf/xml file:

 <!DOCTYPE rdf:RDF [
     <!ENTITY xsd "http://www.w3.org/2001/XMLSchema#" >
     <!ENTITY rdfs "http://www.w3.org/2000/01/rdf-schema#" >
     <!ENTITY rdf "http://www.w3.org/1999/02/22-rdf-syntax-ns#" >
     <!ENTITY untitled-ontology-4      "http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#" >
 ]>
 
 
 <rdf:RDF xmlns="http://www.w3.org/2002/07/owl#"
      xml:base="http://www.w3.org/2002/07/owl"
      xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#"
           xmlns:untitled-ontology-4="http://www.semanticweb.org/ira/ontologies/2012/7/un     titled-ontology-4#"
      xmlns:xsd="http://www.w3.org/2001/XMLSchema#"
      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
     <Ontology      rdf:about="http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4     "/>
     
 
 
     <!-- 
          ///////////////////////////////////////////////////////////////////////////////////////
     //
     // Classes
     //
          ///////////////////////////////////////////////////////////////////////////////////////
      -->
 
     
 
 
     <!--      http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#book -->
 
     <Class rdf:about="&untitled-ontology-4;book">
         <rdfs:subClassOf rdf:resource="&untitled-ontology-4;room"/>
     </Class>
     
 
 
     <!--      http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#cup -->
 
     <Class rdf:about="&untitled-ontology-4;cup">
         <rdfs:subClassOf rdf:resource="&untitled-ontology-4;room"/>
     </Class>
     
 
 
     <!--      http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#flower -->
 
     <Class rdf:about="&untitled-ontology-4;flower">
         <rdfs:subClassOf rdf:resource="&untitled-ontology-4;outside"/>
     </Class>
     
 
 
     <!--      http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#outside      -->
 
     <Class rdf:about="&untitled-ontology-4;outside"/>
     
 
 
     <!--      http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#room -->
 
     <Class rdf:about="&untitled-ontology-4;room"/>
     
 
 
     <!--      http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#sidewalk      -->
 
     <Class rdf:about="&untitled-ontology-4;sidewalk">
         <rdfs:subClassOf rdf:resource="&untitled-ontology-4;outside"/>
     </Class>
 </rdf:RDF>
 
 
 
 <!-- Generated by the OWL API (version 3.2.3.1824) http://owlapi.sourceforge.net -->

My loading process:
 ?-      owl_parser:owl_parse('/home/sam/code/ros/sam_ai/sam_owl/sam_world2.owl',      false, false, true).
 % Parsed "sam_world2.owl" in 0.00 sec; 11 triples
 true.
 
 ?- owl_subclass_of(A, sam_world2:'room').
 ERROR: namespace `sam_world2' does not exist
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? Unknown      option (h for help)
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? Unknown      option (h for help)
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? Unknown      option (h for help)
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? Unknown      option (h for help)
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? Unknown      option (h for help)
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? Unknown      option (h for help)
 ^  Exception: (11)      setup_call_catcher_cleanup('$expand':'$set_source_module'(user, user),      '$expand':expand_goal(owl_subclass_of(_G228, sam_world2:room), _G289, user,      [user, system]), _G357, '$expand':'$set_source_module'(_G314, user)) ? creep
 ^  Exception: (6)      setup_call_catcher_cleanup('$toplevel':'$set_source_module'(user, user),      '$toplevel':expand_goal(user:owl_subclass_of(_G228, sam_world2:room), _G265),      _G357, '$toplevel':'$set_source_module'(_G267, user)) ? creep
 ?- 

Originally posted by sam on ROS Answers with karma: 2570 on 2012-08-03
Post score: 0

A:

Hi,
you need to save the files in RDF/XML syntax; the one in the example looks different...
cheers
Moritz

Originally posted by moritz with karma: 2673 on 2012-08-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by sam on 2012-08-03:
Thank you~Now I can load owl normally,but still can query because of couldn't find namespace. How to solve it?
Comment by moritz on 2012-08-03:
Can you please post a (possibly shortened) version of your file, explain how you load it, and how you try to query? Otherwise, it's impossible to find the problem...
Comment by sam on 2012-08-03:
I have edited the original post. I use the same way to load owl file.
Comment by moritz on 2012-08-03:
You can register namespaces using
:- rdf_db:rdf_register_ns(sam_world2, 'http://www.semanticweb.org/ira/ontologies/2012/7/untitled-ontology-4#',     [keep(true)]). This is not specific to knowrob, but part of the Semweb library in SWI Prolog http://www.swi-prolog.org/pldoc/package/semweb.html


Q:

Gazebo Irobot model "explodes"

I am new to ROS, having just installed the software yesterday. Today I started working with Gazebo to try and run some simulations. The specific platform I am trying to simulate is the iRobot create. I used rosinstall to add the required packages from aptima-ros-pkg and ua-ros-pkg as outlined here. I created the urdf file by performing
`rospack find xacro`/xacro.py `rospack find irobot_create_description`/urdf/create.urdf.xacro > ~/ros_workspace/robot.urdf
I then proceeded to try to insert the model an empty world using roslaunch and rosrun, but chaos ensued (apologies for the poor video quality).
The output from the terminal I was running Gazebo in is

[ INFO] [1338498008.681508282, 266.797000000]: starting diffdrive plugin in ns: //
Warning [Param.cc:314] Parameter [xyzOffsets] is not a vector3, try parsing
Warning [Param.cc:314] Parameter [rpyOffsets] is not a vector3, try parsing
Dbg plugin model name: robot1
[ INFO] [1338498008.696764900, 266.797000000]: starting gazebo_ros_controller_manager plugin in ns: /
[ INFO] [1338498008.702468002, 266.797000000]: Callback thread id=0xaeb61550
gzclient: /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreNode.cpp:413: virtual void Ogre::Node::setPosition(const Ogre::Vector3&): Assertion `!pos.isNaN() && "Invalid vector supplied as parameter"' failed.
/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui: line 2:  4751 Aborted                 `rospack find gazebo`/gazebo/bin/gzclient -g `rospack find gazebo`/lib/libgazebo_ros_paths_plugin.so
[gazebo_gui-2] process has died [pid 4748, exit code 134, cmd /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui __name:=gazebo_gui __log:=/home/dkleszyk/.ros/log/8123d130-ab61-11e1-a507-00216a4e4e76/gazebo_gui-2.log].
log file: /home/dkleszyk/.ros/log/8123d130-ab61-11e1-a507-00216a4e4e76/gazebo_gui-2*.log

I saw an earlier Q&A that suggested commenting out cannonicalBody in the urdf file, but this did not solve the issue.
I am running ROS fuerte on Ubuntu 11.10. Any suggestions as to why the model would act like this?
Thanks in advance!

Originally posted by dkleszyk on ROS Answers with karma: 21 on 2012-05-31
Post score: 2

Original comments
Comment by phil0stine on 2012-06-29:
A similar explosion occurs for me, when running the erratic teleop in wg_collada.world . The difference is that gazebo explodes only when I run the robot into the wall.

A:

We encountered the same problem, i.e. Gazebo exploding just right after initializing with the reported error

gzserver: /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreNode.cpp:413: virtual void Ogre::Node::setPosition(const Ogre::Vector3&): Assertion `!pos.isNaN() && "Invalid vector supplied as parameter"' failed.

The crash appeared when including the stereo camera in the URDF of the REEM humanoid (https://github.com/pal-robotics) in Fuerte. The solution in our case was to increase the inertia matrix of the link in which the camera is mounted on.

Originally posted by Jordi Pages with karma: 245 on 2012-11-29
This answer was ACCEPTED on the original site
Post score: 0


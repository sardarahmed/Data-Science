Q:

PCL Normal estimation with PointNormal

The NormalEstimation nodelet in pcl_ros produces point clouds whose point type is Normal (i.e., not including xyz).  I have code that needs to work with PointNormals, i.e., x, y, z, nx, ny, nz.  Now I could just subscribe to both the normal cloud and the original cloud but then I have to worry about time synchronization as well.  Is there a simple way of solving this problem that doesn't require duplicating and modifying pcl_ros/normal_3d.cpp?

Originally posted by bhaskarama on ROS Answers with karma: 11 on 2016-06-25
Post score: 1

A:

//Concatenate the XYZ and normal fields*
pcl::PointCloud<pcl::PointNormal>::Ptr cloud_with_normals (new pcl::PointCloud<pcl::PointNormal>);
pcl::concatenateFields (*original_XYZ_cloud, *normals, *cloud_with_normals);

Originally posted by buckley.toby with karma: 116 on 2017-09-26
This answer was ACCEPTED on the original site
Post score: 2


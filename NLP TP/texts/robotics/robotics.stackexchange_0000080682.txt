Q:

Trajectory Planning not working reliably

I've been trying to get the Trac-IK to work, since the default solver didn't work very well for me.
But now that I'm using Trac-IK, there is no real improvement. It only finds a solution 1 in 5 times, and takes up to more than a second to find the solution. This differs alot from the values given on Trac-IK for 6-DOF arms.
So I suppose i have some issue with my robot, but I'm unable to spot it.
My setup is fairly simple: a robot on a table with a simple gripper.
I can't figure out what i'm doing wrong. I'm 100% sure, that there must be a possible solution to the planning problem, but my move_group keeps on crashing!
Any Idea what could be a possible problem? maybe joint-limits?
Edit: Also, when planning fails, the move_group process dies quite frequently...
Edit 2: today i tried the IK-Fast plugin, which is unfortunately also unable to plan paths for my robot.
Can anyone give me a hint for where to look for problems in my robot setup?
I've uploaded the moveit_config with urdf files here
Edit 3: I have opened an issue on schunk_modular_robotics.

Originally posted by David_111 on ROS Answers with karma: 32 on 2017-05-08
Post score: 1

Original comments
Comment by gvdhoorn on 2017-05-15:
I think it'd be good if you could describe what setup you have. I see LWA 4p in your tags, so I'm guessing you have a 6-dof manipulator. Barring any really weird kinematic structures, that should work well with Trac-IK. Can you perhaps make your MoveIt cfg pkgs available?
Comment by David_111 on 2017-05-16:
I uploaded the MoveIt config here. Do you need anything else?
Comment by gvdhoorn on 2017-05-22:
I can't download your package: google drive complains that it can't zip all files, and I'm not going to download them all separately.
Comment by gvdhoorn on 2017-05-22:
Also: without your item_workcell package I can't really test this, as I can't actually start your moveit config.
Comment by gvdhoorn on 2017-05-23:
I've quickly tested your configuration: in general I would suggest adding explicit collision geometry to everything.
As to your planning problems: even with just the robot in isolation moveit seems to have trouble finding successful plans. I can't comment on whether that is due to joint limits ..
Comment by gvdhoorn on 2017-05-23:
.. but I doubt it has anything to do with the specific IK plugin you're using.
As to move_group crashing: I've not seen that at all, but I've only used demo.launch and the RViz plugin.
You might want to post an issue on the schunk_modular_robotics issue tracker to see whether other users ..
Comment by gvdhoorn on 2017-05-23:
.. have trouble with MoveIt and this particular robot.
For crashes, always make sure that you don't have any partial upgrades of ROS (ie: oustanding upgrades of specific packages), and that you rebuild your workspace after every upgrade of packages.
Comment by gvdhoorn on 2017-05-23:
Just remembered btw: it looks like this robot is able to rotate its joints such that it rotates into itself. That can lead to problems, as motion planners will have to figure out how to 'cross the gap' going from one half of the allowed joint rotation limit to the other. I'm not sure whether that ..
Comment by gvdhoorn on 2017-05-23:
.. is a problem here, but see ros-industrial/universal_robot#265 for a similar issue.
This would be something to ask about on the schunk_modular_robotics issue tracker.
Comment by gvdhoorn on 2017-05-23:\

I have opened an issue on schunk_modular_robotics.

would be nice if you could include a link to that issue then.

A:

For now adjusting the joint limits did the trick... almost.
Working with these Joint Limits ..

Joint: 1 -2.9 2.9
Joint: 2 -2.9 2.9
Joint: 3 -2.7 2.7
Joint: 4 -2.9 2.9
Joint: 5 -2.9 2.9
Joint: 6 -2.9 2.9

... greatly improved the rate of succesful motion plans.
Thanks @gvdhoorn!

Originally posted by David_111 with karma: 32 on 2017-05-23
This answer was ACCEPTED on the original site
Post score: 0


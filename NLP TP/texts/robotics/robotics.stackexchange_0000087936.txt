Q:

TF tree has two root node

Hi all,
I am building a MIT-RACECAR with ZED stereo camera and Yokuyo LiDar on it. When I visualized the /tf, it showed two trees:
One tree has 1)odom as root, then 2)base_link as second layer and then 3)Laser, Base_footprint, IMU as children of base_link
Another tree has 1)Map as root, then 2)ZED_center as second layer and then 3)ZED left camera and ZED right camera as children of ZED_Center.
I remember that tf can have only one tree, one root node. Then how can I combine the two trees into one?
Thanks,

Originally posted by AutoCar on ROS Answers with karma: 102 on 2018-07-15
Post score: 0

A:

The ROS REP has defined the structure for linking frames together to have one single tree.
As per the REP, you would have a world frame, the child of which would be map, and the child of that would be the odom frame and so on.

Originally posted by Sidd with karma: 155 on 2018-07-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by AutoCar on 2018-07-16:
Thanks, can you let me know how to make the changes? Which file I should modify?
Comment by Sidd on 2018-07-16:
I'm not entirely sure which file you'll have to modify. In ROS the most commonly used nodes for localization are gmapping (if you want to build a map) and amcl (if you want to use an existing map). Both already publish the map -> odom transform.
Comment by Sidd on 2018-07-16:
You will have to figure out what node is publishing the map frame and figure out what node is publishing the odom frame and link the two frames.
Comment by AutoCar on 2018-07-17:
Hi Sidd, thanks a lot for your post. I know which node publishes odom and which one publishes map. What I need to do to link the two?
Comment by Sidd on 2018-07-19:
I would recommend going through the tutorials on the navigation stack - http://wiki.ros.org/navigation/Tutorials and in particular get familiar with http://wiki.ros.org/navigation/Tutorials/RobotSetup/Odom.


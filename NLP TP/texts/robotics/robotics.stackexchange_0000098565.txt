Q:

RTABMAP estimate normals with external odometry

Is it possible to use external odometry to estimate normals with RTABMAP?
Will the normals then be estimated based on the odom when the points where captured?
I know icp_odometry have some parameters for normal estimation, but I have not found any examples using them.
My goal is to user Intel RealSense D435 and T265 cameras to scan a box from five sides and use the normals to decide tcp orientation for a robot so that its tool is perpendicular to the surface.

Originally posted by MRRobot on ROS Answers with karma: 60 on 2021-03-16
Post score: 0

A:

Normals are inverted if needed based on the current point of view.

Originally posted by matlabbe with karma: 6409 on 2021-03-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by MRRobot on 2021-03-22:
Do I understand it correct that RTABMAP will orient all normals according to current pov and not store the pov from when the point was captured?
If I were to scan one side of a box and then scan the opposite side, all surface normals would have the same direction and be oriented according to the last side, and not in opposite directions?
Comment by matlabbe on 2021-03-22:
/rtabmap/cloud_map doesn't have normals published. When doing File->Export Clouds, normals are adjusted depending on each camera point of view. See adjustNormalsToViewPoints(). For each point, we search the camera looking at it, then flip the normal is needed.
Comment by MRRobot on 2021-03-22:
I see. Thank you for the clarification!


Q:

Seg Fault from Controller Spawner couldn't reach controller_manager to take down controllers

Hello there, I have encountered troubles when launching controllers, especially joint_trajectory_controller. I got the following log from the terminal:
[INFO] [WallTime: 1480474127.896390] [5.150000] Controller Spawner: Loaded controllers: left_leg_controller, right_leg_controller, head_controller, left_arm_controller, right_arm_controller

Traceback (most recent call last):

  File "/opt/ros/indigo/lib/controller_manager/spawner", line 212, in <module>
    if __name__ == '__main__': main()
  File "/opt/ros/indigo/lib/controller_manager/spawner", line 204, in main
    resp = switch_controller(loaded, [], 2)
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rospy/impl/tcpros_service.py", line 435, in __call__
    return self.call(*args, **kwds)
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rospy/impl/tcpros_service.py", line 525, in call
    raise ServiceException("transport error completing service call: %s"%(str(e)))

**rospy.service.ServiceException: transport error completing service call: unable to receive data from sender, check sender's logs for details**

[INFO] [WallTime: 1480474129.103476] [5.157000] Shutting down spawner. Stopping and unloading controllers...
Segmentation fault (core dumped)

[gazebo-1] process has died [pid 21849, exit code 139, cmd /home/viki/catkin_ws/src/gazebo_ros_pkgs/gazebo_ros/scripts/gzserver -e ode /home/viki/catkin_ws/src/reemc_robot/reemc_simulation/reemc_gazebo/worlds/empty.world __name:=gazebo __log:=/home/viki/.ros/log/aba3bd78-b6a4-11e6-9191-080027b46cdd/gazebo-1.log].
log file: /home/viki/.ros/log/aba3bd78-b6a4-11e6-9191-080027b46cdd/gazebo-1*.log

**[WARN] [WallTime: 1480474160.106558] [5.157000] Controller Spawner couldn't reach controller_manager to take down controllers. Waited for 30 second(s).**

[joint_trajectory_controllers_spawner-3] process has died [pid 21862, exit code 1, cmd /opt/ros/indigo/lib/controller_manager/spawner left_leg_controller right_leg_controller head_controller left_arm_controller right_arm_controller __name:=joint_trajectory_controllers_spawner __log:=/home/viki/.ros/log/aba3bd78-b6a4-11e6-9191-080027b46cdd/joint_trajectory_controllers_spawner-3.log].
log file: /home/viki/.ros/log/aba3bd78-b6a4-11e6-9191-080027b46cdd/joint_trajectory_controllers_spawner-3*.log

^C[head_controller/point_head_action-4] killing on exit
[gazebo_gui-2] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete

Can anyone figure what might be the problem of this issue? I am using Gazebo7 and ROS Indigo. Thank you very much!

Originally posted by sauronalexander on Gazebo Answers with karma: 1 on 2016-11-29
Post score: 0

Original comments
Comment by nkoenig on 2016-11-30:
This looks like a problem with ROS. You should try asking this question on answers.ros.org.
Comment by sauronalexander on 2016-11-30:
So this has nothing to do with Gazebo? Coz I don't really understand how controllers are loaded and spawned. It seems that the issue behind everything is controller manager. Thanks anyway.
Comment by nkoenig on 2016-11-30:
As far as I can tell, this has nothing to do with Gazebo.
Comment by sauronalexander on 2016-12-01:
I have checked the code of spawner, it seems that the error has something to do with gazebo. So the ros service is offered by gazebo and the request to the gazebo is made correctly. Only the response from gazebo is wrong. It seems the issues is that the controllers cannot be started in gazebo.

A:

Reinstalling the ros solves the entire problem.

Originally posted by sauronalexander with karma: 1 on 2016-12-06
This answer was ACCEPTED on the original site
Post score: 0


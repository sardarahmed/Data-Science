Q:

How do I get the length of a String in C++?

I'm sending binary data as a String.  It's easy to publish it and read it in Python, but I'm trying to extend a driver that's written in C++ (and I have very little C++ experience).  I made it work by using this ugly kludge in the topic subscriber.
uint32_t string_length = ros::serialization::serializationLength(*msg) - 4;

I was hoping that there would be a length value in the message but according to http://wiki.ros.org/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29 String only has one member, "data".  Is there a clean way to get the length of the data?

Originally posted by kylerlaird on ROS Answers with karma: 104 on 2018-02-08
Post score: 0

A:

Similar to python's len() method for determining the length of a string, the std::string object in C++ has a length() member function that returns the length of the string. (See: http://www.cplusplus.com/reference/string/string/ for more complete documentation of std::string)
Since the string in a std_msgs/String message is represented with a std::string in C++, if you have a pointer to a std_msgs::String (the C++ type for std_msgs/String) you can get the string's length with msg->data.length().

Originally posted by ahendrix with karma: 47576 on 2018-02-08
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by kylerlaird on 2018-02-09:
Perfect.  That is exactly the answer I needed and the reference will help me with other work.  I updated the code and it works as expected.  Thank you!


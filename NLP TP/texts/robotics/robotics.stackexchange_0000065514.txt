Q:

StampedTransform getting Position instead of Relative Position

HI,
I am trying to log some data. The code works like intended except I am receiving the Relative Position instead of the Position.
tf::StampedTransform transformOdom;
current_time = ros::Time::now();

try {
        listener.waitForTransform( "odom","base_footprint", ros::Time(0), ros::Duration(10.0));
    listener.lookupTransform( "odom", "base_footprint",ros::Time(0), transformOdom);
    }
    catch (tf::TransformException &ex) {
        ROS_ERROR("%s",ex.what());
    }

//For debugging purposes
ROS_INFO_STREAM("X pose " <<  transformOdom.getOrigin().x() );
ROS_INFO_STREAM("Y pose " << transformOdom.getOrigin().y());

fileToWrite.open ("log.txt", ios_base::app);
fileToWrite << "X: " << transformOdom.getOrigin().x() << " Y: " << transformOdom.getOrigin().y()<< "\n";
fileToWrite.close();

Does anyone know how to get the position of the robot instead of the relative position?
Thanks,
choog

Originally posted by choog on ROS Answers with karma: 101 on 2015-01-30
Post score: 0

A:

You need to choose a frame that you consider fixed, e.g., /map.

Originally posted by dornhege with karma: 31395 on 2015-01-30
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by choog on 2015-01-30:
listener.waitForTransform( "map","base_footprint", ros::Time(0), ros::Duration(10.0));
listener.lookupTransform( "map", "base_footprint",ros::Time(0), transformOdom);
as such?
Comment by choog on 2015-01-30:
That worked. I figured that is what you meant and it tried. Thanks a lot.
Comment by Henschel.X on 2016-03-21:
Hi! I met the same problem just like you, I changed "odom" with "map", instead, I got this error
"map" passed to lookupTransform argument target_frame does not exist.
Can you tell me what should I do ? I don't even know what odom means. CuzI just started to learn ROS  ;(,Thx anyway


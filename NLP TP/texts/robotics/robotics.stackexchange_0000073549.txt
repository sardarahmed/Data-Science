Q:

Local costmap parameters for tight spaces

I'm tuning our navigation stack for a smaller mobile platform in an office environment and we're having trouble adjusting the costmap so that the local planner can get through doors. Other than this issue we have a system that works well. Can anyone recommend parameters to investigate for tuning? We've looked at cost_scaling_factor, inflation_radius, and occdist_scale. I've uploaded a screenshot from rviz and circled three door openings. The global planner appears to plan the path ok, but the local planner gets to the door and will typically enter a recovery behavior and abort the goal.

Originally posted by dpiet on ROS Answers with karma: 26 on 2016-04-25
Post score: 0

A:

The first thing that comes to my mind looking at your image is that you should reduce the value of your resolution parameter  (reduce the size of each cell).
Besides that, you should configure your robot_radius as close to the robot's real radius as possible, maybe with 1cm of tolerance. Because that will be the threshold for positions where the robot will definitely collide.
For the other parameters you mentined, cost_scaling_factor and inflation_radius, they should not block the path planning, but instead increase the cost of passing too close to the wall. In an extreme condition, you can set the inflation_radius to match your robot_radius. In this case, you are telling the planner that it can be as close as possible to the limit positions that will result in a collision, because you eliminate the "buffer zone" as explained here.

Originally posted by Proc√≥pio with karma: 4402 on 2016-04-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dpiet on 2016-04-27:
Thanks. That's helpful and will try resolution. Increasing cost_scaling_factor and decreasing occdist_scale has helped as well.


Q:

stage error in fuerte

Hello,
I just installed Fuerte and tried a simulation with stage. But, when I tried to apply tutorials given in ROS, it gives the error related to model type of the laser:
err: Model type laser not found in model typetable (/tmp/buildd/ros-fuerte-stage-1.6.6/debian/ros-fuerte-stage/opt/ros/fuerte/stacks/stage/build/stage/libstage/world.cc CreateModel)
err: Unknown model type laser in world file. (/tmp/buildd/ros-fuerte-stage-1.6.6/debian/ros-fuerte-stage/opt/ros/fuerte/stacks/stage/build/stage/libstage/world.cc CreateModel)
any idea how to solve these problems? Thanks in advance...

Originally posted by musti on ROS Answers with karma: 1 on 2012-05-14
Post score: 3

A:

Just encountered the same.
Apparently, you just need to replace all occurrences of "laser" with "ranger" (as per this post )
Here's a handy one-liner to do so (for all stage files below current directory):
`perl -p -i -e 's/laser/ranger/g' $(find . -name *.world) $(find . -name *.inc)`
I also notice the upgrade-world.sh script in stage pkg... may be useful for getting rid of other deprecated stuff in your .world files?
UPDATE: looks like you also have to wrap your laser in a "sensor" block...
So the old sick.inc ...

define sick laser
(
    range_max 80
    fov 180.0
    samples 180
    size [ 0.156 0.155 0.19 ]
)

Has now become:

define sick ranger
(
  sensor(
    range [ 0 80 ]
    fov 180.0
    samples 180
  )
  size [ 0.156 0.155 0.19 ]
)

Originally posted by Nick Armstrong-Crews with karma: 481 on 2012-05-27
This answer was ACCEPTED on the original site
Post score: 14

Original comments
Comment by Arkapravo on 2012-05-27:
@Nick Armstrong-Crews Hi, I wrote two of the stage tutorials available at ROS (stage 3.2.2, which works on diamondback and electric) - does this modification work with the roomba-wander.world at http://www.ros.org/wiki/stage/Tutorials/IntroductiontoStageControllers ?
Comment by joq on 2012-05-28:
Thanks for the detailed example, Nick. We should add a migration link to the Stage wiki page.
Comment by Arkapravo on 2012-05-28:
@joq Yep ! that is exactly what I was thinking about !
Comment by Arkapravo on 2012-05-28:
@Nick Armstrong-Crews Hi, I could not make roomba-wander.world to work with that change in fuerte ! :-( ! Anyway, I am just staring off with fuerte !
Comment by tonyParker on 2014-09-18:
Hi , I made the changes but now it says :
warn: worldfile roomba_lse_arena.world:32 : property [color] is defined but not used (/tmp/buildd/ros-fuerte-stage-1.6.6/debian/ros-fuerte-stage/opt/ros/fuerte/stacks/stage/build/stage/libstage/worldfile.cc WarnUnused)
Comment by Sanjay Nag on 2019-08-15:
This didn't work for me!
Did anyone got this working on Stage_ROS kinetic? Facing the same issue!


Q:

Rviz segfaulting on startup

When starting Rviz (rosrun rviz rviz) it produces a splash screen and immediately segfaults with :
$ rosrun rviz rviz
[ INFO] [1371112927.848817565]: rviz revision number 1.8.17
[ INFO] [1371112927.848909490]: compiled against OGRE version 1.7.3 (Cthugha)
[ INFO] [1371112927.885475931]: Loading general config from [/home/****/.rviz/config]
Segmentation fault (core dumped)

I am using ROS Fuerte, with Ubuntu 12.04 LTS and an Intel graphics card (which as far as I understand may be the issue)
I tried deleting the config files, differtent OGRE_RTT_MODEs, reinstalling, enabling/disabling OpenGL and updating drivers but so far no luck.

UPDATE : Downloaded the latest update today (19/6/2013) and everything seems to work OK

When running on GDB (I am sorry about the wall):
(gdb) run
Starting program: /opt/ros/fuerte/stacks/visualization/rviz/bin/rviz 
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
[ INFO] [1371112634.850998769]: rviz revision number 1.8.17
[ INFO] [1371112634.851094314]: compiled against OGRE version 1.7.3 (Cthugha)
[New Thread 0x7fffe36ba700 (LWP 8202)]
[New Thread 0x7fffe2eb9700 (LWP 8204)]
[New Thread 0x7fffe26b8700 (LWP 8205)]
[New Thread 0x7fffe1eb7700 (LWP 8206)]
[New Thread 0x7fffe16b6700 (LWP 8211)]
[ INFO] [1371112634.928360124]: Loading general config from [/home/****/.rviz/config]
[New Thread 0x7fffc85fb700 (LWP 8214)]
[New Thread 0x7fffc7dfa700 (LWP 8215)]
[New Thread 0x7fffc75f9700 (LWP 8216)]
[New Thread 0x7fffc6df8700 (LWP 8217)]
[New Thread 0x7fffc65f7700 (LWP 8218)]
[New Thread 0x7fffc5df6700 (LWP 8219)]
[New Thread 0x7fffc55f5700 (LWP 8220)]
[New Thread 0x7fffc4df4700 (LWP 8221)]
[Thread 0x7fffc85fb700 (LWP 8214) exited]
[Thread 0x7fffc5df6700 (LWP 8219) exited]
[Thread 0x7fffc4df4700 (LWP 8221) exited]
[Thread 0x7fffc55f5700 (LWP 8220) exited]
[Thread 0x7fffc6df8700 (LWP 8217) exited]
[Thread 0x7fffc65f7700 (LWP 8218) exited]
[Thread 0x7fffc75f9700 (LWP 8216) exited]
[Thread 0x7fffc7dfa700 (LWP 8215) exited]

Program received signal SIGSEGV, Segmentation fault.
0x00007fffee014cc0 in xcb_glx_get_string_string_length ()
   from /usr/lib/x86_64-linux-gnu/libxcb-glx.so.0

And the backtrace :
#0  0x00007fffee014cc0 in xcb_glx_get_string_string_length ()
   from /usr/lib/x86_64-linux-gnu/libxcb-glx.so.0
#1  0x00007ffff2b814e4 in ?? () from /usr/lib/x86_64-linux-gnu/mesa/libGL.so.1
#2  0x00007ffff2b7ef4c in ?? () from /usr/lib/x86_64-linux-gnu/mesa/libGL.so.1
#3  0x00007fffca46d96f in Ogre::GLSupport::initialiseExtensions (this=0x6c30a0)
    at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/RenderSystems/GL/src/OgreGLSupport.cpp:53
#4  0x00007fffca4a5b9a in Ogre::GLXGLSupport::initialiseExtensions (
    this=0x6c30a0)
    at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/RenderSystems/GL/src/GLX/OgreGLXGLSupport.cpp:418
#5  0x00007fffca463365 in Ogre::GLRenderSystem::initialiseContext (
    this=0x7fffe0dc7a58, primary=0x7fffe0dcc2e8)
    at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/RenderSystems/GL/src/OgreGLRenderSystem.cpp:1061
#6  0x00007fffca46857b in Ogre::GLRenderSystem::_createRenderWindow (
    this=0x7fffe0dc7a58, name=..., width=1, height=1, fullScreen=false, 
    miscParams=0x7fffffffd550)
at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/RenderSystems/GL/src/OgreGLRenderSystem.cpp:1017
#7  0x00007ffff601a96e in Ogre::Root::createRenderWindow (this=0x7fffe0db88d8, 
    name=..., width=<optimized out>, height=<optimized out>, 
    fullScreen=<optimized out>, miscParams=<optimized out>)
    at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreRoot.cpp:1199
#8  0x00007ffff7ad2192 in rviz::RenderSystem::makeRenderWindow (this=0x787630, 
    window_id=65011713, width=1, height=1)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/ogre_helpers/render_system.cpp:237
#9  0x00007ffff7ad2a7a in rviz::RenderSystem::RenderSystem (this=0x787630)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/ogre_helpers/render_system.cpp:68
#10 0x00007ffff7ad2b35 in rviz::RenderSystem::get ()
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/ogre_helpers/render_system.
cpp:55
#11 0x00007ffff7ae2e11 in rviz::QtOgreRenderWindow::QtOgreRenderWindow (
    this=0x804780, parent=0x6a77b0)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/ogre_helpers/qt_ogre_render_window.cpp:30
#12 0x00007ffff7b2c902 in rviz::RenderPanel::RenderPanel (this=0x804780, 
    parent=<optimized out>)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/render_panel.cpp:55
#13 0x00007ffff7abac5c in rviz::VisualizationFrame::initialize (this=0x6a77b0, 
    display_config_file=..., fixed_frame=..., target_frame=..., 
    splash_path=..., help_path=..., verbose=false, 
    show_choose_new_master_option=false)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/visualization_frame.cpp:224
#14 0x00007ffff7acb483 in rviz::VisualizerApp::init (this=0x7fffffffdfb0, 
    argc=1, argv=<optimized out>)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/visualizer_app.cpp:210
#12 0x00007ffff7b2c902 in rviz::RenderPanel::RenderPanel (this=0x804780, 
    parent=<optimized out>)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/render_panel.cpp:55
#13 0x00007ffff7abac5c in rviz::VisualizationFrame::initialize (this=0x6a77b0, 
    display_config_file=..., fixed_frame=..., target_frame=..., 
    splash_path=..., help_path=..., verbose=false, 
    show_choose_new_master_option=false)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/visualization_frame.cpp:224
#14 0x00007ffff7acb483 in rviz::VisualizerApp::init (this=0x7fffffffdfb0, 
    argc=1, argv=<optimized out>)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/visualizer_app.cpp:210
---Type <return> to continue, or q <return> to quit---
#15 0x0000000000402d2e in main (argc=1, argv=0x7fffffffe108)
    at /tmp/buildd/ros-fuerte-visualization-1.8.17/debian/ros-fuerte-visualization/opt/ros/fuerte/stacks/visualization/rviz/src/rviz/main.cpp:39

Originally posted by AndreasLydakis on ROS Answers with karma: 140 on 2013-06-12
Post score: 0

A:

UPDATE : Downloaded the latest update today (19/6/2013) and everything seems to work OK

Originally posted by AndreasLydakis with karma: 140 on 2013-06-18
This answer was ACCEPTED on the original site
Post score: 0


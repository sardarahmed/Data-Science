Q:

How to setup planning group moveit for dual arm

Hi all,
I had a self-made dual arm system, want to set up the moveit configuration.
I follow the advice to configure it like this.
<group name="left_arm">
    <joint name="left_arm_base_joint" />
   ...
    <joint name="left_fake_end_joint" />
    <chain base_link="left_arm_base_link" tip_link="left_fake_end" />
</group>
<group name="right_arm">
    <joint name="right_arm_base_joint" />
    ...
    <joint name="right_fake_end_joint" />
    <chain base_link="right_arm_base_link" tip_link="right_fake_end" />
</group>
<group name="both_arms">
    <group name="left_arm" />
    <group name="right_arm" />

But I got this error
 [ERROR] []: Group 'both_arms' is not a chain
 [ERROR] []: Kinematics solver of type 'kdl_kinematics_plugin/KDLKinematicsPlugin' could not be initialized for group 'both_arms'
 [ERROR] []: Kinematics solver could not be instantiated for joint group both_arms.

And also I tried the below configuration, as pr2 set each arm as a chain, but also got the same error.
I did a test on pr2, when I choosing arms, it will show two interactive marker for both arms.
But in my case, I don't have any, but if I choose right_arm or left_arm, there will be one interactive marker for each arm.
This is my srdf, quite similar to the pr2's.
<group name="left_arm">
    <chain base_link="body_link" tip_link="left_arm_link4" />
</group>
<group name="right_arm">
    <chain base_link="body_link" tip_link="right_arm_link4" />
</group>
<group name="both_arms">
    <group name="left_arm" />
    <group name="right_arm" />
</group>

I don't know how pr2 setup arms plan group, it would be very appreciated that someone can help me, thanks!

Originally posted by peng cheng on ROS Answers with karma: 36 on 2021-08-21
Post score: 0

Original comments
Comment by fvd on 2021-08-25:
Is there nothing else that is different between your robot and the PR2? What if you add the joints to your two arm groups, like in the PR2 URDF?
Comment by peng cheng on 2021-08-28:
Thanks! It is the same result when I change to joints.
The Kinematic Solver for the "both_arms" group is set to None, pr2 also does this if I am correct.
My question is how this None Kinematic Solver do the motion plan, or it does the motion plan for "left_arm" and "right_arm" subgroup separately instead? I have no idea now, quite confused to me.

A:

I don't know why, but after I added an end effector for each arm, two interactive markers appear. So problem solved.

Originally posted by peng cheng with karma: 36 on 2021-09-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ColorJ on 2022-06-12:
Would you like to  share your SRDF file?


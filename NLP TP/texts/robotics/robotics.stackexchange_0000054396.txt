Q:

g2o in ROS creates problems with Csparse

Hello everyone.
I downloaded g2o library to use it from inside ROS.
Everything seemed to work well, since writing
using namespace g20;

and including test library
#include "/opt/ros/fuerte/include/g2o/core/block_solver.h"

allowed compiling through rosmake from inside my package.
Problems arose when I started to write the real g2o code and just one line
SparseOptimizer optimizer;

caused the following error:
 /opt/ros/fuerte/include/g2o/solvers/csparse/csparse_helper.h:23:16: fatal error: cs.h: File o directory non esistente

Then I updated my system to have Csparse:
sudo apt-get install libsuitesparse-dev 

but I got a message advising me that it's already there.
Finally, I modified my package's CMakeLists file:
include_directories(${CSPARSE_INCLUDE_DIR})

but nothing changed.
Does anyone how to solve the problem?
thanks

Originally posted by ubisum on ROS Answers with karma: 23 on 2013-09-26
Post score: 0

A:

If you are doing include_directories of CSPARSE_INCLUDE_DIR, are you successfully calling find_package on CSPARSE first? If so does CSPARSE_INCLUDE_DIR hold any value? You might have a typo in the variable name. (Not all packages have the same capitalization in CMake rules etc)

Originally posted by tfoote with karma: 58457 on 2013-09-28
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ubisum on 2013-09-28:
thanks for answer.
I tried to solve problem through an explicit inclusion:
include_directories(/home/ubisum/fuerte_workspace/CSparse/Include)
include_directories(/home/ubisum/fuerte_workspace/CSparse/Source)
This seems to work, it should be equivalent to...
Comment by ubisum on 2013-09-28:
...
SET(CSPARSE_INCLUDE_DIR /home/ubisum/fuerte_workspace/CSparse/Include /home/ubisum/fuerte_workspace/CSparse/Source)
include_directories(${CSPARSE_INCLUDE_DIR})
am I mistaking? anyway now a bigger problem has figured out: g2o doesn't find its own functions...
Comment by ubisum on 2013-09-28:
this is the link to my new post: http://answers.ros.org/question/84746/g2o-doesnt-find-its-own-functions-in-ros/.
If you can help, I'll be very glad. I'm just a newbie... :)))


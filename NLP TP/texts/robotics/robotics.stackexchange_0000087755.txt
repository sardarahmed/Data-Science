Q:

Follow a moving point

Hello,
i want to follow a moving point which i get published by a 3D camera with the tool of my UR3 Robot. So i need to dynamicly update the goal of my movement. I can move to the point statically using the MoveGroupInterface and the line group->setPoseTarget(PointPose); and group->move();
Now if the point changes its position how do i follow it? (It should be a smooth change in movement)
I haven't found any tutorial or hints...
I'm currently using ROS Kinetic, on Ubuntu 16.04 LTS and the ur_modern_driver.
A link to a tutorial or something else would be really usefull!

Originally posted by Sokrates on ROS Answers with karma: 16 on 2018-07-05
Post score: 0

Original comments
Comment by aarontan on 2018-07-05:
which package/repo are you using?
Comment by Sokrates on 2018-07-05:
I'm currently using ROS Kinetic, and the ur_modern_driver on Ubuntu 16.04 LTS.

A:

You're trying to do visual servoing using velocity control, it's still pretty new but there are packages to help you achieve this. If you use the jog arm package it allows you to control the robot arm by setting the velocity (6 DOF) of the end effector. The package actually does many things but this is what you'll want it for. By controlling the velocity of the end effector instead of creating discrete plans, a very smooth behaviour can be achieved.
Now you just need to make an algorithm that takes the position of the end effector and the position of the 3D point and produces a twist message (6 DOF velocity) which will make the arm smoothly move towards the point, slow down and stop when it reaches it.
I recommend keeping the UR paddle with the emergency stop handy while testing this. Hope this helps.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2018-07-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Sokrates on 2018-07-06:
Thank you very much for your answer. I will have look at this and give an update!
Is this the only way? Or is there a way to use it with moveit?
Comment by PeteBlackerThe3rd on 2018-07-06:
I'm not an expert on this, but I don't know of any way to do this type of velocity control using moveit. Look forward to hearing about your progress.


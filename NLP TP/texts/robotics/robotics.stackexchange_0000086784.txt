Q:

rospy publishers using tons of CPU

I have a node with a number of subscribers and publishers in it. Most of them have no problem, but 2 in particular running at 100hz are taking up about 15% of an i7 CPU set with a queue_size of 10.
When the application runs with just the publish line commented out, it drops 15%. I've never seen anything like this in C++ and wasn't sure if there was some quirk in python needed to address high rate topics.
Any thoughts?

Originally posted by stevemacenski on ROS Answers with karma: 8272 on 2018-04-27
Post score: 0

Original comments
Comment by jayess on 2018-04-27:
It's hard to comment on this without seeing your code, but I've mostly used rospy and haven't run into this.

A:

I found when I changed the 100hz topics to having a queue_size of None, the CPU immediately dropped to the 15% less, if all other topics are also None, no real difference, appears to only be an issue for the high rate ones.
I need to look into the ramifications of it but seems like a plausible fix.

Originally posted by stevemacenski with karma: 8272 on 2018-04-27
This answer was ACCEPTED on the original site
Post score: 0


Q:

ros2 colcon build

When I write the colcon build function, everything closes including the terminal.

Originally posted by passwd on ROS Answers with karma: 3 on 2022-06-16
Post score: 0

Original comments
Comment by ljaniec on 2022-06-16:
What can you find in the logs of your ROS workspace? Maybe there will be something
Comment by fergs on 2022-06-19:
What is in your workspace? And what platform? I've recently seen this building Moveit2 on Arm64 - and have not yet found the cause.
Comment by fergs on 2022-06-19:
Digging deeper on my end: it's an out of memory issue. Even restarting a build - that is 75% done, very quickly ends up at 10GB of RAM used (I'm in a virtual machine, 8GB actual ram, 2GB swap)

A:

I have seen this happen when running out of system memory - to confirm that is what is happening you can check /var/log/syslog for a recent out of memory termination of your terminal.
A couple possible work arounds:

add "--executor sequential" to your colcon command to reduce how much is build in parallel
add more memory if your system is a VM (mine was - bumping from 8gb to 16gb and running sequentially allowed my workspace to build).
build highly memory consuming packages individually by adding "--package-select package_name" to your colcon command

Originally posted by fergs with karma: 13902 on 2022-06-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ljaniec on 2022-06-20:
I had a similar experience with fresh Ubuntu 22.04 and ROS 2 Humble during building examples packages. When I executed colcon build --symlink-install, the terminal crashes and the building stopped after a few seconds. However, I was able to build these packages one by one without any problem


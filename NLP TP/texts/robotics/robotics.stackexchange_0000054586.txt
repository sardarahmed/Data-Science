Q:

interactivemarker processfeedback callback as a class method

Hello
I wanted to make a class that contains an interactivemarker server
Something like this http://wiki.ros.org/rviz/Tutorials/Interactive%20Markers%3A%20Basic%20Controls
Problem is, I want to do this in a class. Thus I need to set the processFeedback callback as a class method.
I cannot compile the instruction
interactive_markers::InteractiveMarkerServer server->setCallback(int_marker.name, &ClassName::processFeedback);
or
interactive_markers::InteractiveMarkerServer server->setCallback(int_marker.name, &ClassName::processFeedback, this);
A similar issue for ros subscribers and service servers has been solved here
http://wiki.ros.org/rviz/Tutorials/Interactive%20Markers%3A%20Basic%20Controls
Does anybody know of something similar for interactivemarker servers?
Thanks
Miguel

Originally posted by Miguel Riem de Oliveira on ROS Answers with karma: 254 on 2013-10-04
Post score: 2

A:

I found the answers starting from here
http://answers.ros.org/question/11327/argument-for-subscriberstatuscallback-in-advertise/
... and reading a bit more about boost::bind
the solutions is to do:
interactive_markers::InteractiveMarkerServer
server->setCallback(int_marker.name, boost::bind(&ClassName::processFeedback, this, _1));
regards
Miguel

Originally posted by Miguel Riem de Oliveira with karma: 254 on 2013-10-04
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by ZiyangLI on 2015-02-07:
Thank you so much for this answer!
Comment by vkee on 2017-10-10:
How did you write your callback function? I followed that tutorial but for some reason it is just segfaults when the function is called.


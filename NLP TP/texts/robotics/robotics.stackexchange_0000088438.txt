Q:

If a service node take 5s to run callback function, the request come every 2.5 second

I saw an answer from other posts that the service can handle one call each time (https://answers.ros.org/question/11544/calling-a-ros-service-from-several-nodes-at-the-same-time/). Does this mean that, if I call the service every 2.5s, but the service takes  5s to handle one call. Some of the call may fail (2.5s,7.5s,etc).
Is the function " waitForService" can solve this problem????  THANK YOU.

Originally posted by yhe34 on ROS Answers with karma: 1 on 2018-08-09
Post score: 0

A:

Services by default will run one at a time, so potentially if you have a long service, yes, you may have a backlog. Services are for short processes to take place. If you have something taking that long you may consider an action. You may also use a multithreaded spinner so you can process multiple requests at once, but then its up to you as a user to ensure its thread safe.

Originally posted by stevemacenski with karma: 8272 on 2018-08-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by yhe34 on 2018-08-10:
Understood!!! Thank you!
But for now, I don't know how long it takes to run the service, so I am afraid that my requests may come too fast and accumulate a lot. Do you have any suggestion on preventing the service from being called before the last requested one be completely handled?
Comment by yhe34 on 2018-08-10:
For instance, the service is to check if a robot colliding with the environment, and it needs to publish on a topic the distance and id of the nearest obstacle. Should I pick the actionserver instead of service??
Comment by stevemacenski on 2018-08-10:
Sorry, that seems application specific there's not much I can help on. Services aren't meant for this type of thing and you may be able to get away with this with the multithreaded spinner as I've mentioned. You just need to be thread safe


Q:

depends on message does not work for my node

Hello,
I have some nodes that uses custom messages that I have in my workspace. In the package.xml I have declared it as depends (build and run), but if I clean the workspace when I use catkin_make to build everything it crash.
The crash is because the compiler try to build the node before generating the message and cannot find header files for the messages.
I think that I forgot something, but I cannot find a solution in the web.
Thanks you very much.
PD: I am using hydro.

Originally posted by Jonathan Ruiz on ROS Answers with karma: 26 on 2014-05-25
Post score: 0

A:

The package.xml isn't really used much during the build, what you are looking for is to add dependencies in your CMakeLists.txt. For instance, if you have a target called foo, and a package named my_msgs, you would "add_dependencies":
add_executable(foo src/foo.cpp)
# other link, etc commands
add_dependencies(foo my_msgs_generate_messages_cpp)

This will then cause CMake to build your messages before your node.

Originally posted by fergs with karma: 13902 on 2014-05-26
This answer was ACCEPTED on the original site
Post score: 2


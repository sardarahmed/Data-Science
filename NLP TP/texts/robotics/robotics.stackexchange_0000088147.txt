Q:

Problem with starting of room map construction process using Intel RealSense R200

Hello.
I've got 3D camera Intel RealSense R200, but I haven't got TurtleBot.
The operating system is Ubuntu 14.04.5 kernel 4.4.0-130-generic. ROS distro: Indigo.
The following information was used for camera configuration and room map construction:
http://wiki.ros.org/rtabmap_ros/Tutorials/HandHeldMap..
http://wiki.ros.org/rtabmap_ros/Tutorials/MappingAndN..
Starting procedure is the following:
roscore
export TURTLEBOT_3D_SENSOR=r200
roslaunch turtlebot_bringup minimal.launch
export TURTLEBOT_3D_SENSOR=r200
roslaunch rtabmap_ros demo_turtlebot_mapping.launch args:="--delete_db_on_start" rgbd_odometry:=true depth_topic:=/camera/depth_registered/sw_registered/image_rect_rawÂ 
roslaunch rtabmap_ros demo_turtlebot_rviz.launch

Launch files log:
$ roslaunch  rtabmap_ros demo_turtlebot_mapping.launch args:="--delete_db_on_start" rgbd_odometry:=true depth_topic:=/camera/depth_registered/sw_registered/image_rect_raw 
... logging to /home/hulk/.ros/log/79eae048-8a58-11e8-818e-240a64bf4b09/roslaunch-hulk-X550CL-2002.log 
Checking log directory for disk usage. This may take awhile. 
Press Ctrl-C to interrupt 
Done checking log file disk usage. Usage is <1GB. 

started roslaunch server http://192.168.43.162:37408/ 

SUMMARY 
======== 

PARAMETERS 
 * /camera/camera_nodelet_manager/num_worker_threads: 4 
 * /camera/depth_rectify_depth/interpolation: 0 
 * /camera/disparity_depth/max_range: 4.0 
 * /camera/disparity_depth/min_range: 0.5 
 * /camera/disparity_registered_sw/max_range: 4.0 
 * /camera/disparity_registered_sw/min_range: 0.5 
 * /camera/driver/base_frame_id: camera_link 
 * /camera/driver/camera_type: R200 
 * /camera/driver/color_fps: 30 
 * /camera/driver/color_frame_id: camera_rgb_frame 
 * /camera/driver/color_height: 480 
 * /camera/driver/color_optical_frame_id: camera_rgb_optica... 
 * /camera/driver/color_width: 640 
 * /camera/driver/depth_fps: 30 
 * /camera/driver/depth_frame_id: camera_depth_frame 
 * /camera/driver/depth_height: 360 
 * /camera/driver/depth_optical_frame_id: camera_depth_opti... 
 * /camera/driver/depth_width: 480 
 * /camera/driver/enable_color: True 
 * /camera/driver/enable_depth: True 
 * /camera/driver/enable_fisheye: False 
 * /camera/driver/enable_imu: False 
 * /camera/driver/enable_ir2: True 
 * /camera/driver/enable_ir: True 
 * /camera/driver/enable_pointcloud: False 
 * /camera/driver/enable_tf: False 
 * /camera/driver/fisheye_frame_id: camera_fisheye_frame 
 * /camera/driver/fisheye_optical_frame_id: camera_fisheye_op... 
 * /camera/driver/imu_frame_id: camera_imu_frame 
 * /camera/driver/imu_optical_frame_id: camera_imu_optica... 
 * /camera/driver/ir2_frame_id: camera_ir2_frame 
 * /camera/driver/ir2_optical_frame_id: camera_ir2_optica... 
 * /camera/driver/ir_frame_id: camera_ir_frame 
 * /camera/driver/ir_optical_frame_id: camera_ir_optical... 
 * /camera/driver/mode: manual 
 * /camera/driver/serial_no: 
 * /camera/driver/usb_port_id: 
 * /camera/points_xyzrgb_sw_registered/queue_size: 100 
 * /depthimage_to_laserscan/output_frame_id: /camera_depth_frame 
 * /depthimage_to_laserscan/range_min: 0.45 
 * /depthimage_to_laserscan/scan_height: 10 
 * /move_base/DWAPlannerROS/acc_lim_theta: 2.0 
 * /move_base/DWAPlannerROS/acc_lim_x: 1.0 
 * /move_base/DWAPlannerROS/acc_lim_y: 0.0 
 * /move_base/DWAPlannerROS/forward_point_distance: 0.325 
 * /move_base/DWAPlannerROS/global_frame_id: odom 
 * /move_base/DWAPlannerROS/goal_distance_bias: 24.0 
 * /move_base/DWAPlannerROS/max_rot_vel: 5.0 
 * /move_base/DWAPlannerROS/max_scaling_factor: 0.2 
 * /move_base/DWAPlannerROS/max_trans_vel: 0.5 
 * /move_base/DWAPlannerROS/max_vel_x: 0.5 
 * /move_base/DWAPlannerROS/max_vel_y: 0.0 
 * /move_base/DWAPlannerROS/min_rot_vel: 0.4 
 * /move_base/DWAPlannerROS/min_trans_vel: 0.1 
 * /move_base/DWAPlannerROS/min_vel_x: 0.0 
 * /move_base/DWAPlannerROS/min_vel_y: 0.0 
 * /move_base/DWAPlannerROS/occdist_scale: 0.5 
 * /move_base/DWAPlannerROS/oscillation_reset_dist: 0.05 
 * /move_base/DWAPlannerROS/path_distance_bias: 64.0 
 * /move_base/DWAPlannerROS/publish_cost_grid_pc: True 
 * /move_base/DWAPlannerROS/publish_traj_pc: True 
 * /move_base/DWAPlannerROS/rot_stopped_vel: 0.4 
 * /move_base/DWAPlannerROS/scaling_speed: 0.25 
 * /move_base/DWAPlannerROS/sim_time: 1.0 
 * /move_base/DWAPlannerROS/stop_time_buffer: 0.2 
 * /move_base/DWAPlannerROS/trans_stopped_vel: 0.1 
 * /move_base/DWAPlannerROS/vtheta_samples: 20 
 * /move_base/DWAPlannerROS/vx_samples: 6 
 * /move_base/DWAPlannerROS/vy_samples: 1 
 * /move_base/DWAPlannerROS/xy_goal_tolerance: 0.15 
 * /move_base/DWAPlannerROS/yaw_goal_tolerance: 0.3 
 * /move_base/GlobalPlanner/allow_unknown: True 
 * /move_base/GlobalPlanner/cost_factor: 3.0 
 * /move_base/GlobalPlanner/default_tolerance: 0.0 
 * /move_base/GlobalPlanner/lethal_cost: 253 
 * /move_base/GlobalPlanner/neutral_cost: 50 
 * /move_base/GlobalPlanner/old_navfn_behavior: False 
 * /move_base/GlobalPlanner/planner_costmap_publish_frequency: 0.0 
 * /move_base/GlobalPlanner/planner_window_x: 0.0 
 * /move_base/GlobalPlanner/planner_window_y: 0.0 
 * /move_base/GlobalPlanner/publish_potential: True 
 * /move_base/GlobalPlanner/publish_scale: 100 
 * /move_base/GlobalPlanner/use_dijkstra: True 
 * /move_base/GlobalPlanner/use_grid_path: False 
 * /move_base/GlobalPlanner/use_quadratic: True 
 * /move_base/NavfnROS/allow_unknown: False 
 * /move_base/NavfnROS/default_tolerance: 0.0 
 * /move_base/NavfnROS/planner_window_x: 0.0 
 * /move_base/NavfnROS/planner_window_y: 0.0 
 * /move_base/NavfnROS/visualize_potential: False 
 * /move_base/base_global_planner: navfn/NavfnROS 
 * /move_base/base_local_planner: dwa_local_planner... 
 * /move_base/controller_frequency: 5.0 
 * /move_base/controller_patience: 3.0 
 * /move_base/global_costmap/global_frame: map 
 * /move_base/global_costmap/inflation_layer/cost_scaling_factor: 5.0 
 * /move_base/global_costmap/inflation_layer/enabled: True 
 * /move_base/global_costmap/inflation_layer/inflation_radius: 0.5 
 * /move_base/global_costmap/map_type: voxel 
 * /move_base/global_costmap/max_obstacle_height: 0.6 
 * /move_base/global_costmap/obstacle_layer/bump/clearing: False 
 * /move_base/global_costmap/obstacle_layer/bump/data_type: PointCloud2 
 * /move_base/global_costmap/obstacle_layer/bump/marking: True 
 * /move_base/global_costmap/obstacle_layer/bump/max_obstacle_height: 0.15 
 * /move_base/global_costmap/obstacle_layer/bump/min_obstacle_height: 0.0 
 * /move_base/global_costmap/obstacle_layer/bump/topic: mobile_base/senso... 
 * /move_base/global_costmap/obstacle_layer/combination_method: 1 
 * /move_base/global_costmap/obstacle_layer/enabled: True 
 * /move_base/global_costmap/obstacle_layer/mark_threshold: 0 
 * /move_base/global_costmap/obstacle_layer/max_obstacle_height: 0.6 
 * /move_base/global_costmap/obstacle_layer/observation_sources: scan bump 
 * /move_base/global_costmap/obstacle_layer/obstacle_range: 2.5 
 * /move_base/global_costmap/obstacle_layer/origin_z: 0.0 
 * /move_base/global_costmap/obstacle_layer/publish_voxel_map: False 
 * /move_base/global_costmap/obstacle_layer/raytrace_range: 3.0 
 * /move_base/global_costmap/obstacle_layer/scan/clearing: True 
 * /move_base/global_costmap/obstacle_layer/scan/data_type: LaserScan 
 * /move_base/global_costmap/obstacle_layer/scan/marking: True 
 * /move_base/global_costmap/obstacle_layer/scan/max_obstacle_height: 0.35 
 * /move_base/global_costmap/obstacle_layer/scan/min_obstacle_height: 0.25 
 * /move_base/global_costmap/obstacle_layer/scan/topic: scan 
 * /move_base/global_costmap/obstacle_layer/track_unknown_space: True 
 * /move_base/global_costmap/obstacle_layer/unknown_threshold: 15 
 * /move_base/global_costmap/obstacle_layer/z_resolution: 0.2 
 * /move_base/global_costmap/obstacle_layer/z_voxels: 2 
 * /move_base/global_costmap/plugins: [{'type': 'costma... 
 * /move_base/global_costmap/publish_frequency: 0.5 
 * /move_base/global_costmap/robot_base_frame: base_footprint 
 * /move_base/global_costmap/robot_radius: 0.2 
 * /move_base/global_costmap/static_layer/enabled: True 
 * /move_base/global_costmap/static_map: True 
 * /move_base/global_costmap/transform_tolerance: 0.5 
 * /move_base/global_costmap/update_frequency: 1.0 
 * /move_base/local_costmap/global_frame: odom 
 * /move_base/local_costmap/height: 4.0 
 * /move_base/local_costmap/inflation_layer/cost_scaling_factor: 5.0 
 * /move_base/local_costmap/inflation_layer/enabled: True 
 * /move_base/local_costmap/inflation_layer/inflation_radius: 0.5 
 * /move_base/local_costmap/map_type: voxel 
 * /move_base/local_costmap/max_obstacle_height: 0.6 
 * /move_base/local_costmap/obstacle_layer/bump/clearing: False 
 * /move_base/local_costmap/obstacle_layer/bump/data_type: PointCloud2 
 * /move_base/local_costmap/obstacle_layer/bump/marking: True 
 * /move_base/local_costmap/obstacle_layer/bump/max_obstacle_height: 0.15 
 * /move_base/local_costmap/obstacle_layer/bump/min_obstacle_height: 0.0 
 * /move_base/local_costmap/obstacle_layer/bump/topic: mobile_base/senso... 
 * /move_base/local_costmap/obstacle_layer/combination_method: 1 
 * /move_base/local_costmap/obstacle_layer/enabled: True 
 * /move_base/local_costmap/obstacle_layer/mark_threshold: 0 
 * /move_base/local_costmap/obstacle_layer/max_obstacle_height: 0.6 
 * /move_base/local_costmap/obstacle_layer/observation_sources: scan bump 
 * /move_base/local_costmap/obstacle_layer/obstacle_range: 2.5 
 * /move_base/local_costmap/obstacle_layer/origin_z: 0.0 
 * /move_base/local_costmap/obstacle_layer/publish_voxel_map: False 
 * /move_base/local_costmap/obstacle_layer/raytrace_range: 3.0 
 * /move_base/local_costmap/obstacle_layer/scan/clearing: True 
 * /move_base/local_costmap/obstacle_layer/scan/data_type: LaserScan 
 * /move_base/local_costmap/obstacle_layer/scan/marking: True 
 * /move_base/local_costmap/obstacle_layer/scan/max_obstacle_height: 0.35 
 * /move_base/local_costmap/obstacle_layer/scan/min_obstacle_height: 0.25 
 * /move_base/local_costmap/obstacle_layer/scan/topic: scan 
 * /move_base/local_costmap/obstacle_layer/track_unknown_space: True 
 * /move_base/local_costmap/obstacle_layer/unknown_threshold: 15 
 * /move_base/local_costmap/obstacle_layer/z_resolution: 0.2 
 * /move_base/local_costmap/obstacle_layer/z_voxels: 2 
 * /move_base/local_costmap/plugins: [{'type': 'costma... 
 * /move_base/local_costmap/publish_frequency: 2.0 
 * /move_base/local_costmap/resolution: 0.05 
 * /move_base/local_costmap/robot_base_frame: base_footprint 
 * /move_base/local_costmap/robot_radius: 0.2 
 * /move_base/local_costmap/rolling_window: True 
 * /move_base/local_costmap/static_layer/enabled: True 
 * /move_base/local_costmap/static_map: False 
 * /move_base/local_costmap/transform_tolerance: 0.5 
 * /move_base/local_costmap/update_frequency: 5.0 
 * /move_base/local_costmap/width: 4.0 
 * /move_base/oscillation_distance: 0.2 
 * /move_base/oscillation_timeout: 10.0 
 * /move_base/planner_frequency: 1.0 
 * /move_base/planner_patience: 5.0 
 * /move_base/shutdown_costmaps: False 
 * /navigation_velocity_smoother/accel_lim_v: 1.0 
 * /navigation_velocity_smoother/accel_lim_w: 2.0 
 * /navigation_velocity_smoother/decel_factor: 1.5 
 * /navigation_velocity_smoother/frequency: 20.0 
 * /navigation_velocity_smoother/robot_feedback: 2 
 * /navigation_velocity_smoother/speed_lim_v: 0.8 
 * /navigation_velocity_smoother/speed_lim_w: 5.4 
 * /rosdistro: indigo 
 * /rosversion: 1.11.21 
 * /rtabmap/rgbd_odometry/Reg/Force3DoF: true 
 * /rtabmap/rgbd_odometry/Vis/InlierDistance: 0.05 
 * /rtabmap/rgbd_odometry/frame_id: base_footprint 
 * /rtabmap/rgbd_odometry/wait_for_transform_duration: 0.2 
 * /rtabmap/rtabmap/GridGlobal/MinSize: 20 
 * /rtabmap/rtabmap/Icp/CorrespondenceRatio: 0.3 
 * /rtabmap/rtabmap/Kp/MaxDepth: 4.0 
 * /rtabmap/rtabmap/Mem/IncrementalMemory: true 
 * /rtabmap/rtabmap/Mem/InitWMWithAllNodes: false 
 * /rtabmap/rtabmap/Mem/RehearsalSimilarity: 0.30 
 * /rtabmap/rtabmap/Optimizer/Slam2D: true 
 * /rtabmap/rtabmap/RGBD/AngularUpdate: 0.1 
 * /rtabmap/rtabmap/RGBD/LinearUpdate: 0.1 
 * /rtabmap/rtabmap/RGBD/OptimizeFromGraphEnd: false 
 * /rtabmap/rtabmap/RGBD/OptimizeMaxError: 0.1 
 * /rtabmap/rtabmap/RGBD/ProximityBySpace: true 
 * /rtabmap/rtabmap/RGBD/ProximityPathMaxNeighbors: 0 
 * /rtabmap/rtabmap/Reg/Force3DoF: true 
 * /rtabmap/rtabmap/Reg/Strategy: 0 
 * /rtabmap/rtabmap/Rtabmap/TimeThr: 700 
 * /rtabmap/rtabmap/Vis/InlierDistance: 0.1 
 * /rtabmap/rtabmap/Vis/MinInliers: 15 
 * /rtabmap/rtabmap/database_path: rtabmap.db 
 * /rtabmap/rtabmap/frame_id: base_footprint 
 * /rtabmap/rtabmap/map_negative_poses_ignored: True 
 * /rtabmap/rtabmap/subscribe_depth: True 
 * /rtabmap/rtabmap/subscribe_scan: True 
 * /rtabmap/rtabmap/wait_for_transform_duration: 0.2 

NODES 
  /camera/ 
    camera_nodelet_manager (nodelet/nodelet) 
    depth_metric (nodelet/nodelet) 
    depth_metric_rect (nodelet/nodelet) 
    depth_points (nodelet/nodelet) 
    depth_rectify_depth (nodelet/nodelet) 
    depth_registered_sw_metric_rect (nodelet/nodelet) 
    disparity_depth (nodelet/nodelet) 
    disparity_registered_sw (nodelet/nodelet) 
    driver (nodelet/nodelet) 
    ir_rectify_ir (nodelet/nodelet) 
    points_xyzrgb_sw_registered (nodelet/nodelet) 
    register_depth_rgb (nodelet/nodelet) 
    rgb_debayer (nodelet/nodelet) 
    rgb_rectify_color (nodelet/nodelet) 
    rgb_rectify_mono (nodelet/nodelet) 
  /rtabmap/ 
    rgbd_odometry (rtabmap_ros/rgbd_odometry) 
    rtabmap (rtabmap_ros/rtabmap) 
  / 
    depthimage_to_laserscan (nodelet/nodelet) 
    kobuki_safety_controller (nodelet/nodelet) 
    move_base (move_base/move_base) 
    navigation_velocity_smoother (nodelet/nodelet) 

ROS_MASTER_URI=http://localhost:11311 

core service [/rosout] found 
process[camera/camera_nodelet_manager-1]: started with pid [2030] 
process[camera/driver-2]: started with pid [2031] 
process[camera/rgb_debayer-3]: started with pid [2032] 
process[camera/rgb_rectify_mono-4]: started with pid [2033] 
process[camera/rgb_rectify_color-5]: started with pid [2046] 
process[camera/ir_rectify_ir-6]: started with pid [2054] 
process[camera/depth_rectify_depth-7]: started with pid [2077] 
process[camera/depth_metric_rect-8]: started with pid [2090] 
process[camera/depth_metric-9]: started with pid [2098] 
process[camera/depth_points-10]: started with pid [2115] 
process[camera/register_depth_rgb-11]: started with pid [2141] 
process[camera/points_xyzrgb_sw_registered-12]: started with pid [2157] 
process[camera/depth_registered_sw_metric_rect-13]: started with pid [2161] 
[ INFO] [1531899164.266179504]: Initializing nodelet with 4 worker threads. 
process[camera/disparity_depth-14]: started with pid [2171] 
process[camera/disparity_registered_sw-15]: started with pid [2188] 
process[depthimage_to_laserscan-16]: started with pid [2202] 
process[navigation_velocity_smoother-17]: started with pid [2212] 
process[kobuki_safety_controller-18]: started with pid [2227] 
process[move_base-19]: started with pid [2232] 
process[rtabmap/rtabmap-20]: started with pid [2253] 
process[rtabmap/rgbd_odometry-21]: started with pid [2268] 
[ INFO] [1531899164.859760477]: Starting node... 
[ INFO] [1531899165.099925898]: Initializing nodelet with 2 worker threads. 
[ INFO] [1531899165.125944229]: Initializing nodelet with 2 worker threads. 
Intel RealSense F200_camera ; 2.60.0.0 
Intel RealSense LR200_camera ; 2.0.71.18 
Intel RealSense R200_camera ; 1.0.72.06 
Intel RealSense SR300_camera ; 3.10.10.0 
Intel RealSense ZR300_adapter ; 1.29.0.0 
Intel RealSense ZR300_camera ; 2.0.71.28 
Intel RealSense ZR300_motion_module ; 1.25.0.0 
[ INFO] [1531899165.539619402]: /camera/driver - Detected the following camera: 
                - Serial No: 2161301822, USB Port ID: 4-1, Name: Intel RealSense R200, Camera FW: 1.0.72.10 
[ WARN] [1531899165.539867207]: /camera/driver - Detected unvalidated firmware: 
                - 2161301822's current camera firmware is 1.0.72.10, Validated camera firmware is 1.0.72.06 
[ INFO] [1531899165.540019615]: /camera/driver - Connecting to camera with Serial No: 2161301822, USB Port ID: 4-1 
[ INFO] [1531899165.901775997]: Odometry: frame_id               = base_footprint 
[ INFO] [1531899165.901833909]: Odometry: odom_frame_id          = odom 
[ INFO] [1531899165.901862358]: Odometry: publish_tf             = true 
[ INFO] [1531899165.901885495]: Odometry: wait_for_transform     = true 
[ INFO] [1531899165.901933418]: Odometry: wait_for_transform_duration  = 0.200000 
[ INFO] [1531899165.901998698]: Odometry: initial_pose           = xyz=0.000000,0.000000,0.000000 rpy=0.000000,-0.000000,0.000000 
[ INFO] [1531899165.902029909]: Odometry: ground_truth_frame_id  = 
[ INFO] [1531899165.902061129]: Odometry: ground_truth_base_frame_id = base_footprint 
[ INFO] [1531899165.902087374]: Odometry: config_path            = 
[ INFO] [1531899165.902115039]: Odometry: publish_null_when_lost = true 
[ INFO] [1531899165.902141203]: Odometry: guess_frame_id         = 
[ INFO] [1531899165.902168819]: Odometry: guess_min_translation  = 0.000000 
[ INFO] [1531899165.902195966]: Odometry: guess_min_rotation     = 0.000000 
[ INFO] [1531899166.001348791]: /rtabmap/rtabmap(maps): map_filter_radius          = 0.000000 
[ INFO] [1531899166.001413919]: /rtabmap/rtabmap(maps): map_filter_angle           = 30.000000 
[ INFO] [1531899166.001530178]: /rtabmap/rtabmap(maps): map_cleanup                = true 
[ INFO] [1531899166.001554906]: /rtabmap/rtabmap(maps): map_negative_poses_ignored = true 
[ INFO] [1531899166.001576867]: /rtabmap/rtabmap(maps): map_negative_scan_ray_tracing = true 
[ INFO] [1531899166.001615764]: /rtabmap/rtabmap(maps): cloud_output_voxelized     = true 
[ INFO] [1531899166.001642427]: /rtabmap/rtabmap(maps): cloud_subtract_filtering   = false 
[ INFO] [1531899166.001665925]: /rtabmap/rtabmap(maps): cloud_subtract_filtering_min_neighbors = 2 
[ INFO] [1531899166.010511430]: /rtabmap/rtabmap(maps): octomap_tree_depth         = 16 
[ INFO] [1531899166.138003113]: rtabmap: frame_id      = base_footprint 
[ INFO] [1531899166.138061767]: rtabmap: map_frame_id  = map 
[ INFO] [1531899166.138091510]: rtabmap: tf_delay      = 0.050000 
[ INFO] [1531899166.138116750]: rtabmap: tf_tolerance  = 0.100000 
[ INFO] [1531899166.138140796]: rtabmap: odom_sensor_sync   = false 
[ INFO] [1531899166.258426814]: /camera/driver - Setting static camera options 
[ INFO] [1531899166.300871810]: /camera/driver - Enabling Depth in manual mode 
[ INFO] [1531899166.301265822]: /camera/driver - Enabling Color in manual mode 
[ INFO] [1531899166.301804533]: /camera/driver - Enabling IR in manual mode 
[ INFO] [1531899166.301975546]: /camera/driver - Enabling IR2 in manual mode 
[ INFO] [1531899166.302138154]: /camera/driver - Starting camera 
[ INFO] [1531899166.338050494]: /camera/driver - Setting dynamic camera options (r200_dc_preset=2) 
[ INFO] [1531899166.709441902]: Setting RTAB-Map parameter "GridGlobal/MinSize"="20" 
[ INFO] [1531899166.728648626]: Setting RTAB-Map parameter "Icp/CorrespondenceRatio"="0.3" 
[ INFO] [1531899166.906227993]: Setting odometry parameter "Reg/Force3DoF"="true" 
[ INFO] [1531899166.966884604]: Setting RTAB-Map parameter "Kp/MaxDepth"="4.0" 
[ INFO] [1531899167.077912712]: /camera/driver - Initializing Depth Control Preset to 2 
[ INFO] [1531899167.159887069]: Setting RTAB-Map parameter "Mem/IncrementalMemory"="true" 
[ INFO] [1531899167.161762119]: Setting RTAB-Map parameter "Mem/InitWMWithAllNodes"="false" 
[ INFO] [1531899167.226601183]: Setting odometry parameter "Vis/InlierDistance"="0.05" 
[ INFO] [1531899167.311443253]: Setting RTAB-Map parameter "Mem/RehearsalSimilarity"="0.30" 
[ INFO] [1531899167.803950974]: RGBDOdometry: approx_sync    = true 
[ INFO] [1531899167.804007079]: RGBDOdometry: queue_size     = 5 
[ INFO] [1531899167.804035317]: RGBDOdometry: subscribe_rgbd = false 
[ INFO] [1531899167.804061931]: RGBDOdometry: rgbd_cameras   = 1 
[ INFO] [1531899167.880988116]: 
/rtabmap/rgbd_odometry subscribed to (approx sync): 
   /camera/rgb/image_rect_color, 
   /camera/depth_registered/sw_registered/image_rect_raw, 
   /camera/rgb/camera_info 
[ INFO] [1531899168.434375187]: Setting RTAB-Map parameter "RGBD/AngularUpdate"="0.1" 
[ INFO] [1531899168.486137417]: Setting RTAB-Map parameter "RGBD/LinearUpdate"="0.1" 
[ INFO] [1531899168.540011929]: Setting RTAB-Map parameter "RGBD/OptimizeFromGraphEnd"="false" 
[ INFO] [1531899168.542521371]: Setting RTAB-Map parameter "RGBD/OptimizeMaxError"="0.1" 
[ INFO] [1531899168.583500913]: Setting RTAB-Map parameter "RGBD/ProximityBySpace"="true" 
[ INFO] [1531899168.609785562]: Setting RTAB-Map parameter "RGBD/ProximityPathMaxNeighbors"="0" 
[ INFO] [1531899168.627628660]: Setting RTAB-Map parameter "Reg/Force3DoF"="true" 
[ INFO] [1531899168.641654229]: Setting RTAB-Map parameter "Reg/Strategy"="0" 
[ INFO] [1531899168.780300401]: Setting RTAB-Map parameter "Rtabmap/TimeThr"="700" 
[ WARN] [1531899168.962854660]: TF2 exception: 
Lookup would require extrapolation into the past.  Requested time 1531899168.948684630 but the earliest data is at time 1531899169.090065455, when looking up transform from frame [camera_depth_optical_frame] to frame [camera_rgb_optical_frame] 
[ INFO] [1531899169.182288809]: Odom: quality=0, std dev=99.995000m|99.995000rad, update time=0.047835s 
[ INFO] [1531899169.310901024]: Setting RTAB-Map parameter "Vis/InlierDistance"="0.1" 
[ INFO] [1531899169.332230706]: Odom: quality=84, std dev=0.035737m|0.060612rad, update time=0.144897s 
[ INFO] [1531899169.345712771]: Setting RTAB-Map parameter "Vis/MinInliers"="15" 
[ INFO] [1531899169.464221130]: Odom: quality=110, std dev=0.035940m|0.055507rad, update time=0.122418s 
[ WARN] [1531899170.147910619]: Rtabmap: Parameter name changed: "Optimizer/Slam2D" -> "Reg/Force3DoF". Please update your launch file accordingly. Value "true" is still set to the new parameter name. 
[ INFO] [1531899170.302581878]: Odom: quality=118, std dev=0.040106m|0.062718rad, update time=0.187067s 
[ WARN] [1531899170.302924684]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: canTransform: target_frame map does not exist.. canTransform returned after 0.101148 timeout was 0.1. 
[ WARN] [1531899170.430089034]: Setting "Grid/FromDepth" parameter to false (default true) as "subscribe_scan" or "subscribe_scan_cloud" is true. The occupancy grid map will be constructed from laser scans. To get occupancy grid map from cloud projection, set "Grid/FromDepth" to true. To suppress this warning, add <param name="Grid/FromDepth" type="string" value="false"/> 
[ INFO] [1531899170.430358892]: Setting "Grid/RangeMax" parameter to 0 (default 5.000000) as "subscribe_scan" or "subscribe_scan_cloud" is true. 
[ INFO] [1531899170.506724926]: Odom: quality=130, std dev=0.044738m|0.062397rad, update time=0.199453s 
[ INFO] [1531899171.270738965]: Odom: quality=129, std dev=0.034276m|0.058794rad, update time=0.198081s 
[ INFO] [1531899171.277770446]: RTAB-Map detection rate = 1.000000 Hz 
[ INFO] [1531899171.278094817]: rtabmap: Deleted database "/home/hulk/.ros/rtabmap.db" (--delete_db_on_start or -d are set). 
[ INFO] [1531899171.278277275]: rtabmap: Using database from "/home/hulk/.ros/rtabmap.db" (0 MB). 
[ INFO] [1531899171.423506877]: Odom: quality=125, std dev=0.034778m|0.067006rad, update time=0.148551s 
[ INFO] [1531899171.502016504]: /camera/driver - Setting dynamic camera options 
[ INFO] [1531899171.572004251]: Odom: quality=142, std dev=0.039934m|0.063628rad, update time=0.135117s 
[ INFO] [1531899171.637802010]: rtabmap: Database version = "0.17.1". 
[ INFO] [1531899171.739755060]: /rtabmap/rtabmap: queue_size    = 10 
[ INFO] [1531899171.739958337]: /rtabmap/rtabmap: rgbd_cameras = 1 
[ INFO] [1531899171.740084168]: /rtabmap/rtabmap: approx_sync   = true 
[ INFO] [1531899171.740272979]: Setup depth callback 
[ INFO] [1531899171.827203280]: Odom: quality=149, std dev=0.039927m|0.059374rad, update time=0.155083s 
[ INFO] [1531899171.834349727]: 
/rtabmap/rtabmap subscribed to (approx sync): 
   /rtabmap/odom, 
   /camera/rgb/image_rect_color, 
   /camera/depth_registered/sw_registered/image_rect_raw, 
   /camera/rgb/camera_info, 
   /scan 
[ INFO] [1531899171.869863963]: rtabmap 0.17.1 started... 
[ INFO] [1531899171.974811638]: Odom: quality=126, std dev=0.046539m|0.061982rad, update time=0.146084s 
[ INFO] [1531899175.297803769]: Odom: quality=149, std dev=0.032007m|0.059429rad, update time=0.133683s 
[ WARN] [1531899175.370958706]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: canTransform: target_frame map does not exist.. canTransform returned after 0.101241 timeout was 0.1. 
[ INFO] [1531899175.436676910]: Odom: quality=146, std dev=0.039326m|0.062496rad, update time=0.136180s 
[ INFO] [1531899176.794933438]: Odom: quality=118, std dev=0.033830m|0.053508rad, update time=0.127217s 
[ WARN] [1531899176.834530120]: /rtabmap/rtabmap: Did not receive data since 5 seconds! Make sure the input topics are published ("$ rostopic hz my_topic") and the timestamps in their header are set. If topics are coming from different computers, make sure the clocks of the computers are synchronized ("ntpdate"). If topics are not published at the same rate, you could increase "queue_size" parameter (current=10). 
/rtabmap/rtabmap subscribed to (approx sync): 
   /rtabmap/odom, 
   /camera/rgb/image_rect_color, 
   /camera/depth_registered/sw_registered/image_rect_raw, 
   /camera/rgb/camera_info, 
   /scan 
[ INFO] [1531899176.924189231]: Odom: quality=131, std dev=0.046159m|0.058813rad, update time=0.124888s 
time=0.130043s 
[ INFO] [1531899177.571394633]: Odom: quality=139, std dev=0.041224m|0.066494rad, update time=0.125271s 
^C[rtabmap/rgbd_odometry-21] killing on exit 
[rtabmap/rtabmap-20] killing on exit 
[move_base-19] killing on exit 
[kobuki_safety_controller-18] killing on exit 
[navigation_velocity_smoother-17] killing on exit 
[depthimage_to_laserscan-16] killing on exit 
[camera/disparity_registered_sw-15] killing on exit 
[camera/disparity_depth-14] killing on exit 
[camera/depth_registered_sw_metric_rect-13] killing on exit 
[camera/points_xyzrgb_sw_registered-12] killing on exit 
[camera/register_depth_rgb-11] killing on exit 
[camera/depth_points-10] killing on exit 
[camera/depth_metric-9] killing on exit 
[camera/depth_metric_rect-8] killing on exit 
[camera/depth_rectify_depth-7] killing on exit 
[camera/ir_rectify_ir-6] killing on exit 
[camera/rgb_rectify_color-5] killing on exit 
[camera/rgb_rectify_mono-4] killing on exit 
[camera/rgb_debayer-3] killing on exit 
[camera/driver-2] killing on exit 
[camera/camera_nodelet_manager-1] killing on exit 
rtabmap: Saving database/long-term memory... (located at /home/hulk/.ros/rtabmap.db) 
rtabmap: Saving database/long-term memory...done! (located at /home/hulk/.ros/rtabmap.db, 0 MB) 
shutting down processing monitor... 
... shutting down processing monitor complete 
done 

There are no messages from topic`s /scan and /depthimage_to_laserscan.
Could you please explain why is it happening and tell me how to start room map construction.
Thank you in advance.

Originally posted by johnsmith on ROS Answers with karma: 3 on 2018-07-26
Post score: 0

A:

On rtabmap side, you may set subscribe_scan to false here to not subscribe to missing laser scan. Otherwise, to fix depthimage_to_laserscan, you may have to remap the name of the topic used by that nodelet here, by the depth image generated by the r200 (which may have different name than other 3d sensors like kinect/xtion).
EDIT
In turtlebot_bringup package, change these lines in 3dsensor.launch so that $(arg camera)/$(arg depth)/image_raw is $(arg camera)/$(arg depth)/sw_registered/image_rect_raw instead OR set depth_registration argument to false here.
The problem is that r200 launch file doesn't provide the hardware registered depth image /camera/depth_registered/image_raw, instead it provides only the software registered version /camera/depth_registered/sw_registered/image_rect_raw
Other option, I updated demo_turtlebot_mapping.launch to be able to use software registration, that way you don't have to change anything from turtlebot_bringup launch files. With this new launch file and r200:
export TURTLEBOT_3D_SENSOR=r200
roslaunch turtlebot_bringup minimal.launch
export TURTLEBOT_3D_SENSOR=r200
roslaunch rtabmap_ros demo_turtlebot_mapping.launch args:="--delete_db_on_start" rgbd_odometry:=true depth_topic:=/camera/depth_registered/sw_registered/image_rect_raw sw_registered:=true
roslaunch rtabmap_ros demo_turtlebot_rviz.launch

Originally posted by matlabbe with karma: 6409 on 2018-08-01
This answer was ACCEPTED on the original site
Post score: 2


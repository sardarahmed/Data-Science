Q:

Hector_mapping RVIZ visualization showing everything but the map

Hi,
So, this is an odd one. I got the following "good" visualisation of hector_mapping in RVIZ (imgur link because I need 20 karma to attach an image..) by running this simple launch file:
<?xml version="1.0"?>
<launch>
    <node pkg="hector_mapping" type="hector_mapping" name="hector_mapping" output="screen">

        <param name="pub_map_odom_transform" value="true"/>
        <param name="map_frame" value="map" />
        <param name="base_frame" value="base_link" />
        <param name="odom_frame" value="base_link" />

    </node>
    
    <node pkg="tf" type="static_transform_publisher" name="base_to_laser_broadcaster" args="0 0 0 0 0 0 /base_link /laser 100" />
    

</launch>

I must have changed something because when I re-ran re-ran the hector_mapping node and the visualisation I got this - the base_link frame seems to be moving fine but I don't see the map (what was in grey on the first screenshot) anymore.
Any idea why the map isn't being displayed anymore?
Thanks in advance,
Ernest

Some extra info:
tf_monitor returns this:
 Frame: /base_link published by
 /hector_mapping Average Delay:
 0.0366189 Max Delay: 0.0540163 Frame: /laser published by
 /base_to_laser_broadcaster Average
 Delay: -0.0994484 Max Delay: 0 Frame:
 /scanmatcher_frame published by
 /hector_mapping Average Delay:
 0.0367215 Max Delay: 0.0540429
 
 All Broadcasters: Node:
 /base_to_laser_broadcaster 10.1691 Hz,
 Average Delay: -0.0994484 Max Delay: 0
 Node: /hector_mapping 80.7814 Hz,
 Average Delay: 0.0366702 Max Delay:
 0.0540429

Originally posted by Ernest on ROS Answers with karma: 341 on 2013-01-29
Post score: 1

A:

This indeed is odd behavior. Is this reproducible all the time? Does it also happen when doing the MappingUsingLoggedData tutorial?
There is a small map in your second image, so it seems rviz received some map data.
You're probably playing back a bag file, right? Are you sure you are using rosbag correctly (See here)? OTOH, if there is pose output from hector_mapping, there generally should also be map output.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2013-01-29
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Ernest on 2013-02-02:
Actually it's not reproducible at all anymore! So all systems go now, the RVIZ looks great.
Also, I see that you are the author of the hector_mapping package: my team (http://goo.gl/V3ukX) and I would like to say THANK YOU for your amazing work - we are localizing & mapping using your node :)


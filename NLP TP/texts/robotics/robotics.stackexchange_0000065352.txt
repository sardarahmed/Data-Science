Q:

How to chain knowrob and rosjava workspaces

After a succesfull installation Indigo and rosjava in Ubuntu 14.04 according to this and this instructions I got following error when I was making KnowRob from sources:
CMake Error at /home/al/ros_catkin_ws/install_isolated/share/catkin/cmake/catkinConfig.cmake:75 (find_package):
  Could not find a package configuration file provided by
  "rosjava_build_tools" with any of the following names:

    rosjava_build_toolsConfig.cmake
    rosjava_build_tools-config.cmake

  Add the installation prefix of "rosjava_build_tools" to CMAKE_PREFIX_PATH
  or set "rosjava_build_tools_DIR" to a directory containing one of the above
  files.  If "rosjava_build_tools" provides a separate development package or
  SDK, be sure it has been installed.
Call Stack (most recent call first):
  CMakeLists.txt:6 (find_package)

-- Configuring incomplete, errors occurred!
See also "/home/al/ros_catkin_ws/build_isolated/knowrob_common/CMakeFiles/CMakeOutput.log".
See also "/home/al/ros_catkin_ws/build_isolated/knowrob_common/CMakeFiles/CMakeError.log".
<== Failed to process package 'knowrob_common': 
  Command '/home/al/ros_catkin_ws/devel_isolated/rosprolog/env.sh cmake /home/al/ros_catkin_ws/src/stacks/knowrob/knowrob_common -DCATKIN_DEVEL_PREFIX=/home/al/ros_catkin_ws/devel_isolated/knowrob_common -DCMAKE_INSTALL_PREFIX=/home/al/ros_catkin_ws/install_isolated -G Unix Makefiles' returned non-zero exit status 1

I think it occures because workspaces is not chained. There is a tutorial that describes how to chain workspaces, but after a default installation (according to mentioned tutorials) we have the following directories: ~/ros_catkin_ws and ~/rosjava. It's not clear how to chain them.

Originally posted by Alexey Reshetnyak on ROS Answers with karma: 17 on 2015-01-23
Post score: 0

A:

The tutorial explains the necessary steps: The key is which setup.bash you have sourced when running catkin_make. The first time (Sec. 3.3) you have sourced the one in /opt/ros/indigo/..., then you build the first workspace (in your case containing the rosjava repositories, let's assume it's at ~/rosjava), then you create another directory, call catkin_init_workspace, source the setup.bash from your rosjava workspace (~/rosjava/devel/setup.bash), and then run catkin_make on that workspace again. In the end, you have to source the setup.bash from your custom workspace (e.g. ~/custom_pkgs/devel/setup.bash) since only that contains all packages, the ones in /opt/ros, the ones in ~/rosjava, and the ones in ~/custom_pksgs.

Originally posted by moritz with karma: 2673 on 2015-01-25
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Alexey Reshetnyak on 2015-01-26:
It helped. But I didn't have /opt/ros directory when I built Indigo from sources. So I gave up. I installed Indigo through apt-get. Directory /opt/ros appeared in the my system. Then I installed rosjava and KnowRob from sources, the key point was to source right setup.bash. Thanks!
Comment by kenari on 2015-02-16:
Alexey, thanks for sharing. Could you please explain a bit more specifically how to source  the right setup.bash?


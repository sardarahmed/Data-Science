Q:

Error when launching ekf_localization_node

I'm trying to use robot_localization package to fuse IMU and a visual estimation but, when I try to run the .launch file, it returns an error.
Terminal output:
SUMMARY
========

CLEAR PARAMETERS
 * /ekf_se/

PARAMETERS
 * /ekf_se/base_link_frame: erlecopter/base_link
 * /ekf_se/control_config: [False, False, Fa...
 * /ekf_se/control_timeout: 0.2
 * /ekf_se/debug: False
 * /ekf_se/debug_out_file: /home/javier/prue...
 * /ekf_se/frequency: 30
 * /ekf_se/imu0: /erlecopter/imu
 * /ekf_se/imu0_config: [False, False, Fa...
 * /ekf_se/imu0_differential: False
 * /ekf_se/imu0_nodelay: False
 * /ekf_se/imu0_queue_size: 5
 * /ekf_se/imu0_relative: False
 * /ekf_se/imu0_remove_gravitational_acceleration: True
 * /ekf_se/initial_estimate_covariance: ['1e-9', 0, 0, 0,...
 * /ekf_se/map_frame: map
 * /ekf_se/odom_frame: odom
 * /ekf_se/pose0: Camera_estimation
 * /ekf_se/pose0_config: [True, True, True...
 * /ekf_se/pose0_differential: True
 * /ekf_se/pose0_nodelay: False
 * /ekf_se/pose0_queue_size: 1
 * /ekf_se/pose0_relative: False
 * /ekf_se/print_diagnostics: True
 * /ekf_se/process_noise_covariance: [0.05, 0, 0, 0, 0...
 * /ekf_se/publish_acceleration: False
 * /ekf_se/publish_tf: True
 * /ekf_se/sensor_timeout: 0.6
 * /ekf_se/stamped_control: False
 * /ekf_se/transform_time_offset: 0.0
 * /ekf_se/transform_timeout: 0.0
 * /ekf_se/two_d_mode: False
 * /ekf_se/use_control: False
 * /ekf_se/world_frame: odom
 * /rosdistro: indigo
 * /rosversion: 1.11.21

NODES
  /
    ekf_se (robot_localization/ekf_localization_node)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
ERROR: cannot launch node of type [robot_localization/ekf_localization_node]: robot_localization
ROS path [0]=/opt/ros/indigo/share/ros
ROS path [1]=/home/javier/pruebas/MasPruebas/useful_info/catkin_builts/src
ROS path [2]=/home/javier/simulation/ros_catkin_WS/src/catkin_simple
// More paths
ROS path [40]=/opt/ros/indigo/share
ROS path [41]=/opt/ros/indigo/stacks
No processes to monitor
shutting down processing monitor...

This is the launch file, and it refers to a yaml (ekf_template.yaml) file with all the parameters:
<launch>
  <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se" clear_params="true">
    <rosparam command="load" file="$(find useful_info)/ekf_template.yaml" />

   <!--  Placeholder for output topic remapping
    <remap from="odometry/filtered" to=""/>
    <remap from="accel/filtered" to=""/>
    -->

  </node>
</launch>

Yaml file:
frequency: 30

sensor_timeout: 0.6

two_d_mode: false

transform_time_offset: 0.0
transform_timeout: 0.0

print_diagnostics: true

debug: false
debug_out_file: /home/javier/pruebas/MasPruebas/Data/Fallos.txt

publish_tf: true
publish_acceleration: false

map_frame: map              # Defaults to "map" if unspecified
odom_frame: odom            # Defaults to "odom" if unspecified
base_link_frame: erlecopter/base_link  # Defaults to "base_link" if unspecified
world_frame: odom           # Defaults to the value of odom_frame if unspecified

pose0: Camera_estimation
pose0_config: [true,  true,  true,
               true,  true,  true,
               false, false, false,
               false, false, false,
               false, false, false]
pose0_differential: true
pose0_relative: false
pose0_queue_size: 1
pose0_nodelay: false

imu0: /erlecopter/imu
imu0_config: [false, false, false,
               false, false, false,
               false, false, false,
               true,  true,  true,
               true,  true,  true]
imu0_differential: false
imu0_relative: false
imu0_queue_size: 5
imu0_nodelay: false
imu0_remove_gravitational_acceleration: true

use_control: false
stamped_control: false

process_noise_covariance: [numbers_matrix]

initial_estimate_covariance: [numbers_matrix]
      

Ubuntu 14.04
ROS Indigo

Originally posted by Aquas on ROS Answers with karma: 32 on 2020-04-29
Post score: 0

A:

Can you try this solution from this similar question?
https://answers.ros.org/question/333411/error-cannot-launch-node-of-type-robot_localizationekf_localization_node/
I assume you're doing this all from source?

Originally posted by Tom Moore with karma: 13689 on 2020-06-24
This answer was ACCEPTED on the original site
Post score: 1


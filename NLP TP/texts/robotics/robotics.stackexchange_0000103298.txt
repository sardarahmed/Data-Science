Q:

improve pointcloud streams

I'm having problems on how to filter those few noisy streams near the camera,
the clip is here https://youtu.be/ypiaW1GZGOA
what I've tried so far is to calibrate,
wondered if the distortion model affects those noise , the default uses plumb bob.
but upon using below config:
image_width: 640
image_height: 480
camera_name: depth_PS1080_PrimeSense
camera_matrix:
  rows: 3
  cols: 3
  data: [570.478986, 0.000000, 330.949612, 0.000000, 577.133855, 202.275876, 0.000000, 0.000000, 1.000000]
distortion_model: plumb_bob
distortion_coefficients:
  rows: 1
  cols: 5
  data: [0.034195, 0.018035, -0.022867, 0.001739, 0.000000]
rectification_matrix:
  rows: 3
  cols: 3
  data: [1.000000, 0.000000, 0.000000, 0.000000, 1.000000, 0.000000, 0.000000, 0.000000, 1.000000]
projection_matrix:
  rows: 3
  cols: 4
  data: [587.691833, 0.000000, 331.098836, 0.000000, 0.000000, 582.344971, 192.450352, 0.000000, 0.000000, 0.000000, 
  1.000000, 0.000000]

but after i use this the config, the stream is just straight vertical, most pointclouds are gone.
any suggestions would definitely help thanks!

Originally posted by n000oob on ROS Answers with karma: 15 on 2023-05-24
Post score: 0

A:

Some, at least minor, filtering is encouraged before throwing depth feeds into your costmaps for this kind of non-trivial noise around the surfaces of physical objects.
Without more information, I can't give you precise recommendations, but generally speaking PCL has a number of useful filters that when combined (or just 1 individually) can remove that kind of noise. The compute available, degree at which you want to remove noise, and the amount of data you want to decimate are all parts of the equation.
I haven't looked at literature recently on this subject, but it wouldn't surprise me if there were some techniques that might aid you as well using kernal filters.

Originally posted by stevemacenski with karma: 8272 on 2023-05-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by n000oob on 2023-05-26:
thanks! by the way is exploring pcl_ros can be use in this case? I'm using galactic version
Comment by stevemacenski on 2023-05-26:
Sure, that would work too, those are basically nodes that do the PCL individual things so you can swap them in / out easily. Its not terribly different than using PCL itself, just depends on what you're more comfortable with and how often you think you'll need to rearrange things.
Comment by n000oob on 2023-05-29:
thank you for the great help and information.


Q:

Difference in rostopic hz and fps of a camera

Hi all,
I am using turtlebot3 burger in which I'm using a rasp camera v2 attached to the Raspberry Pi with raspicam_node and a Host PC where I run my image processing nodes. Therefore, I need to transfer the captured raw images via wireless network.
I am experimenting with different resolutions and frame rates at the moment to find out which is the most effective way. However, I have a doubt about the way I validate my results. I am using rostopic hz in my raspberry pi to find out the publishing rate of the camera, which is around 35-40 FPS for 1280x720 and doing the same thing in my local pc in which I get very different results like 1-2 hz to 10-15 hz. I know that this might be about the network but my question is, when I get 1-2 hz as a result of rostopic hz, I launch rqt_image_view and somehow the displayed capture does not look like 1-2 FPS but higher. So I am wondering if there is a better way to validate regarding the frame rate I receive from the subscriber, other than rostopic hz.
Thanks in advance

Originally posted by rosberrypi on ROS Answers with karma: 75 on 2020-06-10
Post score: 0

A:

Using rostopic hz should be accurate, both rqt_image_view and rostopic hz should be accessing the same data. You can also record the images to a rosbag and look at the timestamps to get the exact timings if you don't believe it.

Originally posted by achille with karma: 464 on 2020-06-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by rosberrypi on 2020-06-12:
That is indeed what I ended up doing yesterday, I think my hesitation was because I was not waiting a certain amount of time to understand the average of the results coming from rostopic hz, so saving into a bag file for 1-2 minutes was better to understand the overall performance.Thank you for the answer.


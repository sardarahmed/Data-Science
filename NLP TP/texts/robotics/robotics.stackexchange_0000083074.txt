Q:

How can I control my robot fanuc m10 step by step in real time?

I can't get the robot to move, only to watch his present position using rviz. Is it possible to do without moveit ?
Or if not real-time, step by step with the minimum of delay?
Installed Ros on Ubuntu 16.04. As an alternative to the real robot (waiting for delivery is an option from Fanuc) use Roboguide. Karell compiled according to the instructions from the wiki and downloaded all .pc and .tp files to the controller. Launch ros.tp.
On the computer run
roslaunch fanuc_m10ia_support robot_state_vizualize_m10ia.launch robot_ip:=127.0.0.1 use_bswap:=false

Everything appears correctly!
Next run
roslaunch fanuc_m10ia_support robot_interface_streaming_m10ia.launch robot_ip:=127.0.0.1 use_bswap:=false

The controller appears RSTA connected and RREL connected.
I tried to write in various topics, but nothing happens

Originally posted by JADJER on ROS Answers with karma: 22 on 2017-09-29
Post score: 0

Original comments
Comment by gvdhoorn on 2017-09-29:
Can you explain what you've already done? How did you install things, which software are you using, etc? Please edit your original question for that.
If you can't get the robot to move at all, then something is wrong, because fanuc_driver should be able to do that.
Comment by gvdhoorn on 2017-09-29:
As to real-time / minimum delay: that is possible, but you will probably not like the performance very much. Fanuc robots don't have any external motion interface, and are not really well suited for this kind of thing.
If you need actual real-time, custom development with something like ..
Comment by gvdhoorn on 2017-09-29:
.. DPM might be more suited.
I would also recommend you install fanuc_driver_exp instead of fanuc_driver.
Comment by gvdhoorn on 2017-09-29:
Thanks for the update. Can you explain how you can run RoboGuide on Ubuntu? Or is 127.0.0.1 an example IP?
Comment by JADJER on 2017-09-29:
127.0.0.1 it's example IP
Comment by BrettHemes on 2017-12-26:
@gvdhoorn is DPM Fanuc's analog to Kuka's RSI?  Performance-wise are there any major differences?
Comment by gvdhoorn on 2017-12-27:
@BrettHemes: I wish it was. It's a real-time interface, but only for Cartesian corrections in a very limited volume around a fixed point (or at least, that's one of the methods of operation). There are a few other modes, but nothing that truely solves the Fanuc-is-missing-a-proper-external-..
Comment by gvdhoorn on 2017-12-27:
..-motion-interface.
I was sort-of hopeful that J802 would finally solve all our problems (it's even called "Remote Sensor Interface", ie: RSI), but so far it only seems to be a state reporting solution (ie: RSI with sendonly==true). No motion commanding there.
Comment by gvdhoorn on 2017-12-27:\

is DPM Fanuc's analog to Kuka's RSI

Ok so just re-read your question: yes, in a way, DPM is Fanuc's RSI (if you see RSI really only as the real-time correction interface based on some (external) sensor). But RSI is typically used as a complete control interface, and DPM is definitely not that.

A:

The controller appears RSTA connected and RREL connected.

That is good, that means that everything is connected.

I tried to write in various topics, but nothing happens

That is expected, as the driver exposes a FollowJointTrajectory action interface. It does not listen to any topics.
The /joint_state topic (for instance) is for reporting current state of the robot, not for controlling it.

Originally posted by gvdhoorn with karma: 86574 on 2017-09-29
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by JADJER on 2017-09-29:
I need to interact with FollowJointTrajectory use actionlib? Or something else? Could you explain me more how to send a command to the robot?
Comment by gvdhoorn on 2017-09-29:\

I need to interact with FollowJointTrajectory use actionlib

yes. That's it.
That's all there is to it.
But again: use fanuc_driver_exp. Not fanuc_driver.
Comment by JADJER on 2017-09-29:
fanuc_driver_exp it's just simply an updated driver for the robot controller? or am I mistaken?
Comment by JADJER on 2017-09-29:
Could you give me an example of interaction with FollowJointTrajectory?
Comment by gvdhoorn on 2017-09-30:\

fanuc_driver_exp it's just simply an updated driver for the robot controller?

yes, that is correct. It's 100% compatible with the ROS side of fanuc_driver.
Comment by gvdhoorn on 2017-09-30:\

Could you give me an example of interaction with FollowJointTrajectory?

There's no example specifically for this driver (as the concept is so generic in ROS that wouldn't make much sense). You could perhaps look at the test_move.py script in the universal_robot/ur_driver package. See ..
Comment by gvdhoorn on 2017-09-30:
.. ros-industrial/universal_robot/ur_driver/test_move.py.
Make sure to update the joint names, and set proper values for the velocities, not just time_from_start. The Karel code uses the velocity ..
Comment by gvdhoorn on 2017-09-30:
.. field from the JOINT_TRAJ_PT, not the duration.


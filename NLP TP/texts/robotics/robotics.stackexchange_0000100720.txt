Q:

Use roswtf in continuous integration

Hello everyone,
I am trying to setup a continuous integration on a GitLab repository to check whether my launch files are written correctly or not. roswtf looks the right tool to use fro my purpose, but if I print the exit code after running it it shows always zero (success), even when there are errors displayed.
Is there a way of analysing the results of roswtf - same as catkin_test_results does with the output of catkin_make run_tests? If not, can someone suggest me an alternative?
Many thanks in advance.

Originally posted by d.fenucci on ROS Answers with karma: 114 on 2021-12-03
Post score: 1

A:

check whether my launch files are written correctly or not.

Depending on what you want to check though, there's roslaunch-check. In my team we've been using it for awhile on Gitlab CI. While it's very nice tool, its error output (esp. on CI) may be unclear. I have some knowledge that I may have not yet shared publicly so ask again if you run into issues.
roswtf, which I'm a fan of, AFAIK doesn't come with .launch file checking? What's already available is more for static and dynamic checking of the system's state and doesn't include the checking for config files like .launch files IMO.
That doesn't mean you cannot implement a check using roswtf. You can write your own plugin. I'd usually recommend opening a pull request to the core library, but since you're on ROS Melodic, for which I don't think the maintainers take any new features, you'll be unlikely able to have it merged into the official core library though.

Is there a way of analysing the results of roswtf

AFAIK roswtf was originally intended to print the result to stdout without any API, so what you get on stdout might be everything (I wish I am wrong but haven't found a way to programatycally interact with its output). I think I've tried to add API but I can't find a PR. Ayways, I'd answer as no to your question.

Originally posted by 130s with karma: 10937 on 2021-12-08
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by d.fenucci on 2021-12-08:
Thanks, I did not know the existence of roslaunch_check. That looks like exactly what I was looking after.


Q:

Is it possible to use more than one kinect with ROS?

Hi, I'm currently using kinect with ROS diamondback and openni_kinect (ubuntu stable package). When I connect two kinect sensors to my laptop, only one kinect can publish topics. Is there any driver that enable multiple kinects?

Originally posted by freebody on ROS Answers with karma: 23 on 2011-05-13
Post score: 2

A:

It should just be a matter of editing the openni_node.launch file that comes with the installation.  There are examples of how to choose an openni_camera with different types of enumeration.  Here is the launch file in Mercurial: https://kforge.ros.org/openni/openni_ros/file/6794bbd92d89/openni_camera/launch/openni_node.launch
Just copy the node section for the Kinect and add the enumeration of the second device.
<launch>
<arg name="debug" default="false"/>
<arg if="$(arg debug)" name="launch_prefix" value="xterm -rv -e gdb -ex run -args"/>
<arg unless="$(arg debug)" name="launch_prefix" value=""/>
<node pkg="openni_camera" type="openni_node" name="openni_node1" output="screen" launch-prefix="$(arg launch_prefix)">
    <param name="device_id" value="#1"/> <!-- this line uses first enumerated device -->
    <rosparam command="load" file="$(find openni_camera)/info/openni_params.yaml" />
    <param name="rgb_frame_id" value="/openni_rgb_optical_frame1" />
    <param name="depth_frame_id" value="/openni_depth_optical_frame1" />
    <param name="use_indices" value="false" />
    <param name="depth_registration" value="true" />
    <param name="image_mode" value="2" />
    <param name="depth_mode" value="2" />
    <param name="debayering" value="2" />
    <param name="depth_time_offset" value="0" />
    <param name="image_time_offset" value="0" />
</node>
<node pkg="openni_camera" type="openni_node" name="openni_node2" output="screen" launch-prefix="$(arg launch_prefix)">
    <param name="device_id" value="#2"/> <!-- this line uses second enumerated device -->
    <rosparam command="load" file="$(find openni_camera)/info/openni_params.yaml" />
    <param name="rgb_frame_id" value="/openni_rgb_optical_frame2" />
    <param name="depth_frame_id" value="/openni_depth_optical_frame2" />
    <param name="use_indices" value="false" />
    <param name="depth_registration" value="true" />
    <param name="image_mode" value="2" />
    <param name="depth_mode" value="2" />
    <param name="debayering" value="2" />
    <param name="depth_time_offset" value="0" />
    <param name="image_time_offset" value="0" />
</node>
<include file="$(find openni_camera)/launch/kinect_frames.launch"/>
</launch>

You will also want to update your kinect_frames launch file for the pair of kinects.  I would suggest pursuing a URDF file and joint_state_publisher, as the static transforms can become mind-numbing after a while.

Originally posted by mjcarroll with karma: 6414 on 2011-05-13
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by mjcarroll on 2011-05-25:
I'm not positive that this will work, but it should be close.  You can also look into the  tag in the launch file, it may be easier.


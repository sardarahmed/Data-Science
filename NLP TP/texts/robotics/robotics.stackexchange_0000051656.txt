Q:

Error in ´rosmake rgbdslam_freiburg´: "undefined reference to GOMP ..."

Hi
rosmake rgbdslam_freiburg
I get this error:
{-------------------------------------------------------------------------------
  make[3]: se ingresa al directorio «/root/ros_workspace/rgbdslam_freiburg/rgbdslam/build»
  make[3]: se sale del directorio «/root/ros_workspace/rgbdslam_freiburg/rgbdslam/build»
  make[3]: se ingresa al directorio «/root/ros_workspace/rgbdslam_freiburg/rgbdslam/build»
  Linking CXX executable ../bin/rgbdslam
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_sections_next'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_sections_end_nowait'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_atomic_start'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_atomic_end'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_sections_next'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_parallel_sections_start'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/node.cpp:1404: error: undefined reference to 'GOMP_parallel_end'
  /usr/include/eigen3/Eigen/src/Core/products/GeneralMatrixMatrix.h:92: error: undefined reference to 'omp_get_thread_num'
  /usr/include/eigen3/Eigen/src/Core/products/GeneralMatrixMatrix.h:93: error: undefined reference to 'omp_get_num_threads'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_num_threads'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_thread_num'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_num_threads'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_thread_num'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_num_threads'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_thread_num'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_start'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_end'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_start'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_end'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_start'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_end'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/misc.cpp:873: error: undefined reference to 'GOMP_atomic_start'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/misc.cpp:863: error: undefined reference to 'GOMP_atomic_end'
  /root/ros_workspace/rgbdslam_freiburg/rgbdslam/src/misc.cpp:863: error: undefined reference to 'GOMP_parallel_start'
  /usr/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
  collect2: ld devolvió el estado de salida 1
  make[3]: *** [../bin/rgbdslam] Error 1
  make[3]: se sale del directorio «/root/ros_workspace/rgbdslam_freiburg/rgbdslam/build»
  make[2]: *** [CMakeFiles/rgbdslam.dir/all] Error 2
  make[2]: se sale del directorio «/root/ros_workspace/rgbdslam_freiburg/rgbdslam/build»
  make[1]: *** [all] Error 2
  make[1]: se sale del directorio «/root/ros_workspace/rgbdslam_freiburg/rgbdslam/build»

Some suggestion??

Originally posted by kuroro on ROS Answers with karma: 1 on 2013-06-03
Post score: 0

A:

As this error also appears in the Eigen sources I would guess that you have a corrupted setup or lack support for OpenMP.
If you can't solve it otherwise, you could try to remove all lines containing #pragma omp from rgbdslam, the effect should be minimal. But this won't solve the issues with it in the Eigen code.

Originally posted by Felix Endres with karma: 6468 on 2013-06-07
This answer was ACCEPTED on the original site
Post score: 0


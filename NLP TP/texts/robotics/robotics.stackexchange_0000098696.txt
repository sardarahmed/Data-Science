Q:

how to start a map

i want to add a map node to my robot but I don't where to put it, this is my launch file
<?xml version="1.0"?>
<launch>
<include file="$(find gazebo_ros)/launch/willowgarage_world.launch">
  </include>
  <param name="robot_description" command="cat '$(find robot)/urdf/robot.xacro'"/>
  
  <arg name="x" default="0"/>
  <arg name="y" default="0"/>
  <arg name="z" default="0.5"/>
  
  <node name="robot_spawn" pkg="gazebo_ros" type="spawn_model" output="screen"
      args="-urdf -param robot_description -model robot -x $(arg x) -y $(arg y) -z $(arg z)" />
      
<!-- send fake joint values -->
<node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
  <param name="use_gui" value="False"/>
</node>

<!-- Combine joint values -->
<node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher"/>
<!-- Show in Rviz   -->
<node name="rviz" pkg="rviz" type="rviz" />

</launch>

when I start a rviz and add map I get the message "No map received" what should I do now?
and when use
rostopic list

I am getting these topics
/clicked_point
/clock
/cmd_vel
/gazebo/link_states
/gazebo/model_states
/gazebo/parameter_descriptions
/gazebo/parameter_updates
/gazebo/set_link_state
/gazebo/set_model_state
/initialpose
/joint_states
/move_base_simple/goal
/odom
/robot/laser/scan
/rosout
/rosout_agg
/tf
/tf_static

Originally posted by harish556 on ROS Answers with karma: 74 on 2021-03-31
Post score: 0

A:

If you already have a map in YAML format and as an PGM file (or other compatible format)  you need to run map_server to publish the map on a ros topic.
To add it to your launch file include this:
<node name="map_server" pkg="map_server" type="map_server" args="$(find your_package_name)/map/your_map_name.yaml"/>

Originally posted by Roberto Z. with karma: 500 on 2021-04-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by harish556 on 2021-04-02:
I don't have a YAML file. how should I create one?
Comment by Roberto Z. on 2021-04-03:
See @tryan 's answer on how to create a map.


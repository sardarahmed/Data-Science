Q:

How to provide enclave argument when running with launch file

I'm trying to enable SROS2 on our existing ROS2 nodes, which use launch files.
I have created a keystore and keys for the node and now I'm wondering how to pass a pointer to these when launching the node.
Basically I suppose I want to find a launch file equivalent for this cli sample command:
ros2 run demo_nodes_cpp talker --ros-args --enclave /talker_listener/talker

Our existing launch file is rather simple and looks like this:
<launch>
  <node name="control_node" pkg="ros2node_ctrl" exec="ros2node_ctrl" namespace='$(env NODE_DEVICE>
    <param name="udp_remote_port" value="xxxxx"/>
    <param name="target_ip" value="xxx.xxx.xxx.xxx"/>
  </node>
</launch>

I tried adding a parameter with name "enclave" in the launch file but didn't seem to work.

Originally posted by quinz on ROS Answers with karma: 18 on 2021-03-05
Post score: 0

A:

Managed to solve this by adding --ros-args as "args" in the <node>:
<node name="control_node" pkg="ros2node_ctrl" exec="ros2node_ctrl" args="--ros-args --enclave $(env NODE_ENCLAVE)" namespace='$(env NODE_DEVICE)'>

Originally posted by quinz with karma: 18 on 2021-03-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by wienans on 2022-12-12:
@quinz you should mark this as answere so others can see that the question was answered
Comment by quinz on 2022-12-12:
Good point @wienans. Done :)


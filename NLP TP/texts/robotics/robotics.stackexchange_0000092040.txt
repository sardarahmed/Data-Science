Q:

Scripts don't see ROS if executed by ProcessBuilder()

I want to execute a script with a ProcessBuilder(). My code is:
new ProcessBuilder().inheritIO().command("/bin/bash", "-c", "./deploy.sh").start();

In the bash script I have:
#!/bin/bash
rosrun my_package ardrone_test_1.py

It works if I run the bash script manually in the terminal, but if I do with the ProcessBuilder I got an error:
rosrun: command not found

The same if I run python scripts which uses ROS. There are errors that some package are not found, whereas it works fine if run via terminal.

Originally posted by Cipek on ROS Answers with karma: 5 on 2019-06-14
Post score: 0

A:

You need to source setup.bash first in order for the environment to work. In your deploy.sh add a line like "source /your/ros_ws/devel/setup.bash" before you call rosrun

Originally posted by davrsky with karma: 26 on 2019-06-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Cipek on 2019-06-20:
I have been looking for the solution really long and that worked! Thank you.


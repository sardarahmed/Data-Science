Q:

unexpected results from laser sensors

Hi
I've configured my robot with two inclined laser scanner, then I've wrote some plugin to record laser data and ground truth pose of the robot. I've tried a very simple environment with only the z=0.
I notice that taking the data acquired by sensor, converting them from polar to cartesian and composing with the robot pose, the reconstructed plane is slightly different from the z=0 plane: the minimum height of the point cloud is about 0.002m (~2mm), while the maximum height is about 0.015mm (~1.5cm).
The curious thing is that height is maximum with laser beam acquired at small angles, while decrease with lateral angles. I was expecting that, since there is no noise addition, all the points should be exactly at z=0.
Why this does not happens? Is it related to the ray tracing process performed in the simulation? It depends on the surface of the objects?

Originally posted by SImone on Gazebo Answers with karma: 33 on 2013-03-19
Post score: 0

Original comments
Comment by nkoenig on 2013-03-19:
Can you please post the SDF used to create the laser and robot?
Comment by SImone on 2013-03-25:
here https://www.box.com/s/1r97diyyes6ye2tty06w there is the model, sorry for the late in the answer. I've commented out all my plugins invocation, they do not perform anything more than logging data.
Comment by SImone on 2013-03-28:
I've created a very simple sdf model, with only a laser scanner and some wall as references. I've packed in this file both the model, the world and the results of the scans plotted with an octave script: https://www.box.com/s/bgclvkgn6rtbuzyd9uua. The problem is still present: ranges does not correspond to a line, but have a bell shaped curve. In the packed file you can find a readme.txt file that explain all the details.
Comment by SImone on 2013-04-03:
any news on this topic?
Comment by hsu on 2013-04-03:
what version of gazebo are you running?  There was a known bug that got resolved by pull request #351 https://bitbucket.org/osrf/gazebo/pull-request/351/fix-pose-computation-in-raysensor/diff in the default branch.
Comment by SImone on 2013-04-04:
no, this is not my the case for two reasons:

the bug you refer was noticed by me
the errors are in the ray length, as clearly demostrated with the second experiment I've posted, where measurement are expressed in laser reference frame and not in world reference frame

A:

This was solved since version 1.6.3 (see change log http://gazebosim.org/wiki/Change_log)

Originally posted by SImone with karma: 33 on 2013-05-08
This answer was ACCEPTED on the original site
Post score: 0


Q:

problem building ar_track_alvar from source

I am trying to build ar_track_alvar from source which depends on pcl_ros. I recently updated all the packages but this package seems to depend on previous version of pcl how can I build this package without going back to the previous version of pcl. the erro is:
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MultiMarker.h:35,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/src/SampleMarkerCreator.cpp:1:
/usr/include/pcl-1.7/pcl/ros/conversions.h:44:2: warning: #warning The <pcl/ros/conversions.h> header is deprecated. please use <pcl/conversions.h> instead. [-Wcpp]
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:37:
/usr/include/pcl-1.7/pcl/ros/conversions.h:44:2: warning: #warning The <pcl/ros/conversions.h> header is deprecated. please use <pcl/conversions.h> instead. [-Wcpp]
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundlesNoKinect.cpp:39:
/usr/include/pcl-1.7/pcl/ros/conversions.h:44:2: warning: #warning The <pcl/ros/conversions.h> header is deprecated. please use <pcl/conversions.h> instead. [-Wcpp]
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:39:
/usr/include/pcl-1.7/pcl/ros/conversions.h:44:2: warning: #warning The <pcl/ros/conversions.h> header is deprecated. please use <pcl/conversions.h> instead. [-Wcpp]
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp: In function 'int PlaneFitPoseImprovement(int, const ARCloud&, pcl::PointCloud<pcl::PointXYZRGB>::Ptr, const ARCloud&, alvar::Pose&)':
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:296:36: error: no match for 'operator=' in 'pose.geometry_msgs::PoseStamped_<std::allocator<void> >::header.std_msgs::Header_<std::allocator<void> >::stamp = cloud.pcl::PointCloud<pcl::PointXYZRGB>::header.pcl::PCLHeader::stamp'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:296:36: note: candidate is:
In file included from /opt/ros/hydro/include/ros/ros.h:38:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Camera.h:40,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/ConnectedComponents.h:36,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:35,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:37:
/opt/ros/hydro/include/ros/time.h:169:22: note: ros::Time& ros::Time::operator=(const ros::Time&)
/opt/ros/hydro/include/ros/time.h:169:22: note:   no known conversion for argument 1 from 'const uint64_t {aka const long unsigned int}' to 'const ros::Time&'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp: In function 'void getPointCloudCallback(const PointCloud2ConstPtr&)':
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:619:39: error: no matching function for call to 'toROSMsg(ARCloud&, sensor_msgs::Image_<std::allocator<void> >&)'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:619:39: note: candidates are:
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:37:
/usr/include/pcl-1.7/pcl/ros/conversions.h:98:3: note: template<class PointT> void pcl::toROSMsg(const pcl::PointCloud<PointT>&, pcl::PCLPointCloud2&)
/usr/include/pcl-1.7/pcl/ros/conversions.h:98:3: note:   template argument deduction/substitution failed:
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:619:39: note:   cannot convert 'image_msg.boost::shared_ptr<T>::operator*<sensor_msgs::Image_<std::allocator<void> > >()' (type 'sensor_msgs::Image_<std::allocator<void> >') to type 'pcl::PCLPointCloud2&'
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:37:
/usr/include/pcl-1.7/pcl/ros/conversions.h:113:3: note: template<class CloudT> void pcl::toROSMsg(const CloudT&, pcl::PCLImage&)
/usr/include/pcl-1.7/pcl/ros/conversions.h:113:3: note:   template argument deduction/substitution failed:
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:619:39: note:   cannot convert 'image_msg.boost::shared_ptr<T>::operator*<sensor_msgs::Image_<std::allocator<void> > >()' (type 'sensor_msgs::Image_<std::allocator<void> >') to type 'pcl::PCLImage&'
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:37:
/usr/include/pcl-1.7/pcl/ros/conversions.h:127:3: note: void pcl::toROSMsg(const pcl::PCLPointCloud2&, pcl::PCLImage&)
/usr/include/pcl-1.7/pcl/ros/conversions.h:127:3: note:   no known conversion for argument 1 from 'ARCloud {aka pcl::PointCloud<pcl::PointXYZRGB>}' to 'const pcl::PCLPointCloud2&'
In file included from /opt/ros/hydro/include/pcl_ros/point_cloud.h:9:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:54,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:37:
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:456:8: note: void pcl::toROSMsg(const PointCloud2&, sensor_msgs::Image&)
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:456:8: note:   no known conversion for argument 1 from 'ARCloud {aka pcl::PointCloud<pcl::PointXYZRGB>}' to 'const PointCloud2& {aka const sensor_msgs::PointCloud2_<std::allocator<void> >&}'
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:478:8: note: template<class T> void pcl::toROSMsg(const pcl::PointCloud<PointT>&, sensor_msgs::PointCloud2&)
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:478:8: note:   template argument deduction/substitution failed:
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/FindMarkerBundles.cpp:619:39: note:   cannot convert 'image_msg.boost::shared_ptr<T>::operator*<sensor_msgs::Image_<std::allocator<void> > >()' (type 'sensor_msgs::Image_<std::allocator<void> >') to type 'sensor_msgs::PointCloud2& {aka sensor_msgs::PointCloud2_<std::allocator<void> >&}'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp: In function 'int PlaneFitPoseImprovement(int, const ARCloud&, pcl::PointCloud<pcl::PointXYZRGB>::Ptr, const ARCloud&, alvar::Pose&)':
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:185:36: error: no match for 'operator=' in 'pose.geometry_msgs::PoseStamped_<std::allocator<void> >::header.std_msgs::Header_<std::allocator<void> >::stamp = cloud.pcl::PointCloud<pcl::PointXYZRGB>::header.pcl::PCLHeader::stamp'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:185:36: note: candidate is:
In file included from /opt/ros/hydro/include/ros/ros.h:38:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Camera.h:40,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/ConnectedComponents.h:36,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:35,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:39:
/opt/ros/hydro/include/ros/time.h:169:22: note: ros::Time& ros::Time::operator=(const ros::Time&)
/opt/ros/hydro/include/ros/time.h:169:22: note:   no known conversion for argument 1 from 'const uint64_t {aka const long unsigned int}' to 'const ros::Time&'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp: In function 'void getPointCloudCallback(const PointCloud2ConstPtr&)':
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:321:37: error: no matching function for call to 'toROSMsg(ARCloud&, sensor_msgs::Image_<std::allocator<void> >&)'
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:321:37: note: candidates are:
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:39:
/usr/include/pcl-1.7/pcl/ros/conversions.h:98:3: note: template<class PointT> void pcl::toROSMsg(const pcl::PointCloud<PointT>&, pcl::PCLPointCloud2&)
/usr/include/pcl-1.7/pcl/ros/conversions.h:98:3: note:   template argument deduction/substitution failed:
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:321:37: note:   cannot convert 'image_msg.boost::shared_ptr<T>::operator*<sensor_msgs::Image_<std::allocator<void> > >()' (type 'sensor_msgs::Image_<std::allocator<void> >') to type 'pcl::PCLPointCloud2&'
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:39:
/usr/include/pcl-1.7/pcl/ros/conversions.h:113:3: note: template<class CloudT> void pcl::toROSMsg(const CloudT&, pcl::PCLImage&)
/usr/include/pcl-1.7/pcl/ros/conversions.h:113:3: note:   template argument deduction/substitution failed:
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:321:37: note:   cannot convert 'image_msg.boost::shared_ptr<T>::operator*<sensor_msgs::Image_<std::allocator<void> > >()' (type 'sensor_msgs::Image_<std::allocator<void> >') to type 'pcl::PCLImage&'
In file included from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:42:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:39:
/usr/include/pcl-1.7/pcl/ros/conversions.h:127:3: note: void pcl::toROSMsg(const pcl::PCLPointCloud2&, pcl::PCLImage&)
/usr/include/pcl-1.7/pcl/ros/conversions.h:127:3: note:   no known conversion for argument 1 from 'ARCloud {aka pcl::PointCloud<pcl::PointXYZRGB>}' to 'const pcl::PCLPointCloud2&'
In file included from /opt/ros/hydro/include/pcl_ros/point_cloud.h:9:0,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/filter/kinect_filtering.h:54,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/Marker.h:42,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/include/ar_track_alvar/MarkerDetector.h:38,
                 from /home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:39:
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:456:8: note: void pcl::toROSMsg(const PointCloud2&, sensor_msgs::Image&)
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:456:8: note:   no known conversion for argument 1 from 'ARCloud {aka pcl::PointCloud<pcl::PointXYZRGB>}' to 'const PointCloud2& {aka const sensor_msgs::PointCloud2_<std::allocator<void> >&}'
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:478:8: note: template<class T> void pcl::toROSMsg(const pcl::PointCloud<PointT>&, sensor_msgs::PointCloud2&)
/opt/ros/hydro/include/pcl_conversions/pcl_conversions.h:478:8: note:   template argument deduction/substitution failed:
/home/akhil/catkin_ws/src/ar_track_alvar/nodes/IndividualMarkers.cpp:321:37: note:   cannot convert 'image_msg.boost::shared_ptr<T>::operator*<sensor_msgs::Image_<std::allocator<void> > >()' (type 'sensor_msgs::Image_<std::allocator<void> >') to type 'sensor_msgs::PointCloud2& {aka sensor_msgs::PointCloud2_<std::allocator<void> >&}'
make[2]: *** [ar_track_alvar/CMakeFiles/findMarkerBundles.dir/nodes/FindMarkerBundles.cpp.o] Error 1
make[1]: *** [ar_track_alvar/CMakeFiles/findMarkerBundles.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
Linking CXX executable /home/akhil/catkin_ws/devel/lib/ar_track_alvar/createMarker
make[2]: *** [ar_track_alvar/CMakeFiles/individualMarkers.dir/nodes/IndividualMarkers.cpp.o] Error 1
make[1]: *** [ar_track_alvar/CMakeFiles/individualMarkers.dir/all] Error 2
Linking CXX executable /home/akhil/catkin_ws/devel/lib/ar_track_alvar/findMarkerBundlesNoKinect
[ 96%] Built target createMarker
[ 96%] Built target findMarkerBundlesNoKinect
make: *** [all] Error 2
Invoking "make" failed

Originally posted by akhil on ROS Answers with karma: 32 on 2014-12-01
Post score: 0

A:

I assume you've upgraded from one version of ROS to another; probably from Groovy to Hydro. Which branch of at_track_alvar are you trying to build?
ar_track_alvar is fairly well maintained; the hydro-devel branch should build on Hydro without issues.

Originally posted by ahendrix with karma: 47576 on 2014-12-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by akhil on 2014-12-01:
thanks for your answer yes i recently updated to hydro and was using groovy branch !!


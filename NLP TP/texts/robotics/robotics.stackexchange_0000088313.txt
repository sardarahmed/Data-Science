Q:

how bare-bones can ros2 get?

I've been experimenting with ros2 on a raspberry pi zero and a co-worker asked a pretty interesting question. If all I want from ros2 is the communication system, how bare-bones can I get?
In other words, what are the absolutely necessary parts of ros2 and what can I do without?
Thanks!

Originally posted by LiamNelson on ROS Answers with karma: 21 on 2018-08-02
Post score: 1

A:

If you want only the communication system to work, then you can find the dependencies for the examples packages.
You will still have to compile some core packages like RCL, RMW, DDS, default messages and build packages. However, you will have all the publishers/subscriber functionalities.
If that helps, I followed those steps a few time back and it gave me the following results for the subscriber. It can be reduced as it is fetching openslice and fastrtps dds libraries.
Install:
export ROSDISTRO_INDEX_URL='https://raw.githubusercontent.com/ros2/rosdistro/ros2/index.yaml'
sudo apt-get install python-rosinstall-generator

Run:
rosinstall_generator examples_rclcpp_minimal_publisher --rosdistro bouncy --deps

- git:
    local-name: ament_cmake/ament_cmake
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_core
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_core/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_export_definitions
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_export_definitions/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_export_dependencies
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_export_dependencies/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_export_include_directories
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_export_include_directories/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_export_interfaces
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_export_interfaces/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_export_libraries
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_export_libraries/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_export_link_flags
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_export_link_flags/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_gmock
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_gmock/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_gtest
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_gtest/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_libraries
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_libraries/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_pytest
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_pytest/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_python
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_python/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_target_dependencies
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_target_dependencies/0.5.1-0
- git:
    local-name: ament_cmake/ament_cmake_test
    uri: https://github.com/ros2-gbp/ament_cmake-release.git
    version: release/bouncy/ament_cmake_test/0.5.1-0
- git:
    local-name: ament_cmake_ros
    uri: https://github.com/ros2-gbp/ament_cmake_ros-release.git
    version: release/bouncy/ament_cmake_ros/0.5.0-0
- git:
    local-name: ament_index/ament_index_python
    uri: https://github.com/ros2-gbp/ament_index-release.git
    version: release/bouncy/ament_index_python/0.5.1-0
- git:
    local-name: ament_lint/ament_cmake_copyright
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_copyright/0.5.2-0
- git:
    local-name: ament_lint/ament_cmake_cppcheck
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_cppcheck/0.5.2-0
- git:
    local-name: ament_lint/ament_cmake_cpplint
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_cpplint/0.5.2-0
- git:
    local-name: ament_lint/ament_cmake_flake8
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_flake8/0.5.2-0
- git:
    local-name: ament_lint/ament_cmake_lint_cmake
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_lint_cmake/0.5.2-0
- git:
    local-name: ament_lint/ament_cmake_pep257
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_pep257/0.5.2-0
- git:
    local-name: ament_lint/ament_cmake_uncrustify
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_cmake_uncrustify/0.5.2-0
- git:
    local-name: ament_lint/ament_copyright
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_copyright/0.5.2-0
- git:
    local-name: ament_lint/ament_flake8
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_flake8/0.5.2-0
- git:
    local-name: ament_lint/ament_lint_auto
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_lint_auto/0.5.2-0
- git:
    local-name: ament_lint/ament_lint_cmake
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_lint_cmake/0.5.2-0
- git:
    local-name: ament_lint/ament_lint_common
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_lint_common/0.5.2-0
- git:
    local-name: ament_lint/ament_pep257
    uri: https://github.com/ros2-gbp/ament_lint-release.git
    version: release/bouncy/ament_pep257/0.5.2-0
- git:
    local-name: ament_package
    uri: https://github.com/ros2-gbp/ament_package-release.git
    version: release/bouncy/ament_package/0.5.2-0
- git:
    local-name: common_interfaces/std_msgs
    uri: https://github.com/ros2-gbp/common_interfaces-release.git
    version: release/bouncy/std_msgs/0.5.0-1
- git:
    local-name: examples/examples_rclcpp_minimal_publisher
    uri: https://github.com/ros2-gbp/examples-release.git
    version: release/bouncy/examples_rclcpp_minimal_publisher/0.5.1-0
- git:
    local-name: fastcdr
    uri: https://github.com/ros2-gbp/fastcdr-release.git
    version: release/bouncy/fastcdr/1.0.7-0
- git:
    local-name: fastrtps
    uri: https://github.com/ros2-gbp/fastrtps-release.git
    version: release/bouncy/fastrtps/1.6.0-5
- git:
    local-name: launch/launch
    uri: https://github.com/ros2-gbp/launch-release.git
    version: release/bouncy/launch/0.5.2-0
- git:
    local-name: launch/launch_testing
    uri: https://github.com/ros2-gbp/launch-release.git
    version: release/bouncy/launch_testing/0.5.2-0
- git:
    local-name: libyaml_vendor
    uri: https://github.com/ros2-gbp/libyaml_vendor-release.git
    version: release/bouncy/libyaml_vendor/1.0.0-0
- git:
    local-name: osrf_pycommon
    uri: https://github.com/ros2-gbp/osrf_pycommon-release.git
    version: release/bouncy/osrf_pycommon/0.1.5-0
- git:
    local-name: osrf_testing_tools_cpp/osrf_testing_tools_cpp
    uri: https://github.com/ros2-gbp/osrf_testings_tools_cpp-release.git
    version: release/bouncy/osrf_testing_tools_cpp/1.0.0-0
- git:
    local-name: poco_vendor
    uri: https://github.com/ros2-gbp/poco_vendor-release.git
    version: release/bouncy/poco_vendor/1.1.1-0
- git:
    local-name: rcl/rcl
    uri: https://github.com/ros2-gbp/rcl-release.git
    version: release/bouncy/rcl/0.5.1-0
- git:
    local-name: rcl/rcl_yaml_param_parser
    uri: https://github.com/ros2-gbp/rcl-release.git
    version: release/bouncy/rcl_yaml_param_parser/0.5.1-0
- git:
    local-name: rcl_interfaces/builtin_interfaces
    uri: https://github.com/ros2-gbp/rcl_interfaces-release.git
    version: release/bouncy/builtin_interfaces/0.5.0-3
- git:
    local-name: rcl_interfaces/rcl_interfaces
    uri: https://github.com/ros2-gbp/rcl_interfaces-release.git
    version: release/bouncy/rcl_interfaces/0.5.0-3
- git:
    local-name: rcl_interfaces/rosgraph_msgs
    uri: https://github.com/ros2-gbp/rcl_interfaces-release.git
    version: release/bouncy/rosgraph_msgs/0.5.0-3
- git:
    local-name: rcl_interfaces/test_msgs
    uri: https://github.com/ros2-gbp/rcl_interfaces-release.git
    version: release/bouncy/test_msgs/0.5.0-3
- git:
    local-name: rclcpp/rclcpp
    uri: https://github.com/ros2-gbp/rclcpp-release.git
    version: release/bouncy/rclcpp/0.5.1-0
- git:
    local-name: rcutils
    uri: https://github.com/ros2-gbp/rcutils-release.git
    version: release/bouncy/rcutils/0.5.1-0
- git:
    local-name: rmw/rmw
    uri: https://github.com/ros2-gbp/rmw-release.git
    version: release/bouncy/rmw/0.5.0-0
- git:
    local-name: rmw/rmw_implementation_cmake
    uri: https://github.com/ros2-gbp/rmw-release.git
    version: release/bouncy/rmw_implementation_cmake/0.5.0-0
- git:
    local-name: rmw_connext/rmw_connext_cpp
    uri: https://github.com/ros2-gbp/rmw_connext-release.git
    version: release/bouncy/rmw_connext_cpp/0.5.1-0
- git:
    local-name: rmw_connext/rmw_connext_shared_cpp
    uri: https://github.com/ros2-gbp/rmw_connext-release.git
    version: release/bouncy/rmw_connext_shared_cpp/0.5.1-0
- git:
    local-name: rmw_fastrtps/fastrtps_cmake_module
    uri: https://github.com/ros2-gbp/rmw_fastrtps-release.git
    version: release/bouncy/fastrtps_cmake_module/0.5.1-0
- git:
    local-name: rmw_fastrtps/rmw_fastrtps_cpp
    uri: https://github.com/ros2-gbp/rmw_fastrtps-release.git
    version: release/bouncy/rmw_fastrtps_cpp/0.5.1-0
- git:
    local-name: rmw_implementation
    uri: https://github.com/ros2-gbp/rmw_implementation-release.git
    version: release/bouncy/rmw_implementation/0.5.1-0
- git:
    local-name: rmw_opensplice_cpp
    uri: https://github.com/ros2-gbp/rmw_opensplice-release.git
    version: release/bouncy/rmw_opensplice_cpp/0.5.2-0
- git:
    local-name: rosidl/rosidl_cmake
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_cmake/0.5.1-0
- git:
    local-name: rosidl/rosidl_generator_c
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_generator_c/0.5.1-0
- git:
    local-name: rosidl/rosidl_generator_cpp
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_generator_cpp/0.5.1-0
- git:
    local-name: rosidl/rosidl_parser
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_parser/0.5.1-0
- git:
    local-name: rosidl/rosidl_typesupport_interface
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_typesupport_interface/0.5.1-0
- git:
    local-name: rosidl/rosidl_typesupport_introspection_c
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_typesupport_introspection_c/0.5.1-0
- git:
    local-name: rosidl/rosidl_typesupport_introspection_cpp
    uri: https://github.com/ros2-gbp/rosidl-release.git
    version: release/bouncy/rosidl_typesupport_introspection_cpp/0.5.1-0
- git:
    local-name: rosidl_defaults/rosidl_default_generators
    uri: https://github.com/ros2-gbp/rosidl_defaults-release.git
    version: release/bouncy/rosidl_default_generators/0.5.0-0
- git:
    local-name: rosidl_defaults/rosidl_default_runtime
    uri: https://github.com/ros2-gbp/rosidl_defaults-release.git
    version: release/bouncy/rosidl_default_runtime/0.5.0-0
- git:
    local-name: rosidl_generator_dds_idl
    uri: https://github.com/ros2-gbp/rosidl_dds-release.git
    version: release/bouncy/rosidl_generator_dds_idl/0.5.0-0
- git:
    local-name: rosidl_python/python_cmake_module
    uri: https://github.com/ros2-gbp/rosidl_python-release.git
    version: release/bouncy/python_cmake_module/0.5.2-0
- git:
    local-name: rosidl_python/rosidl_generator_py
    uri: https://github.com/ros2-gbp/rosidl_python-release.git
    version: release/bouncy/rosidl_generator_py/0.5.2-0
- git:
    local-name: rosidl_typesupport/rosidl_typesupport_c
    uri: https://github.com/ros2-gbp/rosidl_typesupport-release.git
    version: release/bouncy/rosidl_typesupport_c/0.5.0-2
- git:
    local-name: rosidl_typesupport/rosidl_typesupport_cpp
    uri: https://github.com/ros2-gbp/rosidl_typesupport-release.git
    version: release/bouncy/rosidl_typesupport_cpp/0.5.0-2
- git:
    local-name: rosidl_typesupport_connext/connext_cmake_module
    uri: https://github.com/ros2-gbp/rosidl_typesupport_connext-release.git
    version: release/bouncy/connext_cmake_module/0.5.3-0
- git:
    local-name: rosidl_typesupport_connext/rosidl_typesupport_connext_c
    uri: https://github.com/ros2-gbp/rosidl_typesupport_connext-release.git
    version: release/bouncy/rosidl_typesupport_connext_c/0.5.3-0
- git:
    local-name: rosidl_typesupport_connext/rosidl_typesupport_connext_cpp
    uri: https://github.com/ros2-gbp/rosidl_typesupport_connext-release.git
    version: release/bouncy/rosidl_typesupport_connext_cpp/0.5.3-0
- git:
    local-name: rosidl_typesupport_opensplice/opensplice_cmake_module
    uri: https://github.com/ros2-gbp/rosidl_typesupport_opensplice-release.git
    version: release/bouncy/opensplice_cmake_module/0.5.0-0
- git:
    local-name: rosidl_typesupport_opensplice/rosidl_typesupport_opensplice_c
    uri: https://github.com/ros2-gbp/rosidl_typesupport_opensplice-release.git
    version: release/bouncy/rosidl_typesupport_opensplice_c/0.5.0-0
- git:
    local-name: rosidl_typesupport_opensplice/rosidl_typesupport_opensplice_cpp
    uri: https://github.com/ros2-gbp/rosidl_typesupport_opensplice-release.git
    version: release/bouncy/rosidl_typesupport_opensplice_cpp/0.5.0-0

Originally posted by pokitoz with karma: 527 on 2018-08-03
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Dirk Thomas on 2019-03-26:
You don't need a custom ROSDISTRO_INDEX_URL anymore. The ROS 2 distros have been integrated into https://github.com/ros/rosdistro.


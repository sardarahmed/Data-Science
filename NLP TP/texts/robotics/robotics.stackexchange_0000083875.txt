Q:

How to calculate localization error for a robot moving in a custom map using amcl and navigation stack?

I have a robot simulated in gazebo and rviz along with a map. I can use amcl to have it localized and move to a specific spot in the map.
But, how can I guage how accurate the localization is over the course of the robot's navigations? Is there a way to calculate that?
My robot has only camera and a laser rangefinder as sensors and nothing else. And when it reaches the goal it seems to be the exact position.
How do I figure out how well or poorly the localization did?

Originally posted by nemesis on ROS Answers with karma: 237 on 2017-11-13
Post score: 0

A:

If you're using gazebo, you can subscribe to the /gazebo/model_states topic and compare it to the output of amcl. You can use rqt_plot to visualize or write your own node to analyze the data.
One thing you will need to take into account is that the gazebo model position on the world may not match the position on the ROS system, since it depends how the model has been initialized, so you may have some x, y or theta offsets.

Originally posted by Gary Servin with karma: 962 on 2017-11-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by nemesis on 2017-11-20:
Thank you. I will try to implement this and check. Quick question - I haven't added an IMU to my simulated robot. I am wondering if there would still be any kind of localization error without an IMU? Since the robot seems to stop at the exact goal position always. Or is the latter not important?


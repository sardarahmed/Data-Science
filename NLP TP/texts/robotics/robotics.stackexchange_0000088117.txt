Q:

RTPS_HISTORY ERROR

I have a RTI CONNEXT  installation on my machine. Now whenever I run a node in ROS2, e.g. talker.py, I always get a runtime error : [RTPS_HISTORY Error] Change payload size of 'n'>5000 bytes is larger than the history payload size of '5000' bytes and cannot be resized. ->function add_change
I have already consulted this documentation but could not get the solution for it.
Any ideas ?

Originally posted by aks on ROS Answers with karma: 667 on 2018-07-25
Post score: 0

A:

This can happen when using Fast-RTPS and Connext with a message in a particular size range. Long term rmw_fastrtps_cpp should be updated to use this enhancement . In the short term there are a couple options

Use rmw_connext_cpp for the ROS2 rmw implementation by setting the environment variable RMW_IMPLEMENTATION, or
Configure Connext to not send type matching messages larger than 5000 bytes. rmw_connext_cpp disables TypeCode to avoid this (see this issue ).

Originally posted by sloretz with karma: 3061 on 2018-07-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by aks on 2018-07-26:
for the moment, i used the first option i.e. settting the RMW_IMPLEMENTATION = rmw_connext_cpp and it worked. Thankyou
Comment by coatwolf on 2022-09-13:
I know this thread is old -- buy any tips for solving this problem in the context of MicroROS (using the Arduino library)?
I'm trying to use a custom message type containing a string and a float32, and it was actually working fine for me (I was able to echo MicroROS topic via agent), but something must have happened because now when I try to echo the topic I am seeing:
2022-09-13 20:48:29.787 [RTPS_READER_HISTORY Error] Change payload size of '16' bytes is larger than the history payload size of '11' bytes and cannot be resized. -> Function can_change_be_added_nts

Not quite sure where to go from here...


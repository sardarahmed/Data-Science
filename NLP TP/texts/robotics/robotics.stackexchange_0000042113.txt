Q:

Joint::GetType() in Gazebo 1.x

I am porting a Gazebo 0.x plug-in to Gazebo 1.x. In the 0.x version, I had some code like this:
if (joint->GetType() == Joint::HINGE)
doSomething();
For the 1.x plug-in, I replaced the code with this:
if (joint->GetType() == Joint::HINGE_JOINT)
doSomething();
However, doSomething was never called. I ended up having to use this:
if (joint->GetType() == Joint::JOINT | Joint::HINGE_JOINT)
doSomething();
Is plug-in code now supposed to test individual bits of the value returned by Joint::GetType()? For example, should the plug-in now do this:
if (joint->GetType() & Joint::HINGE_JOINT)
doSomething();

Originally posted by Jim Rothrock on ROS Answers with karma: 792 on 2012-07-09
Post score: 0

A:

Using the binary AND-operator (&) should work, but you can also use Joint::HasType() to test joint type, for example:
if (joint->HasType(Joint::HINGE_JOINT)) doSomething();

Originally posted by hsu with karma: 5780 on 2012-07-16
This answer was ACCEPTED on the original site
Post score: 0


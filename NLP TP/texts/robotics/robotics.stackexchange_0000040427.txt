Q:

Unable to get data in callback in Arduino

I am unable to receive data in a subscriber callback written in  an arduino sketch.
I have a publisher publishing on /game_controller , written entirely in roscpp. I trying to get the data published on this topic into arduino. When I try to print the message out to Serial Monitor, I get nothing. I want to know what's amiss?
Arduino Sketch:http://pastebin.com/Mf9yPgn3

Originally posted by Blstinne on ROS Answers with karma: 11 on 2012-05-12
Post score: 1

A:

If I remember this while testing rosserial, you cannot use Serial Monitor and rosserial at the same time, as both of them need to connect over the same Serial connection. My node would typically stop responding if I opened the Serial Monitor up.
Instead of using Serial.println, I would recommend using the nh.loginfo, with the following workaround to print float/double values:
float temp = some_float_value;
int temp1 = (temp - (int)temp) * 100;
sprintf(log_msg, "some float value is = %0d.%d", (int)temp, temp1);
nh.loginfo(log_msg);

Also remember to remove the Serial.begin call, as I believe nh.init calls it already.
You should see the output of this log statement from your rosserial_python node.

Originally posted by piyushk with karma: 2871 on 2012-05-12
This answer was ACCEPTED on the original site
Post score: 1


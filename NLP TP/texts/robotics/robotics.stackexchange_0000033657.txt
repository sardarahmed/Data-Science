Q:

displaying point cloud in rviz from .bag files, error

I am trying to read .bag files, display the point cloud data in rviz.
rosbag play -l refined_point_clouds.bag 
[ INFO] [1313454488.757094980]: Opening refined_point_clouds.bag

Waiting 0.2 seconds after advertising topics... done.

Hit space to toggle paused, or 's' to step.
 [RUNNING]  Bag Time: 1284056763.769318   Duration: 1.105802 / 4.917923    

But I got the following error,

saying that

For frame
[narrow_stereo_optical_frame]: No
transform to fixed frame [/base_link].
TF error: [You requested a transform
that is -1284043982668.005 miliseconds
in the past, but the most recent
transform in the tf buffer is
-1284043980431.589 miliseconds old. ]

The coordinate frame in rviz was set as

The point cloud would appear correctly if i changed the fixed frame to /narrow_stereo_optical_frame.
The error seems related with the tf conversion time longer than the buffer can take.Confused... Could someone explain it to me? How can I avoid this problem, 'cuz I always stuck in this kind of problem... Thanks~

Originally posted by vincent on ROS Answers with karma: 311 on 2011-08-15
Post score: 0

A:

Does the tf exists between the /base_link frame and /narrow_stereo_optical_frame?
You can verify this by adding "tf" in the rviz display, and checking the tf tree.
They should appear cascaded
/base_link (parent)
/narrow_stereo_optical_frame (child)
If it does exists try adding playing the rosbag with the clock command:
rosbag play -l refined_point_clouds.bag --clock
If that doesn't work, you might need to look at the actual setup from which the data was recorded.

Originally posted by Zack with karma: 216 on 2011-08-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by vincent on 2011-08-16:
i checked the tf tree, don't know why, but now there is no /narrow_stereo_optical_frame anymore, actually just 2 frames: /base_footprint and /odom_combined.  I had to use another similar bag file, it showed that /base_link wasn't the parent frame, changed it to /base_footprint, worked. Thanks


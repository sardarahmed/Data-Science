Q:

rapp manager errors turtlebot minimal.launch

Hi,
I just installed ubuntu 14.04.2 (trusty) on my netbook, and followed the directions here (http://wiki.ros.org/indigo/Installation/Ubuntu) to install ROS indigo. Then I installed the TurtleBot packages here (http://wiki.ros.org/turtlebot/Tutorials/indigo/Installation). I test the setup by running roscore on the master machine (different physical machine, but same setup as described), and then minimal.launch on the netbook. It seems to be working for about 15 seconds, but then it crashes when the rapp manager times out.
Does anybody know what might be going on? At first I thought it was a problem with communication between machines, but they can ping each other fine and all environment variables seem to be set:
asdf@asdf:~$ printenv | grep ROS
ROS_ROOT=/opt/ros/indigo/share/ros
ROS_PACKAGE_PATH=/opt/ros/indigo/share:/opt/ros/indigo/stacks:/home/asdf/thesis/ROS/helloworld/turtlebot_driver_test/:/home/asdf/thesis/LoadManager/catkin_ws/
ROS_MASTER_URI=http://squirrel:11311
ROS_HOSTNAME=asdf
ROSLISP_PACKAGE_DIRECTORIES=
ROS_DISTRO=indigo
ROS_IP=10.8.190.94
ROS_ETC_DIR=/opt/ros/indigo/etc/ros
Here's the output of minimal.launch:
asdf@asdf:~slaunch turtlebot_bringup minimal.launch
... logging to /home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/roslaunch-asdf-2863.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
started roslaunch server http://asdf:59137/
SUMMARY
PARAMETERS

/app_manager/auto_rapp_installation: False
/app_manager/auto_start_rapp:
/app_manager/capability_server_name: capability_server
/app_manager/local_remote_controllers_only: False
/app_manager/rapp_package_blacklist: []
/app_manager/rapp_package_whitelist: ['rocon_apps', 't...
/app_manager/remote_controller_blacklist: []
/app_manager/remote_controller_whitelist: []
/app_manager/robot_icon: turtlebot_bringup...
/app_manager/robot_name: turtlebot
/app_manager/robot_type: turtlebot
/app_manager/screen: True
/app_manager/simulation: False
/bumper2pointcloud/pointcloud_radius: 0.24
/capability_server/blacklist: ['std_capabilitie...
/capability_server/defaults/kobuki_capabilities/KobukiBringup: kobuki_capabiliti...
/capability_server/defaults/kobuki_capabilities/KobukiBumper: kobuki_capabiliti...
/capability_server/defaults/kobuki_capabilities/KobukiCliffDetection: kobuki_capabiliti...
/capability_server/defaults/kobuki_capabilities/KobukiLED1: kobuki_capabiliti...
/capability_server/defaults/kobuki_capabilities/KobukiLED2: kobuki_capabiliti...
/capability_server/defaults/kobuki_capabilities/KobukiLED: kobuki_capabiliti...
/capability_server/defaults/kobuki_capabilities/KobukiWheelDropDetection: kobuki_capabiliti...
/capability_server/defaults/std_capabilities/Diagnostics: turtlebot_capabil...
/capability_server/defaults/std_capabilities/DifferentialMobileBase: kobuki_capabiliti...
/capability_server/defaults/std_capabilities/LaserSensor: turtlebot_capabil...
/capability_server/defaults/std_capabilities/RGBDSensor: turtlebot_capabil...
/capability_server/defaults/std_capabilities/RobotStatePublisher: turtlebot_capabil...
/capability_server/defaults/turtlebot_capabilities/TurtleBotBringup: turtlebot_capabil...
/capability_server/nodelet_manager_name: capability_server...
/capability_server/package_whitelist: ['kobuki_capabili...
/cmd_vel_mux/yaml_cfg_file: /opt/ros/indigo/s...
/description: Kick-ass ROS turtle
/diagnostic_aggregator/analyzers/input_ports/contains: ['Digital Input',...
/diagnostic_aggregator/analyzers/input_ports/path: Input Ports
/diagnostic_aggregator/analyzers/input_ports/remove_prefix: mobile_base_nodel...
/diagnostic_aggregator/analyzers/input_ports/timeout: 5.0
/diagnostic_aggregator/analyzers/input_ports/type: diagnostic_aggreg...
/diagnostic_aggregator/analyzers/kobuki/contains: ['Watchdog', 'Mot...
/diagnostic_aggregator/analyzers/kobuki/path: Kobuki
/diagnostic_aggregator/analyzers/kobuki/remove_prefix: mobile_base_nodel...
/diagnostic_aggregator/analyzers/kobuki/timeout: 5.0
/diagnostic_aggregator/analyzers/kobuki/type: diagnostic_aggreg...
/diagnostic_aggregator/analyzers/power/contains: ['Battery', 'Lapt...
/diagnostic_aggregator/analyzers/power/path: Power System
/diagnostic_aggregator/analyzers/power/remove_prefix: mobile_base_nodel...
/diagnostic_aggregator/analyzers/power/timeout: 5.0
/diagnostic_aggregator/analyzers/power/type: diagnostic_aggreg...
/diagnostic_aggregator/analyzers/sensors/contains: ['Cliff Sensor', ...
/diagnostic_aggregator/analyzers/sensors/path: Sensors
/diagnostic_aggregator/analyzers/sensors/remove_prefix: mobile_base_nodel...
/diagnostic_aggregator/analyzers/sensors/timeout: 5.0
/diagnostic_aggregator/analyzers/sensors/type: diagnostic_aggreg...
/diagnostic_aggregator/base_path:
/diagnostic_aggregator/pub_rate: 1.0
/icon: turtlebot_bringup...
/interactions/interactions: ['turtlebot_bring...
/interactions/pairing: True
/interactions/rosbridge_address: localhost
/interactions/rosbridge_port: 9090
/mobile_base/base_frame: base_footprint
/mobile_base/battery_capacity: 16.5
/mobile_base/battery_dangerous: 13.2
/mobile_base/battery_low: 14.0
/mobile_base/cmd_vel_timeout: 0.6
/mobile_base/device_port: /dev/kobuki
/mobile_base/odom_frame: odom
/mobile_base/publish_tf: True
/mobile_base/use_imu_heading: True
/mobile_base/wheel_left_joint_name: wheel_left_joint
/mobile_base/wheel_right_joint_name: wheel_right_joint
/name: turtlebot
/robot/name: turtlebot
/robot/type: turtlebot
/robot_description: <?xml version="1....
/robot_state_publisher/publish_frequency: 5.0
/rosdistro: indigo
/rosversion: 1.11.10
/turtlebot_laptop_battery/acpi_path: /sys/class/power_...
/use_sim_time: False
/zeroconf/zeroconf/services: [{'domain': 'loca...

NODES
/zeroconf/
zeroconf (zeroconf_avahi/zeroconf)
/
app_manager (rocon_app_manager/rapp_manager.py)
bumper2pointcloud (nodelet/nodelet)
capability_server (capabilities/capability_server)
cmd_vel_mux (nodelet/nodelet)
diagnostic_aggregator (diagnostic_aggregator/aggregator_node)
interactions (rocon_interactions/interactions_manager.py)
master (rocon_master_info/master.py)
mobile_base (nodelet/nodelet)
mobile_base_nodelet_manager (nodelet/nodelet)
robot_state_publisher (robot_state_publisher/robot_state_publisher)
turtlebot_laptop_battery (laptop_battery_monitor/laptop_battery.py)
ROS_MASTER_URI=http://squirrel:11311
core service [/rosout] found
process[robot_state_publisher-1]: started with pid [2875]
process[diagnostic_aggregator-2]: started with pid [2881]
process[mobile_base_nodelet_manager-3]: started with pid [2886]
process[mobile_base-4]: started with pid [2896]
process[cmd_vel_mux-5]: started with pid [2904]
process[bumper2pointcloud-6]: started with pid [2909]
process[turtlebot_laptop_battery-7]: started with pid [2914]
process[capability_server-8]: started with pid [2915]
process[app_manager-9]: started with pid [2925]
process[master-10]: started with pid [2929]
[WARN] [WallTime: 1426004232.749493] Battery : unable to check laptop battery info [/sys/class/power_supply/BAT0/charge_full_design || /sys/class/power_supply/BAT0/energy_full_design does not exist]
process[interactions-11]: started with pid [2941]
[turtlebot_laptop_battery-7] process has finished cleanly
log file: /home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/turtlebot_laptop_battery-7*.log
process[zeroconf/zeroconf-12]: started with pid [2947]
[ INFO] [1426004235.540667254]: Zeroconf: service successfully established [turtlebot][_ros-master._tcp][11311]
[ERROR] [WallTime: 1426004242.795662] Interactions : timed out trying to find the rapp manager start_rapp, stop_rapp services and status topic [unable to communicate with the master [no provider]]
Traceback (most recent call last):
File "/opt/ros/indigo/lib/rocon_interactions/interactions_manager.py", line 20, in 
interactions_manager = rocon_interactions.InteractionsManager()
File "/opt/ros/indigo/lib/python2.7/dist-packages/rocon_interactions/manager.py", line 74, in init
self._rapp_handler = RappHandler(self._rapp_manager_status_update_callback)
File "/opt/ros/indigo/lib/python2.7/dist-packages/rocon_interactions/rapp_handler.py", line 74, in init
thread = threading.Thread(target=self._setup_rapp_manager_connections())
File "/opt/ros/indigo/lib/python2.7/dist-packages/rocon_interactions/rapp_handler.py", line 85, in _setup_rapp_manager_connections
self.start_rapp = rospy.ServiceProxy(start_rapp_service_name, rocon_app_manager_srvs.StartRapp)
UnboundLocalError: local variable 'start_rapp_service_name' referenced before assignment
[interactions-11] process has died [pid 2941, exit code 1, cmd /opt/ros/indigo/lib/rocon_interactions/interactions_manager.py __name:=interactions __log:=/home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/interactions-11.log].
log file: /home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/interactions-11*.log
/opt/ros/indigo/lib/python2.7/dist-packages/bondpy/bondpy.py:114: SyntaxWarning: The publisher should be created with an explicit keyword argument 'queue_size'. Please see http://wiki.ros.org/rospy/Overview/Publishers%20and%20Subscribers for more information.
self.pub = rospy.Publisher(self.topic, Status)
/opt/ros/indigo/lib/python2.7/dist-packages/bondpy/bondpy.py:114: SyntaxWarning: The publisher should be created with an explicit keyword argument 'queue_size'. Please see http://wiki.ros.org/rospy/Overview/Publishers%20and%20Subscribers for more information.
self.pub = rospy.Publisher(self.topic, Status)
[mobile_base-4] process has finished cleanly
log file: /home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/mobile_base-4*.log
[WARN] [WallTime: 1426004245.691961] Rapp Manager : No preferred rapp for 'turtlebot_rapps/xbox360_teleop'.  'turtlebot_rapps/xbox360_teleop' has been selected.
[WARN] [WallTime: 1426004245.692852] Rapp Manager : No preferred rapp for 'turtlebot_rapps/follower'.  'turtlebot_rapps/follower' has been selected.
[WARN] [WallTime: 1426004245.693576] Rapp Manager : No preferred rapp for 'turtlebot_rapps/map_nav'.  'turtlebot_rapps/map_nav' has been selected.
[WARN] [WallTime: 1426004245.694224] Rapp Manager : No preferred rapp for 'turtlebot_rapps/3dsensor'.  'turtlebot_rapps/3dsensor' has been selected.
[WARN] [WallTime: 1426004245.695376] Rapp Manager : No preferred rapp for 'turtlebot_rapps/ps3_teleop'.  'turtlebot_rapps/ps3_teleop' has been selected.
[WARN] [WallTime: 1426004245.696071] Rapp Manager : No preferred rapp for 'rocon_apps/chirp'.  'rocon_apps/meow_chirp' has been selected.
[WARN] [WallTime: 1426004245.697110] Rapp Manager : No preferred rapp for 'turtlebot_rapps/make_a_map'.  'turtlebot_rapps/make_a_map' has been selected.
[WARN] [WallTime: 1426004245.698088] Rapp Manager : No preferred rapp for 'rocon_apps/video_teleop'.  'turtlebot_rapps/video_teleop' has been selected.
[WARN] [WallTime: 1426004245.699060] Rapp Manager : No preferred rapp for 'turtlebot_rapps/panorama'.  'turtlebot_rapps/panorama' has been selected.
[WARN] [WallTime: 1426004245.699824] Rapp Manager : No preferred rapp for 'rocon_apps/listener'.  'rocon_apps/listener' has been selected.
[WARN] [WallTime: 1426004245.700544] Rapp Manager : No preferred rapp for 'turtlebot_rapps/auto_docking'.  'turtlebot_rapps/auto_docking' has been selected.
[WARN] [WallTime: 1426004245.701679] Rapp Manager : No preferred rapp for 'rocon_apps/talker'.  'rocon_apps/talker' has been selected.
[cmd_vel_mux-5] process has finished cleanly
log file: /home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/cmd_vel_mux-5*.log
[bumper2pointcloud-6] process has finished cleanly
log file: /home/asdf/.ros/log/dfa94692-c740-11e4-8dbb-001c230e5560/bumper2pointcloud-6*.log
Thanks!
David

Originally posted by dfk on ROS Answers with karma: 11 on 2015-03-10
Post score: 0

Original comments
Comment by dfk on 2015-03-10:
Odd. Now I installed rocon on the master and get this error:
/opt/ros/indigo/lib/python2.7/dist-packages/bondpy/bondpy.py:114: SyntaxWarning: The publisher should be created with an explicit keyword argument 'queue_size'.
Comment by dfk on 2015-03-10:
Hmm. Ran it again and got this error. I don't understand what could be causing such different errors.
[ERROR] [1426005603.145805035]: received a tcpros connection for a nonexistent service [/cmd_vel_mux/set_parameters].
Comment by jihoonl on 2015-03-15:
bondpy.py warning is created by http://wiki.ros.org/bondpy. I have confirmed that it does not cause any problem.

A:

Oops. My network settings were not correct. It's all fixed.

Originally posted by dfk with karma: 11 on 2015-03-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tfoote on 2015-03-10:
Thanks for the follow up. With my +1 now you can accept your answer (with the checkmark at left) so others know it's solved.
Comment by dfk on 2015-03-10:
It says I need >25 points to accept my own answer...
Comment by tfoote on 2015-03-10:
Sorry I read the wrong field. I lowered it to 10. You should be good now.
Comment by Will Chamberlain on 2018-07-03:
Stupid question time: which network settings?


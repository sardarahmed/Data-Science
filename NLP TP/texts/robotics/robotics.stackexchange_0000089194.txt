Q:

[ROS2] Retrieving QOS settings for a topic

Hi,
since a subscriber can receive a topic message only if its QOS profile is compatible with the QOS profile of the publisher, is there a way to retrieve the DURABILITY and the RELIABILITY settings for a topic?
I think that the command
$ ros2 topic info /topic
can be a good place to introduce this important feature.
What do you think?
Walter

Originally posted by Myzhar on ROS Answers with karma: 541 on 2018-10-05
Post score: 2

A:

At least on foxy, you can use the --verbose flag with the command:
$ ros2 topic info /topic_name --verbose

I asked a similar question: https://answers.ros.org/question/370873/ros2-how-to-query-quality-of-service-qos-parameters-from-command-line/
User gvdhoorn pointed out the --verbose or -v flag that can be used to output the QoS parameters and which nodes are publishing / subscribing to the topic. For example...
$ ros2 topic info /robot_description --verbose
Type: std_msgs/msg/String

Publisher count: 1

Node name: robot_state_publisher
Node namespace: /
Topic type: std_msgs/msg/String
Endpoint type: PUBLISHER
GID: 01.0f.71.ef.91.21.00.00.01.00.00.00.00.00.14.03.00.00.00.00.00.00.00.00
QoS profile:
  Reliability: RMW_QOS_POLICY_RELIABILITY_RELIABLE
  Durability: RMW_QOS_POLICY_DURABILITY_TRANSIENT_LOCAL
  Lifespan: 2147483651294967295 nanoseconds
  Deadline: 2147483651294967295 nanoseconds
  Liveliness: RMW_QOS_POLICY_LIVELINESS_AUTOMATIC
  Liveliness lease duration: 2147483651294967295 nanoseconds

Subscription count: 2

Node name: rqt_gui_py_node_10355
Node namespace: /
Topic type: std_msgs/msg/String
Endpoint type: SUBSCRIPTION
GID: 01.0f.71.ef.73.28.00.00.01.00.00.00.00.00.11.04.00.00.00.00.00.00.00.00
QoS profile:
  Reliability: RMW_QOS_POLICY_RELIABILITY_RELIABLE
  Durability: RMW_QOS_POLICY_DURABILITY_TRANSIENT_LOCAL
  Lifespan: 2147483651294967295 nanoseconds
  Deadline: 2147483651294967295 nanoseconds
  Liveliness: RMW_QOS_POLICY_LIVELINESS_AUTOMATIC
  Liveliness lease duration: 2147483651294967295 nanoseconds

Node name: rviz2
Node namespace: /
Topic type: std_msgs/msg/String
Endpoint type: SUBSCRIPTION
GID: 01.0f.71.ef.8b.21.00.00.01.00.00.00.00.00.16.04.00.00.00.00.00.00.00.00
QoS profile:
  Reliability: RMW_QOS_POLICY_RELIABILITY_RELIABLE
  Durability: RMW_QOS_POLICY_DURABILITY_TRANSIENT_LOCAL
  Lifespan: 2147483651294967295 nanoseconds
  Deadline: 2147483651294967295 nanoseconds
  Liveliness: RMW_QOS_POLICY_LIVELINESS_AUTOMATIC
  Liveliness lease duration: 2147483651294967295 nanoseconds

Originally posted by Kevin DeMarco with karma: 88 on 2021-02-02
This answer was ACCEPTED on the original site
Post score: 4


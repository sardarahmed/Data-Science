Q:

Launching empty world segfault in ROS

I am on an Ubuntu 12.04 LTS 64bit and running off of an Intel 915 chipset. My current gazebo distribution is 1.6.16
Running empty_world.launch would segfault, so I ran debug.launch and this is the result:

roslaunch gazebo_worlds debug.launch 
... logging to /home/falkor/.ros/log/5f384930-0f1f-11e2-a67f-5891cf52dcee/roslaunch-pc-16477.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is  ignored
process[master]: started with pid [16493]
ROS_MASTER_URI=http://127.0.0.1:11311

setting /run\_id to 5f384930-0f1f-11e2-a67f-5891cf52dcee
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in  ignored
process[rosout-1]: started with pid [16506]
started core service [/rosout]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in  ignored
process[gazebo-2]: started with pid [16520]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in  ignored
process[gazebo_gui-3]: started with pid [16530]
GNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2) 7.4-2012.04
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later 
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
For bug reporting instructions, please see:
...
Reading symbols from /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/gazebo/bin/gzserver...Gazebo multi-robot simulator, version 1.0.2
Copyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

(no debugging symbols found)...done.
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
Gazebo multi-robot simulator, version 1.0.2
Copyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffe6e65700 (LWP 16549)]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffe5e3a700 (LWP 16550)]
[New Thread 0x7fffe5639700 (LWP 16552)]
[New Thread 0x7fffe4e38700 (LWP 16553)]
[New Thread 0x7fffd7fff700 (LWP 16554)]
[New Thread 0x7fffd77fe700 (LWP 16561)]
[New Thread 0x7fffd6ffd700 (LWP 16562)]
[New Thread 0x7fffd67fc700 (LWP 16563)]
[ INFO] [1349463833.537501371]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345
Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffc1117700 (LWP 16566)]
[New Thread 0x7fffc0916700 (LWP 16567)]
[New Thread 0x7fffb7fff700 (LWP 16568)]
[New Thread 0x7fffb77fe700 (LWP 16569)]
[New Thread 0x7fffb6ffd700 (LWP 16570)]
[New Thread 0x7fffb67fc700 (LWP 16571)]
[New Thread 0x7fffb5ffb700 (LWP 16572)]
[New Thread 0x7fffb57fa700 (LWP 16573)]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[ INFO] [1349463850.488025154]: joint trajectory plugin missing , defaults to 0.0 (as fast as possible)
[New Thread 0x7fffb4dd0700 (LWP 16577)]
[New Thread 0x7fff97fff700 (LWP 16608)]
[New Thread 0x7fff977fe700 (LWP 16609)]
[New Thread 0x7fff96ffd700 (LWP 16619)]
[ INFO] [1349463856.300181864, 0.214000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.
[ INFO] [1349463856.332807161, 3.872000000]: Starting to spin physics dynamic reconfigure node...
/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui: line 2: 16534 Segmentation fault      `rospack find gazebo`/gazebo/bin/gzclient -g `rospack find gazebo`/lib/libgazebo_ros_paths_plugin.so
[gazebo_gui-3] process has died [pid 16530, exit code 139, cmd /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui __name:=gazebo_gui __log:=/home/falkor/.ros/log/5f384930-0f1f-11e2-a67f-5891cf52dcee/gazebo_gui-3.log].
log file: /home/falkor/.ros/log/5f384930-0f1f-11e2-a67f-5891cf52dcee/gazebo_gui-3*.log

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fffe6e65700 (LWP 16549)]
0x00007ffff76d1955 in boost::asio::basic_socket >::close() ()
   from /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_transport.so.1
(gdb) ni
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[Thread 0x7fffb6ffd700 (LWP 16570) exited]
[Thread 0x7fffb67fc700 (LWP 16571) exited]
[Thread 0x7fff97fff700 (LWP 16608) exited]
[Thread 0x7fffb5ffb700 (LWP 16572) exited]
[Thread 0x7fffb77fe700 (LWP 16569) exited]
[Thread 0x7fffb7fff700 (LWP 16568) exited]
[Thread 0x7fffb4dd0700 (LWP 16577) exited]
[Thread 0x7fff96ffd700 (LWP 16619) exited]
[Thread 0x7fff977fe700 (LWP 16609) exited]
[Thread 0x7fffb57fa700 (LWP 16573) exited]
[Thread 0x7fffc1117700 (LWP 16566) exited]
[Thread 0x7fffd67fc700 (LWP 16563) exited]
[Thread 0x7fffd6ffd700 (LWP 16562) exited]
[Thread 0x7fffd77fe700 (LWP 16561) exited]
[Thread 0x7fffd7fff700 (LWP 16554) exited]
[Thread 0x7fffe4e38700 (LWP 16553) exited]
[Thread 0x7fffe5639700 (LWP 16552) exited]
[Thread 0x7fffe5e3a700 (LWP 16550) exited]
[Thread 0x7fffe6e65700 (LWP 16549) exited]
[Thread 0x7ffff7fb9800 (LWP 16535) exited]

Program terminated with signal SIGSEGV, Segmentation fault.
The program no longer exists.
(gdb) q
[gazebo-2] process has finished cleanly
log file: /home/falkor/.ros/log/5f384930-0f1f-11e2-a67f-5891cf52dcee/gazebo-2*.log

---

[Originally posted](https://answers.gazebosim.org/question/48/launching-empty-world-segfault-in-ros/) by [falcon1](https://answers.gazebosim.org/users/39/falcon1/) on Gazebo Answers with karma: 1 on 2012-10-05

Post score: 0

---

### Original comments

**Comment by [SL Remy](https://answers.gazebosim.org/users/43/sl-remy/) on 2012-10-21**:\
Do you also get a segfault when running stageros?

**Comment by [gerkey](https://answers.gazebosim.org/users/74/gerkey/) on 2013-01-11**:\
Can you post a backtrace from where the segfault occurs?

A:

This error:
[tcsetpgrp failed in terminalinferior: Inappropriate ioctl for device]
Looks like a system level problem. As in you have a fundamental issue with hardware or software outside the scope of gazebo.

Originally posted by nkoenig with karma: 7676 on 2012-10-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gerkey on 2013-01-11:
It looks like the tcsetpgrp error is coming from gdb, something to do with how it's trying to manipulate the console.  I don't think that it's related to the segfault.


Q:

librviz display sensor_msgs/LaserScan

Hi,
i want to use Librviz  (http://pr.willowgarage.com/downloads/groovy-rviz-api-for-review/rviz/html/index.html) in a QT-Gui, subscribe to topic and visualize some data.
I followed the tutorial; http://docs.ros.org/indigo/api/librviz_tutorial/html/index.html and it is doing fine. From the tutorial i've got the following:
render_panel_ = new rviz::RenderPanel();
lvw->QRvizLayout->addLayout( controls_layout );
lvw->QRvizLayout->addWidget( render_panel_ );
manager_ = new rviz::VisualizationManager( render_panel_ );
render_panel_->initialize( manager_->getSceneManager(), manager_ );
manager_->initialize();
grid_ = manager_->createDisplay( "rviz/Grid", "adjustable grid", true );

Now, i want to subscribe to the topic "fts/laserscan_front", which is publishing "sensor_msgs/LaserScan"-Messages. Is there any tutorial out there, how to subscribe to a topic and visualize the messages with Librviz and qt?

Originally posted by Roman2508 on ROS Answers with karma: 11 on 2014-09-02
Post score: 1

A:

The same way you created your rviz::Display* grid_ (assuming this is what you did), you should create an additional display in your code for each corresponding display you would add if you were using RViz itself.
For instance, to add a LaserScan display, you should add to your header file:
rviz::Display* laser_;

Then, in your source file, you should do something like:
laser_ = manager_->createDisplay("rviz/LaserScan", "Laser scan", true);
// configure rviz/LaserScan
laser_->subProp("Topic")->setValue("fts/laserscan_front");
laser_->subProp("Style")->setValue("Boxes");

You can add the display in RViz and check which settings/properties you would be able to change there. Then just adapt the lines of code above to set the properties you want. The same idea works for any other display type you can add in RViz.

Originally posted by Murilo F. M. with karma: 806 on 2014-09-02
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by lucasw on 2016-02-01:
It would be great to get an example like this into http://docs.ros.org/jade/api/librviz_tutorial/html/index.html - the grid is too simple, a second tutorial with a Display that subscribes to a topic would make things much clearer.
Comment by double on 2017-09-19:
Hello Lucasw, this link only show one tutorial that librviz shows grid. Could you please provide the second tutorial again?
Comment by lucasw on 2017-09-19:
I never made a second tutorial, I do have some example code here though: https://github.com/lucasw/rviz_camera_stream/blob/librviz_node/librviz_camera/src/panel.cpp


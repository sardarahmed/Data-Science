Q:

Get path to built files programmatically

I have add_custom_commands to build files that will be loaded at run time by a ros node.  Right now those files get put into build/my_package/.  Is there a combination of a destination to provide cmake and something like ros::package::getPath() that will allow me to load the files regardless of whether using catkin_make install or devel.
The solution I don't want is to build the files into the source directory.

Originally posted by lucasw on ROS Answers with karma: 8729 on 2017-02-10
Post score: 0

A:

A solution that doesn't involve build artifacts in the source tree could be to turn the generated files into a library or add it to the executable- convert the binary files into header files like http://stackoverflow.com/questions/8707183/script-tool-to-convert-file-to-c-c-source-code-array
xxd -i my_cmake_generated_file.bin > my_cmake_generated_file.h

Which produces:
unsigned char my_cmake_generated_file[] = {
0x46, 0x53, 0x48, 0x04, 0xa4, 0x8b, 0xef, 0x49, 0x00, 0x00, 0x44, 0x00,
...
  0x6f, 0x6c, 0x6f, 0x72, 0x30, 0x3b, 0x0a, 0x7d, 0x0a, 0x0a, 0x00
};
unsigned int my_cmake_generated_file_len = 83;

And then code that loads a binary into a byte array could be simplified to just use this from the header file directly

Originally posted by lucasw with karma: 8729 on 2017-02-10
This answer was ACCEPTED on the original site
Post score: 0


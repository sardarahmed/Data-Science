Q:

Using this package with a different purpose [Land a quadcopter]

I need to land my quadcopter on predefined tag. I’m using ARTags, so I know the position of the target when I see it with my camera. But I need to implement a better control, so I decided to use an Extended Kalman Filter (EKF) that uses the information of the camera but also from the gyroscope, magnetometer, etc.
I found this package called tum_ardrone that does a SLAM and then the EKF. What I would need is to use the first two nodes (drone_stateestimation and maybe drone_autopilot), but I don’t want to use the drone_gui node because it needs the final position to be send by a joystick or keyboard, and I need that position to be the position or my tag. I mean, I want the final position to be read in a specific topic where I can store the position of ny tag (or maybe you have a better solution)

Originally posted by Dylan on ROS Answers with karma: 51 on 2019-04-22
Post score: 0

A:

Hi
I think this pkg  is better for you to use if you want just fuse imu and vo than tum ar_drone

Originally posted by Hamid Didari with karma: 1769 on 2019-04-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Dylan on 2019-04-22:
But does that package make a map of the place where the quadcopter is?
Comment by Hamid Didari on 2019-04-22:
why are you need a map? for landig uav you don't need a map
Comment by Dylan on 2019-04-23:
Ok, but I have some more questions. 1) the odom of my quadcopter is 3D because it’s flying, so the z component is not zero. The package talks about a 2D odometry topic. 2) I also have information about the gyroscope, accelerometer and magnetometer, pressure sensor, etc., but the pkg only talks about 3 subscribed topics: 2D odometry, imu and visual odometry
Comment by Hamid Didari on 2019-04-23:
you can disable 2d odometry and in my experience i suggest you do not use magnetometer and pressure sensor for landing because pressure sensor have ground effect when the uav is landing and magnetometer can bother you only vo and imu i think is fine for landing(i tested with imu and marker for landing and it's just fine)
Comment by Dylan on 2019-04-23:
And what about the gyroscope and accelerometer?
Comment by Hamid Didari on 2019-04-23:
imu = gyroscope + accelerometer
Comment by Dylan on 2019-04-23:
Ok. I didn’t know you use that nomenclature.
I can determine the visual odometry only when the tag is in my FOV. What happens when the visual odometry is 0?
To determine the visual odometry, do I have to make a topic that has the expected format, based on the information provided by the AR tag?


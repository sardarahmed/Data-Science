Q:

Joint Effort control in Gazebo Sim

I use Gazebo Garden (and ROS 2 humble) and wish to build a computed-torque controller, that directly outputs the torque to send to the motors.
Desired behavior
According to the JointController plugin reference, the plugin is designed to perform velocity control.
The <use_force_commands> flag only tells that the plugins uses torque internally, through a PID. Without this flag it seems a pure velocity is sent to the motor, which emulates a perfect servo motor.
Is it possible to use this plugin - or another - to directly control the effort we set on the joint?
That would be equivalent to setting 0-gains and only use the PID feed-forward term but this one is assumed to be constant.
The only alternative would be using ros control but it seems way more complex as we just want to add arbitrary efforts on the joints.

A:

Another plugin, namely ApplyJointForce, can actually be used for this type of torque control.
Our robot xacro now takes a mode argument in order to activate either JointPositionController (position), JointController (velocity) or ApplyJointForce (effort) and allow the corresponding type of control.


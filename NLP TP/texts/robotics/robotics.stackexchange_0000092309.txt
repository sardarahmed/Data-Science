Q:

How to check which package depends on ros-kinetic-librealsense2

Hi, I stumbled upon an annoying problem. I'm building quite big docker image containing robot's workspace. Docker build process fails on step where I'm trying to resolve and install missing dependencies using rosdep. Looks like one of the packages depends on ros-kinetic-librealsense2 package which simply does not exists and kills my building process.
I'm getting:
apt: command [sudo -H apt-get install -y ros-kinetic-librealsense2] failed
 
apt: Failed to detect successful installation of [ros-kinetic-librealsense2]

How to locate that problematic package? I tried
rosdep which-depends

but it returns nothing.
Thx!

Originally posted by fitter on ROS Answers with karma: 56 on 2019-07-02
Post score: 0

Original comments
Comment by PeteBlackerThe3rd on 2019-07-03:
Using grep to search your code base for any occurrence of the string librealsense2 would probably a good way to start.
grep "librealsense2" . -r

From the root of your code base will show you a list of files which contain that string.
Comment by fitter on 2019-07-03:
Thx, I did that, but in fact I checked for "ros-kinetic-librealsense2". I didn't knew that dependencies are defined without "ros-kinetic" prefix, so I received nothing.

A:

After some searching I found this discussion:
https://github.com/IntelRealSense/realsense-ros/issues/808
Looks like the librealsense2 got deleted from ROS repositories, but for some reason realsense package still depends on it, which blocks rosdep install. There is a PR with fix waiting for acceptance.
The workaround for now is to use rosdep install with -r flag, and, if you are using docker, end the RUN command which spawns rosdep install with ; exit 0 to continue after rosdep returns 1.
Just remember its not a proper solution and it should be reverted after realsense PR got merged or librealsense2 lib comes back to repository.
Hope it's going to help someone with similar problem

Originally posted by fitter with karma: 56 on 2019-07-03
This answer was ACCEPTED on the original site
Post score: 2


Q:

Jenkins buildfarm fails to download file from bitbucket.org

On the Jenkins build farm, my downloads from bitbucket.org always yield the same hash of d41d8cd98f00b204e9800998ecf8427e causing a build/configure failure. I don't think http will work any better because it redirects to an https amazon cloud server.
http://jenkins.ros.org/job/ros-indigo-ueye_binarydeb_trusty_amd64/1/consoleText
http://jenkins.ros.org/job/ros-indigo-ueye_binarydeb_trusty_i386/1/consoleText
From my CMakeLists.txt:
file(DOWNLOAD 
  https://bitbucket.org/kmhallen/ueye/downloads/uEye_SDK_4_40_amd64.tar.gz
  ${CATKIN_DEVEL_PREFIX}/${CATKIN_PACKAGE_SHARE_DESTINATION}/3rdparty/uEye_SDK_amd64.tar.gz
  SHOW_PROGRESS
  INACTIVITY_TIMEOUT 60
  EXPECTED_MD5 5290609fb3906a3355a6350dd36b2c76
  TLS_VERIFY on)
file(DOWNLOAD 
  https://bitbucket.org/kmhallen/ueye/downloads/uEye_SDK_4_40_i386.tar.gz
  ${CATKIN_DEVEL_PREFIX}/${CATKIN_PACKAGE_SHARE_DESTINATION}/3rdparty/uEye_SDK_i386.tar.gz
  SHOW_PROGRESS
  INACTIVITY_TIMEOUT 60
  EXPECTED_MD5 d9803f2db1604f5a0993c4b62d395a31
  TLS_VERIFY on)

From the CMakeLists.txt of velodyne_driver:
catkin_download_test_data(
  ${PROJECT_NAME}_tests_class.pcap
  http://download.ros.org/data/velodyne/class.pcap
  DESTINATION ${CATKIN_DEVEL_PREFIX}/${CATKIN_PACKAGE_SHARE_DESTINATION}/tests
  MD5 65808d25772101358a3719b451b3d015)

One solution is to hosts files on download.ros.org like the velodyne_driver and the costmap_2d packages. How can I upload to this hosting service?
Update: Prerelease downloads and builds fine.
http://jenkins.ros.org/job/prerelease-indigo-ueye/1/ARCH_PARAM=amd64,UBUNTU_PARAM=trusty,label=prerelease/console

Originally posted by kmhallen on ROS Answers with karma: 1416 on 2014-09-15
Post score: 1

A:

The problem is that BitBucket is using a redirect to a temporary URL in the Amazon cloud. The CMake code can not follow this redirect.
You can either place the resource in a location which is fetchable without redirects or ask for that specific file to be uploaded to download.ros.org (we can't give write access to the server as it is setup right now). The first approach obviously allows you to change the file / upload multiple resources easily.

Originally posted by Dirk Thomas with karma: 16276 on 2014-09-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by kmhallen on 2014-09-18:
Can someone upload both uEye_SDK_4_40_amd64.tar.gz and uEye_SDK_4_40_i386.tar.gz from https://bitbucket.org/kmhallen/ueye/downloads to download.ros.org/data/ueye/ ? Thanks.
Comment by Dirk Thomas on 2014-09-18:
Done: http://download.ros.org/data/ueye/
Comment by kmhallen on 2014-09-18:
I get HTTP Error 403 Forbidden. It appears the public read permission is not set. Also please add the ".gz" extension for both files. Thanks for the quick response.
Comment by Dirk Thomas on 2014-09-18:
Sorry, I didn't look at it at all. Done.
Comment by kmhallen on 2014-09-18:
Builds are passing now. Thanks.


Q:

how to capture data from Velodyne32, network setting?

I'm using ubuntu 13.04 64b with ROS Groovy and I'm trying to use velodyne 32.
I've followed the tutorial [Getting Started with the Velodyne HDL-32E] and rviz is not showing the scenes.

sudo ifconfig eth0 192.168.3.100 <-- IP for my PC
sudo route add 192.168.18.108 eth0 <-- velodyne IP
roslaunch velodyne_pointcloud 32e_points.launch calibration:=/home/vic/32db.yaml
rosrun rviz rviz -f velodyne   >   configure as the tutorial said.

Rviz shows a message: "no tf data. Actual error: Fixed frame [/velodyne] does not exist ".
tcpdump and wireshark has captured no package, so my network is not properly set.
What is wrong in my network configuration? Thanks in advance.

Updated:
I fixed a wire inside Velodyne and now everything is fine . But I want to understand the network setting.
If I connect velodyne to my PC, with wireshark I detect ethernet packages from velodyne (.18.108) to broadcast (.3.255).
So, I do step 1 ( sudo ifconfig eth0 192.168.3.100)  and my PC should "listen" these packages because it is now the receiver.
If I don't do step2, when I do step3  the  /velodyne_points is an active topic (rostopic list) but with no data (rostopic echo /velodyne_points).
So, Why do I need step 2? (sudo route add 192.168.18.108 eth0 ).
What does? I think is to say "admit packages from this IP". But, is it not the default option? to admit these?
Thanks in advance.

Originally posted by marilia15 on ROS Answers with karma: 104 on 2014-01-14
Post score: 0

A:

It seems that the topic /velodyne_points is not published.
You can check at first that you received data from the velodyne with this command in a terminal :
sudo tcpdump -i eth0 port 2368

If no packet are received then your network connection is not set properly.
In the velodyne documentation, it says that for "HDL-32E units, the destination IP address remains fixed at 192.168.3.255."
So I just set my PC address to 192.168.3.255 and the mask to 255.255.255.0.
If it works, in a second time you can check that raw packets are published in ROS :
rostopic hz /velodyne_packets

Originally posted by Vincent R with karma: 365 on 2014-01-15
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by marilia15 on 2014-02-16:
Thanks. I used your commands to check that no topic was published. A wire inside Velodyne was disconnected, I fixed and it's allright.


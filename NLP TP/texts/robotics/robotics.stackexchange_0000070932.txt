Q:

Can't display .bag file in rviz

I want to visualize data from bag file, so I run rviz, add and add a new display and run rosbag play example.bag. I've read on the internet pointcloud or pointcloud2 display should be added but there are no topics available in the drop down menu then. If I write some there by hand it gives this error:
Client [/rviz_1450275182382104119] wants topic /camera/depth/image to have datatype/md5sum [sensor_msgs/PointCloud/d8e9c3f5afbdd8a130fd1d2763945fca], but our version has [sensor_msgs/Image/060021388200f6f0f447d0fcd9c64743]. Dropping connection.

So I tried to add other displays such as Camera or DepthCloud or Image, it gives status warning image: no image rceived or status error: Unsupported image encoding []. This time there were some topics available in the dropdown menu so I chose one of them. It didn't give any errors but stil no data were visualized in rviz. Can someone help me what to do to visualize my data in rviz? Where I run rosbag play these topics are added to rostopic list:
/camera/depth/camera_info
/camera/depth/image
/camera/mask
/camera/pose
/camera/rgb/camera_info
/camera/rgb/image_color

EDIT: There is also global status warning: No tf data.  Actual error: Fixed Frame [map] does not exist

Originally posted by sykatch on ROS Answers with karma: 109 on 2015-12-16
Post score: 0

A:

I think your /camera/depth/image topic is just a normal image message (sensor_msgs/Image) that codes depth in intensity. So brighter pixel would mean they are closer to your camera. In Rviz you should add an "Image" display. "Camera" display needs an additional tf transform I think to display eventual existing frame axes that are supposed to appear in the image field.

Originally posted by Mehdi. with karma: 3339 on 2015-12-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by sykatch on 2015-12-16:
If I add Image display it gives status error: unsupported image encoding or warning no image received.


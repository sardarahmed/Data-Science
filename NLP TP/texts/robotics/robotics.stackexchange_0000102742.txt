Q:

ros2 topic list doesn't work in sudo mode

Hi all,
I'm using Ubuntu 22.04.1 LTS with  Linux 5.10.0-18-rt-amd64, with ros2 humble debian release.
I try to launch ros2_control from sudo terminal, but I can't see the ros2 topics outside ( from other terminals )
I tried also to launch "ros2 topic list" from sudo mode but it doesn't work. Currently I'm only able to view the ros2 topics list only using the user mode terminals.
If I use a terminal in root mode and an other one in user mode the issue persists.
Have you got any suggestions about it?

Originally posted by dei on ROS Answers with karma: 3 on 2022-11-22
Post score: 0

A:

I suggest you to describe your problem you are trying to solve by running the node in root mode.
Using sudo can reset a path to shared libraries + there are other possible reasons for ROS2 to not work (e.g. DDS configurations).
Please also check this question and its comments:

https://answers.ros.org/question/375968/ros2-foxy-not-seeing-topics-published-in-sudo-shell/

Originally posted by ljaniec with karma: 3064 on 2022-11-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dei on 2022-11-27:
Thank you for your answer,
At the moment I found a temporany solution:
From root terminal:
ros2 daemon stop
ros2 daemon start
Launch your sudo node here
After that I can see ros2 topic list output from every terminal
Sure, I know that is not the best practice but I need to launch that node with sudo priviliges because it must use eno interface


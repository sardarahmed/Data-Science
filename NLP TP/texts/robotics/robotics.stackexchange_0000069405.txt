Q:

transformed coordinates negated and in wrong order

I'm trying to get the example code here: http://wiki.ros.org/image_geometry/Tutorials/ProjectTfFrameToImage
... to project object positions from gazebo into an image frame.
To get it to work correctly, I had to introduce a horribly hack - negating and rearranging the order of the coordinations on line 63:

   cv::Point3d pt_cv(pt.x(), pt.y(), pt.z());

   cv::Point3d pt_cv(-pt.y(), -pt.z(), pt.x());

Obviously, this is less than satisfactory, and I'm sure I'm doing something wrong up stream. Any suggestions as to how I might identify the source of the problem would be very much appreciated.
cheers!

Originally posted by lteacy on ROS Answers with karma: 1 on 2015-08-26
Post score: 0

A:

This looks very much like you're mixing up the camera frame and the optical frame. They are two different coordinate systems. Usually a driver launch script (e.g. for kinect) provides the transformation between both. If you apply that it will perform your horrible hack in a controlled manner.

Originally posted by dornhege with karma: 31395 on 2015-08-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by lteacy on 2015-08-28:
works now - thanks!


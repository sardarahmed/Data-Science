Q:

MoveIt! Look at/point at while moving

Hello!
For our experiments we need our UR5 to keep the end effector pointing at specific targets while the arm is moving. Since the OrientationConstraint appears to just fix the relevant wrist joints in place, this seems not to be what we want. Is there an easy way to do it/some existing code we could use?
I'd like to avoid having to implement a custom controller - I'm not even sure at which point I'd have to insert it. Maybe the UR driver?
Hope you can give me some hints.
Thanks!
~

Originally posted by Managarm on ROS Answers with karma: 28 on 2017-09-29
Post score: 0

A:

I'm not sure how useful this is going to be, but I wanted to mention it: there is a VisibilityConstraint in the moveit_msgs package. From the msg documentation:

The constraint is useful to maintain visibility to a disc (the target) in a particular frame.
This disc forms the base of a visibiliy cone whose tip is at the origin of the sensor.
Maintaining visibility is done by ensuring the robot does not obstruct the visibility cone.
Note:
This constraint does NOT enforce minimum or maximum distances between the sensor
and the target, nor does it enforce the target to be in the field of view of
the sensor. A PositionConstraint can (and probably should) be used for such purposes.

I haven't used this myself, but I have the impression this would come closest to what you describe in your OP.
The reason I started my answer with "I'm not sure how useful this is going to be" is that constraints are non-trivial to get working correctly with MoveIt plan requests, so starting with this might lead you down a path where you have to spend quite some effort to get it to do what you want.
It could also "just work".

I'm not entirely sure whether it will help, but you could also take a look at the bio_ik package created by the TAMS group at Hamburg University. It also supports a nr of constraints that could potentially do what you are after.

Originally posted by gvdhoorn with karma: 86574 on 2017-09-30
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Managarm on 2017-10-04:
Thanks for the suggestion. I might try that if nothing else works, but from what I've found it is not what I need.
I have to admit though that the bio_ik package looks intriguing!
Comment by gvdhoorn on 2017-10-04:
Which bit is "not what [you] need"? The VisibilityConstraint?
Comment by Managarm on 2017-10-13:
The VisibilityConstraint.
I think I'll try to use bio_ik though. I didn't have time to integrate it yet, but I'll get back to you when I do. Should probably happen this year... Thanks!


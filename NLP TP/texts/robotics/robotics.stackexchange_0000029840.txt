Q:

What tf information does vslam_system need?

Hello,
is there anyone that could tell me (or better update the tutorial ;) to
explain precisely what are the tf requirements for vslam_system.
The bag files seems to contain tf information but the wiki does not say
anything about it.
I currently have a bag file containing an image sequence from a calibrated stereo setup.
It would be nice if the tutorial could explain all the steps required to switch from the provided sequence to a custom one.
Thanks!

Originally posted by Thomas on ROS Answers with karma: 4478 on 2011-02-24
Post score: 3

Original comments
Comment by Thomas on 2011-03-02:
The bag file from the tutorial works fine. My question would be: how to use my own bag file? The bag provided bag file seems to include tf information. Is it required? What are the frames that are used by vslam? I suppose it would at least need the transformation between the sensor and the main body
Comment by Chad Rockey on 2011-02-24:
Hi, are you trying to run with the bag file from this tutorial: http://www.ros.org/wiki/vslam_system/Tutorials/RunningVslamOnStereoData ? Or are you trying to run with your own setup?

A:

If you're following the tutorial then you'll be using:
roslaunch vslam_system stereo_vslam.launch
If you look at the stereo_vslam.launch file, it has:
<node name="stereo_vslam_node"...

This is launching the binary compiled from the source  vslam_system/src/nodes/stereo_vslam_node.cpp.  If you check that file, you'll see that it only subscribes to these topics:
// Synchronize inputs
l_image_sub_.subscribe(it_, "left/image_rect", 1);
l_info_sub_ .subscribe(nh_, "left/camera_info", 1);
r_image_sub_.subscribe(it_, "right/image_rect", 1);
r_info_sub_ .subscribe(nh_, "right/camera_info", 1);
sync_.connectInput(l_image_sub_, l_info_sub_, r_image_sub_, r_info_sub_);

So to answer your question, there's no tf inputs needed. You may be able to get it to broadcast odometry data as tf's if you provide the base_footprint transform. However that code (in the latest svn) is disabled with an if (0).

Originally posted by rreid with karma: 124 on 2011-04-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by rreid on 2011-05-10:
@tom: I've been using pre-recorded image sequences with vslam_system/src/run_stereo.cpp.
Comment by tom on 2011-04-29:
@rreid: Have you been able to run VSLAM with your own data? I'm struggling to get VSLAM working using stereo images published by uvc_camera stereo_node. I did topic remappings needed but vslam doesn't work properly: http://answers.ros.org/question/864/vslam_system-not-publishing-visual-odometry


Q:

rosnode zombies

Sometimes when a node crashes, or I kill it, it still shows up in rosnode list.  I don't seem to be able to find the process using ps.  And the node does not go away in the list when i do a rosnode kill <node>.  I have seen this with both 'regular' nodes as well as ros tools such as rostopic.
The only thing that seems to work is to kill and restart the roscore.
This is not a major issue for me, I was just wondering what was going on here.

Originally posted by baxelrod on ROS Answers with karma: 794 on 2011-03-22
Post score: 8

A:

Registrations in the master currently don't expire -- we plan on adding in a TTL.  You can remove these stale registrations by running "rosnode cleanup". This will remove the registration of any node that cannot be contacted immediately (buyer beware).

Originally posted by kwc with karma: 12244 on 2011-03-22
This answer was ACCEPTED on the original site
Post score: 9

Original comments
Comment by Patrick Bouffard on 2011-03-22:
Good info, those are all things that can be stated in the documentation :-)
Comment by kwc on 2011-03-22:
The cleanup command is a stop gap.  It's use is not encouraged in normal operation.  It's benefit is aesthetic and it has the downside of potentially unregistering functioning nodes.
Comment by Patrick Bouffard on 2011-03-22:
Cool. The 'cleanup' subcommand isn't mentioned on the rosnode wiki page, and also not in the help text ('rosnode -h'). Is there a reason it is undocumented?


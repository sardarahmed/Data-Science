Q:

roboearth: record object, could not get camera pose

Hi,
I'm trying to run the roboearth object recording package on electric turtlebot.
I started the turtlebot by running minimal bring up, run the kinect by ar_kinect_turtlebot.launch.
Now I run the ar_bounding_box and re_object_recorder, there's no point cloud in the GUI.
in the terminal running ar_bounding_box, I got log messages:
1.02 seconds needed for normal estimation
estimating normals
0.98 seconds needed for normal estimation
estimating normals
0.97 seconds needed for normal estimation
estimating normals

in the terminal running re_object_recorder, there's log messages:
[ INFO] [1330939288.173355473]: Received PointCloud
[ WARN] [1330939288.179008129]: could not get camera pose: Lookup would require extrapolation into the past.  Requested time 1330939027.069164217 but the earliest data is at time 1330939278.591224731, when looking up transform from frame [/PATTERN_BASE] to frame [/camera_rgb_optical_frame]
[ INFO] [1330939295.673110834]: Received PointCloud
[ WARN] [1330939295.678817045]: could not get camera pose: Lookup would require extrapolation into the past.  Requested time 1330939030.977755762 but the earliest data is at time 1330939285.791464750, when looking up transform from frame [/PATTERN_BASE] to frame [/camera_rgb_optical_frame]
[ INFO] [1330939303.667651668]: Received PointCloud
[ WARN] [1330939303.673169822]: could not get camera pose: Lookup would require extrapolation into the past.  Requested time 1330939034.867899911 but the earliest data is at time 1330939294.192349816, when looking up transform from frame [/PATTERN_BASE] to frame [/camera_rgb_optical_frame]

And on the recorder_gui, there's no point cloud.
I try to change the distance and angle of the kinect, but couldn't get any useful point cloud.
Does anyone know how to fix this problem?
Thanks a lot!!
/gemini

Originally posted by Gemini Ma on ROS Answers with karma: 32 on 2012-03-04
Post score: 0

Original comments
Comment by Gemini Ma on 2012-03-12:
Thanks for the reply. I comment out the try-catch block and now get more useful point clouds.

A:

This seems to be a timing issue; ar_bounding box is running slow on your machine, thus some transformations are dropped. Some ideas:

Try to increase the tf cache. In re_object_recorder/src/comthread.cpp, around line 59, change the ComThread constructor to e.g:
ComThread::ComThread(QObject *parent) :
QThread(parent), tf(ros::Duration(30.0))

In re_object_recorder/src/comthread.cpp: Try to comment lines 115 - 129 out (this is a try-catch-block). This will disable storing the camera pose in the merged point cloud, which is not really necessary.

Originally posted by ddimarco with karma: 916 on 2012-03-09
This answer was ACCEPTED on the original site
Post score: 0


Q:

Applying wrench to object and update rate of gazebo_ros_force plugin

I'm currently working on getting a simulated quadrotor to work by applying a wrench to it using the gazebo_ros_force plugin. It appears that the required force to lift the UAV is antiproportional to the update frequency of the gazebo_ros_force plugin. The UAV's simulated mass is 1.3kg. If I use the plugin with a update rate of 100Hz, I need a force of 130N to lift it off the ground. OTOH, if I use a update rate of 1000Hz (same as gazebo time_step), I only need 13N (as expected).
This kind of makes sense, if the plugin applies the wrench only at the time instance when it runs (on average every sim cycle at 1kHz, but only every tenth sim cycle at 100Hz). Is there any way to change this? It seems awkward, brittle and error prone to have to increase the effort or change the plugin's update rate every time the sim time_step changes.

Originally posted by Stefan Kohlbrecher on ROS Answers with karma: 24361 on 2012-01-04
Post score: 1

A:

Just stumbled over the answer:
Yes, the force applied is indeed related to the relative update rates of the gazebo_ros_force plugin vs simulation step_time as described above.
There are some old tickets about this, but the problem hasn't been solved. The "fix" basically is to let the force plugin run at the same rate as simulation.
See also:

https://code.ros.org/trac/ros-pkg/ticket/4050
https://code.ros.org/trac/wg-ros-pkg/ticket/4004

and

http://ros-users.122217.n3.nabble.com/Gazebo-Vehicle-Simulation-td774238.html

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2012-01-11
This answer was ACCEPTED on the original site
Post score: 0


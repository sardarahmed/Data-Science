Q:

BT-Navigator transition error

Hello,
I am currently working on a multi-robot simulation, you can find the package here:
https://github.com/HarunTeper/AuNa
When I try to launch multiple robots with the navigation stack (only localization and navigation, no slam), I get the following transition error link.
This error can be replicated by building the package and running the following command:
ros2 launch car_simulator scenario_multi_robot_racetrack.launch.py
What changes do I have to apply to my launch setup, so that the navigation components are properly setup?

Originally posted by HarunTeper on ROS Answers with karma: 13 on 2021-12-18
Post score: 1

A:

Address already in use

That appears to be your error, I’d look into why that’s being a problem, which is in turn failing the lifecycle transition causing the Lifecycle Manager / BT Navigator issue.
I’d also use the CLI to verify everything is namespaced with robot0/1 properly, but from the logs it looks correct to me. Could also just be an issue with node name collisions when the manager is trying to transition up a server of the same name that was already up from the other robot’s manager.

Originally posted by stevemacenski with karma: 8272 on 2021-12-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by HarunTeper on 2021-12-20:
I found the source of the error. I am using ROS2-Foxy for this package. In the file bt_navigator.cpp, in line 181+, if I disable "addGrootMonitoring", the error does not occur and I can control both cars.
Comment by stevemacenski on 2021-12-20:
That makes sense, the fix for multiple ZMQ port options was made in galactic or newer. We couldn’t backport due to the fix requiring ABI breaking changes. Turning Groot monitoring off would entirely fix the issue related to creating multiple ZMQ client instances in a single process.


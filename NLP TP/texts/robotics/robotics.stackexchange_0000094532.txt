Q:

Is it correct to set topic names from parameters?

This is a mix of a practical question and an academic question.
When, if ever, is it correct to set topic names from parameters? If it is, how do you handle aspects such as the default topic name and clashes with remappings in launch files?

Originally posted by Geoff on ROS Answers with karma: 4203 on 2020-01-28
Post score: 6

Original comments
Comment by gvdhoorn on 2020-01-29:
Just a quick note: if remapping worked slightly better (ros/ros_comm#954, ros/ros_comm#236 and ros/ros_comm#209 fi) I would actually answer "never" to your question. As it is, using parameters may sometimes be the faster option to "get something to work".
Remapping is part of configuration of the application, not the node. It's an activity that happens outside of the node itself, as it is part of the composition step of your application.
If you start using parameters for this, separation of concerns seems violated to me, as suddenly nodes become responsible for 'knowing' how to integrate into a composite. That's not something I'd like.

Edit: just noticed the eloquent tag. As there is also a melodic tag, I linked to issues in ros_comm.
Comment by stevemacenski on 2020-01-30:
I tried to start a conversion and I was down voted for it :(
Comment by tfoote on 2020-02-04:
The voting here is whether you agree or disagree with the stated answer to try to build a consensus on what is the best approach. It's not a measure of the value of your statements or the validity of your concerns. But if an individual doesn't think that the answer is something that someone in the future should follow that's why they would downvote it.

A:

My quick answer is "only when the number of topics being used is unknown". For example, in the navigation stack where you use parameters to control which sensor topics are subscribed to in order to detect obstacles.
At all other times I think remapping should be used.

However, if there are cases where remapping is not powerful enough, then parameters might be appropriate, but I would say that's a work around and instead we should try to improve remapping to allow for more complex cases. For example, in ROS 2 we described how you could use regex-like behavior in remapping, e.g. remap /front/*/image_raw to /front_new/\1/image_raw (see https://design.ros2.org/articles/static_remapping.html#replacement-part-of-a-rule), which more cases than were allowed in ROS 1.

Originally posted by William with karma: 17335 on 2020-01-30
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Geoff on 2020-02-02:\

I would say that's a work around and instead we should try to improve remapping to allow for more complex cases

This is my feeling, too.


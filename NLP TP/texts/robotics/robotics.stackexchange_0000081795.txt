Q:

How to install additional ros packages in a docker ros container?

Dear all,
Recently, I downloaded Docker in my Mac and I pulled the latest ROS container (which is the kinetic-ros-base).
I have developed a stack for my robot which includes a URDF description.
URDF is not part of the res-base distribution and cannot catkin_make my workspace.
I tried to apt-get the URDF but it cannot find in the cache. Probably, I need to find a different way to add in ROS.
Does anybody have any idea?
Regards,
Angelos

Originally posted by angelos.p on ROS Answers with karma: 148 on 2017-07-14
Post score: 1

A:

Did you run apt-get update before apt-get install? Many Dockerfiles wipe the apt cache to reduce image size.
So you don't have to reinstall urdf every time your start your container, you could make your own image with a Dockerfile something like this:
FROM ros:kinetic-ros-base
RUN apt-get update && apt-get install -y ros-kinetic-urdf && apt-get clean

Originally posted by Ed Venator with karma: 1185 on 2017-07-14
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by angelos.p on 2017-07-15:
Thanks Ed, worked nice - These are my first days using docker and I didn't know that!
Comment by ruffsl on 2017-07-20:
We also wipe the them to prevent users from accidentally using stale or expired caches that could otherwise indeterminate break other dependent docker builds. This also helps prevent users from writing Dockerfiles with bad practices, such as relying on caches from the parent image.


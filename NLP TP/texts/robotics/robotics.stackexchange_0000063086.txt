Q:

rviz and moveit_msgs/DisplayRobotState problem

I'm running a simple arm with ros indigo.  Moveit kind of works, but I'm not able to visualise the real robot movement when moveit is running.  I get the following warning:
[WARN] [WallTime: 1412473268.164081] Could not process inbound connection: topic types do not match: [moveit_msgs/DisplayRobotState] vs. [sensor_msgs/JointState]{'topic': '/joint_states', 'tcp_nodelay': '0', 'md5sum': '6a3bab3a33a8c47aee24481a455a21aa', 'type': 'moveit_msgs/DisplayRobotState', 'callerid': '/rviz_1412473260929342276'}
I have joint state publisher and robot state publisher in my launch file:
When MotionPlanning plugin is activated in rviz then the feedback stops.  If moveit is not running then RobotState shows exact movements of the run (I can move the arm when torque is switched off).
After a bit of debugging I've noticed that MotionPlanning plugin in rviz expects type moveit_msgs/DisplayRobotState.  Any other component like RobotState plugin waits for sensor_msgs/JointState.
Do you think this is a bug in MotionPlanning or I'm missing something?
Many thanks in advance!

Originally posted by marcino2391 on ROS Answers with karma: 26 on 2014-10-04
Post score: 0

A:

Problem is solved.  It turns out that RobotState is not the right tool as it waits for DisplayRobotState message.  The plugin was subscribing to /joint_states instead of /display_robot_state (you can set this up in Rviz).  Use RobotModel instead as it subscribes to TF frame.

Originally posted by marcino2391 with karma: 26 on 2014-10-05
This answer was ACCEPTED on the original site
Post score: 1


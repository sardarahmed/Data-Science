Q:

ni compile error under diamondback

Hi,
I install the latest diamondback (RC3) and trying to install ni per http://www.ros.org/wiki/ni
However, on step "rosmake ni --rosdep-install", I got the following error for the "disparity_view". it seems to look for the cturtle link in the diamondback ni build.
Can someone fix this?
thanks,
-Qi
Output below:
[rosmake-0] Starting >>> disparity_view [ make ]                                                                                                           
[ rosmake ] All 16 linesisparity_view: 0.7 sec ]                                                                                [ 1 Active 28/63 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  CMake Error at build/CMakeFiles/CMakeSystem.cmake:1 (INCLUDE):
    include could not find load file:
  
      /opt/ros/cturtle/ros/core/rosbuild/rostoolchain.cmake
  Call Stack (most recent call first):
      
  [rosbuild] Building package disparity_view
  [rosbuild] Including /opt/ros/diamondback/stacks/ros_comm/clients/roslisp/cmake/roslisp.cmake
  [rosbuild] Including /opt/ros/diamondback/stacks/ros_comm/clients/rospy/cmake/rospy.cmake
  [rosbuild] Including /opt/ros/diamondback/stacks/ros_comm/clients/cpp/roscpp/cmake/roscpp.cmake
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package disparity_view written to:
[ rosmake ]    /home/blurpc2/.ros/rosmake/rosmake_output-20110227-152728/disparity_view/build_output.log
[rosmake-0] Finished <<< disparity_view [FAIL] [ 0.73 seconds ]                                                                                            
[ rosmake ] Halting due to failure in package disparity_view. 

Originally posted by Qi on ROS Answers with karma: 28 on 2011-02-27
Post score: 0

A:

OK. I have finally successfully compiled the ni with the following changes:

in  ~/ni/setup.sh, change cturtle to damondback.
in the following files, change cturtle to damondback.
/home/blurpc2/ni/ni/pointcloud_to_laserscan/build/CMakeFiles/CMakeSystem.cmake
/home/blurpc2/ni/ni/openni_tracker/build/CMakeFiles/CMakeSystem.cmake
/home/blurpc2/ni/ni/disparity_view/build/CMakeFiles/CMakeSystem.cmake

After the above changes, ni compiles under diamondback! ;)

Originally posted by Qi with karma: 28 on 2011-02-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Patrick Bouffard on 2011-02-28:
I imagine the 'recommended' way to do #1 would be to re-run rosinstall, though personally, I would just add ~/ni to ROS_PACKAGE_PATH in .bashrc and not bother with rosinstall. But for #2 you shouldn't have to change those files as they are autogenerated. The --pre-clean flag for rosmake would help.


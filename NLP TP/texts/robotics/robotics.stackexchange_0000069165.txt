Q:

How can I run roscore from python?

Whenever I launch a node from python using the roslaunch script api :
#Start roslaunch
launch = roslaunch.scriptapi.ROSLaunch()
launch.start()

# start required nodes
empty_srv_node = roslaunch.core.Node('rostful_node', 'emptyService.py', name='empty_service')
empty_srv_process = launch.launch(empty_srv_node)

I get an error on rospy.init_node() because master is not started :
Unable to register with master node [http://localhost:11311]: master may not be running yet. Will keep trying.

Question :
How can I run roscore ( not only rosmaster ) from python if needed ? I would expect roslaunch to do it but it seems it doesnt.
Thank you.

Originally posted by asmodehn on ROS Answers with karma: 131 on 2015-08-11
Post score: 5

A:

I don't know the ros way to do it, and personally I use python subbprocess to run the roscore first:
import subprocess
roscore = subprocess.Popen('roscore')
time.sleep(1)  # wait a bit to be sure the roscore is really launched

then your code:
unittest.main()  # for instance in my case I need a roscore to run some node tests

Originally posted by lgeorge with karma: 123 on 2015-12-30
This answer was ACCEPTED on the original site
Post score: 3


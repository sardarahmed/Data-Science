Q:

Import movie file (MPEG/AVI/MOV) into rosbag

Is there any way to import an MPEG movie file into a rosbag format?
I have some video recorded off of an HD digital camera that I want to do various processing on (camera calibration and ar_pose), but I'm not sure how to get it into a format that I can use in ROS.

Originally posted by mjcarroll on ROS Answers with karma: 6414 on 2011-04-11
Post score: 1

Original comments
Comment by karim02 on 2015-01-20:
Hello
I have the same problem, could you help me how to convert a movie file into a rosbag?
thank you very much

A:

I'll post my code for this tomorrow on my git, I can't push from out of my office. The only thing I still need to add the camera info from xml file and a better way to compute the timestamp, suggestions are welcome.
I've pushed it to : KU Leuven OpenCV Git

Originally posted by KoenBuys with karma: 2314 on 2011-04-12
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by mjcarroll on 2011-04-13:
Thanks! This looks like what I needed.  I'll try it out and let you know.
Comment by zweistein on 2013-11-04:
'I tired your code with some avi files, but with non works, i get:
./bin/video_to_bag v1.bag ~/Desktop/v2.avi
INFO: usage = video_to_bag  
INFO: starting conversion
INFO: got fps of: 25, or 0.040000 incrementation
ERROR: Could not grab a frame, perhaps we're at the end of the movie'
What could be the problem?  I can play the movies with a software.


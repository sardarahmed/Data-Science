Q:

Using I2C with BCM2835 driver on the Raspberry Pi

Hi,
Im currently trying to use a Raspberry Pi with ROS with some success, roscore works fine and all is well and good with the exception of one problem.
Im using the BCM2835 driver available at http://www. airspayce.com/mikem/bcm2835/ (followed the instructions and made the target and installed it with make install)
This works when writing a normal executable when following the tutorials but I can't get it to work when writing it into a basic node. I think the problem is that it cant find the header files needed hence the "undefined reference" error when invoking "catkin_make", I have tried adding the following into the the CMakeList.txt to point ROS to the library.
include_directories(include ${catkin_INCLUDE_DIRS})
include_directories(include /home/pi/catkin_ws/src/bcm2835-1.26/src)
in the main code:
#include<bcm2835.h>  //This with numerous variations including the full file path and without the .h
This of course had no effect I would ideally like to use the BCM2835 library for this project.  I realize im making a rookie error and its just a case of organizing my libraries along with not a lot of Linux experience but im a little lost with it and would appreciate any help suggestions.
Many thanks

Originally posted by VeryNewToROS on ROS Answers with karma: 3 on 2013-08-20
Post score: 0

A:

There is a library called wiringPi which implements more features than the BCM library and is a lot easier to use. I started writing a ROS wrapper using the bosch_drivers architecture. If you only want to access the GPIOs, the code should work out of the box, there is even a gpio test program. I2C is implemented but not tested. It would be great if you could contribute. Just follow the instructions in the README
https://github.com/kalectro/raspi_interface

Originally posted by kalectro with karma: 1554 on 2013-08-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by VeryNewToROS on 2013-08-22:
Perfect thanks Kia,
I'll start working with it, I'll keep you informed of my experiences with it.
Many thanks


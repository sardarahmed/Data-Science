Q:

How to run uvc_camera stereo nodelet?

I just edited out the stereo_nodelet.launch that comes with the uvc_camera package and then added a couple of nodes:
<launch>
  <node pkg="nodelet" type="nodelet" name="camera_process" args="manager" output="screen"/>

  <node pkg="nodelet" type="nodelet" name="uvc_camera_stereo" args="load uvc_camera/Stereo /camera_process" output="screen">
    <param name="width" type="int" value="320" />
    <param name="height" type="int" value="240" />
    <param name="fps" type="int" value="60" />
    <param name="frame" type="string" value="narrow_stereo" />
    <param name="left/device" type="string" value="/dev/video0" />
    <param name="right/device" type="string" value="/dev/video1" />
    <param name="left/camera_info_url" value="file://$(find stereo_pseye)/params/ps_eye_left.yaml" />
    <param name="right/camera_info_url" value="file://$(find stereo_pseye)/params/ps_eye_right.yaml" />
    <remap from="/left/image_raw" to="/stereo/left/image_raw"/>
    <remap from="/right/image_raw" to="/stereo/right/image_raw"/>
    <remap from="/left/camera_info" to="/stereo/left/camera_info"/>
    <remap from="/right/camera_info" to="/stereo/right/camera_info"/>
  </node>

  <node ns="stereo" name="stereo_image_proc" pkg="stereo_image_proc" type="stereo_image_proc">
        <remap from="stereo_image_proc" to="proc" />
  </node>
  <node name="dynamic_reconfigure_load" pkg="dynamic_reconfigure" type="dynparam" args="load /stereo/proc $(find stereo_pseye)/params/ps_eye_stereo.yaml" />
</launch>

And here is the output from launching:
... logging to /home/roboteknik/.ros/log/901b5ebe-600e-11e0-95df-00012e2bb8e1/roslaunch-roboteknik-desktop-29965.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://roboteknik-desktop:52183/

SUMMARY
========

PARAMETERS
 * /rosdistro
 * /uvc_camera_stereo/left/device
 * /uvc_camera_stereo/right/camera_info_url
 * /uvc_camera_stereo/left/camera_info_url
 * /rosversion
 * /uvc_camera_stereo/frame
 * /uvc_camera_stereo/right/device
 * /uvc_camera_stereo/width
 * /uvc_camera_stereo/fps
 * /uvc_camera_stereo/height

NODES
  /stereo/
    stereo_image_proc (stereo_image_proc/stereo_image_proc)
  /
    camera_process (nodelet/nodelet)
    uvc_camera_stereo (nodelet/nodelet)
    dynamic_reconfigure_load (dynamic_reconfigure/dynparam)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
process[camera_process-1]: started with pid [29983]
process[uvc_camera_stereo-2]: started with pid [29989]
process[stereo/stereo_image_proc-3]: started with pid [29991]
process[dynamic_reconfigure_load-4]: started with pid [30015]
[ INFO] [1302067659.004025404]: Loading nodelet /uvc_camera_stereo of type uvc_camera/Stereo to manager /camera_process with the following remappings:
[ INFO] [1302067659.004331790]: /left/camera_info -> /stereo/left/camera_info
[ INFO] [1302067659.004419777]: /left/image_raw -> /stereo/left/image_raw
[ INFO] [1302067659.004486763]: /right/camera_info -> /stereo/right/camera_info
[ INFO] [1302067659.004560530]: /right/image_raw -> /stereo/right/image_raw
[ERROR] [1302067659.048475968]: Failed to load nodelet [/uvc_camera_stereo] of type [uvc_camera/Stereo]: According to the loaded plugin descriptions the class uvc_camera/Stereo with base class type nodelet::Nodelet does not exist. Declared types are  image_proc/debayer image_proc/rectify image_view/disparity image_view/image pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/TestListener pcl/TestPingPong pcl/TestTalker pcl/VFHEstimation pcl/VoxelGrid stereo_image_proc/disparity stereo_image_proc/point_cloud stereo_image_proc/point_cloud2 test_nodelet/ConsoleTest test_nodelet/Plus uvc_camera/CameraNodelet uvc_camera/StereoNodelet
Waiting for service /stereo/proc/set_parameters...
[dynamic_reconfigure_load-4] process has finished cleanly.
log file: /home/roboteknik/.ros/log/901b5ebe-600e-11e0-95df-00012e2bb8e1/dynamic_reconfigure_load-4*.log
[uvc_camera_stereo-2] process has finished cleanly.
log file: /home/roboteknik/.ros/log/901b5ebe-600e-11e0-95df-00012e2bb8e1/uvc_camera_stereo-2*.log

Originally posted by Homer Manalo on ROS Answers with karma: 475 on 2011-04-05
Post score: 0

A:

The error message shows you the available plugins; there, you can see that uvc_camera/StereoNodelet exists, but uvc_camera/Stereo doesn't. So the solution is to replace uvc_camera/Stereo by uvc_camera/StereoNodelet in the following line:
<node pkg="nodelet" type="nodelet" name="uvc_camera_stereo" args="load uvc_camera/Stereo /camera_process" output="screen">

Originally posted by Martin GÃ¼nther with karma: 11816 on 2011-04-05
This answer was ACCEPTED on the original site
Post score: 1


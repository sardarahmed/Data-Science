Q:

hokuyo dies in ros-gazebo, works in gazebo?

I've just upgraded to ROS Jade and Gazebo 5.0 and am having problems with my robot model.
When I take out my lidar node, my world works with both
$ gazebo myworld.world
and
  $roslaunch mylaunch.launch
where mylaunch wraps myworld.world.
But when I add my hoyoyo lidar (as used to work in Indigo), it works with
$ gazebo myworld.world
but segfaults when I run gazebo through roslaunch.   Any ideas?
Here's what I add to sdf for the lidar:

model://hokuyo
0.45 0 0.45   0 0.15 0

hokuyo::link
chassis

0 0 1

0
0

Originally posted by charles.fox on ROS Answers with karma: 120 on 2015-11-20
Post score: 0

A:

Some more info on this:
If I remove the hoyuko from the model.sdf and add it manually to the scene using the Gazebo GUI:
Running gazebo directly -- this works and inserts a 3D model lidar with a visible blue ray
Running via roslaunch: -- it inserts the 3D lidar model but no blue rays are seen -- suggests something wrong

Originally posted by charles.fox with karma: 120 on 2015-11-20
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by charles.fox on 2015-11-20:
OK the problem is that the GPU laser plugin isn't working under roslaunch since I moved to Jade/Gaz5.0.   If I go back to non-GPU then it works again,
<controller:gazebo_ros_laser name="gazebo_ros_laser_controller" plugin="libgazebo_ros_laser.so">
could this be a bug in the latest gpu plugin ?


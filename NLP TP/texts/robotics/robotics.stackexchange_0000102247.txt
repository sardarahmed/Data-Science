Q:

[ROS2] node names relation between launch file and executable

Hi there,
this might be a basic question but thus far I haven't found specifics in the docs or tutorials.
What is the actual relation between node names specified within the launch file and the executable?
For example in my Python launch file, I include the node:
move_group_node = Node(
            package='motion_planner', # name of my package
            executable='mgi_planner', # name of my executable as given in CMake file
            name='move_group_interface_planner', # name my node will have
            output='screen',
            parameters=[robot_description, robot_description_semantic, kinematics_yaml]
        )

In my executable i use:
auto move_group_node = rclcpp::Node::make_shared("move_group_interface_planner", node_options);

Do the names have to match or will the name given in the launch file simply overwrite the one given in the .cpp? Meaning is the name given within the .cpp only for use within the file?
And what would happen if my executable contains multiple nodes? How do I distinguish them in the launch file?
I'm using ROS2 foxy on Ubuntu 20.04.4 LTS

Originally posted by comala on ROS Answers with karma: 3 on 2022-08-07
Post score: 0

A:

Do the names have to match

No.

will the name given in the launch file simply overwrite the one given in the .cpp?

Yes.

what would happen if my executable contains multiple nodes? How do I distinguish them in the launch file?

One executable contains one node. However, you may want to run one node many times. In this situation, you should assign a unique name to each node. For example, consider you are trying to use two cameras. You have already written the node which process image from a camera. Therefore, you can simply do the following:
camera_node_1 = Node(
            package='my_camera_pkg',
            executable='image_proc',
            name='camera_1',         # <- assign a unique name here
            output='screen',
            parameters=[camera_serial_no]
        )
camera_node_2 = Node(
            package='my_camera_pkg',
            executable='image_proc',
            name='camera_2',         # <- assign a unique name here
            output='screen',
            parameters=[camera_serial_no]
        )

This is one feature out of many great features provided by launch files. It allows you to change the name, namespace, etc., without touching the code.

Originally posted by ravijoshi with karma: 1744 on 2022-08-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by comala on 2022-08-09:
Thanks, that cleared it up!


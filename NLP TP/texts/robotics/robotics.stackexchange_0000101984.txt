Q:

How to check if Cartesian trajectory is executed successfully

Hello,
I am working with RviZ and MoveIt! to control the ABB arm with ros melodic. But the problem is when I give two robot movements one after another of both the cartesian path with compute_cartesian_path with group.execute(plan, wait=False) I am getting the below error:

I know the reason that while I am using here in group.execute(wait=False), because of wait = False is, the controller does not wait to complete and it shows th error of cannot push a new trajectory while one is being executed. But my concern is that in my case I have to use  async movement to track and  stop the robot in between (in case of sensor
activation).
So question how can I detect if last trajectory is finished and ready to take new trajectory in Python? Or is there any other solution?
Thanks in advance!

Originally posted by Dhara on ROS Answers with karma: 16 on 2022-06-21
Post score: 0

Original comments
Comment by Mike Scheutzow on 2022-06-21:
Please do not use use screen shots of text output. Instead, copy/paste the text into your description and format it using the 101010 button.

A:

Found an answer:
After the cartesian trajectory starts to execute, subscribe to the topic /execute_trajectory/feedback in which track the State of the this topic. If the data.feedback.state is MONITOR, the trajectory still executing and as soon as this data.feedback.state is changed to  IDLE, it means the trajectory is finished. After that, next trajectory can be sent to moveIt.

Originally posted by Dhara with karma: 16 on 2022-06-28
This answer was ACCEPTED on the original site
Post score: 0


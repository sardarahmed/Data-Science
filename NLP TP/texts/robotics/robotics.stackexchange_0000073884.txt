Q:

How to handle "Schunk LWA4P joint angle's origin changes on Robot On/OFF"?

I tried a pick and place application developed in ROS with Schunk LWA4P robotic arm. Initially it worked fine completely. Even when I shut down the robot at positions apart from home (all angles 0 degree) it worked fine on next new initialization.
But now I am facing a weird problem with joint 5’s angle. For example when I shut down my robot with a pose which has following angles values, (as obtained from rostopic “/arm/joint_states”)

Joint 1 = 1.57 radians; Joint 2 = -1.23 radians; Joint 3 = 1.88 radians; Joint 4 = 0.0 radians; Joint 5 =
0.745 radians; Joint 6 = -1.48 radians

After ros service call for shut down, I turned off the robot and started again with new initialization. After initialization rostopic “/arm/joint_states“ displays the angle values of same pose at which it stopped now as

Joint 1 = 1.57 radians; Joint 2 = -1.23 radians; Joint 3 = 1.88 radians; Joint 4 = 0.0 radians; Joint 5 = 0.0
radians; Joint 6 = -1.48 radians

I could see an incorrect joint 5 angle.
Initially it was not happening but now it happens all the time when I newly start the robot. This mismatch occurs only at joint 5.
Can anyone help me out in resolving the same?

Originally posted by SaranKanag on ROS Answers with karma: 21 on 2016-05-11
Post score: 0

A:

I have worked with this particular arm and have faced the same issue. After a lot of digging, I realised that it is not a problem with ROS.
You should use a CANalyser to connect to the Schunk MTS tool and check the CAN protocol. Sometimes, it erroneously resets to CAN whereas, it should be CANOpen. Change that back to CANOpen (you might need to change to admin to do that) and that will fix this issue.
You can also consider setting the reference values and the joint limits using this tool.

Originally posted by DebasmitaGhose with karma: 58 on 2018-07-31
This answer was ACCEPTED on the original site
Post score: 0


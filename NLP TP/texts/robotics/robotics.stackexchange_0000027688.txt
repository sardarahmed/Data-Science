Q:

Model can't be fixed the orientation

Hello, Gazebo community!
I was learning the tutorial about the placing models in some orders and I wanted to implement it in my project. I took some models from 3D google repository and corrected them by following this tutorial.
My problem is the model (white_shelf2) can't be rotated on 90 degrees. I tried differently to fix the numbers of orientation (yaw exactly) in the world file (below it attached), but I cant still understand why the number were not published in Gazebo.
 <?xml version="1.0" ?> 
 <sdf version="1.5"> 
 <world name="default">

<include> 
<uri>model://ground_plane</uri> 
</include>

<include> 
<uri>model://sun</uri> 
</include>

<include> 
<uri>model://market_layout</uri> 
<name>market layout</name> 
<pose>0.107915 -0.228911 0.00 0.00 0.00 0.00</pose> 
</include>

<include> 
<uri>model://kassa</uri> 
<name>kassa</name> 
<pose>-4.712210 0.153002 -0.000002 0.000003 0.00 -1.573301</pose> 
</include>

<population name="white_shelves_population1"> 
<model name="white_shelf1"> 
<include>   
<static>true</static>   
<uri>model://white_shelves</uri> 
</include> 
</model> 
<pose>0.5 -7.4 0 0 0 0</pose> <!--pose of all shelves together -->  
<box>
<size>14 0.5 3</size> <!-- <size> is size of all shelves; all shelves will be in the size together -->
</box> 
<model_count>14</model_count> 
<distribution> 
<type>linear-x</type> <!-- models place along x-axis --> 
</distribution> 
</population>

<population name="white_shelves_population2"> 
<model name="white_shelf2"> 
<include> 
<static>true</static> 
<uri>model://white_shelves</uri> 
</include> 
</model> 
<pose>7.313923 1.442630 0.0 0.0 0.0 1.623000</pose> 
<box> 
<size>0.5 1.0 3.0</size> 
</box> 
<model_count>1</model_count> 
<distribution> 
<type>linear-y</type> 
</distribution> 
</population>
</world> 
</sdf>

This is screenshots:

In GUI, I placed the model in right position for getting the pose coordinates. Because, the "save" function doesn't work there, so I fixed the coordinates in my world file.
Jade, Ubuntu 14.04, Gazebo 5.1.0
Thank you in advance!

Originally posted by dyupleks on Gazebo Answers with karma: 13 on 2016-03-19
Post score: 0

Original comments
Comment by Peter Mitrano on 2016-03-26:
Which number are you changing? You should change this line by editing the last number:
7.313923 1.442630 0.0 0.0 0.0 1.623000
Comment by Peter Mitrano on 2016-03-26:
Which number are you changing? You should change this line by editing the last number:
7.313923 1.442630 0.0 0.0 0.0 1.623000
Comment by Peter Mitrano on 2016-03-26:
Which number are you changing? You should change this line by editing the last number:
<pose>7.313923 1.442630 0.0 0.0 0.0 1.623000</pose>
Comment by dyupleks on 2016-03-26:
There are two  tags. I have a problem with last one (white_shelves_population2). The   7.313923 1.442630 0.0 0.0 0.0 1.623000  doesnt fix in the model and the screenshots illustrates it.

A:

I'm assuming you want to place the shelves in an L shape, correct? The ones along the X axis are placed properly, and now you want to place the others along the Y axis.
It looks like you tried two approaches at the same time. You put the distribution along the Y axis, and also rotated the whole population.
Let's try it as follows. Keep the distribution along Y and remove the rotation from the population's pose. Now we need to rotate each individual shelf along its own Z axis, rather than rotating the whole population. For that, we add a <pose> element to each shelf (within the <include> tag) just with a yaw of 1.57. As follows:
<population name="white_shelves_population2">
  <model name="white_shelf2">
    <include>
      <static>true</static>
      <uri>model://bookshelf</uri>
      <pose>0.0 0.0 0.0 0.0 0.0 1.57</pose>
    </include>
  </model>
  <pose>7.313923 1.442630 0.0 0.0 0.0 0.0</pose>
  <box>
    <size>0.5 14 3.0</size>
  </box>
  <model_count>14</model_count>
  <distribution>
    <type>linear-y</type>
  </distribution>
</population>

I also increased the distribution to 14 shelves and changed the size accordingly. Here's how it looks like for me. Let me know if you were trying to do something different.

UPDATE:
We could also keep the population along the X axis and rotate the population itself to be along Y. But even in this case, we still need to fix the orientation of each individual model. It might not be the most straightforward behaviour, but it looks like the distribution is only touching model positions and keeping orientations intact.
To do that, we change the distribution to linear-x, add a yaw rotation to the population pose and change the size accordingly:
<population name="white_shelves_population2">
  <model name="white_shelf2">
    <include>
      <static>true</static>
      <uri>model://bookshelf</uri>
      <pose>0.0 0.0 0.0 0.0 0.0 1.57</pose>
    </include>
  </model>
  <pose>7.313923 1.442630 0.0 0.0 0.0 1.57</pose>
  <box>
    <size>15 0.5 3.0</size>
  </box>
  <model_count>14</model_count>
  <distribution>
    <type>linear-x</type>
  </distribution>
</population>

Originally posted by chapulina with karma: 7504 on 2016-03-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by dyupleks on 2016-03-28:
Thank you so much! Yes, I wanted to place the shelves in a L-shape. I didnt note that there exists  in include's tag.
@chapulina, why do the last 3 numbers need in population's  in case it doesn't fix the orientation?  & why cant it be rotated by population's ?
Comment by chapulina on 2016-03-28:
That's a good question. It looks like population pose only affects positions, but not orientations. I updated the answer with an example.


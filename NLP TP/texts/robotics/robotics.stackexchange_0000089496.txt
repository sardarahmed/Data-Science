Q:

How to publish a dictionary with other dictionary inside in a topic?

Hi all,
I'm trying to publish in a topic a dictionary with other dictionary inside so other ROS node is able to access to that information, but I do not know how can I do it. Anyone has any idea?
Thanks for your help!

Originally posted by Ivan_Sanchez on ROS Answers with karma: 41 on 2018-11-04
Post score: 0

Original comments
Comment by NEngelhard on 2018-11-04:
Which language are you using?

A:

I'm trying to publish in a topic a dictionary with other dictionary inside

As there are no direct dictionaries available in the message format, you have these options:

serialize the dictionary (as suggested in the other answer) and write it into a string variable (or uint8[] if it's a binary blob).
Flatten the dictionary to non-nested key-value pairs ({"key1": {"key2": {"key3": "value"}}} turns to [("key1.key2.key3": "value")]). Then you can use something like diagnostic_msgs/KeyValue[] to hold your data.
If you have one level of nesting, you can create a custom KeyDictValue message, in which you store the KeyValue[] "dictionaries" for each "top level" key.

Originally posted by moooeeeep with karma: 194 on 2021-07-15
This answer was ACCEPTED on the original site
Post score: 1


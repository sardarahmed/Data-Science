Q:

Has anyone used the KalmanFilter Opencv libraries inside ROS?

Hi,
I was wondering if someone has used the Kalman filter of Opencv inside ROS. The "normal" Opencv program works perfectly, but when i use it inside ros (The same code), it throws me the following error:
‘KF’ does not name a type
 KF.transitionMatrix = *(Mat_<float>(4, 4) << 1,0,1,0,   0,1,0,1,  0,0,1,0,  0,0,0,1);  

The relevant include is:
#include <opencv2/video/tracking.hpp>
#include <opencv2/video/video.hpp>

That is the same that I use in the normal Opencv code, but in ROS it doesnt work.
Thanks

Originally posted by erivera1802 on ROS Answers with karma: 59 on 2015-07-16
Post score: 1

A:

We've been doing this somethimes.
It is hard to debug this without more code.
But do you have KF initialized?  KF is just an object type, right?
So have you done somthing like the following anywhere in your code?
cv::KalmanFilter KF

Originally posted by mgruhler with karma: 12390 on 2015-07-17
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by erivera1802 on 2015-07-18:
Yeah, here is it:
int stateSize = 4;
int measSize = 2;
int contrSize = 0;
unsigned int type = CV_32F;
KalmanFilter KF(stateSize, measSize, contrSize)
Comment by mgruhler on 2015-07-20:
Do you have the code somewhere available? Because with only this I cannot help more.
Everything seems fine, as far as I see.
Only difference we have is that we explicitly #include <opencv2/core/core.hpp>, but that shouldn't make a difference.
Another guess: Do you link against OpenCV_LIBRARIES?


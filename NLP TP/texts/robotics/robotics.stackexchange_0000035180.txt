Q:

Making a .pgm map file for use with Stageros

Hi,
I wondering if someone can give some insight on how to get started.
If you startup Stageros for the first time, you have some sample worlds, willow-erratic.world and willow-four-erratic.world. There is also a .pgm file called willow-full. I have a floor layout from my department that came from architects of the building, it gives me the simulated ground truth for the building. The metrics are different than the sample files, and the map is bigger. From what I can gather, Stageros takes the black pixels from the image and constructs the map from that. The image I have is 2008 x 2008. Do I have to do resizing? What other information do I need to consider with the world file so it can work?
Thanks in advance.

Originally posted by osuairt on ROS Answers with karma: 69 on 2011-10-23
Post score: 0

A:

You do not particularly need a pgm image - you can use png image files too. If you are at Ubuntu, then you can make png file of your floor layout using gimp and use them with stage.
For the metric, you can play with this part of the code in willow-erratic.world;

window
(
size [ 745.000 448.000 ]
rotate [ 0.000 -1.560 ]
scale
28.806
)

You can find some sample png files (and world files), that I used in my simulation here;

http://mobotica.googlecode.com/files/simple-standalone.tar.gz

http://mobotica.googlecode.com/files/stage-controllers.tar.gz

You can also have a look at these tutorial, they actually make pgm images as outputs, however you will need to master stage before attempting them;

http://www.ros.org/wiki/slam_gmapping/Tutorials/MappingFromLoggedData

http://www.ros.org/wiki/stage/Tutorials/MakingMapsUsingStagesWanderController

Originally posted by Arkapravo with karma: 1108 on 2011-11-04
This answer was ACCEPTED on the original site
Post score: 1


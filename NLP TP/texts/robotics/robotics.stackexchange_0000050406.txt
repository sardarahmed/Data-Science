Q:

rviz Camera display incorporating CameraInfo operational parameters?

Does rviz support incorporating the operational parameters described in the camera_info message (sensor_msgs/CameraInfo) when overlaying the data from elsewhere (robot model, tf, markers) while displaying a camera feed?
The source (rviz camera display) shows creating a projection based on the camera height and width fields, as well as the projection camera matrix P - the calibration parameters. These are typically described by full camera frame calibration data rep 104. Is rviz not following the CameraInfo rep? Should it create the projection matrix based on the roi and binning parameters?

Originally posted by kmaroney on ROS Answers with karma: 204 on 2013-04-16
Post score: 3

A:

RViz shouldn't care about the binning, since the image is painted on a textured polygon with a fixed size. ROI probably won't work, but should.
Please file a ticket on https://github.com/ros-visualization/rviz/issues if you need this feature.

Originally posted by dgossow with karma: 1444 on 2013-04-16
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by kmaroney on 2013-04-16:
Thanks for the reply, this is helpful information. I think rviz should care about binning, only in the sense that this will effect the ROI width and height.
Comment by joq on 2013-04-16:
REP-0104 states that the ROI is specified in the full (unbinned) image coordinates: http://www.ros.org/reps/rep-0104.html#operational-parameters
Comment by kmaroney on 2013-04-17:
I agree joq. The problem here is that the rviz camera display uses the http://www.ros.org/reps/rep-0104.html#calibration-parameters height and width. As stated these should change only when the camera is calibrated. You should still be able to operate the camera at different image sizes..
Comment by kmaroney on 2013-04-17:
and resolutions. It seems to me rviz is expecting your current image size to match the calibration-parameters image size. If we do choose to take into account the current ROI (specified in unbinned coordinates) we will have to create a new projection matrix based on this ROI and the binning.


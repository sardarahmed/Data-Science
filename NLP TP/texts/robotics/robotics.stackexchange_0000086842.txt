Q:

How are service.h files are generated from service.srv files?

Using Sevices in ROS, we create a service definition file in the srv folder and name it as service.srv and when we include this as service.h in the cpp file. How is the .h file generated from .srv ? In my case, while compiling using catkin_make it says no service.h file found in the .cpp file whereas it is present. Any leads ?

Originally posted by aks on ROS Answers with karma: 667 on 2018-05-03
Post score: 0

A:

In my case, while compiling using catkin_make it says no service.h file found in the .cpp file whereas it is present. Any leads ?

you're running into a dependency declaration problem. We can explain to you how headers are generated from the IDL, but for this particular problem, see C++ message or service dependencies in the Catkin documentation.

Originally posted by gvdhoorn with karma: 86574 on 2018-05-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by aks on 2018-05-03:
I took this example from github and i guess it already has all the dependencies. @gvdhoorn
Comment by aks on 2018-05-03:
@gvdhoorn : yes, you were correct : fixed it by adding dependencies.
Comment by gvdhoorn on 2018-05-04:\

I took this example from github and i guess it already has all the dependencies. @gvdhoorn

well, I just checked it, and it doesn't (as you probably also found out).
Comment by aks on 2018-05-04:
yes : dependencies added !
Comment by aks on 2018-05-15:
@gvdhoorn again coming back to my previous question, how are headers generated from IDL ? For example, if i need to create a new service file, then how can I add the header file in the cpp. Normally it says no such file found.
Comment by gvdhoorn on 2018-05-15:\

Normally it says no such file found.

it should only give that error if you've not followed procedure.
provided the msg / srv file exists, you've added the dependencies to your target and followed the docs on generating msgs / srvs things should work.
Comment by gvdhoorn on 2018-05-15:
It's all documented in the Catkin documentation I linked earlier and on the ROS wiki.
Comment by aks on 2018-05-15:
I created an overlay space and copied the demo_nodes_cpp example in ROS2 into the overlay ws and renamed it(heatflow_cpp). Created a new service file(heatFlow.srv) and changed the name of the service file in the CMAKELISTS and then included heatFlow.hpp in the cpp.Am i forgetting something ?
Comment by gvdhoorn on 2018-05-15:
You now mention ROS2, while you tagged your original question with ROS and kinetic. My answer detailed the situation in ROS1.
Comment by aks on 2018-05-15:
sorry for the confusion, the entire question before the last comments was for ROS1. I was trying the same thing with ROS2 so that is why posted here in continuation.
Comment by gvdhoorn on 2018-05-15:
Continuing a question after it has been answered is typically not the best way to ask new questions (which this basically is).
Comment by aks on 2018-05-15:
Sorry for the confusion. I posted a new question here


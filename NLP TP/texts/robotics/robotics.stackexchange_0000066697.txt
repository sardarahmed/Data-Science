Q:

Arrays Ros Launch File

How can I get a list of values from a ROS launch file? My launch file includes the following line:
<param name="workspace" value="[0.55, 0.9, -0.4, 0.4, -0.25, 2]" />

In C++, I try loading that array, but it does not work (the variable workspace just always gets set to the constant WORKSPACE)
std::vector<double> workspace;
node.param("workspace", workspace, std::vector<double>(WORKSPACE, WORKSPACE + sizeof(WORKSPACE) / sizeof(WORKSPACE[0])));

Originally posted by atp on ROS Answers with karma: 529 on 2015-03-28
Post score: 0

A:

I assume node is your NodeHandle object? Why use that notation rather than node.getParam("workspace", workspace) ?

Originally posted by aak2166 with karma: 593 on 2015-03-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by kramer on 2015-03-28:
This is correct (as far as I know) -- vectors and maps both require the getParam call. See the Parameter Server Overview wiki.
Comment by atp on 2015-03-28:
I have tried getParam but it does not get the value from the launch file. Is the syntax in the launch file correct?
Comment by aak2166 on 2015-03-28:
Can you query the parameter with rosparam get /workspace ? Otherwise another way to set the parameter is <rosparam param="workspace"> [0.55, 0.9, -0.4, 0.4, -0.25, 2]</rosparam>. The param tag will default any value that isn't obviously a boolean, int, or double to a string.
Comment by atp on 2015-03-28:
Thanks, using rosparam made it work.


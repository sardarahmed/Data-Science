Q:

Moveit2 can't generate "small" trajectories

I have a problem where when I try to generate a small trajectory (under 1 mm of distance).
The planner I use (default OMPL with RRTConect) only generates 1 waypoint and thus my robot will not move.
Things I have tried so far:

Send the goal to the planner using moveit_msgs/tolerances with a tolerance way smaller than needed (it doesn't seem to work).

creating a custom trajectory and applying post-processing time parameterization (this didn't work due to some points having the exact same time and then the controllers rejecting this trajectory)

working with the custom trajectory without the post-processing time parameterization (this worked semi-well but clearly isn't the desired way to operate)

Is there any way to guarantee OMPL would generate more waypoints in a small trajectory?

A:

You can modify that by setting this parameter in ompl_planning.yaml config file:
move_group:
  planner_configs:
    - RRTConnectkConfigDefault
  longest_valid_segment_fraction: 0.005
  default_planner_config: RRTConnectkConfigDefault

For example, in the case above the planner is set to generate waypoints every 5mm


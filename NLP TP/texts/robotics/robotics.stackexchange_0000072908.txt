Q:

Installing Headers DESTINATION ERROR

Hey,
I am using a ROS metapackage system to install certain header files to the include directory under catkin_ws/devel.
My CMakeLists.txt is as follows:
          install(DIRECTORY include/${PROJECT_NAME}
                  DESTINATION ${CATKIN_PACKAGE_INCLUDE_DESTINATION}
                  FILES_MATCHING PATTERN "*.h"
                  PATTERN ".svn" EXCLUDE)

I amsimply following the enumeration here: http://docs.ros.org/api/catkin/html/howto/format2/building_libraries.html
For some reason, I keep hitting the brick as in :
                     CMake Error at gocator_bridge/CMakeLists.txt:15 (install):
                                              install DIRECTORY given no DESTINATION!

Could I be missing something?

Originally posted by lakehanne on ROS Answers with karma: 152 on 2016-03-18
Post score: 0

A:

Could I be missing something?

Metapackages are not meant to do anything but gather run_depends (from wiki/catkin/package.xml - Format 1 (Legacy) - Metapackages):

It is often convenient to group multiple packages as a single logical package. This can be accomplished through metapackages.

This is speculation, but you're probably getting that error because CATKIN_PACKAGE_INCLUDE_DESTINATION is not defined for metapackages.
See catkin metapackage now requires CMakeLists.txt? and wiki/catkin/package.xml - Format 1 (Legacy) - Metapackages for some more info.

Originally posted by gvdhoorn with karma: 86574 on 2016-03-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by lakehanne on 2016-03-19:
Thank you indeed for the references. I had to set my DESTINATION to one of the packages within the metapackages' include directory to work around this.
Comment by gvdhoorn on 2016-03-19:
Just to be sure, not the part where you're not supposed to install anything with metapackages.
Comment by gvdhoorn on 2016-03-19:
Also:

[..] within the metapackages' include directory [..]

? Metapackages are empty. How can it have an include directory?
Comment by lakehanne on 2016-03-19:
I chose the include directory of one of the sub packages within the meta-package as the installation destination. Is this clearer?
Comment by gvdhoorn on 2016-03-19:
It's all up to you obviously. As long as "within the meta-package" does not actually mean that you are storing packages inside the directory of the metapackage. Also, your comment could still be understood as the metapackage installing headers, and that is not something you shoul do.


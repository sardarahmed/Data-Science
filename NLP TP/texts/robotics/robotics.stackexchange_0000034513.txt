Q:

How can I use bag file data in Matlab?

I have datas in bag file such as velocity and acceleration from the sensors.
I want to read data with respect to time domain to make calculations in Matlab.
How can I gain the data and use in Matlab?
Thanks for your answers.

Originally posted by fresh_ros_user on ROS Answers with karma: 51 on 2011-09-27
Post score: 5

A:

If you play back the bag, you can use:
rostopic echo -p /topic_name

to display the data in a MatLab-friendly format. You can output this to a text file with:
rostopic echo -p /topic_name > data.txt

Or, you can even convert a topic directly to CSV with:
rostopic echo -b file.bag -p /topic

NOTE: This will only work with simple message types. LaserScans, PointClouds, arrays, etc won't work very well because the entire message is rendered to text.
The other option would be to use the rosbag API, located here to load the data into a C++ program and manipulate it that way.

Originally posted by DimitriProsser with karma: 11163 on 2011-09-27
This answer was ACCEPTED on the original site
Post score: 15

Original comments
Comment by Dan Lazewatsky on 2011-09-27:
Or use the python API along with scipy.io.savemat to write out a .mat file.
Comment by miloup on 2014-04-06:
Could you please show how to open that text file in Matlab? None of the tutorials helped me solve this
Comment by Brivate Bungo on 2017-03-20:
Load the file to matlab workspace using the txtdata=load('filepath/mytextfile.txt). numdata=str2double(txtdata.mytextfile). Sometimes this does not work right away. Find out what is the import using commands like ischar() or isobj() and google the corresponding command to swap it to numericals.


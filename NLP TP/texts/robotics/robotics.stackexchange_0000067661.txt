Q:

publish only current cloud as octomap

Hi there,
I want to do some comparisons between a global octomap and a local one, in order to detect new obstacles in the scene. For this, my proposed solution is to publish a stored octomap as global map and then with the input cloud from the sensor, obtain the local octomap and compare both of them. For this, I am launching two octomap_servers
My problem is that octomap_server keeps building an incremental map, and after a few scans the octomap will be too large to be traversed at high frequency. In this post (which is not very related actually) http://answers.ros.org/question/118871/create-an-occupancy-grid-map-from-octomap/ they suggest just to copy, paste and adapt code, but I wonder if there is a way to get ONLY the octomap from the last point cloud from the sensor.
Thank you!

Originally posted by Javier V. Gómez on ROS Answers with karma: 1305 on 2015-05-19
Post score: 2

A:

For the local octomap you could try to use the reset service (http://wiki.ros.org/octomap_server#Services) before inserting a new point cloud. This way you would have the desired behavior without any modifications to the code. Not sure if this runs fast enough though...
Cheers
Tim

Originally posted by timster with karma: 396 on 2015-05-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Javier V. Gómez on 2015-05-19:
You mean to reset after every message is received?
Comment by timster on 2015-05-19:
Yes before or after receiving a new message
Comment by Javier V. Gómez on 2015-05-19:
Ok I was able to do it and it more or less does what I want. I am not accepting the answer yet to see if somebody else have a better alternative. But thank you!


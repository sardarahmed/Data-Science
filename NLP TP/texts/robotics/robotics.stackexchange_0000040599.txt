Q:

ld: undefined reference to avformat_network_init@LIBAVFORMAT_53

Hi there!
I wrote a node that converts webcam images to ROS messages, I am using opencv but the linker yells:
/opt/ros/fuerte/lib/libopencv_highgui.so: undefined reference to `avformat_new_stream@LIBAVFORMAT_53'
/opt/ros/fuerte/lib/libopencv_highgui.so: undefined reference to `avformat_network_init@LIBAVFORMAT_53'

How do I overcome this problem?
Thanks

Originally posted by sciarp on ROS Answers with karma: 129 on 2012-05-17
Post score: 1

A:

I fixed the problem by upgrading my stock libavformat to the latest one using Jon's PPA:
https://launchpad.net/~jon-severinsson/+archive/ffmpeg
Basically av_new_stream() was renamed to avformat_new_stream().
ffmpeg is quite famous for frequently changing API names..which causes lots of overhead for developers.

Originally posted by leeq with karma: 26 on 2012-08-14
This answer was ACCEPTED on the original site
Post score: 2


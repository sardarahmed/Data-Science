Q:

purpose of roslaunch_add_file_check()?

After working through most of the ROS tutorials, I have started studying some of the code for the robots listed on the wiki.  I am trying to become a "fluent" ROS developer.  To that end, I am trying to figure out what "roslaunch_add_file_check(launch)" does in this CMakeLists.txt file: https://github.com/husky/husky_simulator/blob/indigo-devel/husky_gazebo/CMakeLists.txt.  (Google seems to indicate that roslaunch_add_file_check() is related to testing, but that package does not have any tests.)  What does that line do, and what is its purpose?
Also, is there a general way to find out about ROS-specific CMake functions like that one?  I am sure I will have other questions like this in the future.  Thank you!

Originally posted by Sam Bishop on ROS Answers with karma: 131 on 2015-01-03
Post score: 3

A:

Unfortunately this was never documented, but the documentation for rosbuild_add_roslaunch_check is close:
http://wiki.ros.org/rosbuild/CMakeLists#rosbuild_add_roslaunch_check
The function you are inquiring about is the "rosbuild-less" equivalent function and in the case you are asking about it is operating on the entire launch folder, which I presume contains one or more .launch files. Even the rosbuild version's documentation does not clearly state what exactly it checks:

This macro declares as a unit test a parse check of one or more roslaunch files. The parser (roslaunch/scripts/roslaunch-check) checks a number of aspects of launch files, in a manner similar to roswtf.

Another thing to do is to look at the script it seems to invoke for the test:
https://github.com/ros/ros_comm/blob/1.11.10/tools/roslaunch/scripts/roslaunch-check
There should probably be something about that script documented here:
http://wiki.ros.org/roslaunch/Commandline%20Tools
And some mention of the CMake commands provided by roslaunch here:
http://wiki.ros.org/roslaunch#Overview
It seems the reason that documentation doesn't exist in those places is that the function used to be provided by rosbuild but is now provided by roslaunch and that never got documented and at the same time the CMake function was added where roslaunch previously had no documented CMake API either.
Adding this to the wiki would be a great contribution, assuming you have the time and figure out more about what the check actually checks.

Originally posted by William with karma: 17335 on 2015-01-04
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Sam Bishop on 2015-01-04:
Thank you very much!  I will certainly look at modifying the wiki.
Comment by Sam Bishop on 2015-01-12:
I've modified the wiki, but only the main roslaunch page. There are a few things about roslaunch-check that makes me think it wasn't intended to be used directly, so I didn't add it to the tools page. (It's not added to PATH, for instance.) You're welcome to make further changes. And thanks again!
Comment by William on 2015-01-12:
Looks fine to me, thanks for your help!


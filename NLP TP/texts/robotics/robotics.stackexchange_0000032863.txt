Q:

vslam does not publish visual odometry data

The vslam seems to work fine for stereo stream but The topic /vo is advertised but it is not published , and i can see no output when i do :
rostopic echo /vo
So what might be wrong ?

Originally posted by rajat on ROS Answers with karma: 175 on 2011-07-09
Post score: 0

A:

See this question for initial setup, synchronization, etc. Then modify line 159 of vslam_system/src/nodes/stereo_vslam_node.cpp to have if(1). After that there are three crucial steps:

Create a URDF for your robot that has a base_link. It is useful to have a camera_base link somehow connected to base_link for later steps.

You will have to have a node that broadcasts a transform from base_link to odom. See REP 105 for more information about the map -> odom -> base_link transforms. This node also needs to listen for the transform between base_link and visual_odom. Note that visual_odom is the frame_id and base_link is the child_frame_id in vslam_system/src/nodes/stereo_vslam_node.cpp.

When starting your camera nodes they must both have frame_id set to camera_base if that is what you have in your URDF. If your URDF only has a base_link then you can set the frame_id to base_link.

When you have your robot model loaded in Rviz along with the nodes to (i) run your cameras and (ii) publish the transform between base_link and visual_odom, then you should see point clouds and camera poses appear in Rviz. I have not seen it work well either.
Also, this ticket has a patch that I recommend applying to fix a big memory leak.

Originally posted by Thomas D with karma: 4347 on 2011-08-30
This answer was ACCEPTED on the original site
Post score: 2


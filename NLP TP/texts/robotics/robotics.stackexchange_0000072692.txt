Q:

help installing pcl on ROS Indigo

I'm currently trying to install the point cloud library so I can use it's RANSAC features for sphere detection.
There seem to be lots of tutorials about using the PCL with ros but I can't find anything about how to install it.
I've been following the answer to this ros answer:
http://answers.ros.org/question/201516/installing-pcl-for-ros-indigo/
I've added the dependency to my package.xml file so it now looks like this
<?xml version="1.0"?>
<package>
  <name>sme_awareness</name>
  <version>0.0.1</version>
  <description>Package of Lidar and Camera awareness tools</description>
  <maintainer email="pete.blacker@gmail.com">pete blacker</maintainer>
  <license>TODO</license>
  <url type="website">http://www.PeteBlacker.com</url>
  <author email="pete.blacker@gmail.com">pete blacker</author>

  <build_depend>message_generation</build_depend>

  <run_depend>message_runtime</run_depend>

  <!-- Use test_depend for packages you need only for testing: -->
  <buildtool_depend>catkin</buildtool_depend>
  <build_depend version_gte="1.7.0">pcl</build_depend>
  <build_depend>libpcl-all-dev</build_depend>
  <build_depend>roscpp</build_depend>
  <build_depend>rospy</build_depend>
  <build_depend>std_msgs</build_depend>
  <build_depend>sensor_msgs</build_depend>
  <build_depend>geometry_msgs</build_depend>
  <build_depend>tf</build_depend>
  <build_depend>tf2</build_depend>
  <build_depend>tf2_ros</build_depend>
  <build_depend>image_transport</build_depend>
  <build_depend>cv_bridge</build_depend>
  <build_depend>dp_ptu47_msgs</build_depend>

  <run_depend version_gte="1.7.0">pcl</run_depend>
  <run_depend>libpcl-all-dev</run_depend>
  <run_depend>roscpp</run_depend>
  <run_depend>rospy</run_depend>
  <run_depend>std_msgs</run_depend>
  <run_depend>sensor_msgs</run_depend>
  <run_depend>geometry_msgs</run_depend>
  <run_depend>tf</run_depend>
  <run_depend>tf2</run_depend>
  <run_depend>tf2_ros</run_depend>
  <run_depend>image_transport</run_depend>
  <run_depend>cv_bridge</run_depend>
  <run_depend>dp_ptu47_msgs</run_depend>

  <!-- The export tag contains other, unspecified, tags -->
  <export>
    <!-- Other tools can request additional information be placed here -->
  </export>
</package>

However when I execute the command:
rosdep install --from-paths src --ignore-src --rosdistro indigo -y
I get the error:
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
sme_awareness: Cannot locate rosdep definition for [pcl]

Can anyone help me get this up and running?
Thanks.

Originally posted by PeteBlackerThe3rd on ROS Answers with karma: 9529 on 2016-03-11
Post score: 0

A:

You're depending on both pcl and libpcl-all-dev in your package.xml, and rosdep is telling you that pcl isn't a valid package or rosdep.
If you look through the rosdep database, pcl is not listed. It looks like libpcl-all and libpcl-all-dev are the runtime and build dependencies that will install pcl.
I would recommend that you replace:
<build_depend version_gte="1.7.0">pcl</build_depend>
<build_depend>libpcl-all-dev</build_depend>

With:
<build_depend>libpcl-all-dev</build_depend>

(and similar for your run dependency)

Originally posted by ahendrix with karma: 47576 on 2016-03-12
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ahendrix on 2016-03-12:
The code listed on the answer you linked to is a diff: it shows both the old version (- and red) and the new version (+ and green). You ONLY need the new parts.
Comment by PeteBlackerThe3rd on 2016-03-21:
Thanks for the reply, this looks good. I'm afraid I've already managed to get this working. pcl had installed find using apt-get the missing link was perception_pcl. When I installed that also using apt-get then it all started working.
TBH your solution looks like it would have been easier!


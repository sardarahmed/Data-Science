Q:

How to create a global listener for any ROS topic and extract all data from any message?

Hey everybody,
I am trying to build a ROS node that receives all the messages published by all the other nodes present in my software architecture. This new node should be able to receive any message (with different contents), extract all the data and log it (so it's important for me to be able to know all the contained data types and their values). Is there any good way to:

Convert any .msg to some "common" format, like XML (so I can treat all the messages as just one string and then do my parsing)?
If not, how do I to easily parse each contained data inside any message ( type and value )?. I want to treat all the messages as if they were generic; I don't want to manually extract all the data one variable at a time, this would force me to make one hardcoded callback for each topic.
Also, is there any better way to receive all the messages from any node with any topic without having to create a new subscriber and a callback for each new topic in my "listener" node?

Thanks!

Originally posted by pparescasellas on ROS Answers with karma: 95 on 2011-06-15
Post score: 0

A:

The rosbag tool already does basically what you ask, e.g.
rosbag record --all

It records topic data efficiently to disk, which allows you to do offline processing (using the rosbag library).  Efficiency is important as it's generally not a good idea to subscribe to all topics (it creates a huge performance drain).

Originally posted by kwc with karma: 12244 on 2011-06-15
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by pparescasellas on 2011-06-19:
This is an offline solution which I already use (check my answer below) but that's not what I'm looking for; I need the logging to be on runtime and in a matlab-friendly format. I also need to know whether it is possible to deserialize every message of any topic to name-type-value for each attribute


Q:

launch stereo_image_proc and image topic names

Hello all;
I have a bag with stereo images topics and I am trying now to create a launch for stereo_image_proc.
The topics I have to perform stereo are:
/cameras_pan_tilt/left/camera_info         
/cameras_pan_tilt/left/image                    
/cameras_pan_tilt/right/camera_info        
 /cameras_pan_tilt/right/image

The namespace is obviously "cameras_pan_tilt", but the images do not have the default name "image_raw".
I am trying to create a simple launch to adjust parameters, but I have the following problems:
1.- the images in image view, are not displayed.
2.- I do not for sure if the remapping is correct for stereo_image_proc to process everything.
The launch is as follows, following tutorials:
<launch>    
        <node ns="cameras_pan_tilt" pkg="stereo_image_proc" type="stereo_image_proc" name="stereo_image_proc" output="screen">
            <remap from="left/image" to="left/image_raw"/>
            <remap from="right/image" to="right/image_raw"/>
        </node>
    
        <node pkg="image_view" type="stereo_view" name="stereo_view">
            <remap from="cameras_pan_tilt" to="stereo"/>
            <remap from="image_rect" to="image"/>
        </node>

        <node pkg="rqt_reconfigure" type="rqt_reconfigure" name="rqt_reconfigure"/>
</launch>
   

I receive also the following warnings:
[ WARN] [1440760099.284773259]: The input topic '/cameras_pan_tilt/left/image_raw' is not yet advertised
[ WARN] [1440760099.284920490]: The input topic '/cameras_pan_tilt/right/image_raw' is not yet advertised
[ WARN] [1440760159.286287583]: The input topic '/cameras_pan_tilt/left/image_raw' is not yet advertised

Could anyone please help me with this issue, to launch stereo_image_proc from a launch to reconfigure?
Thank you all very much in advance,
Best regards,
Alberto
EDIT:
After changing the fields "from" and "to" in the remap fields in the launch file, that error has disappeared, but I still see no images with image view, and in addition I have new error. Any possible clue?
[ WARN] [1441003721.212940511]: [image_transport] Topics '/cameras_pan_tilt/left/image_mono' and '/cameras_pan_tilt/left/camera_info' do not appear to be synchronized. In the last 10s:
    Image messages received:      15
    CameraInfo messages received: 50
    Synchronized pairs:           0

Originally posted by altella on ROS Answers with karma: 149 on 2015-08-28
Post score: 1

A:

Try swapping your remaps in stereo_image_proc so that they read:
<remap from="left/image_raw" to="left/image"/>
<remap from="right/image_raw" to="right/image"/>

When you remap topics for a node you are remapping from what is expected by the node to what you are providing. The stereo_image_proc node expects to receive image_raw, but you are providing image. That should get rid of the warnings that are printed by stereo_image_proc about input topics not being advertised yet.
Once stereo_image_proc has the correct input topics then it will start to publish rectified images, a disparity image, and a point cloud. You will need to swap the first remap in image_view/stereo_view as well. That should also fix your issue with image_view/stereo_view.
EDIT (for new question):
Take a look at the stereo_image_proc parameters. The stereo_image_proc node assumes all input messages are exactly synchronized with respect to the timestamps in their headers. Inside the node tags add:
<param name="approximate_sync" value="true"/>
<param name="queue_size" value="10"/>

This will help if you do not have hardware triggering/syncing of your image_raw and camera_info topics.

Originally posted by Thomas D with karma: 4347 on 2015-08-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by altella on 2015-08-31:
Perfect !!! That was it !!
Really, thanks a lot !


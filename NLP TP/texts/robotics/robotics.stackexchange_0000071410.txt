Q:

nan value after changing inertia matrix

Hello everybody,
I am the following problem with my robot (rear wheels don't touch the ground):

So I have changed the inertia of my links but I got an error when I change the matrix of some wheels  (it's strange because the link in the error message is not linked to the wheels involved in the problem):

[ERROR] [1453136122.044577471, 24.646000000]: Ignoring transform for child_frame_id "fourche" from authority "unknown_publisher" because of a nan value in the transform (-nan -nan -nan) (0.000000 0.000000 0.000000 1.000000)

Urdf description of my wheels (diameter: 125mm, height: 50mm) :
<link name="${prefix}_motor_wheel">
        <gazebo>
            <self_collide>false</self_collide>
        </gazebo>
        <visual>
            <material name="Yellow">
                <color rgba="0.8 0.8 0.0 1.0"/>
            </material>
            <geometry>
                <mesh filename="package://agv/urdf/model/motor_wheel_left.dae"/>
            </geometry>
        </visual>
        <collision>
            <geometry>
                <mesh filename="package://agv/urdf/model/motor_wheel_left.dae"/>
            </geometry>
        </collision>
        <inertial>
            <mass value="1.8"/>
            <inertia
            ixx="0.0021" ixy="0.0" ixz="0.0"
            iyy="0.0035" iyz="0.0"
            izz="0.0021"/>
        </inertial>
        <!--<inertial>
            <mass value="1"/>
            <inertia
            ixx="1.0" ixy="0.0" ixz="0.0"
            iyy="1.0" iyz="0.0"
            izz="1.0"/>
        </inertial>-->
    </link>

Thanks in advance

Originally posted by F.Brosseau on ROS Answers with karma: 379 on 2016-01-18
Post score: 0

A:

Sounds like you're experiencing physics engine instability. Have a look at the Q/A here and the link posted there.
It looks like the collision geometry of your robot is wrong if the wheels don't touch the ground (You can visualize it inside Gazebo by selecting it in the menu). Changing the inertias probably will not help there.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-01-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by F.Brosseau on 2016-01-19:
Thanks a lot. It's working now. The problem was not coming from the collision geometry. But like you said in your link, the d parameter of my wheel's controllers had a to high value.


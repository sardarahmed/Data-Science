Q:

turtlebot2 /odom and base_footprint tf

Hello,
I've been working with a turtlebot with a roomba base for which I developed some very simple algorithm like just going to a point. To know the current position of the robot I used the /odom message published by the turtlebot. To visualize the result I plotted the base_footprint on rviz. The robot was moving correctly and it reached the correct position in rviz.
Now we got some new turtlebot 2 with kobuki base on which I tried to apply the same algorithm. In this case the position given by the /odom message was different to the position given by the base_footprint tf. For instance /odom would say that the robot hat reached the position (0,0), actually with about half a meter of error, but the base_footprint tf was giving a different position, in rviz the robot was not at (0,0) but half meter away or so.
I would like to know it that behavior is normal or not. One difference between the two robots is that second one has a gyro and the other doesn't. Could it be that one of the measures is integrating it and the other is not?
Thanks

Originally posted by focs on ROS Answers with karma: 46 on 2013-07-18
Post score: 0

Original comments
Comment by focs on 2013-07-29:
Thanks! that confirms my thoughts.

A:

Not sure about the 0.5 m difference, but odom and base_footprint can be different , as the first one is provided by motor encoders and the second by fussing (robot_pose_ekf) odom with gyro data. However, odom_combined and base_footprint should provide the same pose.

Originally posted by jorge with karma: 2284 on 2013-07-21
This answer was ACCEPTED on the original site
Post score: 0


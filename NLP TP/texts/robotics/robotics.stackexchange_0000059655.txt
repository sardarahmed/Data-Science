Q:

read topic without callback

Is there a way to read the last message of a topic wihout using a callback? I mean, the tutorials teach to read a topic assigning a callback in a node, so that whenever a topic updates, the callback is executed. I want to read a topic when the user clicks a button, just once, something like this:

read_topic("/my_topic")

that returns the current data in the topic.
Thanks

Originally posted by crpizarr on ROS Answers with karma: 229 on 2014-05-27
Post score: 5

A:

You can get the next message in a topic using ros::topic::waitForMessage().
Note that internally this creates a subscriber on the topic you're interested in, waits for the next message to arrive, and then closes itself down and returns that message to you, so it's a fairly heavy operation, and requires that the topic it's listening to is either a latched topic, or is published frequently.

Originally posted by ahendrix with karma: 47576 on 2014-05-27
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by DNiebuhr on 2021-02-22:
Do you know if there is an aquivalent in Python?


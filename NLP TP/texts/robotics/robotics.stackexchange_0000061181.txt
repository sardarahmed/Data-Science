Q:

ROS Answers SE migration: imwrite error

cv::imwrite("/home/jros/image.jpg",cv_ptr->image);

I want to save an image using imwrite but I get this error when I launch the node:
OpenCV Error: Unspecified error (could not find a writer for the specified extension) in imwrite_, file /home/guillaume/Developpement/libs/OpenCV-2.2.0/modules/highgui/src/loadsave.cpp, line 276
terminate called after throwing an instance of 'cv::Exception'
  what():  /home/guillaume/Developpement/libs/OpenCV-2.2.0/modules/highgui/src/loadsave.cpp:276: error: (-2) could not find a writer for the specified extension in function imwrite_

Aborted (core dumped)

there is no error in compilation.
It seems like an error in OpenCV version !?

Originally posted by ROSkinect on ROS Answers with karma: 751 on 2014-07-25
Post score: 1

Original comments
Comment by Mehdi. on 2014-07-28:
It would be better if you ask this question in StackOverflow, as I see that you are using a standalone OpenCV version. And by the way try updating your OpenCV first and retry, because your version is REALLY old. You could also try the cvSaveImage (old C implementation of imwrite) , docs on this link http://docs.opencv.org/modules/highgui/doc/reading_and_writing_images_and_video.html#imwrite
Comment by Martin Peris on 2014-07-28:
Instead of StackOverflow it would be even better to ask your question in http://answers.opencv.org
Comment by ROSkinect on 2014-07-28:
cvSaveImage is in C but I'm using C++ so it's imwrite.
ya as I said maybe it's an old opencv version

A:

The solutions that I found:
Either you change the OpenCV version to the latest one or use another library to save the image, example Visp:
#include <visp/vpImageConvert.h>
#include <visp/vpImageIo.h>

Mat image_mat;  
vpImageConvert::convert (image_mat, image_visp); //convert image_mat to image_visp
vpImageIo::write(image_visp,"*.jpg"); //save (you will find the image in /../../catkin_ws/*.jpg)

Originally posted by ROSkinect with karma: 751 on 2014-07-29
This answer was ACCEPTED on the original site
Post score: 0


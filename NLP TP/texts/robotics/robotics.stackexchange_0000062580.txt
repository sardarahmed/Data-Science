Q:

What should I expect from Turtlebot calibration? / How do I know if my Turtlebot is broken?

I'm having a hard time debugging my Turtlebot because I don't know what a functioning Turtlebot should look like. Now that I've read the source code for turtlebot_calibration I have some better understanding of what to expect, but I'm still not sure if my bot is mechanically broken.

Is it normal for Tbot to stop for long periods of time during the calibration routine?
Is it normal for calibration to take 7-10 minutes, or more?
What are some examples of reasonable values for gyro_scale_correction and odom_angular_scale_correction (for a gyro_measurement_range of 150)? Is a gyro value of 0.3 completely unreasonable? What about 3.4? Should it be much closer to the default?
What is a normal error range for odom and IMU? Even on a good run I might see an odom error of >10% and IMU error >40%.
Is it normal for the bot to drift out of place during calibration? (i.e. it doesn't turn in place perfectly, but drifts a few centimeters over the course of the routine; one wheel must be spinning faster than the other, I guess)
Also, what kind of error is acceptable overall (from the EKF's odom_combined) to be able to run gmapping? If I rotate 360° while watching the output of rosrun tf_echo odom base_footprint, should the yaw delta be within 1-2°? Or can I accept errors of more like 10-20° and still be able to run SLAM?

Here's a video showing my bot doing calibration (I know it over-turns right now so the numbers aren't correct, I just want to show you how it stops for long periods of time making weird noises, e.g. t=0:50): https://www.youtube.com/watch?v=8X8SmUVgJd0
I appreciate any clues you can give, even if you can't answer all of the questions above. We can collaboratively put together an answer here.
Edit:
Seriously? No one is going to even give me a hint of whether they think my video looks normal or not??

Originally posted by Neil Traft on ROS Answers with karma: 205 on 2014-09-14
Post score: 2

Original comments
Comment by Neil Traft on 2014-09-14:
If you are following this question then you might also want to upvote it.
Comment by charkoteow on 2014-09-18:
Not the answer you're looking for but you can always calibrate the Turtlebot manually. Oh and it took me around 5 minutes to auto calibrate mine and the results are bad.

A:

The CREATE base on the earlier versions of turtlebot has some drawbacks when it comes to hardware (IMU and Battery). If the Ni-Mh battery is old and used over many charging cycles, it will tend to create power fluctuations in your power distribution board. You will need to do a power reset (switch off, unplug cables from turtlebot, remove battery, press and hold power button for a few seconds, connect battery, plug in cables and then turn on).
Moreover, the IMU used is a cheap odometry estimation gyro, which is not reliable for mapping complicated environments (few features, many turns). The calibration process done on a clean power supply can still give you values close to each other, if done multiple times, however, it does not converge to a precise particular value for which the delta yaw (heading error) is close to zero.
In the calibration process, the turtlebot is supposed to rotate 720 degrees first, followed by three 360 degree rotations at varying speeds. It is supposed to point at the wall, or the configuration at which you started the calibration. If this doesn't happen, try changing your odom parameters using rqt_reconfigure.
There is no documented calibration routine, hence it is hard to guess how the gyro_correction factor and the odom_angular_correction factor change the calibration routine.
If you are facing trouble over a long time, you can do the following:

Check pin out at the power distribution. Between pins 8 and 14, a steady 5V DC should be present when powered on.
Change battery, or get an alternative LiPo power supply (4 cell battery with higher mAh would do)
Use a custom IMU
Get a kobuki base. It is fairly accurate and factory calibrated.

Originally posted by Loneflyer with karma: 96 on 2015-10-14
This answer was ACCEPTED on the original site
Post score: 1


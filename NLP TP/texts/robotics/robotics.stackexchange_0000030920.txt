Q:

Nice ready to use /etc/init.d/ros script

Just trying to make my ROS automatically run proper roslaunch command on headless system. I hope someone already made nice scriptwork?

Originally posted by TÃµnu Samuel on ROS Answers with karma: 161 on 2011-04-06
Post score: 2

A:

Hi,
Here is the functions we use in our init.d file to start / stop ros. It prints the output of the node in tty8 and tty9. It could be combined with screen for easier use as well.
start_ros () {
    source /opt/ros/setup.sh

    roscore <>/dev/tty8 2>/dev/tty8 & disown
    until rostopic list ; do sleep 1; done
    roslaunch YOUR_PACKAGE YOUR_LAUNCH_FILE.launch <> /dev/tty9 2>/dev/tty9 & disown
}

stop_ros () {
    source /opt/ros/setup.sh

    #killall nodes
    for i in $( rosnode list ); do
    rosnode kill $i;
    done

    #stop roscore
    killall roscore
}

Originally posted by Ugo with karma: 1620 on 2011-04-07
This answer was ACCEPTED on the original site
Post score: 4


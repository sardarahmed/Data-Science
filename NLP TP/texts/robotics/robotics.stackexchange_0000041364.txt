Q:

actionlib tutorial errors

Hi! I'm new to ROS and I've been having some trouble getting started with the actionlib tutorial under Fuerte and Xubuntu 12.04.
I'm following the steps to create a Simple Action Server. In step 1.1, I used the following command to define the Fibonacci action, and then used the following command to generate the message files:
$ rosrun actionlib_msgs genaction.py . Fibonacci.action

This didn't work at first, and I needed to follow the guidance in another ROS answers topic to continue. The code that worked was as follows:
$ rosrun actionlib_msgs genaction.py -o msg/ action/Fibonacci.action

I followed the steps to edit CMakeLists.txt, created fibonacci_server.cpp, and copied the code given by the tutorial. If I make the project (with rosmake), though, the build fails with the follow error.
  Scanning dependencies of target fibonacci_server
  make[3]: Leaving directory `/home/will/ros_workspace/tutorials/learning_actionlib/build'
  make[3]: Entering directory `/home/will/ros_workspace/tutorials/learning_actionlib/build'
  [100%] Building CXX object CMakeFiles/fibonacci_server.dir/src/fibonacci_server.o
  Linking CXX executable ../bin/fibonacci_server
  /usr/bin/ld: CMakeFiles/fibonacci_server.dir/src/fibonacci_server.o: undefined reference to symbol 'vtable for boost::detail::thread_data_base'
  /usr/bin/ld: note: 'vtable for boost::detail::thread_data_base' is defined in DSO /usr/lib64/libboost_thread.so.1.46.1 so try adding it to the linker command line
  /usr/lib64/libboost_thread.so.1.46.1: could not read symbols: Invalid operation
  collect2: ld returned 1 exit status
  make[3]: *** [../bin/fibonacci_server] Error 1
  make[3]: Leaving directory `/home/will/ros_workspace/tutorials/learning_actionlib/build'
  make[2]: *** [CMakeFiles/fibonacci_server.dir/all] Error 2
  make[2]: Leaving directory `/home/will/ros_workspace/tutorials/learning_actionlib/build'
  make[1]: *** [all] Error 2
  make[1]: Leaving directory `/home/will/ros_workspace/tutorials/learning_actionlib/build'

Any assistance would be greatly appreciated. Thanks!

Originally posted by willshepherdson on ROS Answers with karma: 33 on 2012-06-13
Post score: 3

A:

You need this in your CMakeLists.txt:
rosbuild_add_boost_directories()
rosbuild_add_executable(fibonacci_server src/fibonacci_server.cpp)
rosbuild_link_boost(fibonacci_server thread)

This changed in Fuerte. The tutorial explains it correctly, but you need to click on the fuerte button at the top of the page to see the new CMakeLists.txt update.

Originally posted by joq with karma: 25443 on 2012-06-16
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by joq on 2012-06-17:
If this answer is correct, please mark it so we know to update that Tutorial.
Comment by willshepherdson on 2012-06-18:
Works like a charm; thank you very much!
Comment by joq on 2012-06-18:
That Tutorial is already correct if you select Fuerte up at the top of the page. Unfortunately, the default version is Electric.
Comment by jbohren on 2012-06-20:
Jack, I actually added the distro switch and the doc update after you answered the question. (:
Comment by joq on 2012-06-20:
Ah, good job. Thanks! There is an open defect ticket to change the Version() default to Fuerte.
Comment by jbohren on 2012-06-20:
Where is that ticket? (Never mind, found it: https://code.ros.org/trac/ros/ticket/3967 )


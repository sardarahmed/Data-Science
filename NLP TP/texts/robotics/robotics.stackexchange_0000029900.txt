Q:

Any good examples of using dynamic_reconfigure for a python node?

I want to use dynamic_reconfigure with a python node. I know how to do it in C++, but could use a working python example to use as a model.

Originally posted by joq on ROS Answers with karma: 25443 on 2011-02-27
Post score: 5

A:

Hmm, that rings a bell...
https://code.ros.org/lurker/message/20100421.190003.73490482.en.html
Unfortunately, if I did end up using dynamic_reconfigure server in a Python node, I can't find that node at the moment.
There is a small example of using a dynamic_reconfigure client on the wiki: http://www.ros.org/wiki/hokuyo_node/Tutorials/UsingDynparamToChangeHokuyoLaserParameters#PythonAPI
Edit: Found my code -- relevant bits excerpted:
from dynamic_reconfigure.server import Server as DynamicReconfigureServer
import flyer_controller.cfg.controllerConfig as Config
...
class Controller:

  def __init__(self):
     self.dyn_reconf_server = DynamicReconfigureServer(ConfigType, self.reconfigure) 

  def reconfigure(self, config, level):
     rospy.loginfo("Got reconfigure request!")
     self.command_frame = config["command_frame"]
     return config

Originally posted by Patrick Bouffard with karma: 2264 on 2011-02-27
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Thomas D on 2011-07-19:
It worked for me too, don't know why I had trouble the first time. I have a tutorial at http://ibotics.ucsd.edu/stingray/wiki/ROSNodeTutorial. The tutorial shows how to create minimal C++ and Python nodes that use parameter server, dynamic reconfigure server and custom messages.
Comment by joq on 2011-07-15:
The fragment Patrick posted worked for me.
Comment by Thomas D on 2011-07-14:
Did you ever find a good example for the server in Python? I'm trying to set this up for one of my nodes right now and it's tougher than I thought it would be. If I figure it out I'll create a tutorial for everyone.
Comment by joq on 2011-02-27:
Since the node itself is written in python, I need a server example. They seem hard to find.
Comment by lucasw on 2016-04-23:
Is there an example that shows using level and updating the server outside of the callback with update_configuration?
Comment by lucasw on 2016-04-23:
I think I have it https://github.com/lucasw/v4l2ucp/blob/d32c0e239c122b08bb7d2aa24f7c11c5d6b9814c/rqt_v4l2ucp/scripts/dr_topics.py#L72


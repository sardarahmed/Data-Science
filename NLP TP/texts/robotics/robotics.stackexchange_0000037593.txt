Q:

Problem capturing RGBDSLAM pointcloud data in headless mode

Third RGBDSLAM question of the day... sorry :-)
In order to speed up processing (and hence hopefully improve mapping significantly) I'm running RGBDSLAM in headless mode. So, I'm trying to try generate a new .pcd file using the following command:
roslaunch rgbdslam headless.launch
(not roslaunch rgbdslam rgbdslam_headless.launch as it says in the README)
I then, in a different Terminal, execute:
rosservice call /rgbdslam/ros_ui_b pause false
to start to "capture a stream of data:" and the RGBDSLAM Terminal displays:
[ INFO] [1328358771.842035641]: Pause toggled to: false
However, the CPU load does not increase at this stage as I expected. I then try to save the pointclouds as a singe pcd file by executing:
rosservice call /rgbdslam/ros_ui save_all
But no file is generated and the RGBDSLAM Terminal displays:
[ INFO] [1328358846.008384132]: Saving Whole Model to quicksave.pcd
[ INFO] [1328358846.008732434]: Saving all clouds to quicksave.pcd, this may take a while as they need to be transformed to a common coordinate frame.
[pcl::PCDWriter::writeBinary] Input point cloud has no data!
**[ INFO] [1328358846.008925177]: Saved 0 data points to quicksave.pcd
Am I going about this in the correct way?

Originally posted by Mike Moore on ROS Answers with karma: 53 on 2012-02-04
Post score: 0

A:

Hi Mike. Could you please copy the following line into headless.launch, so that it is enclosed in the  tag.
<param name="config/store_pointclouds" value="true"/>

Storing the pointclouds for sending them out later is convenient, though it requires a lot of memory.
If you want significant improvements of quality, I'd suggest to look at the file rgbdslam_sample_config.launch. It should contain all parameters that influence accuracy and speed (mostly in tradeoffs one vs the other). If you have a GPU, try SIFTGPU feature detector and extractor to speed things up.

Originally posted by Felix Endres with karma: 6468 on 2012-02-07
This answer was ACCEPTED on the original site
Post score: 0


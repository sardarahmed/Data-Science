Q:

Streaming depth to web browser

I'm running Indigo on Ubuntu 14.04 on a Nvidia Jetson TK1, using an Asus Xtion Pro Live.
Is it possible to stream the depth from a primesense device to web browser? I understand that it is possible to stream the rgb to a web browser using mjpeg_server and openni2.
When I try to use mjpeg_server, and I subscribe to the topic /camera/depth/image_raw, mjpeg_server gives the error Unable to convert 16UC1 image to ipl format.
And when I subscribe to /camera/depth/image, mjpeg_server gives the error Unable to convert 32FC1 image to ipl format.
Can anyone help me?

Originally posted by Andrew.A on ROS Answers with karma: 324 on 2014-10-30
Post score: 0

A:

Check out my response to streaming the MJPEG stream of these topics in http://answers.ros.org/question/196270/stream-asus-xtion-pro-live-rgb-with-openni2-and-mjpeg_server/?answer=196334#post-id-196334.

Originally posted by rtoris288 with karma: 1173 on 2014-10-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Andrew.A on 2014-10-30:
This is excellent! Also, I think you should move your answer from the link you provided to here instead! I think it's more relevant here. I noticed the quality parameter doesn't work. Will it be included soon?
Comment by Andrew.A on 2014-10-30:
I'm having difficulty trying to show this on my webpage using the img tag. Do you know what's wrong?
Comment by rtoris288 on 2014-10-31:
What is the URL you are trying to pass in? It should be in the format http://localhost:8080/stream?topic=/IMAGE_TOPIC&param1=value1&param2=value2&param3=value3 Note the & after the first initial ?
Comment by Andrew.A on 2014-11-05:
I'm actually trying to get the stream from a network device rather than localhost, so the URL looks something like http://my.network.device.ip:8181/stream_viewer?topic=/camera/depth/image.
Comment by rtoris288 on 2014-11-05:
The stream_viewer URL will display an HTML page with the stream already embeded inside of it. To get it inside of an image element src, use http://my.network.device.ip:8181/stream?topic=/camera/depth/image
Comment by Andrew.A on 2014-11-05:
I'll try this out once I can, thanks!


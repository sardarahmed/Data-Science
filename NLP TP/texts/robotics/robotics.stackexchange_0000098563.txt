Q:

catkin ws extends from /opt/ros issue

Hi everyone,
I am having issue regarding the 'extend' parameter when I want to run at the same time executables from /opt/ros/melodic and from my personal catkin_ws folder. In my case, I am running:
rosrun rqt_multiplot rqt_multiplot

Which has been install from the apt:
sudo apt install ros-melodic-rqt-multiplot

So it is located in /opt/ros/melodic/lib. So to be able to run it I source the /opt/ros/melodic/setup.bash
But then, when I configure the graph to display a topic from a node located in my personal catkin_ws folder (my pkg name is 'open_vino_pkg', I have the the error:
[rospack] Error: package 'open_vino_pkg' not found

And indeed, when I do rospack depend open_vino_pkg it does not find it.
So then I source my personal folder source catkin_ws/install/setup.bashand then it is able to find my pkg, but not anymore the executable of rqt_multiplot:
rosrun rqt_multiplot rqt_multiplot gives me the error: [rosrun] Couldn't find executable named rqt_multiplot below /home/antoine/catkin_ws/install/share/rqt_multiplot
My personal catkin_ws has the extend parameter to /opt/ros/melodic (I use catkin tools). So, I do not understand, how to be able to use executables located in those two different locations, knowing that the 'source' overwrites the path, even with 'extend'.
What did I not get?
Thanks!

Originally posted by AntoineKuleba on ROS Answers with karma: 3 on 2021-03-16
Post score: 0

A:

The issue here is (see the error) that you apparently have installed a package called rqt_multiplot into your install space, but this doesn't contain the executable.
The ROS tools look at the first location where the package is found.
Either you have shadowed the package name, or the rqt_multiplot package in your workspace hasn't compiled properly. Either check that this build properly, and if you don't have it anymore in your source space, clean your install space and fill it again.

Originally posted by mgruhler with karma: 12390 on 2021-03-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by AntoineKuleba on 2021-03-16:
Thanks! That was the issue! But I am always surprised that catkin clean pkg_name let some undeleted files in some packages (in build, devel or install). It is common that I have to remove manually some files after executing this command, and I would say that I do it in the proper way though.
But anyway thanks again!
Comment by mgruhler on 2021-03-17:
Can't comment on what actually gets removed by the command. But I assume that you have to call it once for the devel and once for the install space with the appropriate profile sourced.
if this helped, please also mark it as correct by clicking the checkmark next to the answer. Thanks


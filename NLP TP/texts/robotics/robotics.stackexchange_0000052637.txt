Q:

pcl17 with turtlebot

Hi,
I am trying to use KinFuLS that is part of of pcl17 with turtlebot (groovy).
Because turtlebot comes with it's own package, it already seem to have pcl 1.6.0 built.
I have followed a tutorial that was written in:
answers.ros.org/question/62979/how-do-i-use-pcl-17-with-groovy/
I everything worked except at the last step "catkin_make_isolated --install"
I get following error:
[ 75%] Building CXX object src/cpp/CMakeFiles/flann_cuda-gd.dir/flann/flann_cpp.cpp.o
No such file or directory
CMake Error at flann_cuda_s_generated_kdtree_cuda_3d_index.cu.o.cmake:198 (message):
Error generating
/tmp/pcl_ws/build_isolated/flann/src/cpp/CMakeFiles/flann_cuda_s.dir/flann/algorithms/./flann_cuda_s_generated_kdtree_cuda_3d_index.cu.o
make[2]: *** [src/cpp/CMakeFiles/flann_cuda_s.dir/flann/algorithms/./flann_cuda_s_generated_kdtree_cuda_3d_index.cu.o] Error 1
make[1]: *** [src/cpp/CMakeFiles/flann_cuda_s.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[ 75%] Built target flann_cpp-gd
Linking CXX shared library ../../lib/libflann_cuda-gd.so
[ 75%] Built target flann_cuda-gd
Linking CXX static library ../../lib/libflann_s.a
[ 75%] Built target flann_s
make: *** [all] Error 2
Traceback (most recent call last):
File "/opt/ros/groovy/lib/python2.7/dist-packages/catkin/builder.py", line 658, in build_workspace_isolated
number=index + 1, of=len(ordered_packages)
File "/opt/ros/groovy/lib/python2.7/dist-packages/catkin/builder.py", line 456, in build_package
install, jobs, force_cmake, quiet, last_env, cmake_args, make_args
File "/opt/ros/groovy/lib/python2.7/dist-packages/catkin/builder.py", line 359, in build_cmake_package
run_command(make_cmd, build_dir, quiet)
File "/opt/ros/groovy/lib/python2.7/dist-packages/catkin/builder.py", line 186, in run_command
raise subprocess.CalledProcessError(proc.returncode, ' '.join(cmd))
CalledProcessError: Command '/tmp/pcl_ws/install_isolated/env.sh make -j4 -l4' returned non-zero exit status 2
<== Failed to process package 'flann':
Command '/tmp/pcl_ws/install_isolated/env.sh make -j4 -l4' returned non-zero exit status 2
Reproduce this error by running:
==> /tmp/pcl_ws/install_isolated/env.sh make -j4 -l4
Command failed, exiting.
Does anyone know how to solve this issue? Also, Has anyone been successful in using KinFuLS with groovy? If you did, could you help out with installing/using KinfuLS?
Thank you so much in advance!

Originally posted by sran on ROS Answers with karma: 1 on 2013-07-09
Post score: 0

A:

We use KinFuLS with groovy.
You can get pcl17 with
git clone https://github.com/ros-perception/perception_pcl.git -b groovy-unstable-devel

You can find our KinFu Wrapper here: http://fsstud/svn/ros/is/kinfu/

Originally posted by MichaelKorn with karma: 1480 on 2013-07-11
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by sran on 2013-07-11:
thank you so much! I have one additional question though. Where should I put the kinfu wrapper and how can I use this package?
Comment by MichaelKorn on 2013-07-12:
if you compile (with catkin) our wrapper you will get a ROS node. It needs the date from openni_launch and offers ROS topics (rendered model image, poses as tf messages)
Comment by sran on 2013-07-12:
Do you mean svn checkout http://fsstud.is.uni-due.de/svn/ros/is/kinfu/  for the KinFu wrapper? It seems like catkin_make_isolated doesn't work because home/umcha2/pcl_ws/build_isolated/kinfu/Makefile is missing, and I don't see what this makefile is for...
Comment by MichaelKorn on 2013-07-14:
You can build this wrapper with catkin_make
Comment by sran on 2013-07-16:
so percpetion_pcl needs to be built with catkin_make_isolated while kinfu needs to be built with catkin_make. So I made separate workspace for both of them. catkin_make_isolated successfully builds percpetion_pcl but catkin_make fails in compiling kinfu. The error says:
Comment by sran on 2013-07-16:
CMake Error at /opt/ros/groovy/share/catkin/cmake/catkin_package.cmake:314 (message):
catkin_package() include dir '/home/umcha2/catkin_ws2/devel/include' is
neither an absolute directory nor exists relative to
'/home/umcha2/catkin_ws2/src/kinfu'
Comment by jihoonl on 2013-07-16:
It is an issue of dynamic_reconfigure. You need to modify kinfu/cfg/dyn_config.cfg.
Comment by jihoonl on 2013-07-16:
parameter_generator to parameter_generator_catkin. Ref: http://answers.ros.org/question/55456/catkin_package-include-dir-neither-an-absolute-directory-nor-exists-relative-to-workspace/


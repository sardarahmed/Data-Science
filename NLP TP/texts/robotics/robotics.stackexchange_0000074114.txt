Q:

Problems building RosAria: errors with rosdep install libaria, and generating BumperState.msg code (em.Interpreter attribute not found in genmsg)

Hello,
When trying to install RosAria in Kinetic Kame using

rosdep install rosaria

I got this error:
rosaria: No definition of [libaria] for OS version [xenial]

It seems, that RosAria team have not yet released the binaries for Ubuntu 16.04.
I tried instead to install from source, but, when I call catkin_make, I get the following message:
    Base path: /home/amine/catkin_ws Source space: /home/amine/catkin_ws/src Build space: /home/amine/catkin_ws/build Devel space: /home/amine/catkin_ws/devel Install space: /home/amine/catkin_ws/install
    ####
    #### 
Running command: "make cmake_check_build_system" in "/home/amine/catkin_ws/build"
    ####
    ####
    #### 
Running command: "make -j8 -l8" in "/home/amine/catkin_ws/build"
    #### 
[  0%] Built target std_msgs_generate_messages_nodejs
[  0%] Built target geometry_msgs_generate_messages_lisp 
[  0%] Built target geometry_msgs_generate_messages_nodejs 
[  0%] Built target std_msgs_generate_messages_py 
[  0%] Built target std_msgs_generate_messages_eus 
[  0%] Built target geometry_msgs_generate_messages_py 
[  0%] Built target geometry_msgs_generate_messages_eus 
[  0%] Built target _rosaria_generate_messages_check_deps_BumperState 
[  0%] Built target std_msgs_generate_messages_lisp 
[  0%] Built target std_msgs_generate_messages_cpp
[  9%] Built target rosaria_gencfg 
[  9%] Built target geometry_msgs_generate_messages_cpp 
[ 18%] Built target rosaria_generate_messages_nodejs 
[ 36%] Built target rosaria_generate_messages_py 
[ 54%] Built target rosaria_generate_messages_eus 
[ 63%] Built target rosaria_generate_messages_lisp 
[ 72%] Generating C++ code from rosaria/BumperState.msg Traceback (most recent call last):   File "/opt/ros/kinetic/share/gencpp/cmake/../../../lib/gencpp/gen_cpp.py", line 49, in <module>
        srv_template_map)   File "/opt/ros/kinetic/lib/python2.7/dist-packages/genmsg/template_tools.py", line 212, in generate_from_command_line_options
        generate_from_file(argv[1], options.package, options.outdir, options.emdir, options.includepath, msg_template_dict, srv_template_dict)  File "/opt/ros/kinetic/lib/python2.7/dist-packages/genmsg/template_tools.py", line 153, in generate_from_file
        _generate_msg_from_file(input_file, output_dir, template_dir, search_path, package_name, msg_template_dict)   File "/opt/ros/kinetic/lib/python2.7/dist-packages/genmsg/template_tools.py", line 98, in _generate_msg_from_file
        search_path)   File "/opt/ros/kinetic/lib/python2.7/dist-packages/genmsg/template_tools.py", line 76, in _generate_from_spec
        interpreter = em.Interpreter(output=ofile, globals=g, options={em.RAW_OPT:True,em.BUFFERED_OPT:True}) AttributeError: 'module' object has no attribute 'Interpreter' rosaria/CMakeFiles/rosaria_generate_messages_cpp.dir/build.make:63: recipe for target '/home/amine/catkin_ws/devel/include/rosaria/BumperState.h' failed make[2]: *** [/home/amine/catkin_ws/devel/include/rosaria/BumperState.h] Error 1 make[2]: *** Deleting file '/home/amine/catkin_ws/devel/include/rosaria/BumperState.h' CMakeFiles/Makefile2:2756: recipe for target 'rosaria/CMakeFiles/rosaria_generate_messages_cpp.dir/all' failed make[1]: *** [rosaria/CMakeFiles/rosaria_generate_messages_cpp.dir/all] Error 2 Makefile:138: recipe for target 'all' failed make: *** [all] Error 2 Invoking "make -j8 -l8" failed

EDIT: python --version

Python 2.7.11 :: Anaconda 4.0.0
(64-bit)

Originally posted by Horse-man on ROS Answers with karma: 229 on 2016-05-24
Post score: 0

A:

Ok,
So finally, it was a conflict in python packages, it seems that both em and empy builds a package with the same name. So I just solved it by replacing em by empy:

pip uninstall em

pip install empy

Then I installed RosAria using the standard steps in the official RosAria documentation

Originally posted by Horse-man with karma: 229 on 2016-05-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ReedHedges on 2016-05-31:
Great! If you have time can you report this bug to genmsg, em and empy? If not let me know and I'll look into it more and report it.   May I edit the title of this post to be more specifically about this Python package problem (and also the libaria installation as well.)
Comment by Horse-man on 2016-05-31:
Yes of course you can change the title.
I reported the problem here, but I didn't dig deeper in genmsg code
Comment by ReedHedges on 2016-06-09:
I guess I can't change the title. I was going to change it to something like "Problems building RosAria: errors with rosdep install libaria, and generating BumperState.msg code (em.Interpreter attribute not found in genmsg)".  If you change it that might help others find the solution to this problem


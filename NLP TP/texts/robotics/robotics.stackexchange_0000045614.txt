Q:

pr2 object manipulation demo launching errors

Hi ROS members,
I'm using ROS fuerte and Ubuntu 12.04 and run the manipulation pipeline demo.
There was a post with similar problems quite a while ago problem for loading robot pr2 model
My approach to solve is quite similar to Zhenli's post except I use locally installed database.
But simulation results in errors and hanging .... waiting for some services
mostly /register_planning_scene
  INFO] [1352385362.021962764,
    3093.363000000]: Waiting for joint state ... [ INFO] [1352385362.274628222,
    3093.690000000]: Waiting for environment server planning scene registration service /register_planning_scene [ INFO] [1352385362.518959543,
    3093.995000000]: Waiting for environment server planning scene registration service /register_planning_scene [ INFO] [1352385362.519180630,
    3093.995000000]: Waiting for environment server planning scene registration service /register_planning_scene [ INFO] [1352385362.519545741,
    3093.996000000]: Waiting for environment server planning scene registration service /register_planning_scene [ INFO] [1352385362.526059025,
    3093.998000000]: waitForService: Service [/register_planning_scene] has not been advertised, waiting... [ INFO] [1352385362.527692654,
    3094.001000000]: waitForService: Service [/register_planning_scene] has not been advertised, waiting... [ INFO] [1352385362.528279448,
    3094.001000000]: waitForService: Service [/register_planning_scene] has not been advertised, waiting... [planning_scene_validity_server-12] killing on exit [ INFO] [1352385363.041654300,
    3095.011000000]: Waiting for environment server planning scene registration service /register_planning_scene [ INFO] [1352385363.042446831,
    3095.013000000]: Waiting for environment server planning scene registration service /register_planning_scene [ INFO] [1352385363.042856577,
    3095.013000000]: waitForService: Service [/register_planning_scene] has not been advertised, waiting... [ INFO] [1352385363.043233011,
    3095.015000000]: waitForService: Service [/register_planning_scene] has not been advertised, waiting... [ INFO] [1352385363.238871900,
    3095.407000000]: Waiting for robot state ... [ INFO] [1352385363.238919504,
    3095.407000000]: Waiting for joint state ...

Some of them related to collision map
  [ WARN] [1352386233.535653681, 4434.575000000]: No collision geometry specified for link 'base_laser_link'
    [ WARN] [1352386233.541596599, 4434.595000000]: No collision geometry specified for link 'base_laser_link'
    [ INFO] [1352386233.642855513, 4434.727000000]: Listening to collision_map using message notifier with target frame /odom_combined 
    Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
    process[tabletop_segmentation-30]: started with pid [31797]
    Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
    process[tabletop_object_recognition-31]: started with pid [31810]
    [ WARN] [1352386233.708410454, 4434.797000000]: No collision geometry specified for link 'r_forearm_cam_frame'

and some crashes:
  File "/opt/ros/fuerte/stacks/object_manipulation/object_manipulator/scripts/cluster_bounding_box_finder_server.py", line 46, in <module>
Traceback (most recent call last):
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_grasp_planner_cluster/scripts/point_cluster_grasp_planner_server.py", line 46, in <module>
    import object_manipulator.cluster_bounding_box_finder as cluster_bounding_box_finder
  File "/opt/ros/fuerte/stacks/object_manipulation/object_manipulator/src/object_manipulator/cluster_bounding_box_finder.py", line 43, in <module>
    import pr2_gripper_grasp_planner_cluster.point_cluster_grasp_planner as grasp_planner_cluster
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_grasp_planner_cluster/src/pr2_gripper_grasp_planner_cluster/point_cluster_grasp_planner.py", line 44, in <module>
    import scipy
    import scipy
ImportErrorImportError: : No module named scipyNo module named scipy

Traceback (most recent call last):
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/scripts/reactive_grasp_server.py", line 43, in <module>
    import pr2_gripper_reactive_approach.reactive_grasp as reactive_grasp
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/src/pr2_gripper_reactive_approach/reactive_grasp.py", line 45, in <module>
    import controller_manager
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/src/pr2_gripper_reactive_approach/controller_manager.py", line 61, in <module>
    from tabletop_collision_map_processing import collision_map_interface
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/perception/tabletop_collision_map_processing/src/tabletop_collision_map_processing/collision_map_interface.py", line 42, in <module>
    Traceback (most recent call last):
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/scripts/reactive_grasp_server.py", line 43, in <module>
import random, time, math, scipy, pdb
    import pr2_gripper_reactive_approach.reactive_grasp as reactive_grasp
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/src/pr2_gripper_reactive_approach/reactive_grasp.py", line 45, in <module>
ImportError:     import controller_manager
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/src/pr2_gripper_reactive_approach/controller_manager.py", line 61, in <module>
No module named scipy    from tabletop_collision_map_processing import collision_map_interface
  File "/opt/ros/fuerte/stacks/pr2_object_manipulation/perception/tabletop_collision_map_processing/src/tabletop_collision_map_processing/collision_map_interface.py", line 42, in <module>

    import random, time, math, scipy, pdb
ImportError: No module named scipy
[pr2_gripper_grasp_planner_cluster-21] process has died [pid 8349, exit code 1, cmd /opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_grasp_planner_cluster/scripts/point_cluster_grasp_planner_server.py __name:=pr2_gripper_grasp_planner_cluster __log:=/home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/pr2_gripper_grasp_planner_cluster-21.log].
log file: /home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/pr2_gripper_grasp_planner_cluster-21*.log
[cluster_bounding_box_finder-28] process has died [pid 8583, exit code 1, cmd /opt/ros/fuerte/stacks/object_manipulation/object_manipulator/scripts/cluster_bounding_box_finder_server.py __name:=cluster_bounding_box_finder __log:=/home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/cluster_bounding_box_finder-28.log].
log file: /home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/cluster_bounding_box_finder-28*.log
[reactive_grasp_node_right-22] process has died [pid 8383, exit code 1, cmd /opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/scripts/reactive_grasp_server.py r __name:=reactive_grasp_node_right __log:=/home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/reactive_grasp_node_right-22.log].
log file: /home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/reactive_grasp_node_right-22*.log

[reactive_grasp_node_left-23] process has died [pid 8402, exit code 1, cmd /opt/ros/fuerte/stacks/pr2_object_manipulation/manipulation/pr2_gripper_reactive_approach/scripts/reactive_grasp_server.py l __name:=reactive_grasp_node_left __log:=/home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/reactive_grasp_node_left-23.log].
log file: /home/letrungson/.ros/log/56e26814-29b5-11e2-9771-001731bea033/reactive_grasp_node_left-23*.log

probably some changes with the newer ROS versions and related stacks/packages??
Thank you in advance!
Edit 01:
Thanks Lorenz for the help! My first error was a lack of scipy package
I almost come through all the errors now except some warnings about URDF with inertia and dummy link (I've found this warnings quite common with gazebo simulation, but not sure if it's safe with them):
[ WARN] [1352430001.520392043, 123051.965000000]: The root link base_footprint has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.

and an error with tf probably
[ERROR] [1352430102.157040631, 123155.863000000]: WaitForTransform timed out from r_shoulder_pan_link to base_footprint after 100ms.  Error string: Lookup would require extrapolation into the future.  Requested time 123155.667000000 but the latest data is at time 123155.598000000, when looking up transform from frame [/r_shoulder_pan_link] to frame [/base_footprint]

Originally posted by roskidos on ROS Answers with karma: 110 on 2012-11-08
Post score: 0

Original comments
Comment by roskidos on 2012-11-08:
Thanks a lot @Lorenz!! I went through the errors already now, with some other minor errors I guess but I can come to the next tutorial and back to them later :D

A:

The python exception indicates that scipy was not found. Probably a missing rosdep. Install it manually: sudo apt-get install python-scipy

Originally posted by Lorenz with karma: 22731 on 2012-11-08
This answer was ACCEPTED on the original site
Post score: 0


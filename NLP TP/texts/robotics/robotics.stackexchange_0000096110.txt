Q:

publish a trajectory plan passing through some points

Hello
is it possible to publish a trajectory plan in the odometry frame for ROS to try to navigate?
For example, I have some points (x, y) that are a few meters in front of the robot and I would like to publish a trajectory passing through these points so that the robot tries to pass through them.
It is possible? on what topic should I publish this trajectory plan?
thanks

Originally posted by mateusguilherme on ROS Answers with karma: 125 on 2020-06-08
Post score: 0

A:

is it possible to publish a trajectory plan in the odometry frame for ROS to try to navigate?

Yes, the plan message has a header and that header is used by properly implemented controllers to convert into the odom frame (and in this case, its already in it so it doesn't do anything).
You'd have to create a custom planner plugin to take these points and hand them off to the API when it requests a plan. That is then handed to the controller to follow. In ROS2 navigation, you could directly call the controller action server with a plan in that frame, but in ROS1 you'll have to create a plugin to 'fake out' the plan.

Originally posted by stevemacenski with karma: 8272 on 2020-06-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by mateusguilherme on 2020-06-09:
Hello
thanks for your answer! Do you have a link that shows how to create this plugin?
Comment by stevemacenski on 2020-06-09:
You implement the GlobalPlanner interface and then register it as a pluginlib plugin. There's no single-one-off tutorial to teach you that
Comment by mateusguilherme on 2020-06-10:
thanks for your tips. I implemented a simple global planner, but I have some problems with how to make it publish the trajectory in the odometry frame. I created a new question at the link: https://answers.ros.org/question/354617/creating-a-global-planner-with-the-trajectory-in-the-odometry-frame/
I would be grateful for any assistance you can provide
Comment by stevemacenski on 2020-06-10:
sure, can you mark this one as correct then since we're moving to another question (also, thanks for that proper use of Answers, its duly appreciated)


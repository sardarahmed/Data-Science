Q:

Setting joint velocity through plugin

I'm writing a model plugin in C++ to use with ROS+Gazebo via python (similar to AtlasPlugin)
I wrote a reset function to allow me to set initial conditions for a model (world position, joints positions and velocities). Everything is working right except for the joint velocities.
I'm using Joint::SetVelocity() but nothing happens. I also tried using Joint::Update() after and still nothing...
Here's a small snippet of my code:
this->joints[i]->SetVelocity(0,_req.joint_vel[i]);
this->joints[i]->Update();

I'll appreciate any help :)

Originally posted by Lothas on Gazebo Answers with karma: 1 on 2013-05-09
Post score: 0

Original comments
Comment by iche033 on 2013-05-10:
If possible, you could use SetForce instead of SetVelocity as I think that would work.

A:

You should call SetMaxForce for the joint. This tells the physics engine the maximum force that can be applied to a joint in order to achieve the specified velocity.

Originally posted by nkoenig with karma: 7676 on 2014-02-21
This answer was ACCEPTED on the original site
Post score: 1


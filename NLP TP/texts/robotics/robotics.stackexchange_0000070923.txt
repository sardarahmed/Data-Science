Q:

Best way to get distro version in CMakeLists.txt?

I usually do like below to check the rosdistro.
Are there better way to do like this?
# check ros distro >= indigo
execute_process(
  COMMAND python -c "import sys; sys.exit(ord('$ENV{ROS_DISTRO}'[0]) >= ord('indigo'[0]))"
  RESULT_VARIABLE DISTRO_GE_INDIGO
)
if(DISTRO_GE_INDIGO)
...
endif()

Originally posted by wkentaro on ROS Answers with karma: 175 on 2015-12-16
Post score: 2

Original comments
Comment by gvdhoorn on 2015-12-16:
I'm not sure whether there is a CMake macro defined anywhere. An alternative to the python one-liner might be to use rosversion -d. That returns hydro, indigo, etc.

A:

I found a better solution by comparing $ENV{ROS_DISTRO} value with STRGREATER like below:
if("$ENV{ROS_DISTRO}" STRGREATER "hydro")
...
endif()

Originally posted by wkentaro with karma: 175 on 2016-05-22
This answer was ACCEPTED on the original site
Post score: 2


Q:

Retrieve velocity data from twist messages

Hello I would like to inspect and pass on the individual velocities from Twist messages, are there methods to do this? Thanks.

Originally posted by boog on ROS Answers with karma: 18 on 2013-08-03
Post score: 0

A:

hi,
you probably want to do something like this (this is an example that converts geometry_msgs/Twist message to turtlesim/Velocity message):
def TwistToTurtle(): #initialization
rospy.init_node('TwistToTurtle',anonymous=False)
rospy.Subscriber('cmd_vel',Twist,gotTwistCB) #subscribe to cmd_vel topic which publishes Twist messages 
pub = rospy.Publisher('turtle1/command_velocity',Velocity)
rospy.spin()

def gotTwistCB(data): #when Twist msg is received
#take values from data and do your job, for example:
outdata = Velocity()
outdata.linear = data.linear.x
outdata.angular = data.angular.z
pub.publish(outdata)

SO data.linear.x/y/z and data.angular.x/y/z are the ones that you care about
more on subsribing tutorial here.
Also, you may want to check out rosmsg or just run
rosmsg -h

Originally posted by vonovak with karma: 88 on 2013-08-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by parzival on 2019-08-14:
Hey @vonovak one quick question - Are the velocity commands in m/s and angular velocity in rads/sec? or is there any other scaling?


Q:

move_base_flex loading DWB_local_planner using Adapter, but cannot plan

Hi,  I'm trying to get familiar with SMACH and adapting tutorial, but changing default dwa_local_planner to DWB, since it showed a great performance.
Since It's nav_core, I'm using nav_core_adapter, loading DWB_local_planner as:
controllers:
  - name: 'BaseLocalPlanner'
    type: 'nav_core_adapter::LocalPlannerAdapter'

LocalPlannerAdapter:
  planner_name: dwb_local_planner::DWBLocalPlanner
DWBLocalPlanner:
  update_frequency: 5.0

While running move_base_flex, all the things are loaded without errors, but when choosing a goal, I'm getting a lot of :
[ERROR] []: computeVelocityCommands exception: No valid trajectories out of 0! 
Any clue what the reason could be?
Am I missing something in SMACH python file?
[EDIT 1]:
planner_ns/evaluation output is a good debugging tool, thanks @David Lu
Output this message:
frame_id: "odom_combined" 
twists: []  
best_index: 0   
worst_index: 0  
I found his thread. If I got it right, planner is waiting for /odom topic, but by defalult it's publishing  /odom_combined.
Also, local and global planner parameter's global map: set to map in common_parameters.yaml, which needs to be set as odom for local_planner_params.yaml.
The last, pay attention to the velocity, as it's explained in the link.

Originally posted by artemiialessandrini on ROS Answers with karma: 69 on 2020-05-19
Post score: 0

Original comments
Comment by artemiialessandrini on 2020-05-20:
GetPath.action, ExePath.action explained at 294278/custom-global-path/
Comment by David Lu on 2020-05-20:
Can you capture the output of planner_ns/evaluation in a bag and post it?
Comment by artemiialessandrini on 2020-05-21:
I updated a thread, thanks again! @David Lu

A:

See [EDIT] in the header

capture the output of planner_ns/evaluation
Follow this thread:

pay attention odom  to be set as global_frame in local_costmap_params.yaml
have /odom topic
have planner set using nav_core_adapter as explained in description locusrobotics/robot_navigation/nav_core_adapter

Originally posted by artemiialessandrini with karma: 69 on 2020-05-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by David Lu on 2020-06-05:
Glad it worked out for you.


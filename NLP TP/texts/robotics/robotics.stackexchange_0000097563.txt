Q:

Facing error simulating robot arm in rviz with package built using moveit

I built a package called prototype2 using moveit, but when I try to run the package in rviz from my catkin workspace it is giving the following error. I am using ubuntu 18 in  a virtual machine.
SUMMARY
========

PARAMETERS
 * /joint_state_publisher/source_list: ['move_group/fake...
 * /joint_state_publisher/use_gui: False
 * /move_group/allow_trajectory_execution: True
 * /move_group/capabilities: 
 * /move_group/controller_list: [{'joints': ['joi...
 * /move_group/disable_capabilities: 
 * /move_group/hand/default_planner_config: None
 * /move_group/hand/longest_valid_segment_fraction: 0.005
 * /move_group/hand/planner_configs: ['SBL', 'EST', 'L...
 * /move_group/hand/projection_evaluator: joints(joint 5 ,j...
 * /move_group/jiggle_fraction: 0.05
 * /move_group/max_range: 5.0
 * /move_group/max_safe_path_cost: 1
 * /move_group/moveit_controller_manager: moveit_fake_contr...
 * /move_group/moveit_manage_controllers: True
 * /move_group/new_arm/default_planner_config: None
 * /move_group/new_arm/planner_configs: ['SBL', 'EST', 'L...
 * /move_group/octomap_resolution: 0.025
 * /move_group/planner_configs/BFMT/balanced: 0
 * /move_group/planner_configs/BFMT/cache_cc: 1
 * /move_group/planner_configs/BFMT/extended_fmt: 1
 * /move_group/planner_configs/BFMT/heuristics: 1
 * /move_group/planner_configs/BFMT/nearest_k: 1
 * /move_group/planner_configs/BFMT/num_samples: 1000
 * /move_group/planner_configs/BFMT/optimality: 1
 * /move_group/planner_configs/BFMT/radius_multiplier: 1.0
 * /move_group/planner_configs/BFMT/type: geometric::BFMT
 * /move_group/planner_configs/BKPIECE/border_fraction: 0.9
 * /move_group/planner_configs/BKPIECE/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/BKPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/BKPIECE/range: 0.0
 * /move_group/planner_configs/BKPIECE/type: geometric::BKPIECE
 * /move_group/planner_configs/BiEST/range: 0.0
 * /move_group/planner_configs/BiEST/type: geometric::BiEST
 * /move_group/planner_configs/BiTRRT/cost_threshold: 1e300
 * /move_group/planner_configs/BiTRRT/frountier_node_ratio: 0.1
 * /move_group/planner_configs/BiTRRT/frountier_threshold: 0.0
 * /move_group/planner_configs/BiTRRT/init_temperature: 100
 * /move_group/planner_configs/BiTRRT/range: 0.0
 * /move_group/planner_configs/BiTRRT/temp_change_factor: 0.1
 * /move_group/planner_configs/BiTRRT/type: geometric::BiTRRT
 * /move_group/planner_configs/EST/goal_bias: 0.05
 * /move_group/planner_configs/EST/range: 0.0
 * /move_group/planner_configs/EST/type: geometric::EST
 * /move_group/planner_configs/FMT/cache_cc: 1
 * /move_group/planner_configs/FMT/extended_fmt: 1
 * /move_group/planner_configs/FMT/heuristics: 0
 * /move_group/planner_configs/FMT/nearest_k: 1
 * /move_group/planner_configs/FMT/num_samples: 1000
 * /move_group/planner_configs/FMT/radius_multiplier: 1.1
 * /move_group/planner_configs/FMT/type: geometric::FMT
 * /move_group/planner_configs/KPIECE/border_fraction: 0.9
 * /move_group/planner_configs/KPIECE/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/KPIECE/goal_bias: 0.05
 * /move_group/planner_configs/KPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/KPIECE/range: 0.0
 * /move_group/planner_configs/KPIECE/type: geometric::KPIECE
 * /move_group/planner_configs/LBKPIECE/border_fraction: 0.9
 * /move_group/planner_configs/LBKPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/LBKPIECE/range: 0.0
 * /move_group/planner_configs/LBKPIECE/type: geometric::LBKPIECE
 * /move_group/planner_configs/LBTRRT/epsilon: 0.4
 * /move_group/planner_configs/LBTRRT/goal_bias: 0.05
 * /move_group/planner_configs/LBTRRT/range: 0.0
 * /move_group/planner_configs/LBTRRT/type: geometric::LBTRRT
 * /move_group/planner_configs/LazyPRM/range: 0.0
 * /move_group/planner_configs/LazyPRM/type: geometric::LazyPRM
 * /move_group/planner_configs/LazyPRMstar/type: geometric::LazyPR...
 * /move_group/planner_configs/PDST/type: geometric::PDST
 * /move_group/planner_configs/PRM/max_nearest_neighbors: 10
 * /move_group/planner_configs/PRM/type: geometric::PRM
 * /move_group/planner_configs/PRMstar/type: geometric::PRMstar
 * /move_group/planner_configs/ProjEST/goal_bias: 0.05
 * /move_group/planner_configs/ProjEST/range: 0.0
 * /move_group/planner_configs/ProjEST/type: geometric::ProjEST
 * /move_group/planner_configs/RRT/goal_bias: 0.05
 * /move_group/planner_configs/RRT/range: 0.0
 * /move_group/planner_configs/RRT/type: geometric::RRT
 * /move_group/planner_configs/RRTConnect/range: 0.0
 * /move_group/planner_configs/RRTConnect/type: geometric::RRTCon...
 * /move_group/planner_configs/RRTstar/delay_collision_checking: 1
 * /move_group/planner_configs/RRTstar/goal_bias: 0.05
 * /move_group/planner_configs/RRTstar/range: 0.0
 * /move_group/planner_configs/RRTstar/type: geometric::RRTstar
 * /move_group/planner_configs/SBL/range: 0.0
 * /move_group/planner_configs/SBL/type: geometric::SBL
 * /move_group/planner_configs/SPARS/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARS/max_failures: 1000
 * /move_group/planner_configs/SPARS/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARS/stretch_factor: 3.0
 * /move_group/planner_configs/SPARS/type: geometric::SPARS
 * /move_group/planner_configs/SPARStwo/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARStwo/max_failures: 5000
 * /move_group/planner_configs/SPARStwo/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARStwo/stretch_factor: 3.0
 * /move_group/planner_configs/SPARStwo/type: geometric::SPARStwo
 * /move_group/planner_configs/STRIDE/degree: 16
 * /move_group/planner_configs/STRIDE/estimated_dimension: 0.0
 * /move_group/planner_configs/STRIDE/goal_bias: 0.05
 * /move_group/planner_configs/STRIDE/max_degree: 18
 * /move_group/planner_configs/STRIDE/max_pts_per_leaf: 6
 * /move_group/planner_configs/STRIDE/min_degree: 12
 * /move_group/planner_configs/STRIDE/min_valid_path_fraction: 0.2
 * /move_group/planner_configs/STRIDE/range: 0.0
 * /move_group/planner_configs/STRIDE/type: geometric::STRIDE
 * /move_group/planner_configs/STRIDE/use_projected_distance: 0
 * /move_group/planner_configs/TRRT/frountierNodeRatio: 0.1
 * /move_group/planner_configs/TRRT/frountier_threshold: 0.0
 * /move_group/planner_configs/TRRT/goal_bias: 0.05
 * /move_group/planner_configs/TRRT/init_temperature: 10e-6
 * /move_group/planner_configs/TRRT/k_constant: 0.0
 * /move_group/planner_configs/TRRT/max_states_failed: 10
 * /move_group/planner_configs/TRRT/min_temperature: 10e-10
 * /move_group/planner_configs/TRRT/range: 0.0
 * /move_group/planner_configs/TRRT/temp_change_factor: 2.0
 * /move_group/planner_configs/TRRT/type: geometric::TRRT
 * /move_group/planning_plugin: ompl_interface/OM...
 * /move_group/planning_scene_monitor/publish_geometry_updates: True
 * /move_group/planning_scene_monitor/publish_planning_scene: True
 * /move_group/planning_scene_monitor/publish_state_updates: True
 * /move_group/planning_scene_monitor/publish_transforms_updates: True
 * /move_group/request_adapters: default_planner_r...
 * /move_group/sensors: [{}]
 * /move_group/start_state_max_bounds_error: 0.1
 * /move_group/trajectory_execution/allowed_execution_duration_scaling: 1.2
 * /move_group/trajectory_execution/allowed_goal_duration_margin: 0.5
 * /move_group/trajectory_execution/allowed_start_tolerance: 0.01
 * /robot_description: <?xml version="1....
 * /robot_description_kinematics/new_arm/kinematics_solver: kdl_kinematics_pl...
 * /robot_description_kinematics/new_arm/kinematics_solver_attempts: 3
 * /robot_description_kinematics/new_arm/kinematics_solver_search_resolution: 0.005
 * /robot_description_kinematics/new_arm/kinematics_solver_timeout: 0.005
 * /robot_description_planning/joint_limits/joint 1/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint 1/has_velocity_limits: False
 * /robot_description_planning/joint_limits/joint 1/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint 1/max_velocity: 0
 * /robot_description_planning/joint_limits/joint 2/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint 2/has_velocity_limits: False
 * /robot_description_planning/joint_limits/joint 2/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint 2/max_velocity: 0
 * /robot_description_planning/joint_limits/joint 3/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint 3/has_velocity_limits: False
 * /robot_description_planning/joint_limits/joint 3/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint 3/max_velocity: 0
 * /robot_description_planning/joint_limits/joint 4/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint 4/has_velocity_limits: False
 * /robot_description_planning/joint_limits/joint 4/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint 4/max_velocity: 0
 * /robot_description_planning/joint_limits/joint 5 /has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint 5 /has_velocity_limits: False
 * /robot_description_planning/joint_limits/joint 5 /max_acceleration: 0
 * /robot_description_planning/joint_limits/joint 5 /max_velocity: 0
 * /robot_description_planning/joint_limits/joint 6/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint 6/has_velocity_limits: False
 * /robot_description_planning/joint_limits/joint 6/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint 6/max_velocity: 0
 * /robot_description_semantic: <?xml version="1....
 * /rosdistro: kinetic
 * /rosversion: 1.12.16
 * /rviz_fahim_virtual_machine_21202_4116836122168868035/new_arm/kinematics_solver: kdl_kinematics_pl...
 * /rviz_fahim_virtual_machine_21202_4116836122168868035/new_arm/kinematics_solver_attempts: 3
 * /rviz_fahim_virtual_machine_21202_4116836122168868035/new_arm/kinematics_solver_search_resolution: 0.005
 * /rviz_fahim_virtual_machine_21202_4116836122168868035/new_arm/kinematics_solver_timeout: 0.005

NODES
  /
    joint_state_publisher (joint_state_publisher/joint_state_publisher)
    move_group (moveit_ros_move_group/move_group)
    robot_state_publisher (robot_state_publisher/robot_state_publisher)
    rviz_fahim_virtual_machine_21202_4116836122168868035 (rviz/rviz)

auto-starting new master
process[master]: started with pid [21212]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 7a3a32e0-2427-11eb-b7c7-000c29173893
process[rosout-1]: started with pid [21225]
started core service [/rosout]
process[joint_state_publisher-2]: started with pid [21236]
process[robot_state_publisher-3]: started with pid [21243]
[ WARN] [1605103754.541467088]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
process[move_group-4]: started with pid [21244]
process[rviz_fahim_virtual_machine_21202_4116836122168868035-5]: started with pid [21266]
[ INFO] [1605103754.698578612]: Loading robot model 'prototype2'...
[ INFO] [1605103754.732086076]: rviz version 1.12.17
[ INFO] [1605103754.732146302]: compiled against Qt version 5.5.1
[ INFO] [1605103754.732166258]: compiled against OGRE version 1.9.0 (Ghadamon)
[ WARN] [1605103754.733456431]: Could not identify parent group for end-effector 'hand'
terminate called after throwing an instance of 'ros::InvalidNameException'
  what():  Character [ ] at element [46] is not valid in Graph Resource Name [/robot_description_planning/joint_limits/joint 1/max_position].  Valid characters are a-z, A-Z, 0-9, / and _.
[ INFO] [1605103754.931988673]: Stereo is NOT SUPPORTED
[ INFO] [1605103754.932078873]: OpenGl version: 3 (GLSL 1.3).
[move_group-4] process has died [pid 21244, exit code -6, cmd /opt/ros/kinetic/lib/moveit_ros_move_group/move_group --debug __name:=move_group __log:=/home/fahim/.ros/log/7a3a32e0-2427-11eb-b7c7-000c29173893/move_group-4.log].
log file: /home/fahim/.ros/log/7a3a32e0-2427-11eb-b7c7-000c29173893/move_group-4*.log
[ INFO] [1605103758.303425769]: Loading robot model 'prototype2'...
[ WARN] [1605103758.308094880]: Could not identify parent group for end-effector 'hand'
[ERROR] [1605103758.308518197]: Exception caught while processing action 'loadRobotModel': Character [ ] at element [46] is not valid in Graph Resource Name [/robot_description_planning/joint_limits/joint 1/max_position].  Valid characters are a-z, A-Z, 0-9, / and _.

Edit: I've resolved the error. Apparently there was some incorrect naming of joints and links in the urdf file. Which, I had to fix first. Then after building the package again using moveit, I was able to launch it in rviz.

Originally posted by mfahim on ROS Answers with karma: 16 on 2020-11-11
Post score: 0

Original comments
Comment by gvdhoorn on 2020-11-12:
Please post your edit as an answer, and then accept your own answer.
As-is, your edit is invisible.

A:

I've resolved the error. Apparently there was some incorrect naming of joints and links in the urdf file. Which, I had to fix first. Then after building the package again using moveit, I was able to launch it in rviz.

Originally posted by mfahim with karma: 16 on 2020-11-12
This answer was ACCEPTED on the original site
Post score: 0


Q:

Robot initial pose accuracy

Hi, I have a robot. I use imu sensor and odometry for localization on map. But the initial pose of robot in real life and simulation are not same. Imagine I put robot at the starting point of the map in real life and in RVIZ I put robot at the starting point. But in real I might put it a few centimeter in real life away from position in simulation. I hope I did tell my trouble.

Originally posted by altpebush on ROS Answers with karma: 3 on 2022-09-30
Post score: 0

Original comments
Comment by Mike Scheutzow on 2022-10-02:
It is not clear what your question is.
Also, it is not correct to believe that a robot in simulation will behave EXACTLY like a robot in the physical world. It won't because of limitations in the simulation.

A:

I believe you described your problem of how to minimize the discrepancy between the real robot's actual positioning on the map and its simulated version in the simulation (or in general, how to account for the error of the initial pose in robot control).
One way of solving this problem is AMCL (but this node works only with laser scans from robot's lidar and laser maps):

amcl is a probabilistic localization
system for a robot moving in 2D.
It implements the adaptive (or KLD-sampling) Monte Carlo localization approach (as described by Dieter Fox), which uses a particle filter to track the pose of a robot against a known map.

AMCL will minimize the location error introduced by an inaccurate initial pose.
Any other approach will likely use something similar - updates from sensors to minimize location error.
Feel free to add more details to your question, so we could help you better :)

Originally posted by ljaniec with karma: 3064 on 2022-10-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Mike Scheutzow on 2022-10-03:
@ljaniec I think that "simulation" and "digital twin" are different things.
Comment by ljaniec on 2022-10-03:
@Mike Scheutzow Ok, maybe I exaggerated - it sounded like the OP wanted the same system in real settings and in simulation, controlled simultaneously, where initial localization errors accumulate over time. I'm curious about your definition of a digital twin.
I also tried to rephrase the words in the answer better.
Comment by Mike Scheutzow on 2022-10-03:
In our definition, a "digital twin" is displaying the state of real robots within a virtual world. It is the real robot's sensors that are used for localization and collision detect.
Comment by ljaniec on 2022-10-03:
TIL, thank you. I deleted the mention of digital twin for clarity.
Comment by altpebush on 2022-10-05:
Actually our environment is not 2d then we can not use amcl for it. I mean there is no obstacle in our map. obstacles are lanes just like the roads. In other words, it's not an indoor robot. It is a car moves outdoor
Comment by ljaniec on 2022-10-05:
Maybe robot_localization package will help here with a GPS integration? https://github.com/cra-ros-pkg/robot_localization
Comment by altpebush on 2022-10-05:
Actually we already use robot localization package but without gps. I couldn't find any parameter about gps in this package. How can we integrate gps?
Comment by ljaniec on 2022-10-05:
Check first link above + navsat_transform_node from robot_localization GitHub + its implementation
Comment by altpebush on 2022-10-05:
Thanks a lot.
Comment by ljaniec on 2022-10-06:
If it helped you, please upvote and accept it as an answer, so it will be marked as solved in the question queue. You should also link here your new questions related to it later.


Q:

ament_cmake_python job

I know that ament_python is for building packages using python's setup.py and (for now) users can not mix ament_cmake with ament_python in the same package.
The question is what does ament_cmake_python do? and an explanation with a use-case/example would make me happy.
Sorry, there is just some lack of information/use-cases out there about some of ament functions.
Originally asked as a comment here https://answers.ros.org/question/349571/what-is-ament_cmake-job/?answer=349871#post-id-349871

Originally posted by aby on ROS Answers with karma: 25 on 2020-04-20
Post score: 1

A:

While documentation is sparse, you can usually get useful information from the function/macro documentations.
Did you try looking at the content of the ament_cmake_python package?
At a glance it contains only 2 macro definitions which name and docblocs are pretty explicit.

ament_python_install_module to install python modules
ament_python_install_package to install python packages

I know that [...] (for now) users can not mix ament_cmake with ament_python in the same package.

grep -rl "ament_python_install_package(" | sort -u | grep CMakeLists.txt | wc -l
41

It appears that 41 packages in the [ros2.repos](https://github.com/ros2/ros2/blob/0a62b2cd2210b06be7570c00922cd2f3d6609e31/ros2.repos) file do install python packages from ament_cmake packages. There may be restrictions or good reasons not to mix ament_cmake and python packages but it looks like in some cases it is doable and done.
Edit:
An example of package using it is rqt_plot

Are the Python packages installed here are:

PyPi packages and whls only

ros2 packages with setup.py (including the current one that the
CMake is building)
both of the above

My understanding from reading the docblock is that it installs the python package you point to and any sub-package in that same directory (sub-directories containing an __init__.py).
It does not require any setup.py, just the presence of an __init__.py file
So I expect it to install noting outside that directory, no other ROS 2 packages and no Pypi packages, only recursive subpackages

Originally posted by marguedas with karma: 3606 on 2020-04-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by aby on 2020-04-22:
I looked at the Github page before but I was not able to read such CMake file at my current early stage.
These are questions to clarify the answer above.

Where to run this grep command? in which of the ros2 repos?
Are the Python packages installed here are:

PyPi packages and whls only
ros2 packages with setup.py (including the current one that the CMake is building)
both of the above

Comment by marguedas on 2020-04-23:
I edited the answer above to add a link to the ros2.repos file and answer the follow-up question


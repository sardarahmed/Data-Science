Q:

Allow contacts for motion planning

In the MoveArmGoal message, the planning diff field allow for the specification of contacts. I tried adding a box to allow a gripper to hit an obstacle. However when I specify all the links of the PR2 gripper (there's several!) all the nodes that use the planning scene complain that:

Allowed collision specification has link_names size 5 while the only supported size is 2

If I use only two links (in this case "r_wrist_flex_link" and "r_wrist_roll_link"), IK returns with error -33 (I bet it's a collision check failing).
Are there examples on using allowed contact specifications in an arm navigation setting that I can have a look at? Is this feature being used?

Originally posted by Lorenzo Riano on ROS Answers with karma: 1342 on 2012-06-21
Post score: 1

A:

My guess would be that the semantics is: allowed contacts between a link-pair. In that case you would have to input all pairs, but I've never used that.
The errors are defined in ArmNavigationErrorCodes:
int32 IK_LINK_IN_COLLISION=-33

Originally posted by dornhege with karma: 31395 on 2012-06-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Lorenzo Riano on 2012-06-22:
Hi Christian, I knew you'd be around for an answer! As far as I understand these contacts are between a link and something else, like an object. Anyway I've read the collision_space node code, and found no reference to the allowed contacts part of the message!.So my question still holds
Comment by dornhege on 2012-06-25:
I've digged around and you can find the code (I think) in planning_environment, model_utils.cpp. They are assigning body_name_1 and ..._2, so they can only be used pairwise.
Comment by Lorenzo Riano on 2012-06-25:
I've looked at the collision_space package. The code for collision checking seems to be there. However I couldn't find how to tell the overall collision checking system to ignore some areas of the collision map! Any suggestion?


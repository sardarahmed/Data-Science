Q:

Rosbag record in unexisting folder

Hi everybody,
I would like to know if anyone knows a solution when we record in a folder with rosbag, but that folder doesn't exist....
In my case, I found that rosbag just doesn't seems to save anything... But without any error message ! And that's a big problem, because my recording was just a "one shot" thing....
Is there any way to find the data somewhere ? (I tried ~/.ros, but nothing there)...
Thank you very much !
Stéphane
EDIT : if you launch rosbag record from a launch file, you have to let
output="screen"

otherwise the error message doesn't appears.

Originally posted by Stephane.M on ROS Answers with karma: 1304 on 2013-04-23
Post score: 0

Original comments
Comment by Martin Günther on 2013-04-23:
How did you manage to record to a directory that doesn't exist? Did you delete the working directory where you ran rosbag while rosbag was running?
Comment by Stephane.M on 2013-04-23:
In fact, imagine I want to record in /home/data folder. So I recorded some things, saved them on an hard drive, but by doing that, I removed the folder data. When I relaunch rosbag record, nothing is saved, as the folder doesn't exist anymore.
Comment by Stephane.M on 2013-04-23:
And rosbag then behave "as if it was recording", without letting us know it's not recording at all.

A:

To sum up my understanding of what happened: You started rosbag record in /home/data, and while rosbag was recording, you deleted that directory. The question is whether rosbag should print an error message if you do that. (Please correct me if I misunderstood your question.)
That's not a bug in rosbag, but a general design decision in Unix. As long as rosbag is still running, you can try to recover the file from /proc/pid/fd, otherwise maybe this will help (more information here).
BTW: If you delete /home/data before starting rosbag, you'll get an error saying that the file is not writable; only if you delete it while rosbag is recording, you'll lose the data.

Originally posted by Martin Günther with karma: 11816 on 2013-04-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Stephane.M on 2013-04-23:
No. I deleted the /home/data before starting rosbag. And I didn't get any error. Maybe it is because it is inside a launch file ? Example : " "
Comment by Stephane.M on 2013-04-23:
But anyway, thank you for your answer, it helped me to understand :-)
Comment by Stephane.M on 2013-04-23:
I made an test by adding output="screen" and indeed, it shows an error message... (I desactivated it because my launch files launch so many things that I only keep the interesting messages shown...). Thank you again, have a good day !
Comment by Martin Günther on 2013-04-23:
Glad I could help! :-)


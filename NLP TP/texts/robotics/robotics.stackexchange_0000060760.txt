Q:

Pre-release build failure to source setup.sh for 3rd party package

I've tried a pre-release test on the Hydro build farm for package libnabo.  What I don't understand is that it is first build once succesfully, and then there is a second build that fails due to the following:
Retrieve the ROS build environment by sourcing /tmp/test_repositories/build_repository/install_isolated/setup.sh
/!\  Failed to source /tmp/test_repositories/build_repository/install_isolated/setup.sh
Failed to source /tmp/test_repositories/build_repository/install_isolated/setup.sh
I cannot link to the log but you should be able to see it on Jenkins under prerelease-hydro-libnabo
Thanks!

Originally posted by samlcharreyron on ROS Answers with karma: 36 on 2014-07-11
Post score: 2

Original comments
Comment by vooon on 2014-07-13:
Got same issue on mavlink package.

A:

The prereleases are not designed for packages with build type "cmake". Since they don't provide a common way for setting up the environment the buildfarm can't handle them.
Update: since the specific case was working before I will look into why it stopped working.
Update 2: fixed by https://github.com/ros-infrastructure/jenkins_scripts/commit/56fd5f4953dd02529adf41f5c053d72676d01b7e

Originally posted by Dirk Thomas with karma: 16276 on 2014-07-14
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by samlcharreyron on 2014-07-14:
Does that mean it's not possible to test or build catkin packages on the build farm which depend on these packages?
Comment by Dirk Thomas on 2014-07-14:
If you prerelease a set of repositories the dependencies will be installed from Debian packages. I don't see an issue with that scenario. I would assume it is only a problem if you prerelease packages which are of build type "cmake".
If that is not the case please provide links to specific prerelease jobs so that it is clear what is actually being tested.
Comment by AHornung on 2014-07-15:
Do you suggest that cmake-style packages should be removed from the prereleases then? E.g. the "octomap" repo started to fail only recently but was working before. If that's as intended then it should be communicated somewhere, e.g. by refusing "cmake" jobs outright.
Comment by AHornung on 2014-07-15:
Actually, it was the devel job that started failing recently: http://jenkins.ros.org/job/devel-hydro-octomap/


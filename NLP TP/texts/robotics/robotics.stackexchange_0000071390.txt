Q:

How to constrain the pose of an interactive marker in RVIZ?

Hi,
Do you have any idea about how to constrain the pose of an interactive marker in RVIZ?
I want to stop the shape when it reaches a specified position.
Thank you!

Originally posted by masihec on ROS Answers with karma: 31 on 2016-01-17
Post score: 1

A:

This is possible using the feedback callback described in this tutorial.
Python example:
class myInteractivemarker:
    def __init__(self):
         # Define your marker....
         my_marker = InteractiveMarker()
         ......

          # Set feedback callback
          self.server.insert(my_marker, self.processFeedback)

    def processFeedback(self, feedback):
         # Trim the position in X of the marker
         if feedback.pose.position.x < 0:
             feedback.pose.position.x = 0
         if feedback.pose.position.x > 10:
             feedback.pose.position.x = 10
        # Apply changes to the marker.
         self.server.applyChanges()

Originally posted by Javier V. GÃ³mez with karma: 1305 on 2016-01-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by masihec on 2016-01-18:
Thank you Javier for your answer!
Actually, i tried as you specified but it doesn't work (no changing is done). I didn't find what is wrong exactly, i'm new in ROS so may be i'm making a mistake somewhere!
I will be grateful if you can help me in this.
Here is the code that i'm using right now.
Comment by adamconkey on 2022-06-07:
This won't work because the feedback message you receive is just reporting info about the state of the interactive marker and has no write capabilities on the server. @sai-krishna's answer is correct, where you have to call setPose and applyChanges on the server.


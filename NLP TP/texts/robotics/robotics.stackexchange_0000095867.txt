Q:

How to force set robot arm joint values?

In order to test my motion planning, I wish to test from various starting positions in gazebo.  In order to do that, I need to be able to programmatically set the joint values.  How can this be done?
The closest thing I found is the service /gazebo/set_link_state but that requires manually specifying the transform of each individual link which seems unintuitive.  Is there a better way?

Originally posted by Rufus on ROS Answers with karma: 1083 on 2020-05-15
Post score: 0

Original comments
Comment by gvdhoorn on 2020-05-15:
See whether the approach taken in #q352226 works for you.
This won't work if you really depend on the state of the Gazebo simulation though. Or at least it may not work as well.

A:

For some reason, /gazebo/set_model_configuration (as mentioned in this answer didn't work.)
However, I did discover the that gazebo_ros spawn_model supports specifying initial joint position.  However, it must be done while physics is paused.
Here's the required snippets of the launch file
<include file="$(find gazebo_ros)/launch/empty_world.launch">
    <arg name="world_name" default="worlds/empty.world"/>
    <arg name="paused" value="true"/>
    <arg name="gui" value="$(arg gui)"/>
</include>

<node name="spawn_gazebo_model" pkg="gazebo_ros" type="spawn_model" args="-urdf -unpause -param robot_description -model robot -z 0.0 -J elbow_joint -1.57" respawn="false" output="screen" />

Originally posted by Rufus with karma: 1083 on 2020-09-02
This answer was ACCEPTED on the original site
Post score: 0


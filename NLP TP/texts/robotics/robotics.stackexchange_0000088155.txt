Q:

Help with cob_trajectory_controller

Hello, I am working with cob_trajectory_controller and MoveIt!. Currently I can generate and plan a new trajectory in MoveIt and upon trying to execute the trajectory the cob_controller fails everytime with a out_of_range error.
Here is the error from the cob_trajectory_controller:
core service [/rosout] found
process[arm_controller/joint_trajectory_controller-1]: started with pid [27186]
[ INFO] [1532628301.414878883]: getting JointNames from parameter server: //arm_controller
[ INFO] [1532628301.420821815]: starting controller with DOF: 7 PTPvel: 0.400000 PTPAcc: 0.200000 maxError 0.150000
[ INFO] [1532628301.427403982]: Setting controller frequency to 100.000000 HZ
[ INFO] [1532628416.297625889]: Received new goal trajectory with 20 points
[ INFO] [1532628416.317896242]: Calculated 21 zwischenPunkte
[ INFO] [1532628416.319265583]: Calculated 21 splinepoints
terminate called after throwing an instance of 'std::out_of_range'
  what():  vector::_M_range_check
[arm_controller/joint_trajectory_controller-1] process has died [pid 27186, exit code -6, cmd /home/ralab/Documents/ros/devel/lib/cob_trajectory_controller/cob_trajectory_controller __name:=joint_trajectory_controller __log:=/home/ralab/.ros/log/1f275a8e-90fb-11e8-bbfd-7085c274b189/arm_controller-joint_trajectory_controller-1.log].
log file: /home/ralab/.ros/log/1f275a8e-90fb-11e8-bbfd-7085c274b189/arm_controller-joint_trajectory_controller-1*.log

I am using ROS Indigo (cob_trajectory_controller is from indigo-dev), Ubuntu 14.04 32bit, Schunk PowerCube and modular robotics are from Indigo
Any help would be great! Thank you
Kyle

Originally posted by PatFGarrett on ROS Answers with karma: 31 on 2018-07-26
Post score: 0

A:

SOLVED: The problem was not with the cob trajectory controller but with the /arm_controller/joint_trajectory_controller/follow_joint_trajectory/goal topic that is published by MoveIt!. The planning group I created in the setup assistant did not include all the arms joints and therefore the vector of positions that MoveIt! published was too small causing COB trajectory controller to continuously run out of range.

Originally posted by PatFGarrett with karma: 31 on 2018-08-01
This answer was ACCEPTED on the original site
Post score: 0


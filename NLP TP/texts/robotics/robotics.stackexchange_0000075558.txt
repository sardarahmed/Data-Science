Q:

rtabmap with moving objects

How would rtabmap handle these scenarios?

A room with a door is scanned with a door closed, then with the door open.

An outdoor environment is scanned while people are walking around.

Considering this situations, how does this effect RTABMAP's ability to scan an environment?

Originally posted by jacksonkr_ on ROS Answers with karma: 396 on 2016-07-30
Post score: 0

A:

These are challenging situations as rtabmap don't handle explicitly moving objects. On mapping mode, moving objects are added to map only when the camera is moving.

2D: For /rtabmap/proj_map and /rtabmap/grid_map occupancy grid topics, objects/people will be cleared when we scan again the same area (if now empty).
3D: For /rtabmap/cloud_map, moving objects cannot be cleared. However, /rtabmap/octomap_cloud can clear objects in 3D.

For doors, if we assume that memory management can keep all data in the map online, it will be the latest state (opened or closed) of the door.
Note that it could be possible to filter some dynamic objects in the frames before feeding them to rtabmap. Doing so, we could mask some parts of the depth image to avoid adding these objects in the map.
cheers

Originally posted by matlabbe with karma: 6409 on 2016-08-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by jacksonkr_ on 2016-08-01:
How do you suggest going about filtering dynamic objects in the frames? I'm thinking I can leverage some point cloud detection algos to make a match for people / objects and either exclude or set a "flag" for those items when passed to rtabmap.
Comment by matlabbe on 2016-08-01:
rtabmap uses a depth image as input, not a 3D point cloud. You may have to set pixels to 0 in the depth image to filter these objects. Well, you could also use scan_cloud input topic to pass the point cloud to rtabmap, then the assembled 3D map would be in /rtabmap/scan_map topic.


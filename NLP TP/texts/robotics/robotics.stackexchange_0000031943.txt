Q:

How exactely build walls from gray-scale image?

Hello!
I'm trying already since days to build my own office! But when the walls should be launched, gazebo simply get stucked. No errors, about not finding the map, etc. Just get stucked. And I didnt find anything in this or any forum about this particular problem.
Following things I have done:
I use as template the files how the willow-garage office is made (gazebo_worlds pkg) (wg_world.launch, wg_walls.model etc).
In wg_walls.model I just changed in the image-tag the willowMap.png to the name of my picture. My picture is a png-pic, same size as the willowMap.png, located at gazebo_worlds/Media/materials/textures. I tried to rebuild the pkg, rebuild gazebo, and what ever i thought is some how connected to it (removed all ROS_NOBUILDs). Because what I still wonder is, that my picture does not get exported in the share/Media... folder of gazebo! Than I even copied it there by hand, but I think it is not the problem, cause I dont get an error like "image not found"
I created the picture b/w, converted it to grayscale with:
a) Ubuntu-cmd: convert -type Grayscale input-picture.png output-picture.png
b) Matlab to creat the grayscale picture
So I am quite sure that it is in gray-scale format! (1 layer, 0 - 255)
And i waited some minutes, but the map is just a square for testing, so the triangulation, whatever is done in background, can not take that long!
I have really no idea left, what I do wrong? thanks for your help :)

Originally posted by Kike on ROS Answers with karma: 41 on 2011-05-30
Post score: 2

A:

Try these things:

Make sure the image type is correct:
$ identify <your_image.png>

The output should look like:
willowMap.png PNG 513x513 513x513+0+0 8-bit PseudoClass 256c 3.41KB 0.000u 0:00.000

The location of the willowMap.png that is used by gazebo is:
simulator_gazebo/gazebo/gazebo/share/gazebo/Media/materials/textures

Originally posted by nkoenig with karma: 431 on 2011-06-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Kike on 2011-06-08:
thanks! it's working now! still have no idea why exactely, but managed to create my own package with own maps.


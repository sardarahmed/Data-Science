Q:

trouble subscribing to custom messages

First ROS script, jumping into the deep end. I have an Arduino publishing data (it's working fine) to a topic called Adc. I'm trying to write a Subscriber to read that data and eventually write it to a CSV file.
It compiles ok with no errors but shows nothing. The data types that are published are 5 different uint16s but when I tried "from std_msgs.msg import uint16) and then use uint16 below I get an error so I went back to String in the sample code.
Am I on the right track here?
#!/usr/bin/env python
import roslib; roslib.load_manifest('sensorcsv')
import rospy
from std_msgs.msg import String
def callback(data):
    rospy.loginfo(rospy.get_name()+"I heard %s",data.data)
    print rospy.get_name()+"I heard %s",data.data
 
def listener():
    rospy.init_node('listener', anonymous=True)
    rospy.Subscriber("Adc", String, callback)
    rospy.spin()

if __name__ == '__main__':<br>
    listener()

Originally posted by punching on ROS Answers with karma: 78 on 2012-06-12
Post score: 0

A:

Figured it out. For those that might run into this to.
This video helped explain it to me. http://vimeo.com/24616666
import roslib; roslib.load_manifest('sensorcsv')
import rospy
 # from rosserial_arduino import adc
from std_msgs.msg import UInt16
from rosserial_arduino.msg import Adc

def callback(data):
    print "Callback"
    print data.adc0, data.adc1, data.adc2, data.adc3, data.adc4, data.adc5
#    print rospy.get_name()+': ' + str(data.data)
     
def listener():
    print "listener"
    rospy.init_node('listener')
    rospy.Subscriber("adc", Adc, callback)
    print "rospy.subscriber"
    rospy.spin()
    print "rospy.spin()"
 
if __name__ == '__main__':
    print "Main"
    listener()

Originally posted by punching with karma: 78 on 2012-06-14
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dornhege on 2012-06-15:
Can you please update your original post instead of those four different answers. It helps people understand what is going on.


Q:

catkin_make: cmake failure for certain directory names

Hellos
I am running ROS Indigo on Ubuntu 14.04.
I am getting cmake errors  by catkin_make for freshly created workspaces.
Catkin_init_workspace, catkin_make works well for any directory directly inside home director i.e. ~/catkin_ws etc.
I have catkin error for directory ~/work/catkin_pkgs/any_directory_name. Any workspace creation inside ~/work/catkin_pkgs/ or ~/work directories results in the following errors (a part is shown):
-- Using CATKIN_TEST_RESULTS_DIR: /home/nitin/work/catkin_pkgs/catkin_mrs/build/test_results
-- Looking for include file pthread.h
-- Looking for include file pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.6.9
Traceback (most recent call last):
  File "/home/nitin/work/catkin_pkgs/catkin_mrs/build/catkin_generated/generate_cached_setup.py", line 21, in <module>
    code = generate_environment_script('/home/nitin/work/catkin_pkgs/catkin_mrs/devel/env.sh')
  File "/opt/ros/indigo/lib/python2.7/dist-packages/catkin/environment_cache.py", line 61, in generate_environment_script
    output = subprocess.check_output([env_script, sys.executable, '-c', python_code])
  File "/usr/lib/python2.7/subprocess.py", line 566, in check_output
    process = Popen(stdout=PIPE, *popenargs, **kwargs)
  File "/usr/lib/python2.7/subprocess.py", line 710, in __init__
    errread, errwrite)
  File "/usr/lib/python2.7/subprocess.py", line 1327, in _execute_child
    raise child_exception
OSError: [Errno 13] Permission denied
CMake Error at /opt/ros/indigo/share/catkin/cmake/safe_execute_process.cmake:11 (message):
  execute_process(/usr/bin/python
  "/home/nitin/work/catkin_pkgs/catkin_mrs/build/catkin_generated/generate_cached_setup.py")
  returned error code 1
Call Stack (most recent call first):
  /opt/ros/indigo/share/catkin/cmake/all.cmake:185 (safe_execute_process)
  /opt/ros/indigo/share/catkin/cmake/catkinConfig.cmake:20 (include)
  CMakeLists.txt:52 (find_package)

-- Configuring incomplete, errors occurred!
See also "/home/nitin/work/catkin_pkgs/catkin_mrs/build/CMakeFiles/CMakeOutput.log".
See also "/home/nitin/work/catkin_pkgs/catkin_mrs/build/CMakeFiles/CMakeError.log".
Invoking "cmake" failed

Somehow it is not able to find pthreads. This is also reported in CMakeErrors.log.  But pthreads is obviously present in the system.
I am not aware what is cause of this.
Rgds
Nitin

Originally posted by prince on ROS Answers with karma: 660 on 2014-11-02
Post score: 0

Original comments
Comment by al-dev on 2014-11-03:
Hi, did you have a look at the wiki for chaining multiple catkin workspaces? http://wiki.ros.org/catkin/Tutorials/workspace_overlaying#Chaining_catkin_workspaces
In particular, you might want to check that you have sourced the appropriate setup.bash file.
Comment by prince on 2014-11-03:
I have checked these. No improvement. I am looking at having multiple independent workspaces.

A:

The error message says nothing about pthread but:
OSError: [Errno 13] Permission denied

That indicates that you have permission problems when the script is trying to write files to the build folder. You might want to wipe the build and devel folders, make sure that the permissions of the workspace root folder are "good" and try to rebuild the workspace.

Originally posted by Dirk Thomas with karma: 16276 on 2014-11-04
This answer was ACCEPTED on the original site
Post score: 1


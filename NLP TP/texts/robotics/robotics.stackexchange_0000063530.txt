Q:

MoveIt Collision Avoidance With Point Cloud 2

Hi, I am attempting to set up a UR5 with MoveIt and an asus xtion for collision avoidance based on the sensor data in a Point Cloud 2 stream. I am stuck on how to publish the data from the point cloud 2 topic to moveit's planning scene so it can be used for collision checking. I currently have octomap installed and running and can generate an occupancy grid from the point cloud 2 stream, however octomap_server does not appear to be publishing any data to a topic moveit can use. Is there a way to publish the data either from the point cloud 2 or occupancy grid topics to moveit for collision avoidance? If so, where should I look?

Originally posted by airplanesrule on ROS Answers with karma: 110 on 2014-10-23
Post score: 3

A:

You should not need to do anything with occupancy grids or point clouds yourself. Getting MoveIt to use the output of a RGBD sensor to construct Octomaps, add those to the planning scene and plan around them only takes a few lines of configuration.
See the 3D Perception/Configuration page and / or moveit/wiki/3D Sensors for information.

Originally posted by gvdhoorn with karma: 86574 on 2014-10-27
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Thadeu Brito on 2017-07-07:
I'm having the same problem, so it did not work. I followed the steps of the link. Would you help me?
Comment by 130s on 2017-10-18:
@Thadeu Brito please open a new question, instead of asking one on comment section that is not meant for new questions and that doesn't get as much attention as new questions.
Comment by angcorcue2 on 2023-05-17:
I managed, using the perception pipeline, to have an octomap next to moveit and have it avoid static obstacles. The problem is that the octomap is only updated when the robot is not moving and cannot avoid new dynamic obstacles that get in the way during the execution of the move. I'm stuck here. I think it might be a solution to add collision objects to the planning scene from my pointcloud.


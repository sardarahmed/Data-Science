Q:

Why can't I call cmake install like in the docs?

I'm trying to port a package to ROS2 using ament cmake hooks based on https://index.ros.org//doc/ros2/Tutorials/Ament-CMake-Documentation/#building-a-library
When I do something like the recommendation for target-based installs, I get an error about an unknown mode.
So is there a typo in that documentation?
Also, when would I want a target-based install and when would I want a non-target-based install?
Cmake Fragment:
install(
  sba
  TARGETS sba
  EXPORT export_sba
  LIBRARY DESTINATION lib
  INCLUDES DESTINATION include
)

Error message
--- stderr: sparse_bundle_adjustment
CMake Error at /opt/ros/dashing/share/ament_cmake_core/cmake/symlink_install/install.cmake:43 (_install):
  _install called with unknown mode SBA
Call Stack (most recent call first):
  CMakeLists.txt:35 (install)

Originally posted by DanRose on ROS Answers with karma: 274 on 2019-08-16
Post score: 0

A:

The CMake function install() doesn't have a signature where the first argument is sba. The documentation enumerates a set of signatures - for each the first argument is a known keyword like TARGETS, DIRECTORY, etc. See https://cmake.org/cmake/help/latest/command/install.html
The specific example in the documentation is certainly wrong. I would guess the first argument just needs to be removed.

Originally posted by Dirk Thomas with karma: 16276 on 2019-08-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Dirk Thomas on 2019-08-16:
The docs should be fixed by https://github.com/ros2/ros2_documentation/pull/318


Q:

Rviz/rviz_qt ogre DYNLIB_LOAD (mac lion)

Hi,
I can get rviz and rviz_qt to compile on OS X. However when I try to use the plugin it fails in the ogre DYLIB_LOAD call. I have tracked it down to one typo in plugin.cfg where a slash is missing at the end of the path. Now I have the right path for the library. However it still fails to load the
visualization_common/ogre/ogre/lib/RenderSystem_GL.dylib

plugin. Has anybody experienced this problem before on Max OS x lion?
Here is a backtrace to the location where it fails:
#0  Ogre::DynLib::load (this=0x10a738688) at /Users/basti/ros/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreDynLib.cpp:84
#1  0x000000010007fc34 in Ogre::DynLibManager::load (this=<value temporarily unavailable, due to optimizations>, filename=@0x7fff5fbfd268) at /Users/basti/ros/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreDynLibManager.cpp:62
#2  0x00000001001ffa63 in Ogre::Root::loadPlugin (this=0x108d8add8, pluginName=@0x7fff5fbfd268) at /Users/basti/ros/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreRoot.cpp:1317
#3  0x00000001001fc478 in Ogre::Root::loadPlugins (this=0x108d8add8, pluginsfile=<value temporarily unavailable, due to optimizations>) at /Users/basti/ros/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreRoot.cpp:1052
#4  0x00000001001fb47c in Ogre::Root::Root (this=0x108d8add8, pluginFileName=@0x7fff5fbfd6a0, configFileName=@0x7fff5fbfd6b0, logFileName=@0x7fff5fbfd6c0) at /Users/basti/ros/visualization_common/ogre/build/ogre_src_v1-7-3/OgreMain/src/OgreRoot.cpp:272
#5  0x0000000100d84201 in ogre_tools::RenderSystem::RenderSystem (this=0x105144ac0) at render_system.cpp:62
#6  0x0000000100d84394 in ogre_tools::RenderSystem::get () at render_system.cpp:54
#7  0x0000000101cc230a in rviz::VisualizationFrame::initialize (this=0x10562a7d0, display_config_file=@0x7fff5fbfe740, fixed_frame=@0x7fff5fbfe730, target_frame=@0x7fff5fbfe738, splash_path=@0x7fff5fbfe728, verbose=false) at visualization_frame.cpp:188
#8  0x0000000101cdfe2c in rviz::VisualizerApp::init (this=0x7fff5fbfef90, argc=1, argv=0x7fff5fbff058) at visualizer_app.cpp:194
#9  0x000000010000d6db in main (argc=1, argv=0x7fff5fbff058) at main.cpp:39

Here is the plugin.cfg:
# Defines plugins to load                                                                                                                 

# Define plugin folder                                                                                                                    
PluginFolder=~/ros/visualization_common/ogre/ogre/lib/ (<-- missing slash was here)
#PluginFolder=                                                                                                                            
# Define plugins                                                                                                                          
# Plugin=RenderSystem_Direct3D9                                                                                                           
# Plugin=RenderSystem_Direct3D10                                                                                                          
# Plugin=RenderSystem_Direct3D11                                                                                                          
 Plugin=RenderSystem_GL (<-- this plugin fails)
# Plugin=RenderSystem_GLES                                                                                                                
 Plugin=Plugin_ParticleFX
 Plugin=Plugin_BSPSceneManager
 Plugin=Plugin_CgProgramManager
 Plugin=Plugin_PCZSceneManager
 Plugin=Plugin_OctreeZone
 Plugin=Plugin_OctreeSceneManager

Originally posted by smash0190 on ROS Answers with karma: 96 on 2012-01-05
Post score: 0

A:

Answering my own question:
Relative paths are not allowed. PluginFolder needs to be a global path.

Originally posted by smash0190 with karma: 96 on 2012-01-05
This answer was ACCEPTED on the original site
Post score: 1


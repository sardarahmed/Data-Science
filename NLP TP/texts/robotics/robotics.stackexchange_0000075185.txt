Q:

ROS_INFO error in the subscriber package

Hello,
I am trying to build a subscriber package to listen to tf_static. Here is the subscriber code:
//#include <iostream>
#include "ros/ros.h"
//#include "std_msgs/String.h"
#include "tf2_msgs/TFMessage.h"
#include "geometry_msgs/TransformStamped.h"
#include "geometry_msgs/Transform.h"
#include "geometry_msgs/Vector3.h"

//using namespace std;

    void tfCallback(const tf2_msgs::TFMessage::ConstPtr& msg)
    {
        ROS_INFO("I heard: [%f]", msg->transforms.transform.translation.x);
}
int main(int argc, char **argv)
{
    //cout << "Hello world!" << endl;
    ros::init(argc, argv, "tf_subscriber_node");
    ros::NodeHandle ntf;
    ros::Subscriber sub = ntf.subscribe("/tf_static",1000, tfCallback);
    ros::spin ();
    return 0;
}

I am receiving the following error:

src/tf_subscriber_node.cpp:13:47:
error: 'const _transforms_type' has no
member named 'transform'
ROS_INFO("I heard: [%f]", msg->transforms.transform.translation.x);

I believe the error could be due to the const keyword. Or am I doing anything wrong in the part:
msg->transforms.transform.translation.x

Can anyone kindly guide on how to fix this?

Originally posted by skr_robo on ROS Answers with karma: 178 on 2016-07-13
Post score: 0

A:

You have an array of transforms in that message. So you could do something like msg->transforms[0].transform.translation.x. Or you could put that in a for loop and print out each transform in the array of transforms. Since they are doubles (not float) you also probably want to change %f to %lf.

Originally posted by Thomas D with karma: 4347 on 2016-07-13
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by skr_robo on 2016-07-13:
How did you figure out that it is an array; does the [] after geometry_msgs/TransformStamped in the page indicate that?
Comment by Thomas D on 2016-07-13:
Yes, the [] indicates an array.
Comment by skr_robo on 2016-07-13:
Also, does float64 indicate double?
Comment by skr_robo on 2016-07-13:
I haven't yet tried your solution. I shall let you know, once I do it.
Comment by Thomas D on 2016-07-13:
Yes, float64 indicates double. A float would be float32.
Comment by skr_robo on 2016-07-14:
Thank You.


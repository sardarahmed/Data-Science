Q:

Body angle of a centre-articulated robot

Wondering if anyone can help me out with this one, or point me in the right direction. I am working on a centre-articulated robot, which is steered via a push-pull chain drive. The chain drive is driven via a servo motor (which is run through a high reduction gearbox to provide the required torque). I currently have an absolute encoder on the output stage of the gearbox so we know the current angle of the sprocket driving the chain. What I am trying to calculate is the resulting body angle given the current sprocket angle, see below a layout of this and the current known variables.

As in the image above, the required variable is the body angle, the known variables are the link length (from the centre articulation point to the chain attachment point), the chain length, sprocket size, and sprocket angle. Note that the sprocket will not rotate more than 45 degrees in either direction before the two bodies are at their steering limits.
In conclusion, I am chasing some general formula which relates the current sprocket angle to the current body angle given these known variables. Any help is appreciated!

A:

Let $P$ be the location of the body hinge (where the body angle $\gamma$ is measured)
Let $S$ be the center of the sprocket.
Let $L$ be the distance between $P$ and $S$.
Let $R_s$ be the sprocket radius. As the sprocket rotates through an angle $\theta$ radians, it moves a length of chain $R_s \theta$ from one of $c_1$ or $c_2$ to the other. The two segments $c_1$ and $c_2$ always sum to $c$, the length of the chain.
Let us assume that $R_s \ll L$. This simplification lets us model the chain segments as triangle sides meeting at point $S$. Without the simplification, the geometry is rather more complicated.
Now you have two triangles with sides $c_1$, $L$, $b$ and $c_2$, $L$, $b$. From the Law of cosines you can determine the triangles' internal angles at $P$. From those you can determine $\gamma$.
Combining all the parts, you have your formula for how $\gamma$ changes with $\theta$.


Q:

How to navigate to unknown space in costmap?

Hello all,
I've followed the tutorial here http://www.ros.org/wiki/navigation/Tutorials/RobotSetup and also checked the website for similar questions but I am still quite confused and unable to produce the result I need.
I'm hooking up GMapping to the Costmap by setting static_map: true for global_costmap_params.yaml and static_map: falase for local_cost_map_params. However I wish to allow the robot, Pionneer3-AT to auto navigate itself in that environment. I thought of pointing the 2D Nav Goal to the unknown space from local_costmap but I've received errors and there's no reaction from the robot whatsoever.
Error from Costmap launch

[ERROR] [1371710574.377069274]: Client
[/rostopic_25335_1371710566077] wants
topic
/move_base/local_costmap/unknown_space
to have datatype/md5sum
[geometry_msgs/PoseStamped/d3812c3cbc69362b77dc0b19b345f8f5],
but our version has
[nav_msgs/GridCells/b9e4f5df6d28e272ebde00a3994830f5].
Dropping connection.

Error from RVIZ

[ERROR] [1371710524.998325539]: md5sum
mismatch making local subscription to
topic
/move_base/local_costmap/unknown_space.
[ERROR] [1371710524.998429812]:
Subscriber expects type
nav_msgs/GridCells, md5sum
b9e4f5df6d28e272ebde00a3994830f5
[ERROR] [1371710524.998484870]:
Publisher provides type
geometry_msgs/PoseStamped, md5sum
d3812c3cbc69362b77dc0b19b345f8f5

rostopic echo /move_base/local_costmap/unknown_space would also most of the time not return anything.
I also applied unknown_cost_value: 255 and track_unknown_space: true to the costmap_common_params
It'll be great to get some help to achieve autonavigation in an unknown environment.
** EDIT 1
The errors were eliminated by setting static_map: false for global_costmap. However, there doesn't seem to be any path planning occuring. No errors were found in rxgraph and roswtf too.
** EDIT 2
The global_costmap_params.yaml has settings of static_map: false and rolling_window:true.
I've created a simple publisher and subscriber to subscribe to nav_msgs/GridCells on topic move_base/local_costmap/unknown_space and publish geometry_msgs/PoseStamped on topic /move_base_simple/goal. Since there are a bunch of coordinates of unknown space, a random coordinate is chosen.
The basic ROS tutorial for writing a subscriber/publisher should be referred to as an example.

Originally posted by barrybear on ROS Answers with karma: 57 on 2013-06-19
Post score: 1

A:

To say what Felix said a slightly different way...
As input, move_base takes a PoseStamped, which specifies a particular pose (location and orientation)
The published topic unknown_space is of type GridCells. This is a visualization message that specifies an area of the map.
To get the behavior you want, you'll have to write a node that takes in the GridCells message and pick a (random?) point and send that as a PoseStamped to move_base.

Originally posted by David Lu with karma: 10932 on 2013-06-26
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by barrybear on 2013-06-26:
Ohhhhh! That makes sense! So, the random point, should I make any changes to it? Or just simply sending it to the move_base?
Comment by David Lu on 2013-06-26:
What do you mean, any changes?
Comment by barrybear on 2013-06-26:
If there's any necessary to add/subtract the values depending/relative to the map
Comment by David Lu on 2013-06-26:
That's what the Stamped portion refers to. If there's a header stamp on the Pose which specifies the correct reference frame, then move_base will translate it accordingly.
Comment by barrybear on 2013-06-26:
Hey guess what David! It works! Thanks for clarifying on the problem! :D Now to work on sending a goal only if the previous goal has succeeded. Thanks for your time man!
Comment by David Lu on 2013-06-27:
This should help: http://www.ros.org/wiki/navigation/Tutorials/SendingSimpleGoals
Comment by Gazer on 2013-06-27:
sorry.... I don't get it....... @barrybear, how did you solve your problem?  do you mind re-edit your question to include your current setting?????
Comment by barrybear on 2013-06-28:
@Gazer editted :) hopefully the explanation's clear enough. sorry I can't post the codes here..still a work in progress!
Comment by Gazer on 2013-06-28:
ok. I see. thank you for this reply


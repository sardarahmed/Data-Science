Q:

pcl package missing in Hydro

Hi,
I am using Ros-Hydro in Ubuntu.
While I tried to 'rosmake robotino_node', I got the following dependency error:
...
Failed to invoke /opt/ros/hydro/bin/rospack deps-manifests robotino_node
[rospack] Error: package/stack 'robotino_node' depends on non-existent package 'pcl' and rosdep claims that it is not a system dependency. Check the ROS_PACKAGE_PATH or try calling 'rosdep update'
CMake Error at /opt/ros/hydro/share/ros/core/rosbuild/public.cmake:129 (message):
Failed to invoke rospack to get compile flags for package 'robotino_node'.
Look above for errors from rospack itself.  Aborting.  Please fix the
broken dependency!

...
When I checked the installed packages from 'rospack list', there were three packages related to pcl:
pcl_conversions, pcl_msgs, pcl_ros
but no 'pcl' package.
How do I install the package to resolve this problem.
Thanks in advance.

Originally posted by kenomuseki on ROS Answers with karma: 1 on 2014-07-07
Post score: 0

A:

With catkin (groovy/hydro) there are no separate packages for OpenCV and PCL anymore. However, apparently the package you mentioned still uses rosmake, which historically requires these packages, if applied.... I am not really sure what is the best way in this case, but I'd try to remove pcl and opencv2 from the dependencies in manifest.xml and add to CMakeLists.txt something like
find_package( PCL 1.2 REQUIRED segmentation filters visualization )

You might need to add further:
include_directories(  ${PCL_INCLUDE_DIRS} )

link_directories(${PCL_LIBRARY_DIRS})
add_definitions(${PCL_DEFINITIONS})

and link your targets accordingly:
target_link_libraries ( your_exec ${PCL_LIBRARIES}  )

Originally posted by Wolf with karma: 7555 on 2014-07-07
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by kenomuseki on 2014-07-07:
I followed your instruction to get new error message as follows:
...
{-------------------------------------------------------------------------------
make[3]: Entering directory `/home/jiwung/catkin_ws/src/robotino-ros-pkg/robotino/robotino_node/build'
[ 50%] Building CXX object CMakeFiles/robotino_node.dir/src/KinectROS.cpp.o
/home/jiwung/catkin_ws/src/robotino-ros-pkg/robotino/robotino_node/src/KinectROS.cpp: In member function ‘void KinectROS::depthEvent(const short unsigned int*, unsigned int, unsigned int, unsigned int, unsigned int, unsigned int)’:
/home/jiwung/catkin_ws/src/robotino-ros-pkg/robotino/robotino_node/src/KinectROS.cpp:89:22: error: cannot convert ‘ros::Time’ to ‘uint64_t {aka long unsigned int}’ in assignment
In file included from /usr/include/pcl-1.7/pcl/point_cloud.h:50:0,
from /opt/ros/hydro/include/pcl_ros/point_cloud.h:5,
from /home/jiwung/catkin_ws/src/robotino-ros-pkg/robotino/robotino_node/include/
...
Comment by DevonW on 2014-07-14:
Hi kenomuseki,
this is a conversion error. Please see http://wiki.ros.org/hydro/Migration#PCL :)


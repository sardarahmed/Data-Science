Q:

error compiling usb_cam on a mac?

After applying the patch to deal with boost on the mac got be past the pluginlib portion of the usb_cam compile. However now I'm getting these following errors when making usb_cam on a mac.  Any advice?
[ rosmake ] Last 40 linesb_cam: 4.4 sec ] [ 1 Active 33/34 Complete ] {------------------------------------------------------------------------------- /Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:603: error: aggregate 'v4l2_buffer buf' has incomplete type and cannot be defined /Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:611: error: 'VIDIOC_QUERYBUF' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp: In function 'void init_userp(unsigned int)': 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:624: error: aggregate 'v4l2_requestbuffers req' has incomplete type and cannot be defined 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:633: error: 'V4L2_BUF_TYPE_VIDEO_CAPTURE' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:634: error: 'V4L2_MEMORY_USERPTR' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:636: error: 'VIDIOC_REQBUFS' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:655: error: 'memalign' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp: In function 'void init_device(int, int)': 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:666: error: aggregate 'v4l2_capability cap' has incomplete type and cannot be defined 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:667: error: aggregate 'v4l2_cropcap cropcap' has incomplete type and cannot be defined 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:668: error: aggregate 'v4l2_crop crop' has incomplete type and cannot be defined /Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:669: error: aggregate 'v4l2_format fmt' has incomplete type and cannot be defined /Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:672: error: 'VIDIOC_QUERYCAP' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:681: error: 'V4L2_CAP_VIDEO_CAPTURE' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:688: error: 'V4L2_CAP_READWRITE' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:697: error: 'V4L2_CAP_STREAMING' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:709: error: 'V4L2_BUF_TYPE_VIDEO_CAPTURE' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:711: error: 'VIDIOC_CROPCAP' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:715: error: 'VIDIOC_S_CROP' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:741: error: 'V4L2_FIELD_INTERLACED' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:744: error: 'VIDIOC_S_FMT' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp: In function 'usb_cam_camera_image_t* usb_cam_camera_start(const char, usb_cam_io_method, usb_cam_pixel_format, int, int)': 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:814: error: 'V4L2_PIX_FMT_YUYV' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:816: error: 'V4L2_PIX_FMT_UYVY' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:818: error: 'V4L2_PIX_FMT_MJPEG' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp: In function 'void usb_cam_camera_shutdown()': 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:850: error: 'avcodec_context' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:851: error: 'avcodec_close' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:852: error: 'av_free' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:855: error: 'avframe_camera' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:856: error: 'av_free' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:857: error: 'avframe_camera' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:858: error: 'avframe_rgb' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:859: error: 'av_free' was not declared in this scope 
/Users/rieffelj/ros/usb_cam/src/libusb_cam/usb_cam.cpp:860: error: 'avframe_rgb' was not declared in this scope make[3]: [src/libusb_cam/CMakeFiles/usb_cam.dir/usb_cam.o] Error 1 make[2]: [src/libusb_cam/CMakeFiles/usb_cam.dir/all] Error 2 make[1]: ** [all] Error 2 -------------------------------------------------------------------------------}

Originally posted by jrieffel on ROS Answers with karma: 39 on 2011-05-03
Post score: 0

A:

This Just Won't Work. Note that V4L2 lines? That's "video for linux", and doesn't exist on the Mac, not even a little bit.
One could imagine tying into QuickTime and all of Apple's stuff (some of which is pretty nice), but that's not going to happen in usb_cam.

Originally posted by Mac with karma: 4119 on 2011-06-17
This answer was ACCEPTED on the original site
Post score: 2


Q:

How do I access files in same directory as executable? (Python Catkin)

I have a python catkin package in which I am trying to run some shell files kept in the same src folder as my main executable python file start.py.
However, unless I do rosrun from the src folder, the python code is unable to find the shell files for execution. I keep getting a File Not Found error on my script.
I tried adding these to the include folder and updated my CMakeLists.txt but that didn't work. How do I access these shell files?

Originally posted by Nightstalker on ROS Answers with karma: 35 on 2016-06-05
Post score: 0

A:

I agree with @gvdhoorn about avoiding relative path names. The trick is to use rospkg to construct a path relative to your package directory, something like this (untested):
import os, rospkg
rp = rospkg.RosPack()
script_path = os.path.join(rp.get_path("your_package"), "src", "script_name") 

Originally posted by joq with karma: 25443 on 2016-06-06
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Nightstalker on 2016-06-06:
This works! Thanks a lot, didn't know this trick till now.
Comment by gvdhoorn on 2016-06-07:
Note that this will only work in the source and devel spaces: packages typically don't install(..) the contents of the pkg/src directory, resulting in a non-existent path whenever the snippet @joq posted is run in a node started from an install space.
Comment by joq on 2016-06-07:
A good point. It would be better to put them in a scripts/ folder and install that.
Comment by Nightstalker on 2016-06-11:
Took your advice, installed my API scripts in scripts folder and kept the shell files in a data folder. Added both to my CMakeLists.txt.


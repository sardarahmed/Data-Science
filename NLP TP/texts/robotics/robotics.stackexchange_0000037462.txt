Q:

Dynamic reconfigure default values not working

Hi. I hope I'm not missing some silly thing but the default values in my dynamic reconfigure configuration are not working in my python node. Anybody else is using this and can tell me if this should work?
This is my cfg file:
#!/usr/bin/env python
PACKAGE = "image_adaptor"
import roslib;roslib.load_manifest(PACKAGE)

from dynamic_reconfigure.parameter_generator import *

gen = ParameterGenerator()

##  gen.add("name", type_t, level, "Description", DefaultValue, MinValue, MaxValue)
gen.add("prop_rgb_resolution", int_t, 0, "Specific resolution for RGB camera", 2, 1, 4)
gen.add("prop_rgb_frequency", int_t, 0, "Specific frequency for RGB camera", 30, 15, 60)
gen.add("prop_rgb_image_mode", int_t, 0, "Specific image mode for RGB camera", 2, 1, 9)

exit(gen.generate(PACKAGE, "image_adaptor", "Properties"))

The code is simplified and was done according to the tutorial (http://ros.org/wiki/dynamic_reconfigure/Tutorials/HowToWriteYourFirstCfgFile) but when I read the setted values they are always the maximum values instead of my defaults.
It looks like the usual silly mistake but this time I really can't find it.
This may be a clue or maybe it is a different problem but with a string vble the default value is the one in the first execution until I restart ros even if I recompile the cfg file and execute everything again:
gen.add("rect_rgb_image", str_t, 0, "Rgb rectified image", "Default Value")

Thanks in advance!

Originally posted by Michi05 on ROS Answers with karma: 36 on 2012-01-31
Post score: 1

A:

In case somebody else is in the same situation:
The exact problem was that I accidentally used the same names for other related variables so my launchfile was colliding with my configuration. For example I had put:
<param name="cur_tilt_angle" value="/cur_tilt_angle,std_msgs/Float64,publishedTopic" />

and in the configuration:
gen.add("cur_tilt_angle", double_t, 2, "Current real tilt of the camera", 0.0, -65.0, 65.0)

The problem was as silly as expected; I just forgot that both sets of variables go to the same
parameter server so I didn't even check the names until now.
Thank you for your answers!!

Originally posted by Michi05 with karma: 36 on 2012-02-01
This answer was ACCEPTED on the original site
Post score: 1


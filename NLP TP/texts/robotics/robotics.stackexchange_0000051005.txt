Q:

How to save the state of hector_mapping in case it fails?

In certain situations, my LiDAR's platform is subject to sharp motions which hector_mapping cannot handle. In this question, I asked Stefan Kohlbrecher, (one of) the author(s) of the hector_mapping package, what causes this.
Following his comments, I would like to know how to save the full internal state of hector_mapping to restart it with a valid state in case it fails.
Thank you very much,
Ernest

Originally posted by Ernest on ROS Answers with karma: 341 on 2013-05-08
Post score: 0

A:

Sorry for the delay, ROScon and DRC qualification took their toll ;)
So the internal state basically boils down to the state estimate of the robot and that of the map. The former ist just a 2D/3DOF pose and the map is represented by multiple grid map layers.
If you look at HectorSlamProcessor.h (note we recently moved to github, too) it boils down to keeping a copy of the MapRepresentationInterface and the last scanmatch pose somewhere. If something goes wrong, this data could be retrieved and thus be used to revert the broken map. It likely isn't too hard to do, but still requires changing some of the internals. Also, reliably detecting things going wrong might or might not be easy.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2013-05-15
This answer was ACCEPTED on the original site
Post score: 0


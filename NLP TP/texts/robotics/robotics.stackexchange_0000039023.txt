Q:

TF handling frame uncertainty?

TF currently do not handles uncertainty. It would be interesting to have a TF-like system with uncertainty handling capacities. Sensors imprecision and moving coordinate frames can end up in an incoherent TF-Tree. This can be problematic specially when the coordinate errors frames are chained. It is planned to develop a future system like this?
A TF system with uncertainty handling capacities would be much more powerful system an even would allow a transformation graph instead of a transformation tree. Bayesian fusion methods would make possible to get the most probable frame given several estimations.
From this discussion (http://answers.ros.org/question/27743/transform-posewithcovariance) I see that some tools like the MRPT (Mobile Robot Development Toolkit) provide interesting functionality to propagate uncertainty in a chain of coordinate frames. Look at this http://ros.org/wiki/pose_cov_ops
Merging multiple estimation of the state of a frame, the time and some dynamical information of moving frame looks promising.

Originally posted by Pablo Iñigo Blasco on ROS Answers with karma: 2982 on 2012-03-26
Post score: 6

A:

You can find my first prototype for a tf extension allowing to define uncertainty in tf frames can be found at http://www.ros.org/wiki/uncertain_tf. So far it supports sampling through the tf chain where each frame might or might not have a covariance attached. Additionally one can sample over time (such as when the precise time at which sensor data was captured is not known and one wants to know how this might affect the data).
One can also calculate a covariance for a set of transforms, either to get a different look at generated sample sets, or simply to know what to best put into the covariance matrices to represent the uncertainty experienced from empiric data.
I plan to add using the possibility to use sample set to start from (such as when you have data and want to transform it to another frame, including uncertainty on the chain) and also to add another set of interfaces that would use the unscented transformation instead of sampling (might be less accurate but faster).
I stepped away from the idea to directly use child frames as sigma points as covariances should be fine to define the uncertainty locally in a frame. The usage of euler angles might have some mathematical downsides but it seems to be widely used in practice, such as in tolerance calculations in mechanical engineering etc. I am currently looking into some alternatives but most people tell me it's fine like it is for practical purposes.
Would be great to get some feedback, both on the usability of the package and the documentation.
Regarding fusion of data, i guess i will not get to that too soon, so if somebody has something to bring in and share, i would love to help with the integration. As a first step, we might want to address filtering over time.

Originally posted by TomTUM with karma: 481 on 2012-04-23
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Pablo Iñigo Blasco on 2012-06-26:
Nice. A particle-based representation is a good approach, specially for complex pose distribution when the error in covariances is high. In any case I think it would be nice to have a "more efficient" uncertainty pose representation (using the sigma points or a cov matrix).


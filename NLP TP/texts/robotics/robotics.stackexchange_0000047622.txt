Q:

Clean-up of rosparam after ending launch scripts

Hi,
I've a launch file that launches some PR2 controllers.
I've another script that has to know which launch file has been launched.
I tried creating a rosparam in my first launch file with the name of the controller.
In my second script, I check the existence of the rosparam and whether the value corresponds with my desired file.
But it seems that these rosparam's are not deleted when the first launch file is terminated, also when this rosparam is set in a node.
My question is how to solve my problem, by either:

Deleting the rosparam when my script is terminating
Finding another way to check which launch file is executed
A total other solution I didn't think of

Thanks in advance!
Nick

Originally posted by NickVT on ROS Answers with karma: 51 on 2013-01-25
Post score: 2

A:

Deleting the rosparam when you are finished might work. roslaunch will not delete any set params. You should note that rosparams are set before the launch starts.
There is no proper way for this.
A different solution should be preferable. If you need help you'll need to state what you want to achieve.

roslaunch intentionally does not provide any dependencies between nodes and launches. If you need a node to be running before you do something else, you'd probably need to do something custom or solve the problem differently. The reason for this is that there is just no definition of what it means that a node is running.

Originally posted by dornhege with karma: 31395 on 2013-01-25
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by NickVT on 2013-01-25:\

=> but I can't do this from within the same launch file? or is there a 'when killed, do' option: a bit like spawn/respawn of the pr2_controller_manager

Comment by dornhege on 2013-01-25:
Not automatically. If you would include a rosparam delete command it will be executed immediately as it is "launched" as any other node. There might be a hack possible: Write a simple node that catches SIGINT and delete the param upon that. When you Ctrl-C the launch it should execute.


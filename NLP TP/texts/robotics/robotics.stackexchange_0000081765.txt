Q:

Schunk_lwa4p initialization error with ros_canopen

Hello,
I am trying to run the schunk lwa4p arm with ros_canopen package but was not able to initialize the robot. The nodes are running and the can is set up but the rosservice call /arm/driver/init was not able to initialize the robot. I am attaching the candump output of the service along with other outputs.
I am using the shunck_lwa4p package from schunk_robots.
Please find the link to the gist with respective files https://gist.github.com/rishabhagarwal880/9bb9aa3b25dadad3d81a66ce97c59ca6

Originally posted by Rishabh on ROS Answers with karma: 3 on 2017-07-13
Post score: 0

Original comments
Comment by Mathias Lüdtke on 2017-07-13:
Which firmware version do you use?
Comment by Rishabh on 2017-07-14:
I am using ubuntu 14.04 as a docker on fedora 25 with ros indigo.
Comment by Mathias Lüdtke on 2017-07-14:
I really meant the Schunk firmware version, the config in schunk_robots works for v0.63 only.
(With some modification it might work with v0.65, we don't use it)
Comment by Rishabh on 2017-07-14:
The canalyzer shows the manufacturer software version as 65 Build:7589. I am not sure if that is the correct version for the configuration file we have.

A:

For v0.65 please try to set an initial operation mode, this worked for me in a beta version:
Add ParameterValue=1 to the DCF.
As an alternative you can add "6060": "1" to  dcf_overlay.

Originally posted by Mathias Lüdtke with karma: 1596 on 2017-07-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Rishabh on 2017-07-14:
The robot was initialized after I made the suggested changes. Thank you for the help.
Comment by Rishabh on 2017-07-14:
Although the robot initializes successfully, I am still not able to control the robot using the position controllers. I am spawning the controllers using the ros_control package and they are spawing successfully.
Comment by Mathias Lüdtke on 2017-07-14:
Check the diagnostics for hints,.
Comment by Rishabh on 2017-07-14:
The drives are in the Profile position mode but I think to control the robot with the position controller I need to bring them in interpolated position mode. I will take a more detailed look at the diagnostics too.
Comment by k5519995 on 2019-04-27:
What to do for v0.67 ?
Comment by Mathias Lüdtke on 2019-04-30:
I guess the same(?)
Comment by k5519995 on 2019-06-06:
Yes. It's working


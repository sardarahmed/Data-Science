Q:

Cannot insert values in custom message

Hi and thanks for reading.
I am trying to add a custom message to my project, but for some reason I cannot update the values.
I simplified the message package to hold a simple String type which still doesn't work.
the message catkin_pkg builds without any errors.
features_msg.msg:
std_msgs/String tmp
in the .cpp file, I am calling:
    features_tracking_msg::features_msg features;
    features.tmp = "testing";

and getting: No viable overloaded '='
Any help would be appreciated!

Originally posted by AibohphobiA on ROS Answers with karma: 87 on 2022-03-31
Post score: 0

A:

std_msgs/String is not a std::string.
It's a class which has a std::string as one of its members. That member is called data.
So you'd need to assign "testing" to features.tmp.data, not to features.tmp directly (as that would require a suitable overload of = / conversion operator to be available, which would convert std::string to std_msgs::String).
However, having written that: if you're already creating a custom message, I would recommend to directly use the string primitive type for tmp, instead of std_msgs/String.
The former is the type to use for message fields. The latter is a type to use when directly publishing a string to a topic.

Originally posted by gvdhoorn with karma: 86574 on 2022-04-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by AibohphobiA on 2022-04-05:
Thanks!
I don't know how, but in the following tutorial(which I used) he uses std_msgs::String and then assigns an std::string to it (which works somehow):
link text
Thanks for your help!


Q:

Strange Visualization of Octomap

Hi there,
I am running Octomapping with a Hokuyo Laser Scanner mounted on the front bumper of a Husky A200 but when I visualize the Octomap, I see some grid being strangely marked as unknown in the beginning but after cross the (0,0) the whole is working properly.
In the screen cap below, you can see that from the very top of the map which is where the husky starts, some pixels were marked as unknown however they should be marked as known and free. then after passing the origin of the map point suddenly the Free spaces are stitched together and we see the whole white space being visualized correctly. Why are some pixels being marked strangely in the beginning ?
The Octomap Starts off like this :
A little later it looks like this :
Also, all area behind the obstacles is still marked as FREE Space as shown here:

Finally it looks like this 
Why is there like a triangle of pixels to the left of Husky being marked at unknown in the beginning although between the robot and the wall there is nothing so the whole area should be marked as known?

Originally posted by ktiwari9 on ROS Answers with karma: 61 on 2015-09-10
Post score: 0

A:

Well, this obviously depends on what you are seeing. You can only mark things that you see and mark areas as free that a laser ray goes through.
Also, once you have seen an area, this remains in the state it was before, while it is not observed.
About the "strange" behaviour at the beginning. I'm not sure if this is the problem, but I had a similar problem before with a Hokuyo laser scanner.
The problem there was, that the Hokuyo sends 0.0 distances if it had reached its max_range. This would mean for the algorithm that it uses this "ray" as not going out and thus does not mark anything as free. This would also explain, why those areas are not marked in the beginning, but then in the end.
Could you verify what the outputs of the scanner are? Also, what max_range you have and what is published there.
(The results might be different from a real robot, as you seem to be using simulation)

Originally posted by mgruhler with karma: 12390 on 2015-09-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ktiwari9 on 2015-09-10:
Hmm i see. Well i tried different max_range values from 5.0 all the way upto 24.0 but nothing seemed to change. The original grid values are still strange.


Q:

pocketsphinx indigo acoustic model missing parameter

I've tried this on 2 different computers now, both on Indigo, Linux Mint 17 (Ubuntu 14.04).
I simply do the install:
sudo apt-get install gstreamer0.10-pocketsphinx
sudo apt-get install ros-indigo-pocketsphinx
sudo apt-get install ros-indigo-audio-common

then run
roslaunch pocketsphinx robocup.launch

Which gives the error:
ERROR: "acmod.c", line 85: Acoustic model definition is not specified neither with -mdef option nor with -hmm
FATAL_ERROR: "fe_sigproc.c", line 405: Failed to create filterbank, frequency range does not match. Sample rate 8000.000000, FFT size 512, lowerf 5734.375000 < freq -15.625000 > upperf 5078.125000.

Anyone have any ideas? Sounds like there is a library mismatch to me. I've also tried this on hydro and had no problems.
Full console:
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://bender:55109/

SUMMARY
========

PARAMETERS
 * /recognizer/dict: /opt/ros/indigo/s...
 * /recognizer/lm: /opt/ros/indigo/s...
 * /rosdistro: indigo
 * /rosversion: 1.11.9

NODES
  /
    recognizer (pocketsphinx/recognizer.py)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
process[recognizer-1]: started with pid [805]
[INFO] [WallTime: 1417734770.439411] Launch config: gconfaudiosrc
/opt/ros/indigo/lib/pocketsphinx/recognizer.py:68: SyntaxWarning: The publisher should be created with an explicit keyword argument 'queue_size'. Please see http://wiki.ros.org/rospy/Overview/Publishers%20and%20Subscribers for more information.
  self.pub = rospy.Publisher('~output', String)
[INFO] [WallTime: 1417734770.446870] Starting recognizer... 
INFO: cmd_ln.c(691): Parsing command line:
gst-pocketsphinx \
    -samprate 8000 \
    -cmn prior \
    -fwdflat no \
    -bestpath no \
    -maxhmmpf 2000 \
    -maxwpf 20 

Current configuration:
[NAME]      [DEFLT]     [VALUE]
-agc        none        none
-agcthresh  2.0     2.000000e+00
-alpha      0.97        9.700000e-01
-ascale     20.0        2.000000e+01
-aw     1       1
-backtrace  no      no
-beam       1e-48       1.000000e-48
-bestpath   yes     no
-bestpathlw 9.5     9.500000e+00
-bghist     no      no
-ceplen     13      13
-cmn        current     prior
-cmninit    8.0     8.0
-compallsen no      no
-debug              0
-dict               
-dictcase   no      no
-dither     no      no
-doublebw   no      no
-ds     1       1
-fdict              
-feat       1s_c_d_dd   1s_c_d_dd
-featparams         
-fillprob   1e-8        1.000000e-08
-frate      100     100
-fsg                
-fsgusealtpron  yes     yes
-fsgusefiller   yes     yes
-fwdflat    yes     no
-fwdflatbeam    1e-64       1.000000e-64
-fwdflatefwid   4       4
-fwdflatlw  8.5     8.500000e+00
-fwdflatsfwin   25      25
-fwdflatwbeam   7e-29       7.000000e-29
-fwdtree    yes     yes
-hmm                
-input_endian   little      little
-jsgf               
-kdmaxbbi   -1      -1
-kdmaxdepth 0       0
-kdtree             
-latsize    5000        5000
-lda                
-ldadim     0       0
-lextreedump    0       0
-lifter     0       0
-lm             
-lmctl              
-lmname     default     default
-logbase    1.0001      1.000100e+00
-logfn              
-logspec    no      no
-lowerf     133.33334   1.333333e+02
-lpbeam     1e-40       1.000000e-40
-lponlybeam 7e-29       7.000000e-29
-lw     6.5     6.500000e+00
-maxhmmpf   -1      2000
-maxnewoov  20      20
-maxwpf     -1      20
-mdef               
-mean               
-mfclogdir          
-min_endfr  0       0
-mixw               
-mixwfloor  0.0000001   1.000000e-07
-mllr               
-mmap       yes     yes
-ncep       13      13
-nfft       512     512
-nfilt      40      40
-nwpen      1.0     1.000000e+00
-pbeam      1e-48       1.000000e-48
-pip        1.0     1.000000e+00
-pl_beam    1e-10       1.000000e-10
-pl_pbeam   1e-5        1.000000e-05
-pl_window  0       0
-rawlogdir          
-remove_dc  no      no
-round_filters  yes     yes
-samprate   16000       8.000000e+03
-seed       -1      -1
-sendump            
-senlogdir          
-senmgau            
-silprob    0.005       5.000000e-03
-smoothspec no      no
-svspec             
-tmat               
-tmatfloor  0.0001      1.000000e-04
-topn       4       4
-topn_beam  0       0
-toprule            
-transform  legacy      legacy
-unit_area  yes     yes
-upperf     6855.4976   6.855498e+03
-usewdphones    no      no
-uw     1.0     1.000000e+00
-var                
-varfloor   0.0001      1.000000e-04
-varnorm    no      no
-verbose    no      no
-warp_params            
-warp_type  inverse_linear  inverse_linear
-wbeam      7e-29       7.000000e-29
-wip        0.65        6.500000e-01
-wlen       0.025625    2.562500e-02

INFO: feat.c(713): Initializing feature stream to type: '1s_c_d_dd', ceplen=13, CMN='prior', VARNORM='no', AGC='none'
INFO: cmn.c(142): mean[0]= 12.00, mean[1..12]= 0.0
ERROR: "acmod.c", line 85: Acoustic model definition is not specified neither with -mdef option nor with -hmm
FATAL_ERROR: "fe_sigproc.c", line 405: Failed to create filterbank, frequency range does not match. Sample rate 8000.000000, FFT size 512, lowerf 5734.375000 < freq -15.625000 > upperf 5078.125000.
[recognizer-1] process has died [pid 805, exit code 255, cmd /opt/ros/indigo/lib/pocketsphinx/recognizer.py __name:=recognizer __log:=/home/craig/.ros/log/55aca63c-7bff-11e4-8b58-e8b1fcc00c38/recognizer-1.log].
log file: /home/craig/.ros/log/55aca63c-7bff-11e4-8b58-e8b1fcc00c38/recognizer-1*.log
all processes on machine have died, roslaunch will exit
shutting down processing monitor...
... shutting down processing monitor complete
done

Originally posted by csherstan on ROS Answers with karma: 122 on 2014-12-04
Post score: 0

A:

you must specify :
-lm
-hmm
-dict
otherwise it won't work
enjoy

Originally posted by elpimous with karma: 16 on 2015-02-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by hernan kirvit on 2015-09-04:
Hello elpimous and csherstan
I have a related problem, but in my case, the -hmm parameter does not exist. I want to load the "pocketsphinx-0.4.0" spanish library but the node never ask me for a -hmm acustic language model. How I change that?
regards


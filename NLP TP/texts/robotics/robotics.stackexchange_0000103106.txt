Q:

TF get the time of last transform

Hello!
I want to check if the tf2_ros::Buffer received a valid transform from A to B in the last x seconds (to throw an error in case of time out). So something like buffer.canTransform(A, B, ros::Time(0)) with an additional argument for how far in the past the transform can be.
Is there a way to get the timestamp of the last available transform so that I can compare it to the current time?
This sounds like a pretty common use case to me, but I could not find anything suitable.
Thanks a lot!

Originally posted by labude on ROS Answers with karma: 98 on 2023-03-08
Post score: 0

A:

To achieve your query, you can do a lookupTransform and then check the resultant (latest) transform's timestamp is in your query window.

Originally posted by tfoote with karma: 58457 on 2023-03-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by labude on 2023-03-11:
That's a good idea, thanks.


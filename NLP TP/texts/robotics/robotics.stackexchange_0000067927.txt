Q:

rviz and openGL

I am trying to run rviz but I face this error:
[ INFO] [1433549504.115313245]: rviz version 1.11.7
[ INFO] [1433549504.115355680]: compiled against OGRE version 1.8.1 (Byatis)
libGL error: No matching fbConfigs or visuals found
libGL error: failed to load driver: swrast
[ INFO] [1433549504.568675398]: Stereo is NOT SUPPORTED
[ INFO] [1433549504.568842811]: OpenGl version: 1.4 (GLSL 0).
terminate called after throwing an instance of 'std::runtime_error'
  what():  Your graphics driver does not support OpenGL 2.1. Please enable software rendering before running RViz (e.g. type 'export LIBGL_ALWAYS_SOFTWARE=1').
Aborted (core dumped)

I run this: export LIBGL_ALWAYS_SOFTWARE=1 but I still have the same problem.
I installed ork(http://wg-perception.github.io/object_recognition_core/install.html#install) on ROS some days ago and it asked me to install MESA. I installed this version of MESA.10.5.4 from this link: http://www.mesa3d.org/
I want to know if the problem is my graphic driver? Is anyone know how I can resolve it?
This is my openGL info:
OPENGL info:
Renderer: GeForce GTX/745
Version: 1.4 (2.1.2 NVIDIA 331.113

the graphic driver:
 description: VGA compatible controller
       product: GM107 [GeForce GTX 745]
       vendor: NVIDIA Corporation

Edit:
To install ORK, I run catkin_make, and it failed in the middle and said it couldn't find mesa libraries. That's why I installed mesa. It needed this library: libosmesa
http://wg-perception.github.io/object_recognition_core/install.html#install
For mesa, I run this:
./configure  --build=x86_64-pc-linux-gnu --host=i686-pc-linux-gnu --enable-osmesa  --with-osmesa-bits=32
and then make it.
I use UBUNTU 14.04 LTS(Trusty)
ROS indigo

Originally posted by Zozo on ROS Answers with karma: 3 on 2015-06-05
Post score: 0

Original comments
Comment by gvdhoorn on 2015-06-06:
You say you "installed this version of MESA 10.5.4 from this link". What did you do exactly? I doubt orc requires the newest Mesa libs, installing them using your platform's package manager would probably have been enough. If you make && sudo make install, then some things are probably broken now.
Comment by gvdhoorn on 2015-06-06:
Also: which OS, version of OS, which ROS release, etc.

A:

For mesa, I run this:

./configure --build=x86_64-pc-linux-gnu --host=i686-pc-linux-gnu --enable-osmesa --with-osmesa-bits=32

and then make it.

This is probably what is causing your issues: if you also did a sudo make install, that has most likely overwritten some files and / or symlinks involved in the 3D acceleration pipeline of your system.

I use UBUNTU 14.04 LTS [..]

It is generally recommended to use the OS package manager to install software on Ubuntu (and any other Linux distro that has a pkg manager, really). For libosmesa, perhaps the following would've been enough:
sudo apt-get install libosmesa6-dev

You could try and see whether installing those packages restores your system to a working state (remember to rebuild ORK). If not, you might also need to reinstall your graphics card driver.
A properly installed (and working) OpenGL system should show you a Version 3.x or Version 4.x in your OpenGL Info along with some other vendor specific information.

To install ORK, I run catkin_make, and it failed in the middle and said it couldn't find mesa libraries. [..]

A rosdep check --from-paths /paths/to/your/ork_ws -i should've tried to install libosmesa6-dev, as it is listed as a build_depend in ork_rendered's package manifest. I don't see rosdep mentioned in the installation document you linked, so perhaps it's an idea to run it.

Originally posted by gvdhoorn with karma: 86574 on 2015-06-07
This answer was ACCEPTED on the original site
Post score: 0


Q:

Trigger action according to diagnostics

Hello,
I have nodes publishing diagnostic data and I have configured them correctly and I can visualize them in Rviz.
But now I would like to trigger some actions, for example ring a buzzer when one sensor fails.
Do I need to create my own diagnostic analyzer that will do what I need ? Or do I need to write a node that will subscrive to /diagnostics_agg or /diagnostics_toplevel_state ?
Thanks a lot ! :)

Originally posted by Mackou on ROS Answers with karma: 196 on 2020-06-17
Post score: 1

A:

Diagnostics were really originally designed for human readable outputs. The diagnostics_aggregator really exists to clean up diagnostics and re-arrange them for human viewing - the aggregator uses Analyzers (there is a tutorial on creating custom analyzers).
The messages are generally not ideal for machine processing (while there are warning levels, most of the information tends to be string-based) - but you could certainly do that. You would almost certainly have to write your own node which could subscribe to either of the aggregated or non-aggregated diagnostics topics.

Originally posted by fergs with karma: 13902 on 2020-06-18
This answer was ACCEPTED on the original site
Post score: 1


Q:

How to rosmake ROS package which is in /opt/ros/***/stacks/

Could you tell me how to re-rosmake packages under /opt/ros/***/stacks/ ?
I installed openni_kinect package.
In order to understand how it works, 
I added some ROSINFO function in some codes(For example, in openni_device.cpp).
Next, I renamed ROS_NOBUILD file to ROS_NOBUILD_ORG not to skip building this package.
Finally, I did "rosmake openni_camera", however, I got an error.
The error means
"mkdir : could not make `build' directory : not permitted".
How do I solve it?
Of course, I cannot conduct "sudo rosmake * * *". 

Originally posted by moyashi on ROS Answers with karma: 721 on 2012-08-22
Post score: 0

A:

Just to provide some explanation to the previous answers: changing files in /opt/ros/... is a very bad idea, because first, your changes can be overwritten by APT updates, and second, it becomes very hard to isolate whether there is a bug in ROS, or a bug in your changes or other code. It is much better to copy the package you wish to change somewhere into your home directory (that way you'll have write access to it), and prepend that directory to your ROS_PACKAGE_PATH. So in order to revert to a "clean" ROS installation without your changes, you just have to remove your home dir from your ROS_PACKAGE_PATH. This is not possible if you change files directly.

Originally posted by Martin Günther with karma: 11816 on 2012-08-22
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by moyashi on 2012-08-23:
Thank you for your kind answer. If I follow your guide, I think there are two same packages under ROS_PACKAGE_PATH. Even in this case, can I use these packages separately?
Comment by Martin Günther on 2012-08-24:
Only the first package in the path will be used. If you try to run rosmake inside the second package, you will get an error. In order to switch from one package to the other, you have to put the other package first in your path.
Comment by moyashi on 2012-08-26:
Does "the path" mean ROS_PACKAGE_PATH ? If I have "echo $ROS_PACKAGE_PATH -> /home/user/ros_workspace:/opt/ros/electric/stacks", I have to put the package I'd like to use in ros_workspace?
Comment by Martin Günther on 2012-08-26:
@nitasgu: Yes, exactly.


Q:

build rosjava failed

Hi,
Recently i tried to build rosjava on a different computer with ROS Diamondback installed.
I checkout rosjava today with this command hg clone https://code.google.com/p/rosjava/
Then skipped the install step and go directly to this page (http://docs.rosjava.googlecode.com/hg/rosjava_core/html/building.html), try to build rosjava on my computer. And I got following failure message:
> Building > :rosjava_bootstrap:compileJava > Resolving dependencies ':rosjava_b:rosjava_bootstrap:compileJava
/home/nifti/Workspace/rosjava/rosjava_bootstrap/src/main/java/org/ros/internal/message/MessageContextFactory.java:69: cannot find symbol
symbol  : method parseFromString(java.lang.String)
location: class org.ros.internal.message.PrimitiveFieldType
            primitiveFieldType.parseFromString(value));
                              ^
Note: /home/nifti/Workspace/rosjava/rosjava_bootstrap/src/main/java/org/ros/internal/message/MessageImpl.java uses or overrides a deprecated API.
Note: Recompile with -Xlint:deprecation for details.
Note: Some input files use unchecked or unsafe operations.
Note: Recompile with -Xlint:unchecked for details.
1 error

FAILURE: Build failed with an exception.

* What went wrong:
Execution failed for task ':rosjava_bootstrap:compileJava'.
> Compilation failed; see the compiler error output for details.

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.

BUILD FAILED

Any idea what went wrong? Is it because I was building on ros dimondback?

Originally posted by ira on ROS Answers with karma: 106 on 2012-04-19
Post score: 1

Original comments
Comment by damonkohler on 2012-04-23:
Currently, rosjava is only tested on Electric. However, that may not be the cause of your problem. Please follow the directions starting with: http://docs.rosjava.googlecode.com/hg/rosjava_core/html/installing.html
It's difficult to diagnose build failures for non-standard configurations.
Comment by LucaGhera on 2012-04-24:
@damonkohler Did they forget the step in which you add export .../setup.sh to your .bashrc?

A:

This appears to be caused by a bug in the JDK: https://bugs.java.com/bugdatabase/view_bug?bug_id=6724345
I've pushed a workaround for this problem. Please update your checkout of rosjava and try again.

Originally posted by damonkohler with karma: 3838 on 2012-04-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by LucaGhera on 2012-04-24:
It still fails for me with a new error: * What went wrong: Execution failed for task ':rosjava_messages:generateSources'. > Command '/System/Library/Java/JavaVirtualMachines/1.6.0.jdk/Contents/Home/bin/java' finished with (non-zero) exit value 1.
Comment by damonkohler on 2012-04-25:
Please run gradlew with --info or --stacktrace and open a new question.
Comment by ira on 2012-04-26:
Thanks, it is successfully built now.
Comment by Yeison Rodriguez on 2013-03-24:
What was the resolution to this problem?  I'm having the new issue listed here.


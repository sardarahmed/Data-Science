Q:

urdf_to_collada disrupts the robot model

Hello all
I am interesting in creating a single Collada model out of my robot URDF. I probably doing some thing  wrong her a simple example :
my rob.URDF file is :
    <?xml version="1.0"?>
<robot name="my_rob">
  <link name="base_cylinder">
    <visual>
      <geometry>
        <cylinder length="1" radius="0.1"/>
      </geometry>
      <material name="blue">
        <color rgba="0 0 .8 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
         <cylinder length="1" radius="0.1"/>
      </geometry>
    </collision> 
  </link>

  <link name="head_box">
    <visual>
      <geometry>
        <box size="0.4 0.4 0.4"/>
      </geometry>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <material name="white">
        <color rgba="1 1 1 1"/>
      </material>
    </visual>
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
        <box size="0.3 0.3 0.3"/>
      </geometry>
    </collision>
  </link>

  <joint name="my_box_joint" type="fixed">
    <parent link="base_cylinder"/>
    <child link="head_box"/>
    <origin xyz="0 0 0.7"/>
  </joint>

</robot>

in the RVIZ my model seems OK :

but after i execute :
rosrun collada_urdf urdf_to_collada rob.URDF rob.dae

my rob.dae file looks like this in MeshLab :

What am i doing wrong ?

Originally posted by dmeltz on ROS Answers with karma: 192 on 2014-11-20
Post score: 1

A:

My experience has been that urdf_to_collada has difficulties with primitives such as boxes and cylinders in the past. I'd thus recommend generating simple meshes for your geometries and then retrying the conversion.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-11-25
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dmeltz on 2014-11-30:
I tried to use STL meshes, as you suggested, but unfortunately it does not helps.
Maybe you can direct me to a working example ?
Comment by Stefan Kohlbrecher on 2014-11-30:
I previously succesfully converted the atlas_v3 (https://bitbucket.org/osrf/drcsim/src/55bddb26dda1672eac2bc134f2f06b9327e26ad0/atlas_description/robots/atlas_v3.urdf.xacro?at=default) model to the OpenRAVE COLLADA format, which is pretty complex (>20 links and joints etc.).


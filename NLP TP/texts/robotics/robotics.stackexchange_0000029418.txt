Q:

How to add to the library search path for custom plugins

Hi,
I'm running a gz-sim (Garden) simulation starting from PX4 where I want to include a custom plugin into my model. The model works if I copy-paste the .so file to any of the default search locations, i.e.
- /home/anton/.gz/sim/plugins/
- /usr/lib/x86_64-linux-gnu/gz-sim-7/plugins/
- /home/anton/.ignition/gazebo/plugins/

However, I'd prefer to set an environment variable (as in Gazebo-Classic) to tell gazebo to search for additional plugins. In gazebo-classic I could do
export GAZEBO_PLUGIN_PATH="$PWD:$GAZEBO_PLUGIN_PATH"

but this doesn't seem to work in gz-sim garden.
Is there any other way to add to the library search path of gz-sim?

Originally posted by antbre on Gazebo Answers with karma: 1 on 2023-07-13
Post score: 0

A:

Found the answer myself. The new path variable is
GZ_SIM_SYSTEM_PLUGIN_PATH

The best overview I found of the naming conventions in the gz-garden is in this presentation.

Originally posted by antbre with karma: 1 on 2023-07-13
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by mz on 2023-07-14:
Hi, thanks for looking over the presentation. For others, the variable can be found by gz sim --help. Also, that variable is documented in a tutorial for how to find resources https://gazebosim.org/api/sim/7/resources.html


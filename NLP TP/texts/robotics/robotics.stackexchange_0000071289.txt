Q:

What does "timestamp" of "header" in hokuyo's scan data?

I'm wondering what timestamp in hokuyo's sensor_msgs::LaserScan does mean. Is the time at first scan ray is measured? Or is the time at last scan ray is measured?
I know there is calibration function of latency between hokuyo and host PC in hokuyo node. But I cannot understand how the function works. Could you explain to me?
Thanks in advance.

Originally posted by claid00 on ROS Answers with karma: 3 on 2016-01-12
Post score: 0

A:

The timestamp is the the time of the first ray/distance measurement in a scan. Note this is also stated in the comments of the sensors_msgs/LaserScan message definition.
The time calibration performs some sending of messages back and forth between scanner and host similar to NTP time synchronization. There is some more info here on page 27 of the UTM-30LX-EW protocol documentation.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-01-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by claid00 on 2016-01-12:
Thank you ~~
May I ask one more? As far, the timestamp is the first ray measurement in a scan. Is the timestamp based on host PC timer by time calibration? There are two timer, in hokuyo and in host PC.
Comment by Stefan Kohlbrecher on 2016-01-12:
Yes, the driver node should take care of publishing the proper ROS timestamp for the message, based on the preceding time calibration. For details you have to look at the code.
Comment by claid00 on 2016-01-12:
Thank you~
The timestamp of encoder data from rosaria is also based on host PC. In rosaria code, the timestamp of encoder is updated by ros::Time.now () just before publishing. Am I right?
Comment by Stefan Kohlbrecher on 2016-01-12:
Don't know, you'll have to look at the code. But just taking ros::Time::now() is an approach that's commonly taken if no complicated sync as with the hokuyo is done.
Comment by claid00 on 2016-01-12:
Thank you~ I'll have to look at the code. Thanks~


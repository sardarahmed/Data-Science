Q:

Checking whether a particular position in the map has any obstacle

How to check whether a particular position in the map has any obstacle. I want to check if at any particular location (x,y) the corresponding cell has any obstacle or not. How to do that using costmap in ros ?

Originally posted by mayank_m on ROS Answers with karma: 115 on 2016-01-28
Post score: 1

Original comments
Comment by aarontan on 2018-07-05:
did you find a solution for this?
Comment by samir menaa on 2020-06-03:
Hello, have found a solution to this. i am searching for he same thing

A:

Depends on where you want to do the check, seperate node (probably subscriber), node that has the costmap as a member.
I guess it is straight forward if the costmap is  member, than translate the coordinate to the relevant cell (e.g. using the worldToMap function), check the costs (e.g. using the getCost function) and then compare against the cost values).
Maybe there is a more direct way, but I don't know.
If it is a seperate node where you subscribe to, the way should be the same...

Originally posted by mgruhler with karma: 12390 on 2016-01-28
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by mayank_m on 2016-01-28:
Thank You....what if we need to take the footprint of the robot into account, i.e., not to consider the robot as a point object ?
Comment by mgruhler on 2016-01-28:
This is what the costs are for. So you need to use the inflation_layer which gets inflated depending on the robot footprint. There are costs for "definitely in collision" and "maybe in collision", as they use the inscribed and curcumscribed radius, repsecitvely.
Comment by mgruhler on 2016-01-28:
Check out http://wiki.ros.org/costmap_2d for more information on the cost calculation and how the footprints are used.
Comment by Omair Khalid on 2021-06-14:
Do I need to create another costmap object exactly similar to what is already running in the nav stack, and then add my custom function? Or, is there a simpler way to instantiate a costmap object with the latest costmap information (including current information from all the layers)?
Comment by N.N.Huy on 2022-01-04:
@Omair Khalid did you find the solution ?


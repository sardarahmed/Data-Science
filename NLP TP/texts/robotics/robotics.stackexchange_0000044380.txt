Q:

Error when loading joint controller

Hi
I am trying to load a real time joint controller as in the tutorial
http://www.ros.org/wiki/pr2_mechanism/Tutorials/Running%20a%20realtime%20joint%20controller
when i write rosrun pr2_controller_manager pr2_controller_manager list-types
i find my controller.
rosrun pr2_controller_manager pr2_controller_manager list-types
JointGravityController
JointPendulumController
MyControllerCart
ethercat_trigger_controllers/MultiTriggerController
ethercat_trigger_controllers/ProjectorController
ethercat_trigger_controllers/TriggerController
my_controller_pkg/MyControllerPlugin

but when i try to run it by -- rosrun pr2_controller_manager pr2_controller_manager load my_controller_ns
i get an error
[
    [ WARN] [1348483742.077905347, 5304.895000000]: The deprecated controller type MyControllerPlugin was not found.  Using the namespaced version my_controller_pkg/MyControllerPlugin instead.  Please update your configuration to use the namespaced version.
[ERROR] [1348483742.078175612, 5304.896000000]: Could not load class my_controller_pkg/MyControllerPlugin: Failed to load library /home/nachum/my_controller_pkg/lib/libmy_controller_lib.so. Make sure that you are calling the PLUGINLIB_REGISTER_CLASS macro in the library code, and that names are consistent between this macro and your XML. Error string: Cannot load library: No manifest in /home/nachum/my_controller_pkg/lib/libmy_controller_lib.so: my_controller_pkg__MyControllerPlugin
[ERROR] [1348483742.078288739, 5304.896000000]: Could not load controller 'my_controller_ns' because controller type 'my_controller_pkg/MyControllerPlugin' does not exist

any ideas what am i doing wrong?
Thanks
Nachum

Originally posted by Nachum on ROS Answers with karma: 208 on 2012-09-24
Post score: 0

Original comments
Comment by ahendrix on 2012-09-24:
Which version of ROS and which OS are you using?
The error messages complain that you aren't declaring and exporting your plugin properly; have you checked that? If you can post your controller code, manifest and CMakelists.txt, that will help debug.

A:

Some how I just closed the Gazebo and turned it on again and it worked.

Originally posted by Nachum with karma: 208 on 2012-10-15
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Lorenz on 2012-10-15:
Probably because the controller manager re-initialized the list of plugins.


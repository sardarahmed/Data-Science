Q:

How to convert CompressedImage to Image?

I would like to convert CompressedImage to Image.
rosrun image_transport republish raw in:=/image_raw  compressed out:=/image_raw_converted

Then, I could got image_raw_converted which is CompressedImage and 1/10 data size.
I would like to use image_raw_converted as Image. So,
rosrun image_transport republish compressed in:=/image_raw_converted raw out:=/image_raw_converted2

However, the data size increases by 10 times.
Is there any way to convert CompressedImage to Image and also decrease the data size?

Originally posted by baozhang on ROS Answers with karma: 39 on 2017-02-18
Post score: 1

A:

No. Compression is the way to reduce the size of the data footprint while recording data. This is the principle that governs video data as well, known as codec. The actual data of a recorded movie is lot larger than the one you stream or watch on your computer.
I believe that ros does a pretty good job of compressing incoming image data and hence you see a bloat in the image size when you decompress it frame by frame. You can read the source code of compressions here
If you want to compress it further I would recommend use ros to generate all the images and then compress everything using a video codec using ffmpeg. There is information about that on this stack overflow question.

Originally posted by tushar with karma: 26 on 2017-02-20
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by baozhang on 2017-02-21:
Thank you for replying.
I would like to ask that it is possible to convert the image in type of CompressedImage into the image in type of Image.
Comment by tushar on 2017-02-21:
Image view is the package you are looking for. It will let you subscribe to the topic that is publishing images and save the output to files.
Comment by anonymous38087 on 2019-04-02:
Is there any method for converting sensor_msgs/image data to sensor_msgs/CompressedImage?


Q:

How to Create Elevator in Gazebo with Control ROS Topics?

Hello,
I want to create scenario in Gazebo with elevator. I can use ElevatorPlugin that is working but I don't control elevator by ros topics. How can i control ros topics that elevator ?
This is elevator.world.
and also this is gazebo plugin of elevator.

Originally posted by Onur on ROS Answers with karma: 38 on 2018-07-24
Post score: 0

A:

I'm not familiar with this code and haven't used it, but I can read through it and explain what it's doing.
The callback type is std_msgs/String: https://github.com/ros-simulation/gazebo_ros_pkgs/blob/kinetic-devel/gazebo_plugins/src/gazebo_ros_elevator.cpp#L80 , but it calls std::strtoi on the argument, which indicates that the string should be a number.
The topic name is defined by the <topic> XML property: https://github.com/ros-simulation/gazebo_ros_pkgs/blob/kinetic-devel/gazebo_plugins/src/gazebo_ros_elevator.cpp#L60-L61
This sets the topic to ~/elevator: https://bitbucket.org/osrf/gazebo/src/default/worlds/elevator.world?fileviewer=file-view-default#elevator.world-196 . That's relative to the gazebo node name, so probably /gazebo/elevator . Running rostopic list when the elevator simulation and looking for a topic with "elevator" in the name will also help you find the topic name.
Overall, it looks like publishing "1" or "2" (or maybe "0", if floors are 0-indexed) on the /gazeo/elevator topic (or whatever topic it's actually using) will send the elevator to a floor.

Originally posted by ahendrix with karma: 47576 on 2018-07-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Onur on 2018-07-25:
Thanks for advise. While running launch file, I looked to elevator topics but i didn't see. Also i looked rosnode list but i didn't see anything about elevator.
Comment by kevin.kuei.0321@gmail.com on 2022-04-10:
I have the same problem. Did you find the answer?


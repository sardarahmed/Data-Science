Q:

Linking error with bag_to_pcd

Hi all,
I am trying to build ROS Groovy on an ARM machine (Cubox). I want to compile perception_ros but I keep getting this error when I try to build with catkin_make:
Scanning dependencies of target bag_to_pcd
[ 51%] Building CXX object perception_pcl/pcl_ros/CMakeFiles/bag_to_pcd.dir/tools/bag_to_pcd.cpp.o
Linking CXX executable /home/quadcopter/catkin_ws/devel/lib/pcl_ros/bag_to_pcd
CMakeFiles/bag_to_pcd.dir/tools/bag_to_pcd.cpp.o: In function pcl::PCDWriter::write(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, sensor_msgs::PointCloud2_<std::allocator<void> > const&, Eigen::Matrix<float, 4, 1, 0, 4, 1> const&, Eigen::Quaternion<float, 0> const&, bool)': bag_to_pcd.cpp:(.text._ZN3pcl9PCDWriter5writeERKSsRKN11sensor_msgs12PointCloud2_ISaIvEEERKN5Eigen6MatrixIfLi4ELi1ELi0ELi4ELi1EEERKNS9_10QuaternionIfLi0EEEb[pcl::PCDWriter::write(std::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, sensor_msgs::PointCloud2_<std::allocator<void> > const&, Eigen::Matrix<float, 4, 1, 0, 4, 1> const&, Eigen::Quaternion<float, 0> const&, bool)]+0x20): undefined reference to pcl::PCDWriter::writeBinary(std::basic_string<char, std::char_traits, std::allocator > const&, sensor_msgs::PointCloud2_std::allocator<void > const&, Eigen::Matrix<float, 4, 1, 0, 4, 1> const&, Eigen::Quaternion<float, 0> const&)'
bag_to_pcd.cpp:
(.text.ZN3pcl9PCDWriter5writeERKSsRKN11sensor_msgs12PointCloud2_ISaIvEEERKN5Eigen6MatrixIfLi4ELi1ELi0ELi4ELi1EEERKNS9_10QuaternionIfLi0EEEb[pcl::PCDWriter::write(std::basic_string<char, std::char_traits, std::allocator > const&, sensor_msgs::PointCloud2std::allocator<void > const&, Eigen::Matrix<float, 4, 1, 0, 4, 1> const&, Eigen::Quaternion<float, 0> const&, bool)]+0x3a): undefined reference to `pcl::PCDWriter::writeASCII(std::basic_string<char, std::char_traits, std::allocator > const&, sensor_msgs::PointCloud2_std::allocator<void > const&, Eigen::Matrix<float, 4, 1, 0, 4, 1> const&, Eigen::Quaternion<float, 0> const&, int)'
collect2: ld returned 1 exit status
I built and installed PCL (trunk) successfully.
Thanks for any help!

Originally posted by obsti on ROS Answers with karma: 63 on 2013-03-24
Post score: 0

A:

Hi, when you build something, go to build directory and make sure you run
ccmake .. from the terminal. Then check if all the libraries and include directories find the required pcl directories.
The directories will be locate din /usr/include/pcl if you have downloaded PPA from http://pointclouds.org/downloads/linux.html otherwise, it will be in /usr/local/include/pcl and the libraries would be in usr/lib/
make sure that ccmake is configured with all the required libraries..
Then try to do
make
sudo make install

Originally posted by ashsai with karma: 16 on 2013-04-10
This answer was ACCEPTED on the original site
Post score: 0


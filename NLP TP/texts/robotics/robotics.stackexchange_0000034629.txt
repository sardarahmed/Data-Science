Q:

AMCL in the bottom right corner...forever

I have setup the amcl as described by the tutorial.  I setup all the costmap.yaml files.
When I start everything up (I am using a segway rmp).  I will get my static map and then get the laser in the bottom right hand corner.
So I use the set position in rviz.  And nothing happens.  So far in the last two days I have gotten the robot to converge correctly twice.  But when I restart it will now work.
So I have three questions:

In the tutorial the global costmap parameters has static_map =true,  but in the local costmap parameters the static_map = false.  Shouldn't these be the same?

I noticed the in the tutorial they used "nav_view"  however when I try to grab it from the svn link it fails.  How do I get nav_view.

Is there anything else you can do to get amcl to work.  I have tried this to no avail:
    <param name="~/initial_pose_x" type="double" value="223.25" />
<param name="~/initial_pose_y" type="double" value="118.26"/>
<param name="~/initial_pose_a" type="double" value="-0.133" />

Cheers,
BM

Originally posted by BlackManta on ROS Answers with karma: 56 on 2011-10-01
Post score: 0

A:

The parameters you posted should set the initial pose of the robot in the "map" frame. When you set the pose from rviz, AMCL does support messages in any frame. However, setting the robot's pose in a frame other than "map" probably isn't what you want to do and may have unintended consequences. To guarantee you're setting the initial pose in the "map" frame, make sure that you have your "Fixed Frame" and "Target Frame" set to "map" in rviz. Another thing to check is that your laser is publishing data and that AMCL is subscribed correctly to it. Given you're using the example parameters for AMCL, I'd expect setting the initial pose to work barring some problem with your network or your laser configuration.

Originally posted by eitan with karma: 2743 on 2011-10-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by BlackManta on 2011-10-05:
Anyway thanks a lot, it works.  I must admit I am bitter that it was an rviz parameter that was failing not amcl...I spent hours going through those files, but at least it works.  Thanks again!
Comment by BlackManta on 2011-10-05:
AWESOME!  I kept thinking to myself "There has to be a way to get the 0,0,0 to be the map coordinate"


Q:

Weird ROS_PACKAGE_PATH : find_package cannot find installed packages

I installed ros-indigo from source in Xubuntu 14.04  and created a catkin workspace following this tutorial: http://wiki.ros.org/indigo/Installation/Source. I had to use catkin_make_isolated because I had non-catkin packages in my workspace.
I got everything running in general but my ROS_PACKAGE_PATH includes most of the folders in my src directory and some folders in my install-isolated directory. When I add a new package I need to add it manually to ROS_PACKAGE_PATH, because otherwise rosrun cannot find it. This is getting very frustrating and I think it is resulting in several errors I get when trying to run launch files that search for items in packages I might not have added correctly to ROS_PACKAGE_PATH. I would very grateful if anyone could help me to setup my environment correctly! Thank you very much!!
If I run:
source ~/ros_catkin_ws/install_isolated/setup.bash

printenv | grep ROS

I get
ROS_ROOT=/home/ccorti/ros_catkin_ws/src/ros/rosbuild
ROS_PACKAGE_PATH=/home/ccorti/ros_catkin_ws/src/rbcar_sim/rbcar_gazebo:/home/ccorti/ros_catkin_ws/src/ros_comm/rosbag:/home/ccorti/ros_catkin_ws/src/ros_comm/topic_tools:/home/ccorti/ros_catkin_ws/src/geometry_experimental/tf2_py:/home/ccorti/ros_catkin_ws/src/executive_smach/smach_ros:/home/ccorti/ros_catkin_ws/src/diagnostics/self_test:/home/ccorti/ros_catkin_ws/src/ros_comm/roswtf:/home/ccorti/ros_catkin_ws/src/ros_comm/rostopic:/home/ccorti/ros_catkin_ws/src/ros_tutorials-indigo-devel/rospy_tutorials:/home/ccorti/ros_catkin_ws/src/ros_comm/rosnode:/home/ccorti/ros_catkin_ws/src/image_common/polled_camera:/home/ccorti/ros_catkin_ws/src/ros-indigo-image-view-1.12.13:/home/ccorti/ros_catkin_ws/src/image_common/camera_info_manager:/home/ccorti/ros_catkin_ws/src/image_transport:/home/ccorti/ros_catkin_ws/src/ros_comm/message_filters:/home/ccorti/ros_catkin_ws/src/filters:/home/ccorti/ros_catkin_ws/src/dynamic_reconfigure:/home/ccorti/ros_catkin_ws/src/diagnostics/diagnostic_common_diagnostics:/home/ccorti/ros_catkin_ws/src/diagnostics/diagnostic_updater:/home/ccorti/ros_catkin_ws/src/diagnostics/diagnostic_aggregator:/home/ccorti/ros_catkin_ws/src/cv_bridge:/home/ccorti/ros_catkin_ws/src/image_pipeline-indigo/camera_calibration:/home/ccorti/ros_catkin_ws/src/ros_comm/rosout:/home/ccorti/ros_catkin_ws/src/ros_tutorials-indigo-devel/roscpp_tutorials:/home/ccorti/ros_catkin_ws/src/pcl_conversions:/home/ccorti/ros_catkin_ws/src/nodelet_core/nodelet:/home/ccorti/ros_catkin_ws/src/robot_model/joint_state_publisher:/home/ccorti/ros_catkin_ws/src/robot_model/collada_parser:/home/ccorti/ros_catkin_ws/src/bond_core/bondpy:/home/ccorti/ros_catkin_ws/src/bond_core/bondcpp:/home/ccorti/ros_catkin_ws/src/ros_comm/roscpp:/home/ccorti/ros_catkin_ws/src/ros_comm/xmlrpcpp:/home/ccorti/ros_catkin_ws/src/geometric_shapes:/home/ccorti/ros_catkin_ws/src/common_msgs/visualization_msgs:/home/ccorti/ros_catkin_ws/src/vision_opencv:/home/ccorti/ros_catkin_ws/src/robot_model/urdf_parser_plugin:/home/ccorti/ros_catkin_ws/src/control_msgs/control_msgs:/home/ccorti/ros_catkin_ws/src/common_msgs/trajectory_msgs:/home/ccorti/ros_catkin_ws/src/geometry_experimental/tf2:/home/ccorti/ros_catkin_ws/src/geometry_experimental/tf2_msgs:/home/ccorti/ros_catkin_ws/src/common_msgs/stereo_msgs:/home/ccorti/ros_catkin_ws/src/ros_comm_msgs/std_srvs:/home/ccorti/ros_catkin_ws/src/executive_smach/smach_msgs:/home/ccorti/ros_catkin_ws/src/common_msgs/shape_msgs:/home/ccorti/ros_catkin_ws/src/pcl_msgs:/home/ccorti/ros_catkin_ws/src/map_msgs:/home/ccorti/ros_catkin_ws/src/image_geometry:/home/ccorti/ros_catkin_ws/src/image_common/camera_calibration_parsers:/home/ccorti/ros_catkin_ws/src/common_msgs/sensor_msgs:/home/ccorti/ros_catkin_ws/src/ros_comm_msgs/rosgraph_msgs:/home/ccorti/ros_catkin_ws/src/common_msgs/nav_msgs:/home/ccorti/ros_catkin_ws/src/navigation/move_base_msgs:/home/ccorti/ros_catkin_ws/src/geometry/kdl_conversions:/home/ccorti/ros_catkin_ws/src/geometry/eigen_conversions:/home/ccorti/ros_catkin_ws/src/common_msgs/geometry_msgs:/home/ccorti/ros_catkin_ws/src/common_msgs/diagnostic_msgs:/home/ccorti/ros_catkin_ws/src/bond_core/bond:/home/ccorti/ros_catkin_ws/src/common_msgs/actionlib_msgs:/home/ccorti/ros_catkin_ws/src/std_msgs:/home/ccorti/ros_catkin_ws/src/bond_core/smclib:/home/ccorti/ros_catkin_ws/src/executive_smach/smach:/home/ccorti/ros_catkin_ws/src/slam_gmapping/slam_gmapping:/home/ccorti/ros_catkin_ws/src/ros_comm/rostest:/home/ccorti/ros_catkin_ws/src/ros_comm/rosbag_storage:/home/ccorti/ros_catkin_ws/src/ros_comm/roslz4:/home/ccorti/ros_catkin_ws/src/rosconsole_bridge:/home/ccorti/ros_catkin_ws/src/resource_retriever:/home/ccorti/ros_catkin_ws/src/pluginlib:/home/ccorti/ros_catkin_ws/src/ros_comm/rosconsole:/home/ccorti/ros_catkin_ws/src/ros/rosunit:/home/ccorti/ros_catkin_ws/src/ros_comm/roslaunch:/home/ccorti/ros_catkin_ws/src/python_qt_binding-groovy-devel:/home/ccorti/ros_catkin_ws/src/roscpp_core/roscpp_serialization:/home/ccorti/ros_catkin_ws/src/roscpp_core/rostime:/home/ccorti/ros_catkin_ws/src/ros_comm/rosservice:/home/ccorti/ros_catkin_ws/src/ros_comm/rospy:/home/ccorti/ros_catkin_ws/src/ros_comm/rosparam:/home/ccorti/ros_catkin_ws/src/ros/roslib:/home/ccorti/ros_catkin_ws/src/rospack:/home/ccorti/ros_catkin_ws/src/ros_comm/rosmsg:/home/ccorti/ros_catkin_ws/src/ros_comm/rosmaster:/home/ccorti/ros_catkin_ws/src/ros/rosmake:/home/ccorti/ros_catkin_ws/src/roslisp:/home/ccorti/ros_catkin_ws/src/roslint:/home/ccorti/ros_catkin_ws/src/ros/roslang:/home/ccorti/ros_catkin_ws/src/ros_comm/rosgraph:/home/ccorti/ros_catkin_ws/src/ros/roscreate:/home/ccorti/ros_catkin_ws/src/roscpp_core/roscpp_traits:/home/ccorti/ros_catkin_ws/src/roscpp_core/roscpp_core:/home/ccorti/ros_catkin_ws/src/ros/rosclean:/home/ccorti/ros_catkin_ws/src/ros/rosbuild:/home/ccorti/ros_catkin_ws/src/ros/rosboost_cfg:/home/ccorti/ros_catkin_ws/src/ros/rosbash:/home/ccorti/ros_catkin_ws/src/rosbag_migration_rule:/home/ccorti/ros_catkin_ws/src/ros_tutorials-indigo-devel/ros_tutorials:/home/ccorti/ros_catkin_ws/src/metapackages/ros_core:/home/ccorti/ros_catkin_ws/src/ros_comm/ros_comm:/home/ccorti/ros_catkin_ws/src/metapackages/ros_base:/home/ccorti/ros_catkin_ws/src/ros/ros:/home/ccorti/ros_catkin_ws/src/robot_model/robot_model:/home/ccorti/ros_catkin_ws/src/metapackages/robot:/home/ccorti/ros_catkin_ws/src/random_numbers:/home/ccorti/ros_catkin_ws/src/openslam_gmapping:/home/ccorti/ros_catkin_ws/src/opencv_tests:/home/ccorti/ros_catkin_ws/src/nodelet_core/nodelet_core:/home/ccorti/ros_catkin_ws/src/navigation/navigation:/home/ccorti/ros_catkin_ws/src/ros/mk:/home/ccorti/ros_catkin_ws/src/message_runtime:/home/ccorti/ros_catkin_ws/src/message_generation:/home/ccorti/ros_catkin_ws/src/laser_pipeline:/home/ccorti/ros_catkin_ws/src/image_pipeline-indigo/image_pipeline:/home/ccorti/ros_catkin_ws/src/image_common/image_common:/home/ccorti/ros_catkin_ws/src/geometry/geometry:/home/ccorti/ros_catkin_ws/src/executive_smach/executive_smach:/home/ccorti/ros_catkin_ws/src/eigen_stl_containers:/home/ccorti/ros_catkin_ws/src/diagnostics/diagnostics:/home/ccorti/ros_catkin_ws/src/roscpp_core/cpp_common:/home/ccorti/ros_catkin_ws/src/common_msgs/common_msgs:/home/ccorti/ros_catkin_ws/src/class_loader:/home/ccorti/ros_catkin_ws/src/cmake_modules:/home/ccorti/ros_catkin_ws/src/bond_core/bond_core:/home/ccorti/ros_catkin_ws/src/angles:/home/ccorti/ros_catkin_ws/src/genpy:/home/ccorti/ros_catkin_ws/src/genlisp:/home/ccorti/ros_catkin_ws/src/gencpp:/home/ccorti/ros_catkin_ws/src/genmsg:/home/ccorti/ros_catkin_ws/src/catkin:/home/ccorti/ros_catkin_ws/install_isolated/share:/home/ccorti/ros_catkin_ws/install_isolated/stacks
ROS_MASTER_URI=http://localhost:11311
ROSCONSOLE_CONFIG_FILE=/home/ccorti/ros_catkin_ws/src/ros_comm/rosconsole/config/rosconsole.config
ROSLISP_PACKAGE_DIRECTORIES=/home/ccorti/ros_catkin_ws/devel_isolated/rbcar_gazebo/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosbag/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/topic_tools/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/tf2_py/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/smach_ros/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/self_test/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roswtf/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rostopic/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rospy_tutorials/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosnode/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/polled_camera/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/image_view/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/camera_info_manager/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/image_transport/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/message_filters/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/filters/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/dynamic_reconfigure/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/diagnostic_common_diagnostics/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/diagnostic_updater/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/diagnostic_aggregator/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/cv_bridge/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/camera_calibration/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosout/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roscpp_tutorials/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/pcl_conversions/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/nodelet/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/joint_state_publisher/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/collada_parser/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/bondpy/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/bondcpp/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roscpp/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/xmlrpcpp/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/geometric_shapes/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/visualization_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/vision_opencv/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/urdf_parser_plugin/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/control_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/trajectory_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/tf2/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/tf2_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/stereo_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/std_srvs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/smach_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/shape_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/pcl_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/map_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/image_geometry/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/camera_calibration_parsers/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/sensor_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosgraph_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/nav_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/move_base_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/kdl_conversions/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/eigen_conversions/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/geometry_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/diagnostic_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/bond/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/actionlib_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/std_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/smclib/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/smach/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/slam_gmapping/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rostest/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosbag_storage/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roslz4/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosconsole_bridge/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/resource_retriever/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/pluginlib/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosconsole/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosunit/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roslaunch/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/python_qt_binding/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roscpp_serialization/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rostime/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosservice/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rospy/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosparam/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roslib/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rospack/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosmsg/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosmaster/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosmake/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roslisp/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roslint/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roslang/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosgraph/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roscreate/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roscpp_traits/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/roscpp_core/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosclean/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosbuild/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosboost_cfg/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosbash/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/rosbag_migration_rule/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/ros_tutorials/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/ros_core/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/ros_comm/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/ros_base/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/ros/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/robot_model/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/robot/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/random_numbers/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/openslam_gmapping/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/opencv_tests/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/nodelet_core/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/navigation/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/mk/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/message_runtime/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/message_generation/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/laser_pipeline/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/image_pipeline/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/image_common/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/geometry/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/executive_smach/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/eigen_stl_containers/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/diagnostics/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/cpp_common/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/common_msgs/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/class_loader/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/cmake_modules/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/bond_core/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/angles/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/genpy/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/genlisp/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/gencpp/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/genmsg/share/common-lisp:/home/ccorti/ros_catkin_ws/devel_isolated/catkin/share/common-lisp
ROS_DISTRO=indigo
ROS_ETC_DIR=/home/ccorti/ros_catkin_ws/devel_isolated/roslib/etc/ros

Originally posted by cclina on ROS Answers with karma: 26 on 2016-10-21
Post score: 0

A:

I finally managed to get this working. I had put many packages in the same catkin workspace, so I started over and included only some basic packages in my initial catkin workspace that contains non-catkin packages.
I then created another catkin workspace that contains only catkin packages. By overlaying these workspaces I get "normal" environment variables and I can add new packages using catkin_make.
I am not sure how I got into a mess in the first place, but I hope this helps anyone that might have a similar problem!

Originally posted by cclina with karma: 26 on 2016-10-27
This answer was ACCEPTED on the original site
Post score: 0


Q:

knowrob_gui Exception

when I run the knowrob_gui, a exception occurred:
Exception in thread "Animation Thread" java.lang.UnsatisfiedLinkError: /opt/ros/groovy/stacks/knowrob/3rdparty/jpl/jpl/libjpl.so: libswipl.so.5.10.4: cannot open shared object file: No such file or directory
at java.lang.ClassLoader$NativeLibrary.load(Native Method)
at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1750)
at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1675)
at java.lang.Runtime.loadLibrary0(Runtime.java:840)
at java.lang.System.loadLibrary(System.java:1047)
at jpl.JPL.loadNativeLibrary(JPL.java:100)
at jpl.fli.Prolog.(Prolog.java:85)
at edu.tum.cs.ias.knowrob.prolog.PrologInterface.initJPLProlog(PrologInterface.java:33)
at jp.atr.unr.pf.gui.KnowRobGuiMain.setup(KnowRobGuiMain.java:68)
at processing.core.PApplet.handleDraw(Unknown Source)
at processing.core.PApplet.run(Unknown Source)
at java.lang.Thread.run(Thread.java:679)
@moritz

Originally posted by Rikardo on ROS Answers with karma: 75 on 2013-07-17
Post score: 0

A:

That's a linker problem, does the file exist? For me, it's at /usr/lib/libswipl.so.5.10.4
Files in /lib and /usr/lib are normally found without adding the directory to the LD_LIBRARY_PATH; in case you get other java-related linker issues, you may need to set
export LD_LIBRARY_PATH=/usr/lib/jvm/default-java/jre/lib/i386:/usr/lib/jvm/default-java/jre/lib/i386/server

Originally posted by moritz with karma: 2673 on 2013-07-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Rikardo on 2013-07-17:
Thanks Moritz!:-) I found the new version /usr/lib/libswipl.so.6.3.19  and exported the path as you said. And I re-compile knowrob and knowrob_gui. The error is still there.
Comment by moritz on 2013-07-17:
The same error or the equivalent with "libswipl.so.6.3.19"? In the former case, I'd try a 'rosmake --pre-clean knowrob_gui' to make sure that no outdated code remains.
Comment by Rikardo on 2013-07-17:
It is the same error which need libswipl.so.5.10.4. I see. Is this the problem with the different version of swi-prolog. Shall I compile and install a previous version of swi-prolog. Otherwise, a better solution to this. BTW, the tutorial for installation on knowrob website dose not work in groovy.
Comment by Rikardo on 2013-07-17:
with rosws merge [...], we can not have permission to download the code. I can git clone the code and compile by myself. But to compile each package one by one is a huge work, especially to compile the knowrob_addons.
Comment by moritz on 2013-07-17:
You should not need to install Prolog from source. The error message says that libjpl.so in the jpl package is compiled against Prolog 5.10.4. Please try the rosmake --pre-clean to make sure it's re-built against the new version. Have you updated Ubuntu to a new version recently?
Comment by moritz on 2013-07-17:
Why doesn't rosws work? knowrob and knowrob_addons are public and we use rosws for installing it. Even if you have to check out the repository by yourself, you don't have to compile each package, rosmake compiles all dependent packages automatically.
Comment by Rikardo on 2013-07-17:
Thanks again. I installed knowrob and swi-prolog by apt-get. I have already used rosmake --pre-clean to compile. I still use ubuntu 12.04. But the problem is still the same.  Shall I install knowrob by source code?
Comment by moritz on 2013-07-17:
I recommend installation from source, the .deb packages have another problem with OWL files that I haven't solved yet. We also use Ubuntu 12.04, but it includes SWI Prolog 5.10.4, so the link should be correct. You haven't installed a newer version by yourself?
Comment by Rikardo on 2013-07-17:
home/ricky/rosbuild_ws/stacks/knowrob
Cloning into '/home/ricky/rosbuild_ws/stacks/knowrob'...
Permission denied (publickey).
I tried this one several PC, it is the same problem to checkout.
Comment by moritz on 2013-07-17:
https://help.github.com/articles/error-permission-denied-publickey maybe this helps
Comment by Rikardo on 2013-07-17:
I also find this to deal with the permission denied publickey, https://help.github.com/articles/generating-ssh-keys#platform-linux. Now it is okay. Please accept my sincere and heartfelt thanks.exit


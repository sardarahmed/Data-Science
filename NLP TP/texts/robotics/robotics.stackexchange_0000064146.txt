Q:

How "expensive" is getNumSubscribers() of Publisher

I am processing data in a pipeline and I would like to publish out some intermediate results to check what is going on. However, some of these intermediate results are not necessary for the main processing chain but only for introspection. I. e. if everything runs smoothly and nobody watches them, there is no point for calculating them at all. So basically I want to calculate them, only if the respective publisher has a subscriber. However, my the data flows through my pipeline at some 20 to 40 Hz and I do not want to incorporate any heavy function calls at that freq. So the question is, whether or not it is ok to poll getNumSubscribers() at that frequency? Is the number cached somewhere in the node or does it query the master for each function call? Can I poll it? Or should I cache it my self and then only poll each 1 or 2 seconds?

Originally posted by Wolf on ROS Answers with karma: 7555 on 2014-11-20
Post score: 2

A:

I assume that any call to getNumSubscribers is cheaper than performing actual computations. In particular it should not connect to the master as this should represent the number of actual subscribers connected to this node right now and not the number of nodes that are listed on the master as listening.

Originally posted by dornhege with karma: 31395 on 2014-11-20
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Dirk Thomas on 2014-11-20:
Exactly. It's just looking up the size of a vector.
Comment by Wolf on 2014-11-20:
Perfect! Then polling should be ok.. Thanks!


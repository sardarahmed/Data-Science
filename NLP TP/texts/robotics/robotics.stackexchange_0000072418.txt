Q:

How to use GetMap-Service by gmapping

I'm using gmapping to create a map. To this point everything works fine.
Now I want to call the GetMap-Service to receive the map for further investigation:
#include <nav_msgs/GetMap.h>

ros::ServiceClient client = n.serviceClient<nav_msgs::GetMap>("map");
nav_msgs::GetMap srv;

  if (client.call(srv))
  {
    ROS_INFO("Service GetMap succeeded.");
  }
  else
  {
    ROS_ERROR("Service GetMap failed.");
    return 1;
  }

But when running this node I always get "Service GetMap failed."
I added gmapping to "find packages" in CMakefile and to build & runtime dependencies in package xml.
What's my fault?

Originally posted by Alex1209 on ROS Answers with karma: 3 on 2016-02-29
Post score: 0

A:

According to the documentation, the service is called dynamic_map. Try that one.

Originally posted by dornhege with karma: 31395 on 2016-02-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Alex1209 on 2016-03-02:
so you mean to use gmapping::dynamic_map instead of nav_msgs::GetMapas service? And include #include <gmapping/dynamic_map.h> ? Can you post a link to documentation please?
If I do so I get the fault "gmapping/dynamic_map not found"
Comment by Alex1209 on 2016-03-03:
I now found the documentation you talk about I think. Is it this?
so I in cluded #include slam_gmapping.h but when i catkin_make this file cannot be found. :(
Comment by dornhege on 2016-03-04:
http://wiki.ros.org/gmapping


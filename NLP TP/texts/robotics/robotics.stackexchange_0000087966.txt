Q:

Can I use image transport for the two different image topics?

Using an RGBD camera (RealSense D435), we want to log compressed color images (JPEG 'compressed'), and depth images (PNG 'compressedDepth'). The realsense driver publishes these compressed topics which is great.
However the problem comes in processing the two types data: Image transport gives some tutorials on how to subscribe to a compressed topic using a single param 'image_transport compressed'
But these two topics are of a different type, so we cannot set a single 'image_transport' variable to compressed or compressedDepth.
Question:
Can a single application use image_transport to subscribe to both a compressed JPEG topic and a compressedDepth PNG topic. This is needed to be able to run Visual Odometry on this data.

Originally posted by mozer on ROS Answers with karma: 3 on 2018-07-17
Post score: 0

A:

I am not sure but I think that image_transport should be able to allow you to subscribe to different topics with different data types. Take a look into compressed_image_transport and compressed_depth_image_transport. They both refer to this tutorial. Its a bit vague, but you should have two different parameters(<base_topic>/compressed/format (string, default: jpeg)). Compressed color images should be on /camera/rgb/image_raw/compressed  and compressed depth images on /camera/depth/image_raw/compressed. You should be able to change the format (jpeg or png) for them separately. You can check for the color images if you echo this /camera/rgb/image_raw/compressed/parameter_updates for example.
Also this link might help you with another way of setting the compressed parameter.

Originally posted by pavel92 with karma: 1655 on 2018-07-18
This answer was ACCEPTED on the original site
Post score: 1


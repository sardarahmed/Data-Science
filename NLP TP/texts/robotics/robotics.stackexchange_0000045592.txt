Q:

laser_scan_matcher crash

Hi,
When I use laser_scan_matcher everything works well for about 5-10 minutes, then the module crashes with the following output:
[laser_scan_matcher_node-1] process has died [pid 6944, exit code -11, cmd /opt/ros/fuerte/stacks/scan_tools/laser_scan_matcher/bin/laser_scan_matcher_node scan:=/my_robot_bridge/laser_out odom:=/my_robot_bridge/odometry_out __name:=laser_scan_matcher_node __log:=/home/user/.ros/log/57fa5eac-28cd-11e2-b8c6-00221522c9d6/laser_scan_matcher_node-1.log].
log file: /home/user/.ros/log/57fa5eac-28cd-11e2-b8c6-00221522c9d6/laser_scan_matcher_node-1*.log

I searched for the log file in the suggested path, but I was not able to find it. Do you have any other suggestion to understand what's going on?
Additional info:
I don't know if it is related, but when I start the laser_scan_matcher I get the following warnings (but the module works correctly)
core service [/rosout] found
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[laser_scan_matcher_node-1]: started with pid [6944]
[ INFO] [1352310705.912643992]: Starting LaserScanMatcher
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored

Additional info about my system:
I am using Ubuntu 12.04 with ROS distro fuerte. For the installation of laser_scan_matcher I followed the instructions reported here: http://www.ros.org/wiki/scan_tools?distro=fuerte.
Currently I'm using the following parameters:
<node pkg="laser_scan_matcher" type="laser_scan_matcher_node" 
name="laser_scan_matcher_node" output="screen" args="scan:=/my_robot_bridge/laser_out">
<param name="fixed_frame" value = "odom"/>
<param name="base_frame" value="base_link"/>
<param name="use_alpha_beta" value="true"/>
<param name="publish_tf" value="true"/>
<param name="max_iterations" value="10"/>
<param name="use_imu" value="false"/>
<param name="use_odom" value="false"/>
</node>

Originally posted by randaz on ROS Answers with karma: 63 on 2012-11-07
Post score: 0

Original comments
Comment by Ivan Dryanovski on 2012-11-07:
Could you give a little more information: ros version, os version, etc. Also, the which version of the scan matcher are you using?
Comment by Ivan Dryanovski on 2012-11-07:
Is the problem reproducible? Have you tried running laser_scan_matcher_node in a debugger (such as gdb) to see exactly where it dies?
Comment by Lorenz on 2012-11-08:
relevant tutorial for running nodes in gdb
Comment by randaz on 2012-11-08:
I got the following output:
Program received signal SIGSEGV, Segmentation fault.
0xb7a2ee6d in alloc_int_array (n=1080, def=-1)
at /opt/ros/fuerte/stacks/scan_tools/csm/build/csm-git/sm/csm/laser_data.c:29
29                      v[i] = def;

maybe a memory leak?
Comment by randaz on 2012-11-08:
confirmed memory leak (I see the consumed ram constantly increasing, >1Gb in few minutes)
Comment by randaz on 2012-11-17:
Any updates from the developers about this issue? Should I submit a ticket on github? Thank you

A:

Confirmed memory leak (introduced in a recent commit). Just fixed it.

Originally posted by Ivan Dryanovski with karma: 4954 on 2012-12-03
This answer was ACCEPTED on the original site
Post score: 2


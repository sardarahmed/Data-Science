Q:

circular dependency

Hi,
I have created a package and when I put the command line rosmake, I get this result. Where can I find this broken dependency?
[rospack] woah! expanding the dependency tree made it blow up.
 There must be a circular dependency somewhere.
[rospack] circular dependency

CMake Error at /opt/ros/electric/ros/core/rosbuild/public.cmake:125 (message):
  

  Failed to invoke rospack to get compile flags for package 'testing'.  Look
  above for errors from rospack itself.  Aborting.  Please fix the broken
  dependency!

Call Stack (most recent call first):
  /opt/ros/electric/ros/core/rosbuild/public.cmake:202 (rosbuild_invoke_rospack)
  CMakeLists.txt:12 (rosbuild_init)

-- Configuring incomplete, errors occurred!
make: *** [all] Error 1

Originally posted by Penny on ROS Answers with karma: 41 on 2012-01-12
Post score: 0

A:

As dornhege said, you most likely created at least two packages, and made them depend on eachother. Lets say you created packageA and packageB and made packageA depend on packageB and vice versa. What ros will try to do when you build packageA is first build all the depending packages of packageA, which includes packageB, so it builds packageB. To build packageB, it first builds all its dependencies, which includes packageA, so it wants to build packageA and at this point we are where we started again. This is what is called circular dependency.
Hope it helped.

Originally posted by Hansg91 with karma: 1909 on 2012-01-12
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by tfoote on 2012-04-09:
Fix ticketed: https://code.ros.org/trac/ros/ticket/3919
In the meantime, you can do something like
rospack deps-indent my_package > foo
Ctrl-C it after a bit, then look at the file to try to figure out where things go off the rails.


Q:

Which is better: adding a new object to the planning_scene_diff or publishing it on a topic?

Hi All,
For adding an object to the planning scene, which is better, in which case?
(a) adding it to the planning_scene_diff (see this tutorial)
or
(b) publishing it on an arm_navigation_msgs::CollisionObject topic (see this tutorial)
So far, I notice some facts below, please CMIIW:
(a.1) Adding objects to the planning scene does not change the current state of the world, therefore we have to always include them with our next diff in order to make them in the planning scene.
(b.1) We have to make an rviz plugin to visualize objects published in arm_navigation_msgs::CollisionObject topic.
How do you usually do for that use case?
Thanks in advance.
PS: I am using Fuerte, Oneiric Ocelot 64-bit)

Originally posted by tor on ROS Answers with karma: 277 on 2012-06-04
Post score: 4

A:

The rule of thumb I'd use is if the object really exists and you'd like to include it in a number of subsequent queries then add it to the world using the collision_object topic.  In reference to b.1., the planning_scene_validity_server should be broadcasting the latest planning_scene_information on a marker topic - the next time you start up the system try adding a marker topic and look for the one that involves "planning_scene".

Originally posted by egiljones with karma: 2031 on 2012-06-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tor on 2012-06-06:
Thanks Gil. Btw, pertaining to b.1., we have to call a service that gets the planning scene after publishing a new object, don't we? I think the tutorial misses (noticing) that step. Am I right?
Comment by yangyangcv on 2012-10-30:
to tor: yes. we need to call the set_planning_scene_diff service to make the collision object visible.


Q:

laser_scan_assembler outputs no data

Hi forum, this has been driving me mad for a couple of days, can anyone help?
I'm running ROS Indigo on Xubuntu 14.04 with a Hokuyo lidar on a remote machine.   On my base machine I can see the /scan topic and get read data off it using
rostopic echo /scan
the output shows the data is in the "laser" frame.
I am trying to assemble scans using the laser_scan_assembler as in the tutorial, currently with this launch,
And I broadcast tf's so that
rosrun tf tf_echo laser map
gives
At time 1429639619.311

Translation: [-0.050, 1.000, -0.250]
Rotation: in Quaternion [0.000, 0.000, 0.000, 1.000]
in RPY [0.000, -0.000, 0.000]

However when I examine the assembler output there's no data,
rosservice call assemble_scans 0 10
cloud:
header:
seq: 0
stamp:
secs: 0
nsecs: 10
frame_id: map
points: []
channels: []
I can't find any further info on this, and the tutorial doesn't give a full example, so could anyone help?    I'm running here on a live robot, but have had similar problems running from a bag.

Originally posted by charles.fox on ROS Answers with karma: 120 on 2015-04-21
Post score: 0

A:

Answering my own question for future reference:
Problem was due to syntax of the "rosservice call assemble_scans 0 10".   The two arguments should instead be the starttime and endtime of the requested scans in NANOSECONDS of ROS TIME, not seconds since sim start.    It was useful to run the test scripts in https://github.com/ros-perception/laser_assembler/tree/hydro-devel/test to reach this -- maybe would useful to mention the nanosecond convention on the laser_assemble tutorial wiki to clarify?

Originally posted by charles.fox with karma: 120 on 2015-04-21
This answer was ACCEPTED on the original site
Post score: 0


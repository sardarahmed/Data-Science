Q:

Problem with robotino_node (state_publisher & URDF)

Hi.
So I use the openrobotino catkin package and if I do:
roslaunch robotino_node robotino_node.launch hostname:=172.26.1.1
I get:
... logging to /home/robotino/.ros/log/14d5aee0-0b63-11e4-a7b5-001377acf23d/roslaunch-tracking-R560-3803.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server [deleted because I can't publish links]

SUMMARY
========

PARAMETERS
 * /robot_description
 * /robot_state_publisher/publish_frequency
 * /robotino_camera_node/cameraNumber
 * /robotino_camera_node/hostname
 * /robotino_laserrangefinder_node/hostname
 * /robotino_laserrangefinder_node/laserRangeFinderNumber
 * /robotino_mapping_node/hostname
 * /robotino_node/downsample_kinect
 * /robotino_node/hostname
 * /robotino_node/leaf_size_kinect
 * /robotino_node/max_angular_vel
 * /robotino_node/max_linear_vel
 * /robotino_node/min_angular_vel
 * /robotino_node/min_linear_vel
 * /robotino_odometry_node/hostname
 * /rosdistro
 * /rosversion

NODES
  /
    robot_state_publisher (robot_state_publisher/state_publisher)
    robotino_camera_node (robotino_node/robotino_camera_node)
    robotino_laserrangefinder_node (robotino_node/robotino_laserrangefinder_node)
    robotino_mapping_node (robotino_node/robotino_mapping_node)
    robotino_node (robotino_node/robotino_node)
    robotino_odometry_node (robotino_node/robotino_odometry_node)

ROS_MASTER_URI=[link with localhost:11311]

core service [/rosout] found
process[robotino_node-1]: started with pid [3821]
process[robotino_odometry_node-2]: started with pid [3822]
process[robotino_laserrangefinder_node-3]: started with pid [3823]
process[robotino_camera_node-4]: started with pid [3824]
process[robot_state_publisher-5]: started with pid [3825]
process[robotino_mapping_node-6]: started with pid [3826]
[ INFO] [1405348121.106758117]: LaserRangeFinder0 connected to Robotino.
[ INFO] [1405348121.108033560]: Odometry connected to Robotino.
[ INFO] [1405348121.111381965]: Mapping connected to Robotino.
/opt/ros/hydro/lib/robot_state_publisher/state_publisher
[ WARN] [1405348121.446816650]: The 'state_publisher' executable is deprecated. Please use 'robot_state_publisher' instead
[ WARN] [1405348121.510280519]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
[ INFO] [1405348123.615750085]: Camera0 connected to Robotino.
[ INFO] [1405348123.663682500]: RobotinoNode connected to Robotino.

Now I have looked in the launch file:
<launch>
  <arg name="hostname" default="172.26.1.1" />
  
    <node name="robotino_node" pkg="robotino_node" type="robotino_node" output="screen">
        <param name="hostname" value="$(arg hostname)" />
        <param name="max_linear_vel" value="0.5" />
        <param name="min_linear_vel" value="0.05" />
        <param name="max_angular_vel" value="3.0" />
        <param name="min_angular_vel" value="0.1" />
<!--        <param name="downsample_kinect" value="true" />
        <param name="leaf_size_kinect" value="0.04" />  entfernt da KinectNode nicht aktualisiert-->
        <remap from="robotino_joint_states" to="joint_states" />
        <!--remap from="image_raw" to="image"/-->
    </node>

<!--
  <node name="robotino_odometry_node" pkg="robotino_node" type="robotino_odometry_node" output="screen">
    <param name="hostname" value="$(arg hostname)" />
  </node>
-->
<!--
  <node name="robotino_laserrangefinder_node" pkg="robotino_node" type="robotino_laserrangefinder_node" output="screen">
    <param name="hostname" value="$(arg hostname)" />
    <param name="laserRangeFinderNumber" value="0" />
  </node>
-->

<!--
  <node name="robotino_camera_node" pkg="robotino_node" type="robotino_camera_node" output="screen">
    <param name="hostname" value="$(arg hostname)" />
    <param name="cameraNumber" value="0" />
  </node>
-->
    
    <node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher" output="screen">
        <param name="publish_frequency" type="double" value="20.0" />
      </node>
      
<!--
  <node name="robotino_mapping_node" pkg="robotino_node" type="robotino_mapping_node" output="screen">
    <param name="hostname" value="$(arg hostname)" />
  </node>

-->

    <!--node pkg="tf" type="static_transform_publisher" name="laser_link_broadcaster" args="0.12 0 0.025 0 0 0 base_link laser_link 50" /-->
      
      <param name="robot_description" textfile="$(find robotino_description)/urdf/robotino.urdf" />
</launch>

The robot_state_publisher is already used, so why the warning about the deprecated state_publisher?
I have already changed the URDF in the Catkin Workspace before, when I used a joystick to drive the Robotino around (and it worked, but I can't post how it looks now because I haven't sufficient karma to publish links and it contains links).
I don't know how to change the URDF (belonging to the API2?), I can't even find it.
I already asked the question in the openrobotino forum (without success so far), but I hope you can help me. Thanks.

Originally posted by BenediktHeck on ROS Answers with karma: 151 on 2014-07-15
Post score: 2

A:

The issue was resolved, turns out there was another robotino_node package on the path that was resolved first, and this incorrect robotino_node package had an incorrect launch file. Take away lesson: always check the ROS_PACKAGE_PATH.

Originally posted by jensenb with karma: 316 on 2014-07-17
This answer was ACCEPTED on the original site
Post score: 1


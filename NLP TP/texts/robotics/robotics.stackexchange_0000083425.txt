Q:

getParam question

I seem to be unable to gain access to params passed to node....I want to read them from a callback.
 <node name="xxxx" pkg="xxxx" type="RGBD" clear_params="true" output="screen">
    <remap from="/camera/rgb/image_raw"              to="$(arg bag_image_topic)"/>  
    <remap from="/camera/depth_registered/image_raw" to="$(arg bag_depth_topic)"/> 
    <param name="base_frame"    value="$(arg pose_base_frame)"/>
    <param name="camera_frame"  value="$(arg bag_camera_frame)"/>                       
</node>

in the code I have in my call back which is inside a c++ ros node.
std::string camera_frame = "notgiven";
std::string base_frame   = "notgiven";
ros::param::get("base_frame",  camera_frame);
ros::param::get("camera_frame", base_frame);  

The variables are always set to "notgiven" .... How do I get access ?

Originally posted by rnunziata on ROS Answers with karma: 713 on 2017-10-19
Post score: 0

Original comments
Comment by BhanuKiran.Chaluvadi on 2017-10-19:
ros::param::get("xxxx/base_frame",  camera_frame);
ros::param::get("xxxx/camera_frame", base_frame);
Comment by jarvisschultz on 2017-10-19:
That would work, but it isn't all that robust. If the node name changes, the parameter names will change also and the code would have to be changed or the parameter names would have to be remapped.
Comment by jarvisschultz on 2017-10-19:
Accessing as a private parameter will automatically resolve to the right node name.

A:

Since you are placing the parameters inside of the node tag in your launch file, they are set to be "private parameters". All this really means is that the node's name is appended to the front of the globally resolved parameter name. So in this case (I can't see you whole launch file, so I'm guessing a bit), the global name for one of the params would be /xxxx/base_frame). When retrieving that parameter from the parameter server, you'd want to either use ros::param::get("~base_frame",  camera_frame); (notice the tilde) or a private ros::NodeHandle.
Read more on the roscpp Accessing Private Parameters page or the Names page

Originally posted by jarvisschultz with karma: 9031 on 2017-10-19
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by rnunziata on 2017-10-19:
that worked....thank you


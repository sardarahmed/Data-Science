Q:

how to improve maps from octomap?

Hi ,
I am trying to build quality maps by using octomap on ROS hydro using a xtion pro live sensor mounted on the robot.
The map generated by octomap do not update well, when visiting the same area and corrupts the map.  . I am using gmapping for SLAM with a Hokuyo sensor. The 2d grid map builds up nicely and updates but the octomap overlays the map and do no update.
I am doing this on a p3dx pioneer robot. My octomap_mapping.launch file looks like this
<launch>
<node pkg="octomap_server" type="octomap_server_node" name="octomap_server">
    <param name="resolution" value="0.05" />
    
    <!-- fixed map frame (set to 'map' if SLAM or localization running!) -->
    <param name="frame_id" type="string" value="odom" />
    
    <!-- maximum range to integrate (speedup!) -->
    <param name="sensor_model/max_range" value="5.0" />
    
            
    <!-- data source to integrate (PointCloud2) -->
    <remap from="cloud_in" to="/camera/depth_registered/points" />

</node>

Can someone help me  and suggest ideas as to how I can improve the maps generated by octomap.
Thanks
Alex

Originally posted by AlexR on ROS Answers with karma: 654 on 2015-02-20
Post score: 2

A:

According to your config in the launch file, you are mapping in the odom frame, so you only use odometry. Accumulated error will cause a drift in the position estimate. So errors when re-visiting known areas are to be expected.
As mentioned in the comment above that line in the launch file, you need to switch to mapping in your actual map frame when using a localization source or SLAM.

Originally posted by AHornung with karma: 5904 on 2015-02-21
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by AlexR on 2015-02-21:
I see changing the frame id from odom to map solved the problem. Thanks a lot.


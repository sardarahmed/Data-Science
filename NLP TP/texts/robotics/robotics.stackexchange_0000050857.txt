Q:

Setting the scan_subscriber_queue_size

Hi, I'm trying to set a good scan_subscriber_queue_size for my hector_mapping node. According to the wiki:

~scan_subscriber_queue_size (int,
default: 5) The queue size of the scan
subscriber. This should be set to high
values (for example 50) if logfiles
are played back to hector_mapping at
faster than realtime speeds.

I'm not sure what logfiles being played back means; my node just take in scans from hokuyo_node, so is it ok to leave the default value of 5?
Thanks,
Ernest

Originally posted by Ernest on ROS Answers with karma: 341 on 2013-05-03
Post score: 0

A:

Incoming messages are buffered in a queue of the size you can specify via the scan_subscriber_queue_size parameter. The smaller your queue size is, the earlier a message might be processed in a callback (as there are potentially less other messages in the queue that have to be processed before). On the other hand, if callbacks take longer than the time between incoming messages on average, the queue will fill up and messages will eventually be dropped. In that case, there will also be some delay between a message entering the queue and it finally being processed.
We noted that increasing the queue size helps when playing back bagfiles at faster than real-time speeds. If a callback takes longer than normal in that scenario, it can quickly happen that some scan messages are dropped. In normal operation (e.g. using the hokuyo_node directly) the queue size shouldn't have to be increased however.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2013-05-03
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Ernest on 2013-05-03:
OK - thank you Stefan!


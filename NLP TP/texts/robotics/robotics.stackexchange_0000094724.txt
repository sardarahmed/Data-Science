Q:

Configuring the progress checker in Navigation2

Hi.
I am testing out how to dynamically change my speed parameters in Navigation2. It works good, but if I set the speed too low, the navigation fails because the controller server "fails to make progress".
In this documentation: https://navigation.ros.org/configuration/configuring-the-controller.html
the parameter movement_time_allowance is mentioned. The description is:

Controls how much time the robot has time to show progress. If the robot fails to move more than required_movement_radius meters in this time, an error is thrown. For slow robots, this time should be extended. Reducing this time will cause the robot to recover more quickly if it is stuck, but too little time doesnâ€™t give the robot enough time to manoeuver in dynamic environments.

I want to change this parameter but I can't seem to find the correct place to do it (without directly changing the code).
When I look at the param list in the terminal it is not mentioned any place, and if I try to change it from the terminal, it says that the parameter is not declared.
The parameter is used in this code: https://github.com/ros-planning/navigation2/blob/master/nav2_controller/src/progress_checker.cpp
Does anyone know how I could access and change this parameter?
Thanks!

Originally posted by ninamwa on ROS Answers with karma: 81 on 2020-02-13
Post score: 0

A:

That's a bug in the progress checker. Sorry about that. There is no workaround other than changing the source code like you  described.
There is a fix for this bug here https://github.com/ros-planning/navigation2/pull/1526
Note that the fix does not make the parameter dynamic yet. It is only read once when the node is started. Please let me know if you need to tweak this parameter at runtime as well.

Originally posted by Carl D with karma: 303 on 2020-02-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ninamwa on 2020-02-17:
Thank you very much! I do not think it will be necessary for me to change it during runtime, but I will let you know if the need appears :-)


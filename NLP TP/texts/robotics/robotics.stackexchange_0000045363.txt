Q:

listing parameters or using a dictionary

In C++, is there a way to list parameters on the parameter server, optionally those in a particular namespace? Alternatively, can I use a dictionary/map?
I want to put a mapping name/number in a yaml file loaded by roslaunch, and my node should be able to list the names and retrieve the associated number. rosparam list can do that, and associated with grep I can retrieve only the parameters I want. can I do that in C++ directly. the parameter server c++ API does not seem to provide that, or is it hidden? Can it be added in future releases?
I tried using a dictionary but it was expended in a list of parameters instead of being a dictionary data structure, i.e. those 2 yaml files yielded the same result
channel_numbers: {applanix: 0, radar: 1, trimble: 5, velodyne: 10}

and
channel_numbers:
  applanix: 0
  radar: 1
  trimble: 5
  velodyne: 10

I would like something like:
ros::NodeHandle nh("~");
vector<string> parameters = nh.list_parameters("channel_numbers");
// and then for each parameter in parameters get its value...

Originally posted by brice rebsamen on ROS Answers with karma: 1001 on 2012-10-30
Post score: 4

A:

The functionality is there by using XmlRpcValue versions of the getParam functions.
An example of how to get a list is available: http://www.ros.org/wiki/roscpp/Overview/Parameter%20Server#Retrieving_Lists.
If you need more, i.e. dictionaries then refer to the  XmlRpcValue docs.
TypeStruct is a dictionary. There is hidden functionality that the official docs do not list and afaik was added to ROS. For a dictionary there are begin() and end() functions that allow to iterate over the dict entries. You can find an example here: http://code.google.com/p/alufr-ros-pkg/source/browse/trunk/freiburg_tools/rxparamedit/src/xmlRpcTreeItem.cpp#180

Originally posted by dornhege with karma: 31395 on 2012-10-31
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by gustavogoretkin on 2015-04-30:
The links end with a period accidentally. I don't have enough rep to edit.
Comment by Dirk Thomas on 2015-04-30:
I removed the dot.
Comment by smihael on 2015-08-18:
Thank you so much for sharing the example from alufr-ros package ;)
Comment by blakejwc on 2018-04-17:
Is there an updated link to the example.  I couldn't find the TypeStruct example on the google code archive.  I'm trying to print the params used by a given node.


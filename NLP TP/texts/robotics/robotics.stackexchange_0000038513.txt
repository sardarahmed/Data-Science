Q:

Problems while visualizing rosbag laserScans on Rviz

A brief summarize of the settings under ROS electric on ubuntu:
We are running a rosbag file on loop mode and while trying to visualize the data on Rviz, it disappears at the beginning of each loop.
We have recorded all the tf frames, odometry and laserScan topics on the rosbag file. Using the rostopic echo tool, we have checked that data was being published all the time, but we can't visualize anything during the first 10 seconds or so of each loop. After a certain amount of time, it seems like everything runs fine again, but we have no idea what might be wrong, any idea?
EDITED: well, I guess there are some problems on the tf, as the laser scans are showed as usual if I fix the frame to the laser frame, but happens as described above if the fixed frame is any other (ie: base link).
on response to the first answer, the behavior is the same playing the rosbag either on loop or  normal mode.

Originally posted by Gonzalo on ROS Answers with karma: 46 on 2012-03-07
Post score: 1

Original comments
Comment by dornhege on 2012-03-07:
Does the error still happen if you restart rviz and the log file? Maybe the tf buffers just need to fill. If you set the frame to laser frame there is no need for tf, which is why that works.
Comment by Gonzalo on 2012-03-07:
yes, the error repeats systematically on several rosbags recorded this morning, as well as real-time visualization. Right now I'm using tf_monitor to check that everything is well connected...

A:

Ok, at the end it was a sync problem... we were publishing tf's from two different machines and there was a 10 seconds delay between them, which I guess is not good at all.
Once synchronized, the rviz shows data correctly, although I am afraid I can move to trash the old rosbags
Thank you!

Originally posted by Gonzalo with karma: 46 on 2012-03-07
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Stefan Kohlbrecher on 2012-03-07:
Depending on how good synchronization has to be and how much effort it is to generate a new dataset, you could try changing the timestamps in one bag file to match the others using the rosbag API (see http://www.ros.org/wiki/rosbag/Code%20API)


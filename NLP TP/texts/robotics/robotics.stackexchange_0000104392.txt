Q:

Setting frame of IMU message in Gazebo Fortress

I am trying to setup a robot in Gazebo Fortress, under ROS2 Humble in Ubuntu 22.04.
This robot has 6 wheels, a lidar and an IMU. I have setup the xacro files and I am able to spawn the robot into Gazebo and get laser and IMU readings.
However, the frame of the IMU messages is not correct. This is my IMU gazebo code in its corresponding xacro file:
    <gazebo reference="${prefix}_${imu_name}">
        <material>Gazebo/Black</material>
        <gravity>true</gravity>
        <sensor name="${prefix}_imu_sensor" type="imu">
            <always_on>true</always_on>
            <update_rate>25</update_rate>
            <visualize>false</visualize>
            <topic>${prefix}/imu</topic>
            <plugin filename="libignition-gazebo-imu-system.so" name="ignition::gazebo::systems::Imu">
            </plugin>
            <pose>0 0 0 0 0 0</pose>
        </sensor>
    </gazebo>

I have tried to add frameID to the plugin parameters, as I did in Gazebo Classic, but it didn't work. My questions are:

How to change the frame published in the messages?
What parameters are available for the IMU plugin? Is there any documentation or where can I read the source code?

Thank you!

A:

From the source code it appears you can use the tag gz_frame_id or the older ignition_frame_id (deprecated) as a child of the sensor tag.
The relevant source code is here.


Q:

set-up for real-time control in ROS

Hello,
I am new to real-time control in ROS. When I looked up it in this wiki, integrating ROS and OROCOS and using Xenomai seems to be a good solution for it. I don't have a high level understanding of the advantage of using them. If you could share your insight into it with me, I would really appreciate it.
I can enumerate several possible set-ups for real-time control in ROS although some of these may not make sense.

ROS on Ubuntu
ROS on Xenomai patched Ubuntu
ROS+OROCOS on Ubuntu
ROS+OROCOS on Xenomai patched Ubuntu

We may scarcely be able to expect any good real-time performance on (1). How/why bad is it?
Would be there any improvement in using (2) over (1)?
How would (3) be different to (4) in real-time performance?
Do you have any other recommended set-up?
Dose it need to be broken down into some subdivided set-ups?
Thank you very much in advance.

Originally posted by dj on ROS Answers with karma: 1 on 2013-04-19
Post score: 4

A:

You can only get good realtime performance with option 4. The OROCOS RTT toolkit provides realtime behaviour but only on a kernel with a realtime extension. The other options can also give good performance but it will vary a lot.
See also this: http://answers.ros.org/question/9500/what-realtime-patch-should-i-use-with-ros/
A good example is how the realtime controllers of the PR2 work. ROS runs non realtime while the controller manager (which uses the RRT toolkit I think) is realtime.
image description http://pr2support.willowgarage.com/wiki/PR2%20Manual/Chapter7?action=AttachFile&do=get&target=mechanism_control.png
From:http://pr2support.willowgarage.com/wiki/PR2%20Manual/Chapter7#Realtime_Loop

Originally posted by davinci with karma: 2573 on 2013-04-19
This answer was ACCEPTED on the original site
Post score: 7

Original comments
Comment by dj on 2013-04-19:
Thank you very much for your answer. I'd also like to know the advantage of using OROCOS. If both a ROS node and a OROCOS component can be real-time priority threads, what makes OROCOS on Xenomai better perform than ROS on Xenomai?
Comment by Thomas D on 2013-04-19:
http://engineering.oregonstate.edu/mailman/archives/public/ethercat-ros/ -- That mailing list has a lot of discussion about using ROS in a real-time system.


Q:

ImportError: No module named rospkg

Hello All,
After installing ROS on my Ubuntu, I was trying to follow the tutorials under the simulator_gazebo. But I have gotten an error message for this command:
rosrun gazebo spawn_model -file `pwd`/object.urdf -urdf -z 1 -model my_object

Error message:
ImportError: No module named rospkg

Could it be from the installation? I think everything went well during the installation.
Any thoughts?
Thanks,

Originally posted by Zara on ROS Answers with karma: 99 on 2012-07-24
Post score: 7

Original comments
Comment by Lorenz on 2012-07-24:
Did you install Electric or Fuerte?
Comment by Zara on 2012-07-24:
I followed instruction through this link http://www.ros.org/wiki/fuerte/Installation/Ubuntu. I guess it is Fuerte.
Comment by Zara on 2012-07-26:
I am posting the entire message. Also version of python on my system is 2.7.1.
Any help?

rosrun gazebo spawn_model
Traceback (most recent call last):
File "/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/spawn_model", line 7, in 
import roslib, time
File "/opt/ros/fuerte/lib/python2.7/dist-packages/roslib/init.py", line 50, in 
from roslib.launcher import load_manifest
File "/opt/ros/fuerte/lib/python2.7/dist-packages/roslib/launcher.py", line 42, in 
import rospkg
ImportError: No module named rospkg

Comment by pjusesros on 2020-06-03:
This can also happen if you are running the file with the wrong python interpreter. This might be the first thing you notice as import rospy is often the first import in a file. Not the problem here but this may be useful for others looking later
Comment by KearaB on 2020-06-17:
This should go as an edit to your original question.
Comment by minhaj on 2021-04-05:
thanks pjusesros. i forgot that i had set pyenv global python to be python3.8
after changing it to system python version everything worked fine. thanks for saving me from what otherwise was going to be a nightmare.

A:

The accepted answer (as of Feb 2017) is outdated.
Unless you need to customize, using binary is strongly recommended IMO. See the instruction on ros wiki for how to install.

UPDATE 2019-02-02: Looks like this is still a popular question. apt worked for 18.04 for me on a docker container that I just pulled from online.
$ docker pull ros:melodic-ros-core
melodic-ros-core: Pulling from library/ros
Digest: sha256:206a3a506cda320b525ef2cf2587726ee01451f470be4dfdd80cd20693840f27
Status: Image is up to date for ros:melodic-ros-core
$ docker run -it ros:melodic-ros-core /bin/bash

# apt-get purge python-rospkg && apt-get update && apt-get install -y ipython python-rospkg
:
Unpacking python-rospkg (1.1.7-100) ...
Setting up python-rospkg (1.1.7-100) ...

root@4a5281183177:/# ipython
:
In [1]: import rospkg
In [2]: rp = rospkg.RosPack()
In [3]:

Originally posted by 130s with karma: 10937 on 2017-03-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2017-03-01:
I've just made your answer the accepted one. Could you expand your answer with how users are expected to install binaries of rospkg?
Comment by VictorLamoine on 2018-07-31:
Even with rospkg installed I still have the issue on Kubntu 18.04. Changing the PYTHONPATH variable solves the issue.
Comment by gvdhoorn on 2018-07-31:
If you've installed everything from binaries and are using the system, default Python 2 installation, everything should-just-work. If it doesn't, and you have to change PYTHONPATH, something is wrong and you should resolve it.
@130s answer is correct, and I don't think the downvote is justified.
Comment by 130s on 2018-07-31:
@VictorLamoine I second to @gvdhoorn. Although I'm not sure how similar/same kubuntu is to any OSes ROS supports, any issues for the released binary must be fixed w/o adhoc workaround IMO. Maybe file at ros-infrastructure/rospkg.
Comment by naveenk.medi on 2018-09-05:
Even after installing via apt-get I am getting the same error. $ which python produces
 /home/userName/anaconda3/bin/python .
Comment by 130s on 2018-09-08:
@naveenk.medi  Please open a new question with more detail.
Comment by fvd on 2019-01-31:
apt-get did not work for me on Ubuntu 18.04, pip install did. I think this answer would benefit from copy-pasting the instructions here, too.


Q:

IMU convention for robot_localization

Hi all,
I am trying to use one IMU in robot_localization. I am confusing with IMU convention.The symbol in my IMU is as shown in the following figure.

Can I assume that IMU is in ENU format if I make the IMU X direction as the forward direction of the robot?
If my robot is stationary in the flat surface, what should be my linear acceleration value in z direction ? -9.8 or +9.8?
Best Regards
Min Latt

Originally posted by MIN LATT on ROS Answers with karma: 51 on 2017-08-17
Post score: 2

A:

ENU means that the reference frame with respect to which the IMU's orientation is reported is oriented X=East, Y=North, Z=Up. So when the linear acceleration value reads (0, 0, +9.8), i.e. "z is up", and the magnetometer reads (0, +, *) (i.e., "north is east", the orientation reported by the IMU should be neutral (roll/pitch/yaw all 0, quaternion = (0, 0, 0, 1)).
If you don't use a magnetometer, just ignore that part.
If your IMU doesn't provide an orientation, you'll have to use a package like imu_filter_madgwick with the parameter use_enu = true.
Edit to clarify magnetometer readings: Let's say the IMU uses an ENU reference frame and is in the neutral orientation, i.e. the IMU's x axis points east, y=north, z=up. Then the magnetometer should read (0.0, 0.00005, -0.00005), or short (0, +, -). In other words, the earth magnetic field points north (+ towards the y axis) and down (- on the z axis). In the southern hemisphere, it's (0, +, +), i.e. the magnetic field points north and up. That's why I wrote (0, +, *) above: the magnetometer should read 0 on the x axis and positive on the y axis, don't care about the z axis.
That said, just ignore the magnetometer at first. The robot_localization package works fine without it, and magnetometers are mostly useless on indoor robots anyway.

Originally posted by Martin Günther with karma: 11816 on 2017-08-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by MIN LATT on 2017-08-23:
Hi ,
Thanks for  your answer although I am still learning how to interpret the magnetometer reading.
Best Regards
Min Latt
Comment by Martin Günther on 2017-08-23:
I've updated my answer!
Comment by MIN LATT on 2017-08-23:
Hi,
Thanks a lot for your clear explanation. Based on your explanation, my understanding is that I need to align IMU x-axis to the east direction of the compass. Although it can be done using compass, is it really necessary? Because i am afraid that there will be some error margin if I align it
Comment by Martin Günther on 2017-08-23:
I'm not sure what you want to do. Do you want to find out whether your IMU follows the ENU convention? Or where the axes are? If so, rotate your IMU until it reports a neutral orientation (i.e., quaternion is 0,0,0,1) and look at the magnetometer topic.
Comment by MIN LATT on 2017-08-23:
Hi, I am very sorry for making you confuse. I think I need to ask different question. Thanks a lot for your explanation.


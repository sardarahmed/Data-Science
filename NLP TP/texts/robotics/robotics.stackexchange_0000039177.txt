Q:

Modifying MainActivity.java does not result in new apk?

I'm working on android_tutorial_pubsub.  When I modify MainActivity.java, it does not seem to build a new MainActivity-debug.apk.  I added log messages to MainActivity.java;  Then I did the standard build command (../gradlew debug), uninstalled the old app and then installed the apk file.  But the log messages weren't appearing in logcat.  Then I noticed that the time stamp on the apk file wasn't changing.  When I did a clean and rebuild (debug), my messages appeared in logcat.  If I don't do a clean, building doesn't seem to update the apk file.  Any ideas what's going on?
Thanks!

Originally posted by amigo on ROS Answers with karma: 93 on 2012-03-30
Post score: 1

Original comments
Comment by damonkohler on 2012-04-03:
How are you building your project? Eclipse? Ant? Something else?
Comment by damonkohler on 2012-04-03:
How are you building your project? Eclipse? Ant? Something else?
Comment by jbohren on 2012-04-04:
I saw the same behavior. This seems to happen when building with gradle or gradlew.
Comment by amigo on 2012-04-04:
As jbohren mentioned, I was building with gradlew at the command-line.

A:

I do not have a good explanation for this. However, rosjava does not modify the build.xml generated by the Android SDK. You can interact with the project using ant exactly as described here: http://developer.android.com/guide/developing/building/building-cmdline.html
I suspect this is a bug in the Android SDK: http://stackoverflow.com/questions/8634359/ant-not-rebuilding-android-application-with-ant-debug-install
However, do not downgrade as rosjava requires bug fixes in r17.

Originally posted by damonkohler with karma: 3838 on 2012-04-05
This answer was ACCEPTED on the original site
Post score: 0


Q:

sensor_msgs/Image data value is a string?

I've written a node in python to read a binary image (of type sensor_msgs/Image) being published on a topic. I got confused when trying to access the data in the callback.
print img

produces
header: 
  seq: 35232
  stamp: 
    secs: 0
    nsecs: 0
  frame_id: ''
height: 40
width: 127
encoding: 8UC3
is_bigendian: 0
step: 381
data: [0, 0, 0, 0, ...]

I shortened the data array with an ellipsis.
What's weird are the types of the data.
print type(img.data), type(img.data[0])

produces
<type 'str'> <type 'str'>

When I try to display the data with "print img.data" I get a bunch of junk characters. When I try to index into the first element, I get an empty string.
This confuses me because the description of the topic type Image specifies that the img.data field is an array of bytes. Why am I seeing a string here?

Originally posted by robzz on ROS Answers with karma: 328 on 2013-04-02
Post score: 2

A:

According to the msg documentation, rospy automatically interprets byte arrays (uint8[]) as strings.
See this cv_bridge tutorial for an example of how to convert image data from a ROS message (byte array) to a "real" IplImage for further processing.

Originally posted by Jeremy Zoss with karma: 4976 on 2013-04-02
This answer was ACCEPTED on the original site
Post score: 1


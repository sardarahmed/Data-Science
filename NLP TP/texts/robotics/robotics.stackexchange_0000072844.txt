Q:

Integrating ROS packages through PLC motor drivers

I have a robot that is already programmed with PLC beckhoff through twinCAT to give commands to the motors to move at a certain speed and direction. I want to control my robot through ROS to do more interesting things like navigation, SLAM ... but i want to keep the PLC as a driver for the motors used and use the same old code to drive the motors with the same logic. Is there a way to integrate between ROS and PLC in such a way for example sending velocity commands (/cmd_vel) and the PLC drives the motors to the desired goal? Thank you in advance

Originally posted by wassimhariri on ROS Answers with karma: 70 on 2016-03-17
Post score: 0

Original comments
Comment by Balaji on 2016-04-06:
I am using Beckhoff PLC. How can i interface and program it. I have support for downloading.
Comment by sonyccd on 2016-04-06:
See my answer above I added link to my driver

A:

Yes amusing you can use modbus. I am doing the same thing myself.  I am almost done with a modbus driver for ros that runs over serial and Ethernet.  You can simply have ROS read a register and write to one to set the velocity.  I am using the Precision 2000 PLC from automation direct and have gotten a refresh rate of 20 registers at around 50Hz over Ethernet.  Look out on my github in the next few weeks for me to publish it.
https://github.com/sonyccd
Update:
I finished the PLC driver you can download it from here.
https://github.com/sonyccd/ros_plc_modbus

Originally posted by sonyccd with karma: 58 on 2016-03-21
This answer was ACCEPTED on the original site
Post score: 1


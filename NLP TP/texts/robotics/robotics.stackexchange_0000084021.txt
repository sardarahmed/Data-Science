Q:

How to connect to UR Sim from ROS?

I have the UR Sim 3.4.5-100 for simulating the Universal Robots on my computer running Ubuntu 14.04. I want to run the simulation from ROS-Industrial (Indigo) universal_robot package. I noticed that for UR version 3.x we need to use the ur_mordern_driver package. However, the tutorial on  link:[http://wiki.ros.org/universal_robot/Tutorials/Getting%20Started%20with%20a%20Universal%20Robot%20and%20ROS-Industrial]  does not tell on how to connect to a simulated Universal Robot.

Originally posted by prajval10 on ROS Answers with karma: 92 on 2017-11-22
Post score: 0

A:

There is no difference between connecting to a real or a simulated robot.
Only the IP that you connect to will change: instead of specifying the IP of the robot controller, you specify the IP of the computer running ursim.

Originally posted by gvdhoorn with karma: 86574 on 2017-11-22
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by gvdhoorn on 2017-11-22:
Note btw: I'm not sure whether ur_modern_driver is compatible with version 3.4.5-100 systems.
Comment by prajval10 on 2017-11-22:
Thanks!
The command:
roslaunch ur_bringup ur5_bringup.launch robot_ip:=IP_OF_THE_ROBOT [reverse_port:=REVERSE_PORT]

can be used and I just need to specify the IP of the computer running URsim?
Comment by gvdhoorn on 2017-11-22:
No. Not if you want to use ur_modern_driver.
Comment by prajval10 on 2017-11-22:
Alright, Could you please tell me how to set up the URsim to receive commands from ur_driver?
Thanks
Comment by gvdhoorn on 2017-11-22:
I believe there is some confusion here: you stated you wanted to use ur_modern_driver. Now you are asking about ur_driver. Those are two different packages. You cannot use launch files from ur_bringup with ur_modern_driver.
Comment by prajval10 on 2017-11-22:
I'm sorry, I didn't frame my question correctly. I will use the ur_driver as you suggested. I'd like to know how to configure UR Sim to receive commands from ROS.
I believe to run commands from ROS to UR Sim should be:
roslaunch <launch_file> robot_ip: <local_host>
Comment by gvdhoorn on 2017-11-22:
ur_driver is definitely not compatible with 3.4.5-100. See the wiki (Compatibility section).
You'll have to use ur_modern_driver, but even there I'm not sure it's compatible already with 3.4.5-100.
If you can, try an older version of ursim.
Comment by gvdhoorn on 2017-11-22:\

I'd like to know how to configure UR Sim to receive commands from ROS

There is no configuration, everything is taken care of by the driver.

I believe to run commands from ROS to UR Sim should be: roslaunch <launch_file> robot_ip: <local_host>

yes, that's about it.
Comment by prajval10 on 2017-11-23:
Perfect, Thanks a lot!
Comment by arunavanag on 2017-12-04:
I got the 3.4.5-100 working with the ur_modern_driver.
Comment by prajval10 on 2018-03-02:
Hi @gvdhoorn  and @arunavanag, how did you configure the network connection on UR-Sim. I'm using UR-sim 3.1.18024 with ur_modern_driver. It says on the Universal robot website: "Furthermore touch screen set-up and network set-up from within the GUI won't work. Its able to communicate via TCP/IP"
Comment by gvdhoorn on 2018-03-02:
There is nothing to configure. ursim opens all its ports on the IP address(es) of the PC that you run it on. You don't configure anything in polyscope.
Comment by arunavanag on 2018-03-02:
Hi, I created a quick guide for ursim for the version i was using. See if it helps: https://github.com/arunavanag591/ursim
Comment by prajval10 on 2018-03-05:
Thanks a lot. It works now, I was making an error entering the IP of the robot.
Comment by gvdhoorn on 2018-03-05:
I'm slightly confused. Was:

instead of specifying the IP of the robot controller, you specify the IP of the computer running ursim.

not clear?
@arunavanag's guide does not seem to deal with networking setup/issues.
Comment by prajval10 on 2018-03-05:
@gvdhoorn, I was involved in other stuff after initially asking this question (in Nov '17), I just got back to working on the UR Sim again now. Yes, it was just the issue of specifying the IP of the computer running ursim.
Thanks once again.
Comment by arunavanag on 2018-03-05:
@gvdhoorn there should be no issue with network and ursim, as it launches as local. Also for ur_modern_driver could be connected just by using ROBOT_IP as localhost. As you said earlier: "There is nothing to configure. ursim opens all its ports on the IP address(es) of the PC that you run it on."
Comment by arunavanag on 2018-03-05:
The only known issues with ursim are the file permissions and java version if multiple java versions are installed.


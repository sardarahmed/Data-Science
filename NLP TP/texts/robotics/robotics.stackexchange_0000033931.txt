Q:

Obstacles persist in costmap even after they move out

I am running hokuyo laser and move_base on a physical robot, and am running rviz to monitor the obstacles. If I introduce an obstacle in front of the robot, costmap_2d sees raw & inflated obstacles, and shows them as coloured cells in rviz. If I move the obstacle away & out of the laser range (say to the left) , the cells corresponding to the obstacle move to the left and stay there (at the left, within the laser range and within the costmap). I would have expected these cells to get cleared of obstacles.
Which parameter am I getting wrong? My costmap_common_params are the same as  here . I can include more data or screenshots as needed.

Originally posted by PKG on ROS Answers with karma: 365 on 2011-08-27
Post score: 1

Original comments
Comment by PKG on 2011-08-29:
It returns max_range readings once obstacles are gone.
Comment by eitan on 2011-08-29:
Does your laser see points behind where the obstacles were previously that it can use to raytrace? Or does your laser return max_range readings for that space once the obstacles are gone?

A:

It could be your "observation_persistence: 2.0" parameter. If you set that value to zero, the costmap will only account for the most recent observation data.
~ Brian

Originally posted by DimitriProsser with karma: 11163 on 2011-08-31
This answer was ACCEPTED on the original site
Post score: 2


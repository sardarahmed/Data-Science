Q:

rviz not launching with MoveIt config launch file

Hello,
System: Virtualbox VM
Linux: Ubuntu 16.04
ROS: Kinetic
I am following the tutorials on using MoveIt with ROS. I have tried 2 tutorials both here and here.
The problem occurs in both tutorials after creating the MoveIt config file and attempting to launch it with roslaunch:
roslaunch myworkcell_moveit_config myworkcell_planning_execution.launch

The Rviz splashscreen shows up with the initialising status but does not progress from this. There is an error about the planner:
[ERROR] [1560344053.702727103]: Could not find the planner configuration 'None' on the param server

It even states in the terminal:

You can start planning now.

I am able to run rviz fine on its own with:
rosrun rviz rviz

The rest of the output in the terminal is as follows:
`
SUMMARY
========

PARAMETERS
 * /joint_state_publisher/source_list: ['move_group/fake...
 * /joint_state_publisher/use_gui: False
 * /move_group/allow_trajectory_execution: True
 * /move_group/capabilities: 
 * /move_group/controller_list: [{'joints': ['joi...
 * /move_group/disable_capabilities: 
 * /move_group/jiggle_fraction: 0.05
 * /move_group/manipulator/default_planner_config: None
 * /move_group/manipulator/longest_valid_segment_fraction: 0.005
 * /move_group/manipulator/planner_configs: ['SBL', 'EST', 'L...
 * /move_group/manipulator/projection_evaluator: joints(joint_a1,j...
 * /move_group/max_range: 5.0
 * /move_group/max_safe_path_cost: 1
 * /move_group/moveit_controller_manager: moveit_fake_contr...
 * /move_group/moveit_manage_controllers: True
 * /move_group/octomap_resolution: 0.025
 * /move_group/planner_configs/BFMT/balanced: 0
 * /move_group/planner_configs/BFMT/cache_cc: 1
 * /move_group/planner_configs/BFMT/extended_fmt: 1
 * /move_group/planner_configs/BFMT/heuristics: 1
 * /move_group/planner_configs/BFMT/nearest_k: 1
 * /move_group/planner_configs/BFMT/num_samples: 1000
 * /move_group/planner_configs/BFMT/optimality: 1
 * /move_group/planner_configs/BFMT/radius_multiplier: 1.0
 * /move_group/planner_configs/BFMT/type: geometric::BFMT
 * /move_group/planner_configs/BKPIECE/border_fraction: 0.9
 * /move_group/planner_configs/BKPIECE/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/BKPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/BKPIECE/range: 0.0
 * /move_group/planner_configs/BKPIECE/type: geometric::BKPIECE
 * /move_group/planner_configs/BiEST/range: 0.0
 * /move_group/planner_configs/BiEST/type: geometric::BiEST
 * /move_group/planner_configs/BiTRRT/cost_threshold: 1e300
 * /move_group/planner_configs/BiTRRT/frountier_node_ratio: 0.1
 * /move_group/planner_configs/BiTRRT/frountier_threshold: 0.0
 * /move_group/planner_configs/BiTRRT/init_temperature: 100
 * /move_group/planner_configs/BiTRRT/range: 0.0
 * /move_group/planner_configs/BiTRRT/temp_change_factor: 0.1
 * /move_group/planner_configs/BiTRRT/type: geometric::BiTRRT
 * /move_group/planner_configs/EST/goal_bias: 0.05
 * /move_group/planner_configs/EST/range: 0.0
 * /move_group/planner_configs/EST/type: geometric::EST
 * /move_group/planner_configs/FMT/cache_cc: 1
 * /move_group/planner_configs/FMT/extended_fmt: 1
 * /move_group/planner_configs/FMT/heuristics: 0
 * /move_group/planner_configs/FMT/nearest_k: 1
 * /move_group/planner_configs/FMT/num_samples: 1000
 * /move_group/planner_configs/FMT/radius_multiplier: 1.1
 * /move_group/planner_configs/FMT/type: geometric::FMT
 * /move_group/planner_configs/KPIECE/border_fraction: 0.9
 * /move_group/planner_configs/KPIECE/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/KPIECE/goal_bias: 0.05
 * /move_group/planner_configs/KPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/KPIECE/range: 0.0
 * /move_group/planner_configs/KPIECE/type: geometric::KPIECE
 * /move_group/planner_configs/LBKPIECE/border_fraction: 0.9
 * /move_group/planner_configs/LBKPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/LBKPIECE/range: 0.0
 * /move_group/planner_configs/LBKPIECE/type: geometric::LBKPIECE
 * /move_group/planner_configs/LBTRRT/epsilon: 0.4
 * /move_group/planner_configs/LBTRRT/goal_bias: 0.05
 * /move_group/planner_configs/LBTRRT/range: 0.0
 * /move_group/planner_configs/LBTRRT/type: geometric::LBTRRT
 * /move_group/planner_configs/LazyPRM/range: 0.0
 * /move_group/planner_configs/LazyPRM/type: geometric::LazyPRM
 * /move_group/planner_configs/LazyPRMstar/type: geometric::LazyPR...
 * /move_group/planner_configs/PDST/type: geometric::PDST
 * /move_group/planner_configs/PRM/max_nearest_neighbors: 10
 * /move_group/planner_configs/PRM/type: geometric::PRM
 * /move_group/planner_configs/PRMstar/type: geometric::PRMstar
 * /move_group/planner_configs/ProjEST/goal_bias: 0.05
 * /move_group/planner_configs/ProjEST/range: 0.0
 * /move_group/planner_configs/ProjEST/type: geometric::ProjEST
 * /move_group/planner_configs/RRT/goal_bias: 0.05
 * /move_group/planner_configs/RRT/range: 0.0
 * /move_group/planner_configs/RRT/type: geometric::RRT
 * /move_group/planner_configs/RRTConnect/range: 0.0
 * /move_group/planner_configs/RRTConnect/type: geometric::RRTCon...
 * /move_group/planner_configs/RRTstar/delay_collision_checking: 1
 * /move_group/planner_configs/RRTstar/goal_bias: 0.05
 * /move_group/planner_configs/RRTstar/range: 0.0
 * /move_group/planner_configs/RRTstar/type: geometric::RRTstar
 * /move_group/planner_configs/SBL/range: 0.0
 * /move_group/planner_configs/SBL/type: geometric::SBL
 * /move_group/planner_configs/SPARS/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARS/max_failures: 1000
 * /move_group/planner_configs/SPARS/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARS/stretch_factor: 3.0
 * /move_group/planner_configs/SPARS/type: geometric::SPARS
 * /move_group/planner_configs/SPARStwo/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARStwo/max_failures: 5000
 * /move_group/planner_configs/SPARStwo/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARStwo/stretch_factor: 3.0
 * /move_group/planner_configs/SPARStwo/type: geometric::SPARStwo
 * /move_group/planner_configs/STRIDE/degree: 16
 * /move_group/planner_configs/STRIDE/estimated_dimension: 0.0
 * /move_group/planner_configs/STRIDE/goal_bias: 0.05
 * /move_group/planner_configs/STRIDE/max_degree: 18
 * /move_group/planner_configs/STRIDE/max_pts_per_leaf: 6
 * /move_group/planner_configs/STRIDE/min_degree: 12
 * /move_group/planner_configs/STRIDE/min_valid_path_fraction: 0.2
 * /move_group/planner_configs/STRIDE/range: 0.0
 * /move_group/planner_configs/STRIDE/type: geometric::STRIDE
 * /move_group/planner_configs/STRIDE/use_projected_distance: 0
 * /move_group/planner_configs/TRRT/frountierNodeRatio: 0.1
 * /move_group/planner_configs/TRRT/frountier_threshold: 0.0
 * /move_group/planner_configs/TRRT/goal_bias: 0.05
 * /move_group/planner_configs/TRRT/init_temperature: 10e-6
 * /move_group/planner_configs/TRRT/k_constant: 0.0
 * /move_group/planner_configs/TRRT/max_states_failed: 10
 * /move_group/planner_configs/TRRT/min_temperature: 10e-10
 * /move_group/planner_configs/TRRT/range: 0.0
 * /move_group/planner_configs/TRRT/temp_change_factor: 2.0
 * /move_group/planner_configs/TRRT/type: geometric::TRRT
 * /move_group/planning_plugin: ompl_interface/OM...
 * /move_group/planning_scene_monitor/publish_geometry_updates: True
 * /move_group/planning_scene_monitor/publish_planning_scene: True
 * /move_group/planning_scene_monitor/publish_state_updates: True
 * /move_group/planning_scene_monitor/publish_transforms_updates: True
 * /move_group/request_adapters: default_planner_r...
 * /move_group/sensors: [{'point_subsampl...
 * /move_group/start_state_max_bounds_error: 0.1
 * /move_group/trajectory_execution/allowed_execution_duration_scaling: 1.2
 * /move_group/trajectory_execution/allowed_goal_duration_margin: 0.5
 * /move_group/trajectory_execution/allowed_start_tolerance: 0.01
 * /robot_description: <?xml version="1....
 * /robot_description_kinematics/manipulator/kinematics_solver: kdl_kinematics_pl...
 * /robot_description_kinematics/manipulator/kinematics_solver_attempts: 3
 * /robot_description_kinematics/manipulator/kinematics_solver_search_resolution: 0.005
 * /robot_description_kinematics/manipulator/kinematics_solver_timeout: 0.005
 * /robot_description_planning/joint_limits/joint_a1/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_a1/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_a1/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_a1/max_velocity: 2.72271363311
 * /robot_description_planning/joint_limits/joint_a2/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_a2/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_a2/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_a2/max_velocity: 2.72271363311
 * /robot_description_planning/joint_limits/joint_a3/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_a3/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_a3/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_a3/max_velocity: 2.72271363311
 * /robot_description_planning/joint_limits/joint_a4/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_a4/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_a4/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_a4/max_velocity: 5.75958653158
 * /robot_description_planning/joint_limits/joint_a5/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_a5/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_a5/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_a5/max_velocity: 5.75958653158
 * /robot_description_planning/joint_limits/joint_a6/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_a6/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_a6/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_a6/max_velocity: 10.7337748998
 * /robot_description_semantic: <?xml version="1....
 * /rosdistro: kinetic
 * /rosversion: 1.12.14
 * /rviz_talha_VirtualBox_2209_1189131161637441768/manipulator/kinematics_solver: kdl_kinematics_pl...
 * /rviz_talha_VirtualBox_2209_1189131161637441768/manipulator/kinematics_solver_attempts: 3
 * /rviz_talha_VirtualBox_2209_1189131161637441768/manipulator/kinematics_solver_search_resolution: 0.005
 * /rviz_talha_VirtualBox_2209_1189131161637441768/manipulator/kinematics_solver_timeout: 0.005

NODES
  /
    joint_state_publisher (joint_state_publisher/joint_state_publisher)
    move_group (moveit_ros_move_group/move_group)
    robot_state_publisher (robot_state_publisher/robot_state_publisher)
    rviz_talha_VirtualBox_2209_1189131161637441768 (rviz/rviz)

ROS_MASTER_URI=http://localhost:11311

process[joint_state_publisher-1]: started with pid [2226]
process[robot_state_publisher-2]: started with pid [2227]
process[move_group-3]: started with pid [2228]
[ WARN] [1560344053.452253758]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
process[rviz_talha_VirtualBox_2209_1189131161637441768-4]: started with pid [2249]
[ INFO] [1560344053.496640076]: Loading robot model 'kuka_kr16_2'...
[ INFO] [1560344053.570688196]: Loading robot model 'kuka_kr16_2'...
[ WARN] [1560344053.574339033]: The root link base_link has an inertia specified in the URDF, but KDL does not support a root link with an inertia.  As a workaround, you can add an extra dummy link to your URDF.
[ INFO] [1560344053.575414819]: rviz version 1.12.17
[ INFO] [1560344053.575455888]: compiled against Qt version 5.5.1
[ INFO] [1560344053.575467911]: compiled against OGRE version 1.9.0 (Ghadamon)
[ INFO] [1560344053.613958606]: Publishing maintained planning scene on 'monitored_planning_scene'
[ INFO] [1560344053.617565517]: MoveGroup debug mode is ON
Starting context monitors...
[ INFO] [1560344053.617611959]: Starting scene monitor
[ INFO] [1560344053.621063575]: Listening to '/planning_scene'
[ INFO] [1560344053.621105594]: Starting world geometry monitor
[ INFO] [1560344053.624478374]: Listening to '/collision_object' using message notifier with target frame '/base_link '
[ INFO] [1560344053.627665820]: Listening to '/planning_scene_world' for planning scene world geometry
[ INFO] [1560344053.671201746]: Listening to '/head_mount_kinect/depth_registered/points' using message filter with target frame '/base_link '
[ INFO] [1560344053.677909803]: Listening to '/attached_collision_object' for attached collision objects
Context monitors started.
[ INFO] [1560344053.697808790]: Initializing OMPL interface using ROS parameters
[ERROR] [1560344053.702727103]: Could not find the planner configuration 'None' on the param server
[ INFO] [1560344053.730134588]: Using planning interface 'OMPL'
[ INFO] [1560344053.735427908]: Param 'default_workspace_bounds' was not set. Using default value: 10
[ INFO] [1560344053.736112214]: Param 'start_state_max_bounds_error' was set to 0.1
[ INFO] [1560344053.736775365]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1560344053.737461052]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1560344053.738201938]: Param 'jiggle_fraction' was set to 0.05
[ INFO] [1560344053.738845543]: Param 'max_sampling_attempts' was not set. Using default value: 100
[ INFO] [1560344053.738943580]: Using planning request adapter 'Add Time Parameterization'
[ INFO] [1560344053.738979920]: Using planning request adapter 'Fix Workspace Bounds'
[ INFO] [1560344053.739012586]: Using planning request adapter 'Fix Start State Bounds'
[ INFO] [1560344053.739172871]: Using planning request adapter 'Fix Start State In Collision'
[ INFO] [1560344053.739207349]: Using planning request adapter 'Fix Start State Path Constraints'
[ INFO] [1560344053.742072959]: Stereo is NOT SUPPORTED
[ INFO] [1560344053.742138831]: OpenGl version: 3 (GLSL 1.3).
[ INFO] [1560344053.749284081]: Fake controller 'fake_manipulator_controller' with joints [ joint_a1 joint_a2 joint_a3 joint_a4 joint_a5 joint_a6 ]
[ INFO] [1560344053.750216084]: Returned 1 controllers in list
[ INFO] [1560344053.775381406]: Trajectory execution is managing controllers
Loading 'move_group/ApplyPlanningSceneService'...
Loading 'move_group/ClearOctomapService'...
Loading 'move_group/MoveGroupCartesianPathService'...
Loading 'move_group/MoveGroupExecuteTrajectoryAction'...
Loading 'move_group/MoveGroupGetPlanningSceneService'...
Loading 'move_group/MoveGroupKinematicsService'...
Loading 'move_group/MoveGroupMoveAction'...
Loading 'move_group/MoveGroupPickPlaceAction'...
Loading 'move_group/MoveGroupPlanService'...
Loading 'move_group/MoveGroupQueryPlannersService'...
Loading 'move_group/MoveGroupStateValidationService'...
[ INFO] [1560344053.864494438]: 

********************************************************
* MoveGroup using: 
*     - ApplyPlanningSceneService
*     - ClearOctomapService
*     - CartesianPathService
*     - ExecuteTrajectoryAction
*     - GetPlanningSceneService
*     - KinematicsService
*     - MoveAction
*     - PickPlaceAction
*     - MotionPlanService
*     - QueryPlannersService
*     - StateValidationService
********************************************************

[ INFO] [1560344053.864554545]: MoveGroup context using planning plugin ompl_interface/OMPLPlanner
[ INFO] [1560344053.864575536]: MoveGroup context initialization complete

You can start planning now!

`

Originally posted by mt on ROS Answers with karma: 61 on 2019-06-12
Post score: 0

A:

EDIT: Just found out that I had been running a roscore hidden behind the many terminal windows which was the culprit. The launch file for the MoveIt config launches its own master so there probably is a conflict there. Just tested with the original ompl_planning.yaml file and it ran fine although still gave the error could not find the planner configuration 'None' on the param server but that is probably a non-issue.

Originally posted by mt with karma: 61 on 2019-06-12
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2019-06-12:
Which version of MoveIt are you using? Afaik this has been fixed quite some time ago, so either the MoveIt configuration is outdated, or the MoveIt version you are using.
Comment by mt on 2019-06-12:
0.9.15. Apparently the latest version under kinetic when running the command apt install ros-kinetic-moveit
Comment by gvdhoorn on 2019-06-12:
And where did you get the moveit configuration package?
Comment by mt on 2019-06-12:
Generated myself using the setup assistant as in the tutorials
Comment by mt on 2019-06-12:
Just updated answer above
Comment by gvdhoorn on 2019-06-12:
So there was essentially no real problem then?
Comment by mt on 2019-06-12:
No. Just my oversight


Q:

Obtaining Camera Pose via TF

I have the calibration board fixed on the work station, and I have its world coordinates, entered them in URDF, all good. I used OpenCV's pose estimation module to find the board's pose (rvecs and tvecs) from the camera frame as well. This also is OK.  However, I want to get the camera pose (from the world frame) and to do that I think I need to use TF. So basically, we can formulate the problem as follows:
Given:
World -> Board (board in world frame)
Board -> Camera (board in camera frame)
Find:
World -> Camera (world in camera frame, and vice versa, camera in the world frame).
I have the world and board in my URDF, but since I don't have my camera (which is what I am trying to find out anyway), I don't know how I could utilise TF functionalities.
Does anyone have an experience with this setup?

Originally posted by J채germeister on ROS Answers with karma: 81 on 2019-03-06
Post score: 0

A:

You just have to create a tf listener between your two frames, there is a tutorial in the wiki showing you how to do that.
You can also take a look at the code of tf_echo.

Originally posted by Delb with karma: 3907 on 2019-03-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by J채germeister on 2019-03-06:
This isn't really an answer tbh. Seeing linked ROS tutorial pages is not why I asked the question. If you have a concrete example showing slightly how this unestablished link between the camera and the world could be created, be my guest. Otherwise, anyone can Google these pages and source files.
Comment by Delb on 2019-03-06:
Maybe I haven't understand your question but you said that your inputs are a link between world and board and a link between board and camera. So your tf tree is world -> board -> camera right ? The tf listener will make the calculation between each link...
Comment by Delb on 2019-03-06:
... eventhough they are not directly connected.
If you run :
rosrun tf tf_echo world camera

You will get the camera pose in relation to world.
Comment by J채germeister on 2019-03-06:
You understood it well, that's exactly what I am after. Without having a direct connection, I want to get the camera pose with respect to world. In order words world -> camera.
Comment by J채germeister on 2019-03-06:
That's the answer yes, we can add that to the answer's body.
Comment by fvd on 2019-03-19:
For completeness, the line you were looking for in the tutorial was listener.lookupTransform("/camera", "/world", ros::Time(0), transform);, tf_echo just outputs the result to the command line.


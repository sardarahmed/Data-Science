Q:

"Lost sync" with Arbotix and rosserial

In another post I reported a "Lost sync" problem when using rosserial with an Arudino Uno over an XBee connection.  That problem was resolved by always using a baud rate of 57600 for the radios and the rosserial connection.
Now I have the same problem with an Arbotix board (version 1).  This time, I can't resolve the problem with any choice of baud rate.  Here are some tests I have run:

rosserial works fine over a hardwire USB connection to the ArbotiX at 57600
Serial.println() works fine over XBee at 57600 baud from the ArbotiX back to the PC
The ArbotiX ROS interface (arbotix_python) works fine over a hardwire USB connection at 57600
The arbotix_python package does not work over XBee (e.g. rostopic echo /joint_states always returns 0.0 for servo positions)

So there seems to be some problem with getting data from the PC to the ArbotiX over XBee.  Since the same radios work fine with my Arduino Uno, I don't know if the problem is with the ArbotiX or if there is some special setting I need on the radios to work with the ArbotiX?
Thanks!
patrick

Originally posted by Pi Robot on ROS Answers with karma: 4046 on 2011-11-25
Post score: 1

A:

The arbotix_python stuff hasn't been heavily tested over xbee. My first suggestion would be to try increasing the timeout in driver.py, as everything is currently optimized for 115k and low latency (which the XBEE at 57600 has neither). If that fixes the problem, we can expose the timeout as a parameter which could be set.

Originally posted by fergs with karma: 13902 on 2011-11-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Pi Robot on 2011-11-25:
Thanks Fergs--I found the timeout parameter in arbotix.py rather than driver.py.  I set it to 2.0 seconds rather than the default 0.1 but that did not fix the problem.  I then set my XBee radios to 115200 baud and the Packetization Timeout to 0 and still no joy.
Comment by tfoote on 2012-03-02:
@Pi Robot any updates on getting this working?
Comment by Pi Robot on 2012-03-03:
@tfoote No updates at this point--my ArbotiX is tucked away inside Pi Robot at the moment running the ArbotiX firmware instead of rosserial...
Comment by tfoote on 2012-03-04:
Closing as this can't easily be verified.
Comment by Brian Kohan on 2014-05-14:
I've just run into this exact issue. Setting the baud rate to 38400 (note you have to do this in both the firmware and the driver node) and the timeout to 2 seconds allowed communication over the XBees to work.


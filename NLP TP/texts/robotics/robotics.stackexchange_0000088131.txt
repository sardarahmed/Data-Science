Q:

ssh problems in buildfarm

This is a continuation of this post. This is the error log from running lunar_rosdistro_cache job.
14:50:51 The command '/bin/sh -c python3 -u /tmp/wrapper_scripts/apt.py update-install-clean -q -y git python3-catkin-pkg-modules python3-rosdistro python3-yaml' returned a non-zero code: 100
14:50:51 Build step 'Execute shell' marked build as failure
14:50:51 SSH: Current build result is [FAILURE], not going to run.

I followed everything mentioned in the documentation. When I tried to test the connection in jenkins to the repo machine, the test configuration fails and sends me this error message.
Failed to connect or change directory
jenkins.plugins.publish_over.BapPublisherException: Failed to connect and initialize SSH connection. Message: [Failed to connect session for config [repo]. Message [Auth fail]]

Originally posted by venkisagunner on ROS Answers with karma: 89 on 2018-07-25
Post score: 0

A:

Solved the problem by adding a ssh host key for the jenkins-agent as mentioned below in the common.yaml file:
 'jenkins-agent@ip-address':
        key: AAAAB3NzaC1yc2EAAAADAQABAAAC
        type: ssh-rsa
        user: jenkins-agent
        require: User[jenkins-agent]

Originally posted by venkisagunner with karma: 89 on 2018-07-26
This answer was ACCEPTED on the original site
Post score: 1


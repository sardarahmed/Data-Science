Q:

robot_state_publisher link publish frequency not consistent

I have a urdf model of a human hand  in Rviz for which I update its position via my own tf broadcaster. I have noticed that when I move the hand the fingers lag behind the wrist. I am updating the position of the wrist at 100 Hz and in my launch file, I set the parameter of robot_state_publisher to 100 Hz as well.
   <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher">
    <rosparam param="publish_frequency">100</rosparam>
   </node>

When I look at the rate at wich the tf frames are being published (from rosrun tf view_frames) the update of the palm (first link) is at 100 Hz and the last link "pinky_dof_4" is also updated at 100 Hz. However everything in between is being updated at 10 Hz.  I would like to get all links in the URDF to be updated at 100 Hz.

Originally posted by gpldecha on ROS Answers with karma: 285 on 2015-03-26
Post score: 0

A:

Hm. I'm not sure if this is an issue, but after running your launch file can you query that parameter and see if its value is 100? I know the <rosparam> tags are used to specify the parameters in either a YAML file or handwritten YAML. Maybe if that's the case you could do something like <param name="publish_frequency" value="100" /> between your node tags.

Originally posted by aak2166 with karma: 593 on 2015-03-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gpldecha on 2015-03-27:
well when I query the rosparam value it is correct:
$ rosparam get /robot_state_publisher/publish_frequency 100
I used URDF and not YAML. Do you mean I should add a tag specifying the publish frequency in my URDF file ?
Comment by aak2166 on 2015-03-27:
If you can query it then my theory isn't right. What I was getting at is that the param isn't set as expected; the rosparam tags are usually used to load parameters from a yaml.
Comment by aak2166 on 2015-03-27:
The only other thing I can think of is that perhaps the nodes publishing jointstate msgs passed to rsp are only publishing at 10 hz, and are limiting your tf publishing? I'm not certain though, just tossing around ideas.
Comment by elthef on 2018-02-05:
I have encountered the the  rate is 10000 Hz using robot_state any idea what is the problem.
Comment by jayess on 2018-02-06:
Please don't use an answer to ask a question. This isn't a forum. You can ask a new question and reference this or make a comment.
Comment by suomynona on 2021-06-24:
Did anybody ever solve this problem same thing is occurring for me. even tried to set joint state publisher rate to the same value but nothing changed
Comment by jayess on 2021-06-24:
@suomynona  you should ask a new question and reference this one to get more attention (considering that this question and answer or over 6 years old)
Comment by Marcin on 2022-10-25:
I just had the same issue. Joint_state_publisher and robot_state_publisher have to work on a high rate if we want to get high rates of TF. Thanks!


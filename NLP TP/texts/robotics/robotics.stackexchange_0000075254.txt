Q:

Quaternion to Euler angle convention in TF

In reference to this question , the desired conversion is the opposite direction.  That is using tf.transformations.euler_from_quaternion function, taking the result from robot_localization of /odometry/filtered topic, my attempt is to unravel the quaternion from the ENU convention to NED convention. The end result should be pitch, yaw, and roll using the aviation (NED) convention.
My interpretation is that one must first change back (from ROS ENU) the signs of y and z, followed by “unwinding” the quaternion to euler from 'rzyx' to 'rxyz' per the documentation for euler_from_quaternion definition and the question response:
“q = tf.transformations.quaternion_from_euler(yaw, pitch, roll, 'rzyx')”
My question: Is my interpretation correct?
Any insight is greatly appreciated.
B2256

Originally posted by b2256 on ROS Answers with karma: 162 on 2016-07-17
Post score: 2

A:

See also this question: http://answers.ros.org/question/50113/transform-quaternion/
The easiest way to convert to yaw-pitch-roll is to take the quaternion and create a Matrix3x3:
Let q be the quaternion of the current odom transform
tfScalar yaw, pitch, roll;
tf::Matrix3x3 mat(q);
mat.getEulerYPR(&yaw, &pitch, &roll);

(Note that the tfScalar type is usually typedef'd to double in scalar.h. Also see http://docs.ros.org/api/tf/html/c++/classtf_1_1Matrix3x3.html.)

Originally posted by Mark Rose with karma: 1563 on 2016-08-02
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by antoineniotna on 2018-10-02:
Perfect! Thank you so much!


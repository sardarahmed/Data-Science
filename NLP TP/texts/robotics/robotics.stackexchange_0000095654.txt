Q:

How to configure ament python linters in CMakeLists?

I have a ROS2 Eloquent C++ package with some python files (for example, python launch scripts) which I would like to lint.
I have the linters included in the packages.xml
<test_depend>ament_cmake_pep257</test_depend>
And have them running in the test section of the CMakeLists
ament_lint_auto_find_test_dependencies()
The linters are running and correctly when I run colcon test and are failing my *.launch.py because they violate certain rules I don't want to enforce. How do I pass in an ignore list for these?
For example, how would have colcon test replicate the results of ament_pip257 --ignore D400?

Originally posted by nbbrooks on ROS Answers with karma: 56 on 2020-04-29
Post score: 1

A:

I agree with you it's underdocumented. It is documented though, at least for ament_cmake_flake8, but it's probably not in a place casual users would look (ie: the CMake function documentation). See here.
There should be no need to overwrite the default configuration. You can't use the convenience "ament auto lint" etc functionality any more I believe, but the following should allow you to specify the location of a custom configuration file:
  find_package(ament_cmake_flake8 REQUIRED)
  ament_flake8(
    [..]
    CONFIG_FILE /absolute/path/to/your/config.ini
    [..]
    <paths to files>
 )

Without trying to "gold plate" it: it's not entirely 'strange' for a CMake developer to expect his users to read the doc strings on CMake functions he makes available.
You could consider contributing a tutorial for this though.

Originally posted by gvdhoorn with karma: 86574 on 2023-03-05
This answer was ACCEPTED on the original site
Post score: 1


Q:

Gazebo plugin's UpdateChild() not being called?

Hi, I'm writing plugins for NXT and Gazebo and I was having trouble with the one I'm currently working...
After some time I realized that UpdateChild is never executed, or so I think. I have some ROS_INFO("WTF"); calls that I use to follow the execution, and I can see the ones in LoadChild, InitChild and the callback node, but the one within UpdateChild is never shown.
This has not happened to me before, and I don't know what have I done differently...
BTW I'm using electric.
Here's the code for plugin that's not working, though you can also find it at my repository here, along with the rest of my packages.
This plugin takes the data from a camera and calculates the luminance of the image.
The launch file I'm executing is this one.
Thanks in advance,
Miguel.
Edit: I'm removing the code here for the sake of readability.
Also, I tried reducing the plugin to its minimal expression (removing all functionality) and still seems to ignore UpdateChild function. WTF is happening? Any hints? :S

Originally posted by Capelare on ROS Answers with karma: 202 on 2012-11-07
Post score: 0

A:

I think I may have solved it. I just simply added the following lines to the plugin call in the URDF description:
<alwaysOn>true</alwaysOn>
<updateRate>${update_rate}</updateRate>

I didn't know that was necessary! :'(

Originally posted by Capelare with karma: 202 on 2012-11-17
This answer was ACCEPTED on the original site
Post score: 0


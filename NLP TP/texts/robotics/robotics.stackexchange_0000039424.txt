Q:

Multiple Publishers, single subscriber - pubUpdate call fails

Here's my scenario:
I have a rosjava master running on 192.168.1.2.
I create a publisher running on 192.168.1.3 with ROS_IP=192.168.1.3. (Using rostopic)
I create a subscriber on 192.168.1.2 with ROS_IP=192.168.1.2, the subscriber connects successfully and starts receiving messages. (Using roscpp).
I create a subscriber on 192.168.1.3 with ROS_IP=192.168.1.3, the subscriber connects successfully and starts receiving messages. (Using rostopic).
I create another publisher on the same topic on 192.168.1.3 using rostopic. The subscriber on 192.168.1.3 replies successfully to the rosjava master's publisherUpdate XMLRPC call in SlaveClient.java. However, the roscpp node running on 192.168.1.2 returns a failure code to the master's call to publisherUpdate causing the second rostopic publisher to fail registration with the master.
Any ideas on what might be causing this?

Originally posted by stevefturner on ROS Answers with karma: 26 on 2012-04-09
Post score: 0

Original comments
Comment by stevefturner on 2012-04-09:
Looking at topic_manager.cpp:pubUpdateCallback, I see the request come in, but it will only ever return a successful XMLRPC response if pubUpdate returns true. pubUpdate always returns false in this case. Bug -- or am I missing something here?
Comment by damonkohler on 2012-04-23:
Have you made any more progress on debugging this issue?

A:

Damon,
I ended up modifying the pubUpdate calls in topic_manager.cpp:583 to return sub->pubUpdate(pubs); so that it returns true and thus constructs the response properly.

Originally posted by stevefturner with karma: 26 on 2012-06-25
This answer was ACCEPTED on the original site
Post score: 0


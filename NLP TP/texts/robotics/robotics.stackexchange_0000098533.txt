Q:

Colour coding in RViz

Is it possible to place some kind of 2D rectangular shape in RViz that is colour coded according to some data value subscribed to and positioned wherever the robot is at the time the data was read?
If so, how might I go about implementing this?

Originally posted by Py on ROS Answers with karma: 501 on 2021-03-11
Post score: 0

A:

Rviz is only a data visualizer. As such, you cannot "place" a shape in rviz, but if the shape is being published somewhere, you can subscribe to it and visualize it!  There are two easy ways to go about your problem:

Work with gazebo and place an object wherever you want. You can then visualize in either a camera pointed towards it or using some lidar scan.
Generate markers in code and publish them. This tutorial will show you how to. I'd recommend this method since it sounds like you want it based on the robot position and you can just keep changing the marker pose in code.

Originally posted by Akhil Kurup with karma: 459 on 2021-03-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Py on 2021-03-15:
That's great thanks! I've been able to publish some markers and visualise them in RViz. My next challenge is to to colour code them according to the sensor value like a heatmap. Any idea how I'd go about this?
Comment by Akhil Kurup on 2021-03-15:
I believe the markers have a RGB field? You can read your sensor data and using whatever algorithm/idea you have in mind and apply individual markers with relevant RGB values.


Q:

gazebo client on Debian crashes at startup

I have compiled gazebo from source. When I try to lauch it, either as "gazebo" or as "gzclient", it crashes. Doesn't show any splash screen. The gzserver does not seem to crash.
Backtrace obtained through gdb :
Program received signal SIGSEGV, Segmentation fault.
QList<QPrinter::PageSize>::QList (this=0x7fffd9fa7438 <QPrinterInfoPrivate::shared_null+24>) at ../../include/QtCore/../../src/corelib/tools/qlist.h:121
121 ../../include/QtCore/../../src/corelib/tools/qlist.h: Aucun fichier ou dossier de ce type.
(gdb) bt
#0  QList<QPrinter::PageSize>::QList (this=0x7fffd9fa7438 <QPrinterInfoPrivate::shared_null+24>) at ../../include/QtCore/../../src/corelib/tools/qlist.h:121
#1  QPrinterInfoPrivate::QPrinterInfoPrivate (name=..., this=0x7fffd9fa7420 <QPrinterInfoPrivate::shared_null>) at painting/qprinterinfo_p.h:71
#2  __static_initialization_and_destruction_0 (__initialize_p=1, __priority=65535) at painting/qprinterinfo.cpp:35
#3  _GLOBAL__sub_I_qprinterinfo.cpp(void) () at painting/qprinterinfo.cpp:163
#4  0x00007ffff7de95da in call_init (l=<optimized out>, argc=argc@entry=1, argv=argv@entry=0x7fffffffdea8, env=env@entry=0x7fffffffdeb8) at dl-init.c:72
#5  0x00007ffff7de96eb in call_init (env=0x7fffffffdeb8, argv=0x7fffffffdea8, argc=1, l=<optimized out>) at dl-init.c:30
#6  _dl_init (main_map=0x7ffff7ffe168, argc=1, argv=0x7fffffffdea8, env=0x7fffffffdeb8) at dl-init.c:120
#7  0x00007ffff7ddacda in _dl_start_user () from /lib64/ld-linux-x86-64.so.2
#8  0x0000000000000001 in ?? ()
#9  0x00007fffffffe23f in ?? ()
#10 0x0000000000000000 in ?? ()

Any suggestions on how I can move forward with this installation ? BTW I have performed "make tests" and will update this when any results are available.
I am ready to provide more information if you tell me what would be useful.

Originally posted by lmsteffan on Gazebo Answers with karma: 16 on 2017-01-31
Post score: 0

Original comments
Comment by chapulina on 2017-01-31:
What branch of Gazebo are you compiling? Which version of Qt do you have installed and which version are you linking against? It looks like Qt is not finding some headers.
Comment by lmsteffan on 2017-01-31:
the branch is "default", I have both Qt4 and Qt5 installed. I believe I am linking against Qt5 (according to some Makefiles I found in the build directory) but actually I'm not too sure. How can I check that ?
Comment by chapulina on 2017-01-31:
Glad you were able to work it out! Please consider ticketing an issue describing your situation so we might address it in the future. https://bitbucket.org/osrf/gazebo/issues/new

A:

@chapulina thanks to your helpful hint, I can now launch gzclient. There was some mix-up between some qt4 and qt5 libraries, in particular owing to the fact that  libqwt.so, apparently required by  the Gazebo GUI,  is provided solely by a Qt4 package (I am talking about Debian here). I had to resort to a trick, namely create a symbolic link of that name pointing to its nearest equivalent on Qt5, libqwt-qt5.so, and that's a very hackish solution. Still il solved my current problem.

Originally posted by lmsteffan with karma: 16 on 2017-01-31
This answer was ACCEPTED on the original site
Post score: 0


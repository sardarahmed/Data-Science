Q:

How does colcon install Python dependencies in ROS2?

Can Colcon with ament_python install dependencies from setup.py by itself during colcon build --symlink-install step? e.g. I would like pyserial to be automatically retrieved from pypi and installed without invoking pip3 manually:
setup(
...
   install_requires=['setuptools', 'pyserial']
...
)

Originally posted by screen33 on ROS Answers with karma: 122 on 2020-02-07
Post score: 0

A:

colcon doesn't install any dependencies (see the docs). The expectations is that you have installed all necessary dependencies before you try to build a package (e.g. using rosdep).

Originally posted by Dirk Thomas with karma: 16276 on 2020-02-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by screen33 on 2020-02-07:
Ah, yes. But it complains: ModuleNotFoundError: No module named 'rosdep2'. I do have multiple Python interpreters on this machine, however default is py3.6
Comment by Dirk Thomas on 2020-02-07:
You need to install dependencies for the specific Python version you are using. If you use Python 3.6 you need to have python3-rosdep installed. If you also have ROS 1 / python-rosdep installed it is sufficient to just install python3-rosdep-modules (all assuming you are on Ubuntu using the ROS apt repos).
Comment by screen33 on 2020-02-07:
I also have ROS melodic, but I guess this is why I'm getting conflicts: python3-rosdep : Depends: python3-catkin-pkg but it is not going to be installed


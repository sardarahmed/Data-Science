Q:

Trajectory during the mapping

Hi! I can make a map with xv-11 and hector slam. I have this part in slam.launch file:
[...]
<include file="$(find hector_mapping)/launch/mapping_default.launch"/>
<node pkg="rviz" type="rviz" name="rviz" args="-d rviz_cfg.rviz"/>
<include file="$(find hector_geotiff)/launch/geotiff_mapper.launch"/>
<arg name="trajectory_source_frame_name" default="/base_link"/>
<arg name="trajectory_update_rate" default="4"/>
<arg name="trajectory_publish_rate" default="0.25"/>
[...]

and this is geotiff_mapper.launch file:
<launch>
<arg name="trajectory_source_frame_name" default="/base_link"/>
<arg name="trajectory_update_rate" default="4"/>
<arg name="trajectory_publish_rate" default="0.25"/>
<arg name="map_file_path" default="$(find hector_geotiff)/maps"/>
<arg name="map_file_base_name" default="hector_slam_map"/>
<node pkg="hector_trajectory_server" type="hector_trajectory_server" name="hector_trajectory_server" output="screen">
<param name="target_frame_name" type="string" value="/map"/>
<param name="source_frame_name" type="string" value="$(arg trajectory_source_frame_name)"/>
<param name="trajectory_update_rate" type="double" value="$(arg trajectory_update_rate)"/>
<param name="trajectory_publish_rate" type="double" value="$(arg trajectory_publish_rate)"/>
</node>
<node pkg="hector_geotiff" type="geotiff_node" name="hector_geotiff_node" output="screen" launch-prefix="nice -n 15">
<remap from="map" to="/dynamic_map"/>
<param name="map_file_path" type="string" value="$(arg map_file_path)"/>
<param name="map_file_base_name" type="string" value="$(arg map_file_base_name)"/>
<param name="geotiff_save_period" type="double" value="0"/>
<param name="draw_background_checkerboard" type="bool" value="true"/>
<param name="draw_free_space_grid" type="bool" value="true"/>
<param name="plugins" type="string" value="hector_geotiff_plugins/TrajectoryMapWriter"/>
</node>
</launch>

I would like to trace the trajectory when the lidar moves in the environment. How do I launch the hector_trajectory_server node? In rviz what to add in the display to the left? Which topic? Thank you!

Originally posted by papaclaudia on ROS Answers with karma: 94 on 2016-03-09
Post score: 0

A:

I solved it by changing this:
<param name="trajectory_source_frame_name" value="scanmatcher_frame"/>

in slam.launch and in geotiff_mapper.launch.

Originally posted by papaclaudia with karma: 94 on 2016-03-10
This answer was ACCEPTED on the original site
Post score: 0


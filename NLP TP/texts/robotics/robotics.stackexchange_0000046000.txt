Q:

Newbie Dependency Question

First of all, I have to admit that I've only did the tutorials until ROS/Tutorials/UsingRxconsoleRoslaunch and then I jumped right into stage/Tutorials/SimulatingOneRobot.
I'm trying to build the teleop_base package in the tutorial but I'm getting one dependency error which I'm not sure if I can ignore. After executing rosmake teleop_base:
panda@Amaranth:~/stagetutorial/teleop_base$ rosmake teleop_base
[ rosmake ] rosmake starting...                                                                                    
[ rosmake ] Packages requested are: ['teleop_base']                                                                
[ rosmake ] Logging to directory /home/panda/.ros/rosmake/rosmake_output-20121122-235959                           
[ rosmake ] Expanded args ['teleop_base'] to:
['teleop_base']                                                      
[rosmake-0] Starting >>> roslang [ make ]                                                                          
[rosmake-1] Starting >>> std_msgs [ make ]                                                                         
[rosmake-2] Starting >>> geometry_msgs [ make ]                                                                    
[rosmake-0] Finished <<< roslang  No Makefile in package roslang                                                   
[rosmake-3] Starting >>> bullet [ make ]                                                                           
[rosmake-1] Finished <<< std_msgs  No Makefile in package std_msgs                                                 
[rosmake-0] Starting >>> roscpp [ make ]                                                                           
[rosmake-2] Finished <<< geometry_msgs  No Makefile in package geometry_msgs                                       
[rosmake-2] Starting >>> rospy [ make ]                                                                            
[rosmake-1] Starting >>> nav_msgs [ make ]                                                                         
[rosmake-3] Finished <<< bullet ROS_NOBUILD in package bullet                                                      
[rosmake-3] Starting >>> sensor_msgs [ make ]                                                                      
[rosmake-0] Finished <<< roscpp  No Makefile in package roscpp                                                     
[rosmake-2] Finished <<< rospy  No Makefile in package rospy                                                       
[rosmake-1] Finished <<< nav_msgs  No Makefile in package nav_msgs                                                 
[rosmake-3] Finished <<< sensor_msgs  No Makefile in package sensor_msgs                                           
[rosmake-2] Starting >>> rosconsole [ make ]                                                                       
[rosmake-0] Starting >>> angles [ make ]                                                                           
[rosmake-3] Starting >>> rostest [ make ]                                                                          
[rosmake-1] Starting >>> roswtf [ make ]                                                                           
[rosmake-2] Finished <<< rosconsole  No Makefile in package rosconsole                                             
[rosmake-3] Finished <<< rostest  No Makefile in package rostest                                                   
[rosmake-3] Starting >>> message_filters [ make ]                                                                  
[rosmake-0] Finished <<< angles ROS_NOBUILD in package angles                                                      
[rosmake-2] Starting >>> teleop_base [ make ]                                                                      
[rosmake-1] Finished <<< roswtf  No Makefile in package roswtf                                                     
[rosmake-3] Finished <<< message_filters  No Makefile in package message_filters                                   
[rosmake-3] Starting >>> tf [ make ]                                                                               
[rosmake-3] Finished <<< tf ROS_NOBUILD in package tf                                                              
[ rosmake ] All 21 lineseleop_base: 0.2 sec ]                                           [ 1 Active 14/15 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
  [rosbuild] Building package teleop_base
  Failed to invoke /opt/ros/fuerte/bin/rospack deps-manifests teleop_base
  [rospack] Error: package/stack teleop_base depends on non-existent package joy
  
  
  CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:129 (message):
    
  
    Failed to invoke rospack to get compile flags for package 'teleop_base'.
    Look above for errors from rospack itself.  Aborting.  Please fix the
    broken dependency!
  
  Call Stack (most recent call first):
    /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:203 (rosbuild_invoke_rospack)
    CMakeLists.txt:3 (rosbuild_init)
  
  
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package teleop_base written to:
[ rosmake ]    /home/panda/.ros/rosmake/rosmake_output-20121122-235959/teleop_base/build_output.log
[rosmake-2] Finished <<< teleop_base [FAIL] [ 0.21 seconds ]                                                       
[ rosmake ] Halting due to failure in package teleop_base. 
[ rosmake ] Waiting for other threads to complete.     
[ rosmake ] Results:                                                                                               
[ rosmake ] Built 15 packages with 1 failures.                                                                     
[ rosmake ] Summary output to directory                                                                            
[ rosmake ] /home/panda/.ros/rosmake/rosmake_output-20121122-235959   

Okay so the package 'joy' which is missing is to interface a joystick, which I don't think I'd be using. It said "Built 15 package with 1 failures."
Can I just proceed and ignore the failure since I don't need the the joy package anyways?
How do I check if the 15 packages are built?
If I just go into the manifest and remove the 'joy' dependency line, will there be any problems?

Originally posted by superawesomepandacat on ROS Answers with karma: 172 on 2012-11-22
Post score: 1

A:

You cannot ignore this kind of failures because they prevent the complete package from building. The dependency should only be mentioned in the manifest file if it is actually used in the package so removing it will probably lead to further compile errors.
To check if a package was built successfully, just have a look at the output of rosmake.
In your case, all you need to do is installing the joystick_drivers stack:
sudo apt-get install ros-fuerte-joystick-drivers

Originally posted by Lorenz with karma: 22731 on 2012-11-22
This answer was ACCEPTED on the original site
Post score: 4


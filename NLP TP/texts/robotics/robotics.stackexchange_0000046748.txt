Q:

Cannot set custom ROS_HOME in launch file

Hi!
I want to have a current directory for my node different than ~/.ros, so that when I create files in my node providing only local file name, they are saved relevant to my given $ROS_HOME. I tried the following launch file:
<?xml version="1.0"?>
<launch>
   <env name="ROS_HOME" value="/home/alex" />
   <node name="test" type="test.py" pkg="simple_pcl" output="screen"/>
</launch>

But the file I am creating still appears in ~/.ros.
Here is the node source:
#!/usr/bin/python

import os
  
if __name__ == '__main__':
    os.system('touch test_file')

I also tried setting ROS_HOME inside node entry:
<?xml version="1.0"?>
<launch>
  <node name="test" type="test.py" pkg="simple_pcl" output="screen">
    <env name="ROS_HOME" value="/home/alex" />
  </node>
</launch>

also without success. What do you think is the problem?

Originally posted by Alexey Ozhigov on ROS Answers with karma: 31 on 2012-12-22
Post score: 1

A:

According to the docs it sets the location where ROS tools write data.  I don't believe it changes the current working directory where your program is launched. All the core ROS tools evaluate for the existance of ROS_HOME and default to ~/.ros if it is not set.  If your program reads ROS_HOME inside it's run, you can reproduce the same policy.

Originally posted by tfoote with karma: 58457 on 2012-12-22
This answer was ACCEPTED on the original site
Post score: 1


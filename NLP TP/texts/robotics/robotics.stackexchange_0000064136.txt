Q:

simulated GPS covariance and robot_pose_ekf

Hello,
I try to add a GPS in simulation of a Husky robot, but the covariance is set to zero by default (for simulated GPS) so the robot_pose_ekf didn't run. I set it manually to 99999.0 like in utm_odometry_node , and the robot_pose_ekf subscribes to the topic, but it doesn't publish the odom_combined frame. No error appears in the terminal.
Any idea?
Here are part of my code :
<node name="gps_conv" pkg="gps_common" type="utm_odometry_node">
    <remap from="odom" to="vo"/>
    <remap from="fix" to="/gps/fix" />
    <param name="rot_covariance" value="99999" />
</node>
    
<node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf" output="screen">
    <rosparam command="load" file="$(find moveit_simulation)/config/husky_ekf.yaml"/>
    <remap from="imu_data" to="imu/data"/>
    <remap from="odom" to="odom_pub"/>
</node>

and here are the ekf parameters :
freq: 30.0
output_frame: "odom_combined"
sensor_timeout: 1.0
publish_tf: true
odom_used: true
imu_used: true
gps_used: true
imu_absolute: true

Originally posted by est_CEAR on ROS Answers with karma: 170 on 2014-11-20
Post score: 0

A:

Hi,
It seems to be a problem from simulation, because I didn't get it on the real robot with real GPS

Originally posted by est_CEAR with karma: 170 on 2015-02-03
This answer was ACCEPTED on the original site
Post score: 0


Q:

Install rosdep definition locally in a package

On Groovy (and presumably applicable in the later distros), is there a way to define rosdep rules in a package locally to add/overwrite the ones defined in rosdistro [0]? I couldn't get the answer from reading its doc.
I have a situation where I want to use pip for installing a depended library (python-psutil), instead of using apt (see this conversation for the reason if you're interested in it). And (according to this discussion,) a rule that uses pip is recommended to be stored in a local file rather than in the public rule folder in rosdistro [0].
I've been trying to add a rule and necessary changes to my package without success like this:
$ rosdep update
reading in sources list data from /etc/ros/rosdep/sources.list.d
: (skip)
Ignore legacy gbpdistro "groovy"
Ignore legacy gbpdistro "hydro"
Query rosdistro index https://raw.github.com/ros/rosdistro/master/index.yaml
Add distro "groovy"
Add distro "hydro"
updated cache in /home/ros_noodle/.ros/rosdep/sources.cache
ros_noodle@ros_machine:~/catkin_ws/src/rqt_common_plugins/rqt_top$ rosdep install rqt_top
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
rqt_top: Cannot locate rosdep definition for [psutil]

[0] https://github.com/ros/rosdistro/tree/master/rosdep
python-rosdep 0.10.18-1

Originally posted by 130s on ROS Answers with karma: 10937 on 2013-05-14
Post score: 2

A:

You cannot put a rosdep rule in a package. Rosdep is a system wide configuration.  You can add a custom source in your rosdep sources.  /etc/ros/rosdep/sources.list.d/20-default.list
such as:
yaml file:///home/USER/local_custom_rosdep.yaml
You can use this for your own packages but you cannot distribute packages relying on this.

Originally posted by tfoote with karma: 58457 on 2013-05-15
This answer was ACCEPTED on the original site
Post score: 2


Q:

Having trouble installing PIL in Mac OSX

Hi all,
I am currently trying to install row in osx--my work requires that I work in mac as opposed to linux. I greatly enjoy using ROS as it simplifies a lot of things. However I'm not familiar enough with Mac to debug this problem by myself. I have already tried the symlink solution and that still doesn't work for me. Here is what I put into the command line:
sudo ln -s /usr/local/include/freetype2 /usr/local/include/freetype
sudo pip install pil --allow-external pil --allow-unverified pil

and the error that I get:
clang: error: unknown argument: '-mno-fused-madd' [-Wunused-command-line-argument-hard-error-in-future]

clang: note: this will be a hard error (cannot be downgraded to a warning) in the future

error: command 'cc' failed with exit status 1

----------------------------------------
Cleaning up...
Command /usr/bin/python -c "import setuptools, tokenize;__file__='/private/tmp/pip_build_root/pil/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --record /tmp/pip-LgDFfc-record/install-record.txt --single-version-externally-managed --compile failed with error code 1 in /private/tmp/pip_build_root/pil
Storing debug log for failure in /Users/chaneyk/Library/Logs/pip.log

Do you guys have any idea where I should start?

Originally posted by KennethChaney on ROS Answers with karma: 1 on 2014-03-28
Post score: 0

Original comments
Comment by demmeln on 2014-03-29:
What version of OS X is this on? Did you do pip install -U pip? Can you edit your post to include the log (/Users/chaneyk/Library/Logs/pip.log)?
Comment by KennethChaney on 2014-03-31:
I'm currently using OS X Mavericks.
Here's a link to the pip log:     https://drive.google.com/file/d/0Bxb-MBxS-2X5YV9HZ2pRaFdiSjA/edit?usp=sharing

A:

The answers to this stackoverflow question have a lot of suggestions on how to circumvent the problem. It is caused by a change in the latest clang version shipped with that a recent update from apple defaulting to fail on unused arguments:
http://stackoverflow.com/questions/22313407/clang-error-unknown-argument-mno-fused-madd-python-package-installation-fa
EDIT:
TL;DR: One way is:
export CFLAGS=-Qunused-arguments
export CPPFLAGS=-Qunused-arguments
sudo -E pip install ...

Originally posted by demmeln with karma: 4306 on 2014-03-31
This answer was ACCEPTED on the original site
Post score: 0


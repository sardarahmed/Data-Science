Q:

Problem with creating visualization for multimaster ROS system

I have 3 turtlebots and one computer to control/ssh them. It's a multimaster ROS system- each turtlebot runs its own rosmaster. I group all the individual robot topics in a group so they get their appropriate namespaces. Ex. turtle01/amcl_pose, etc. Each robot saves a map of my lab area and loads it during startup. I am using multimaster_fkie for this setup.
My questions:
Can I create a single rviz file, view all the robots together in one map on my computer and all of them performing amcl to estimate their location?
When I run more than 1 robot on the same map, my robot pose gets messed up. It looks like this.
I am unable to figure out the reason behind this.
When I run the minimal.launch file on each robot, all the topics get the namespace except /tf, /tf_static and /scan. When I launch multiple robots together, won't this create a problem?
This is how the topics look like.
dslam@turtlebot01:~$ rostopic list  
/diagnostics  
/rosout  
/rosout_agg  
/scan  
/tf  
/tf_static  
/turtle01/amcl/parameter_descriptions  
/turtle01/amcl_pose 

Thank you.

Originally posted by VickyD on ROS Answers with karma: 23 on 2017-12-07
Post score: 1

Original comments
Comment by jayess on 2017-12-07:
Instead of linking to images of terminal output, can you please copy and paste it here? This helps to keep the question self-contained and has the benefit of being searchable.
Comment by VickyD on 2017-12-08:
I've corrected it now. Thank you for suggesting that!
Comment by jayess on 2017-12-08:
I've given you some karma, can you please see if you can insert your image into your question instead of hosting it externally?
Comment by VickyD on 2017-12-21:
Sure. I wanted to do the same but I didn't have enough karma. Thank you.

A:

Yes, you can have a single rviz configuration file for viewing all the robots together while each is using amcl to estimate its pose. That's how I do it.
As for the namespace issue, I believe that having the /tf and /tf_static topics not be in their own namepsaces is  common. However, you should have each robot's /scan topic be in its own namespace (the same of the robot that is producing the laser scans).
This answer really helped me  out with setting up a multi-robot simulation. You can extend these ideas into a configuring up your real-world setup (you'll have to adapt it to fit your multi-master situation). Don't be turned off of the date of the question either, much of it is still applicable.

Originally posted by jayess with karma: 6155 on 2017-12-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by jayess on 2017-12-21:
@VickyD if this answer solved your question, please mark it as correct by clicking on the check mark.
Comment by VickyD on 2017-12-21:
Yes, you were correct. The tf tree is shared among all the robots. All the topics are under their own namespaces except /tf and /tf_static. One of my node was either incorrectly publishing or subscribing to /scan topic and so I was able to see it in rostopic list output. Thank you!


Q:

I would like to know if an ultrasonic sensor array will be able to mimic the laser range sensor required for the navigation stack provided by ROS

I Have 3 Ultrasonic Sensors and motor Encoders for Odometry. I am planning on using the ROS navigation stack in order to help me produce a 2D floor map, will this be possible.

Originally posted by miguel on ROS Answers with karma: 170 on 2015-06-19
Post score: 0

A:

You can use the range_sensor_layer in Hydro and mroe recent version of ROS navigation to incorporate the Range datatype, but you will get a lot less data (and degraded performance) using sonar.

Originally posted by David Lu with karma: 10932 on 2015-06-19
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by miguel on 2015-06-22:
I have been looking into this, and the navigation stack requires sensor streams to be published to the stack, currently it says that the stack only supports laser_scan and Point  Cloud messages. How do I interpret the sensor_msgs/Range in order to use the stack?
Comment by David Lu on 2015-06-22:
Where does it say that? That's probably some outdated documentation.
Comment by miguel on 2015-06-22:
http://wiki.ros.org/navigation/Tutorials/RobotSetup/Sensors: "However, the current navigation stack only accepts sensor data published using either the sensor_msgs/LaserScan Message type or the sensor_msgs/PointCloud Message type"
Comment by David Lu on 2015-06-22:
Thanks. Using the range_sensor_layer gets around that requirement. http://wiki.ros.org/costmap_2d/Tutorials/Configuring%20Layered%20Costmaps
Comment by miguel on 2015-06-22:
Okay I will do. Thanks for the help!
Comment by miguel on 2015-06-30:
I have a question regarding the range_sensor_layer, if you have more than one sensor is there more than one plugin for the yaml file, ie.- {name: sonar1,   type: "range_sensor_layer::RangeSensorLayer"}
then the next one would be sonar2?
Comment by David Lu on 2015-06-30:
Yes. you can name it whatever is convenient.
Comment by miguel on 2015-07-07:
Hi @David, How to I use AMCL, can I just remap my ultrasonic sensors to the /scan topic? If so how do I do it?
Comment by David Lu on 2015-07-07:
I don't know what you're asking.
Comment by miguel on 2015-07-08:
Sorry, I have set-up the navigation stack with the tutorial on the navigation stack Robot_setup. So I want to  use AMCL to localize my robot. How can I use AMCL because it expects a laserscan  to the topic /scan.
Comment by miguel on 2015-07-08:
and im using the range_sensor_layer for three sonar sensors.
Comment by miguel on 2015-07-08:
Shall I maybe post a new question?
Comment by David Lu on 2015-07-08:
Yeah, this has ventured into new question territory.
Comment by miguel on 2015-07-08:
Ok I have asked the question: here is the link question


Q:

Gmapping and TF frames

Hello,
I'm using Ubuntu 14.04 and ROS indigo
I published base_link>camera_link frames using static_transform_publisher as follows:
<node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="0 0 0.1 0 0 0 1 base_link camera_link 100" />

Then, when I started slam_gmapping it gives the following error:
Laser has to be mounted planar! Z-coordinate has to be 1 or -1, but gave: 0.00000

This is solved when I change X value to 0 in the transformation as follows:
<node pkg="tf" type="static_transform_publisher" name="link1_broadcaster" args="1 0 0.1 0 0 0 1 base_link camera_link 100" />

But this doesn't reflect my robot's situation correctly.
Also, I noticed in rviz that camera_depth_optical_frame and camera_rgb_optical_frame frames are upside down (as in the picture) and it is also upside down when I change the X value to 0.
Is this normal?

Originally posted by nouf on ROS Answers with karma: 71 on 2015-04-30
Post score: 0

A:

If the Z-coord needs to be 1 or negative 1, have you tried setting it to be 1 or negative 1?
Most camera publishers add additional frames (the optical frames) so that the axes align with the camera lens. This means z-axis out the front of the camera, x positive right, and y positive down (the upper-left corner of the screen is 0,0). This is true for depth cameras such as the Kinect, and I'd image that it's the same for your laser scanner.

Originally posted by Adam Allevato with karma: 194 on 2015-05-01
This answer was ACCEPTED on the original site
Post score: 0


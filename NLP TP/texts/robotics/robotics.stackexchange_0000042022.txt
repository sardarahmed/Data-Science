Q:

PointCloud 2 data in turtlebot simulation

hello,
I am running turtelbot simulation and when i Use rviz to visualize pointcloud2 data
than it gives incorrect point cloud . How i can fix this?
any tips would be appreciated As i am new to ros.
In the world image there is no object just in front of the robot but rviz shows some points there ,also when i try to run the robot this "patch" of ploint cloud keeps moving along with the robot .
because of this I am not able to build the correct octomap as it uses pointclud2 data.

I observed that the pointcloud is not forming correctly. Even the clouds of the ground are shown as walls.
Below is the pic of the situation with both world and rviz view of the pointclouds.
Any help here is appreciated!!!
My situation is shown in the attachments.
)

Problem not with the frame of reference but with the pointcloud simulated from the gazebo. It looks like a bug. Any suggestion to overcome this is appreciated!!!

Originally posted by akhil on ROS Answers with karma: 32 on 2012-07-06
Post score: 1

A:

Your fixed frame is wrong. It is set to the camera frame, thus it keeps moving.
You should set it to an actual frame that is fixed in the world, as e.g. /map or /odom. That depends if you have some kind of localization or SLAM.

Originally posted by dornhege with karma: 31395 on 2012-07-07
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by akhil on 2012-07-07:
hey, thanks for your reply but i have already tried /map and /odom but still the point cloud is incorrect
Comment by akhil on 2012-07-07:
By watching above rviz pic I think that the point cloud is not moving with robot, it's actually the point cloud of the floor which comes inside of the camera's frustum but it's being displayed in the wrong direction
Comment by dornhege on 2012-07-13:
I have to admit I can't really match the pointcloud in your image with anything in the world. A bug that just flattens everything seems very weird to me. Did you try driving towards a corner.
Comment by akhil on 2012-07-13:
i tried driving towards the corner and i get the point cloud of the two walls but the point cloud of the floor is shown in the same plane as walls the same thing is happening in the image shown
Comment by dornhege on 2012-07-16:
In that case there is definitely something wrong. I'd suggest following up on Stefan's hints.


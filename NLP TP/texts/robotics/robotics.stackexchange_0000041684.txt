Q:

How to serve a map for pr2_2dnav

Hi, I'd like to serve a map to demonstrate pr2_2dnav with a simulated PR2.
I've read the following wiki.
http://www.ros.org/wiki/pr2_2dnav
When I tried to demonstrate pr2_2dnav, I used a map which I downloaded from wiki. (http://www.ros.org/wiki/slam_gmapping/Tutorials/MappingFromLoggedData)
I mean, I typed as following.
rosrun map_server map_server map.yaml
But, there is a problem.
The served map is 2d, so the environment in rviz is just a plane without any walls.
I'd like to bring up the 3D map,
make the simulated PR2 scan the walls virtually
and make it move using navigation stack in rviz.
How do I solove this?
Thanks in advance.

Originally posted by moyashi on ROS Answers with karma: 721 on 2012-06-25
Post score: 0

A:

You will have to set up a simulation environment that matches your map. I assume that you are using Gazebo for simulating the PR2. To run pr2_2dnav, it's probably easiest to first create a Gazebo world file with your 3D environment and then build a map from that.
For map building, check out this tutorial. For using pr2_2dnav check out this tutorial. It seems like both tutorials are pretty outdated, you will have to replace cturtle by fuerte or electric, and for the latter one you will have to check out and compile the stack wg_robots_gazebo by hand (repository URI:  https://code.ros.org/svn/wg-ros-pkg/stacks/wg_robots_gazebo/trunk) but it should contain all configuration files you need.

Originally posted by Lorenz with karma: 22731 on 2012-06-25
This answer was ACCEPTED on the original site
Post score: 0


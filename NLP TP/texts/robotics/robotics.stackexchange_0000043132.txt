Q:

Kinect crashes on invoking command "rosbag record -a"

I initially had a problem of kinect not starting up again from the following command
"roslaunch openni_launch openni.launch" after it had crashed once.
To that problem i found a solution to kill XnSensorServer first and then use the above command again. The problem solved without any conflicts.
Now the weird error that has cropped up is that when i use "rosbag record -a" (when all images supplied by kinect are viewed in Image_viewer) the images hang and kinect driver crashes producing the following error.
Error [1344683523.942576821]: Cannot stream RGB and IR at the same time. Streaming RGB only.
OpenCV Error: Image step is wrong () in cvInitMatHeader, file /tmp/buildd/ros-fuerte-opencv2-2.4.2-0precise-20120704-1846/modules/core/src/array.cpp, line 162
terminate called after throwing an instance of 'cv::Exception'
what():  /tmp/buildd/ros-fuerte-opencv2-2.4.2-0precise-20120704-1846/modules/core/src/array.cpp:162: error: (-13)  in function cvInitMatHeader
What can be the possible solution.??
Should i record a subset recording only Rgb or Ir at a time ??
Does the solution talked about in start of msg has to do something with this?? (XnSensorServer)

Originally posted by Karan on ROS Answers with karma: 263 on 2012-08-11
Post score: 0

A:

As the error message says, the driver can't publish both RGB and IR images at the same time. rosbag record -a tries to subscribe to ALL advertised topics, thus asking the kinect driver for both RGB and IR, which it can't do. It doesn't seem like the right behavior is for the driver to crash, as you're seeing, but I'm not sure what the right thing for it to do would be.
The solution for now is to specify all the topics you want rather than using -a. On a side note, using -a with the kinect would produce huge bag files very quickly, and your computer probably wouldn't be able to keep up anyway.

Originally posted by Dan Lazewatsky with karma: 9115 on 2012-08-12
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Karan on 2012-08-12:
Thanks i tried using rosbag with depth and image. it worked fine.


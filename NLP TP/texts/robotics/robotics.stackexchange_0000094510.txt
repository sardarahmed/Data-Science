Q:

Control PR2 gripper in moveit grasp pipeline

Hi,
The gripper of the PR2 robot can be controlled with an action client in wich you specify the gripper openning size and the controller handles all the complicated joint control. But in the moveit grasp pipeline (see pick and place tutorial on moveit : http://docs.ros.org/kinetic/api/moveit_tutorials/html/doc/pick_place/pick_place_tutorial.html), we need to specify joint values for the pre_grasp_posture so that moveit can actuate the gripper but also know it's joint positions (see Â§Setting posture of eef before grasp)
With an action server you can't specify these joints, you only specify gripper opening in meter.
So here is my question, how do you set the pre_grasp_posture when all that you have is an action client to control the pr2 gripper (http://wiki.ros.org/pr2_controllers/Tutorials/Moving%20the%20gripper)?
My setup : ROS kinetic, moveit, Ubuntu 16.04, PR2 robot
thanks in advance for all the help.

Originally posted by Madcreator on ROS Answers with karma: 114 on 2020-01-27
Post score: 0

A:

Found finally what was wrong ! When you generate files with setup assistant. It fills automatically the pr2_moveit_controller_manager.launch.xml file with moveit_simple_controller_manager/MoveItSimpleControllerManager but this controller manager doesn't handle gripper command with moveit.
All you need to do is put the pr2_moveit_controller_manager/Pr2MoveItControllerManager instead and add pr2_moveit_plugins package in your catkin workspace.
View https://github.com/ros-planning/moveit_pr2/blob/bec7dc2ef3678e7ea410c43d1bbbbd83e73d60ce/pr2_moveit_config/launch/pr2_moveit_controller_manager.launch.xml.

Originally posted by Madcreator with karma: 114 on 2020-02-11
This answer was ACCEPTED on the original site
Post score: 0


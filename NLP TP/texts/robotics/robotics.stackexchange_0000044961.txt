Q:

Rosdep update problems

Hey,
I just set up a fresh Fuerte Installation on Precise and tried to install rosdep using the deb-packages. I successfully ran:
sudo apt-get install python-rosdep
sudo rosdep init

but
rosdep update

returns:
ERROR: Rosdep experienced an internal error: [Errno 13] Permission denied: '/etc/ros/rosdep/sources.list.d'
Please go to the rosdep page [1] and file a bug report with the stack trace below.
[1] : http://www.ros.org/wiki/rosdep

Traceback (most recent call last):
  File "/usr/lib/pymodules/python2.7/rosdep2/main.py", line 111, in rosdep_main
    exit_code = _rosdep_main(args)
  File "/usr/lib/pymodules/python2.7/rosdep2/main.py", line 230, in _rosdep_main
    return _no_args_handler(command, parser, options, args)
  File "/usr/lib/pymodules/python2.7/rosdep2/main.py", line 238, in _no_args_handler
    return command_handlers[command](options)
  File "/usr/lib/pymodules/python2.7/rosdep2/main.py", line 341, in command_update
    filelist = [f for f in os.listdir(sources_list_dir) if f.endswith('.list')]
OSError: [Errno 13] Permission denied: '/etc/ros/rosdep/sources.list.d'

Seems like rosdep is trying to write somewhere it has no permissions. It works when I do:
sudo rosdep update

But trying to use rosdep, it again tells, it is not initialized:
rosdep install libmove3d move3d_studio

ERROR: your rosdep installation has not been initialized yet.  Please run:
        
    sudo rosdep init
    rosdep update

I don't think there is something wrong with my setup, I just installed ROS Fuerte and rosws fresh, but still it seems to be a problem with my permissions... any idea?

Originally posted by michikarg on ROS Answers with karma: 2108 on 2012-10-16
Post score: 3

A:

I just purged and installed again, same issue. My permissions are missing a read-permisson for others:
sudo ls -la /etc/ros/rosdep/sources.list.d
total 12
drwxr-xr-- 2 root root 4096 Oct 16 14:22 .
drwxr-x--- 3 root root 4096 Oct 16 14:08 ..
-rw-r----- 1 root root  557 Oct 16 14:22 20-default.list

Originally posted by michikarg with karma: 2108 on 2012-10-17
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by michikarg on 2012-10-17:
Manually setting execution-permissions for others in /etc/ros/rosdep solved it for the moment, why have the permissions been set this way? Is there something wrong in the installation procedure?
Comment by felix k on 2012-10-17:
Unless others confirm this bug, I'd say you had bad luck, e.g. those directories existed already, although I don't know what could have set them up..
Comment by michikarg on 2012-10-17:
Yes you're right, I will close this question for now and let's hope it was just a weird coincidence with my configuration...


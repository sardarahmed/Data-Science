Q:

Running navigation stack in Stage - move_base problem appeared

Hi,
We are trying to run navigation stack in stage following the tutorials in order to have a better simulation test. Though right now it is not working as expected.
Description
We followed the tutorial in //www.ros.org/wiki/navigation/Tutorials/RobotSetup to setup the navigation stack for the simulation, except that we changed configurations for global_costmap.yaml to: (we couldn't set the global_frame to /map because once it was launched, it kept looking for transformation from /map to /base_link but couldn't find it)
global_costmap:
    global_frame: /odom
    robot_base_frame: base_link
    update_frequency: 5.0
    width: 40
    height: 80
    static_map: false
    rolling_window: true

And then we created our own .world file for the stage, attaching a ranger model to the robot, and using a bitmap created by us.
After that, we run the stage and navigation stack, and send a single goal using exactly the same codes from //www.ros.org/wiki/navigation/Tutorials/SendingSimpleGoals
Problem
Whatever goals we sent to the stage the robot either moved backward or did not move at all. And after that there always appeared:(These error messages never appear but new problems appeared and is described in Update section)
[ERROR] [1361215607.534558525, 10386.800000000]: Aborting because a valid plan could not be found. Even after executing all recovery behaviors
[ WARN] [1361215607.537462732, 10386.800000000]: The goal sent to the navfn planner is off the global costmap. Planning will always fail to this goal.

After I expanded the global costmap, the error message looked like this:
[ERROR] [1363718920.012470292, 206.400000000]: Rotate recovery can''t rotate in place because there is a potential collision. Cost: -1.00
[ERROR] [1363718920.113570275, 206.500000000]: Aborting because a valid plan could not be found. Even after executing all recovery behaviors

Update
I've echoed the /odom topic and found that whatever simple goal (with quternion x=y=z=0 and w = 1) we send, the twist is always x = -0.1, y = 0, z = 0 for linear and x = y = z = 0 for angular.
Does anyone know what we did wrong and provide some suggestions maybe? Any help is largely appreciated and I'm happy to provide more information if needed.
Thank you!

Originally posted by everfor on ROS Answers with karma: 1 on 2013-02-18
Post score: 0

Original comments
Comment by weiin on 2013-02-19:
looks like the robot is seeing some obstacle close by. The command velocity is most likely the escape velocity. turn on the inflated obstacles in rviz to see what is happening

A:

The problem with the rolling window map that you set up is that due to its width/height limitation of 4/8 meters this is the valid area for the map.
Any goals you set outside this window will not have any information in the map and thus can't be planned to.
You'll just have to make the map big enough for you planning.

Originally posted by dornhege with karma: 31395 on 2013-02-19
This answer was ACCEPTED on the original site
Post score: 2


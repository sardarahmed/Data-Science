Q:

Ament_cmake BUILD_TESTING on by default?

I found it surprising that find_package(ament_cmake REQUIRED) turns BUILD_TESTING on. Is this on purpose? Why? Does this go against the ROS2 principle of "if I don't use a feature, I shouldn't pay for it"?

Originally posted by DanRose on ROS Answers with karma: 274 on 2019-08-02
Post score: 1

A:

ament_cmake exports a dependency on ament_cmake_test which adds the option BUILD_TESTING.  This matches the CTest module which "automatically creates a BUILD_TESTING option that selects whether to enable testing support (ON by default)".
If ament_cmake_test isn't required, then calling find_package() on the individual ament_cmake_* packages needed by a project is the way to go. If ament_cmake_test is needed, the BUILD_TESTING option can be turned off on the command line with the cmake argument -DBUILD_TESTING=OFF. If you're using colcon, use colcon build --cmake-args -DBUILD_TESTING=OFF.

Originally posted by sloretz with karma: 3061 on 2019-08-02
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by DanRose on 2019-08-02:
Thanks, @sloretz! It explains a lot that this is an inherited convention :-).


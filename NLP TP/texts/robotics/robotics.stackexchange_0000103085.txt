Q:

state_interfaces_ empty in custom ros2_control controller

I have created a simple state broadcasting controller, I used the joint state broadcaster as a template.
The inherited state_interfaces_  vector is empty in the controller when I try to validate the interfaces in on_config.
I have setup the interfaces in the ros2_control plugin and set the names in state_interface_configuration in the controller.
I have put debug trace in both the command and sate configuration functions but I don't see the trace running.
Any ideas?

Originally posted by neuromancer2701 on ROS Answers with karma: 71 on 2023-03-01
Post score: 0

A:

The inherited state_interfaces_ is not available until on_activate and that is based on if the correct state interfaces that are setup in state_interface_configuration which takes place after on_config.

Originally posted by neuromancer2701 with karma: 71 on 2023-03-01
This answer was ACCEPTED on the original site
Post score: 0


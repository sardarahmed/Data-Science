Q:

Gazebo empty_world simulation crash in Fuerte

I recently move from Electric to Fuerte. Now if I try to launch a gazebo simulation, it crashed all the time. I Found this related question [http://answers.ros.org/question/34209/gazebo-failed-on-virtualbox-with-fuerte/] But in my case I'm running the simulation on a real machine instead of the virtual one
Here is the error:
joser@JoseR:~$ roslaunch gazebo_worlds empty_world.launch
... logging to /home/joser/.ros/log/d50e15b4-d0ee-11e1-af8c-0025560bd30a/roslaunch-JoseR-17876.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://JoseR:39248/

SUMMARY
========

PARAMETERS
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    empty_world_server (gazebo/gazebo)
    gazebo_gui (gazebo/gui)

auto-starting new master
process[master]: started with pid [17892]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to d50e15b4-d0ee-11e1-af8c-0025560bd30a
process[rosout-1]: started with pid [17905]
started core service [/rosout]
process[empty_world_server-2]: started with pid [17919]
process[gazebo_gui-3]: started with pid [17927]
Gazebo multi-robot simulator, version 1.0.2
Copyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.0.2
Copyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345
[ INFO] [1342626000.683238597]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345
do_wait: drmWaitVBlank returned -1, IRQs don't seem to be working correctly.
Try adjusting the vblank_mode configuration parameter.
do_wait: drmWaitVBlank returned -1, IRQs don't seem to be working correctly.
Try adjusting the vblank_mode configuration parameter.
Qt has caught an exception thrown from an event handler. Throwing
exceptions from an event handler is not supported in Qt. You must
reimplement QApplication::notify() and catch all exceptions there.

terminate called after throwing an instance of 'Ogre::InternalErrorException'
  what():  OGRE EXCEPTION(7:InternalErrorException): Cannot compile GLSL high-level shader : FFPLib_Texturing_VS Cannot compile GLSL high-level shader : FFPLib_Texturing_VS Error: transpose: undeclared function name.
 in GLSLProgram::compile at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/RenderSystems/GL/src/GLSL/src/OgreGLSLExtSupport.cpp (line 65)
/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui: line 2: 17930 Aborted                 `rospack find gazebo`/gazebo/bin/gzclient -g `rospack find gazebo`/lib/libgazebo_ros_paths_plugin.so
[gazebo_gui-3] process has died [pid 17927, exit code 134, cmd /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui __name:=gazebo_gui __log:=/home/joser/.ros/log/d50e15b4-d0ee-11e1-af8c-0025560bd30a/gazebo_gui-3.log].
log file: /home/joser/.ros/log/d50e15b4-d0ee-11e1-af8c-0025560bd30a/gazebo_gui-3*.log
[ INFO] [1342626017.010822562, 0.089000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.
[ INFO] [1342626017.102480860, 2.415000000]: Starting to spin physics dynamic reconfigure node...

I'm trying to run the simulation in a HP pavillion dv3:
Intel(R) Core(TM)2 Duo CPU     T6500  @ 2.10GHz

Linux version 2.6.32-41-generic (buildd@komainu) (gcc version 4.4.3 (Ubuntu 4.4.3-4ubuntu5.1) ) #91-Ubuntu SMP Wed Jun 13 11:43:55 UTC 2012 (Ubuntu 2.6.32-41.91-generic 2.6.32.59+drm33.24)

 joser@JoseR:~$ lspci -v -s `lspci | awk '/VGA/{print $1}'`
00:02.0 VGA compatible controller: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller (rev 07)
    Subsystem: Hewlett-Packard Company Device 306d
    Flags: bus master, fast devsel, latency 0, IRQ 30
    Memory at d0000000 (64-bit, non-prefetchable) [size=4M]
    Memory at c0000000 (64-bit, prefetchable) [size=256M]
    I/O ports at 50f0 [size=8]
    Capabilities: <access denied>
    Kernel driver in use: i915
    Kernel modules: i915

Is it possible to run the gazebo simulation with this hardware?

Originally posted by jrcapriles on ROS Answers with karma: 370 on 2012-07-18
Post score: 1

Original comments
Comment by SL Remy on 2012-09-11:
what errors do you observe when you run rviz?
Comment by hsu on 2012-09-11:
I don't know about the i915 module, but my intel hd graphics 4000 with vesafb kernel module works fine.

A:

I have this same issue on Fuerte with Ubuntu 10.04. My machine is an i5 dual-boot, and strangely gazebo works well on the other partition (Ubuntu 12.04 with Fuerte).

Originally posted by agoto with karma: 46 on 2012-09-19
This answer was ACCEPTED on the original site
Post score: 0


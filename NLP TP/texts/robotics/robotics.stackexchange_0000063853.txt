Q:

image_rotate fails to load libimage_rotate.so in ROS Groovy

I'm attempting to use image_rotate in ROS Groovy (working with a PR2) but whenever I try to run image_rotate I get the following error. I have tested this on three different machines all running ROS Groovy. Any ideas how to resolve this?
$ rosrun image_rotate image_rotate image:=l_forearm_cam/image_color rotated/image:=l_forearm_cam/image_color_rotated __name:=image_rotater

[ERROR] [1415309064.421543229]: Failed to load nodelet [/image_rotater] of type [image_rotate/image_rotate]: Failed to load library /opt/ros/groovy/lib//libimage_rotate.so. Make sure that you are calling the PLUGINLIB_EXPORT_CLASS macro in the library code, and that names are consistent between this macro and your XML. Error string: Could not load library (Poco exception = /opt/ros/groovy/lib//libimage_rotate.so: undefined symbol: _ZTVN3tf212BufferClientE)

Originally posted by fiannaca on ROS Answers with karma: 1 on 2014-11-06
Post score: 0

Original comments
Comment by ahendrix on 2014-11-06:
cross-posted to the issue tracker at https://github.com/ros-perception/image_pipeline/issues/111
Comment by Sudarshan on 2015-01-26:
Were you able to patch image_rotate for groovy? If so, could you please share what needs to be done?

A:

This looks like the image_rotate library isn't linked against tf2 properly.
Since Groovy is EOL, it is no longer possible to do a release to correct this issue.
I recommend upgrading to Hydro if possible. Otherwise, you can try building the Groovy version of image_rotate from source, and patching the bug yourself.

Originally posted by ahendrix with karma: 47576 on 2014-11-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by kilmarnock on 2015-08-31:
I can confirm ahendrix answer:
simply adding  tf2 tf2_ros to the find_package statement did the trick. It would be interesting how ahendrix could find this out.
Comment by ahendrix on 2015-08-31:
I suspected a linking error against tf2 because the error message indicated that it couldn't find the tf2::BufferClient class when loading the library at run-time. (once you pass the undefined reference error through a name demangler).
Comment by kilmarnock on 2015-09-01:
Thank you. My mom did not tell me about name demanglers.


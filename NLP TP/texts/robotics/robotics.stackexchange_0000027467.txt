Q:

OSM/Google Maps with Gazebo

Hi,
Is there a way to import street views from Open Street Maps/Google Maps to use as a Gazebo world file? I'm working on a simulator for an autonomous car, and this would be really helpful!
Thanks in advance.

Originally posted by karthikj219 on Gazebo Answers with karma: 23 on 2015-06-23
Post score: 2

A:

You can view my fork here: https://github.com/l0g1x/gazebo_osm of tashwins gazebo_osm fork (she had unmerged changes into upstream).
I currently took out everything except roads as I have a similar need. I also changed the texture of the road to a simple color for now as the default road texture with lines did not visually merge nicely at intersections, junctions, etc.. It also seems that the osmapi does not give osm node data only from within the boundary box specified. I fixed this and now the outFile.sdf loads alot quicker (within 1 second for me).
Working on it now, so hopefully by tonight ill implement a cubic hermite spline to be applied to the roads/road interections/road junctions to make the roads alot smoother. However, i think this should be done from within the gazebo source for Road2d.cc. But maybe it might be better to already supply smoother points from a higher level (like gazebo_osm)
EDIT: I should also mention that the option of using data from google maps i think is out of the question as it is in their terms of service agreement. Reference here: https://support.google.com/maps/answer/41136
EDIT2: (June 29th) So i have made some progress with implementing a hermite spline to an individual road, however its not perfect and theres still a couple of bugs, but they dont affect the generation of the world file, just the output of the roads once you launch the world has few hickups; primary one being checking if a road contains at least 3 points so that a spline can be applied. Im just learning about splines, but i have a good grasp on it after working on it for past couple of days and reading couple books. Hopefully the ticket to revive the package gets bumped so there is more support for osm with gazebo.

Originally posted by l0g1x with karma: 56 on 2015-06-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by karthikj219 on 2015-06-29:
Thanks a lot for your answer! Will try out your edited version of the gazebo_osm library and get back to you.
Comment by karthikj219 on 2015-06-30:
So, I tried using your edited version of the library, and the default map is working just fine. However, on entering custom latitude/longitude (via interactive mode of the python program), I get an error that says "could not create datasource for type osm".
Comment by l0g1x on 2015-06-30:
sorry, forgot to mention that i disabled some feature to make debugging faster. either you can uncomment the stuff for custom boundaries, or manually download a .osm and load that.
Comment by karthikj219 on 2015-07-01:
Your edited version of the library is giving me an empty world in gazebo when I take the input as a manually downloaded .osm file. I tried uncommenting the custom boundaries stuff too, but no difference. I checked both outFiles, and couldn't find any difference either.
Comment by l0g1x on 2015-07-01:
Try this command to just see if its working ./gz_osm.py -O testFiles/map1.osm i pulled fresh from the repo and it works for me. Im going to make a simple interactive gui to make things easier to use, rather then command line arguements.


Q:

Is the “template” a member of the SubscribeOptions?

In the source code of node_handle.h, Line 252, ops.template init<M>(topic, queue_size);
The link is http://docs.ros.org/lunar/api/roscpp/html/node__handle_8h_source.html#l00249.
I don't understand why the developer wrote ops.template. To my understanding, the template is a key word, the way that ops.template shows looks like the template is a member or method of the ops (template struct).
Does anyone know why the developer put it in this way?  I am very confused about it.
Thanks.

Originally posted by FungY on ROS Answers with karma: 13 on 2018-11-17
Post score: 1

A:

No, template is not a member of ops.

The line of code that you refer to is actually (from here):
ops.template init<M>(topic, queue_size);

In this line, the init(..) method is called on the ops object. So it's essentially ops.init<M>(..).
template is indeed a keyword, but this syntax is needed here to make sure the compiler understands this calls the templated init(..).
This SO Q&A quotes the C++ 03 standard, saying:

When the name of a member template specialization appears after . or -> in a postfix-expression, or after nested-name-specifier in a qualified-id, and the postfix-expression or qualified-id explicitly depends on a template-parameter (14.6.2), the member template name must be prefixed by the keyword template. Otherwise the name is assumed to name a non-template.

Originally posted by gvdhoorn with karma: 86574 on 2018-11-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2018-11-17:
Note that this is more a generic C++ question than something specific to ROS.
Comment by FungY on 2018-11-18:
Thank you so much for the detailed explanation. I will take a look in the template syntax. Thanks again.


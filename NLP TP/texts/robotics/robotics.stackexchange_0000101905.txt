Q:

How to launch nav2 without prior map?

Hello,
I'm trying to setup a nav2 simulation for my robot.
The bringup_launch.py expects a yaml map as input.
I don't want to provide a prior map, but if I don't provide it the robot won't move when I send a goal.
I expected that nav2 would use the global and local maps...
Is it possible to use Nav2 without a prior map ?

Originally posted by Acwok on ROS Answers with karma: 85 on 2022-06-06
Post score: 1

A:

Yes, it is, e.g. during SLAM:
https://navigation.ros.org/tutorials/docs/navigation2_with_slam.html#launch-navigation2

##1- Launch Navigation2
Launch Navigation without nav2_amcl
and nav2_map_server. It is assumed
that the SLAM node(s) will publish to
/map topic and provide the map->odom
transform.
ros2 launch nav2_bringup navigation_launch.py

##2- Launch SLAM
Bring up your choice of SLAM
implementation. Make sure it provides
the map->odom transform and /map
topic. Run Rviz and add the topics you
want to visualize such as /map, /tf,
/laserscan etc. For this tutorial, we
will use SLAM Toolbox.
ros2 launch slam_toolbox online_async_launch.py

##3- Working with SLAM
Move your robot by requesting a goal
through RViz or the ROS 2 CLI (...)

Originally posted by ljaniec with karma: 3064 on 2022-06-06
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Acwok on 2022-06-06:
Thanks for your answer @ljaniec, but I just want to make a quick test without setting up slam.
Is it possible to use the local map instead ?
Comment by Acwok on 2022-06-06:
It is working. I set the map_topic (which defaults to /map) to "/global_costmap/costmap".
Thanks!
Comment by MrOCW on 2022-06-10:
Hi @Acwok, I am attempting navigation without a map. Is that what you are trying to achieve? May I know what are your nav2 parameters?
Comment by Acwok on 2022-06-10:
Hi @MrOCW, I'm doing navigation without a prior map, but I still have the global_costmap and local_costmap enabled otherwise the robot cannot know where are the obstacles.
I plan to do SLAM in the future but I was doing this just to try things.
Here is my param file http://pastebin.fr/107286, hope it helps
Comment by Ãƒustin on 2022-08-15:
Hi @Acwok, would you be able to send that Pastebin again? It seems it has gone dead. I'm also trying to get Nav2 working without a prior map, or any SLAM


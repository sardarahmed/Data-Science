Q:

Cannot load message class for [robot_position/mymsg]. Are your messages built?

I correctly followed the steps as mentioned here: link text
Home>assign2>src>robot_position
Where robot_position is my package name. I created a directory named msg inside it and inside msg directory, I made mymsg.msg file. I wrote this inside it:
float64 x
float64 y

then I added these lines in package.xml file:
<build_depend>message_generation</build_depend>
  <run_depend>message_runtime</run_depend>

then I added message dependencies in CMakeLists.txt file as:
find_package(catkin REQUIRED COMPONENTS
  geometry_msgs
  roscpp
  rospy
  std_msgs
  message_generation
)

then I wrote message_runtime in CMakeLists.txt file  as in here:
catkin_package(
  INCLUDE_DIRS include
  LIBRARIES robot_position
  CATKIN_DEPENDS message_runtime geometry_msgs roscpp rospy std_msgs
  DEPENDS system_lib
)

then I added this:
  add_message_files(
       FILES
       mymsg.msg
     )

and then this:
 generate_messages(
   DEPENDENCIES
   geometry_msgs   std_msgs
 )

and then did this: catkin_make install
Did  I miss anything?

Originally posted by SarSam on ROS Answers with karma: 37 on 2016-03-24
Post score: 0

Original comments
Comment by DavidN on 2016-03-24:
Is there a mymsg.h file inside catkin_ws/devel/include/your_package_name/? If the msg is compiled properly, there should be a .h file generated in the mentioned folder.
Comment by DavidN on 2016-03-24:
Also, after compilation, you can check the msg details by
rosmsg list | grep mymsg
and
rosmsg show your_package_name/mymsg
Comment by SarSam on 2016-03-24:
Thanks for replying,
Is there a mymsg.h file? Yes.
After compilation, yes I can check msg details by rosmsg list | grep mymsg
but rosmsg show your_package_name/mymsg gives error:
Unable to load msg [your_package_name/mymsg]: Cannot locate message [mymsg]: unknown package [your_package_name]..
Comment by DavidN on 2016-03-24:
what is the output of rosmsg list | grep mymsg? By the way, when I say 'your_package_name', I mean to use your package name (which is robot_position)
Comment by SarSam on 2016-03-24:
Sorry, I'm just a beginner.
rosmsg list | grep mymsg

gives this:
robot_position/mymsg
Comment by SarSam on 2016-03-24:
and rosmsg robot_position/mymsg gives this
rosmsg is a command-line tool for displaying information about ROS Message types......

Comment by DavidN on 2016-03-24:
It s ok. We were all beginners once :). The actual command is rosmsg show robot_position/mymsg.  You can dorosmsg -h to see more options of rosmsg
Comment by SarSam on 2016-03-24:
It works fine, shows what's intended
float64 x
float64 y
but I'm having problem when I echo any rostopic! and following message appears
Cannot load message class for [robot_position/mymsg]. Are your messages built?

A:

Before echoing a rostopic, I ran this:    source ~/assign2/devel/setup.bash
and then I did rostopic echo (topic-name)
and it worked.
Note that: assign2 is the name of the directory where I have all my files!

Originally posted by SarSam with karma: 37 on 2016-03-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by DavidN on 2016-03-26:
You can add source ~/your_folder/devel/setup.bash into .bashrc permanently so that it will be sourced automatically each time you open new terminal :)
Comment by SarSam on 2016-03-28:
Thank you! Can you explain how to do that? I couldn't find .bashrc file!
Comment by SarSam on 2016-03-28:
Thank you!
I entered this in terminal: gedit ~/.bashrc and it opened .bashrc file in which I put this source ~/my_folder/devel/setup.bash and saved it.
It indeed is helpful and time-saving!


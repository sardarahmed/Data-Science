Q:

ROS cmake error

leonana69@leo-Lenovo:~/catkin_ws$ catkin_make -DCMAKE_VERBOSE_MAKEFILE=ON
Base path: /home/leonana69/catkin_ws
Source space: /home/leonana69/catkin_ws/src
Build space: /home/leonana69/catkin_ws/build
Devel space: /home/leonana69/catkin_ws/devel
Install space: /home/leonana69/catkin_ws/install
WARNING: Package "cfclient" does not follow the version conventions. It should not contain leading zeros (unless the     number is 0).
####
#### Running command: "cmake /home/leonana69/catkin_ws/src -DCMAKE_VERBOSE_MAKEFILE=ON -    DCATKIN_DEVEL_PREFIX=/home/leonana69/catkin_ws/devel -    DCMAKE_INSTALL_PREFIX=/home/leonana69/catkin_ws/install -G Unix Makefiles" in "/home/leonana69/catkin_ws/build"
####
-- Using CATKIN_DEVEL_PREFIX: /home/leonana69/catkin_ws/devel
-- Using CMAKE_PREFIX_PATH: /home/leonana69/catkin_ws/devel;/opt/ros/kinetic
-- This workspace overlays: /home/leonana69/catkin_ws/devel;/opt/ros/kinetic
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Using Debian Python package layout
-- Using empy: /usr/bin/empy
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/leonana69/catkin_ws/build/test_results
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.7.1
-- BUILD_SHARED_LIBS is on
WARNING: Package "cfclient" does not follow the version conventions. It should not contain leading zeros (unless the     number is 0).
WARNING: Package "cfclient" does not follow the version conventions. It should not contain leading zeros (unless the     number is 0).
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 6 packages in topological order:
-- ~~  - joystick_drivers (metapackage)
-- ~~  - cfclient
-- ~~  - ps3joy
-- ~~  - spacenav_node
-- ~~  - joy
-- ~~  - wiimote
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- +++ processing catkin metapackage: 'joystick_drivers'
-- ==> add_subdirectory(joystick_drivers-indigo-devel/joystick_drivers)
-- +++ processing catkin package: 'cfclient'
-- ==> add_subdirectory(crazyflie-clients-python)
WARNING: Package "cfclient" does not follow the version conventions. It should not contain leading zeros (unless the     number is 0).
Traceback (most recent call last):
  File "/opt/ros/kinetic/share/catkin/cmake/interrogate_setup_dot_py.py", line 259, in <module>
    main()
  File "/opt/ros/kinetic/share/catkin/cmake/interrogate_setup_dot_py.py", line 250, in main
    exec(fh.read(), {{}}, local_vars)
  File "<string>", line 18, in <module>
TypeError: exceptions must be old-style classes or derived from BaseException, not str
CMake Error at /opt/ros/kinetic/share/catkin/cmake/safe_execute_process.cmake:11 (message):
  
  execute_process(/home/leonana69/catkin_ws/build/catkin_generated/env_cached.sh
  "/usr/bin/python"
  "/opt/ros/kinetic/share/catkin/cmake/interrogate_setup_dot_py.py"
  "cfclient"
  "/home/leonana69/catkin_ws/src/crazyflie-clients-python/setup.py"
  "/home/leonana69/catkin_ws/build/crazyflie-clients-python/catkin_generated/setup_py_interrogation.cmake")
  returned error code 1
Call Stack (most recent call first):
  /opt/ros/kinetic/share/catkin/cmake/catkin_python_setup.cmake:69 (safe_execute_process)
  crazyflie-clients-python/CMakeLists.txt:5 (catkin_python_setup)

-- Configuring incomplete, errors occurred!
See also "/home/leonana69/catkin_ws/build/CMakeFiles/CMakeOutput.log".
See also "/home/leonana69/catkin_ws/build/CMakeFiles/CMakeError.log".
Invoking "cmake" failed

It's about the crazyflie-clients-python, if I delete the folder I can pass the cmake.

Originally posted by leonana69 on ROS Answers with karma: 1 on 2016-05-17
Post score: 0

A:

The Crazyflie python client contains some catkin files but it has not been maintained and kept up to date (I am one of the author of the Crazyflie client).
The way to control a Crazyflie from ROS is to use this ROS package: https://github.com/whoenig/crazyflie_ros. I suggest you keep the python client outside of your catkin workspace.

Originally posted by Arnaud Taffanel with karma: 31 on 2016-05-18
This answer was ACCEPTED on the original site
Post score: 0


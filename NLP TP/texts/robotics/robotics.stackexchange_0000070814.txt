Q:

How to assign geometry_msgs / Pose of ROS under arduino circumstances

#include <ros.h>
#include <geometry_msgs/Pose.h>

ros::NodeHandle nh;

geometry_msgs::Pose pose_msgs;
ros::Publisher pose("pose",&pose_msgs);

void setup(){
  // put your setup code here, to run once:
  //Serial.begin(9600);
  nh.initNode();
  nh.advertise(pose);
}

void loop() {
  // put your main code here, to run repeatedly:
  pose_msgs = {[1,2,3],[4,5,6,7]};
  pose.publish(&pose_msgs);
  nh.spinOnce();
  delay(1000);
}

My answer:How to assign geometry_msgs / Pose of ROS under arduino circumstances?

Edit:  How to assign geometry_msgs / Pose of ROS under arduino circumstances?

Originally posted by hua on ROS Answers with karma: 11 on 2015-12-09
Post score: -1

Original comments
Comment by mgruhler on 2015-12-09:
Please add a question...

A:

Check out the message doc here
Afaik, there is no difference between arduino or regular C++ in this case.
Do something along the lines of
pose_msg.position.x = 1.0
pose_msg.position.y = 2.0
pose_msg.position.z = 3.0
pose_msg.orientation.x = 4.0
pose_msg.orientation.y = 5.0
pose_msg.orientation.z = 6.0
pose_msg.orientation.w = 7.0

But make sure, that your quaternion is normalized, which it isn't in the example above!
Also, check again the documentation of how to set up your publishers. What you have there is not correct....

Originally posted by mgruhler with karma: 12390 on 2015-12-10
This answer was ACCEPTED on the original site
Post score: 0


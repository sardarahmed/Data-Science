Q:

Navigation Stack Set up Problems

HI,
Seems I have one or many things mis-configured. My set up is a diff drive robot running most of the sensory code and PC running gmapping and the navigation stack.
I don't want to use a prior map but have the robot build on for itself.
In summary I'm currently getting the following errors from the navigation stack:

[WARN] [1477683958.019214543]: Could not get robot pose, cancelling reconfiguration
[WARN] [1477683959.090176756]: The origin for the sensor at (0.23, -0.40) is out of map bounds. So, the costmap cannot raytrace for it.
[WARN] [1477683960.090218485]: The origin for the sensor at (0.23, -0.40) is out of map bounds. So, the costmap cannot raytrace for it.
[ERROR] [1477685052.876003984]: You must specify at least three points for the robot footprint, reverting to previous footprint.
Costmap2DROS transform timeout. Current time: 1477693313.6131, global_pose stamp: 1477693313.3108, tolerance: 0.3000
[ WARN] [1477693313.614042942]: Could not get robot pose, cancelling reconfiguration
[ WARN] [1477693314.118079439]: Request for map failed; trying again.

I've set up the Nav Stack broadly according to the tutorial
Files I have are:
base_local_planner_params.yaml
TrajectoryPlannerROS:
max_vel_x: 0.45
min_vel_x: 0.1
max_vel_theta: 1.0
min_in_place_vel_theta: 0.4
acc_lim_theta: 3.2
acc_lim_x: 2.5
acc_lim_y: 2.5
holonomic_robot: false
meter_scoring: true

global_costmap_params.yaml
global_costmap:
global_frame: /map
robot_base_frame: base_link
update_frequency: 2.0
static_map: false (Tried both true & false no improvement)

local_costmap_params.yaml
local_costmap:
global_frame: odom
robot_base_frame: base_link
update_frequency: 5.0
publish_frequency: 2.0
static_map: false
rolling_window: true
width: 6.0
height: 6.0
resolution: 0.05
TrajectoryPlannerROS:
max_vel_x: 0.45
min_vel_x: 0.1
max_vel_theta: 1.0
min_in_place_vel_theta: 0.4
acc_lim_theta: 3.2
acc_lim_x: 2.5
acc_lim_y: 2.5
holonomic_robot: false
meter_scoring: true

costmap_common_params.yaml
obstacle_range: 2.5
raytrace_range: 3.0
robot_radius: 0.30
inflation_radius: 0.55
observation_sources: laser_scan_sensor 
laser_scan_sensor: {sensor_frame:  base_laser_link, data_type: LaserScan, topic: base_scan, marking: true, clearing: true}

Graph is set as:

and TF tree:

I'd very much appreciate some ideas/help to get this up and running. I've Googled these errors and whilst common I've not yet found one that provides a fix
Many Thanks
Mark

Originally posted by MarkyMark2012 on ROS Answers with karma: 1834 on 2016-10-28
Post score: 0

A:

some parameters are missed in the costmap_common_params.xml.the parameter footprint like this.
footprint: [[-0.325, -0.325], [-0.325, 0.325], [0.325, 0.325], [0.46, 0.0], [0.325, -0.325]]
should be added into costmap_common_params.xml

Originally posted by pengjiawei with karma: 138 on 2018-01-10
This answer was ACCEPTED on the original site
Post score: 0


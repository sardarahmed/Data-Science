Q:

What is displayed in an RVIZ map?

I am looking at a Map display in RVIZ, using the view_navigation.launch file from the turtlebot_rviz_launchers package (in ROS Hydro).  The map is created from the slam_mapping node fed from the depthimage_to_laserscan/DepthImageToLaserScanNodelet nodelet, fed from a Kinect sensor.  My robot is stationary at the moment.  (It has to be, it's a table :-), but I publish a static TF frame showing that it is stationary.)
I have disabled all of the displays except Map and Grid, and have removed (i.e. clicked on the "Remove" button) the Global Map and Local Map displays (more on that in a minute).
I couldn't upload a screenshot of what I saw when I first wrote this (because I was a newbie and didn't have enough karma to include images), but ahendrix bumped my karma, so I can now include a screenshot.  I'll leave my original textual description in place still.
Here is what I see:

I can see the grid (of course).
I can see black lines which match the walls that my Kinect can see.  These match the  documentation on the wiki at /rviz/DisplayTypes/Map) as being cells that are occupied.  So far this makes sense.
But I can also see a greyish green transparent horizontal bar that is about 1.5 grid cells tall, whose lower left corner is at (-1, -1) and which extends to the right off the grid.  What is this?
I can see a light grey area, shaped like a pie wedge, extending from the origin to the wall markers.  This would seem to be cells for which the occupancy is "unknown" since it is grey.  This seems strange to me that the cells have unknown occupancy, since the (fake) laser can see all the way through them right to the solid wall.  Perhaps they are supposed to be "white" according to the documentation.  It just doesn't look very white to me.  [EDIT: it is white if I change the alpha to 1.0].  OK, this makes sense to me as well.
If I don't remove the Global Map and Local Map displays (even if they are disabled), there is yet another greyish greenish 1x1 square whose left corner is at the origin.  It goes away if I remove both the Global Map and Local Map displays.  [EDIT: Ahhh I just noticed that the Map shows up as a 1x1 square if I delete it (and the other 2 maps) and re-add it.  It turns back into the display I described above once I subscribe to the /map topic.  Furthermore, I notice that I don't have anything publishing /move_base/global_costmap/costmap and /move_base/local_costmap/costmap topics, so I expect the 1x1 square is some sort of default visualization for the Global and Local Map displays that is shown in the absence of anything rational to be displayed.  OK, I suppose that makes sens now too.]
Finally, when I read the documentation, I see that the Map display has 3 parameters: Topic, Alpha, and Request Frequency.
But my version of RVIZ shows 9 parameters: Topic, Alpha, Color Scheme (map vs costmap), Draw Behind, Resolution, Width, Height, Position, and Orientation.  It seems that the online documentation is out of date with respect to my version of RVIZ.  Is there newer/better documentation available someplace?
Thanks for any tips you can give me.
--wpd

Originally posted by wpd on ROS Answers with karma: 249 on 2014-08-03
Post score: 1

Original comments
Comment by ahendrix on 2014-08-04:
I've bumped your karma. You should be able to post links and images now.

A:

It sounds like things are working properly.
The light, pie-shaped wedge you see if probably the free space between your sensor and the wall.
The 1x1 squares you see at the origin are the default visualization of maps. The fact that these show up is probably a bug, but I haven't had time to file a proper bug report or propose a fix. They usually disappear if you disable the map displays.
The extra map parameters you describe aren't documented, but they're fairly self-explanatory. Most of them, such as width, height and orientation, are not editable. The rest allow you to adjust how the map is draw, whether it's in front of or behind other things at the same depth, and the color scheme. Feel free to play with them to get a feel for how they work.
I'm not sure what the greyish-green transparent bar you see is. A screenshot would probably help figure that one out.

Originally posted by ahendrix with karma: 47576 on 2014-08-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by wpd on 2014-08-04:
Hello ahendrix,
Thank you for your prompt response and for bumping my karma.  I didn't mean to imply that things weren't working properly, only that my understanding wasn't working properly :-).  I have updated my post to include the image.
More to follow...
Comment by wpd on 2014-08-04:
The 1x1 squares only disappear if I remove the maps.  Simply disabling them doesn't make them disappear.  As you note, that's probably a bug.  Now that I understand more of what's going on, I can work around that.
Comment by wpd on 2014-08-04:
I now see that the extra map parameters aren't parameters at all, they appear to be from the MapMetaData included in the OccupancyGrid message.  OK, that makes sense as well.
Comment by wpd on 2014-08-04:
Finally, I suspect that the greyish-green transparent bar (now shown in the screenshot) is likely to be the "undecided" cells reported by the mapper.
Thanks for helping me figure all of this out.  Stay tuned for my next (set of) question(s) regarding TF and odometry frames :-).
Comment by ahendrix on 2014-08-04:
Yep; the grayish area on the map in your screenshot is the "unknown" space.


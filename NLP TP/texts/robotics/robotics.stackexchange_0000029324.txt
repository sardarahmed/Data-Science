Q:

Issue with running on windows with miniconda3 install

After running the following commands (Windows 11, Miniconda3):
>> conda create -n ign-ws
>> conda activate ign-ws
>> conda install libignition-gazebo6 --channel conda-forge
Collecting package metadata (current_repodata.json): done
Solving environment: done

==> WARNING: A newer version of conda exists. <==
  current version: 4.12.0
  latest version: 4.14.0

Please update conda by running

    $ conda update -n base -c defaults conda

## Package Plan ##

  environment location: C:\Users\XXXX\.conda\envs\ign-ws

  added / updated specs:
    - libignition-gazebo6

The following packages will be downloaded:

    package                    |            build
    ---------------------------|-----------------
    assimp-5.2.4               |       h4dcb625_2         2.2 MB  conda-forge
    boost-cpp-1.78.0           |       h9f4b32c_1        17.1 MB  conda-forge
    ca-certificates-2022.9.14  |       h5b45459_0         189 KB  conda-forge
    dartsim-6.12.2             |       h9fdad05_2        33.7 MB  conda-forge
    fcl-0.7.0                  |       h2475031_2         6.7 MB  conda-forge
    libdeflate-1.14            |       hcfcfb64_0          73 KB  conda-forge
    libprotobuf-3.21.6         |       h12be248_0         2.4 MB  conda-forge
    libtiff-4.4.0              |       h8e97e67_4         1.1 MB  conda-forge
    libzlib-1.2.12             |       hcfcfb64_3          71 KB  conda-forge
    numpy-1.23.3               |  py310h4a8f9c9_0         6.3 MB  conda-forge
    qt-main-5.15.6             |       hf0cf448_0        68.8 MB  conda-forge
    zlib-1.2.12                |       hcfcfb64_3         116 KB  conda-forge
    ------------------------------------------------------------
                                           Total:       138.6 MB

The following NEW packages will be INSTALLED:

  aom                conda-forge/win-64::aom-3.4.0-h0e60522_1
  assimp             conda-forge/win-64::assimp-5.2.4-h4dcb625_2
  boost-cpp          conda-forge/win-64::boost-cpp-1.78.0-h9f4b32c_1
  bullet-cpp         conda-forge/win-64::bullet-cpp-3.21-hf5e1058_3
  bzip2              conda-forge/win-64::bzip2-1.0.8-h8ffe710_4
  ca-certificates    conda-forge/win-64::ca-certificates-2022.9.14-h5b45459_0
  cli11              conda-forge/win-64::cli11-2.2.0-h0e60522_0
  console_bridge     conda-forge/win-64::console_bridge-1.0.2-h5362a0b_1
  cppzmq             conda-forge/win-64::cppzmq-4.8.1-h4324990_0
  dartsim            conda-forge/win-64::dartsim-6.12.2-h9fdad05_2
  dlfcn-win32        conda-forge/win-64::dlfcn-win32-1.3.0-h0e60522_0
  eigen              conda-forge/win-64::eigen-3.4.0-h2d74725_0
  expat              conda-forge/win-64::expat-2.4.8-h39d44d4_0
  fcl                conda-forge/win-64::fcl-0.7.0-h2475031_2
  ffmpeg             conda-forge/win-64::ffmpeg-4.4.2-gpl_hbb6702b_107
  flann              conda-forge/win-64::flann-1.9.1-h23a95e4_1011
  font-ttf-dejavu-s~ conda-forge/noarch::font-ttf-dejavu-sans-mono-2.37-hab24e00_0
  font-ttf-inconsol~ conda-forge/noarch::font-ttf-inconsolata-3.000-h77eed37_0
  font-ttf-source-c~ conda-forge/noarch::font-ttf-source-code-pro-2.038-h77eed37_0
  font-ttf-ubuntu    conda-forge/noarch::font-ttf-ubuntu-0.83-hab24e00_0
  fontconfig         conda-forge/win-64::fontconfig-2.14.0-hce3cb01_0
  fonts-conda-ecosy~ conda-forge/noarch::fonts-conda-ecosystem-1-0
  fonts-conda-forge  conda-forge/noarch::fonts-conda-forge-1-0
  freeglut           conda-forge/win-64::freeglut-3.2.2-h0e60522_1
  freeimage          conda-forge/win-64::freeimage-3.18.0-h064cf08_10
  freetype           conda-forge/win-64::freetype-2.12.1-h546665d_0
  gettext            conda-forge/win-64::gettext-0.19.8.1-ha2e2712_1008
  glib               conda-forge/win-64::glib-2.72.1-h7755175_0
  glib-tools         conda-forge/win-64::glib-tools-2.72.1-h7755175_0
  gst-plugins-base   conda-forge/win-64::gst-plugins-base-1.20.3-h001b923_1
  gstreamer          conda-forge/win-64::gstreamer-1.20.3-h6b5321d_1
  gts                conda-forge/win-64::gts-0.7.6-h7c369d9_2
  hdf5               conda-forge/win-64::hdf5-1.12.2-nompi_h2a0e4a3_100
  icu                conda-forge/win-64::icu-70.1-h0e60522_0
  imath              conda-forge/win-64::imath-3.1.5-h12d4b20_0
  intel-openmp       conda-forge/win-64::intel-openmp-2022.1.0-h57928b3_3787
  jpeg               conda-forge/win-64::jpeg-9e-h8ffe710_2
  jsoncpp            conda-forge/win-64::jsoncpp-1.9.5-h2d74725_1
  jxrlib             conda-forge/win-64::jxrlib-1.1-h8ffe710_2
  krb5               conda-forge/win-64::krb5-1.19.3-h1176d77_0
  lcms2              conda-forge/win-64::lcms2-2.12-h2a16943_0
  lerc               conda-forge/win-64::lerc-4.0.0-h63175ca_0
  libblas            conda-forge/win-64::libblas-3.9.0-16_win64_mkl
  libcblas           conda-forge/win-64::libcblas-3.9.0-16_win64_mkl
  libccd-double      conda-forge/win-64::libccd-double-2.1-h0e60522_3
  libclang           conda-forge/win-64::libclang-14.0.6-default_h77d9078_0
  libclang13         conda-forge/win-64::libclang13-14.0.6-default_h77d9078_0
  libcurl            conda-forge/win-64::libcurl-7.83.1-h789b8ee_0
  libdeflate         conda-forge/win-64::libdeflate-1.14-hcfcfb64_0
  libffi             conda-forge/win-64::libffi-3.4.2-h8ffe710_5
  libglib            conda-forge/win-64::libglib-2.72.1-h3be07f2_0
  libiconv           conda-forge/win-64::libiconv-1.16-he774522_0
  libignition-cmake2 conda-forge/win-64::libignition-cmake2-2.15.0-h63175ca_0
  libignition-commo~ conda-forge/win-64::libignition-common4-4.5.1-hf2bc273_1
  libignition-fuel-~ conda-forge/win-64::libignition-fuel-tools7-7.1.0-h4cc2e26_1
  libignition-gazeb~ conda-forge/win-64::libignition-gazebo6-6.10.0-h4b96721_8
  libignition-gui6   conda-forge/win-64::libignition-gui6-6.6.1-hd07b03e_1
  libignition-math6  conda-forge/win-64::libignition-math6-6.11.0-py310h62d8b2e_1
  libignition-msgs8  conda-forge/win-64::libignition-msgs8-8.6.0-hc6328b4_1
  libignition-physi~ conda-forge/win-64::libignition-physics5-5.2.0-h63175ca_0
  libignition-plugi~ conda-forge/win-64::libignition-plugin1-1.3.0-h0e60522_0
  libignition-rende~ conda-forge/win-64::libignition-rendering6-6.5.1-he5265a2_0
  libignition-senso~ conda-forge/win-64::libignition-sensors6-6.6.0-hd02b47e_2
  libignition-tools1 conda-forge/win-64::libignition-tools1-1.5.0-h0e60522_0
  libignition-trans~ conda-forge/win-64::libignition-transport11-11.2.0-h756b1e7_1
  libignition-utils1 conda-forge/win-64::libignition-utils1-1.4.0-h0e60522_0
  liblapack          conda-forge/win-64::liblapack-3.9.0-16_win64_mkl
  libode             conda-forge/win-64::libode-0.16.2-h8a704f9_10
  libogg             conda-forge/win-64::libogg-1.3.4-h8ffe710_1
  libpng             conda-forge/win-64::libpng-1.6.37-h1d00b33_4
  libprotobuf        conda-forge/win-64::libprotobuf-3.21.6-h12be248_0
  libraw             conda-forge/win-64::libraw-0.20.2-hee1bdec_1
  libsdformat12      conda-forge/win-64::libsdformat12-12.5.0-h621a081_1
  libsodium          conda-forge/win-64::libsodium-1.0.18-h8d14728_1
  libsqlite          conda-forge/win-64::libsqlite-3.39.3-hcfcfb64_0
  libssh2            conda-forge/win-64::libssh2-1.10.0-h680486a_3
  libtiff            conda-forge/win-64::libtiff-4.4.0-h8e97e67_4
  libvorbis          conda-forge/win-64::libvorbis-1.3.7-h0e60522_0
  libwebp-base       conda-forge/win-64::libwebp-base-1.2.4-h8ffe710_0
  libxml2            conda-forge/win-64::libxml2-2.9.14-hf5bbc77_4
  libzip             conda-forge/win-64::libzip-1.9.2-hfed4ece_1
  libzlib            conda-forge/win-64::libzlib-1.2.12-hcfcfb64_3
  lz4-c              conda-forge/win-64::lz4-c-1.9.3-h8ffe710_1
  mkl                conda-forge/win-64::mkl-2022.1.0-h6a75c08_874
  numpy              conda-forge/win-64::numpy-1.23.3-py310h4a8f9c9_0
  octomap            conda-forge/win-64::octomap-1.9.7-h5362a0b_0
  ogre               conda-forge/win-64::ogre-1.10.12-hab73eff_9
  ogre-next          conda-forge/win-64::ogre-next-2.2.6-hdef13af_0
  openexr            conda-forge/win-64::openexr-3.1.5-hab3b255_0
  openh264           conda-forge/win-64::openh264-2.3.0-h0e60522_0
  openjpeg           conda-forge/win-64::openjpeg-2.5.0-hc9384bd_1
  openssl            conda-forge/win-64::openssl-1.1.1q-h8ffe710_0
  pcre               conda-forge/win-64::pcre-8.45-h0e60522_0
  pip                conda-forge/noarch::pip-22.2.2-pyhd8ed1ab_0
  pugixml            conda-forge/win-64::pugixml-1.11.4-h0e60522_0
  pybind11-abi       conda-forge/noarch::pybind11-abi-4-hd8ed1ab_3
  python             conda-forge/win-64::python-3.10.6-h9a09f29_0_cpython
  python_abi         conda-forge/win-64::python_abi-3.10-2_cp310
  qt-main            conda-forge/win-64::qt-main-5.15.6-hf0cf448_0
  ruby               conda-forge/win-64::ruby-2.7.2-h1d9c0f5_8
  sdl2               conda-forge/win-64::sdl2-2.0.22-h0e60522_2
  setuptools         conda-forge/noarch::setuptools-65.3.0-pyhd8ed1ab_1
  svt-av1            conda-forge/win-64::svt-av1-1.2.1-h0e60522_0
  tbb                conda-forge/win-64::tbb-2021.5.0-h91493d7_2
  tinyxml            conda-forge/win-64::tinyxml-2.6.2-h2d74725_2
  tinyxml2           conda-forge/win-64::tinyxml2-9.0.0-h0e60522_2
  tk                 conda-forge/win-64::tk-8.6.12-h8ffe710_0
  tzdata             conda-forge/noarch::tzdata-2022c-h191b570_0
  ucrt               conda-forge/win-64::ucrt-10.0.20348.0-h57928b3_0
  urdfdom            conda-forge/win-64::urdfdom-3.1.0-h33150cf_1
  urdfdom_headers    conda-forge/win-64::urdfdom_headers-1.1.0-h5362a0b_0
  vc                 conda-forge/win-64::vc-14.2-hb210afc_7
  vs2015_runtime     conda-forge/win-64::vs2015_runtime-14.29.30139-h890b9b1_7
  wheel              conda-forge/noarch::wheel-0.37.1-pyhd8ed1ab_0
  x264               conda-forge/win-64::x264-1!164.3095-h8ffe710_2
  x265               conda-forge/win-64::x265-3.5-h2d74725_3
  xz                 conda-forge/win-64::xz-5.2.6-h8d14728_0
  yaml               conda-forge/win-64::yaml-0.2.5-h8ffe710_2
  zeromq             conda-forge/win-64::zeromq-4.3.4-h0e60522_1
  zlib               conda-forge/win-64::zlib-1.2.12-hcfcfb64_3
  zstd               conda-forge/win-64::zstd-1.5.2-h7755175_4
  zziplib            conda-forge/win-64::zziplib-0.13.69-h1d00b33_1

Proceed ([y]/n)? y

Downloading and Extracting Packages
boost-cpp-1.78.0     | 17.1 MB   | ############################################################################ | 100%
libdeflate-1.14      | 73 KB     | ############################################################################ | 100%
zlib-1.2.12          | 116 KB    | ############################################################################ | 100%
libtiff-4.4.0        | 1.1 MB    | ############################################################################ | 100%
dartsim-6.12.2       | 33.7 MB   | ############################################################################ | 100%
fcl-0.7.0            | 6.7 MB    | ############################################################################ | 100%
libzlib-1.2.12       | 71 KB     | ############################################################################ | 100%
qt-main-5.15.6       | 68.8 MB   | ############################################################################ | 100%
ca-certificates-2022 | 189 KB    | ############################################################################ | 100%
libprotobuf-3.21.6   | 2.4 MB    | ############################################################################ | 100%
assimp-5.2.4         | 2.2 MB    | ############################################################################ | 100%
numpy-1.23.3         | 6.3 MB    | ############################################################################ | 100%
Preparing transaction: done
Verifying transaction: done
Executing transaction: done

>> ign gazebo shapes.sdf

we get the following error:
Library error: C:/Users/XXXX/.conda/envs/ign-ws/Library/lib/ignition-tools-backward.dll not found. Improved backtrace generation will be disabled
Library error for [C:/Users/XXXX/.conda/envs/ign-ws/Library/lib/ignition-gazebo6-ign.dll]: can't load C:/Users/XXXX/.conda/envs/ign-ws/Library/lib/ignition-gazebo6-ign.dll

What are we doing wrong?
Thank you,
Mike

Originally posted by mikebynet on Gazebo Answers with karma: 1 on 2022-09-15
Post score: 0

Original comments
Comment by scpeters on 2022-09-21:
Sorry I don't know what is wrong. We have recently been testing the gazebo installation tutorials, but no one has assigned themselves for testing the windows tutorial: https://github.com/gazebosim/garden-tutorial-party/issues/1980

A:

I think that the problem has been reported here https://github.com/conda-forge/libignition-gazebo-feedstock/issues/47 and there is a patch waiting to be resolved in https://github.com/gazebosim/gz-sim/pull/1574. I'll try to work on it in the next days.

Originally posted by Jose Luis Rivero with karma: 1485 on 2022-09-21
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by mikebynet on 2022-09-27:
Thank you, Jose.
Any news on an update?
Comment by Jose Luis Rivero on 2022-09-29:
Arg, I've started to look into the failing test for log in https://github.com/gazebosim/gz-sim/pull/1574 but did not finish with it yet.
Comment by mikebynet on 2022-09-29:
So re-installed Ubuntu on WSL2 Windows 11 from scratch and compiled all the source according to: https://github.com/gazebosim/gz-sim/issues/1116#issuecomment-1142388038
Things seem to be ok when I run this:
LIBGL_ALWAYS_SOFTWARE=1 ign gazebo -r ./my_sensor.sdf --verbose

But when I run without  LIBGL_ALWAYS_SOFTWARE=1, I get this:
OGRE EXCEPTION(9:UnimplementedException):  in GL3PlusTextureGpu::copyTo at /build/ogre-next-UFfg83/ogre-next-2
.2.5+dfsg3/RenderSystems/... (line 677)


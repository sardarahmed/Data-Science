Q:

rosbags-convert fails with assertion error

I am trying to convert some fairly large (~50GB) bag files recorded in melodic so that I can use it with humble. I'm using the rosbags python library.
It fails with ERROR: Converting rosbag: AssertionError()
There is no other information. I have tried reindexing the bag file, but that doesn't solve the problem and I can't think of anything else that could cause this issue. I couldn't find any information on this issue and I can't think of a solution.
The files are in an external flash drive.
A ros2 bag file is created, but it is either empty or has a few messages.
What could be causing this issue, and is there any solution/workaround which would help me convert these bag files?
UPDATES:
I have been working on the problem, and so far, I have discovered the following:

This seems to be unique to rosbags generated on the mobile robot. bag files generated on a computer running melodic, recorded from mostly the same sensors, seem to work fine. This seems to be the case regardless of the size of the file (I couldn't generate 50GB files on the computer, but a ~300MB file recorded on the robot failed to convert as well).
There is also no dependence on batch size used in rosbag record and on whether messages are dropped.
Trying to read the bag files on rosbags1.reader results in   UnicodeDecodeError: 'utf-8' codec can't decode byte 0xdb in position 9: invalid continuation byte
But this doesn't seem unique to the bags that fail so that might be user error. Still working on that one. Incidentally, the bags that I managed to convert can be played with ros2 bag play and read with rosbags2.reader with no issues.

A:

Solved(?)
Turns out, rosbags-convert didn't like the /tf topic for some reason, which appears to be published from two connections. I'm not sure if it's because it's the /tf topic or because there were two connections. The rosbags that converted fine had no /tf topic.
Removing the /tf topic as given in the answers to this question seems to have solved the problem.
EDIT: On further investigation, it's not the presence of the /tf topic, it appears to have something to do with rosbag filter. Bags recorded on the robot won't convert, but once I run them through filter on the computer, they do. No idea why though.


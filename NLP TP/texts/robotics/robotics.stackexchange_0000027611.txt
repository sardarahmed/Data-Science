Q:

Surprising tutorial behavior when using model->SetLinearVel. Also, where can I learn more?

I've got questions about behavior seen in the model-plugin tutorial:
http://gazebosim.org/tutorials?tut=plugins_model&cat=write_plugin
When I compile and run it the box slides along the ground for a bit then starts to turn over.  Why does this happen?  Is the ground bumpy or something?  It appears smooth.
The behavior is also surprising because the plugin uses SetLinearVel() so I thought that would constrain the linear velocity of the box's center of mass but when it starts to flip over the z-component of velocity must be non-zero.  Any comments about this discrepancy?
Finally, can you tell me where I can learn about what functions are available for links and models so that I can learn to write plugins controlling multi-link bodies?

Originally posted by raequin on Gazebo Answers with karma: 165 on 2016-01-14
Post score: 1

Original comments
Comment by raequin on 2016-01-14:
Maybe SetLinearVel has been changed "to refer to setting the velocity state (like an initial condition), but not turning on a persistent motor controller" like SetVelocity has, according to this answer:
http://answers.gazebosim.org/question/8371/kobukiturtlebot-doesnt-move-when-given-velocity-commands-in-gazebo-5/?answer=8377#post-id-8377

A:

To answer the first question, the box turns over because of friction coefficient, which has a default value of 1.  Update your collision to below to prevent rolling:
    <collision name="collision">
      <geometry>
        <box>
          <size>1 1 1</size>
        </box>
      </geometry>
      <surface>
        <friction>
          <ode>
            <mu>0</mu>
            <mu2>0</mu2>
          </ode>
        </friction>
      </surface>
    </collision>

And remember, even though the tutorial moves the block with Model::SetLinearVel, which forces CG's linear motion in a straight line, physics dictates that there is still a downward gravity force, and there is still an upward normal contact force and its corresponding tangential friction forces. Ultimately, the combination of forces imparts a rolling moment about CG of the box, causing it to tumble.

Originally posted by hsu with karma: 1873 on 2016-01-16
This answer was ACCEPTED on the original site
Post score: 2


Q:

Hector slam visualization error

Hello
I am new to ROS and I want to use the hector_slam package. I managed to install and built it. The example shown in the tutorial worked fine, rviz showed how the map, when playing the file with "rosbag play ...".
After trying to adjust the launch files so that it works with our laserscanner and robot the system didn't work correctly.
Before trying to reverse all changes I decided to set up a new system and install and  built ros and hector_slam again.
Since then the example doesn't work anymore. I can see in rviz that data of the actual scans is correct, but the map drawing doesn't work anymore.
I am using Kubuntu 11.10 and ros electric.
Does anyone have an idear, what the problem could be.
Thx in advance
Jochen

Originally posted by Jochen on ROS Answers with karma: 11 on 2012-06-04
Post score: 1

Original comments
Comment by Messi on 2013-06-08:
could you share your launch file?

A:

The problem is that there is a map->odom in the datasets we uploaded, from the online mapping phase. If postprocessing, the map->odom transform gets estimated by hector_mapping again, resulting in artifacts as tf tries to interpolate between the old and new transforms. To get rid of this problem you can filter the old transform out of the bagfiles like so:
rosbag filter Team_Hector_MappingBox_RoboCup_2011_Rescue_Arena.bag  Team_Hector_MappingBox_RoboCup_2011_Rescue_Arena_filtered.bag 'topic != "/tf" or "map" not in m.transforms[0].header.frame_id'

After doing that and playing back the filtered bagfile as described in the 'Mapping using logged data' tutorial, laser scans should be visualized correctly aligned if decay time is set to a value >0.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2012-06-04
This answer was ACCEPTED on the original site
Post score: 1


Q:

How to make rosbuild package depend on catkin package?

In my rosbuild package I have a dependency one of my catkin packages:
<depend package="myCatkinPackage"/>

Calling rosmake myRosbuildPackage generates an error since the catkin package was not found. I can roscd to both catkin and rosbuild packages. I tried overlaying my rosbuild ws on top of my catkin ws:
$ cd ~/path/to/rosbuild_ws
$ rosws init . ~/path/to/catkin_ws/devel
$ source setup.sh

Now it does not find any rosbuild packages (only the catkin_ws is in the ROS_PACKAGE_PATH).
What is the correct way of depending on catkin packages from rosbuild?

Originally posted by Ola Ringdahl on ROS Answers with karma: 328 on 2013-11-26
Post score: 1

A:

I figured out a way to get it to work without involving rosws and setupfiles. I just added the following line to bashrc:
export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:~/path/to/catkin_ws/devel/lib/pkgconfig

Originally posted by Ola Ringdahl with karma: 328 on 2013-11-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by dornhege on 2013-11-27:
This looks like a hack. The principle of what you were trying is correct: Overlay the catkin_ws from the rosbuild one.
Comment by Ola Ringdahl on 2013-11-27:
This is basically what setup.sh does (but it does not add it to bashrc of course). On top of that, the setup file also changes ROS_PACKAGE_PATH to point only on catkin_ws (but not rosbuild_ws), which is kind of counterproductive. The best thing with my solution is that it works ;-)
Comment by dornhege on 2013-11-27:
It just seems to me that setup.sh should do everything you need (e.g. correct ROS_PACKAGE_PATH) and if it doesn't the setup is somewhat wrong, which might get you into trouble later.


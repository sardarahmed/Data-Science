Q:

uvc_camera launch and stereo node failing

I'm attempting to run stereo cameras using the uvc_camera package in ros electric ubuntu 11.10
My launch file is:
    <launch>
<group ns="stereo">
  <node pkg="uvc_camera" type="stereo_node" name="uvc_camera_stereo">
    <param name="width" type="int" value="640" />
    <param name="height" type="int" value="480" />
    <param name="fps" type="int" value="10" />
    <param name="frame_id" type="string" value="/stereo_frame" />
    <param name="left/device" type="string" value="/dev/video2" />
    <param name="right/device" type="string" value="/dev/video1" />
    <param name="left/camera_info_url" type="string" value=value="file://$(find uvc_camera)/left_camera.yaml" />
    <param name="right/camera_info_url" type="string" value="file://$(find uvc_camera)/right_camera.yaml" />
  </node>
  <!--node pkg="stereo_image_proc" type="stereo_image_proc" name="pabi_stereo_proc"/-->
  <node pkg="image_view" type="image_view" name="viewer_right" />
    <remap from="image" to="stereo/right/image_raw"/>
</group>
</launch>

When I run my launch file I get the following:
doc@Smiley:~$ roslaunch uvc_camera pabi_stereo_cam.launch 
... logging to /home/doc/.ros/log/9a8ef6c4-f2a9-11e1-95b5-8ca98251a89e/roslaunch-Smiley-15628.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://Smiley:33599/

SUMMARY
========

PARAMETERS
 * /stereo/uvc_camera_stereo/right/camera_info_url
 * /rosdistro
 * /stereo/uvc_camera_stereo/left/camera_info_url
 * /stereo/uvc_camera_stereo/frame_id
 * /stereo/uvc_camera_stereo/fps
 * /stereo/uvc_camera_stereo/left/device
 * /rosversion
 * /stereo/uvc_camera_stereo/width
 * /stereo/uvc_camera_stereo/right/device
 * /stereo/uvc_camera_stereo/height

NODES
  /stereo/
    uvc_camera_stereo (uvc_camera/stereo_node)
    stereo_proc (stereo_image_proc/stereo_image_proc)
  /
    viewer_right (image_view/image_view)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
process[stereo/uvc_camera_stereo-1]: started with pid [15646]
process[stereo/stereo_proc-2]: started with pid [15647]
process[viewer_right-3]: started with pid [15648]
unable to set control: Input/output error

(image:15648): Gtk-WARNING **: Unable to locate theme engine in module_path: "pixmap",

(image:15648): Gtk-WARNING **: Unable to locate theme engine in module_path: "pixmap",

(image:15648): Gtk-WARNING **: Unable to locate theme engine in module_path: "pixmap",

(image:15648): Gtk-WARNING **: Unable to locate theme engine in module_path: "pixmap",
unable to set control: Input/output error
terminate called after throwing an instance of 'std::runtime_error'
  what():  unable to start capture
[stereo/uvc_camera_stereo-1] process has died [pid 15646, exit code -6].
log files: /home/doc/.ros/log/9a8ef6c4-f2a9-11e1-95b5-8ca98251a89e/stereo-uvc_camera_stereo-1*.log

The .log files aren't much help and I can't seem to figure out where the failure is. I can run camera nodes and while they are streaming I get unable to set control messages. I've edited the uvc_cam.cpp file to only use the correct settings for my camera but at least 1 other setting seems to be set. I really need to get the stereo node running and I'm at a bit of a loss.

Originally posted by DocSmiley on ROS Answers with karma: 127 on 2012-08-30
Post score: 0

A:

This is a total guess, but have you checked that you have the right permissions on /dev/video1 and /dev/video2?

Originally posted by Martin Peris with karma: 5625 on 2012-08-30
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to make custom global planner plugin communicate with local planner?

Hi all,
Recently I have been developing my own global planner plugin for research purpose, but since I adapted source code from 3rd party projects, it turns out to be a collage and I may have miss something. I followed the tutorial Writing a global path planner as plugin in ROS and can successfully compile and plan paths as a goal is given via Rviz. There is no issue on TF frames nor any plugin loading problem, global and local costmap can be loaded and shown on Rviz, except that there is no local costmap update at the local planner side.
My question is then, what are the crucial components to make both planners communicate ? Why can't my global planner plugin sends anything at all to the local planner? Where and how can I start digging in? Thank you in advance !

Originally posted by Megacephalo on ROS Answers with karma: 106 on 2016-04-09
Post score: 0

A:

move_base (http://wiki.ros.org/move_base) is responsible for "coordinating" the different components, such as the global and local planner plugins, the recovery behaviors, and the layered costmaps.
Make sure you are actually loading and parametrizing a local planner and a local costmap. move_base will then pass the plan generated by your global planner to the local planner for execution.
Check out this tutorial as well: http://wiki.ros.org/navigation/Tutorials/RobotSetup

Originally posted by spmaniato with karma: 1788 on 2016-04-09
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Megacephalo on 2016-04-12:
Thank you spmaniato! I wemt through the 2 tutorials and I did load both parameter files. The problem is that local costmap doesn't pop up, and there is a significant error on localization using AMCL. Is  there a corelation between localization and proper functioning of local costmap?
Comment by spmaniato on 2016-04-12:
Hmm. Maybe rostopic echo /move_base/local_costmap and check if (i) it's being published and (ii) whether it's all zeros or not. If it's all zeros (for whatever reason) then it won't show up in RViz.
Comment by Megacephalo on 2016-04-12:
I did check and strangely, it does not graphically show itself on Rviz, but now, I am sure it publishes values other than zeros. And I did resolved the problem. Thank you !
Comment by spmaniato on 2016-04-12:
Awesome. Glad I could help a bit :-)


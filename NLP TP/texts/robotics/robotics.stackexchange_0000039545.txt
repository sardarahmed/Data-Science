Q:

load parameters from yaml file API

Is there a way to load .yaml file in C++ and override the parameters in some given namespace? I know this can be done in launch files using <rosparam load...>, but can I do it in my code?
Thanks in advance.

Originally posted by K Chen on ROS Answers with karma: 391 on 2012-04-13
Post score: 2

A:

You can use yaml-cpp to read the dump file yourself, but I don't recommend it. For most ROS applications, <rosparam load ...> will be cleaner and more flexible.
Why do you prefer handling it yourself?
ANSWER: to provide parameter persistence.
UPDATE: I think the usual solution is to run "rosparam dump" before shutting down the parameter server.
There should be an automatic way to do that, but I don't know how. Maybe someone else can suggest a good technique. I guess you could run system("rosparam dump ...") yourself before exiting.

Originally posted by joq with karma: 25443 on 2012-04-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by K Chen on 2012-04-14:
Because I want to keep the parameters in ParamServer and .yaml files synchronized, e.g. changing the .yaml file could affect the params, and when the application exits, the .yaml file could be updated to store the newly updated params.
Comment by K Chen on 2012-04-14:
Does ROS have this kind of API?
Comment by K Chen on 2012-04-14:
Thanks for your reply, but I am looking for some automatic way to do that in C++ (rosparam is written in python though, and there are differences between rospy and roscpp APIs)
Comment by joq on 2012-04-15:
You can call system() in C++.
Comment by HarryLi on 2023-07-05:
Hi joq. I know this is an old post. Have you figured it out how to load YAML instead of using rosparam load in C++? I am facing the same question now. Thanks!


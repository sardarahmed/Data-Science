Q:

Rosmake rosconsole fail on OSx Lion

Hi all,
I'm trying building ros under osx Lion by following the tutorial reported on the ROS website. I have installed macports and the latest version of XCode.
I applied the patch reported here: https://code.ros.org/trac/ros/ticket/3626
Otherwise the compilation of rosconsole still fails with the following error:
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
[rosbuild] Building package rosconsole
[rosbuild] Including /Users/luca/Software/ros/electric/ros_comm/clients/roslisp/cmake/roslisp.cmake
[rosbuild] Including /Users/luca/Software/ros/electric/ros_comm/clients/rospy/cmake/rospy.cmake
[rosbuild] Including /Users/luca/Software/ros/electric/ros_comm/clients/cpp/roscpp/cmake/roscpp.cmake
-- Configuring done
-- Generating done
CMake Warning:
  Manually-specified variables were not used by the project:

    CMAKE_TOOLCHAIN_FILE

-- Build files have been written to: /Users/luca/Software/ros/electric/ros_comm/tools/rosconsole/build
cd build && make -l8
[  0%] Built target rospack_genmsg_libexe
[  0%] Built target rosbuild_precompile
Linking CXX shared library ../lib/librosconsole.dylib
clang: warning: argument unused during compilation: '-pthread'
ld: library not found for -llog4cxx
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[3]: *** [../lib/librosconsole.dylib] Error 1
make[2]: *** [CMakeFiles/rosconsole.dir/all] Error 2
make[1]: *** [all] Error 2
make: *** [all] Error 2

It seems that it is not able to find log4cxx. Otherwise it is installed through macport and the .profile file is configured for seeing it. This is my .profile:
# MacPorts Installer addition on 2011-10-21_at_13:20:04: adding an appropriate PATH variable for use with MacPorts.
export PATH=/opt/local/bin:/opt/local/sbin:$PATH
# Finished adapting your PATH environment variable for use with MacPorts.

# ROS
source /Users/luca/Software/ros/electric/setup.bash
[ -f ~/.git-bash-completion.sh ] && . ~/.git-bash-completion.sh

# define colors
export CLICOLOR=1
export LSCOLORS=ExFxCxDxBxegedabagacad
 
export CPATH=/opt/local/include:/usr/local/include
export LIBRARY_PATH=/opt/local/lib:/usr/local/lib:/usr/lib/
export LD_LIBRARY_PATH=/opt/local/lib:/usr/local/lib
export DYLD_FALLBACK_LIBRARY_PATH=$DYLD_FALLBACK_LIBRARY_PATH:/opt/local/lib:/opt/local/Library/Frameworks:/usr/local/lib:/usr/lib/

Is there a know solution?
Thanks!

Originally posted by LucaGhera on ROS Answers with karma: 128 on 2011-11-29
Post score: 0

A:

If you are not married to Macports, William has also done a lot of good work getting ROS up and running using Homebrew. This is how I installed ROS on Lion and it was pretty painless.

Originally posted by Kevin with karma: 2962 on 2011-12-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Kevin on 2011-12-05:
You really shouldn't because both ports and brew will want to install some of the same stuff (e.g., cmake, cairo, boost, etc) depending on what you need. You may get conflicts with software building with one version of boost but trying to run with another (or visa versa). So it is generally not done
Comment by LucaGhera on 2011-12-05:
@Kevin Can MacPort and Homebrew coexist? I'm using macport for other stuff...


Q:

Error "convert main.wrl to main.dae " When changing the model for Nextage robot

Hello everybody. I need change robot model for Nextage Robot. I have tried to follow the instructions on this page:
http://wiki.ros.org/rtmros_nextage/Tutorials/Changing%20Nextage%20Grippers%20in%20Robot%20Model
But When I went to steps [2.2.2 Create COLLADA model] and  executed the second command:
$ rosrun openhrp3 export-collada -i main.wrl -o main.dae

the following error occurred:
Node is inconvertible and removed from the scene graph
Node is inconvertible and removed from the scene graph
Warning: Mass is zero. <Model>HiroNX <Link>CHEST_JOINT0
Warning: Mass is zero. <Model>HiroNX <Link>WAIST
Collada Info: init COLLADA writer version: 1.5.0, namespace: http://www.collada.org/2008/03/COLLADASchema
Collada Warning: shape index is not SP_MESH type, could result in inaccuracies
I/O error : Permission denied
I/O error : Permission denied
error : xmlNewTextWriterFilename : cannot open uri
COLLADA error: daeLIBXMLPlugin::write(file:/opt/ros/indigo/share/nextage_description/models/main.dae) Error creating the xml writer
terminate called after throwing an instance of 'OpenHRP::ModelLoader::ModelLoaderException'
中止 (コアダンプ)

Did anybody know about this problem, please help me to solve it!

UPDATE (moved from answer section by @130s):
Thank you very much for your kindly help.
1.
Yes .You were right. I couldn't  typed directly in the file main.wrl  of the folder  :/opt/ros/indigo/share/nextage_description/models$ vim main.wrl
Therefore, I copied the file main.wrl to the  folder :home/zun/NEXTAGE_tool
by the command :
$ sudo cp /opt/ros/indigo/share/nextage_description/models/main.wrl  NEXTAGE_tool/ 

and revised it as following:
                                                    Transform {
                                                        translation -0.065 0 0
                                                        children [
                                                          Inline { url "ChuckHand.wrl" }
                                                          #Inline { url "toolll.wrl" }
                                                        ]
                                                      }

Then copied reversely by the command:
 $ sudo cp /NEXTAGE_tool/main.wrl opt/ros/indigo/share/nextage_description/models/  

Then I executed the step 2.2.2 and the error occurred:
  zun@zun-ThinkPad-X1-Carbon:~$ rospack find nextage_description 
/opt/ros/indigo/share/nextage_description

  zun@zun-ThinkPad-X1-Carbon:~$ roscd nextage_description/

  zun@zun-ThinkPad-X1-Carbon:/opt/ros/indigo/share/nextage_description$ rosversion nextage_description
0.7.10

  zun@zun-ThinkPad-X1-Carbon:/opt/ros/indigo/share/nextage_description$ cd models

  zun@zun-ThinkPad-X1-Carbon:/opt/ros/indigo/share/nextage_description/models$  rosrun openhrp3 export-collada -i main.wrl -o main.dae

  [rosrun] You have chosen a non-unique executable, please pick one of the following:

 1) /opt/ros/indigo/lib/openhrp3/export-collada   
 2) /opt/ros/indigo/share/openhrp3/export-collada
#? 1
Humanoid node
Joint node WAIST
  Segment node WAIST
  Joint node CHEST_JOINT0
    Segment node CHEST_JOINT0_Link
    Joint node HEAD_JOINT0
      Segment node HEAD_JOINT0_Link
      Joint node HEAD_JOINT1
        Segment node HEAD_JOINT1_Link
        VisionSensorCAMERA_HEAD_R
        VisionSensorCAMERA_HEAD_L
    Joint node RARM_JOINT0
      Segment node RARM_JOINT0_Link
      Joint node RARM_JOINT1
        Segment node RARM_JOINT1_Link
        Joint node RARM_JOINT2
          Segment node RARM_JOINT2_Link
          Joint node RARM_JOINT3
            Segment node RARM_JOINT3_Link
            Joint node RARM_JOINT4
              Segment node RARM_JOINT4_Link
              Joint node RARM_JOINT5
                Segment node RARM_JOINT5_Link
    Joint node LARM_JOINT0
      Segment node LARM_JOINT0_Link
      Joint node LARM_JOINT1
        Segment node LARM_JOINT1_Link
        Joint node LARM_JOINT2
          Segment node LARM_JOINT2_Link
          Joint node LARM_JOINT3
            Segment node LARM_JOINT3_Link
            Joint node LARM_JOINT4
              Segment node LARM_JOINT4_Link
              Joint node LARM_JOINT5
                Segment node LARM_JOINT5_Link

Node is inconvertible and removed from the scene graph
Node is inconvertible and removed from the scene graph
Warning: Mass is zero. <Model>HiroNX <Link>CHEST_JOINT0
Warning: Mass is zero. <Model>HiroNX <Link>WAIST
Collada Info: init COLLADA writer version: 1.5.0, namespace: http://www.collada.org/2008/03/COLLADASchema
Collada Warning: shape index is not SP_MESH type, could result in inaccuracies
I/O error : Permission denied
I/O error : Permission denied
error : xmlNewTextWriterFilename : cannot open uri
COLLADA error: daeLIBXMLPlugin::write(file:/opt/ros/indigo/share/nextage_description/models/main.dae) Error creating the xml writer
terminate called after throwing an instance of 'OpenHRP::ModelLoader::ModelLoaderException'
中止 (コアダンプ)

2
In your comment, you had mentioned about source version and intalled binary version, but I don't know which one I am using now. could you show me how check it? and how to get and intall the source version.
Once again, thank you! I am looking for your reply!

Originally posted by zun_tut on ROS Answers with karma: 13 on 2016-11-05
Post score: 1

Original comments
Comment by 130s on 2016-11-06:
@zun_tut I've updated your original question to move your comment to my answer here -- answer section should be reserved for "answer". And I also updated my answer to reply to your additional question.
Comment by zun_tut on 2016-11-06:
yes I see. Thank you very much.But I still don't understand how to fix my problem?
Could you show me how to fix it if you know. It really necessary for my research .
Comment by 130s on 2016-11-06:
Oh sorry I wasn't aware that your issue persists. How about http://answers.ros.org/question/198995/problem-converting-simple-urdf-file-in-collada/ ?

A:

I just ran the command and got it working (see the entire result below).
For your case, I'm not entirely sure but:
I/O error : Permission denied
I/O error : Permission denied
error : xmlNewTextWriterFilename : cannot open uri

I suspect you're at a directory where you don't have write access? Maybe you want to share with us all the commands set you ran like I do below. Also I just updated the tutorial to clarify that you need to use source version instead of the installed binary version, so you might want to follow that again too.
Result I got:
$ rospack find nextage_description                    
/home/rosnoodle/cws_hironxo/src/tork-a/rtmros_nextage/nextage_description
$ rosversion nextage_description                      
0.7.10                                         
$ roscd nextage_description/models/
$ rosrun openhrp3 export-collada -i main.wrl -o main.dae
[rosrun] You have chosen a non-unique executable, please pick one of the following:
1) /opt/ros/indigo/lib/openhrp3/export-collada
2) /opt/ros/indigo/share/openhrp3/export-collada
#? 1
Humanoid node
Joint node WAIST
  Segment node WAIST
  Joint node CHEST_JOINT0
    Segment node CHEST_JOINT0_Link
    Joint node HEAD_JOINT0
      Segment node HEAD_JOINT0_Link
      Joint node HEAD_JOINT1
        Segment node HEAD_JOINT1_Link
        VisionSensorCAMERA_HEAD_R
        VisionSensorCAMERA_HEAD_L
    Joint node RARM_JOINT0
      Segment node RARM_JOINT0_Link
      Joint node RARM_JOINT1
        Segment node RARM_JOINT1_Link
        Joint node RARM_JOINT2
          Segment node RARM_JOINT2_Link
          Joint node RARM_JOINT3
            Segment node RARM_JOINT3_Link
            Joint node RARM_JOINT4
              Segment node RARM_JOINT4_Link
              Joint node RARM_JOINT5
                Segment node RARM_JOINT5_Link
    Joint node LARM_JOINT0
      Segment node LARM_JOINT0_Link
      Joint node LARM_JOINT1
        Segment node LARM_JOINT1_Link
        Joint node LARM_JOINT2
          Segment node LARM_JOINT2_Link
          Joint node LARM_JOINT3
            Segment node LARM_JOINT3_Link
            Joint node LARM_JOINT4
              Segment node LARM_JOINT4_Link
              Joint node LARM_JOINT5
                Segment node LARM_JOINT5_Link
Node is inconvertible and removed from the scene graph
Node is inconvertible and removed from the scene graph
Warning: Mass is zero. <Model>HiroNX <Link>CHEST_JOINT0
Warning: Mass is zero. <Model>HiroNX <Link>WAIST
Collada Info: init COLLADA writer version: 1.5.0, namespace: http://www.collada.org/2008/03/COLLADASchema
Collada Warning: shape index is not SP_MESH type, could result in inaccuracies
/opt/ros/indigo/lib/openhrp3/export-collada main.wrl was successfully exported to main.dae

UPDATE:

you had mentioned about source version and intalled binary version, but I don't know which one I am using now. could you show me how check it? and how to get and intall the source version.

Actually you should already know the version you're using -- you ran rosversion command :) That's the version of the ROS package in your ROS_PACKAGE_PATH env variable.
If you additionally curious about the version of the binary package installed on Ubuntu, run something like:
dpkg -p ros-indigo-nextage-description

Originally posted by 130s with karma: 10937 on 2016-11-05
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by 130s on 2016-11-06:
How come does this post get flagged as offensive :/ ?
Comment by zun_tut on 2016-11-06:
I'm so sorry. I pressed the wrong.What should I do to remove it?


Q:

Hector pose estimation works, but only orientation and altitude is estimated

Hello,
I am trying to use hector_pose_estimation package for a real quadcopter. I have published information from IMU, barometer using sensor_msgs/Imu, hector_uav_msgs/Altimeter and pressure height messages using geometry_msgs/PointStamped message (just like hector_quadrotor package does in simulator).
When I visualise pose estimate using rviz I see changes in orientation and height, but it doesn't move sideways, it's stuck in center and only height and orientation changes.
Am I missing something out or hector_pose_estimation package doesn't calculate movement on XY axes? Using this package with simulator works fine, but with my real data from sensors - pose stuck in center.

Originally posted by rock-ass on ROS Answers with karma: 55 on 2014-04-17
Post score: 1

Original comments
Comment by ahendrix on 2014-04-17:
Does you IMU data include accelerometer and gyroscope data, or only gyro data?
Comment by rock-ass on 2014-04-17:
IMU does include all data from acc and gyroscopes. Double checked data standard in sensor_data, also compared with data provided from gazebo simulator.

A:

Finally figured out, pose estimation package requires gps sensor_msgs/NavSatFix data. Now I can get position (x, y) estimated.
Also I noticed some strange behavior - algorithm estimated that quadrotor is falling (estimated altitude was negative), because IMU sensor Z axis was -9,8. I had to invert IMU's Z axis value to get the algorithm stabilize quadcopter's altitude.
Hope this helps if someone encounter similar problem.

Originally posted by rock-ass with karma: 55 on 2014-04-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by alfa_80 on 2014-05-01:
If I'm not mistaken the IMU Z-axis is +ve if going downward.
Comment by rock-ass on 2014-05-01:
As far as I understand positive Z would be going down faster than gravity pulls you. But this time +10Z mean hover


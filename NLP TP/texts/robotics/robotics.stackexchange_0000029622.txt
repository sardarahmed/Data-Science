Q:

How to transform PointCloud2 with TF?

Hi,
I'm writing a small node aggregating data from a Kinect sensor (PointCloud2) taken from different angle of view. I therefore use the tf library to transform all images in the /world frame before aggregating them with the pcl lib.
After looking through tf API doc, I found the TransformListener::transformPointCloud function to tranform PointCloud messages but nothing to transform PointCloud2 messages. I am therefore using a code like this:
sensor_msgs::convertPointCloud2ToPointCloud(pc2SensorFrame,pcSensorFrame) TfListener.transformPointCloud("/world", pcSensorFrame, pcWorldFrame); sensor_msgs::convertPointCloudToPointCloud2(pcWorldFrame,pc2WorldFrame) pcl::fromROSMsg(pc2WorldFrame,pclCloud);
It seems to work but I was wondering if there was a more direct way to transform PointCloud2 with tf avoiding the conversion in PointCloud.
Thanks

Originally posted by Captain on ROS Answers with karma: 88 on 2011-02-16
Post score: 3

A:

I guess you are looking for the pcl_ros package. It contains functions to do exactly what you want. Have a look here:
http://docs.ros.org/api/pcl_ros/html/namespacepcl__ros.html

Originally posted by Lorenz with karma: 22731 on 2011-02-16
This answer was ACCEPTED on the original site
Post score: 11

Original comments
Comment by lahiruherath on 2017-11-09:
Why is the page not available now? PCL ROS has been taken out or what?
Comment by tfoote on 2017-11-09:
This is a very old link. We've moved the documentation years ago to docs.ros.org It's now at: http://docs.ros.org/api/pcl_ros/html/namespacepcl__ros.html In the future if you're looking for docs visit the wiki page for a package eg http://wiki.ros.org/pcl_ros and click on the Code API link.
Comment by lahiruherath on 2017-11-09:
Thanks :). Managed to get this done using tf2. Had to do some blind manipulations since i was using python


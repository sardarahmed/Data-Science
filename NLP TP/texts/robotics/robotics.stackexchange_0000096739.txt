Q:

ros msg float64 to float value

i am trying to remove  3 under decimal point of my data.
when i use float to store some data , it gives "-9.082400"
but when i use this data to float64 for ros topic, it gives "-9.08240001381"
how can i remove "1381" value?
is it happening during conversion between float to float 64?
any idea will help me thx!

Originally posted by benthebear93 on ROS Answers with karma: 17 on 2020-08-05
Post score: 0

A:

@benthebear93, that is the natural behaviour of floating points numbers, it a representationm problem.

Doubles AKA float64 can store technically up to 16 significant digits, so you can try to use floats AKA float32 that stores only 7.
You can round the number to the decimal digit you want with, asumming you are using C++: round(value * 1000) / 1000; That is rounder the value number to the 4th decimal digit. So the number -9.08240001381 will be -9.0824.

But at the end of the day you will have decimals that you do not want since thats is how floating point representation works.
If anyone knows any other trick to solve this problem I will glad to discuss it here.
Regards.

Originally posted by Weasfas with karma: 1695 on 2020-08-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by benthebear93 on 2020-08-05:
thx for the answer. i guess my question was more related with floating point rather than ROS.


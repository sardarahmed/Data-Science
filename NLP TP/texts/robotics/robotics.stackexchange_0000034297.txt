Q:

How to install and use Roomba_500_series stack?

There are no tutorials for this stack but I would like to know what it does and how to install.
I have turtlebot installed on a laptop connected to a Roomba with a serial SCI.  My first step is to get teleop going.  Help please.

Originally posted by kleekru on ROS Answers with karma: 71 on 2011-09-14
Post score: 1

A:

The stack is actually called roomba_robot and roomba_500_series is a package in it. You just need to check out the stack repository and add the directory to ROS_PACKAGE_PATH. The repository seems to be an SVN repository, so you can get it by:
svn co http://isr-uc-ros-pkg.googlecode.com/svn/trunk/unstable/roomba_robot

I actually prefer using rosinstall for managing my ROS_PACKAGE_PATH. To use it, you can install/update rosinstall by executing:
sudo apt-get install python-setuptools
sudo easy_install -U rosinstall

Then create a rosinstall file for roomba_robot:
roslocate info roomba_robot > ~/roomba-robot.rosinstall

Now create an overlay of your rosinstallation with roomba_robot added:
rosinstall ~/ros_roomba /opt/ros/electric ~/roomba-robot.rosinstall

Now edit your ~/.bashrc and replace the line
source /opt/ros/electric/setup.bash

by
source ~/ros_roomba/setup.bash

Make sure to open a new terminal or execute the above source command by hand. Now you should be able to rosmake roomba_500_series.

Originally posted by Lorenz with karma: 22731 on 2011-09-14
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by kleekru on 2011-09-16:
Previous to the message above I received an error creating the "build" directory as part of the make for cereal_port package.  Then I manually added the build directory and tried to run a rosmake on the cereal_port package by itself and received the errors above.  Please please please help.  It seems like the roomba should be working... I think I'm missing something simple.
Comment by kleekru on 2011-09-16:
I created the "build" directory in the cereal_port package directory and tried running rosmake only on cereal_port and recieved this new error:       {-------------------------------------------------------------------------------
CMake Error: Could not find cmake module file:/opt/ros/diamondback/stacks/isr-uc-ros-pkg/lse_communication/cereal_port/build/CMakeFiles/CMakeCXXCompiler.cmake
-- Check for working C compiler: /usr/bin/gcc
CMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:22 (FILE):
file Internal CMake error when trying to open file:
/opt/ros/diamondback/stacks/isr-uc-ros-pkg/lse_communication/cereal_port/build/CMakeFiles/CMakeTmp/testCCompiler.c
for writing.
Call Stack (most recent call first):
CMake Error: Failed to create CMakeList file for /opt/ros/diamondback/stacks/isr-uc-ros-pkg/lse_communication/cereal_port/build/CMakeFiles/CMakeTmp/CMakeLists.txt
CMake Error: : System Error: No such file or directory
-- Check for working C compiler: /usr/bin/gcc -- broken
CMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:42 (FILE):
file Internal CMake error when trying to open file:
/opt/ros/diamondback/stacks/isr-uc-ros-pkg/lse_communication/cereal_port/build/CMakeFiles/CMakeError.log
for writing.
Call Stack (most recent call first):
CMake Error at /usr/share/cmake-2.8/Modules/CMakeTestCCompiler.cmake:50 (MESSAGE):
The C compiler "/usr/bin/gcc" is not able to compile a simple test program.
It fails with the following output:

 

CMake will not be able to correctly generate this project.

Call Stack (most recent call first):
-- Configuring incomplete, errors occurred!
CMake Error: Unable to open cache file for save. /opt/ros/diamondback/stacks/isr-uc-ros-pkg/lse_communication/cereal_port/build/CMakeCache.txt
CMake Error: : System Error: Permission denied
[ rosmake ] Output from b
Comment by Arkapravo on 2012-10-06:
@Lorenz Very nice ! everything works nicely - but what do I do next ? I have a very basic roomba 561 - no laser - may use ASUS Xtion later. What do I do next to get this moving. I am on ROS Electric.


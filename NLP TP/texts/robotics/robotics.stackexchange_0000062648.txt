Q:

Using xv-11 lidar

Is anyone using the xv-11 lidar unit with their robot?  I am in the process of incorporating the lidar unit with my bot and would like to share information.
Thank you

Originally posted by Morpheus on ROS Answers with karma: 111 on 2014-09-17
Post score: 0

A:

I have, Here's a rundown of what I've discovered.  I was never able to get GMapping to draw a good map with it.  HectorMapping did a decent job, but the maps were always slightly to big and the navigation stack never seem to work with them, my robot kept getting lost.
I ended up pulling out the tape measure and using gimp to draw a map of my house.   Using my hand drawn map the xv-11 does a real good job of keeping my robot localized, I'm please with it.

Originally posted by jseal with karma: 258 on 2014-09-20
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Stefan Kohlbrecher on 2014-09-20:
Have you checked if the lidar measurements are biased and show higher distances than they should?
Comment by jseal on 2014-09-20:
They are correct when stationary, I suspect it has something to do with the 4 hz laser data and the minimum speed of my robot (0.1 m/s).  I think the neato can go much slower than that.
Comment by jseal on 2014-09-21:
What voltage are you powering your xv-11 at?  I'm powering xv-11 at 5v and motor at 3v.  I took mine apart when I wasn't getting good results and on the power pin of the pcb board was +5v.  Something to check, also look at the firmware argument.
Comment by jseal on 2014-09-28:
Yes, it works well with the navigation stack.
Two things to check, are you using the firmware version 2 option?
rosrun xv_11_laser_driver neato_laser_publisher _port:=/dev/ttyUSB0 _firmware_version:=2
and what is the average rpms from the following:
rostopic echo /rpms
Comment by jseal on 2014-09-28:
I found this (link below), the firmware version 1 is suppose to be powered with 3.3 volts, could be something.
link text
Comment by Morpheus on 2014-09-29:
I did get the newer driver to work properly.  The rpm of the lidar unit was adjusted to 300 RPM.
Comment by Morpheus on 2014-11-15:
What did you have to change in the launch file to get a good scan?


Q:

how gmapping gather odom data?

Hi
I am using stage_ros to simulation slam.
The Gmapping works but I noticed that stage_ros is publishing "nav_msgs/Odometry" information under the topic /odom.
While the gammping node is subscribing the /tf topic to get odom data.
I checked the message under topic /tf, it was "tf2_msgs/TFMessage".
And I echo both of those topics.
seems like the /tf topic is publishing the transform between difference frame (yes, as expected.)
But the stage_ros node publishes the twist data under topic /odom like the image below

So, I am interested in how the gmapping get odometry information from the topic /tf.
Or, if I have /odom topic, can I setting gmapping to subscribe from that?
Thank you

Originally posted by sinsinsinsin on ROS Answers with karma: 28 on 2020-03-05
Post score: 0

A:

Stage ROS (or generally the odometry source) will also publish the TF transformations via a TransformBroadcaster.

Originally posted by stevemacenski with karma: 8272 on 2020-03-05
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by sinsinsinsin on 2020-03-10:
Hi, If my understanding is correct, The Odometry information and TF transform are two things.
The TF transform stands for the transforms between two frames (like the transforms between two rigids).
The odometry information records the wheel data, like how long the robot has gone.
Why gmapping receive the odom information from /tf instead of from /odom?
Thankyou
Comment by stevemacenski on 2020-03-10:
TF is a standard used by the TF toolset (which you should look up its wiki page if you don't know it) for time variant transformations. This gives it an interpolated, high-quality estimate of the odometry vs just taking the last message from a single source.
TF transformation will provide a very similar thing to the odometry message, but they are used for different purposes.
Comment by sinsinsinsin on 2020-04-02:
Thank you. I found the TF tutorial on the wiki. Got a better though after running the tutorial.


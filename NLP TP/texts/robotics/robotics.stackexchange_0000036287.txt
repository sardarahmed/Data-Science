Q:

Rosserial_arduino: Lost sync with device, restarting

I'm trying to get a service server running on an Arduino.  The code compiles, and I know (from debugging with an Arduino-attached LED) that the code to advertise the services is executed and that the sketch's loop() function executes (at about a 1 second interval).  However, when I start rosserial_python, I get:
$ rosrun rosserial_python serial_node.py /dev/ttyUSB0
[INFO] [WallTime: 1323211562.638344] ROS Serial Python Node
[INFO] [WallTime: 1323211562.649185] Connected on /dev/ttyUSB0 at 57600 baud
[ERROR] [WallTime: 1323211577.655402] Lost sync with device, restarting...
[ERROR] [WallTime: 1323211592.663968] Lost sync with device, restarting...

The sketch initializes the serial port to 57600, rosserial_python's default baud rate.
Any suggestion on why I'm not getting or maintaining sync?

Originally posted by mcsmith on ROS Answers with karma: 66 on 2011-12-06
Post score: 0

A:

The problem was that the service objects were incorrectly declared with setup(), not globally.  They would go out of scope prematurely, resulting in the symptoms described above.

Originally posted by mcsmith with karma: 66 on 2011-12-07
This answer was ACCEPTED on the original site
Post score: 2


Q:

The weight on position constraint for link is near zero. Setting to 1.0

Hi,
While trying to move a robotic manipulator to a new pose (using MoveIt!), in order to move to the Next Best View of the manipulator's workspace using the YAK package, I repeatedly get this warning which states that

The weight on position constraint for
link 'camera_depth_optical_frame' is
near zero.  Setting to 1.0.

Is this the reason why I am getting the following error?

Position constraint violated on link
'camera_depth_optical_frame'. Desired:
-0.300000, -0.300000, 0.800000, current: -0.187025, 0.287808, 0.549807

[ WARN] [1530986530.323626313, 426.508000000]: Failed to fetch current robot state.
[ INFO] [1530986530.324177460, 426.508000000]: Combined planning and execution request received for MoveGroup action. Forwarding to planning and execution pipeline.
[ WARN] [1530986530.324308021, 426.508000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ INFO] [1530986530.324483190, 426.508000000]: Planning attempt 1 of at most 1
[ WARN] [1530986530.325945894, 426.508000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ INFO] [1530986530.326051436, 426.508000000]: Path constraints not satisfied for start state...
[ WARN] [1530986530.326549565, 426.508000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ INFO] [1530986530.326762763, 426.508000000]: Position constraint violated on link 'camera_depth_optical_frame'. Desired: -0.300000, -0.300000, 0.800000, current: 0.816647, 0.204373, 0.491472
[ INFO] [1530986530.326923292, 426.508000000]: Differences -1.11665 -0.504373 0.308528
[ INFO] [1530986530.327083872, 426.508000000]: Planning to path constraints...
[ WARN] [1530986530.327393233, 426.508000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ WARN] [1530986530.327645776, 426.508000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
Debug:   Starting goal sampling thread
[ INFO] [1530986530.328125348, 426.508000000]: Planner configuration 'manipulator' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
Debug:   The value of parameter 'longest_valid_segment_fraction' is now: '0.0050000000000000001'
Debug:   RRTConnect: Planner range detected to be 7.539822
Info:    RRTConnect: Starting planning with 1 states already in datastructure
Debug:   RRTConnect: Waiting for goal region samples ...
Debug:   Beginning sampling thread computation
Debug:   RRTConnect: Waited 0.431969 seconds for the first goal sample.
Info:    RRTConnect: Created 4 states (2 start + 2 goal)
Info:    Solution found in 0.475992 seconds
Debug:   Attempting to stop goal sampling thread...
Debug:   Stopped goal sampling thread after 2 sampling attempts
Info:    SimpleSetup: Path simplification took 0.026644 seconds and changed from 3 to 2 states
[ INFO] [1530986530.925958530, 426.765000000]: Planned to path constraints. Resuming original planning request.
[ WARN] [1530986530.926477926, 426.765000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ WARN] [1530986530.926728899, 426.765000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ WARN] [1530986530.927186930, 426.765000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
Debug:   Starting goal sampling thread
Debug:   Waiting for space information to be set up before the sampling thread can begin computation...
[ INFO] [1530986530.927598462, 426.765000000]: Planner configuration 'manipulator' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
Debug:   The value of parameter 'longest_valid_segment_fraction' is now: '0.0050000000000000001'
Debug:   RRTConnect: Planner range detected to be 3.778261
[ WARN] [1530986530.928493559, 426.765000000]: The weight on position constraint for link 'camera_depth_optical_frame' is near zero.  Setting to 1.0.
[ INFO] [1530986530.928766280, 426.765000000]: Allocating specialized state sampler for state space
Info:    RRTConnect: Starting planning with 1 states already in datastructure
Debug:   RRTConnect: Waiting for goal region samples ...
Debug:   Beginning sampling thread computation
[ INFO] [1530986559.116059745, 439.999000000]: Position constraint violated on link 'camera_depth_optical_frame'. Desired: -0.300000, -0.300000, 0.800000, current: -0.187025, 0.287808, 0.549807
[ INFO] [1530986559.116579113, 439.999000000]: Differences -0.112975 -0.587808 0.250193
[ INFO] [1530986559.162846369, 440.015000000]: Position constraint violated on link 'camera_depth_optical_frame'. Desired: -0.300000, -0.300000, 0.800000, current: -0.187081, 0.287793, 0.549915
[ INFO] [1530986559.167912790, 440.017000000]: Differences -0.112919 -0.587793 0.250085
Error:   RRTConnect: Unable to sample any valid states for goal tree
         at line 215 in /tmp/binarydeb/ros-kinetic-ompl-1.2.1/src/ompl/geometric/planners/rrt/src/RRTConnect.cpp

Any hints on the reason of this problem will be valuable.
Thanks in advance.

Originally posted by aaditya_saraiya on ROS Answers with karma: 105 on 2018-07-07
Post score: 0

A:

Just for future reference. By adding the following line, this warning can be avoided. More details available in this pull request
volumeBoxPosConstraint.weight = 1;

Originally posted by aaditya_saraiya with karma: 105 on 2018-07-16
This answer was ACCEPTED on the original site
Post score: 0


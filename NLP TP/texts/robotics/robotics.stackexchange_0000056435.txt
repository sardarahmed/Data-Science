Q:

My kinetic camera stop working (no device detected)

update: assuming there are no USB 2.0 to 3.0 adapters since 3.0 was to be compatabile does ubuntu 13.10 updated kernel off any hope. I am running 13.04
update: tried to reinstall everything then run freenect launch. I get the following first waiting message then I plug the device in and get what follows. The USB ports are 3.0
[ INFO] [1390668700.050552116]: No devices connected.... waiting for devices to be connected
[ INFO] [1390668703.054328712]: Number devices connected: 1
[ INFO] [1390668703.054588759]: 1. device on bus 000:00 is a Xbox NUI Camera (2ae) from Microsoft (45e) with serial id '0000000000000000'
[ INFO] [1390668703.056447295]: Searching for device with index = 1
[ INFO] [1390668703.095462065]: No matching device found.... waiting for devices. Reason: [ERROR] Unable to open specified kinect

Update: There seems to be some dissusion on a share lib causing some issues: I looked for it on my machine and it looks a bit confused any thought this.
sudo glview
glview: error while loading shared libraries: libfreenect.so.0.2: cannot open shared object file: No such file or directory
viki@viki:~$ glview
Kinect camera test
Number of devices found: 1
Could not open device

sudo find / -name libfreenect.so -ls
15341498    0 lrwxrwxrwx   1 viki     viki           18 Jan 11 13:08 /home/viki/catkin_ws/src/KinectLibs/libfreenect/build/lib/fakenect/libfreenect.so -> libfreenect.so.0.2
12716955    0 lrwxrwxrwx   1 viki     viki           18 Jan 11 13:08 /home/viki/catkin_ws/src/KinectLibs/libfreenect/build/lib/libfreenect.so -> libfreenect.so.0.2

11141534    0 lrwxrwxrwx   1 root     root           18 Oct  9 21:08 /opt/ros/hydro/lib/fakenect/libfreenect.so -> libfreenect.so.0.1
10883699    0 lrwxrwxrwx   1 root     root           18 Oct  9 21:08 /opt/ros/hydro/lib/libfreenect.so -> libfreenect.so.0.1
9438521    0 lrwxrwxrwx   1 root     root           18 May 25  2012 /usr/lib/x86_64-linux-gnu/fakenect/libfreenect.so -> libfreenect.so.0.1
7355096    0 lrwxrwxrwx   1 root     root           18 May 25  2012 /usr/lib/x86_64-linux-gnu/libfreenect.so -> libfreenect.so.0.1

7480477    0 lrwxrwxrwx   1 root     root           18 Jan 11 13:08 /usr/local/lib64/fakenect/libfreenect.so -> libfreenect.so.0.2
7357524    0 lrwxrwxrwx   1 root     root           18 Jan 11 13:08 /usr/local/lib64/libfreenect.so -> libfreenect.so.0.2
viki@viki:~$ 

Update: There is a CD with my kinetic. Is there anything useful in this to address this issue?
Update: If I unplug the device and run glview again I get: From what I can see this is a known problem with the linux kernel since 2012 but little has been done to address it. I tried several solutions in the blogs but non seem to work
Kinect camera test
Number of devices found: 0

Update: I tried the following utility
freenect-glview 
Kinect camera test
Number of devices found: 1
Could not open device

Update: lsusb -v
Bus 003 Device 021: ID 045e:02ae Microsoft Corp. Xbox NUI Camera
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  idVendor           0x045e Microsoft Corp.
  idProduct          0x02ae Xbox NUI Camera
  bcdDevice            2.05
  iManufacturer           2 Microsoft
  iProduct                1 Xbox NUI Camera
  iSerial                 3 0000000000000000
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           32
    bNumInterfaces          1
    bConfigurationValue     1
    iConfiguration          0 
    bmAttributes         0xc0
      Self Powered
    MaxPower               16mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass      0 
      bInterfaceProtocol    255 
      iInterface              0 
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0bc0  2x 960 bytes
        bInterval               1
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x82  EP 2 IN
        bmAttributes            1
          Transfer Type            Isochronous
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0bc0  2x 960 bytes
        bInterval               1
Device Qualifier (for other device speed):
  bLength                10
  bDescriptorType         6
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0 
  bDeviceProtocol         0 
  bMaxPacketSize0        64
  bNumConfigurations      1
Device Status:     0x0001
  Self Powered

Update: Is there anyway to further debug this problem of openni not recognizing my device plugged in via the USB port. Or is there some kind of work around?
Update: as requested.
(http://answers.ros.org/upfiles/13892061651366488.png)
viki@viki:~$ roswtf
Loaded plugin tf.tfwtf
No package or stack in context
================================================================================
Static checks summary:

Found 2 warning(s).
Warnings are things that may be just fine, but are sometimes at fault

WARNING You are missing core ROS Python modules: rosrelease -- 
WARNING You are missing Debian packages for core ROS Python modules: rosrelease (python-rosrelease) -- 

Found 2 error(s).

ERROR Not all paths in ROS_PACKAGE_PATH [/home/viki/catkin_ws/src:/opt/ros/hydro/share:/opt/ros/hydro/stacks] point to an existing directory: 
 * /opt/ros/hydro/stacks

ERROR Not all paths in PYTHONPATH [/home/viki/catkin_ws/devel/lib/python2.7/dist-packages:/opt/ros/hydro/lib/python2.7/dist-packages] point to a directory: 
 * /home/viki/catkin_ws/devel/lib/python2.7/dist-packages

================================================================================
Beginning tests of your ROS graph. These may take awhile...
analyzing graph...
... done analyzing graph
running graph rules...
... done running graph rules
running tf checks, this will take a second...
... tf checks complete

Online checks summary:

No errors or warnings

Update tried recommendation in comment. I even tried putting in leading zeros nothing seems to work.
roslaunch openni_launch openni.launch device_id:=3@0

Still getting device not connected.
[ INFO] [1389205418.542387296]: No devices connected.... waiting for devices to be connected

Update: I tried putting in 3@4 for the device number but it says then it can not find device 3@4.
[ INFO] [1389131675.359641075]: No matching device found.... waiting for devices. Reason: std::string openni2_wrapper::OpenNI2Driver::resolveDeviceURI(const string&) @ /tmp/buildd/ros-hydro-openni2-camera-0.1.1-0raring-20131113-2050/src/openni2_driver.cpp @ 623 : Invalid device number 1, there are 0 devices connected

I was using my kinetic camera and it worked fine with rviz. But a few months later not sure what changed openni_launch says (no device detected) If I run openni2_launch it says  (Invalid device number, 0 devices connected. When I run lsusb I get the following output: Any thoughts on how to proceed. Not sure what has changed since I am using the same launch file as installed.
Bus 001 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 002 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 003 Device 002: ID 045e:02c2 Microsoft Corp. 
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 001 Device 003: ID 05ac:8509 Apple, Inc. FaceTime HD Camera
Bus 002 Device 003: ID 0424:2513 Standard Microsystems Corp. 
Bus 003 Device 003: ID 045e:02ad Microsoft Corp. Xbox NUI Audio
Bus 003 Device 004: ID 045e:02ae Microsoft Corp. Xbox NUI Camera
Bus 002 Device 009: ID 05ac:821d Apple, Inc. 
Bus 002 Device 004: ID 0a5c:4500 Broadcom Corp. BCM2046B1 USB 2.0 Hub (part of BCM2046 Bluetooth)
Bus 002 Device 005: ID 05ac:8242 Apple, Inc. IR Receiver [built-in]
Bus 002 Device 006: ID 05ac:0252 Apple, Inc. Internal Keyboard/Trackpad (ANSI)

Originally posted by rnunziata on ROS Answers with karma: 713 on 2014-01-07
Post score: 1

A:

It sounds like you have USB 3.0 problems, since you can't use the Kinect on a USB 3.0 port (in general, sometimes it just works, sometimes it doesn't). Is it possible to disable USB 3.0 in your BIOS on a Mac? If not, try changing UsbInterface in /etc/openni/GlobalDefaults.ini to some other value (just try the four other options).

Originally posted by Tim Sweet with karma: 267 on 2014-01-25
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Athoesen on 2014-01-25:
Oh wow, I didn't even see that the first time.  But he said that it had worked before I think.
Anyways, yes. 3.0 = no bueno.
Comment by Tim Sweet on 2014-01-25:
Yeah I don't know why it would suddenly stop working...that happened to me once, I never found out the root problem, but it was fixed by changing the UsbInterface field. Maybe some kind of Kernal update?
Comment by rnunziata on 2014-01-25:
The USB line from my Mac GlobalDefaults.ini
; USB interface to be used. 0 - FW Default, 1 - ISO endpoints, 2 - BULK endpoints. Default: Arm - 2, other platforms - 1
Any one look better then the others?
Comment by Tim Sweet on 2014-01-25:
A USB 3.0 to 2.0 adapter won't work, I've tried that with a USB 2.0 hub. I suggest just trying each one of those interfaces, the GlobalDefaults file is loaded when OpenNI is run (ie with roslaunch openni_launch or your own variant) so just modify the file, try to start it, repeat.
Comment by Tim Sweet on 2014-01-25:
Your update with the most recent output tells me the interface (from GlobalDefaults.ini) might be the problem: it seems able to identify the camera on the bus, but won't get its serial number so it can't talk to the camera.
Can you disable USB 3.0 in OpenFirmware (see: http://goo.gl/XJpAvQ)?
Comment by rnunziata on 2014-01-26:
Thanks Tim. I have been scanning for any info on how to turn off/on usb in the BIOS. Not something I normally do and would be great to see instructions or a demo. But I can not seem to find anything. Any idea where I can look?
Comment by Tim Sweet on 2014-01-26:
I've never owned a Mac so I have no clue..I only use one for video editing :) I'll ask around in my lab and see if anyone knows. It might not be possible. Did the UsbInterface thing not work?
Comment by rnunziata on 2014-01-26:
I came across this which is encouraging but does not tell me how to do this on a mac.
http://rog.asus.com/forum/showthread.php?37159-How-do-I-disable-or-delete-the-USB-3.0-drivers.
Thank you .


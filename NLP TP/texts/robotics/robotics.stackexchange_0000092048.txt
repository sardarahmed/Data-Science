Q:

YOLO does not publish any messages when using KITTI player or kitti2bag

This might be something simple, but I am trying to feed the KITTI images into YOLO using Autoware Runtime Manager and show the bounding boxes in rviz. I setup YOLO so that it takes the left color camera image_raw from the ROSBAG generated by kitti2bag and the images are being sent to YOLO as confirmed by both rviz and listening to the topic. However, YOLO does not produce the objects and the ImageViewerPlugin does not show any topics for the Object rect. Same result when I finally got the KITTI player to work.
I tried on both melodic and kinetic on Autoware 1.11. I tried compiling both with colcon (didn't properly compile the kitti player) and catkn. I tried both amd64 and arm. Still the problem is there.
There is no obvious errors in the output of Autoware and ROS that relates to this other than the ordinary "is /clock being published?".
I appreciate your help in advance.
EDIT:
I have managed to narrow down the problem. The message is indeed being received by vision_darknet_detect as confirmed by a lot of ROS_INFO calls. The problem happens when the node tries to call darknet_network_->layers in line 100 of vision_darknet_detect.cpp. My best guess is that the node has compiled but the darknet has not compiled properly. I will investigate this further.

Originally posted by soroosh129 on ROS Answers with karma: 3 on 2019-06-14
Post score: 0

A:

I assume you are at the latest master(commit 42aba1468490e2ed218f9295ab3e7490db864e54).
1, By default(./colcon_release), it compiles on CPU, so be careful with the performance.
2, Configure by clicking app button in runtimemanager.
2-a, make sure image_src is kitti image topic eg; /kitt/i/camera_color_left/image_raw
2-b, make sure to choose correct weight file in pre_trained_model. you need to download this file. please check the readme file.

Originally posted by kosuke_murakami with karma: 81 on 2019-06-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by soroosh129 on 2019-06-17:
Thank you so much for the answer.
You are very correct. I think two problems were combined for me.
First, yes on amd64, the issue was that I wasn't waiting enough for CPU YOLO to answer (took about 2 minutes on my PC). Compiling on GPU made it a lot faster.
The second issue was that on the ARM-based platform, the /detection/image_detector/objects wasn't even being published, which was very frustrating. The issue was that weights for YOLO3 weren't downloaded, but I missed the error.
Thank you again for your response.
BTW, kitti player maps /kitti/camera_color_left/image_raw to /image_raw by default so that's very clever.
Comment by kosuke_murakami on 2019-06-17:
I am glad that you solved your issue.
I would appreciate if you mark my comment as the answer for this question.


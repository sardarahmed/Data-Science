Q:

Copied Workspace, now Problem with rosdep

Hi guys,
I accidentally deleted my plattform but could save my workspace somehow. Now i set up a new Ros Indigo with Ubuntu 14.04 same stuff as before. I copied my data in my new workspace and sourced the setup.bash.
Now I am trying to "make" again the nodes to be usable on the new system but when I am doing make it says:
moviplc@moviplc:~$ source ~/indigo_ws/setup.bash 
moviplc@moviplc:~$ roscd twist_to_odom/

moviplc@moviplc:~/indigo_ws/sandbox/roche_control/twist_to_odom$ make
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=/opt/ros/indigo/share/ros/core/rosbuild/rostoolchain.cmake  ..
[rosbuild] Building package twist_to_odom
Failed to invoke /opt/ros/indigo/bin/rospack deps-manifests twist_to_odom
Traceback (most recent call last):
  File "/usr/lib/python2.7/dist-packages/rosdep2/rospack.py", line 58, in init_rospack_interface
    lookup = _get_default_RosdepLookup(Options())
  File "/usr/lib/python2.7/dist-packages/rosdep2/main.py", line 127, in _get_default_RosdepLookup
    verbose=options.verbose)
  File "/usr/lib/python2.7/dist-packages/rosdep2/sources_list.py", line 607, in create_default
    sources = load_cached_sources_list(sources_cache_dir=sources_cache_dir, verbose=verbose)
  File "/usr/lib/python2.7/dist-packages/rosdep2/sources_list.py", line 504, in load_cached_sources_list
    with open(cache_index, 'r') as f:
IOError: [Errno 13] Permission denied: '/home/moviplc/.ros/rosdep/sources.cache/index'
[rospack] Error: could not call python function 'rosdep2.rospack.init_rospack_interface'

CMake Error at /opt/ros/indigo/share/ros/core/rosbuild/public.cmake:129 (message):
  

  Failed to invoke rospack to get compile flags for package 'twist_to_odom'.
  Look above for errors from rospack itself.  Aborting.  Please fix the
  broken dependency!

Call Stack (most recent call first):
  /opt/ros/indigo/share/ros/core/rosbuild/public.cmake:207 (rosbuild_invoke_rospack)
  CMakeLists.txt:12 (rosbuild_init)

-- Configuring incomplete, errors occurred!
See also "/home/moviplc/indigo_ws/sandbox/roche_control/twist_to_odom/build/CMakeFiles/CMakeOutput.log".
make: *** [all] Fehler 1

I have really no idea whats happening, he seems to have some kind of problem with rosdep?
I hope anybody can help me I am really broke :(

Originally posted by felixwatzlawik on ROS Answers with karma: 201 on 2015-09-10
Post score: 0

A:

IOError: [Errno 13] Permission denied: '/home/moviplc/.ros/rosdep/sources.cache/index'

Seems your current user doesn't have access to ~/.ros/rosdep/sources.cache/index. Did you copy your entire home dir to your new system? If so, it could be that the rosdep cache is owned by your old user (the username may be the same, but the uid most likely isn't).
Can you check what the output is of ls -al ~/.ros/rosdep/sources.cache/index?
A quick fix would be to remove the entire ~/.ros/rosdep dir, then do a rosdep update. If the permissions of ~/.ros are ok, that should get rosdep to recreate its cache - with the proper permissions.

Originally posted by gvdhoorn with karma: 86574 on 2015-09-10
This answer was ACCEPTED on the original site
Post score: 0


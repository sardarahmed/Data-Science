Q:

Is there a Node for general data frame transforms?

I am looking for a package which uses tf2 to perform semi-generalized data transforms. Based on its configuration it would subscribe to an input topic and transform the message on that topic to a parameter specified coordinate frame. Such as transforming PointCloud2 from lidar frame to base_link or converting a PoseStamped message from base_link to map etc. Obviously supporting custom messages might be a stretch, but does such a package exist for common messages in either ROS 1 or ROS 2?

Originally posted by msmcconnell on ROS Answers with karma: 268 on 2021-12-18
Post score: 0

Original comments
Comment by Akhil Kurup on 2021-12-18:
tf2 includes a transform class. You can use their API directly
Comment by msmcconnell on 2021-12-18:
Thanks, I'm aware of that. But, I'm looking for a node which can be placed in the data stream rather than trying to perform the transform at each data end point using the tf2 library.
Comment by gvdhoorn on 2021-12-19:
So the question would actually be: "is there a node for general data frame transformations"?
Comment by msmcconnell on 2021-12-20:
I suppose so, I was thinking it would be implied by the subscribe/publish part of the question, but I have gone ahead and edited the title for clarity.

A:

Since, I didn't get a result in a couple of days, I've gone ahead and implemented this myself to work with any stamped message type currently supported in tf2_geometry_msgs or tf2_sensor_msgs. The implementation uses some utility packages from my team's project, but those could be easily removed by others. The PR is currently here for anyone who comes looking for the same thing.
https://github.com/usdot-fhwa-stol/carma-utils/pull/95

Originally posted by msmcconnell with karma: 268 on 2021-12-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by msmcconnell on 2021-12-28:
See tfoote's answer and the corresponding comments for more context on the limitations of this approach and when it does or does not make sense.


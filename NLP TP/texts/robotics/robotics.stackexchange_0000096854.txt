Q:

ray_ground_filter differing from specification?

I'm looking at the implementation for the ray_ground_filter for Autoware.AI, while also reading the documentation (from Autoware.Auto, referred by the Autoware.AI repo).
From the documentation, if the current point is not within the local cone it will only be set as 'ground' if it is distant by a minimum threshold and, at the same time, is within the global cone.
However, the code is comparing the current height with the local cone height instead of the global cone height.
I believe this comparison is in line 197 of the code (commit 4bf37a8).
Shouldn't it be comparing:
(current_height <= general_height_threshold && current_height >= -general_height_threshold)
instead of the current:
(current_height <= height_threshold && current_height >= -height_threshold)?
Otherwise, am I missing something on how this is compliant with the documentation?
Thank you.

Originally posted by pedroexe on ROS Answers with karma: 50 on 2020-08-17
Post score: 1

Original comments
Comment by Josh Whitley on 2020-08-20:
@TakaHoribe can you comment on this?

A:

I asked my colleague who is familiar with this algorithm and compared the original paper. Yes, it is a bug. As you say, this line should be fixed to replace height_threshold with general_height_threshold.
Our team is taking this issue, so will be fixed soon.
Thank you very much for your report and sorry for the late response.

Originally posted by TakaHoribe with karma: 181 on 2020-11-17
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by pedroexe on 2020-11-20:
Great! Thanks for confirming.


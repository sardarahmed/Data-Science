Q:

Mavros and Unsupported FCU on Intel AERO RTF

Hello everybody!
I am trying to command my drone, an intel aero RTF, via mavros.
So I have the drone running roscore, and my companion computer running mavros.
So to resume:

I sourced the environnement (opt/ros/indigo/setup.sh) on my drone . In this document, I put ROS_MASTER_URI=http://192.168.1.1:11311 and ROS_HOSTNAME=192.168.1.1, the drone IP. https://github.com/intel-aero/meta-intel-aero/wiki/Meta-ROS
I launched roscore, on the drone.
On my computer, I sourced my environment in catkin_ws with source devel/setup.bash.
I modified ROS_MASTER_URI=http:/192.168.1.1:11311 and ROS_HOSTNAME=192.168.1.2.
I launched roslaunch mavros px4.launch fcu_url:=udp://@:14556 gcs_url:=udp://:14556@192.168.1.2:14550. 192.168.1.2 is the IP of my computer when I am connected to the Intel Aero Wifi.
In an other terminal, after sourcing my environment and modifying ROS_MASTER_URI and ROS_HOSTNAME, I launched my ROS Package with rosrun myprogram takeoff.

After all this steps, the only thing I can see is "Mode: Unsupported fcu" in the mavros terminal. I can't solve this...
Could someone help me pls... It was not simple to arrive here, and I can't go further... I know that my program is good, because I can simulate it with gazebo and a 3D IRIS without problem.

Originally posted by Rudja on ROS Answers with karma: 1 on 2017-04-04
Post score: 0

A:

What you see in /diagnostics? I suppose that you do not have a connection.
rostopic echo -n1 /diagnostics

Also i don't understand what you want with udp://@:14556 - it is equal to udp://@ because remote host is required.
Next you setup gcs proxy to bind on that port, why?

Originally posted by vooon with karma: 404 on 2017-04-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Rudja on 2017-04-07:
Thanks for your help vooon! Sorry for the delay, I was ill... In fact, I don't have connection with /diagnostics. These parameters for fcu_url and gcs_url are the result of my research on the net because it is my first project with ROS. I have tried many things, but I never got connection.
Comment by Rudja on 2017-04-07:
Sorry for being a novice in this domain, but what should be these parameters to command through Mavros my drone pls?


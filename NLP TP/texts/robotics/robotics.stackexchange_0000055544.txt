Q:

an warning in Moveit!

Hi everyone,
I got following warning in Moveit! when I start running openni2 camera and running node "moveit_object_sender" which use openni2 camera to track human position and send a human mesh object to Moveit! collision world.
Message from [/moveit_object_sender] has a non-fully-qualified frame_id [odom_combined]. Resolved locally to [/odom_combined].  This is will likely not work in multi-robot systems.  This message will only print once.
[ WARN] [1384805836.725437318, 42.125000000]: No transform available between frame '/camera_depth_frame' and planning frame '/odom_combined' (Could not find a connection between '/odom_combined' and '/camera_depth_frame' because they are not part of the same tree.Tf has two or more unconnected trees.)

This is output of rosrun tf tf_echo /camera_depth_frame /odom_combined
Failure at 139.430000000
Exception thrown:Could not find a connection between '/camera_depth_frame' and '/odom_combined' because they are not part of the same tree.Tf has two or more unconnected trees.
The current list of frames is:
Frame /camera_depth_optical_frame exists with parent /camera_depth_frame.
Frame /camera_depth_frame exists with parent /camera_link.
Frame /base_bellow_link exists with parent /base_link.
Frame /base_link exists with parent /base_footprint.
Frame /base_footprint exists with parent /odom_combined.
Frame /base_laser_link exists with parent /base_link.
Frame /double_stereo_link exists with parent /sensor_mount_link.
Frame /sensor_mount_link exists with parent /head_plate_frame.
Frame /head_mount_link exists with parent /head_plate_frame.
Frame /head_plate_frame exists with parent /head_tilt_link.
Frame /head_mount_kinect_ir_link exists with parent /head_mount_link.
Frame /head_mount_kinect_ir_optical_frame exists with parent /head_mount_kinect_ir_link.
Frame /head_mount_kinect_rgb_link exists with parent /head_mount_kinect_ir_link.
Frame /head_mount_kinect_rgb_optical_frame exists with parent /head_mount_kinect_rgb_link.
Frame /head_mount_prosilica_link exists with parent /head_mount_link.
Frame /head_mount_prosilica_optical_frame exists with parent /head_mount_prosilica_link.
Frame /head_tilt_link exists with parent /head_pan_link.
Frame /high_def_frame exists with parent /sensor_mount_link.
Frame /high_def_optical_frame exists with parent /high_def_frame.
Frame /imu_link exists with parent /torso_lift_link.
Frame /torso_lift_link exists with parent /base_link.
Frame /l_forearm_cam_frame exists with parent /l_forearm_roll_link.
Frame /l_forearm_roll_link exists with parent /l_elbow_flex_link.
Frame /l_forearm_cam_optical_frame exists with parent /l_forearm_cam_frame.
Frame /l_forearm_link exists with parent /l_forearm_roll_link.
Frame /l_gripper_led_frame exists with parent /l_gripper_palm_link.
Frame /l_gripper_palm_link exists with parent /l_wrist_roll_link.
Frame /l_gripper_motor_accelerometer_link exists with parent /l_gripper_palm_link.
Frame /l_wrist_roll_link exists with parent /l_wrist_flex_link.
Frame /l_gripper_tool_frame exists with parent /l_gripper_palm_link.
Frame /l_torso_lift_side_plate_link exists with parent /torso_lift_link.
Frame /l_upper_arm_link exists with parent /l_upper_arm_roll_link.
Frame /l_upper_arm_roll_link exists with parent /l_shoulder_lift_link.
Frame /laser_tilt_link exists with parent /laser_tilt_mount_link.
Frame /laser_tilt_mount_link exists with parent /torso_lift_link.
Frame /narrow_stereo_link exists with parent /double_stereo_link.
Frame /narrow_stereo_l_stereo_camera_frame exists with parent /narrow_stereo_link.
Frame /narrow_stereo_l_stereo_camera_optical_frame exists with parent /narrow_stereo_l_stereo_camera_frame.
Frame /narrow_stereo_optical_frame exists with parent /narrow_stereo_link.
Frame /narrow_stereo_r_stereo_camera_frame exists with parent /narrow_stereo_l_stereo_camera_frame.
Frame /narrow_stereo_r_stereo_camera_optical_frame exists with parent /narrow_stereo_r_stereo_camera_frame.
Frame /projector_wg6802418_child_frame exists with parent /projector_wg6802418_frame.
Frame /projector_wg6802418_frame exists with parent /head_plate_frame.
Frame /r_forearm_cam_frame exists with parent /r_forearm_roll_link.
Frame /r_forearm_roll_link exists with parent /r_elbow_flex_link.
Frame /r_forearm_cam_optical_frame exists with parent /r_forearm_cam_frame.
Frame /r_forearm_link exists with parent /r_forearm_roll_link.
Frame /r_gripper_led_frame exists with parent /r_gripper_palm_link.
Frame /r_gripper_palm_link exists with parent /r_wrist_roll_link.
Frame /r_gripper_motor_accelerometer_link exists with parent /r_gripper_palm_link.
Frame /r_wrist_roll_link exists with parent /r_wrist_flex_link.
Frame /r_gripper_tool_frame exists with parent /r_gripper_palm_link.
Frame /r_torso_lift_side_plate_link exists with parent /torso_lift_link.
Frame /r_upper_arm_link exists with parent /r_upper_arm_roll_link.
Frame /r_upper_arm_roll_link exists with parent /r_shoulder_lift_link.
Frame /wide_stereo_link exists with parent /double_stereo_link.
Frame /wide_stereo_l_stereo_camera_frame exists with parent /wide_stereo_link.
Frame /wide_stereo_l_stereo_camera_optical_frame exists with parent /wide_stereo_l_stereo_camera_frame.
Frame /wide_stereo_optical_frame exists with parent /wide_stereo_link.
Frame /wide_stereo_r_stereo_camera_frame exists with parent /wide_stereo_l_stereo_camera_frame.
Frame /wide_stereo_r_stereo_camera_optical_frame exists with parent /wide_stereo_r_stereo_camera_frame.
Frame /bl_caster_l_wheel_link exists with parent /bl_caster_rotation_link.
Frame /bl_caster_rotation_link exists with parent /base_link.
Frame /bl_caster_r_wheel_link exists with parent /bl_caster_rotation_link.
Frame /br_caster_l_wheel_link exists with parent /br_caster_rotation_link.
Frame /br_caster_rotation_link exists with parent /base_link.
Frame /br_caster_r_wheel_link exists with parent /br_caster_rotation_link.
Frame /fl_caster_l_wheel_link exists with parent /fl_caster_rotation_link.
Frame /fl_caster_rotation_link exists with parent /base_link.
Frame /fl_caster_r_wheel_link exists with parent /fl_caster_rotation_link.
Frame /fr_caster_l_wheel_link exists with parent /fr_caster_rotation_link.
Frame /fr_caster_rotation_link exists with parent /base_link.
Frame /fr_caster_r_wheel_link exists with parent /fr_caster_rotation_link.
Frame /head_pan_link exists with parent /torso_lift_link.
Frame /l_elbow_flex_link exists with parent /l_upper_arm_link.
Frame /l_gripper_l_finger_tip_frame exists with parent /l_gripper_r_finger_tip_link.
Frame /l_gripper_r_finger_tip_link exists with parent /l_gripper_r_finger_link.
Frame /l_gripper_l_finger_link exists with parent /l_gripper_palm_link.
Frame /l_gripper_l_finger_tip_link exists with parent /l_gripper_l_finger_link.
Frame /l_gripper_motor_screw_link exists with parent /l_gripper_motor_slider_link.
Frame /l_gripper_motor_slider_link exists with parent /l_gripper_palm_link.
Frame /l_gripper_r_finger_link exists with parent /l_gripper_palm_link.
Frame /l_shoulder_lift_link exists with parent /l_shoulder_pan_link.
Frame /l_shoulder_pan_link exists with parent /torso_lift_link.
Frame /l_wrist_flex_link exists with parent /l_forearm_link.
Frame /r_elbow_flex_link exists with parent /r_upper_arm_link.
Frame /r_gripper_l_finger_tip_frame exists with parent /r_gripper_r_finger_tip_link.
Frame /r_gripper_r_finger_tip_link exists with parent /r_gripper_r_finger_link.
Frame /r_gripper_l_finger_link exists with parent /r_gripper_palm_link.
Frame /r_gripper_l_finger_tip_link exists with parent /r_gripper_l_finger_link.
Frame /r_gripper_motor_screw_link exists with parent /r_gripper_motor_slider_link.
Frame /r_gripper_motor_slider_link exists with parent /r_gripper_palm_link.
Frame /r_gripper_r_finger_link exists with parent /r_gripper_palm_link.
Frame /r_shoulder_lift_link exists with parent /r_shoulder_pan_link.
Frame /r_shoulder_pan_link exists with parent /torso_lift_link.
Frame /r_wrist_flex_link exists with parent /r_forearm_link.
Frame /torso_lift_motor_screw_link exists with parent /base_link.
Frame /camera_rgb_frame exists with parent /camera_link.
Frame /camera_link exists with parent NO_PARENT.
Frame /camera_rgb_optical_frame exists with parent /camera_rgb_frame.
Frame /odom_combined exists with parent NO_PARENT.

Does anyone know how to resolve this warning?
Thanks for any help in advance!

Originally posted by AdrianPeng on ROS Answers with karma: 441 on 2013-11-18
Post score: 0

A:

Well, when you look at your tf tree, is it actually connected? What does rosrun tf tf_echo /camera_depth_frame /odom_combined output?
I'm not familiar with the moveit_object_sender, but I got the same warning messages with a different setup where one of my nodes published a transform once, but didn't keep it updated. The problem was that the move_group node has a check where it asks for all the frames in tf, and checks that it can transform between all of them and its planning frame. If any of them fail, even if they're not required for the current task, it prints out that message.
EDIT: OK, this wasn't the same problem I had seen - it looks like you're publishing entirely independent trees. You probably have one of your nodes configured incorrectly, or are not publishing a required static transform. To debug this, I'd use rosrun tf view_frames to figure out what those trees are and which node is publishing each link. My first guess would be that you need to change the camera name argument in one of your launch files.

Originally posted by lindzey with karma: 1780 on 2013-11-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by AdrianPeng on 2013-11-19:
Hi lindzey, I updated my question with output of "rosrun tf tf_echo /camera_depth_frame /odom_combined". It says that '/camera_depth_frame' and '/odom_combined' are not part of the same tree. THen, how to make them within the same tree?
Comment by AdrianPeng on 2013-11-19:
This warning is really annoying because it interrupts my debug information within the same terminal.


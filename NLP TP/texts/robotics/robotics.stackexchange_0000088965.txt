Q:

how to use callback() with python

can anyone explain how to use callback in writing a subscriber? the tutorial uses callback(data),but what it data? what content dose it have? thank you very much!

Originally posted by lanlan on ROS Answers with karma: 5 on 2018-09-11
Post score: 0

A:

data  is just the variable name for the message that is passed in. You could name it msg, foo or whateveryoulike.
The content of it depends on the message type defined in the according instantiation of the subscriber. In the tutorial this is rospy.Subscriber("chatter", String, callback) type is std_msgs::String (check the import statements).
You can find the data fields of ROS messages on the docs pages, e.g. here or using rosmsg show PKG MSG.

EDIT
Well the first data in callback(data) is a ROS message, so if the ROS message is an std_msgs/Int16, data refers to that. However, this is actually a class and the actual int16 is found in the data.data member. Again, the first data is just a name, the second one is the variable of the std_msgs/Int16 which is "hardcoded".
As a more intuitive example, as it gets rid of this double data thing is e.g. std_msgs/ColorRGBA. data is the full message and you can access the respective field r, g, b and a via data.r, data.g and so on...

Originally posted by mgruhler with karma: 12390 on 2018-09-12
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by lanlan on 2018-09-12:
so if the message is int16, than the data will be exactly the int16? just the same as the message?
Comment by mgruhler on 2018-09-12:
see edit above
Comment by lanlan on 2018-09-12:
understandï¼Œ thank you!
Comment by mgruhler on 2018-09-13:
@lanlan if this answered your question, please check the answer as correct by clicking the check-mark on the left...


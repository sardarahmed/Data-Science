Q:

Recommended way to construct quaternion from roll/pitch/yaw with tf2?

What is the recommended way to construct a quaternion from roll/pitch/yaw with tf2?
The tf2 wiki page gives this code:
tf::Quaternion q = tf::createQuaternionFromRPY(0, 0, 0);

Unfortunately tf itself is deprecated and I'm looking for a pure tf2 solution. I can't find the createQuaternionFromRPY function in tf2, although the migration guide says it is a superset of tf. Am I missing something?

Originally posted by bluenote on ROS Answers with karma: 53 on 2018-09-27
Post score: 2

A:

Yes the createQuaternionFromRPY constructor is deprecated. But you can do it using two lines with the setRPY method:
float roll = 0;
float pitch = 0;
float yaw = 0;

tf2::Quaternion myQuaternion;
myQuaternion.setRPY( roll, pitch, yaw );

Hope this helps.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2018-09-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by bluenote on 2018-09-28:
Okay than my understand of "superset" is different. Not so nice that there is no longer a single expression (e.g. when I want a const quaternion).
Comment by PeteBlackerThe3rd on 2018-09-28:
I agree, I've put this change in my own code too. It's not as elegant but it's supported.
Comment by IanCol on 2020-03-19:
Anyone know why it's deprecated? it's a nice one-line way to create a quaternion.


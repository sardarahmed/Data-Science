Q:

Hector Exploration Slow?

Hello, I'm experimenting with the Hector Navigation Stack and I'm quite happy with the results I'm getting. However, right now I find that Hector Exploration is too slow for my application, in the Youtube videos from the authors it seems a lot faster, but when I'm running it takes more than 30 seconds every time I request the exploration service. Does anybody have ideas how to 1) make the planned trajectory farther from the start point, and 2) make goal finding and path planning faster? Many thanks in advance.
The following is a summary of the log from Hector Exploration:
[ INFO] [125.754800471]: HectorCM: is up and running.
[ INFO] [125.799118221]: Loading from pre-hydro parameter style
[ INFO] [125.884867888]: Using plugin "static_layer"
[ INFO] [125.987612471]: Requesting the map...
[ INFO] [126.302194221]: Resizing costmap to 2048 X 2048 at 0.050000 m/pix
[ INFO] [126.396465555]: Received a 2048 X 2048 map at 0.050000 m/pix
[ INFO] [126.414453555]: Using plugin "obstacle_layer"
[ INFO] [126.431127221]:     Subscribed to Topics: 
[ INFO] [126.466592721]: Using plugin "inflation_layer"
[ INFO] [126.597621721]: [hector_exploration_planner] Initializing HectorExplorationPlanner
[ INFO] [126.936871221]: [hector_exploration_planner] Parameter set. security_const: 0.500000, min_obstacle_dist: 1000, plan_in_unknown: 1, use_inflated_obstacle: 1, p_goal_angle_penalty_:50 , min_frontier_size: 5, p_dist_for_goal_reached_: 0.250000, same_frontier: 0.250000
[ INFO] [181.322802958]: Exploration Service called
[ INFO] [181.553172208]: [hector_exploration_planner] Size of trajectory vector for close exploration 223
[ INFO] [181.553525541]: [hector_exploration_planner] pushed 10 goals (trajectory) for close to robot frontier search
[ INFO] [203.212077703]: [hector_exploration_planner] exploration: found 4184151 frontiers!
[ INFO] [213.636407867]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 25
[ INFO] [240.141801611]: Exploration Service called
[ INFO] [240.368448777]: [hector_exploration_planner] Size of trajectory vector for close exploration 458
[ INFO] [240.368647444]: [hector_exploration_planner] pushed 15 goals (trajectory) for close to robot frontier search
[ INFO] [263.229025855]: [hector_exploration_planner] exploration: found 4183563 frontiers!
[ INFO] [274.304115019]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 51
[ INFO] [326.958585507]: Exploration Service called
[ INFO] [327.206913507]: [hector_exploration_planner] Size of trajectory vector for close exploration 806
[ INFO] [327.207185257]: [hector_exploration_planner] pushed 33 goals (trajectory) for close to robot frontier search
[ INFO] [349.500774335]: [hector_exploration_planner] exploration: found 4181744 frontiers!
[ INFO] [359.918440916]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 18
[ INFO] [379.455494828]: Exploration Service called
[ INFO] [379.681278661]: [hector_exploration_planner] Size of trajectory vector for close exploration 1016
[ INFO] [379.681586161]: [hector_exploration_planner] pushed 35 goals (trajectory) for close to robot frontier search
[ INFO] [402.406080989]: [hector_exploration_planner] exploration: found 4177748 frontiers!
[ INFO] [413.360849903]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 18
[ INFO] [432.999668898]: Exploration Service called
[ INFO] [433.214620565]: [hector_exploration_planner] Size of trajectory vector for close exploration 1230
[ INFO] [433.214923148]: [hector_exploration_planner] pushed 42 goals (trajectory) for close to robot frontier search
[ INFO] [454.773803143]: [hector_exploration_planner] exploration: found 4176345 frontiers!
[ INFO] [465.059485641]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 17
[ INFO] [484.091777386]: Exploration Service called
[ INFO] [484.319620636]: [hector_exploration_planner] Size of trajectory vector for close exploration 1434
[ INFO] [484.319980219]: [hector_exploration_planner] pushed 44 goals (trajectory) for close to robot frontier search
[ INFO] [509.019162380]: [hector_exploration_planner] exploration: found 4175579 frontiers!
[ INFO] [520.215116211]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 18
[ INFO] [539.910429206]: Exploration Service called
[ INFO] [540.176778789]: [hector_exploration_planner] Size of trajectory vector for close exploration 1658
[ INFO] [540.177759956]: [hector_exploration_planner] pushed 52 goals (trajectory) for close to robot frontier search
[ INFO] [563.854694200]: [hector_exploration_planner] exploration: found 4174866 frontiers!
[ INFO] [574.586802448]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 18
[ INFO] [594.108305776]: Exploration Service called
[ INFO] [594.380521360]: [hector_exploration_planner] Size of trajectory vector for close exploration 1874
[ INFO] [594.381335610]: [hector_exploration_planner] pushed 58 goals (trajectory) for close to robot frontier search
[ INFO] [619.011432770]: [hector_exploration_planner] exploration: found 4174758 frontiers!
[ INFO] [630.081098434]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 18
[ INFO] [649.650533013]: Exploration Service called
[ INFO] [649.896430680]: [hector_exploration_planner] Size of trajectory vector for close exploration 2096
[ INFO] [649.897681430]: [hector_exploration_planner] pushed 63 goals (trajectory) for close to robot frontier search
[ INFO] [673.959748674]: [hector_exploration_planner] exploration: found 4169848 frontiers!
[ INFO] [684.493167422]: [hector_exploration_planner] exploration: plan to a frontier has been found! plansize: 22

Originally posted by jackianchow on ROS Answers with karma: 1 on 2016-12-09
Post score: 0

Original comments
Comment by gvdhoorn on 2016-12-10:
Please make sure to use the Preformatted Text button (the one with 101010 on it) for log (code, console, launch files, etc) copy/pastes: without it, the text won't show (due to filtering). Just select the copied text and press the button (or use ctrl+k).
Thanks.
Comment by jackianchow on 2016-12-19:
Thank you. I have updated the format.
I'm surprised by the number of frontiers it found. That seems like a lot of test, which might be why it is so slow.
Comment by jjbecomespheh on 2020-07-20:
Hi @jackianchow, I am also facing the same issue of slow path planning and strangely larger percentage of frontier cells, may I ask if you managed to solve the problem fo Hector Exploration being slow?

A:

hector_exploration generally has been used by us on maps smaller than 50m x 50m (1024 x 1024 cells @0.05m resolution). There is no explicit handling performed for very large maps (such as tiling or other approaches), so for arbitrary large maps, things might become arbitrary slow. That being said, the output still looks a bit weird. It says a 2048 x 2048 size map is used. That's 4194304 grid cells. A little further down, the planner says it found 4176345 frontier cells (cells that contain a transition from free to unknown space). That's 99.534% of all map cells being detected as frontier cells, which is not plausible. Can you edit your post with an image of your map?
A new implementation of exploration planning using the grid_map library is available here: https://github.com/tu-darmstadt-ros-pkg/grid_map_navigation_planner. I'd recommend giving that one a shot. It should also be more efficient on large maps, as it only touches cells that are reachable by the robot.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2018-08-01
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by jjbecomespheh on 2020-07-17:
@jackianchow Hi Jackian, I have the similar problem as well with very high percentage of frontier cells ~99%, may I ask if you managed to resolve the problem and if you know how to fix this issue?


Q:

how to control scara robot yamaha with ros?

Hi all
I want to know I can control SCARA ROBOT(YAMAHA YK350XC controller RCX 142) with ROS ?
I need to use it in my thesis use robot with f/t sensor for exercise arm for rehabilitation .
It is compatible with ROS? or not compatible What can I do? (software for robot is VIP+ work on windows)
I am beginner.
Thanks in advance.

Originally posted by piyapat on ROS Answers with karma: 1 on 2017-10-12
Post score: 0

Original comments
Comment by gvdhoorn on 2017-10-12:
As a comment, as I don't want to discourage others from answering: a quick Google does not show any readily available pkgs for this robot. The controller looks rather old.
To use this with ROS, you'll have to create a driver component yourself. A driver transforms ROS 'motion commands' into ..
Comment by gvdhoorn on 2017-10-12:
.. commands that the RCX142 understands. It also transforms position output (ie: joint states) of the robot controller into ROS sensor messages. You'll have to figure out if that is possible. Use serial port or ethernet port.
Alternative: write off-line program generator that transforms ..
Comment by gvdhoorn on 2017-10-12:
.. ROS trajectories into programs for the robot. Then execute entire programs as a whole. You would not have robot joint states in RViz (for instance) that way, but you could control the robot.
Comment by piyapat on 2017-10-12:
thanks a lot

A:

Well, I have programmed a SCARA using the controller, and then invoke the programs stored in the controller from my ros node using tcp communication
So basically if you are doing a pick and place action, you program your overall action and break into several programs like

Goto overhead position 1 (program1)
Pick from the table (program2)
Goto overhead position 1 (program3)
Got overhead position 2 (program4)
Place on the table (program5)
Retract to home (program6)
and save these program in your controller with the respective name. Using TCP protocol and read the manual to find out which commands you want to use to send in signals from your computer to the Yamaha controller to invoke your programs.

Now write a state machine in your chose language which would invoke this programs. Run the state machine in the ROS. You can use actionlib for performing the same. Put the Yamaha into AUTO mode when you are sending a command from your ROS interface using your TCP socket bridge.

Originally posted by arunavanag with karma: 277 on 2017-10-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by piyapat on 2017-10-12:
you think is possible? I just use robot with f/t sensor for exercise arm for rehabilitation
Comment by arunavanag on 2017-10-12:
Worked on it already, many systems are running like this, so yes very much possible. You can do everything from your ROS node. You can even send programs from your ROS terminal to the YAMAHA controller using a TCP communication.
Comment by arunavanag on 2017-10-12:
If you are building it from scratch it should take some time. But this is the way my controller was programmed. I was using ROS indigo, Ubuntu 14.
Comment by gvdhoorn on 2017-10-12:
This is definitely one way to do this, but is not what I would consider 'integrating a robot with ROS'. Without joint states there is no direct control possible, only coordination (ie: starting/stopping programs running on the controller).
Any F/T based control will not be possible, as that ..
Comment by gvdhoorn on 2017-10-12:
.. typically requires high bandwidth, low-latency connections, which does not seem to be what you are describing.
Comment by arunavanag on 2017-10-12:
I had a vision to the arm as a feedback sending me coordinates, that I would use to calibrate and convert in to yamaha robot co-ordinates and have it move to he respective location. I think, @piyapat can establish a tcp connection take feedback from f/t sensor and send in commands to the controller.
Comment by gvdhoorn on 2017-10-12:
"high bw" with industrial controllers this old is something like 10 to 20 Hz. Do you think that is possible with this controller? Sending a single Cartesian pose once in a while based on vision is almost always possible. Continuously updating robot pose based on sensor data is something else.
Comment by arunavanag on 2017-10-12:
Yes I agree @gvdhoorn
Comment by gvdhoorn on 2017-10-12:
But it all depends on what @piyapat really wants/needs.
@piyapat: are you looking to implement closed loop control based on F/T sensor data, or is open-loop position updates sufficient?
Comment by piyapat on 2017-10-12:
@gvdhoorn I need to know that robot can control with ros ?
It is compatible with ROS?
or not compatible What can I do?
Comment by gvdhoorn on 2017-10-12:
There is no software for your RCX142 and ROS at the moment that I know of.
You will have to write software yourself.
But it is unclear what you really want to do.
Perhaps you can edit your original question and make clear what it is that you really want to do.
Comment by piyapat on 2017-10-12:
thank for suggestion


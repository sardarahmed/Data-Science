Q:

Cmake Project to Catkin

Hey every one,
I have the following folder structure of a pure cmake project:
 projectfolder/
 -  code/
          ...
 -  build/
          ...
 -  cmake/
          CompilerOptions.cmake 
          ...
 -  other/
          ...

which can be compiled by the following commands without problem:
$ cd build 
$ cmake ..
$ make

I would like to catkinize this package without interfering with its complex dependency structure.
Basically build the package normally from the same root "/build"
and than link the created libraries to the catkin libraries.
Unfortunately when I use catkin_make the root of the cmake is changing.
This can be seen as I get an cmake error for not finding CompilerOptions.cmake (which is in build).
I tried to Set(CMAKE_SOURCE_DIR  ${CMAKE_SOURCE_DIR}/src/projectfolder), but without the desired behavior.
How can I change the catkin_make path accordingly, if I have the structure:
catkinws/
-    build
-    devel
-    src/
             projectfolder/
             -  code/
                            ...
             -  build/
                            ...
             -  cmake/
                           CompilerOptions.cmake 
                           ...
             -  other/
                           ...

Thank you very much for your help.

Originally posted by JanOr on ROS Answers with karma: 170 on 2015-09-15
Post score: 0

A:

Have a look at CMake's add_subdirectory command: http://www.cmake.org/cmake/help/v3.0/command/add_subdirectory.html ; it should allow you to write a top-level CMakeLists that invokes the existing cmake files.

Originally posted by ahendrix with karma: 47576 on 2015-09-15
This answer was ACCEPTED on the original site
Post score: 1


Q:

How to build map using rviz

Hello,
I could not build map using rviz. The map error message is " No map received".
My tf is odom →base_link →laser_link →camera_link
I uses raspberrypi 2 and build my robot by using it.
the node is the following

terminal1:rosrun ros_move ros_move   (moving robot by using joystick:raspberrypi)
terminal2:rosrun ros_encoder ros_encoder (I uses encoder:raspberrypi)
terminal3:rosrun joy joy_node (joystick :laptop)
terminal4:rosrun base_controller base_controller_node (broadcast tf :laptop)

Probably the above stated node don't have problem because I could build a map before without using rviz.

terminal5:roslaunch freenect_launch freenect.launch
terminal6:rosrun image_view image_view image:=/camera/depth/image_raw
terminal7:rosrun depthimage_to_laserscan depthimage_to_laserscan image:=/camera/depth/image_raw
terminal8:rviz
terminal9:roslaunch robo_slam robo_slam.launch
terminal10:rosrun tf static_transform_publisher 0.0 0.0 0.0 0.0 0.0 0.0 /laser_link /camera_link 100
・・・(The rviz don't build map)

Please let me know how to solve the problem.
Thank you.

Originally posted by sasadasd on ROS Answers with karma: 104 on 2016-09-19
Post score: 0

A:

I use laptop and kinect.
robo_slam.launch file is the following.
<launch>
<node pkg="gmapping" type="slam_gmapping" name="slam_gmapping" output="screen">
    <param name="map_update_interval" value="2.0"/>
    <param name="maxUrange" value="6.0"/>
    <param name="sigma" value="0.05"/>
    <param name="kernelSize" value="1"/>
    <param name="lstep" value="0.05"/>
    <param name="astep" value="0.05"/>
    <param name="iterations" value="5"/>
    <param name="lsigma" value="0.075"/>
    <param name="ogain" value="3.0"/>
    <param name="lskip" value="0"/>
    <param name="srr" value="0.01"/>
    <param name="srt" value="0.02"/>
    <param name="str" value="0.01"/>
    <param name="stt" value="0.02"/>
    <param name="linearUpdate" value="0.25"/>     <!-- param name="linearUpdate" value="0.5"/-->
    <param name="angularUpdate" value="0.262"/>   <!--param name="angularUpdate" value="0.436"/-->
    <param name="temporalUpdate" value="-1.0"/>
    <param name="resampleThreshold" value="0.5"/>
    <param name="particles" value="300"/>
    <param name="xmin" value="-15.0"/>
    <param name="ymin" value="-15.0"/>
    <param name="xmax" value="15.0"/>
    <param name="ymax" value="15.0"/>
    <param name="delta" value="0.05"/>
    <param name="llsamplerange" value="0.01"/>
    <param name="llsamplestep" value="0.01"/>
    <param name="lasamplerange" value="0.005"/>
    <param name="lasamplestep" value="0.005"/>
    <param name="frame_id" value="scan"/>
</node>    

Originally posted by sasadasd with karma: 104 on 2016-09-19
This answer was ACCEPTED on the original site
Post score: 0


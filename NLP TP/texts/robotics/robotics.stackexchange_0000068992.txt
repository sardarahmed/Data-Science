Q:

roslaunch can't find launch files with "catkin build"

If I use "catkin_make" to build my workspace, and re-source my bashrc, then roslaunch is able to find my launch files and the nodes launch just fine.
If I do a "cakin clean -a" and a "cakin build," and re-source my bashrc, roslaunch can't autocomplete my launch files, or run any of the nodes in my workspace.
Here are the ROS related lines from my .bashrc:
export ROS_HOSTNAME=localhost
export ROS_MASTER_URI=http://localhost:11311
export ROS_ROOT=/opt/ros/indigo
export PATH=/opt/ros/indigo/bin:$PATH
source /opt/ros/indigo/setup.bash
source ~/catkin_ws/devel/setup.bash

export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/ros/indigo/lib

The difference in my environment is only in the ROS_PACKAGE_PATH variable:
with catkin tools ("catkin make"):
ROS_PACKAGE_PATH=/home/awagner/catkin_ws/install/share:/home/awagner/catkin_ws/install/stacks:/home/awagner/catkin_ws/src/image_retriever:/home/awagner/catkin_ws/src/ros-indigo-openni2-camera-0.2.4:/home/awagner/catkin_ws/src/bear_detector:/opt/ros/indigo/share:/opt/ros/indigo/stacks

with catkin_make:
ROS_PACKAGE_PATH=/home/awagner/catkin_ws/src:/opt/ros/indigo/share:/opt/ros/indigo/stacks

so catkin tools is appending ROS_PACKAGE_PATH with all of the subdirectories of my packages, rather than just the parent package.  Is this just a bug in the newer "python-catkin-tools" catkin front-end?  Anyone else running into this?
$ rospack profile 
Full tree crawl took
0.018942 seconds. Directories marked with (*) contain no manifest.  You may want to delete these directories. To get just of list of directories without manifests, re-run the profile with --zombie-only
-------------------------------------------------------------
0.015500   /opt/ros/indigo/share
0.001762   /home/awagner/catkin_ws/install/share
0.000158 * /home/awagner/catkin_ws/install/share/libautocalib
0.000139 * /home/awagner/catkin_ws/install/share/libplanview
0.000066 * /home/awagner/catkin_ws/install/share/bearvis
0.000042 * /home/awagner/catkin_ws/install/share/libautocalib/data
0.000027 * /home/awagner/catkin_ws/install/share/libdmd
0.000026 * /home/awagner/catkin_ws/install/share/libpdetect
0.000025 * /opt/ros/indigo/share/doc
0.000023 * /home/awagner/catkin_ws/install/share/libplanview/data
0.000023 * /home/awagner/catkin_ws/install/share/libbeardetect
0.000023 * /home/awagner/catkin_ws/install/share/libdepthio
0.000005 * /opt/ros/indigo/share/doc/liborocos-kdl

My version of catkin tools:
$ apt-cache show python-catkin-tools
Package: python-catkin-tools
Version: 0.3.0-1
I am running ROS Indigo on Ubuntu 14.04

Originally posted by drewm1980 on ROS Answers with karma: 258 on 2015-07-30
Post score: 3

A:

It looks like that you have the catkin install option enabled for your workspace and you do not have install rules for the launch files in the packages CMakeLists.txt.
When install is enabled, source devel/setup.bash will source the install space instead of the devel one. To disable the install option do
catkin config --no-install
catkin clean --all

Then rebuild your workspace.
To add an install rule in your CMakeLists.txt, add:
install(DIRECTORY
launch
DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION}
)

Originally posted by afakih with karma: 206 on 2017-02-16
This answer was ACCEPTED on the original site
Post score: 4


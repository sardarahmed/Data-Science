Q:

Navigation with Gmapping

Im using navigation with gmapping and wanted to know that if in the global_costmap_params.yaml the static map should be true or false? I have it with false and its working fine.  the problem is that when i look in rxgraph the move_base node DOES NOT subscibe to the /map but to  /tf published by gmapping.  Can anyone explai to me why is it that /map message does not appear in rxgraph?

Originally posted by ctguell on ROS Answers with karma: 63 on 2014-04-03
Post score: 1

Original comments
Comment by ctguell on 2014-04-04:
@demmeln when i look in the rxgraph i only see the move_base node related to navigation i dont see the any costmap, but it appears that the costmap subscribes to the /map.  So why is there no costmap node and is the /map only usefull for localisation as @AbuIbra ?  i have to explain whats the use of /map

A:

You definitely should be running the costmap with a static global map for gmapping. If you're using a laser scanner for global navigation, you will get artifacts and potentially false openings/obstacles whenever gmapping decides to relocalize itself.
Depending on your ros distribution (i.e. hydro and layered costmaps), you can also subscribe to updates on the /map topic, which would make it work properly with gmapping.

Originally posted by paulbovbel with karma: 4518 on 2014-04-04
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ctguell on 2014-04-04:
@paulbovbel when i put the static global map true the navigation does not work and i get the following error.
You have set map parameters, but also requested to use the static map. Your parameters will be overwritten by those given by the map server.  So i dont know what to do, also the /tf message that goes from gmapping to move_base what does it send? @demmeln
Comment by paulbovbel on 2014-04-05:
move_base will need transforms from your robot frame to your costmaps' global frames. That's usually odom for local, and map for global.
Comment by paulbovbel on 2014-04-05:
Even though you set a width, height and resolution for your costmap, those will be overwritten by the map received from gmapping, so you can probably leave those blank.
Comment by ctguell on 2014-04-05:
@paulbovbel thanks, when you say theres a tf from map to global whats its use?? to use map as the globalcostmap?? thanks


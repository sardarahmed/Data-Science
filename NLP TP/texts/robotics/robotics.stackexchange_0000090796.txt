Q:

How to get the separate value from the data of pcl::pointxyz?

I can get the result (x,y,z) through the at function of pcl::PointCloudpcl::PointXYZ，but I don't know how to get the separate value of x,y,z since my IDE can't go to the definition and I haven't seen related explanation.
std::cout << "x" << u << std::endl;
std::cout << "y" << v << std::endl;
int pcl_index;
 //std::cout << "msg_height = " << point_cloud_msg->height << std::endl;
  
pcl::PointCloud<pcl::PointXYZ> point_pcl;
pcl::fromROSMsg(*point_cloud_msg, point_pcl);
pcl_index = (v*640) + u; 
//std::cout<< "pcl_index" << pcl_index <<std::endl;
std::cout << "(x,y,z) = " << point_pcl.at(pcl_index) << std::endl;

Originally posted by 七小丘人 on ROS Answers with karma: 56 on 2019-03-06
Post score: 0

Original comments
Comment by jayess on 2019-04-15:
@七小丘人 you closed this question marking it as a right answer was chose, but you didn't mark @Dyson sphere's answer as correct. If it answered your question, can you please mark it as correct?

A:

I would suggest you to first go through Wiki on using pcl_ros module (this) before asking here, but since you already asked, refer to this wiki on section 3.2. where it explains how to subscribe to a pointcloud topic using pcl::PointCloud<pcl::PointXYZ> message type (in the end it prints results). This wiki page should help you understand how this module works (in a very limited but a good starting point way) and how to use common Pointcloud data structures, one of which is PointXYZ (as it is essentially a C-style struct with x,y,z floats).
Also good references:

http://docs.pointclouds.org/trunk/structpcl_1_1_point_x_y_z.html
http://docs.pointclouds.org/trunk/classpcl_1_1_point_cloud.html
https://wiki.ros.org/pcl/Overview (this one is essential)

Originally posted by Dyson sphere with karma: 46 on 2019-03-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by 七小丘人 on 2019-03-11:
cloud: width = 299018 height = 1
cloud: width = 299018 height = 1
cloud: width = 299036 height = 1
Thank you for your answer! But now I find the pointcloud is not organized and the width is not equal to 640*480. Is there another way to get the value of specific point?
Comment by Dyson sphere on 2019-03-11:
The way pointcloud data is usually presented is 1D vector (x) instead of 2D vector (x,y) you were expecting so that width data you have is the count of all points you have in your data. To get the single point information like it was a point in 2D matrix, you have to use a little trick where you can do something like this:
point = pointcloud[ width * y + x ]; 

where width is the length of your data set on x axis (based on resolution, in your case 640), y is the row number you are looking for (in range from 0-480 in your case, again based on resolution) and x is the column number. You are basically handling 1D data as it was 2D but without direct access to row pointer ( example: pointcloud[x][y] ).
Also, please confirm that your data is truly 640 * 480 as when you multiply it you get a bigger number then your width (640*480 = 307200 as opposed to 299018)
Comment by 七小丘人 on 2019-03-11:
Thank you for your answer! I found that the pointcloud I had subscribed  is Filtered and I have found the right organized pointcloud topic.


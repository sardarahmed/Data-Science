Q:

Package passes pre-release tests, but fails source debian build

Hi,
I'm trying to release the clearpath_husky package on electric. The pre-release builds pass (see here and here, but the source debian build fails on oneiric. I receive the following email:
Stack [clearpath_husky-0.2.1] in distro [electric] succeeded on the following OS platforms:
['lucid', 'maverick', 'natty']

================================================================================
ERRORS
================================================================================
Stack [clearpath_husky-0.2.1] in distro [electric] failed to build on the following OS platforms:
['oneiric']

[oneiric]: stack [clearpath_husky] does not have valid debian package dependencies for release [oneiric]
================================================================================

Using rosmake and rosdep on an oneiric machine seems to resolve all dependencies correctly and build this package without issue. I'm not sure where to go from here in terms of troubleshooting. Can I simulate the ROS build pipeline locally to see what the source of the error is?
Edit:
To clarify, everything works fine on my machine the error only occurs when the release has been submitted to the ROS servers. The create.py script also runs just fine and produces no error output.

Originally posted by abencz on ROS Answers with karma: 83 on 2012-03-05
Post score: 0

A:

99% of the time the error means there are issues resolving rosdep keys for the Oneiric platform.
Most of the time you can diagnose this issue by simply looking at the console output when you run the create.py script.
Most of the time this is caused by not having an up-to-date ros-electric release on your system (i.e. something that your stack depends on)

On ROS Electric (only), you can run the following code snippet:
from ros import rosdeb
rosdeb.rosutil.stack_rosdeps('my_stack_name', '/path/to/my_stack_name', 'oneiric')

This snippet will not work on ROS Fuerte.

Originally posted by kwc with karma: 12244 on 2012-03-05
This answer was ACCEPTED on the original site
Post score: 1


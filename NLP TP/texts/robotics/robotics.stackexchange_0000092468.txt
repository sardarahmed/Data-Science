Q:

Does odom starting at 0 affect amcl?

Hello community!
I am using an iRobot package that has the odom always starting at position: (0,0,0) orienation: (0,0,0,1) and the hokuyo laser + package urg_node. I am wondering if having position at 0 everytime the robot starts affects the amcl package in anyway. Is it good as long as I set the initialpose?
On another note, since I read that the orientation on iRobot isn't that great, I just wrote a node that publish the x,y of odom in the iRobot package and the orientation of the imu plus frame and header of odom. Oh and the imu I am using also is 0 when it starts up. I made it like that to match the odom since odom is 0 when it starts. Then I just put that as odom in amcl since all amcl cares about is x,y and orientation of odom. Is that a good idea? or should I use efk?
Answers to any part of these questions are appreciated! Thank you!
Thanks!

Originally posted by Usui on ROS Answers with karma: 21 on 2019-07-10
Post score: 0

A:

First question: Is ODOM at 0 an Issue? Answer: No. Not an issue. When you set initial pose the MAP->ODOM TF gets setup and all is OK.
Second question: Is that good idea or should I use EKF? Opinion: Keep it as simple as possible but no simpler. If ODOM and laser scanner give you good results then no need to use IMU and EFK IMHO. If you are on a Discovery Voyage (Stranger Things reference) and want to get broad experience with ROS, then absolutely it's a good idea. The more complicated you make it, the more experience you get.

Originally posted by billy with karma: 1850 on 2019-07-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Usui on 2019-07-10:
I am asking because for some reason every time I turn 360 degree, the map in rviz drifts really hard. Could it be something wrong with my hokuyo laser scanner? I use imu because when I was searching online, people said that irobot odometry is not very good. btw I use create_autonomy package for iRobot. Oh and when I wrote a cmd_vel using just the /odom topic from create_autonomy (with laser scanner) to go 1 meter it only goes 0.9 meter. I was hoping that using laser scanner could help it localize better.
Comment by billy on 2019-07-11:
I would suggest you study the odom a bit more before and tune it. There is a tutorial on how to tune ODOM here. http://wiki.ros.org/navigation/Tutorials/Navigation%20Tuning%20Guide
Comment by Usui on 2019-07-11:
I already tried tuning it. Also my problem starts at amcl so I haven't tried move_base since the laser scan keeps drifting
Comment by billy on 2019-07-13:
If it repeatably goes 0.9m when you tell it 1m, then it needs re-tuning. And poor tuning will cause drift when you rotate as well. That's all I got. I guess an IMU is unlikely to fix your issue if ODOM is really as bad as you say.
Comment by Usui on 2019-07-13:
how should i tune it? I am using the create_autonomy package btw


Q:

Mercurial for simulator_GAZEBO_1.2

Dear ROS gurus,
please, help me with the following.
While trying to compile gazebo (downloaded from here https://code.ros.org/svn/ros-pkg/stacks/simulator_gazebo/) with rosmake, I get the following:
Failed to find rosdep mercurial for package gazebo_plugins on OS:ubuntu version:10.04
Could someone please explain, how to fix this dependency(?)
Hope for your help very much.

Originally posted by ASMIK2011ROS on ROS Answers with karma: 62 on 2011-04-09
Post score: 1

A:

The solution is to use Diamondback.
You are probably using CTurtle, right? I tried to reproduce your behaviour, and this is what I get, using CTurtle:
[ rosmake ] No package specified.  Building stack ['simulator_gazebo']          
[ rosmake ] Packages requested are: ['simulator_gazebo']                        
[ rosmake ] Logging to directory/home/martin/.ros/rosmake/rosmake_output-20110410-152750
[ rosmake ] Expanded args ['simulator_gazebo'] to:
['gazebo_plugins', 'gazebo_worlds', 'gazebo_tools', 'gazebo']
[ rosmake ] Checking rosdeps compliance for packages simulator_gazebo.  This may take a few seconds.
Failed to find stack for package [rosgraph_msgs]
Failed to load rosdep.yaml for package [rosgraph_msgs]:Cannot locate installation of package rosgraph_msgs: [rospack] couldn't find package [rosgraph_msgs]. ROS_ROOT[/opt/ros/cturtle/ros] ROS_PACKAGE_PATH[/home/martin/ros:/opt/ros/cturtle/stacks]
Failed to find rosdep mercurial for package gazebo_plugins on OS:ubuntu version:10.04
(...)
WARNING: Rosdeps [u'mercurial', u'mercurial', u'mercurial', u'mercurial'] could not be resolved

This tells us that there are two errors:

rospack cannot find the package rosgraph_msgs
rosdep cannot find a rosdep.yaml file that specifies the debian package name for the dependency "mercurial"

Both errors can be fixed by switching to Diamondback, since rosgraph_msgs is new in Diamondback, and "mercurial" is now defined in /opt/ros/diamondback/ros/rosdep.yaml. Don't worry, you can install Diamondback and CTurtle side-by-side. Just install Diamondback and run the following:
source /opt/ros/diamondback/setup.bash   # if running bash

or
source /opt/ros/diamondback/setup.zsh    # if running zsh

and then:
roscd simulator_gazebo
rosmake --rosdep-install

Originally posted by Martin Günther with karma: 11816 on 2011-04-10
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ASMIK2011ROS on 2011-04-16:
This helped. Thank you VERY VERY VERY much!!!
Comment by Martin Günther on 2011-04-15:
I've edited my answer. You have to run the command "roscd simulator_gazebo" first.
Comment by ASMIK2011ROS on 2011-04-15:
youbot@oleksandr-laptop:/opt/ros/diamondback$ source /opt/ros/diamondback/setup.bash
youbot@oleksandr-laptop:/opt/ros/diamondback$ rosmake --rosdep-install
[ rosmake ] No package or stack arguments and the current directory is not the correct path for stack 'diamondback'. Stack directory is: /home/youbot/ros_stacks/ros-pkg/simulator_gazebo/tags/diamondback.
[ rosmake ] Packages requested are: []
[ rosmake ] Logging to directory/home/youbot/.ros/rosmake/rosmake_output-20110416-105453
[ rosmake ] Expanded args [] to:
[]
[ rosmake ] ERROR: No arguments could be parsed into valid package or stack names.
Comment by hsu on 2011-04-15:
you might be running bash? in that case, do "source /opt/ros/diamondback/setup.bash" instead.
Comment by ASMIK2011ROS on 2011-04-15:
That's what I get, after running the second line of it: >> youbot@oleksandr-laptop:~$ rosmake --rosdep-install
[ rosmake ] No package or stack specified.  And current directory 'youbot' is not a package name or stack name.
[ rosmake ] Packages requested are: []
[ rosmake ] Logging to directory/home/youbot/.ros/rosmake/rosmake_output-20110416-101637
[ rosmake ] Expanded args [] to:
[]
[ rosmake ] ERROR: No arguments could be parsed into valid package or stack names.
Comment by ASMIK2011ROS on 2011-04-15:
Hi! Thanks a lot for your answer! I installed diamondback, but can't run the code, which you suggested. That's what I get, after running the first line of it: >> youbot@oleksandr-laptop:~$ source /opt/ros/diamondback/setup.zsh
No command 'compctl' found, did you mean:
Command 'compcal' from package 'ggz-kde-client' (universe)
compctl: command not found
No command 'compctl' found, did you mean:
Command 'compcal' from package 'ggz-kde-client' (universe)
compctl: command not found
No command 'compctl' found, did you mean:
Command 'compcal' from package 'ggz-kde-client' (universe)
compctl: command not found
No command 'compctl' found, did you mean:
Command 'compcal' from package 'ggz-kde-client' (universe)
compctl: command not found


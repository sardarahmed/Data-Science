Q:

How to get sensor world pose from a SensorPlugin?

How can I get the world pose of a sensor from inside a SensorPlugin?

Originally posted by Bryan Newstrom on Gazebo Answers with karma: 3 on 2014-09-03
Post score: 0

A:

You can use Sensor::GetPose() to get the pose offset of the sensor from its parent, but getting the world pose of the parent depends on the sensor type.
Most sensors are attached to links, though force torque sensors are attached to joints. For sensors with a link parent, you can do:

sensors::SensorPtr sensor;
physics::WorldPtr world;
std::string parentName = sensor->GetParentName();
physics::EntityPtr parent = world->GetEntity(parentName);
// The order here matters
math::Pose sensorPose = sensor->GetPose() + parent->GetWorldPose();

For force torque sensors,

sensors::ForceTorqueSensor sensor;
physics::JointPtr parent = sensor->GetJoint();
math::Pose sensorPose = sensor->GetPose() + parent->GetWorldPose();

Originally posted by scpeters with karma: 2861 on 2014-09-03
This answer was ACCEPTED on the original site
Post score: 1


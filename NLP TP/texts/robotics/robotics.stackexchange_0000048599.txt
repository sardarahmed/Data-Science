Q:

 Question

Hello all,
How do I declare positions in a trajectory_msgs::JointTrajectory variable?
I am trying to input a IK service reply into a JointTrajectory positions:
trajectory_msgs::JointTrajectory l_traj_goal;

for(unsigned int i=0; i < l_gpik_res.solution.joint_state.name.size(); i ++)
{
l_traj_goal.points.positions[i] = l_gpik_res.solution.joint_state.position[i];          
}

but I get a compiling error:
error: ‘trajectory_msgs::JointTrajectory_<std::allocator<void> >::_points_type’ has no member named ‘positions’

Does anyone know what's going on here? I think this is a small coding error but my C++ skills are lacking
Kind Regards,
Martin

Originally posted by MartinW on ROS Answers with karma: 464 on 2013-02-22
Post score: 0

A:

Points is an array, you need to select an element in the array:
l_traj_goal.points[0].positions[i] = ...

Originally posted by fergs with karma: 13902 on 2013-02-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by MartinW on 2013-02-25:
Hey Fergs, thanks for the reply. It compiles now but I get a segmentation fault when I run the program. Any suggestions how to fix that?   (FIXED: I had to resize the elements in the array first)


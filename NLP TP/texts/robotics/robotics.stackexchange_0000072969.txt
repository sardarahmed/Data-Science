Q:

How to incorporate moveable sensor (Lidar) into navigation stack

I am building a robot which will move using ros navigation stack with move_base. I am using Lidar Lite 2 Laser Rangefinder to detect obstacles and for mapping as well. I have two questions regarding the use of this lidar.

Shall I use LaserScan (in obstacle_layer) or Range message data (in RangeSensorLayer) to put obstacles into the costmap. I am confused because generally Lidar is considered as a Laser sensor so it should be providing data in LaserScan format. But this specific lidar is providing range data.

I am using a motor to rotate this lidar to cover 180 degrees of scan area. How can I let my obstacle layer know the current position of lidar so that the obstacle point is inserted at the correct place in the costmap. In my robot's urdf, I can add this sensor at one frame and it will be fixed to that place according to the urdf. Is there any method to resolve this issue ?

Originally posted by b2meer on ROS Answers with karma: 66 on 2016-03-22
Post score: 0

A:

You should use LaserScan messages, imo, and take care of the spinning logic in your laser scan publisher. Each LaserScan messsage's ranges field will be populated with, e.g., 180 degrees worth of LiDAR-Lite measurements.
Here are some guidelines and examples:

http://wiki.ros.org/navigation/Tutorials/RobotSetup/Sensors
laser_scan_publisher_tutorial
https://github.com/rohbotics/xv_11_laser_driver
https://github.com/ros-drivers/hokuyo_node

Keep in mind that you'll need some way of keeping track of your motor's / LiDAR's orientation. Some sort of encoder. (Unless you're using a stepper motor.)

Originally posted by spmaniato with karma: 1788 on 2016-03-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by b2meer on 2016-03-24:
I'm using a stepper motor to rotate my lidar lite, for design reasons. The stepper motor has been fixed at a rotation rate of 2Hz. The method you've described would therefore mean that there would be a lag of 0.5 seconds due to the refresh-rate. This isn't much lag, but can it be reduced further?
Comment by spmaniato on 2016-03-24:
That's what the LaserScan message's time_increment field is for :-) Check out this detailed explanation: http://answers.ros.org/question/198843/need-explanation-on-sensor_msgslaserscanmsg/?answer=198848#post-id-198848
Comment by b2meer on 2016-03-28:
alright. Thank you very much for your help


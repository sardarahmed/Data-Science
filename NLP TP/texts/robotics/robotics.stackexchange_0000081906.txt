Q:

How should I send a trajectory to an Arduino Robot Arm?

Hi all,
I have a Python action server running that gets the planned trajectory from MoveIt and it has to send the trajectory to the real robot - an Arduino Braccio. I found a way to parse the positions in the trajectory and send them one by one to Braccio but it moves in a very clumsy way, stopping between commands. What I want to do is make it move smoothly from the initial position until the goal position along the trajectory received by MoveIt. Here is the code I have so far: braccio_controller.py. It uses this other Python script: moving_braccio_pc.py
Can someone point me what the correct way of giving such commands is?
Thanks in advance

Originally posted by BourbonCreams on ROS Answers with karma: 18 on 2017-07-21
Post score: 0

Original comments
Comment by JayNewman on 2017-07-22:
This is just a thought but is the path sent to the robot as a group, or is each portion of the path sent one at a time until the Arduino robot requests the next portion?
Comment by JayNewman on 2017-07-22:
Another possible point of failure is the Arduino robot itself. Have you tried calculating a smooth path in ROS and then manually compiling this path into your Arduino robot with it disconnected from ROS?
Comment by BourbonCreams on 2017-07-26:
Hi Jay, first of all the robot wasn't the issue because yes, I did try to execute a trajectory outside of ROS and it worked just fine.
I was previously sending each portion of the path separately but you gave me the idea of trying to send all of it and the execute it. This worked! Thank you
Comment by pranavb104 on 2018-12-27:
Hi ! Im having the same problem for my custom robotic arm. How do u send all the values at once and receive and decode it at the arduino end? Let me know!

A:

After JayNewman's comment I tried sending the entire trajectory to the Arduino so that I could store it and then execute it once I received it all. Even though the communication between the two processors (Arduino side and Linux side, both on the board - using Bridge) is quite slow, the trajectory eventually makes it to the Arduino side which then executes the trajectory smoothly.

Originally posted by BourbonCreams with karma: 18 on 2017-07-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by pranavb104 on 2018-12-27:
Hi ! Im having the same problem for my custom robotic arm. How do u send all the values at once and receive and decode it at the arduino end? Let me know!
Comment by BourbonCreams on 2018-12-28:
Hi there, have a look at my Github repo for this project: https://github.com/BourbonCreams/braccio_arm
Comment by pranavb104 on 2018-12-28:
Thanks! I got to know how to do it!


Q:

usb_cam low FPS from webcam

Hello,
I found out I can use usb_cam to publish images from my webcam. I tested it with my laptop's webcam and it performs poorly, only 7 FPS.
OS: Ubuntu 11.10 Oneric
ROS: Electric (installed via apt-get)
dmesg output regarding webcam:

[ 7209.629430] usb 2-1: USB disconnect, device number 3
[ 7211.188071] usb 2-1: new high speed USB device number 6 using ehci_hcd
[ 7211.383400] uvcvideo: Found UVC 1.00 device CNF7231 (04f2:b073)
[ 7211.395092] input: CNF7231 as /devices/pci0000:00/0000:00:1d.7/usb2/2-1/2-1:1.0/input/input11

I downloaded http://www.ros.org/wiki/usb_cam and compiled it using rosmake.
Compilation log: http://pastebin.com/rJYMR0Bw
As you can see it complains about libswscale (although I have it installed) but it managed to compile it.
Starting usb_cam gives the following output:
http://pastebin.com/6JQ2CSpP
Any ideas?
Thanks in advance.

Originally posted by Rosia Nicolae on ROS Answers with karma: 91 on 2011-12-03
Post score: 1

Original comments
Comment by Mac on 2012-02-16:
Have you tried other webcam software? Webcam support in linux is...spotty...at best. Do guvcview, or cheese, or similar, give you better behavior? It's not necessarily ROS' fault...

A:

Maybe you can try another pixel format, my launch file for my usb webcam looks like this:
<launch>
  <node name="usb_cam" pkg="usb_cam" type="usb_cam_node">
    <param name="video_device" value="/dev/video0" />
    <param name="image_width" value="640" />
    <param name="image_height" value="480" />
    <param name="pixel_format" value="yuyv" />
    <param name="camera_frame_id" value="usb_cam" />
    <param name="io_method" value="mmap" />
  </node>

Originally posted by Stephan with karma: 1924 on 2012-02-16
This answer was ACCEPTED on the original site
Post score: 1


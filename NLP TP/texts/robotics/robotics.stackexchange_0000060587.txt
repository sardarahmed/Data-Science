Q:

Pioneer P3-AT Doesn't Move - ROSARIA

I have a concern regarding getting the Pioneer P3-AT to move.   I have rosaria successfully installed, and I'm running on GROOVY.  I run roscore in one terminal.  Then I start rosaria  in a second terminal and I receive the following:
viki@ROS:~/catkin_ws$ rosrun rosaria RosAria _port:=/dev/ttyS0
'[ INFO] [1404333851.509725930]: RosAria: using port: [/dev/ttyS0]
Could not connect to simulator, connecting to robot through serial port /dev/ttyS0.
Syncing 0
Syncing 1
Syncing 2
Connected to robot.
Name: PSU_3773
Type: Pioneer
Subtype: p3at-sh
Using default parameters for a p3at-sh robot
ArRobotConnector: Connecting to MTX batteries (if neccesary)...
ArRobotConnector: Connecting to MTX sonar (if neccesary)...
'[ INFO] [1404333852.481173839]: Setting TicksMM from ROS Parameter: 138
'[ INFO] [1404333852.493839324]: Setting DriftFactor from ROS Parameter: 0
'[ INFO] [1404333852.506890756]: Setting RevCount from ROS Parameter: 32550
'[ INFO] [1404333852.687692264]: RosAria: publishing new recharge state 0.
'[ INFO] [1404333852.690871777]: RosAria: publishing new motors state 0.
'[ INFO] [1404333854.139017779]: RosAria: publishing new motors state 1.
This is my issue,I am attempting to move the robot.  I have tried the following command
rostopic pub -r 10 /cmd_vel geometry_msgs/Twist '{linear: {x: 0.1, y: 0.0}, angular: {x: 0.0, y: 0.0, z: 0.0}}'
no errors are displayed, but the robot doesn't move.
I then saw a similar post with a different model pioneer so I followed one of the suggestions and removed the readParameters() function from RosAria.cpp and received the following when I ran RosAria again:
viki@ROS:~/catkin_ws$ rosrun rosaria RosAria _port:=/dev/ttyS0
'[ INFO] [1404405147.590012597]: RosAria: using port: [/dev/ttyS0]
Could not connect to simulator, connecting to robot through serial port /dev/ttyS0.
Syncing 0
Syncing 1
Syncing 2
Connected to robot.
Name: PSU_3773
Type: Pioneer
Subtype: p3at-sh
Using default parameters for a p3at-sh robot
ArRobotConnector: Connecting to MTX batteries (if neccesary)...
ArRobotConnector: Connecting to MTX sonar (if neccesary)...
'[ INFO] [1404405148.654086464]: Setting TicksMM from Dynamic Reconfigure: 0 -> 138
'[ INFO] [1404405148.656896634]: Setting RevCount from Dynamic Reconfigure: 0 -> 32550
'[ INFO] [1404405148.723689412]: RosAria: publishing new recharge state 0.
'[ INFO] [1404405148.732294984]: RosAria: publishing new motors state 0.
'[ INFO] [1404405150.196582428]: RosAria: publishing new motors state 1.
I then tried to run the above rostopic command again a but again did not work.
I have also written a program that is intended to move the robot as well.  That program compiles fine and runs, but again the robot doesn't move, with and without the readParameters() function.  Do I have any calibration settings are not properly set? Any guidance would be greatly appreciated.

Originally posted by musik on ROS Answers with karma: 19 on 2014-07-03
Post score: 0

A:

Silly question, but have you enabled the motors on the platform itself? It's been a while since I used a P3AT, but I know the Pioneer 3 has a button that needs to be pressed to enable the motors. Also, have you tried changing the X linear velocity to something larger than 0.1? Try 0.5 or 1.0. Finally, try doing rostopic info /cmd_vel to ensure that the topic is in fact being subscribed to by the ROSARIA node.

Originally posted by Tom Moore with karma: 13689 on 2014-07-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by musik on 2014-07-03:
Found my issue.  I checked the rostopic list and found in my case /cmd_vel should have been /RosAria/cmd_vel. I changed it in my program to the correct topic name as well, and the robot moves now. Really silly mistake on my part, thanks a lot!


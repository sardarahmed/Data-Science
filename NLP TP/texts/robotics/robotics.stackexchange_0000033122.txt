Q:

draw pose in rviz: wrong direction

Hi!
I want to publish a poseArray to rviz. For understanding I implement a simple pose msg, which I want to send to rviz now with:

geometry_msgs::Pose_ > test;
test.position.x = 2;
test.position.y = 2;
test.position.z = 0;
test.orientation = tf::createQuaternionMsgFromYaw(3.14/2);
geometry_msgs::PoseStamped pose;
pose.header.frame_id="/world";
pose.header.stamp = ros::Time::now();
pose.pose = test;
poses_pub->publish(pose);

If I set the shape to "axis", the result is fine. But if I set it to "arrow", the arrow points in (-z) direction. In my opinion, it should point in x-y plane (orientation in msg).
Setting the quaternion by hand leads to the same result. A message with an "arrow" marker instead of the pose works fine.
I have checked out the newest geometry_msgs and rviz trunk.

Originally posted by minne on ROS Answers with karma: 13 on 2011-07-19
Post score: 1

A:

You found a bug in rviz!  I have created a ticket for it:
https://code.ros.org/trac/ros-pkg/ticket/5165
You first said that you want to publish a PoseArray to rviz, but your code publishes a PoseStamped.  If you actually do the PoseArray, it will work, because I fixed the PoseArray display already.  (It's fixed in the "Electric" release of rviz.)
For now, if you need the "PoseStamped" version, just use the "Axes" display.
I'll have this fixed and a new release pushed out in the next week or so.

Originally posted by hersh with karma: 1351 on 2011-09-13
This answer was ACCEPTED on the original site
Post score: 1


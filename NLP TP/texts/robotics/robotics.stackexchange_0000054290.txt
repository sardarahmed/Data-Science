Q:

How to associate Rosbag time with data

Hello everyone!
I have saved some flight data using rosbag record, but the header of my topic /odom doesn't contain the time. When I extract the data using rostopic echo -b foo.bag -p /odom > odom.csv, the column %time is always 0.
I was wondering how can the rosbag and rxbag can synchronize the data... I would like to know the mechanic and how I can get the rosbag time to associate it with the data.

Originally posted by ETS-Dronolab on ROS Answers with karma: 264 on 2013-09-22
Post score: 2

A:

You can use the Rosbag API to do what you want. If you look at the bottom of the page, the Python API returns the time that the message was recorded (t in the example). Probably there's something equivalent in the C++ API, too.
However, if you have the chance to repeat your experiment, it would be much better to fix the publisher of the odom topic so that it includes the actual time stamp in the header, and then record a fresh rosbag. This will be necessary in the long run anyways, since many nodes working with odom data expect the time stamp to be valid. Also, it will lead to more precise time stamps: you typically want to know when your sensor produced the measurement, not when rosbag recorded it.

Originally posted by Martin GÃ¼nther with karma: 11816 on 2013-09-23
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by ETS-Dronolab on 2013-09-23:
Yes of course, the bug have been fixed! Thank you for the link for the Rosbag API. To fix my problem I have reruned my bag, subscribe to each topic, fix the header and republished to message under a other name.
Comment by lunke on 2019-10-28:
Thx, that is exactly what i am looking for~ .. : )
Let's see if there is corresponding API in C++


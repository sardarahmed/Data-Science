Q:

Clear map around the robot

Hi, guys!
I'm using hector_mapping with an hokuyo UTM-30lx to generate a map for navigation but i'm having some issues that i need to solve before continuing with some other stuff.
At first, the environment is perfectly mapped but it can have some irregularities that are causing problems to the navigation of the robot. They are like noise due to some person passing or something like that and they stay in the map and don't erase. So the robot thinks it can't move forward or rotate due to an obstacle even if there is nothing in that place.
My question is if it's possible to "clear" this imperfections dynamically or update the map without this.

Originally posted by andrefc on ROS Answers with karma: 3 on 2016-02-16
Post score: 0

Original comments
Comment by Procópio on 2016-02-25:
are you creating the map and then navigating, or doing both at the same time?
Comment by andrefc on 2016-02-25:
i'm doing both at the same time

A:

It would help if you also posted your costmaps configurations.
Normally, when you setup your  costmap layers, you can also choose the combination method which is how you are going to combine that layer (the laser one in your case) with the "master costmap". Setting this parameter to 0 will make your "obstacle layer" to overwrite the "static_map layer", clearing obstacles that are not detected by the laser scan.
for example:
 plugins: 
        - {name: static_map,       type: "costmap_2d::StaticLayer"}
        - {name: obstacles,        type: "costmap_2d::VoxelLayer"}
    publish_frequency: 1.0
    obstacles:
        observation_sources: base_scan
        combination_method: 0
        base_scan: {data_type: LaserScan, sensor_frame: /base_laser_link, clearing: true, marking: true, topic: /base_scan}

check slide 16 here for more info on that.

Originally posted by Procópio with karma: 4402 on 2016-02-25
This answer was ACCEPTED on the original site
Post score: 2


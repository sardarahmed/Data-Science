Q:

How to publish rtsp stream as ros2 topic using image_publisher?

According to https://discourse.ros.org/t/ros-2-video-stream-opencv-port/14474/3 I should be able to just call ros2 run image_publisher image_publisher_node rtsp://192.168.254.151/live_stream and the rtsp stream should be published as a ros2 topic. I can view the rtsp stream using vlc just fine, but when trying above command I get following error after a while:
[h264 @ 0x5639cdf9f600] mb_type 58 in P slice too large at 81 36 
[h264 @ 0x5639cdf9f600] error while decoding MB 81 36

and sometimes the error is:
[h264 @ 0x5651197324c0] cbp too large (111) at 1 59
[h264 @ 0x5651197324c0] error while decoding MB 1 59

I built image_publisher and cv_bridge from source using the ros2 branch and I tried with the default opencv version 4.2.0 and now also with source built opencv version 4.5.1 hoping that it might be fixed in a newer version, but I still receive the same error.
Any idea how I can fix that error?

Originally posted by Hakaishin on ROS Answers with karma: 142 on 2020-11-30
Post score: 0

A:

What reduced the amount of these errors was making sure that the whole network path has 1GB internet cables as I had some 100MB cables in between and this was bottle necking the cameras and causing increased occurrences of these errors. They still happen from time to time, but quite rarely now

Originally posted by Hakaishin with karma: 142 on 2020-11-30
This answer was ACCEPTED on the original site
Post score: 0


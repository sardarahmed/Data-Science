Q:

Implementing a cartesian controller for teleoperation

Hi,
I plan to implement a cartesian controller for controlling 7 dof arm via some haptic device. I found JT cartesian controller in pr2_mechanisms package that could be utilized for this purpose. But since ros_control is a rewrite of pr2 packages I was wondering if there is such package in ros control which could be utilized for this purpose. Is there something in moveit that could be utilized or I have to implement all from scratch using KDL.

Originally posted by ZainMehdi on ROS Answers with karma: 225 on 2016-11-08
Post score: 0

A:

From my understanding with ROS control, you send a goal state and the controller does the rest.
MoveIt! creates a collision free trajectory when planning and can be executed through the ROS controller. Within MoveIt! you can specify Cartesian paths, joint goal positions, or Cartesian goal poses.
Edit: It sounds like you would want a position_controller then. With this you are able to send joint position commands and/or trajectories. You will have to use MoveIt! in between to convert from Cartesian positions to joint positions. Also have the option of connecting actual robot to ROS controller or one in simulation.
There are a few tutorials out there for adding a ROS controller to your URDF.

Native ROS tutorial
My tutorial

Originally posted by JoshMarino with karma: 592 on 2016-11-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ZainMehdi on 2016-11-13:
thnx for response but I am really not sure how will i go about it .. Trying different stuff at the moment .
Comment by JoshMarino on 2016-11-13:
Do you know how you want to map the haptic device to control the 7 DOF arm yet?
Comment by ZainMehdi on 2016-11-14:
Josh I am currently planning to extract the cartesian coordinates of the Haptic device's end effector (I already did that using SDK) and then use those as commands to cartesian space controller. Now I am not sure how to use ros_control to write custom controller of my own.
Comment by ZainMehdi on 2016-11-14:
Is there any such feature on moveit ? or do I need to use old controller like pr2_mechanism etc. I decided to implement my own stuff using KDL but for some reason kdl parser never works like I mentioned here
Comment by ZainMehdi on 2016-11-15:
Thnx again. Actually its torque controller I want to implement. But your tutorial can be a starting point. I will start implementation and will ask if anything comes up. I will also try to update my experience for future users.


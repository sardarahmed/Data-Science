Q:

rosmake of pi_tracker failed

Hi, all. I am trying to get joints data from the codes of http://www.ros.org/wiki/openni/Contests/ROS%203D/Skeleton%20Tracker%20Teleoperation%20Package%20for%20Mobile%20Robot . I just have kinect but donot have the pi robot. After rosmake pi_tracker, the log shows
[ rosmake ] Packages requested are: ['pi_tracker']
[ rosmake ] Logging to directory/home/nutan/.ros/rosmake/rosmake_output-20110301-134928
[ rosmake ] Expanded args ['pi_tracker'] to:
['pi_tracker']
[ rosmake ] Checking rosdeps compliance for packages pi_tracker.  This may take a few seconds.
Failed to find stack for package [pi_lib]
Failed to load rosdep.yaml for package [pi_lib]:Cannot locate installation of package pi_lib: [rospack] couldn't find package [pi_lib]. ROS_ROOT[/opt/ros/cturtle/ros] ROS_PACKAGE_PATH[/home/nutan/pi:/home/nutan/kinect_demos/motion_planning_common:/home/nutan/kinect_demos/geometry_experimental:/home/nutan/kinect_demos/ros-geometry:/home/nutan/kinect_demos/mit-ros-pkg-experimental:/home/nutan/kinect_demos/mit-ros-pkg:/home/nutan/kinect_demos/point_cloud_perception:/home/nutan/kinect_demos/perception_pcl:/home/nutan/kinect_demos/perception_pcl_addons:/home/nutan/kinect_demos/trunk_cturtle:/home/nutan/kinect_demos/ros_experimental:/home/nutan/kinect_demos/ni:/opt/ros/cturtle/stacks]
[ rosmake ] rosdep check passed all system dependencies in packages
[rosmake-0] Starting >>> pi_tracker [ make ]
[rosmake-1] Starting >>> roslang [ make ]
[ rosmake ] All 22 lines
{-------------------------------------------------------------------------------
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=rospack find rosbuild/rostoolchain.cmake  ..
[rosbuild] Building package pi_tracker
Failed to invoke /opt/ros/cturtle/ros/bin/rospack deps-manifests pi_tracker
[rospack] couldn't find dependency [pi_lib] of [pi_tracker]
[rospack] missing dependency
[rosmake-1] Finished <<< roslang ROS_NOBUILD in package roslang
No Makefile in package roslang
CMake Error at /opt/ros/cturtle/ros/core/rosbuild/public.cmake:113 (message):
Failed to invoke rospack to get compile flags for package 'pi_tracker'.
Look above for errors from rospack itself.  Aborting.  Please fix the
broken dependency!

Call Stack (most recent call first):
/opt/ros/cturtle/ros/core/rosbuild/public.cmake:178 (rosbuild_invoke_rospack)
CMakeLists.txt:12 (rosbuild_init)
-- Configuring incomplete, errors occurred!
[ rosmake ] Output from build of package pi_tracker written to:
[ rosmake ]    /home/nutan/.ros/rosmake/rosmake_output-20110301-134928/pi_tracker/build_output.log
[rosmake-0] Finished <<< pi_tracker [FAIL] [ 0.22 seconds ]
[rosmake-2] Starting >>> roslib [ make ]
[rosmake-2] Finished <<< roslib ROS_NOBUILD in package roslib
[rosmake-3] Starting >>> xmlrpcpp [ make ]
[rosmake-3] Finished <<< xmlrpcpp ROS_NOBUILD in package xmlrpcpp
[ rosmake ] Halting due to failure in package pi_tracker.
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:
[ rosmake ] Built 6 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /home/nutan/.ros/rosmake/rosmake_output-20110301-134928
===========================================================
Also, i type in roslaunch pi_tracker skeleton.launch, it appears
... logging to /home/nutan/.ros/log/a41a5ae0-43c7-11e0-ae7f-00e081b5d370/roslaunch-nutan-desktop-10909.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
started roslaunch server http://nutan-desktop:49833/
SUMMARY
PARAMETERS

/use_sim_time
/skeleton_tracker/fixed_frame
/skeleton_tracker/holonomic
/skeleton_tracker/skel_to_joint_map/right_shoulder
/skeleton_tracker/tracking_rate
/skeleton_tracker/skel_to_joint_map/right_hip
/skeleton_tracker/command_rate
/skeleton_tracker/skel_to_joint_map/left_foot
/skeleton_tracker/skel_to_joint_map/left_elbow
/skeleton_tracker/skel_to_joint_map/right_foot
/skeleton_tracker/use_real_robot
/skeleton_tracker/skel_to_joint_map/right_knee
/skeleton_tracker/skel_to_joint_map/left_shoulder
/skeleton_tracker/scale_drive_speed
/skeleton_tracker/base_controller_rate
/skeleton_tracker/skel_to_joint_map/left_knee
/skeleton_tracker/base_control_side
/robot_description
/skeleton_tracker/skel_to_joint_map/head
/skeleton_tracker/max_rotation_speed
/skeleton_tracker/skel_to_joint_map/torso
/skeleton_tracker/skel_to_joint_map/right_hand
/skeleton_tracker/skel_to_joint_map/right_elbow
/skeleton_tracker/default_joint_speed
/skeleton_tracker/max_drive_speed
/skeleton_tracker/scale_rotation_speed
/robot_state_publisher/publish_frequency
/skeleton_tracker/reverse_rotation
/skeleton_tracker/skel_to_joint_map/neck
/skeleton_tracker/skel_to_joint_map/left_hand
/skeleton_tracker/joint_controller_rate
/skeleton_tracker/skel_to_joint_map/left_hip

NODES
/
robot_state_publisher (robot_state_publisher/state_publisher)
kinect_base_link (tf/static_transform_publisher)
kinect_base_link1 (tf/static_transform_publisher)
kinect_base_link2 (tf/static_transform_publisher)
kinect_base_link3 (tf/static_transform_publisher)
skeleton_tracker (pi_tracker/skeleton_tracker)
base_world_broadcaster (tf/static_transform_publisher)
starting new master (master configured for auto start)
process[master]: started with pid [10926]
ROS_MASTER_URI=http://nutan-desktop:11311/
setting /run_id to a41a5ae0-43c7-11e0-ae7f-00e081b5d370
process[rosout-1]: started with pid [10939]
started core service [/rosout]
process[robot_state_publisher-2]: started with pid [10952]
process[kinect_base_link-3]: started with pid [10953]
process[kinect_base_link1-4]: started with pid [10961]
process[kinect_base_link2-5]: started with pid [10979]
process[kinect_base_link3-6]: started with pid [10993]
process[skeleton_tracker-7]: started with pid [11003]
process[base_world_broadcaster-8]: started with pid [11015]
[skeleton_tracker-7] process has died [pid 11003, exit code -11].
log files: /home/nutan/.ros/log/a41a5ae0-43c7-11e0-ae7f-00e081b5d370/skeleton_tracker-7*.log
I just need the data of the joints from kinect. If you have any suggestion, it is appreciated in advance.

Originally posted by Nutan on ROS Answers with karma: 96 on 2011-02-28
Post score: 0

A:

Sorry about that.  I failed to include the dependency on the pi_lib package on the Contest wiki page. (I have since corrected that.)  So please get the pi_lib package using:
svn checkout http://pi-robot-ros-pkg.googlecode.com/svn/trunk/pi_lib
then try rosmake on pi_tracker again.
--patrick

Originally posted by Pi Robot with karma: 4046 on 2011-03-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Pi Robot on 2011-03-02:
OK, I have fixed the hard coded path.  It is now defined in the skeleton.launch file and the default should work without modification.
Comment by Pi Robot on 2011-03-02:
Ah yes!  Good catch.  That source file is from Taylor Veltrop's original skeleton tracker package and even though I believe he fixed the hard coded path in his package, I forgot to do the same.  So I'll get to it now.  Thanks for the reminder and sorry it tripped you up.
Comment by Nutan on 2011-03-02:
Thank you very much. Kinect is no problem. The reason is SAMPLE_XML_PATH "/home/patrick/ni/ni/openni/lib/SamplesConfig.xml" in KinectController.cpp. It works after changing the path as my computer.
Comment by Pi Robot on 2011-03-02:
The only way I can get that error is if I don't have the Kinect hooked up (power and USB) when I run 'roslaunch pi_tracker skeleton.launch'.  So a good test of your Kinect (if you haven't already done it) is to try 'roslaunch openni_camera openni_kinect.launch' and then, assuming no errors, in a separate terminal run something like 'rosrun nite Sample-PointViewer'.
Comment by Nutan on 2011-03-01:
Thank you very much. Rosmake is successful now. But roslaunch pi_tracker skeleton.launch is still failed.Is it because that I do not have robot?      process[robot_state_publisher-2]: started with pid [13510]
process[kinect_base_link-3]: started with pid [13511]
process[kinect_base_link1-4]: started with pid [13512]
process[kinect_base_link2-5]: started with pid [13532]
process[kinect_base_link3-6]: started with pid [13544]
process[skeleton_tracker-7]: started with pid [13557]
process[base_world_broadcaster-8]: started with pid [13573]
[skeleton_tracker-7] process has died [pid 13557, exit code -11].
log files: /home/nutan/.ros/log/09472306-4474-11e0-b8f6-00e081b5d370/skeleton_tracker-7*.log


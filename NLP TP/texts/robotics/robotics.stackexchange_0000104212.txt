Q:

Which topic does Moveit2 send to robot simulation(rviz, gazebo) to accomplish desired motion execution?

I want to echo the topic responsible for sending Joint_trajectory to the simulation environment (rviz, gazebo). However, I can't read this data. I would like to use this data for sending to the hardware interface for a real robot.
OS Version: Ubuntu 22.04
ROS Version: ROS Humble
ROS Packages: 
- Fanuc CRX-10iA/L description, 
- MoveIt2 package via moveit setup assistant

Thank you for your time!!!

A:

MoveIt uses joint_trajectory_controller to process the trajectory. I'm not sure now if it uses the topic or the action interface. If the latter is the case, you cannot directly subscribe to a topic.
rviz and gazebo get the data by different means. rviz show the robot_model from tf2-data, which are sent from robot_state_publisher in a typical ros2_control setup. The publisher itself gets joint_states from joint_state_broadcaster.
Gazebo classic (or gazebo), which is a simulation of the physical system, uses gazebo_ros2_control or gz_ros2_control as hardware component.
Hardware components and ros2_controllers interchange data by means of a shared memory, you cannot directly access data. But joint_trajectory_controller publishes a topic ~/controller_state where you can find the data.
To write a driver (called hardware component) with ros2_control framework, have a look at the demo section of the documentation.


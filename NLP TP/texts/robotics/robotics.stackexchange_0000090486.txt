Q:

Record bag file for use with time synchronizer

I've been testing an algorithm using the EuRoC dataset.  The dataset publishes synchronized camera images from two cameras along with IMU data.  My application uses a TimeSynchronizer to process both both frames and works great on the EuRoC dataset.
I recorded my own datasets using an IMU and two Point Grey cameras that are hardware triggered.  I used rosbag to record the three topics I thought I needed however when I play it back, no data makes it through the TimeSynchronizer.  I can remove the TimeSynchronizer and things work but I can only use one camera.
Looking at the header timestamps on both messages, they're generally well within 1ms of each other (generally within 500 us) .
How close do the timestamps have to be for the TimeSynchronizer to pass them?  Is there something special I should've done when recording the bag files to indicate the two camera topics were synchronized?

Originally posted by strike_eagle_iii on ROS Answers with karma: 35 on 2019-02-12
Post score: 1

Original comments
Comment by PeteBlackerThe3rd on 2019-02-12:
You could modify the message filter so it used an Approximate time synchroniser instead. This should solve the problem in your case.

A:

The Time synchronizer requires that the timestamps match exactly. In practice, most stereo camera drivers capture both images simultaneously in the driver, apply the same timestamp to both, and publish them on separate topics.
If you are running a separate driver for each camera, or trying to synchronize cameras with an IMU, the Approximate time synchronizer that @PeteBlackerThe3rd recommends is a more appropriate solution.

Originally posted by ahendrix with karma: 47576 on 2019-02-12
This answer was ACCEPTED on the original site
Post score: 2


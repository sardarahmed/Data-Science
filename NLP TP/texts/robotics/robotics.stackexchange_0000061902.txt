Q:

Problem with industrial_msgs/TriState.h

When I run catkin_make(I'm working with rqt). I get this:
[ 97%] Building CXX object guiakomips3/CMakeFiles/guiakomips3.dir/include/guiakomips3/moc_akomips3.cxx.o
In file included from /opt/ros/hydro/include/industrial_msgs/RobotStatus.h:53:0,
                 from /home/ismael/catkin_workspace/src/guiakomips3/include/guiakomips3/akomips3.h:13,
                 from /home/ismael/catkin_workspace/src/guiakomips3/src/guiakomips3/akomips3.cpp:1:
/opt/ros/hydro/include/industrial_msgs/TriState.h:73:13: error: expected identifier before ‘true’
/opt/ros/hydro/include/industrial_msgs/TriState.h:73:13: error: expected ‘}’ before ‘true’
/opt/ros/hydro/include/industrial_msgs/TriState.h:73:13: error: expected unqualified-id before ‘true’
/opt/ros/hydro/include/industrial_msgs/TriState.h:78:13: error: expected identifier before ‘false’
/opt/ros/hydro/include/industrial_msgs/TriState.h:78:13: error: expected ‘}’ before ‘false’
/opt/ros/hydro/include/industrial_msgs/TriState.h:78:13: error: expected unqualified-id before ‘false’
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:59: error: ‘ContainerAllocator’ was not declared in this scope
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:77: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:79: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:84: error: invalid type in declaration before ‘;’ token
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:59: error: ‘ContainerAllocator’ was not declared in this scope
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:77: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:84: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:94: error: invalid type in declaration before ‘;’ token
/opt/ros/hydro/include/industrial_msgs/TriState.h:89:1: error: expected declaration before ‘}’ token
make[2]: *** [guiakomips3/CMakeFiles/guiakomips3.dir/src/guiakomips3/akomips3.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
In file included from /opt/ros/hydro/include/industrial_msgs/RobotStatus.h:53:0,
                 from /home/ismael/catkin_workspace/build/guiakomips3/include/guiakomips3/../../../../src/guiakomips3/include/guiakomips3/akomips3.h:13,
                 from /home/ismael/catkin_workspace/build/guiakomips3/include/guiakomips3/moc_akomips3.cxx:10:
/opt/ros/hydro/include/industrial_msgs/TriState.h:73:13: error: expected identifier before ‘true’
/opt/ros/hydro/include/industrial_msgs/TriState.h:73:13: error: expected ‘}’ before ‘true’
/opt/ros/hydro/include/industrial_msgs/TriState.h:73:13: error: expected unqualified-id before ‘true’
/opt/ros/hydro/include/industrial_msgs/TriState.h:78:13: error: expected identifier before ‘false’
/opt/ros/hydro/include/industrial_msgs/TriState.h:78:13: error: expected ‘}’ before ‘false’
/opt/ros/hydro/include/industrial_msgs/TriState.h:78:13: error: expected unqualified-id before ‘false’
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:59: error: ‘ContainerAllocator’ was not declared in this scope
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:77: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:79: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:85:84: error: invalid type in declaration before ‘;’ token
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:59: error: ‘ContainerAllocator’ was not declared in this scope
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:77: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:84: error: template argument 1 is invalid
/opt/ros/hydro/include/industrial_msgs/TriState.h:86:94: error: invalid type in declaration before ‘;’ token
/opt/ros/hydro/include/industrial_msgs/TriState.h:89:1: error: expected declaration before ‘}’ token
make[2]: *** [guiakomips3/CMakeFiles/guiakomips3.dir/include/guiakomips3/moc_akomips3.cxx.o] Error 1
make[1]: *** [guiakomips3/CMakeFiles/guiakomips3.dir/all] Error 2
make: *** [all] Error 2
Invoking "make" failed

So, what is the problem?, I just included the library "industrial_msgs/RobotStatus.h", and it shows this error.
I tried updating industrial_msgs...
akomips3.cpp
#include "guiakomips3/akomips3.h"
#include <pluginlib/class_list_macros.h>
#include <ros/master.h>
#include <QStringList>
#include <ros/ros.h>
#include <stdlib.h>
#include <sensor_msgs/Joy.h>
#include "ikfast_services/IK.h"
#include "ikfast_services/FK.h"
#include <trajectory_msgs/JointTrajectory.h>
#include <trajectory_msgs/JointTrajectoryPoint.h>
#include <industrial_msgs/RobotStatus.h>
#include <sensor_msgs/JointState.h>
#include <stdio.h>
#include <iostream>

#include <QString>

akomips3.h
#ifndef guiakomips3__GUIPS3_H
#define guiakomips3__GUIPS3_H

#include <rqt_gui_cpp/plugin.h>
#include <ui_akomips3.h>
#include <ros/master.h>
#include <ros/ros.h>
#include <stdlib.h>
#include <stdio.h>
#include <sensor_msgs/Joy.h>
#include <trajectory_msgs/JointTrajectory.h>
#include <trajectory_msgs/JointTrajectoryPoint.h>
#include <industrial_msgs/RobotStatus.h>
#include <sensor_msgs/JointState.h>
#include "ikfast_services/IK.h"
#include "ikfast_services/FK.h"

#include <QWidget>
#include <QImage>
#include <QList>
#include <QMutex>
#include <QString>
#include <QSize>

Originally posted by Bastbeat on ROS Answers with karma: 131 on 2014-08-18
Post score: 0

Original comments
Comment by gvdhoorn on 2014-08-18:
I think we're going to need a little more information than that. Those files are auto-generated, and have not changed for a long time (afaik). They're also used internally by other ROS-Industrial pkgs. Is that the only error you get? Is there no other error before it? Dependencies all properly declared in your manifest?
Comment by gvdhoorn on 2014-08-18:
Also: please indent console output with 4 spaces (do not use quote blocks). It makes things a lot easier to read.
Comment by Bastbeat on 2014-08-18:
Now I posted 3 new lines before the old code.
Yes, the dependences are declared in the manifest
Comment by gvdhoorn on 2014-08-18:
Please update your original question with at least 10 lines around from both akomips3.h and akomips3.cpp where you include RobotStatus.h. Or make those files available somewhere.

A:

I just created the following program:
#include <ros/ros.h>
#include <industrial_msgs/RobotStatus.h>

int main(int argc, char **argv)
{
  return 0;
}

Building succeeded (standard CMakeLists.txt, package.xml declaring dependency on industrial_msgs), no errors.
I'm suspecting some kind of conflict between the other includes in your header and cpp file, and the RobotStatus.h header.
PS: any reason you have some double includes?
PPS: I assume there is a #endif in akomips3.h.

Originally posted by gvdhoorn with karma: 86574 on 2014-08-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Bastbeat on 2014-08-18:
You're right, I don't know why I have double includes.
But it still doesn't work.
I have the "#endif" and I saw again the CMakelist and the package.xml, but I can't see any strange.
I have other packages with this library and they work fine.
The problem maybe is rqt


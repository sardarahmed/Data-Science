Q:

hector_quadrotor tutorials do not work on Groovy

Hi.
Running the in/outdoor demos from the hector_quadrotor tutorials on Groovy results in Gazebo complaining about some parse error and segfaulting.
Is this a bug or am I missing something? In either case, is there a known simple fix for this? Everything was from the debian ros-groovy packages fairly recently.
EDIT: I just updated everything and for some reason I now get another but probably related parsing error:
Traceback (most recent call last):
  File "/opt/ros/groovy/stacks/xacro/xacro.py", line 35, in <module>
    xacro.main()
  File "/opt/ros/groovy/stacks/xacro/src/xacro.py", line 554, in main
    process_includes(doc, os.path.dirname(sys.argv[1]))
  File "/opt/ros/groovy/stacks/xacro/src/xacro.py", line 208, in process_includes
    raise XacroException("included file [%s] generated an error during XML parsing: %s"%(filename, str(e)))
xacro.XacroException: included file [/opt/ros/groovy/stacks/hector_models/hector_sensors_description/urdf/generic_camera.urdf.xacro] generated an error during XML parsing: mismatched tag: line 68, column 10
while processing /opt/ros/groovy/stacks/hector_quadrotor/hector_quadrotor_gazebo/launch/spawn_quadrotor.launch:
Invalid <param> tag: Cannot load command parameter [robot_description]: command [/opt/ros/groovy/stacks/xacro/xacro.py '/opt/ros/groovy/stacks/hector_quadrotor/hector_quadrotor_urdf/urdf/quadrotor_hokuyo_utm30lx.urdf.xacro'] returned with code [1]. 

Param xml is <param command="$(find xacro)/xacro.py '$(arg model)'" name="robot_description"/>

Old error message:
Msg Waiting for master.Warning [parser.cc:361] Converting a deprecated SDF source[/opt/ros/groovy/stacks/hector_gazebo/hector_gazebo_worlds/worlds/rolling_landscape_120m.world].
Set SDF value
  Version[1.0] to Version[1.3]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [Converter.cc:397] Deprecated SDF Values in original file:
<background rgba='0.5 0.5 0.5 1'

Warning [Converter.cc:397] Deprecated SDF Values in original file:
<background

Error [parser.cc:712] XML Element[filename], child of element[mesh] not defined in SDF. Ignoring.[mesh]
Error [parser.cc:703] Error reading element <mesh>
Error [parser.cc:703] Error reading element <geometry>
Error [parser.cc:703] Error reading element <collision>
Error [parser.cc:703] Error reading element <link>
Error [parser.cc:703] Error reading element <model>
Error [parser.cc:703] Error reading element <world>
Error [parser.cc:369] Unable to read element <sdf>
Error:   Could not find the 'robot' element in the xml file
         at line 59 in /tmp/buildd/ros-groovy-urdfdom-0.2.7-0precise-20130326-0231/urdf_parser/src/model.cpp
Error [parser_urdf.cc:1814] Unable to call parseURDF on robot model
Warning [parser.cc:377] SDF has no <sdf> element in file[urdf file]
Error [parser.cc:291] parse as old urdf model file failed.
Error [Server.cc:253] Unable to read sdf file[/opt/ros/groovy/stacks/hector_gazebo/hector_gazebo_worlds/worlds/rolling_landscape_120m.world]
Segmentation fault (core dumped)

Cheers,
Olov

Originally posted by Olov on ROS Answers with karma: 11 on 2013-05-24
Post score: 1

A:

There was a mismatched plugin tag in the urdf description of the generic_camera model.urdf.xacro used by quadrotor_hokuyo_utm30lx.urdf.xacro.
We fixed that bug a two or three weeks ago. You should upgrade to ros-groovy-hector-models version 0.2.3 and ros-groovy-hector-gazebo version 0.2.4 (or later), which have been released at May 26 (see Changelist):
sudo apt-get update && sudo apt-get upgrade

...or by using your favorite package manager GUI tool. Sorry for the inconvenience.

Originally posted by Johannes Meyer with karma: 1266 on 2013-06-10
This answer was ACCEPTED on the original site
Post score: 0


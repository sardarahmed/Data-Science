Q:

turtle_tf_demo.launch goes wrong when replaced with c++ compiled nodes

I tried to run the TF tutorial and fist launch:
roslaunch turtle_tf turtle_tf_demo.launch

and it worked fine.
And then I noticed that the launch file would run nodes written in python. So I replaced them with the C++ ones and launched it again. However, turtle2 got frantic....
https://www.dropbox.com/s/mw2ds061oprzgx0/TF_problem

I've checked the C++ code of the broadcaster and listener in turtle_tf, as long as the Python ones. In terms of their functionality, there weren't any difference between the C++ and Python ones, but the demo results turned out to be a lot different.
How can I solve this problem? Thanks~

Originally posted by Albert K on ROS Answers with karma: 301 on 2012-10-12
Post score: 1

Original comments
Comment by Po-Jen Lai on 2012-11-08:
Can you post the launch file you edited?

A:

@Tones answered this same issue over at this question.
Basically, the API appears to have changed in the tf::Quaternion constructor with RPY as parameters to YPR as parameters. So the broadcaster is broadcasting the wrong rotation in its transform.
You shouldn't use that constructor anymore, though, as it's been deprecated.  Use something else from the API to set your rotation, and make sure the order is right, and it should work fine.

Originally posted by thebyohazard with karma: 3562 on 2012-11-09
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Albert K on 2012-11-12:
Thanks. It looks exactly the same problem. I'll try it.


Q:

ROS2: how are msgs serialised (compared to ROS1)?

Hello,
I have two questions about the Connection Header:

I have a ROS1 application where I rely on  the Connection Header and I would like to know how is that handle in ROS2? I am only concerned about messages.
Is it possible to "dump" the connection header (in ROS1 and/or ROS2) of a publisher for a given topic to a file?

Basically what I am trying to figure out if data is serialized the same way in ROS2 as it was in ROS1 to be transmitted. That means, starting 4 bytes with total length of the entire message and then each variable with its bytes and its length if it is a string or array.
Thanks for the help.

Originally posted by Ariel on ROS Answers with karma: 65 on 2021-02-09
Post score: 0

A:

Basically what I am trying to figure out if data is serialized the same way in ROS2 as it was in ROS1 to be transmitted.

No, not at all.
ROS 2 uses DDS by default (there are other middleware choices).
See the ROS 2 design site. The articles about the middleware choice(s) are probably interesting and relevant.

Originally posted by gvdhoorn with karma: 86574 on 2021-02-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Ariel on 2021-02-10:
So that is for the communication part, but for what I understood, ROS2uses FAST-CDR for the serialization, before broadcasting it. So my 2nd question was if it is possible to get that serialization as well for a given message in the node itself?
Comment by gvdhoorn on 2021-02-10:
As you should know, posting follow-up questions as comments under questions which have been answered is not a good idea. Those questions (and any potential answers) have very low visibility.
Asking two questions in a single post here on ROS Answers isn't a good idea in general.
You might want to post a new question.
Comment by Ariel on 2021-02-10:
Good point. Just in case, I found the answer by using this: http://wiki.ros.org/roscpp/Overview/MessagesSerializationAndAdaptingTypes


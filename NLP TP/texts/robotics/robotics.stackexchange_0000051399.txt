Q:

Project stopped being able to build

I have an ROS node project which I am developing using Eclipse. I have been able to build the project for some time, but tonight after updates were installed, the project is broken. I found one issue, which was the change from drcsim-2.5 to drcsim-2.6. I changed the include path in the eclipse properties, then did project->index->rebuild. However, I still get the errors below. In addition, when I run rosgui, all of the python based plug-ins are grayed out, whereas these worked previously. I have a custom python plugin which still works, because I manually set the path to my project. Finally, ROS_PACKAGE_PATH used to include a large number of packages, but now it only includes the packages I add. All of this suddenly stopped.
Has rosbuild and the use of ROS_PACKAGE_PATH been discontinued in the most recent update?
I would appreciate anyone's help as to how get back to being able to build my project.
UPDATE:
Rosgui now shows all the plugins like normal. This was apparently an error from starting it before I started the ros master. Also, after reading the error message a few more times, I see that rospack is reporting it can't find atlas_msgs. My manifest.xml file refers to this and several other drcsim related packages. Rospack is able to find regular ros packages such as roscpp or geometry_msgs, but it doesn't see any of the drcsim specific packages that I need to be able to call the the required message types.
I double checked my project include paths, and also found the need to update from gazebo-1.7 to gazebo-1.8, but all the other paths still appear to be intact.
When I first discovered this problem, the #include line for atlas_msgs/AtlasSimInterfaceState.h was broken, saying it couldn't see this file. This problem was fixed when I updated the include path from drcsim-2.5 to drcsim-2.6. If this corrected the ability to see the file to include it, why can't the compiler see atlas_msgs?
UPDATE 2:
I decided to try closing eclipse, and manually add the drcsim-2.6 package to the ROS_PACKAGE_PATH, but in the command window where I started eclipse, ROS_PACKAGE_PATH contains all the ros packages. I don't know why they appear in this terminal window, but not the others. I run the startup scripts for drcsim in the .bashrc, so I would thing any terminal window would show the same.  I start eclipse using bash -i -c eclipse.
FIXED:
I had to update the C/C++ Make Project Environment variable for ROS_PACKAGE_PATH. It was still full of references to drcsim-2.5. I deleted the previous contents, and pasted in the path variables posted below, and was able to build successfully.
Here is my result for echo $ROS_PACKAGE_PATH
rick@field:~/catkin_ws$ echo $ROS_PACKAGE_PATH
/home/rick/ros_ws/:/home/rick/ros_ws:/usr/share/osrf-common-1.0/ros:/usr/share/drcsim-2.6/ros:/usr/share/sandia-hand-5.1/ros:/usr/share/drcsim-2.6/ros:/usr/share/drcsim-2.6/gazebo_models/irobot_hand_description/irobot_hand_description:/usr/share/drcsim-2.6/gazebo_models/irobot_hand_description/irobot_hand_on_box:/usr/share/drcsim-2.6/gazebo_models/multisense_sl_description/multisense_sl_on_box:/usr/share/drcsim-2.6/gazebo_models/multisense_sl_description/multisense_sl_description:/usr/share/drcsim-2.6/gazebo_models/atlas_description/atlas:/usr/share/drcsim-2.6/gazebo_models/atlas_description/atlas_irobot_hands:/usr/share/drcsim-2.6/gazebo_models/atlas_description/atlas_sandia_hands:/usr/share/drcsim-2.6/gazebo_models/atlas_description/atlas_sandia_hands_stumps:/usr/share/drcsim-2.6/gazebo_models/environments/gate:/usr/share/drcsim-2.6/gazebo_models/environments/gate_number_5:/usr/share/drcsim-2.6/gazebo_models/environments/golf_cart:/usr/share/drcsim-2.6/gazebo_models/environments/fire_hose:/usr/share/drcsim-2.6/gazebo_models/environments/mud_atlas:/usr/share/drcsim-2.6/gazebo_models/environments/ladder:/usr/share/drcsim-2.6/gazebo_models/environments/vrc_firehose_long:/usr/share/drcsim-2.6/gazebo_models/environments/gate_number_1:/usr/share/drcsim-2.6/gazebo_models/environments/grass_plane:/usr/share/drcsim-2.6/gazebo_models/environments/standpipe:/usr/share/drcsim-2.6/gazebo_models/environments/drc_vehicle:/usr/share/drcsim-2.6/gazebo_models/environments/vrc_heightmap_1:/usr/share/drcsim-2.6/gazebo_models/environments/vrc_heightmap_2:/usr/share/drcsim-2.6/gazebo_models/environments/vrc_standpipe:/usr/share/drcsim-2.6/gazebo_models/environments/stepping_block:/usr/share/drcsim-2.6/gazebo_models/environments/platform_2:/usr/share/drcsim-2.6/gazebo_models/environments/pavement_plane:/usr/share/drcsim-2.6/gazebo_models/environments/drc_terrain:/usr/share/drcsim-2.6/gazebo_models/environments/vrc_valve:/usr/share/drcsim-2.6/gazebo_models/environments/vehicle_gate:/usr/share/drcsim-2.6/gazebo_models/environments/powerplant:/usr/share/drcsim-2.6/gazebo_models/environments/gate_number_4:/usr/share/drcsim-2.6/gazebo_models/environments/gate_number_2:/usr/share/drcsim-2.6/gazebo_models/environments/gate_number_3:/usr/share/drcsim-2.6/gazebo_models/environments/platform_3:/usr/share/drcsim-2.6/gazebo_models/environments/platform_4:/usr/share/drcsim-2.6/gazebo_models/environments/platform_1:/opt/ros/groovy/share:/opt/ros/groovy/stacks

Here is the error message I get from Eclipse
00:38:52 **** Incremental Build of project fieldnode-RelWithDebInfo@fieldnode ****
/usr/bin/make -j8 all 
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=/opt/ros/groovy/share/ros/core/rosbuild/rostoolchain.cmake  ..
Re-run cmake no build system arguments
[rosbuild] Building package fieldnode
Failed to invoke /opt/ros/groovy/bin/rospack deps-manifests fieldnode
-- Configuring incomplete, errors occurred!
[rospack] Error: package/stack 'fieldnode' depends on non-existent package 'atlas_msgs' and rosdep claims that it is not a system dependency. Check the ROS_PACKAGE_PATH or try calling 'rosdep update'

CMake Error at /opt/ros/groovy/share/ros/core/rosbuild/public.cmake:129 (message):
  

  Failed to invoke rospack to get compile flags for package 'fieldnode'.
  Look above for errors from rospack itself.  Aborting.  Please fix the
  broken dependency!

Call Stack (most recent call first):
  /opt/ros/groovy/share/ros/core/rosbuild/public.cmake:203 (rosbuild_invoke_rospack)
  CMakeLists.txt:12 (rosbuild_init)

make: *** [all] Error 1

00:38:53 Build Finished (took 509ms)

Originally posted by rocklobster on ROS Answers with karma: 16 on 2013-05-25
Post score: 0

A:

Fixed
I had to manually update the ROS_PACKAGE_PATH data in the project properties under C/C++ Make Project->Environment.

Originally posted by rocklobster with karma: 16 on 2013-05-25
This answer was ACCEPTED on the original site
Post score: 0


Q:

upgrade to fuerte, problem with yaml-cpp

Hi!
First I upgraded ubuntu to precise. Then I wanted to upgrade from ros-electric to ros-fuerte, with the deb line in sources.list.d/ros-latest.list changed (oneiric to precise).
There is a problem with the package yaml-cpp from ros-fuerte, and I was not able to uninstall the ros-electric version via apt-get remove yaml-cpp0.2.6-dev (apt errors see below). First my solution: for now I forced the installation of the precise package as follows:
dpkg -i --force-overwrite /var/cache/apt/archives/yaml-cpp_0.2.7-5precise-20120502-0513-+0000_amd64.deb
Status is now:
apt-cache policy yaml-cpp0.2.6-dev yaml-cpp0.2.6-dev: Installed: 0.2.6-4~oneiric Candidate: 0.2.6-4~oneiric Version table: * 0.2.6-4~oneiric 0 100 /var/lib/dpkg/status
apt-cache policy yaml-cpp yaml-cpp: Installed: 0.2.7-5precise-20120502-0513-+0000 Candidate: 0.2.7-5precise-20120502-0513-+0000 Version table: * 0.2.7-5precise-20120502-0513-+0000 0 500 http://packages.ros.org/ros/ubuntu/ precise/main amd64 Packages 100 /var/lib/dpkg/status
then was able to
apt-get remove ros-electric-common ros-electric-image-common yaml-cpp0.2.6-dev
apt-get --reinstall install yaml-cpp
I would be glad to hear about a cleaner way or if there is some dependencies missing in the deb file ("provides", "conflicts") preventing a clean upgrade.
Anyway a parallel installation of electric and fuerte would be nice, but not possible with this conflict.
Here the error while installing ros-fuerte-desktop-full
apt-get -f install
Reading package lists... Done
Building dependency tree
Reading state information... Done
Correcting dependencies... Done
The following extra packages will be installed:
yaml-cpp
The following NEW packages will be installed:
yaml-cpp
0 upgraded, 1 newly installed, 0 to remove and 4 not upgraded.
9 not fully installed or removed.
Need to get 0 B/204 kB of archives.
After this operation, 582 kB of additional disk space will be used.
Do you want to continue [Y/n]?
(Reading database ... 275638 files and directories currently installed.)
Unpacking yaml-cpp (from .../yaml-cpp_0.2.7-5precise-20120502-0513-+0000_amd64.deb) ...
dpkg: error processing /var/cache/apt/archives/yaml-cpp_0.2.7-5precise-20120502-0513-+0000_amd64.deb (--unpack):
trying to overwrite '/usr/include/yaml-cpp/emitter.h', which is also in package yaml-cpp0.2.6-dev 0.2.6-4~oneiric
No apport report written because MaxReports is reached already
dpkg-deb: error: subprocess paste was killed by signal (Broken pipe)
Errors were encountered while processing:
/var/cache/apt/archives/yaml-cpp_0.2.7-5precise-20120502-0513-+0000_amd64.deb
E: Sub-process /usr/bin/dpkg returned an error code (1)

Originally posted by roaster on ROS Answers with karma: 51 on 2012-05-06
Post score: 5

A:

I had the same problem just now when I upgraded to Percise and Fuerte. I did:
sudo apt-get remove ros-electric*
sudo apt-get autoremove

And then the normal install
sudo apt-get update
sudo apt-get install ros-fuerte-desktop-full

All seems to work now ...

Originally posted by Kevin with karma: 2962 on 2012-05-25
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by MarkyMark2012 on 2012-05-25:
Is this all that is needed to upgrade from electric to fuerte?
Comment by Kevin on 2012-05-26:
I did it yesterday and it worked for me. Upgraded Ubuntu to 12.04 Precise first, then had the same issue you did. Then these were the step I did and it worked for me. First remove Electric and all of the old packages, then install Fuerte.


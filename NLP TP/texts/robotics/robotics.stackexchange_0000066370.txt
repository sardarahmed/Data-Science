Q:

ROS Answers SE migration: orocos-bfl

Hello all, I was trying to catkin_make "robot_pose_ekf" package I cloned from github and it's CMakeLists.txt is: link text. The output error was:
checking for module 'orocos-bfl'

--   package 'orocos-bfl' not found

CMake Error at /usr/local/Cellar/cmake/3.1.3/share/cmake/Modules/FindPkgConfig.cmake:340 (message):
  A required package was not found
Call Stack (most recent call first):
  /usr/local/Cellar/cmake/3.1.3/share/cmake/Modules/FindPkgConfig.cmake:502 (_pkg_check_modules_internal)
  CMakeLists.txt:13 (pkg_check_modules)

-- Configuring incomplete, errors occurred!

<== Failed to process package 'robot_pose_ekf':  

Then I cloned "orocos-bfl" package from github and when I catkin_make it, the output was:
Packages not found in the workspace: orocos-bfl

Then I followed bfl-ROS.wiki the following lines to CMakeLists.txt of "robot_pose_ekf" package:
   1 find_package(PkgConfig)
   2 
   3 pkg_check_modules(BFL REQUIRED bfl)
   4 
   5 message("BFL include dirs:" ${BFL_INCLUDE_DIRS})
   6 message("BFL library dirs:" ${BFL_LIBRARY_DIRS})
   7 
   8 include_directories(${BFL_INCLUDE_DIRS})
   9 link_directories(${BFL_LIBRARY_DIRS})
  10 
  11 [..]
  12 
  13 # for every target using BFL:
  14 target_link_libraries(your_executable ${BFL_LIBRARIES})

In the original CMakeLists.txt there is a line:
pkg_check_modules(BFL REQUIRED orocos-bfl)

and I just substituted is orocos-bfl with bfl as suggested and insert rest of above lines.
The result was, this did not work, output was:
package 'bfl' not found

which is installed already and can be found by rospack:
/Users/hxin1/ros_catkin_ws/src/bfl-release-release-indigo-bfl-0.7.0-6

Originally posted by zurish on ROS Answers with karma: 25 on 2015-03-13
Post score: 1

A:

orocos-bfl is not a catkin package but a plain cmake package. The package 'bfl' not found comes from cmake / pkgconfig, not catkin.
You cannot build orocos-bfl with caktin_make. Either use catkin_make_isolated or catkin build in the same workspace as robot_pose_ekf, or first build orocos-bfl in an underlying workspace (with catkin_make_isolated or catkin_build) and then build robot_pose_ekf ontop of that in a separate workspace using catkin_make.
Edit:
The following works for me:
rosinstall_generator robot_pose_ekf --tar --wet-only --rosdistro indigo --deps > robot_pose_ekf.rosinstall
wstool init -j8 src robot_pose_ekf.rosinstall 
src/catkin/bin/catkin_make_isolated

as does with catkin build instead of src/catkin/bin/catkin_make_isolated.

Originally posted by demmeln with karma: 4306 on 2015-03-13
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by zurish on 2015-03-13:
This works for me too. Thanks a lot and I think I learnt a lot from you!
Comment by demmeln on 2015-03-13:
Good to know. Happy hacking :-).


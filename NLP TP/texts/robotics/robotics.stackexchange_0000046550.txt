Q:

Accessing Log Level in roscpp

Hi,
I am wondering how to access the current log level of a certain logger in ROS during runtime.  I would like to write something like this:

if (Logger.getLogger("log4j.logger.ros.my_package").getLevel() == Level::DEBUG)
{
  // some debugging code
}

I know that this is possible in log4j in Java, but I was unable to find out how to access the loggers in roscpp.
The reason behind this is that I would like to perform certain calculations only when being in DEBUG mode.
Thanks!
Sebastian

Originally posted by sebastianh on ROS Answers with karma: 70 on 2012-12-13
Post score: 0

A:

Hi Sebastian!
You can access the logger like this:
log4cxx::LoggerPtr my_logger = log4cxx::Logger::getLogger(ROSCONSOLE_DEFAULT_NAME);
my_logger->getLevel();
my_logger->setLevel(ros::console::g_level_lookup[ros::console::levels::Debug]);

You then also have to link against the log4cxx library:
find_library(LOG4CXX_LIBRARY log4cxx)
target_link_libraries(some_target ${LOG4CXX_LIBRARY})

Originally posted by clemens with karma: 71 on 2012-12-14
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Dirk Thomas on 2014-01-14:
You should not use g_level_lookup to map the ROS debug level to the log4cxx log level. Instead use the log4cxx level directly. Besides the package must specify a dependency on log4cxx in its package manifest and the cpp file must include the necessary log4cxx header(s).


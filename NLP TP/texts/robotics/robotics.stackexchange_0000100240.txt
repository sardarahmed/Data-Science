Q:

roslibjs does not receive message containing sensor_msgs/CompressedImage field

I tried to create the custom message encapsulating several sensor_msgs/CompressedImage fields. I planned to connect it with roslibjs to display the images on the webpage. But the web application does not receive anything. Actually, I cannot even to catch the message receiving event. The message type is set up correctly. The publisher is saying the following:
[WARN] [1633447998.427242]: Inbound TCP/IP connection failed: connection from sender terminated before handshake header received. 0 bytes were received. Please check sender for additional details

Message structure:
Header header
sensor_msgs/CompressedImage raw_frame
sensor_msgs/CompressedImage annotated_frame
sensor_msgs/CompressedImage depth_map
bool has_detections
roi[] detections

where roi is another custom message. When I am trying to pass just sensor_msgs/CompressedImage everything works. Could you please help me to investigate why?

Originally posted by twdragon on ROS Answers with karma: 28 on 2021-10-05
Post score: 0

A:

You need to specify the correct package name for the detections field, just like you did with CompressedImage. There was likely an error message telling you this message type failed to compile.

Originally posted by Mike Scheutzow with karma: 4903 on 2021-10-06
This answer was ACCEPTED on the original site
Post score: 1


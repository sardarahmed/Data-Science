Q:

Getting the joint values of a computed path to a pose goal

Hi everybody,
I'm using moveit with an UR5. The planner I use is the RRTConnectkConfigDefault-planner.
The goal for the planner is a pose.
My question is now: Is there a way to retrieve the joint values of the six axes of the computed goal. Maybe out of my_plan from bool success = group.plan(my_plan);. Maybe something like moveit_msgs::RobotTrajectory trajectory = my_plan.trajectory_;. But I here I got stuck and couldn't find anything in the documentation.
And second: Is there a way to get all possible IK-joints (all IK-solutions which also have no collisions) and choose the goal-joints out of them?
Thanks in advance and regards!

Originally posted by bluefish on ROS Answers with karma: 236 on 2015-05-20
Post score: 0

A:

I currently use
std::vector&lt;double> joints = my_plan.trajectory_.joint_trajectory.points[plan.trajectory_.joint_trajectory.points.size()-1].positions;

which is kind of stupid because there is also std::vector::back(), so it should be
my_plan.trajectory_.joint_trajectory.points.back().positions

Here is the docs you need:
http://docs.ros.org/indigo/api/moveit_msgs/html/msg/RobotTrajectory.html
http://docs.ros.org/indigo/api/trajectory_msgs/html/msg/JointTrajectory.html
http://docs.ros.org/indigo/api/trajectory_msgs/html/msg/JointTrajectoryPoint.html
so positions is "float64[]" which translates to std::vector<double>

Originally posted by Simon Schmeisser with karma: 229 on 2015-05-20
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by bluefish on 2015-05-20:
This is exactly what I was looking for. Thanks!
Do you also have by any chance an idea how to get all possible IK-solutions?
Comment by Simon Schmeisser on 2015-05-20:
You're welcome. Unfortunately I don't know the answer to your second question. Would be interesting for me as well. I fear this might not be as easy, depending on what IK you use. As far as I understand the default one is sampling/random based and will only find one solution. You could try several
Comment by Simon Schmeisser on 2015-05-20:
times and see if it changes? I think that is what some of the code does internally. For ik-fast there might be a way to get all solutions but I don't know it.
Maybe ask on moveit-devel and/or open an extra question?
Comment by bluefish on 2015-05-26:
Hi! I asked the question in the moveit-user-google-group. Here is the link.


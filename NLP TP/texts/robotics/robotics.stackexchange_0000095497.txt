Q:

ROS2: using xacro in launch file - passing parameters

Hi there,
I've been using xacro.process_file(<file_name>)to convert from xacro to urdf, it works just fine. Now I have implemented a xacro argument in my file and I want to pass that from my launch file. It just doesn't get read with my current implementation.
XACRO:
<xacro:arg name="simulate_obstacles" default="true"/>
<xacro:if value="$(arg simulate_obstacles)">
  <...doing_something...>  
</xacro:if>

LAUNCH FILE:
doc = xacro.process_file(xacro_file, simulate_obstacles='false')

When running the xacro from the commandline I don't have any problem passing arguments.
What am I doing wrong here? Or is there even a more simple way to use xacro in launch files in ROS2?
Thank you!
Working with eloquent.

Originally posted by relffok on ROS Answers with karma: 169 on 2020-04-17
Post score: 0

A:

Hi,
it seems like this fixes the issue:
doc = xacro.process_file(xacro_file, mappings={'simulate_obstacles' : 'false'}) 

In case there is or will be a better way to include xacro in ros2 launch files at some point, feel free to let me know!

Originally posted by relffok with karma: 169 on 2020-04-20
This answer was ACCEPTED on the original site
Post score: 5


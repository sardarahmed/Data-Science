Q:

Based on uwsim, what can I do to let the auv stop when pid was closed

I run the pid controller to let the auv moving to a setpoint. When it reached setpoint and pid controller was closed automatically, the auv  still moved even though I give the thruster intput zero. I think it is because of inertial phenomenon. I want to let the auv stop when pid was closed. What can I do?

Originally posted by ZYS on ROS Answers with karma: 108 on 2016-03-09
Post score: 1

A:

Hi,
It really depends on what is your goal. If you want a realistic simulation you shouldn't stop the controller as in real life situation you should keep the position (station keeping). But if you want to stop it anyway you can call the service '/dynamics/reset' which will stop the inertias, but eventually the vehicle will start moving again as it happens at the beginning of simulation. The last option is killing the dynamic simulation node, just have a look at how to stop a ros node and kill: for instance "rosnode kill /dynamics_g500" on a terminal should do it.

Originally posted by Javier Perez with karma: 486 on 2016-03-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ZYS on 2016-03-10:
Thanks for your suggestion. Is it possible to design a pid to control velocity and use this pid to make the velocity zero after the auv reach the setpoint?
Comment by Javier Perez on 2016-03-10:
It should be, just left the PID working after you reach the setpoint and if it is well designed it should remain stable around 0 velocity.
Comment by ZYS on 2016-03-10:
The pid_position and pid_rotation use the same thruster, thus if I want the auv rotate, I must close the pid controlling the position. I will try to implement a pid controlling velocity to zero before rotating. Thanks for your suggestion. You are really really nice and helpful!


Q:

What are reasons for TEB planner's feasibility check to fail?

I am currently experimenting with the TEB local planner and have the problem that the planner constantly fails with the following warning, even if there are no obstacles close to the path.

TebLocalPlannerROS: trajectory is not feasible. Resetting planner...

The costmap-footprint of the robot is correct (at least in Rviz it looks good). The problem does not occur anymore when I decrease the parameter feasibility_check_no_poses to 3 or less. However, since there are no obstacles close to the path, I have the feeling, that something is wrong. Are there more parameters that influence the feasibility check that might cause this behaviour?

Originally posted by Felix Widmaier on ROS Answers with karma: 382 on 2017-05-16
Post score: 0

A:

After checking the code and adding some debug-output I found the issue: It is not a problem directly in the teb planner but the footprintCost function of the base_local_planner::CostmapModel sometimes fails to convert a footprint point to map coordinates, because it is outside of the local costmap (which silently results in the same cost as if there was an obstacle).

Originally posted by Felix Widmaier with karma: 382 on 2017-05-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by A Smit on 2018-04-30:
I think I'm having the same problem, is there a solution?
Comment by Felix Widmaier on 2018-05-02:
@A Smit: The problem is the feasibility check looking too far ahead and thus going outside of the costmap (I opened an issue about this, which is still open, though). A quick workaround is to decrease the...
Comment by Felix Widmaier on 2018-05-02:
... feasibility_check_no_poses parameter but the proper fix would be to improve the feasibility check so it does not try to check outside of the costmap.


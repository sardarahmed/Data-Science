Q:

Georeferencing map coordinates

I was wondering how ROS handles georeferencing of map coordinates. My robot currently sets its position when it starts up as position 0.0. However this doesn't give any information about where I am in on earth.
How do I convert map coordinates to GPS coordinates and back again? That is, how do typical ROS-powered robots do it? TF doesn't seem suitable for this because converting GPS to map coordinates isn't as simple as a matrix transformation, if I understand correctly.
I'm also trying to figure out how to do this with map_server. As I understand, the map_server is initialized with a yaml file containing map coordinates of the underlying map. However, my robot could start up at any point on earth, so the yaml file would always be incorrect, if I set it to a particular map coordinate. How can I set up the map_server based on a GPS coordinate, rather than a map coordinate?

Originally posted by 9a3eedi on ROS Answers with karma: 63 on 2017-07-31
Post score: 1

A:

It is true if you do large scale navigation that the euclidian assumptions of most maps does not hold. however if you use multiple maps they can make a pretty good approximation (That's basically how UTM coordinates work)
REP 105 describes how coordinate frames between map and earth frames is recommended to work.

Originally posted by tfoote with karma: 58457 on 2017-07-31
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by 9a3eedi on 2017-08-01:
Can you define what "large scale" vs "small scale" means? Is 600 kilometers considered large scale? or 6,000 kilometers?
Comment by tfoote on 2017-08-01:
I didn't specify as it's entirely dependent on your application and how precisely you need to know position. If you have higher tolerance you can allow larger approximations by using larger tangent planes.


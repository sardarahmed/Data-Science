Q:

Unabe to Install freenect in ROS-Melodic/Ubuntu 18.04

I wanted to install freenect in ROS to take depth images using Kinect XBOX 360 1473. I cloned the repository from https://github.com/ros-drivers/freenect_stack and kept it in ~/catkin_ws/src under the folder name freenect_stack. Upon running catkin_make in ~/catkin_ws I get the following error:
[ 21%] Building CXX object freenect_stack/freenect_camera/CMakeFiles/freenect_nodelet.dir/src/nodelets/driver.cpp.o
In file included from /home/athul/catkin_ws/src/freenect_stack/freenect_camera/src/nodelets/driver.h:54:0,
                 from /home/athul/catkin_ws/src/freenect_stack/freenect_camera/src/nodelets/driver.cpp:39:
/home/athul/catkin_ws/src/freenect_stack/freenect_camera/include/freenect_camera/freenect_driver.hpp:4:10: fatal error: libfreenect/libfreenect.h: No such file or directory
 #include <libfreenect/libfreenect.h>
          ^~~~~~~~~~~~~~~~~~~~~~~~~~~
compilation terminated.
freenect_stack/freenect_camera/CMakeFiles/freenect_nodelet.dir/build.make:62: recipe for target 'freenect_stack/freenect_camera/CMakeFiles/freenect_nodelet.dir/src/nodelets/driver.cpp.o' failed
make[2]: *** [freenect_stack/freenect_camera/CMakeFiles/freenect_nodelet.dir/src/nodelets/driver.cpp.o] Error 1
CMakeFiles/Makefile2:2697: recipe for target 'freenect_stack/freenect_camera/CMakeFiles/freenect_nodelet.dir/all' failed
make[1]: *** [freenect_stack/freenect_camera/CMakeFiles/freenect_nodelet.dir/all] Error 2
Makefile:140: recipe for target 'all' failed
make: *** [all] Error 2
Invoking "make -j1 -l1" failed

Please help. Any input is welcome.

Originally posted by athul on ROS Answers with karma: 11 on 2019-01-27
Post score: 1

A:

Is there a reason that you can't install the binary?
Anyways, try installing the dependencies before compiling. From the root of your workspace, run
~/catkin_ws$ rosdep install --from-paths src -i
~/catkin_ws$ catkin_make

Originally posted by jayess with karma: 6155 on 2019-01-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2019-01-28:\

Is there a reason that you can't install the binary?

afaict, freenect_stack hasn't been released for Melodic.
Comment by jayess on 2019-01-28:
@gvdhoorn Thanks. I figured as much, wasn't sure though
Comment by athul on 2019-01-28:
I guess libfreenect does not work with melodic :(
The error I got when I ran rosdep:
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
freenect_camera: Cannot locate rosdep definition for [libfreenect]

@gvdhoorn @jayess Thanks
Comment by wesliao on 2019-02-05:
I'm having the same issue. I have libfreenect and libfreenect-dev installed, but freenect_stack won't build.
Comment by ChriMo on 2019-02-13:
same problem :-(
Comment by WyattAutomation on 2019-07-22:
see my answer posted itt; I was able to get it installed and preliminary tests suggest it works fine.
Comment by 130s on 2020-09-20:
Release was tracked at https://github.com/ros-drivers/freenect_stack/issues/48, which is now closed with a release work done. So I think this can now be an "accept" answer.


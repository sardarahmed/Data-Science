Q:

Suspected bug in USARSim/ROS

Hi,
After several attempts I have been able to generate a bag file containing logged
transform and laser scan data. when I type
root@ubuntu:~/fuerte_workspace/sandbox# rosbag info mylaserdata.bag
path:        mylaserdata.bag
version:     2.0
duration:    7:28s (448s)
start:       Oct 31 2013 21:20:39.34 (1383234639.34)
end:         Oct 31 2013 21:28:07.46 (1383235087.46)
size:        3.7 MB
messages:    24650
compression: none [5/5 chunks]
types:       tf/tfMessage [94810edda583a504dfda3829e70d7eec]
topics:      /tf   24650 msgs    : tf/tfMessage (2 connections)
But a standard bag from willow garage contains
types:        sensor_msgs/LaserScan [90c7ef2dc6895d81024acba2ac42f369]
tf/tfMessage          [94810edda583a504dfda3829e70d7eec]
topics:       /base_scan    924 msgs    : sensor_msgs/LaserScan
          /tf          2769 msgs    : tf/tfMessage

I started gmapping by
rosrun gmapping slam_gmapping scan:=lms200 _odom_frame:=odom
so there is no information regarding /lms200.
rxgraph output gives no information of the error

but rviz information does not match with auto generated transform tree. There is no messeges in /lms200 and we have to manually add /lms200 through rviz window

Again  rostopic echo /lms200 to see if there are any published messages
Then nothing appears.
PLZ help.
*** I know this USARSim/Ros is used in robo cup as well but no one mentioned about the error.***

Originally posted by RB on ROS Answers with karma: 229 on 2013-10-31
Post score: 1

Original comments
Comment by ZdenekM on 2013-10-31:
How did you record that bag file? Was "/lms200" topic available during recording?
Comment by RB on 2013-10-31:
ZdenekM, rosbag record -O mylaserdata.bag /lms200 /tf. But no sensor message in the information. So ultimately /lms200 can't capture the messege.
Comment by ZdenekM on 2013-10-31:
Did you check if the laser topic was available during recording? Can you try to run your simulation and then "rostopic list" to see what topics are available?
Comment by RB on 2013-10-31:
I haven't check that one, but rxgraph out put gives /lms200. I will check and tell. Have you figured out the problem.
Comment by ZdenekM on 2013-10-31:
You can also try "rostopic echo /lms200" to see if there are any published messages...
Comment by RB on 2013-10-31:
Have you received LaserScan messeges correctly using USARSim/ROS
Comment by ZdenekM on 2013-10-31:
I'm not using USARSim.
Comment by kr1zz on 2013-11-03:
The bug is that the tf tree instantiated by USARSimRos does not contain the /lms200 node, although expected.
Comment by ZdenekM on 2013-11-04:
TF has nothing to do with publishing messages...

A:

Use UDK-2013-07 and USARSim-current ($ git clone git://git.code.sf.net/p/usarsim/code usarsim-code 
(Under proxy, please try "$ git clone http://git.code.sf.net/p/usarsim/code usarsim-code"))

Originally posted by RB with karma: 229 on 2013-11-21
This answer was ACCEPTED on the original site
Post score: 0


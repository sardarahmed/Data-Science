Q:

Turtlebot on Roomba 564, many different problems

Hi, I received a turtlebot pack from turtlebot.eu and I have been having problems with it. During the explanation of the problems I will refer to pictures and texts, you can download them from this link:
http://www.megaupload.com/?d=39TMADP2
The Roomba seems to work normally as it can clean and also go back to charge automatically while using it for its normal purpose. I hope you can help solving the problems.
When we run the dashboard it looks like the first picture attached (1.png) if it is connected to the power grid. If we don't have the Roomba connected to the power grid it is impossible to run any command by pressing the breakers or the button to change mode. If we try to push some breaker we get a error message:
Service call failed with error: service [/turtlebot_node/set_digital_outputs] unavailable
You can see the window that appears on 2.png. This problem doesn't exist if the Roomba is connected to the power grid.
If we try to chang the robot to full mode we get two different error messages depending on :
Failed to put the turtlebot in full mode: service call failed with error: transport error completing service call: unable to receive data from sender, check sender's logs for details (you can see the window on 3.png)
Failed to put the turtlebot in full mode: service call failed with error: service [/turtlebot_node/set_operation_mode] unavailable (you can see the window on 4.png)
If the Roomba is connected to the power grid we can change to full mode and also activate breakers, and also the diagnostics change. You can see the diagnostics when the Roomba is connected to the power grid in pictures 5 and 6, and when disconected on 7 and 8.
A part of that when we try to move the robot by using 'roslaunch turtlebot_teleop keyboard_teleop.launch' we get to see that there is something published on the topic '/turtlebot_node/cmd_vel', but the robot doesn't seems to reed that as it is not moving. What type of problem can it be? Is it possible that the we need to do something to the Roomba so it starts reading the topic? We have tried it both ways, with the Roomba connected and disconnected of the power grid.
The next thing it is happening is that when we try to run the calibration with 'roslaunch turtlebot_calibration calibrate.launch' we get the same message all the time:
[INFO] [WallTime: 1317739604.242895] Still waiting for imu (picture 9, text 1)
And if we don't have the kinect connected directly to the power grid we also have this other message:
[ INFO] [1317739681.545245503]: [/openni_camera] No devices connected.... waiting for devices to be connected (picture 10, text 2)
How can we calibrate/run the turtlebot if we can not receive data from imu?
The last thing, quite related to the second part of last problem, is that on your last e-mail you tell me that the power board is supposed to do the same as the USA one, but it can not give power supply to the Kinect. If we want to power it from the power board we need to connect an external battery of 14V. We could also try to connect the internal battery of the Roomba, which now is not connected.

Originally posted by apalomer on ROS Answers with karma: 318 on 2011-10-04
Post score: 1

A:

Hi Albert, as you might have read in the provided pdf and in the email we send before, we use a different low level driver, cause the system api of the roomba is different from this from the create.
I'm currently at Willow Garage and one the things I'll work on here is to integrate the low level interface in the default turtlebot stack.

Originally posted by KoenBuys with karma: 2314 on 2011-10-06
This answer was ACCEPTED on the original site
Post score: 1


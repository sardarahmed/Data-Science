Q:

Octomap in moveit

I  already can see octomap in rviz but the problem is the octomap is quite different from the real world kinect sees. I don't know why. Do I need to adjust any parameter for configuration file?
Besides, the refresh rate is quite low. Anybody know how to change refresh rate of octomap?
Thanks for any suggestion.

Originally posted by Oh233 on ROS Answers with karma: 55 on 2017-09-10
Post score: 0

A:

Octomap updates are pretty expensive CPU-wise, so you might be limited by that. You can check CPU consumption using the top command line utility. Also note that you should be using the Depth Image Occupancy Map Updater (not the PointCloud Occupany Map Updater) with RGBD-type cameras as it tends to provide better performance (see here).
Regarding the shape of the octomap it would be helpful if you could post/link a screenshot (by editing your question). It should be noted that RGBD-cameras generate fairly noisy data (esp. at longer ranges), so deviations from how the real world looks can be expected.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2017-09-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Oh233 on 2017-09-11:
Hi Kihlbrecher,
I attached the screenshot. In the real world, there should be a desk in left front of the arm. But in the octmap, I don't understand why there is a big block with no shape. Even I put something on the desk, it shouldn't be like that. It is too inaccurate.
Thanks
Comment by Stefan Kohlbrecher on 2017-09-13:
It's kind of hard to make out how the exact setup looks like. One obvious thing to do would be using the Camera display in rviz and using it to reproject the octomap into the camera image to check it for consistency.
Comment by Oh233 on 2017-09-14:
Now my another problem is I want to use depth image from meta glass which runs on window system. I already transited data image from window to linux and published it on a topic. But even I let moveit to subscribe that topic, it can't form octomap. Is that because I need to modify type of depth image
Comment by Stefan Kohlbrecher on 2017-10-05:
You have to make sure that the proper frames and camera_info are published for that image.


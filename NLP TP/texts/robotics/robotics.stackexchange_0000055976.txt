Q:

navfn_ros.h uses wrong include directories?

I just wanted to use the wrapper navfn::NavfnROS for a navfn::NavFn object and I can't compile because the include paths in this particular header(navfn_ros.h) seem to be corrupted.
The ROS installation for the navfn package on my pc looks like this:
Path: /opt/ros/hydro/navfn

navfn [folder]
MakeNavPlan.h
MakeNavPlanRequest.h
MakeNavPlanResponse.h
SetCostmap.h
SetCostmapRequest.h
SetCostmapResponse.h

Path: /opt/ros/hydro/navfn/navfn

navfn.h
navfn_ros.h
navwin.h
potarr_point.h
read_pgm_costmap.h

The includes in navfn_ros.h are #include <navfn/navfn.h> and #include <navfn/potarr_point.h> instead of #include <navfn/navfn/navfn.h> and #include <navfn/navfn/potarr_point.h>
Does this folder structure only arise on my pc or is it a bug in this wrapper that needs to be reported? I'd be glad if someone around here could check whether it is the same on his pc/ROS install.
Regards,
Adrian

Originally posted by EddiEdward on ROS Answers with karma: 18 on 2013-12-09
Post score: 0

A:

That is a very odd layout. Are you not using the debian packages? You shouldn't compile into /opt/ros/.
For reference this is what the contents of the debian package is:
$ dpkg -L ros-hydro-navfn
/.
/opt
/opt/ros
/opt/ros/hydro
/opt/ros/hydro/lib
/opt/ros/hydro/lib/python2.7
/opt/ros/hydro/lib/python2.7/dist-packages
/opt/ros/hydro/lib/python2.7/dist-packages/navfn
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv/_MakeNavPlan.py
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv/_MakeNavPlan.pyc
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv/__init__.pyc
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv/_SetCostmap.pyc
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv/__init__.py
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/srv/_SetCostmap.py
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/__init__.pyc
/opt/ros/hydro/lib/python2.7/dist-packages/navfn/__init__.py
/opt/ros/hydro/lib/libnavfn.so
/opt/ros/hydro/lib/pkgconfig
/opt/ros/hydro/lib/pkgconfig/navfn.pc
/opt/ros/hydro/lib/navfn
/opt/ros/hydro/lib/navfn/navfn_node
/opt/ros/hydro/share
/opt/ros/hydro/share/common-lisp
/opt/ros/hydro/share/common-lisp/ros
/opt/ros/hydro/share/common-lisp/ros/navfn
/opt/ros/hydro/share/common-lisp/ros/navfn/srv
/opt/ros/hydro/share/common-lisp/ros/navfn/srv/_package_SetCostmap.lisp
/opt/ros/hydro/share/common-lisp/ros/navfn/srv/MakeNavPlan.lisp
/opt/ros/hydro/share/common-lisp/ros/navfn/srv/_package_MakeNavPlan.lisp
/opt/ros/hydro/share/common-lisp/ros/navfn/srv/_package.lisp
/opt/ros/hydro/share/common-lisp/ros/navfn/srv/navfn-srv.asd
/opt/ros/hydro/share/common-lisp/ros/navfn/srv/SetCostmap.lisp
/opt/ros/hydro/share/navfn
/opt/ros/hydro/share/navfn/cmake
/opt/ros/hydro/share/navfn/cmake/navfnConfig-version.cmake
/opt/ros/hydro/share/navfn/cmake/navfnConfig.cmake
/opt/ros/hydro/share/navfn/cmake/navfn-msg-paths.cmake
/opt/ros/hydro/share/navfn/cmake/navfn-msg-extras.cmake
/opt/ros/hydro/share/navfn/package.xml
/opt/ros/hydro/share/navfn/bgp_plugin.xml
/opt/ros/hydro/share/navfn/srv
/opt/ros/hydro/share/navfn/srv/SetCostmap.srv
/opt/ros/hydro/share/navfn/srv/MakeNavPlan.srv
/opt/ros/hydro/include
/opt/ros/hydro/include/navfn
/opt/ros/hydro/include/navfn/MakeNavPlan.h
/opt/ros/hydro/include/navfn/MakeNavPlanResponse.h
/opt/ros/hydro/include/navfn/navfn
/opt/ros/hydro/include/navfn/navfn/read_pgm_costmap.h
/opt/ros/hydro/include/navfn/navfn/navfn.h
/opt/ros/hydro/include/navfn/navfn/navfn_ros.h
/opt/ros/hydro/include/navfn/navfn/potarr_point.h
/opt/ros/hydro/include/navfn/navfn/navwin.h
/opt/ros/hydro/include/navfn/MakeNavPlanRequest.h
/opt/ros/hydro/include/navfn/SetCostmapRequest.h
/opt/ros/hydro/include/navfn/SetCostmapResponse.h
/opt/ros/hydro/include/navfn/SetCostmap.h
/usr
/usr/share
/usr/share/doc
/usr/share/doc/ros-hydro-navfn
/usr/share/doc/ros-hydro-navfn/changelog.Debian.gz

Originally posted by tfoote with karma: 58457 on 2013-12-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by EddiEdward on 2013-12-21:
Thanks for your answer! My text might have sounded a bit confusing but your answer helped me! I didn't compile into opt/ros, my problem occurred when including a ros-header (navfn_ros.h). This header includes a file that doesn't exist.
Comment by EddiEdward on 2013-12-21:
I therefore conclude that it is a bug in the ros-navfn-package -> wrong header link. How should I report this?


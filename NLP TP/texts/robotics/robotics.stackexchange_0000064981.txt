Q:

Interfacing between ros control and dynamixel controllers

I am trying to use the steered wheel base controller plugin with ros control and dynamixel controllers to control a robot having four steered wheels(servos used are dynamixel MX 28). I am able to load the plugin given in the following
link: http://wiki.ros.org/steered_wheel_base_controller.
Now that I have to read and write the states and commands of dynamixel servos, I believe that I have to follow the tutorial in this link: https://github.com/ros-controls/ros_control/wiki/hardware_interface
At this stage I am wondering if I can set the values in the topics published by dynamixel controllers to the variables given in the above tutorial directly, or should I be using the dynamixel API's to sets these values. I found the former method to be doubtful as the following link: http://wiki.ros.org/ros_control/Ideas says that "One major feature that is missing in ros_control is a proper realtime-friendly dataflow interface".

Originally posted by Sphenop on ROS Answers with karma: 5 on 2015-01-06
Post score: 0

A:

As Adolfo already explained, you can make a ros_control wrapper that talks to the dynamixel drivers via topics (at which point real-time guarantees do not hold anymore). We recently did this with a 3D printed dynamixel arm and it works surprisingly well. Code is available online: https://github.com/tu-darmstadt-ros-pkg/hector_small_arm_common

hector_small_arm_driver
contains the launch files for the
dynamixel driver (and some obsolete
code for joint state publishing that
you can ignore I think)
hector_small_arm_ros_control
contains the ros_control hardware
interface. This fakes the read() and
write() method functionality by
communicating with the dynamixel
driver topics

The packages are not polished and prepared for public consumption, but they should give you some ideas of how you can approach the problem regardless. Note we for instance also have a fake 6th joint on the arm to be able to use standard KDL IK.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2015-01-23
This answer was ACCEPTED on the original site
Post score: 1


Q:

Am I using the JointVelocityController correctly?

I am using Ubuntu 12.04 LTS, ROS Hydro beta, and Gazebo 1.9.0 (the one that is installed with Hydro). When I use a JointVelocityController, I get the following error:

[ INFO] [1376543194.963746055, 0.937000000]: Loaded gazebo_ros_control.
gzserver: /opt/ros/hydro/include/hardware_interface/joint_state_interface.h:71: double hardware_interface::JointStateHandle::getVelocity() const: Assertion `vel_' failed.
Aborted (core dumped)

Instances of JointPositionController work correctly. Initially, I thought this problem was caused by a bug in Gazebo 1.9.0, but the assertion is failing in effort_controllers::JointVelocityController::update(), so the problem might be in ros_controllers. I've uploaded a test case to GitHub:

git clone https://github.com/wunderkammer-laboratory/ackermann_vehicle.git

To reproduce the error:

roslaunch ackermann_vehicle_gazebo ackermann_vehicle.launch

Am I using the JointVelocityController correctly?

Originally posted by Jim Rothrock on ROS Answers with karma: 792 on 2013-08-16
Post score: 0

A:

This problem does not exist in Gazebo 1.9.1.

Originally posted by Jim Rothrock with karma: 792 on 2013-09-30
This answer was ACCEPTED on the original site
Post score: 0


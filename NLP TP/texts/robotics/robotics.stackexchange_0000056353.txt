Q:

Robot estimated pose

Hi guys,
Usually if we were to set the estimated pose of robot we will just reposition it in rviz by simply clicking to relocate it to our desire position.
What if I wanted to reposition it programatically? (Not a fixed one.)
Or it can be done in terminal?
Because somehow I cant relocate myself in the rviz after I put everything together into my robot. Previously it is able to relocate with only one laser.
Thank you so much.

Originally posted by FuerteNewbie on ROS Answers with karma: 123 on 2014-01-02
Post score: 0

A:

rviz is just providing a GUI for publishing a geometry_msgs/PoseWithCovarianceStamped to the (per default) "/initialpose" topic. You can just as well publish to that using your own code, rqt_publisher or rostopic pub from the command line. If you run rviz and use "2D Pose Estimate" while doing a "rostopic echo /initialpose", you should get something like the following:
kohlbrecher@sk-i7:~$ rostopic echo /initialpose
    header: 
      seq: 0
      stamp: 
        secs: 0
        nsecs: 0
      frame_id: world
    pose: 
      pose: 
        position: 
          x: -0.00588150462136
          y: 0.947909832001
          z: 0.0
        orientation: 
          x: 0.0
          y: 0.0
          z: -0.707230093335
          w: 0.70698344753
      covariance: [0.25, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.25, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.06853891945200942]
    ---

Just use whatever tool suits you best to create such a message and publish to "/intialpose" (provided you didnÂ´t remap/change that topic) and your AMCL node should react accordingly.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-01-02
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by FuerteNewbie on 2014-01-05:
But the argument will be like ' header.seq header.stamp header.frame_id position.x position.y position.z orientation.x orientation.y orientation.z orientation.w covariance' right?
Anyway I've tried '1 0 map 9.0 -2.0 0.0 0.0 0.0 0.707 0.707 0.25' it says -2 has no such option. I guess my argument wasn't wrong.
Comment by tfoote on 2014-01-05:
You need to quote the string such that bash does not interpret the negative sign.
Comment by FuerteNewbie on 2014-01-05:
"1 0 map 9.0 -2.0 0.0 0.0 0.0 0.707 0.707 0.25"
ERROR: Not enough arguments:

Given: ['1 0 map 9.0 -2.0 0.0 0.0 0.0 0.707 0.707 0.25']
Expected: ['header', 'pose']

Comment by Sahas00 on 2019-09-02:
Hey there. I know this is not related to the question but could you attach the subscriber you use to get values? I am not able to create one due to multiple errors that I can't really pinpoint. Thanks


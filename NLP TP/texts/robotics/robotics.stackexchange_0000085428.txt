Q:

How can I get a robot PoseWithCovarianceStamped from gmapping?

I am already simulating with gazebo and trying to create a map with gmappin and I need to get the robot PoseWithCovarianceStamped from the odom and tfs, which gmapping gives. Any idea? Thanks for helping

Originally posted by roberto3 on ROS Answers with karma: 11 on 2018-02-20
Post score: 1

A:

AFAIR, it is not possible to get something related to uncertainty from tf. So the only point I see (besides changing the source code of gmapping itself) is to subscribe to the  ~entropy topic of  gmapping and reason a bit about that. To quote the wiki:

~entropy (std_msgs/Float64) Estimate of the entropy of the distribution over the robot's pose (a higher value indicates greater uncertainty). New in 1.1.0.

Originally posted by mgruhler with karma: 12390 on 2018-02-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by roberto3 on 2018-02-21:
Thanks but I need a type PoseWithCovarianceStamped so I need to get the covariance from entropy and the pose from odom but I don't know  how to do it.
Comment by mgruhler on 2018-02-21:
Entropy and the Covariance Matrix are related. However, it is not possible to retrieve the covariance Matrix from the entropy, afaik. So if you really require PoseWithCovarianceStamped, you'll have to change the code, imo.


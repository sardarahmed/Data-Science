Q:

ublox package configuration

So-far we have been using the ublox ros package to run our RTK GPS system and we want to send the RTCM3 messages over our own telemetry rather than the built-in radios. We need to:

Configure USB port on local (base) M8P to transmit RTCM3 in addition to NMEA and UBX (mode 1+2+32)
Configure USB port on remote (rover) M8P to receive RTCM3 in addition to NMEA and UBX (mode 1+2+32)
Detect these RTCM3 messages in the driver and publish them
Receive these messages in an instance of the driver running on the remote computer
Send the RTCM3 messages to the remote (rover) M8P chip

We're using ublox C94-M8P application boards for a base+rover RTK system.
It it possible to configure this package to suit our needs?
I have included what we have so far:
Config File:
debug: 1                    # Range 0-4 (0 means no debug statements will print)

device: /dev/ttyACM0
frame_id: gps
dynamic_model: stationary
fix_mode: 3d                # Switches between 2D/3D automatically
dr_limit: 0                 # Dead reckoning limit
enable_ppp: false           # Advanced setting not supported by all devices
tmode3: 1                   # 1=survey in

rate: 1                     # Measurement rate in Hz
nav_rate: 1                 # in number of measurement cycles

uart1:
  baudrate: 19200           # baudrate is device specific, check the device manual
  in: 0                     # UBX
  out: 32                   # RTCM

# RTCM out config
rtcm:
  ids: [5, 87, 77, 230]     # RTCM Messages to configure
  rates: [1, 1, 1, 10]      # Rates of RTCM messages above, 
                            # in number of navigation solutions
dat:
  set: false                # Do not set the user configured datum

# GNSS Config, verify which GNSS are supported by your device
gnss:
  gps: true                 # (not required since it defaults to true)
  glonass: true             
  beidou: false             
  qzss: false               
  sbas: false

inf: 
  all: true                   # Whether to display INF messages

# Message subscriptions
subscribe:
  all: true                 # Subscribe to all messages
  aid: 
    all: false                # ... except AID messages

#tmode
sv_in:
    min_dur: 300
    acc_lim: 2

publish:
    all: true
    rxm:
        all: true

Launch File
<?xml version="1.0" encoding="UTF-8"?>

<launch>
  <arg name="node_name" value="base"/>
  <arg name="param_file_name" value="ublox"/>
  <arg name="output" default="screen" />
  <arg name="respawn" default="true" />
  <arg name="respawn_delay" default="30" />
  <arg name="clear_params" default="true" />
  <node pkg="ublox_gps" type="ublox_gps" name="$(arg node_name)"
        output="$(arg output)"
        clear_params="$(arg clear_params)"
        respawn="$(arg respawn)"
        respawn_delay="$(arg respawn_delay)">
    <rosparam command="load"
              file="$(find rom_yak)/config/base.yaml" />
  </node>
</launch>

Originally posted by kkrasnosky on ROS Answers with karma: 78 on 2018-02-18
Post score: 0

Original comments
Comment by TheMilkman on 2018-02-18:
Sorry for being off topic but, any reason in particular to move to your own telemetry over the radios? Currently setting up the same RTK system using the same ublox evaluation kit
Comment by kkrasnosky on 2018-02-18:
@TheMilkman  Our main radio system has more range than the radios built into the RTK system.  We are also aiming to reduce the complexity of the system by consolidating comms.

A:

I just contacted the package maintainers and According to them this is not currently possible.

Originally posted by kkrasnosky with karma: 78 on 2018-02-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2018-02-26:
Did you post an issue on the issue tracker of ublox? If so, could you please post a link to the issue so we keep things connected?
Comment by kkrasnosky on 2018-02-26:
I would be happy to, however, this is not really a bug/issue, rather, a feature request.  Keeping that in mind is it appropriate to post it there?
Comment by gvdhoorn on 2018-02-26:
It doesn't matter what it is. If you posted an issue on their tracker, please include a link to it, otherwise it'll be hard to find coming from this ROS Answers Q&A.
Comment by Timple86 on 2018-10-02:
Coincidentally I've opened a feature request at their github before arriving here:
https://github.com/KumarRobotics/ublox/issues/43


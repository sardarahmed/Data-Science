Q:

Error while launching demo.launch in custom moveit config

I have generated a moveit configuration from a custom URDF using the MoveIt Setup assistant and this tutorial(http://wiki.ros.org/Industrial/Tutorials/Create_a_MoveIt_Pkg_for_an_Industrial_Robot).
I have been able to generate all the files in the config and launch folders as well. But, the problem occurs when I try to launch the demo.launch file using roslaunch.
Since this is a custom URDF, there's no package name, hence I simply use this command to launch the file
roslaunch ./launch/demo.launch

Everytime I try to do this, I get an error like this
... logging to /home/tarang/.ros/log/4bbd5ee2-924a-11e6-9522-4ceb427f02d3/roslaunch-HP-dv6-19948.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

Invalid <arg> tag: manip_moveit_config
ROS path [0]=/opt/ros/indigo/share/ros
ROS path [1]=/home/tarang/ros_try/urdftry/robotis_try/catkin_Ws/src
ROS path [2]=/opt/ros/indigo/share
ROS path [3]=/opt/ros/indigo/stacks. 

Arg xml is <arg default="$(find manip_moveit_config)/default_warehouse_mongo_db" name="db_path"/>
The traceback for the exception was written to the log file

Here, manip_moveit_config is the name of the folder in which I saved my moveit config (in the last step of the setup assistant)
What am I missing here? Do I need to perform any other steps(besides those mentioned in the tutorial) to get it to work?

Originally posted by t27 on ROS Answers with karma: 68 on 2016-10-14
Post score: 0

Original comments
Comment by JoshMarino on 2016-10-14:
Possible confusion, but shouldn't demo.launch be in the ROS package manip_moveit_config?
roslaunch manip_moveit_config demo.launch
Comment by t27 on 2016-10-15:
Thats the problem, I havent generated a package. Its only a folder where the moveit setup assistant exported the config files. Although the folder does have a CMakeLists and a package.xml file. How do i convert this file structure to a Ros "package"? cant I directly run a launch file?
Comment by t27 on 2016-10-15:
If i run roslaunch manip_moveit_config demo.launch
I getthis
> roslaunch manip_moveit_config demo.launch
[demo.launch] is neither a launch file in package [manip_moveit_config] nor is [manip_moveit_config] a launch file name
The traceback for the exception was written to the log file

A:

Since this is a custom URDF, there's no package name,

I don't understand this.
"custom" urdfs should still be stored in a ROS package.
The MSA generates regular ROS packages, so you should be able to launch them using
roslaunch manip_moveit_config demo.launch

Have you (re)built your workspace and sourced the setup.bash after you generated the package?

Edit:

By custom urdf, I mean I have a urdf file which I imported to the MSA(It didnt need any package name).

The MSA tries to automatically resolve in which package the urdf lives. That is why you didn't need to supply it with a package name.
Or are you saying that your urdf is stored in your home directory, or at the root of your workspace, without any package(s) at all?

Now the MSA generates a set of files into a configured folder with the CMakelists and package files I used the folder name manip_moveit_config.

That "set of files into a configured folder" is really a ROS package.

Should I make a workspace with these files in /src? And should i then rebuild and source the setup files of this workspace?

Yes. Afterwards, you should be able to launch demo.launch succesfully.

Edit:

Yes, putting the generated folder into a package file structure (as mentioned here ) works.

Hm. The MSA should have generated a complete ROS package for you. If that was not the case, then it'd be nice if you could report that at ros-planning/moveit/issues.

Also before running the launch file, I had to ensure roscore is running(I'd got stuck once, because it wasn't running)

If you use roslaunch to start a launch file, starting roscore should be done automatically. Again, if that is not the case for you, that would seem to be a problem, and it'd be appreciated if you could report that.

Originally posted by gvdhoorn with karma: 86574 on 2016-10-15
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by t27 on 2016-10-15:
By custom urdf, I mean I have a urdf file which I imported to the MSA(It didnt need any package name). Now the MSA generates a set of files into a configured folder with the CMakelists and package files I used the folder name manip_moveit_config. Should I make a workspace with these files in /src?
Comment by t27 on 2016-10-15:
And should i then rebuild and source the setup files of this workspace?
Comment by JoshMarino on 2016-10-15:
Yes, give this a try for sure. When gvdhoorn says custom URDFs should be stored in a ROS package, he is correct. This is because demo.launch looks for URDF in a launch file from another ROS package. You will either have to replace this with correct location or make a package for it (very easy).
Comment by t27 on 2016-10-24:
Yes, putting the generated folder into a package file structure (as mentioned here ) works. Also before running the launch file, I had to ensure roscore is running(I'd got stuck once, because it wasn't running)
Thanks!
Comment by t27 on 2016-10-25:
Hm. The MSA should have generated a complete ROS package for you. If that was not the case, then it'd be nice if you could report that at ros-planning/moveit/issues.
MSA generates a package,I meant that I needed to move that folder to ./src/ in my workspace and run catkin_make to make it work


Q:

OSX Groovy Rviz runtime error: librviz symbol not found

Finally got through the Groovy install in OSX 10.7.  No compile errors for rviz.  At runtime:
rosrun rviz rviz
[ INFO] [1370005319.743413000]: rviz version 1.9.29
[ INFO] [1370005319.743491000]: compiled against OGRE version 1.7.4 (Cthugha)
dyld: lazy symbol binding failed: Symbol not found: _GetCurrentProcess
  Referenced from: /opt/ros/groovy/lib/librviz.dylib
  Expected in: /opt/ros/groovy/lib/librviz.dylib

dyld: Symbol not found: _GetCurrentProcess
  Referenced from: /opt/ros/groovy/lib/librviz.dylib
  Expected in: /opt/ros/groovy/lib/librviz.dylib

Trace/BPT trap: 5

Originally posted by Mike Shomin on ROS Answers with karma: 43 on 2013-05-31
Post score: 0

A:

Ok, got it to work.  I had to explicitly link librviz against the Cocoa libraries.  I changed
target_link_libraries(${PROJECT_NAME}
  ${Boost_LIBRARIES}
  ${catkin_LIBRARIES}
  ${OGRE_LIBRARIES}
  ${OPENGL_LIBRARIES}
  ${QT_LIBRARIES}
  assimp
  yaml-cpp
)

in CMakeLists (in the rviz directory) to:
target_link_libraries(${PROJECT_NAME}
  ${Boost_LIBRARIES}
  ${catkin_LIBRARIES}
  ${OGRE_LIBRARIES}
  ${OPENGL_LIBRARIES}
  ${QT_LIBRARIES}
  ${rviz_ADDITIONAL_LIBRARIES}
  assimp
  yaml-cpp
)

William had defined the cocoa libraries as rviz_ADDITIONAL_LIBRARIES in the CMakeLists 2 layers up.  I didn't think this should be necessary, but I just tried it and it worked.  I may re-investigate to see if it's something that isn't my fault.  If so, I'll submit a patch.

Originally posted by Mike Shomin with karma: 43 on 2013-05-31
This answer was ACCEPTED on the original site
Post score: 1


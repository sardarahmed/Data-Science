Q:

Openni Ros and Fedora

Hellow people,
When I try to launch openni2_launch on fedora, I have the following error :
[ERROR] [1399293474.230216874]: Failed to load nodelet [/camera/points_xyzrgb_depth_rgb] of type [depth_image_proc/point_cloud_xyzrgb]: Failed to load library /opt/ros/hydro/lib//libdepth_image_proc.so. Make sure that you are calling the PLUGINLIB_EXPORT_CLASS macro in the library code, and that names are consistent between this macro and your XML. Error string: Could not load library (Poco exception = dlopen: cannot load any more object with static TLS)
[FATAL] [1399293474.230592485]: Service call failed!
[ERROR] [1399293474.279736212]: Failed to load nodelet [/camera/points_xyz_depth_rgb] of type [depth_image_proc/point_cloud_xyz]: MultiLibraryClassLoader: Could not create object of class type depth_image_proc::PointCloudXyzNodelet as no factory exists for it. Make sure that the library exists and was explicitly loaded through MultiLibraryClassLoader::loadLibrary()

For what I understand, it states that I either miss a library or it couldn't load it for an unknown reason. I would like to have some help as to which library contains libdepth_image_proc.o. If it's ros-hydro-compressed-depth-image-transport.x86_64 1.8.21-0.fc20 @rosrpm-poc or ros-hydro-depth-image-proc.x86_64  then they are technically installed on my computer hence my confusion.
The result of this error is that I don't have any Point Cloud but I have all the other topics. If I launch rosrun openni2_camera openni2_camera_node  no problem occur and the wrapper test works as well.
Thanks a lot for your help !

Originally posted by Maya on ROS Answers with karma: 1172 on 2014-05-05
Post score: 0

A:

@Maya,
It looks like you may have stumbled upon my ROS RPM Proof-of-Concept (poc) repository. I created those RPMs for the express purpose of demonstrating my patch for Bloom [1] which enabled RPM generation. Those packages were never updated, and are very out of date, both in their status in ROS, and the status of what they are built against in Fedora.
I highly suggest you move to source building [2] for the time being, as most of ROS hydro builds great on Fedora.
I hope to make an announcement soon about support for RPM in ROS, but there are still some things I need to work out logistically before it is feasible. If you insist on trying the preliminary RPMs for Hydro, you can find directions found at the bottom of the SDSM&T CSC Repository site [3].
Please try either switching to source or using the maintained repository and see if that fixes your problem. If not, we can investigate further, as ros-hydro-depth-image-proc should be providing the library taht it is looking for.
Thanks!
--scott
[1] https://github.com/ros-infrastructure/bloom/pull/228
[2] http://wiki.ros.org/hydro/Installation/Source
[3] http://csc.mcs.sdsmt.edu/

Originally posted by cottsay with karma: 311 on 2014-05-10
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Maya on 2014-05-11:
Haha you're right, I tried your RPM and I liked being able to use yum install very much. I have a Ubuntu that is working find with ROS so Fedora is just for test because I like it more =). I used smd-ros-staging-release and smd-ros-shadow-fixed-release and I'll keep you updated if you want.


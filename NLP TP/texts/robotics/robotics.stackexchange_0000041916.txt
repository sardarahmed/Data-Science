Q:

octomap_server problems

Hi all,
I simulate a robot in gazebo while it maps the environment using octomap_server. I have 2 questions regarding the visualization.

the mapped octomap cells get cleared after some time if the robot does not re-visit the area previously mapped. Why is this happenning?

why the colors of the octomap changing after a while?

Thank you
CS
##########
Edit
##########
Running ROS-Groovy
ros-groovy-octomap 1.5.4
ros-groovy-octomap-mapping 0.4.8
ros-groovy octomap-ros 0.2.6
The second image shows that areas previously filled had been removed after some time.

launch file
      <param name="resolution" value="0.2" />        
      <param name="frame_id" type="string" value="/map" />

      <!-- maximum range to integrate (speedup!) -->
      <param name="sensor_model/max_range" type="double" value="30.0" />

      <!-- data source to integrate (PointCloud2) -->
      <remap from="cloud_in" to="/snapshotter/assembled_cloud" />
      <param name="latch" type="bool" value="false" />
      <param name="height_map" type="bool" value="true" />      
      <param name="sensor_model/[hit|miss]" value="0.9 / 0.1" />

Originally posted by ChickenSoup on ROS Answers with karma: 387 on 2012-07-03
Post score: 1

Original comments
Comment by AHornung on 2013-05-13:
What kind of sensor are you using, and where is is mounted?
Comment by ChickenSoup on 2013-05-13:
@AHornung I am using a tilting laser similar to the one in PR2. It is mounted on a mast in the front (slightly visible in the first image).

A:

As Stefan wrote, octomap_server does not delete nodes on its own. It seems like you are partially clearing cells (setting them to free) with rays that pass through them. Your laser probably has a field of view larger than 180Â°? The clearing happens when you have the ground filter enabled or misconfigured in octomap_server, or when you are inserting complete 3D scans ray by ray from a shallow angle. This is described in our paper (http://www.informatik.uni-freiburg.de/~hornunga/pub/hornung13auro.pdf) in Fig 10 and 11. If you insert a complete pointcloud in batch from one tilt, this effect should disappear.

Originally posted by AHornung with karma: 5904 on 2013-05-14
This answer was ACCEPTED on the original site
Post score: 1


Q:

prerelease test a package

Hi,
i am trying to run a prerealese test on our packages, but i am having some trouble. The links on http://wiki.ros.org/regression_tests
which lead you to the "release.yaml rosdistro file" do not work.
I am not sure, but is this the file where i have do upload my repo information https://github.com/ros/rosdistro/blob/master/hydro/distribution.yaml
?
Second question, after i added my repo information in that file, how long does it take until i can start the prerelease test on http://prerelease.ros.org/create_job/hydro ?
One last question, in the distribution.yaml file all packages/stacks contain that line:

release: release/hydro/{package}/{version}

What does this line mean ?
For now I want to test our packages for hydro.
Regards,
Peter

Originally posted by pkohout on ROS Answers with karma: 336 on 2014-09-24
Post score: 1

A:

Yes, to former release.yaml is now called distribution.yaml. I have updated the wiki page accordingly (http://wiki.ros.org/action/diff/regression_tests?action=diff&rev1=44&rev2=45).
Your repository will appear in the prerelease list as soon as the ROS distro cache has been updated (which happens roughly every five minutes). (New jobs on the farm (for building Debian packages, documentation and devel tests) are generated once every day (in the late evening PST/PDT)).
The release-line you refer to actually has some context which should make the semantic clearer:
release:
  packages:
  - catkin
  tags:
    release: release/hydro/{package}/{version}
  url: https://github.com/ros-gbp/catkin-release.git
  version: 0.5.89-0

The entry refers to the tag in the git repository which identifies the release for each package. The variables surrounded by curly braces are expanded with each package name and the version number to identify the tag under which the source code of that specific package version can be found (including the Debian control files). For the above example (which contains only a single package) that would be https://github.com/ros-gbp/catkin-release/tree/release/hydro/catkin/0.5.89-0

Originally posted by Dirk Thomas with karma: 16276 on 2014-09-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pkohout on 2014-09-25:
Thanks for the answers!
But on http://wiki.ros.org/bloom/Tutorials/FirstTimeRelease I use the same distribution file to release my repo ? Will it start the build automatically after I push my entry into the distibution file ?
Comment by Dirk Thomas on 2014-10-01:
If you use bloom to release your code and let it generate the pull request for you, the build farm will start building that package in the next 24h.


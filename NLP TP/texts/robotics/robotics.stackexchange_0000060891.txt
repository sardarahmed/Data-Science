Q:

Package installation error

Hi,
I just followed the instructions (Installation Instructions for Hydro in OSX)  and successfully (with some tweaks) installed desktop_full. However, I got the following error when I added the hector_quadrotor packages:
==> Processing catkin package: 'hector_quadrotor_model'
==> Building with env: '/Volumes/Data/ZProjects/ROS/catkin_ws/install_isolated/env.sh'
Makefile exists, skipping explicit cmake invocation...
==> make cmake_check_build_system in '/Volumes/Data/ZProjects/ROS/catkin_ws/build_isolated/hector_quadrotor_model'
==> make -j2 -l2 in '/Volumes/Data/ZProjects/ROS/catkin_ws/build_isolated/hector_quadrotor_model'
Scanning dependencies of target hector_quadrotor_aerodynamics
[ 50%] Building CXX object CMakeFiles/hector_quadrotor_aerodynamics.dir/src/quadrotor_aerodynamics.cpp.o
Linking CXX shared library /Volumes/Data/ZProjects/ROS/catkin_ws/devel_isolated/hector_quadrotor_model/lib/libhector_quadrotor_aerodynamics.dylib
Undefined symbols for architecture x86_64:
  "boost::system::system_category()", referenced from:
      ___cxx_global_var_init11 in quadrotor_aerodynamics.cpp.o
      boost::thread_exception::thread_exception(int, char const*) in quadrotor_aerodynamics.cpp.o
  "boost::system::generic_category()", referenced from:
      ___cxx_global_var_init9 in quadrotor_aerodynamics.cpp.o
      ___cxx_global_var_init10 in quadrotor_aerodynamics.cpp.o
  "ros::NodeHandle::getParam(std::__1::basic_string<char, std::__1::char_traits<char>, std::__1::allocator<char> > const&, double&) const", referenced from:
      hector_quadrotor_model::QuadrotorAerodynamics::configure(ros::NodeHandle const&) in quadrotor_aerodynamics.cpp.o
ld: symbol(s) not found for architecture x86_64
clang: error: linker command failed with exit code 1 (use -v to see invocation)
make[2]: *** [/Volumes/Data/ZProjects/ROS/catkin_ws/devel_isolated/hector_quadrotor_model/lib/libhector_quadrotor_aerodynamics.dylib] Error 1
make[1]: *** [CMakeFiles/hector_quadrotor_aerodynamics.dir/all] Error 2
make: *** [all] Error 2
make: INTERNAL: Exiting with 3 jobserver tokens available; should be 2!
<== Failed to process package 'hector_quadrotor_model':
  Command '/Volumes/Data/ZProjects/ROS/catkin_ws/install_isolated/env.sh make -j2 -l2' returned non-zero exit status 2

Reproduce this error by running:
==> cd /Volumes/Data/ZProjects/ROS/catkin_ws/build_isolated/hector_quadrotor_model && /Volumes/Data/ZProjects/ROS/catkin_ws/install_isolated/env.sh make -j2 -l2

Command failed, exiting.

Any help to fix this is greatly appreciated. I'm on a Macbook Pro, running Mac OS X Mavericks 10.9.4.
--Rasit

Originally posted by Rasit on ROS Answers with karma: 25 on 2014-07-16
Post score: 1

A:

So I have had frequent issues with transitive dependencies of shared libraries on OS X. This looks like you need to link against Boost.System (i.e. something is not properly desclaring a dependency on it). In https://github.com/tu-darmstadt-ros-pkg/hector_quadrotor/blob/hydro-devel/hector_quadrotor_model/CMakeLists.txt try something like:
find_package(Boost COMPONENTS system)

...

target_link_libraries(hector_quadrotor_aerodynamics ${Boost_LIBRARIES})

Originally posted by demmeln with karma: 4306 on 2014-07-18
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Rasit on 2014-07-26:
Thanks for the hint... Indeed, the CMakeLists.txt was missing that last line!


Q:

invalid message type

I try to use my own messages. I created msg file named RopEvent:
 int32 value
 string name
 string comment

I can't publish message using rostopic pub. I try to proceed
rostopic pub rop_client rop_client/RopEvent 14 "Test" "Test"

But I receive an error
ERROR: invalid message type: rop_client/RopEvent.
If this is a valid message type, perhaps you need to type 'rosmake rop_client'

I type this, it makes package correctly, but message error still pops up.
If I type rostopic list -v, I can see a string
* /rop_client [rop_client/RopEvent] 1 subscriber

'rosmsg list' shows me that my message exists, 'rosmsg show' finds message and shows it.
What's wrong?

Originally posted by pelment on ROS Answers with karma: 47 on 2013-11-24
Post score: 1

Original comments
Comment by syrnick on 2014-05-26:
I have the same problem. 'rosmsg show package_name/Msgname' works fine 'rostopic pub /xyz  package_name/Msgname' doesn't.

UPDATED: After I edited the package.yml and CMakeLists.txt to actually compile the messages, it worked fine.
Comment by pelment on 2014-05-27:
And which commands were missed?
Comment by syrnick on 2014-05-27:
I think, these were the core changes and commands:
in package.xml:

    message_generation
    message_runtime

In CMakeLists.txt

find_package(catkin REQUIRED COMPONENTS
  message_generation std_msgs
)

add_message_files(
  FILES
  Dummy.msg
  Hit.msg
)

Commands from the catkin workspace:

catkin_make 
catkin_make install
source devel/setup.bash

A:

You need to make sure that the compiled packages of your custom messages are in your environment when you run rostopic. That's the usual cause of this problem.

Originally posted by tfoote with karma: 58457 on 2014-04-02
This answer was ACCEPTED on the original site
Post score: 2


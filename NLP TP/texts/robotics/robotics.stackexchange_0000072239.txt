Q:

Joint space trajectory control (MoveIt)

Hi,
I have a question about MoveIt and its capabilities: I have a robot which only can be controlled by joint poses (6DoF). Well If I'm trying to use MoveIt it generates the joint poses and velocities too. My problem is that I only can control the robot with joint poses, so I cannot send it velocity parameters. If I only send the joint poses and want the robot to move the end effector down, it doesn't follow a straight line. Is there a way to make MoveIt generate the joint poses without velocities, but with the result of a good end-effector moving?  Like go from A to B through N steps. 1. step: Only move joint 1 by 0.02 rad, step 2. joint 1 by 0.04rad AND joint 1. by 0.001 rad and so on, but with have the end-effector move in a straight line?

Originally posted by Joska213 on ROS Answers with karma: 36 on 2016-02-22
Post score: 1

A:

MoveIt by default actually only plans in joint space. I believe you want to generate Cartesian trajectories.
For that you can use moveit::planning_interface::MoveGroup::computeCartesianPath(..). There is also a GUI interface for that: moveit_cartesian_plan_plugin (it's really a ui, not a planning plugin), but that might be a bit hard to setup.
Alternatively you could interpolate between poses yourself and use something like descartes to turn it into a joint space trajectory.
If you really just want a chopping stage for MoveIt's output, you could configure one of the ROS-Industrial trajectory_filters as a State Adapter and configure the step size appropriately.

Originally posted by gvdhoorn with karma: 86574 on 2016-02-22
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Joska213 on 2016-02-22:
Thanks for the answer! It's ok tha MoveIt generate plans in joint space, but I cannot utilize velocity information of the given points. I need ponts without timing and velocity informations so I could send them to the robot and it should keep the end-effector in a straight line.
Comment by Marcel Usai on 2016-07-15:
To crop the velocity and timing information, you could just configure a relay node that deletes them. But are you sure, you cannot just ignore this information?


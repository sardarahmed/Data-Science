Q:

ccny_openni_launch fail

I am trying to use ccny_rgbd_tools , I compiled the tools from the source , the output :
roslaunch ccny_openni_launch openni.launch publsh_cloud:=true

openni.launch publsh_cloud:=true ...
logging to
/root/.ros/log/acd627fc-5cee-11e3-bef9-c8a030b6727e/roslaunch-ubuntu-armhf-1174.log
Checking log directory for disk usage.
This may take awhile. Press Ctrl-C to
interrupt Done checking log file disk
usage. Usage is <1GB.
started roslaunch server
http://ubuntu-armhf:45387/
SUMMARY
PARAMETERS  *
/openni_driver/depth_camera_info_url

/openni_driver/depth_frame_id  * /openni_driver/depth_mode  *
/openni_driver/device_id  *
/openni_driver/image_mode  *
/openni_driver/rgb_camera_info_url  *
/openni_driver/rgb_frame_id  *
/rgbd_image_proc/calib_path  *
/rgbd_image_proc/publish_cloud  *
/rgbd_image_proc/scale  *
/rgbd_image_proc/unwarp  *
/rgbd_image_proc/verbose  * /rosdistro
/rosversion

NODES   /
camera_rgb_frame_tf (tf/static_transform_publisher)
camera_rgb_optical_frame_tf (tf/static_transform_publisher)
debayer (nodelet/nodelet)
openni_driver (nodelet/nodelet)
rgbd_image_proc (nodelet/nodelet)
rgbd_manager (nodelet/nodelet)
ROS_MASTER_URI=http://localhost:11311
core service [/rosout] found
process[rgbd_manager-1]: started with
pid [1192] [ INFO]
[1386166814.932014355]: Initializing
nodelet with 1 worker threads.
process[openni_driver-2]: started with
pid [1214] [ INFO]
[1386166818.151105481]: Loading
nodelet /openni_driver of type
openni_camera/driver to manager
rgbd_manager with the following
remappings: [ INFO]
[1386166818.168595981]: /depth ->
/camera/depth [ INFO]
[1386166818.182154397]: /ir ->
/camera/ir [ INFO]
[1386166818.190459147]: /rgb ->
/camera/rgb [ INFO]
[1386166821.764989731]: Number devices
connected: 1 [ INFO]
[1386166822.137412189]: 1. device on
bus 001:04 is a SensorV2 (601) from
PrimeSense (1d27) with serial id
'1301040309' [ INFO]
[1386166822.158497814]: Searching for
device with index = 1 [ INFO]
[1386166822.586708023]: No matching
device found.... waiting for devices.
Reason:
openni_wrapper::OpenNIDevice::OpenNIDevice(xn::Context&,
const xn::NodeInfo&, const
xn::NodeInfo&, const xn::NodeInfo&,
const xn::NodeInfo&) @
/root/catkin_ws/src/openni_camera/src/openni_device.cpp
@ 65 : creating image generator
failed. Reason: Failed to set USB
interface! process[debayer-3]: started
with pid [1251] [ INFO]
[1386166825.679466898]: Number devices
connected: 1 [ INFO]
[1386166825.688282565]: 1. device on
bus 001:04 is a SensorV2 (601) from
PrimeSense (1d27) with serial id
'1301040309' [ INFO]
[1386166825.708856357]: Searching for
device with index = 1 [ INFO]
[1386166825.748079148]: Opened
'SensorV2' on bus 1:4 with serial
number '1301040309' [ERROR]
[1386166826.468534148]: Failed to load
nodelet [/debayer] of type
[image_proc/debayer]: According to the
loaded plugin descriptions the class
image_proc/debayer with base class
type nodelet::Nodelet does not exist.
Declared types are
ccny_rgbd/RGBDImageProcNodelet
openni_camera/driver pcl/BAGReader
pcl/ExtractIndices pcl/NodeletDEMUX
pcl/NodeletMUX pcl/PCDReader
pcl/PCDWriter pcl/PassThrough
pcl/PointCloudConcatenateDataSynchronizer
pcl/PointCloudConcatenateFieldsSynchronizer
pcl/ProjectInliers
pcl/StatisticalOutlierRemoval
pcl/VoxelGrid test_nodelet/ConsoleTest
test_nodelet/Plus
test_nodelet_topic_tools/NodeletThrottleString
[FATAL] [1386166826.486667607]:
Service call failed! [debayer-3]
process has died [pid 1251, exit code
255, cmd
/root/catkin_ws/devel/lib/nodelet/nodelet
load image_proc/debayer rgbd_manager
image_raw:=/camera/rgb/image_raw
image_color:=/camera/rgb/image_color
__name:=debayer __log:=/root/.ros/log/acd627fc-5cee-11e3-bef9-c8a030b6727e/debayer-3.log].
log file:
/root/.ros/log/acd627fc-5cee-11e3-bef9-c8a030b6727e/debayer-3*.log process[rgbd_image_proc-4]: started
with pid [1321] [ INFO]
[1386166830.955137816]: rgb_frame_id =
'/camera_rgb_optical_frame'  [ INFO]
[1386166830.964522691]: depth_frame_id
= '/camera_depth_optical_frame'  [ WARN] [1386166831.168540649]:
[rgb_1301040309] does not match name
rgb in file
/root/catkin_ws/src/ccny_rgbd_tools/ccny_rgbd_data/calibration_openni_default/rgb.yml
[ WARN] [1386166831.219288024]:
[depth_1301040309] does not match name
depth in file
/root/catkin_ws/src/ccny_rgbd_tools/ccny_rgbd_data/calibration_openni_default/depth.yml
[ERROR] [1386166833.444105024]: Failed
to load nodelet [/rgbd_image_proc] of
type [ccny_rgbd/RGBDImageProcNodelet]:
Failed to load library
/root/catkin_ws/src/ccny_rgbd_tools/ccny_rgbd/lib/librgbd_image_proc_nodelet.so.
Make sure that you are calling the
PLUGINLIB_EXPORT_CLASS macro in the
library code, and that names are
consistent between this macro and your
XML. Error string: Could not load
library (Poco exception =
libopencv_imgproc.so.3.0: cannot open
shared object file: No such file or
directory) [FATAL]
[1386166833.466222482]: Service call
failed! [rgbd_image_proc-4] process
has died [pid 1321, exit code 255, cmd
/root/catkin_ws/devel/lib/nodelet/nodelet
load ccny_rgbd/RGBDImageProcNodelet
rgbd_manager __name:=rgbd_image_proc
__log:=/root/.ros/log/acd627fc-5cee-11e3-bef9-c8a030b6727e/rgbd_image_proc-4.log].
log file:
/root/.ros/log/acd627fc-5cee-11e3-bef9-c8a030b6727e/rgbd_image_proc-4*.log
process[camera_rgb_frame_tf-5]:
started with pid [1370]
process[camera_rgb_optical_frame_tf-6]:
started with pid [1381]

Originally posted by 7mdan92 on ROS Answers with karma: 13 on 2013-12-04
Post score: 0

Original comments
Comment by Martin Günther on 2014-01-26:
That output is unreadable. Please use 4 spaces to indent code, or use the "preformatted text" button ("101010") when editing your answer. Unfortunately, the line breaks are messed up, otherwise I'd do it for you.

A:

Looks like the opencv libraries are not supported. I would ask you to download the ccny_rgbd_tools from this link https://dl.dropboxusercontent.com/u/95042389/ccny_rgbd_tools.zip
This should work on ubuntu 12.04 and fuerte with rosbuild system.

Remove the libg2o libraries from ubuntu software center
rosdep install ccny_rgbd_tools
then rosmake and hope fully it will work

Originally posted by sai with karma: 1935 on 2014-01-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Martin Günther on 2014-01-26:
I wouldn't recommend using some zip file. It's a git repo for a reason, so better figure out what branch / commit works for what setup. If we don't keep code in one place, things will just start to get chaotic.


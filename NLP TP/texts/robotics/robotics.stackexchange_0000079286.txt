Q:

rqt topic monitor failled AttributeError cStringIO.StringO

Hello every body,
A problem with rqt and topic monitor shows up this morning after an update/upgrade of my system (ubunut 14.04 with ros-indigo)
Since that upgrade I can't monitor any topic without having this error message :
[ERROR] [WallTime: 1488390882.559023] bad callback: <bound method TopicInfo.message_callback of <rqt_topic.topic_info.TopicInfo object at 0x7fafac18d1d0>>
Traceback (most recent call last):
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rospy/topics.py", line 720, in _invoke_callback
    cb(msg)
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_topic/topic_info.py", line 100, in message_callback
    self.sizes.append(buff.len)
AttributeError: 'cStringIO.StringO' object has no attribute 'len'

In addition :

Topics are still operationals since I can visualise them with rostopic echo
This error occur on many type of message (std_msgs/string, moveit...)
This error occur regardless the publishing node

Does anyone have some clues ? Concerning me it's look like some python related file or configuration have been corrupted...
Thank by advance.
here below some system's information
Python interpreter version  : 2.7.6
System information

Linux version 4.4.0-64-generic (buildd@lcy01-27) (gcc version 4.8.4 (Ubuntu 4.8.4-2ubuntu1~14.04.3) ) #85~14.04.1-Ubuntu SMP Mon Feb 20 12:10:54 UTC 2017

Originally posted by adrienH on ROS Answers with karma: 38 on 2017-03-01
Post score: 1

A:

I've seen this happens many times, and I'm kind of sure that this patch fixes it. It is/will be available in version 0.4.6 of rqt_topic (I just noticed that the changelog gives more info regarding this).

Originally posted by 130s with karma: 10937 on 2017-03-01
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by adrienH on 2017-03-01:
thanks !!! I have just dowload the patch and run the folowing commande :
catkin_make -DCMAKE_INSTALL_PREFIX=/opt/ros/indigo install 

and it works again
Thanks again
Comment by 130s on 2017-03-01:
It's up to you, but pedantically when building source you're advised to use catkin workspace (I can't find the best resource for this, but something like this), instead of directly writing into the protected folders like /opt.
Comment by adrienH on 2017-03-02:
To be more specific on what I've done (if someone want the full procedure),
I have created a new workspace  into witch I've cloned your link to the patch and then I have built it with this command :
catkin_make -DCMAKE_INSTALL_PREFIX=/opt/ros/indigo install

hope it's more clear


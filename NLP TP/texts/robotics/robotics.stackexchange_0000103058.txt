Q:

ros1_bridge doesn't find ROS1 std_msgs/String type for chatter example

Hi all,
I'm using ROS2 Foxy on Windows in one PC, and ROS1 Noetic on Linux in another machine. I want them to communicate.
I've compiled ros1_bridge following its readme, knowing that for the Foxy pkg I need to checkout the correct branch.

I managed to build ros1_bridge correctly.
The two machine are communicating in ROS2, which means I can see the topics and do the echo.
The machine on Windows (ROS2 ) is publishing, the other (ROS1 and ROS2) is subscribed, I want to read the topic in ROS1. (I'm literaly doing the example 1b)

Now, the bridge starts but I get:
created 2to1 bridge for topic '/chatter' with ROS 2 type 'std_msgs/msg/String' and ROS 1 type ''

While I am expecting:
created 2to1 bridge for topic '/chatter' with ROS 2 type 'std_msgs/msg/String' and ROS 1 type 'std_msgs/String'

EDIT: I noticed that adding --bridge-all-topics, I get the correct type for ROS1, but still the listener node doesn't print anything.
After some minutes it says: Failed to connect to xxx.yyy.local:49195
I did source ROS1 and ROS2 before the build, and if I do rostopic type /chatter I get std_msgs/String.
What am I doing wrong?

Originally posted by alberto on ROS Answers with karma: 100 on 2023-02-22
Post score: 0

A:

I solved myself, still I'm not sure how. The thing I did was to close the terminal dedicated to the bridge and re-do all the source (Linux), on Windows I did nothing.
Other things I did previously was:

to remove the firewall with sudo ufw disable, because I wasn't able to see ros2 topics
add export ROS_MASTER_URI=http://localhost:11311 and export ROS_IP=127.0.0.1 in .bashrc. (Maybe this changes were crucial, and I didn't reopen the terminal after them)

Now everything works, tested also with a PoseStamped publisher/subscriber.

Originally posted by alberto with karma: 100 on 2023-02-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Davies Ogunsina on 2023-02-24:
Great,happy it was solved.


Q:

How can I subscribe joint_controller/state from dynamixel

Hi,
I write the following code to subscribe . How can I get the current pos data.
import rospy
from dynamixel_msgs import JointState

def callback(data):
    print "callback"
    print data

def listener():
    rospy.init_node('starter', anonymous=True)
    rospy.Subscriber("/joint6_controller/state", current_pos, callback)
    rospy.spin()

if __name__ == '__main__':
    listener()

Originally posted by unais on ROS Answers with karma: 313 on 2013-10-06
Post score: 0

A:

In the callback
current_position = data.current_pos

should do the trick.
Also note, that this:
rospy.Subscriber("/joint6_controller/state", current_pos, callback)

should be this:
rospy.Subscriber("/joint6_controller/state", JointState, callback)

The dynamixel controller Joint State message documentation is here. If you want to access any other member, just call "data.[member name goes here]".
Hope this helps.

Originally posted by jdorich with karma: 211 on 2013-10-07
This answer was ACCEPTED on the original site
Post score: 0


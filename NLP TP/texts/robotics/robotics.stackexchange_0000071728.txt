Q:

RTABMAP localization with turtlebot issue

Hello,
As instructed in the tutorial Mapping and Navigation with Turtlebot after mapping "$ roslaunch rtabmap_ros demo_turtlebot_mapping.launch args:="--delete_db_on_start" rgbd_odometry:=true"
for localization when i try to execute the command " $ roslaunch rtabmap_ros demo_turtlebot_mapping.launch localization:=true" .
i get following error:
[ INFO] [1454339969.590369016]: rtabmap 0.10.10 started...

[ INFO] [1454339970.864339986]: Stopping device RGB and Depth stream flush.

[ WARN] [1454339972.332150185]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: Could not find a connection between 'map' and 'base_footprint' because they are not part of the same tree.Tf has two or more unconnected trees.. canTransform returned after 0.100846 timeout was 0.1.

[ WARN] [1454339974.865176406]: rtabmap: Could not get transform from odom to base_footprint after 0.100000 second!

[ WARN] [1454339974.995544194]: rtabmap: Could not get transform from odom to base_footprint after 0.100000 second!

and this goes on....
what's the issue? please guide me i am new to ROS.
Thank you

Originally posted by kaygudo on ROS Answers with karma: 11 on 2016-02-01
Post score: 0

Original comments
Comment by Humpelstilzchen on 2016-02-02:
Error missing?
Comment by kaygudo on 2016-02-03:
due to some reason the error message is not shown here. do u know why?
Comment by Humpelstilzchen on 2016-02-03:
sorry no, maybe try pastebin

A:

Hi,
On your second call, the visual odometry node is not started, so it is why rtabmap is complaining that there is no odometry TF between /odom and /base_footprint. Try this instead:
$ roslaunch rtabmap_ros demo_turtlebot_mapping.launch localization:=true rgbd_odometry:=true

Note that if you are on the actual robot, you may want to use the odometry TF/topic from turtlebot.
cheers

Originally posted by matlabbe with karma: 6409 on 2016-02-04
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by kaygudo on 2016-02-21:
Thanks! that worked.But after done with mapping, when i proceeded for localization and typed  the command as mentioned above by you and in http://wiki.ros.org/rtabmap_ros/Tutorials/MappingAndNavigationOnTurtlebot localization mode, nothing happens, as mentioned in the link a 2d map should reappear.
Comment by matlabbe on 2016-02-22:
On the tutorial it is stated "the 2D map would re-appear again when a loop closure is found", so maybe no loop closure could be found (are there warnings on the console?). The map may be too small.


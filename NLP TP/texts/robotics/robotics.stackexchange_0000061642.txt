Q:

How to build catkin compatible third party library in catkin workspace?

I have followed the recommendations for allowing a third-party library (which I maintain) to be built in the ROS ecosystem, by adding the relevant package.xml file and corresponding install target.
However, I would like now to build a ros node which depends on this package and therefore would like this third-party library to be built inside my catkin workspace. I have moved my third-party library to the source space of my catkin workspace, but now catkin_make complains:
This workspace contains non-catkin packages in it, and catkin cannot build
a non-homogeneous workspace without isolation.
How can I make catkin_make to invoke catkin_make_isolated for these non-catkin packages automatically? Otherwise, what is the usual practice in these cases? I would like to avoid maintaining different catkin workspaces since it complicates the workflow

Originally posted by Matias on ROS Answers with karma: 122 on 2014-08-08
Post score: 0

A:

You have to use catkin_make_isolated if your workspace contains a non-catkin / plain CMake package.
Rational: catkin_make uses a single CMake invocation for the whole workspace. With a non-catkin package in the workspace that is conceptionally not possible hence you have to build all packages in isolation.

Originally posted by Dirk Thomas with karma: 16276 on 2014-08-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Matias on 2015-06-26:
I ended up switching to catkin-tools, which solves this nicely.


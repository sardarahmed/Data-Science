Q:

Some problem in gridslamprocess.hxx of slam_gmapping

Sorry to disturb you all!!
I found some problems about gmapping when I using Turtlebot Package, there is a document which named "gridslamprocess.hxx".
roslaunch turtlebot_navigation gmapping_demo.launch

I already modify it, but when I  do catkin_make and create a new slam_gmapping,
I run the new one,but I didn't see have any change after I modify it.
I noticed that every time when I run gmapping, there are some information on the screen.
Ex: When scanmatch Done! it will show laser poser: x,y,z on screen. When scanmatch failed,it will use odometry. Then show lp: x,y,z op:x,y,z on screen.
So I want to get lp: op: laser pose These (x,y) information, so I'm trying to modify the source code.
When I looked in the source code, I found gridslamprocess.hxx, but i did't see any happened after me modify it
Of course, I already compile after modifying.
I want to get
m_lastpartpose.x  m_lastpartpose.y
m_odopose.x  m_odopose.y

But I need some help..
Has anyone ever modified this file?
Thank you very much!!

Originally posted by Liuche on ROS Answers with karma: 44 on 2018-06-06
Post score: 0

Original comments
Comment by jayess on 2018-06-06:
Why did you modify the source?
Comment by Liuche on 2018-06-06:
Because I can only subscribe to /odom now, then get a pair (x,y).
I also need another pair of (x,y) to compare.
So I noticed that every time when I run gmapping, there are some information on the screen.
Comment by Liuche on 2018-06-06:
Ex:
When scanmatch Done! it will show laser poser: x,y,z on screen.
When scanmatch failed,it will use odometry.
Then show lp: x,y,z op:x,y,z on screen.
Comment by Liuche on 2018-06-06:
So I want to get lp: op: laser pose These (x,y) information, so I'm trying to modify the source code.
Comment by jayess on 2018-06-06:
Are you saying that you are using gmapping for localization?
Comment by Liuche on 2018-06-07:
yes,I am using turtlebot and use gmapping to do SLAM
Comment by jayess on 2018-06-07:
Please don't use images to post text. Images can't be searched/copy-pasted. Please update your question with a copy and pasted of your code instead.
Comment by Liuche on 2018-06-07:
Thank you~~  I'll get what I want now!!

A:

Typically, the gmapping package is used for mapping an environment:

Using slam_gmapping, you can create a 2-D occupancy grid map (like a building floorplan) from laser and pose data collected by a mobile robot.

and other packages such as amcl are used for localization. Some packages, such as google cartographer, do simulatenous mapping and localization. So, you should either

use a mapping package (e.g., gmapping) and a separate localization package (e.g., amcl)
use a package that does simultaneous mapping and localization (e.g., Google cartographer)

As a side note, it is not a good idea to modify the source of packages that you don't control. If/when that package gets updated any changes that you made will be lost when it's updated.

Originally posted by jayess with karma: 6155 on 2018-06-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Liuche on 2018-06-07:
I change slam_gmapping.cpp now, and i get what i want, thank you!
Comment by jayess on 2018-06-07:
Great. Can you please click on the checkmark to mark the answer as correct?


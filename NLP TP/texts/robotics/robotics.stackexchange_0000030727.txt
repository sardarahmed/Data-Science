Q:

Does Joint::GetForce() return the sum of all forces on the joint?

In Gazebo, does Joint::GetForce() return the last value specified by Joint::SetForce(), after clipping the value to the limit set by Joint::SetMaxForce()? Alternatively, does Joint::GetForce() return the sum of all forces on the joint? The comment in Joint.hh says only, "Get the force applied to an axis." I could not find any more documentation in http://playerstage.sourceforge.net/doc/Gazebo-manual-svn-html/classgazebo_1_1Joint.html. In fact, the documentation at that URL does not include Joint::GetForce(). I'm writing a Gazebo plug-in to steer a wheel on an autonomous vehicle, and want to know whether the force returned by Joint::GetForce() includes only the force my plug-in has applied to the wheel, or whether it also contains the force applied, for example, by a curb that the wheel has hit.

Originally posted by Jim Rothrock on ROS Answers with karma: 792 on 2011-03-28
Post score: 0

A:

Joint::GetForce() has not been implemented, you will get back 0 in all instances.  It might be worth a new ticket/patch to add an internal variable in each joint object to keep track of total forces added via ODEJoint::SetForce(...) calls and return the value when GetForce() is called.
Alternatively, you can also get back ODE's computed total force and torque applied on a body by calling ODEJoint::GetBodyForce(unsigned int) and ODEJoint::GetBodyTorque(unsigned int).  The returned wrench will be the total force/torque applied to the body at each time step update due to gravity and constraints.  Set <provideFeedback>True</provideFeedback> flag in the joint definition XML block to enable this feature.  Please note that the returned value may need to be time averaged to be useful if the simulation is jittery.

Originally posted by hsu with karma: 5780 on 2011-03-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by mcevoyandy on 2012-07-26:
Does this still apply in fuerte?  Trying to use Link::GetRelativeForce(), GetWorldForce(), or Joint::GetForce gives me zeros while Joint::GetLinkForce() and GetLinkTorque() give seg faults...
Comment by mcevoyandy on 2012-07-26:
also, is there an example of how to use this somewhere?


Q:

ImportError: No module named node_example.msg

I have a package named node_exemple containing an msg folder containing these files
ViewTemplate.msg
To run a python file depending on this message I used :
from node example.msg  import ViewTemplate

But I get this error :
from node_example.msg import ViewTemplate   
ImportError: No module named node_example.msg

The CMakeLists.txt is here :
cmake_minimum_required(VERSION 2.8.3) 
project(node_example)
    
find_package(catkin REQUIRED COMPONENTS 
  dynamic_reconfigure 
  message_generation 
  roscpp 
  rosgraph_msgs 
  nav_msgs 
  rospy 
  std_msgs
)

add_message_files(FILES 
  NodeExampleData.msg 
  TopologicalAction.msg 
  TopologicalEdge.msg 
  TopologicalMap.msg 
  TopologicalNode.msg 
  ViewTemplate.msg 
)

generate_messages(DEPENDENCIES 
  geometry_msgs
  std_msgs
)

generate_dynamic_reconfigure_options(cfg/nodeExample.cfg)

catkin_package(CATKIN_DEPENDS 
  dynamic_reconfigure 
  message_runtime 
  roscpp 
  rosgraph_msgs
  rospy
  std_msgs
  visualization_msgs 
)

include_directories(include ${catkin_INCLUDE_DIRS})

install(PROGRAMS 
  src/main_lv.py
  src/pylistener.py
  src/pytalker.py
  src/ratslam/posecell_network.py
  src/ratslam/experience_map_younes.py 
DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
)

install(PROGRAMS 
  src/main_lv.py
  src/main_em.py
  src/pytalker.py
  src/ratslam/posecell_network.py
  src/ratslam/experience_map_younes.py
  src/ratslam/local_view_match.py
 DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
)

Originally posted by Younès on ROS Answers with karma: 27 on 2017-09-06
Post score: 0

Original comments
Comment by jayess on 2017-09-06:
Can you post your CMakeLists.txt? Also, is the message in a directory called msg?
Comment by Younès on 2017-09-07:
Yes I put the message in a directory called msg
Comment by jayess on 2017-09-07:
@Younès: please update your question with new information instead of posting a new answer. I updated your question with the info from the answer that you posted (and formatted it). Please delete the answer that you posted. Thanks.
Comment by jayess on 2017-09-07:
http://wiki.ros.org/Support#Guidelines_for_asking_a_question_.28Please_read_before_posting.29
Comment by Younès on 2017-09-07:
thank you ok
Comment by Thomas D on 2017-09-07:
Did you run catkin_make prior to trying to run the node? You will need to do that to have the messages be generated.
Comment by jayess on 2017-09-07:
@Younès: just as an aside, you should look at this tutorial on using a Makefile with Python

A:

Hello,
There are quite a few things that can go wrong when creating a custom message. By the error you are showing, and assuming that you didn't forget to compile your workspace, I woud say that maybe you've missed to do the source.

source devel/setup.bash

By the way, I've created a video showing the steps you should do when you create a custom a message, by reproducing a case based on yours. The steps the video covers are:

Create the package containing the Message file.
Modify the CMakeLists.txt file
Modify the package.xml file
Compile and source your workspace
Use the new message in a Python Script

Here you have the video in case you want to have a look: https://www.youtube.com/watch?v=ZPmlFNb7v4Y
Hope it helps!

Originally posted by Alberto E. with karma: 356 on 2017-09-12
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by jayess on 2017-09-12:
There is not information here to be a complete answer. Modify the CMakeLists.txt and package.xml how? Use the new message how? Please include all of the relevant information (i.e., what to change and the script that you're referring to).
Comment by Younès on 2017-09-12:
Thank you. It works.
Comment by Alberto E. on 2017-09-12:
@Younès You're welcome! Glad to help.


Q:

8bit kinect data

I search disparity and depth data 11bit.
But kinect pulish just 8bit.
Why do they have difference?

Originally posted by rosmaker on ROS Answers with karma: 51 on 2012-08-25
Post score: 0

A:

Looking at the openni_camera documentation on the ROS wiki, you can see that the openni_node broadcasts several topics.
I think for the data that you are looking for, the topics of interest will be the depth/image_raw messages, or the depth_registered/image_raw if you have the OpenNI registration turned on.
The */image_raw messages are in the sensor_msgs/Image message format, which stores the data in a byte array, that can then be reassembled in the subscriber.  This is accomplished using cv_bridge.
cv_bridge allows you to write code like this for your callback:
void imageCb(const sensor_msgs::ImageConstPtr& msg)
{
  cv_bridge::CvImagePtr cv_ptr;
  try
  {
    cv_ptr = cv_bridge::toCvCopy(msg, enc::TYPE_32FC1);
  }
  catch (cv_bridge::Exception& e)
  {
    ROS_ERROR("cv_bridge exception: %s", e.what());
    return;
  }
  cv::imshow(WINDOW, cv_ptr->image);
  image_pub_.publish(cv_ptr->toImageMsg());
}

cv_ptr->image will contain an OpenCV cv::Mat, in this case containing floating point values, which represent the depth in millimeters for that pixel.

Originally posted by mjcarroll with karma: 6414 on 2012-08-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by phil0stine on 2012-08-29:
They might also be interested in the rectified images, depth_registered/image_rect_raw


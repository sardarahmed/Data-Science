Q:

Autoware ego vehicle stop in the middle of a route using Open Planner

Hi all,
I am using the Autoware 1.13 Release + Open Planner (common, core_perception, and core_planning) from @Hatem fantastic fork. I would like to use Open Planner to achieve decision/path planning and obstacle avoidance with surrounding objects (moving vehicles, static obstacles, etc.)
However, the ego vehicle will sometimes stop in the middle of a route (behavior state is End) after interacting with a moving vehicle on the target lane. The detailed processes I went through and the problems are shown in the video. It seems like the local paths do not update that "smoothly" and "correctly" as in Hatem's demo video.
Besides, another minor thing I founded is that the ego-vehicle will have some offsets of the z-axis (not on the map, but below the map). This can be solved by selecting "use_waypoints_for_z_point_source" in the "wf_simulator". This problem is also demonstrated in my video. I wonder what causes this problem and whether my solution is correct.
Please advise if you have any comments or suggestions, especially for the first problem. Thanks a lot!

Originally posted by yougeyxt on ROS Answers with karma: 9 on 2021-06-02
Post score: 0

Original comments
Comment by yougeyxt on 2021-06-02:
Hi @Hatem, thanks a lot for your good work of Open Planner, could you please check on this? Please let me know if you need anything else.

A:

Hello @yougeyxt ,
I checked your video, nice tutorial for people want to use lane change.
1- height (z) is not a problem with planning, will only affect visualization. and your fix was correct.
2- There was an issue in the replanning for global path. I fixed this issue in openplanner.1.13
kindly check and tell me if everything works fine.
is it okay to save your video to openplanner tutorials playlist ? or if you make a new one after the fix that would be nice.
Regards,

Originally posted by Hatem with karma: 443 on 2021-06-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by yougeyxt on 2021-06-03:
Hello @Hatem,
Thanks for your reply. To double-check, I am currently using the openplanner.1.13 branch from your fork. Do you mean you just fix something and update the code, and I need to pull the updated openplanner.1.13 from your Gitlab code? But from your Gitlab, it seems there is nothing updated? Am I checking the right places?
Sure, I can make a new one after the fix and please save it to openplanner tutorials playlist :).
Best,
Comment by Hatem on 2021-06-03:
Not from gitlab, use GitHub instead
Comment by yougeyxt on 2021-06-04:
Hi @Hatem,
After using the GitHub openplanner.1.13, the global path can be correctly replanned. However, there is another thing I noticed:

When the ego-vehicle is relocated by using 2D pose estimate in RViz (for example the ego-vehicle has already reached the goal and then I give a new initial position to the ego-vehicle), I thought the local path (and also global path) should be replanned to try to reach the destination. However, it seems the local path did not correctly replanned. I can upload a video if my expression is not clear.

Moreover, currently, I am trying hard to create my vector map (or kml map that can be used for openplanner) correspond to my point cloud map. I have a opendrive format (.xodr) map and I want to convert it to vector map/ kml map. Do you have any suggestions for achieving it? I noticed the ASSURE tool you build, and also TIRE4 tool, and also tools provided in Autoware utilities... But I am not sure which one could best suit the need. Thanks a lot!
Comment by Hatem on 2021-06-04:
Hi,
Can you mark this as solved, and create a new post for the other questions.
Thanks.
Comment by yougeyxt on 2021-06-04:
Hi,
Of course, I will create a new post tomorrow.
Thanks.


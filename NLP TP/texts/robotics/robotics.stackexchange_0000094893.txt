Q:

navsat_transform_node not publishing ? with Mavros

Hello all,
I would like to use the robot_localization package to get back the missing TF transform from mavros topics (I didn't configure it during a rosbag record) on Melodic (from  src)
I'm using a rosbag with sim time.
My current configuration is : (I'm trying different setups)
<launch>
<node pkg="robot_localization" type="navsat_transform_node" name="navsat_transform_node" clear_params="true">
<rosparam command="load" file="$(find robot_localization)/params/navsat_transform_template.yaml" />

  <remap from="imu/data" to="mavros/imu/data"/>
  <remap from="odometry/filtered" to="mavros/global_position/local"/>
  <remap from="gps/fix" to="mavros/global_position/raw/fix"/>
</node>
</launch>

The yaml file
# Frequency of the main run loop
frequency: 3
transform_timeout: 0.1
delay: 0
magnetic_declination_radians: 0
yaw_offset: 0.0
zero_altitude: true
broadcast_utm_transform: true
broadcast_utm_transform_as_parent_frame: false
publish_filtered_gps: false
use_odometry_yaw: false
wait_for_datum: true
datum: [XXX.716188, XX.213047, 0.0]

I'm using for this purpose but on another robot I will have to use it with ekf node (no mavros). So I would like to be sure to understand it. Mavros is already sending a odom topic but I would like to use only the gps and the imu.
For visualization, I'm also using mapviz.

Originally posted by TomSon on ROS Answers with karma: 109 on 2020-02-27
Post score: 0

Original comments
Comment by TomSon on 2020-02-27:
I can provide on MP a rosbag
Comment by TomSon on 2020-02-27:
Seems that I cannot directly use the navsat_transform node without ekf one :
link
So I tried the ekf alone and it seems to do the job.
Comment by Tom Moore on 2020-04-27:
Does that mean you've answered your question? If so, can you convert your comment to an answer and then select it as the correct answer? Thanks.

A:

Seems that I cannot directly use the navsat_transform node without ekf one
So I tried the ekf alone and it seems to do the job.

Originally posted by TomSon with karma: 109 on 2020-05-05
This answer was ACCEPTED on the original site
Post score: 0


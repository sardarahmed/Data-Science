Q:

Creating your own robot to use with Path finding / Mapping

So sorry if I am asking some silly questions but ROS is such a huge thing which is super fun.
I been looking over some of the tutorials, turtlebot etc as one of the simulations does exactly what I want to do with my robot (navigate round a maze). I just want to make sure I have the right steps that I need to learn.
For me to use a real robot in a maze (say my house), I would just like to make sure I know the correct steps

Model the robot for RVIZ (is this the same format for Gazebo)
Write a subscriber driver for the robot (motors, cmd_vel)
Find publishers for any sensors I want to use (currently neato lidar)
Create a Map of the area to load in to RVIZ
Use amcl for path finding

Originally posted by burf2000 on ROS Answers with karma: 202 on 2016-12-30
Post score: 0

A:

You're close, but let me clear up a few things. You're right that ROS is a huge thing, so you should prepare yourself regarding how much troubleshooting you'll have to do to make everything work.
RVIZ is simply a visualization tool. Technically you don't need it all to run the Navigation stack which will do what you're talking about.
The nodes that do the mapping, pathfinding, obstacle avoidance, and closed loop control are in the Navigation stack, but they publish data that RVIZ can use to show what is happening.
You don't mention any sensors that will generate odometry data. While there is a node that can generate odom data from laser scans, I think you'll find that the neato lidar is too slow to get acceptable results without sensor based odom data. I use encoders on the wheel-drive motors, and I think that is pretty standard, but you could also use an IMU to get the data.
http://wiki.ros.org/navigation/Tutorials
Follow the navigation stack tutorial line by line, and follow every link in the tutorial where additional detail is provided. These links include things like setting to odom publisher, creating a map, etc. It's a good way to start.
Update after follow on question:
You will need to model your robot in a sense, but then again no.
1 - For the path planning, the node needs to know the shape of the robot, so there is a line to enter the robot shape in one of the YAML files I think. Don't remember which file but it is discussed in the tutorials so you'll be told about it before you need it,
2 - ROS units are in meters and quaternions. If you have a robot that takes commands and issues odometry directly in meters and quaternions then you do not need to model the drive of the robot. Otherwise you will need to provide nodes that do the conversions from meters/sec and quaternions to what ever units your robot works with. In my case, I get motor position data in encoder counts and have a node that converts to position, velocity and angle that gets published on odom topic. I have another node that subscribes to the cmd_vel topic that converts that data to encoder counts/sec for each motor and sends it to robot. So in a sense, I had to model the drive of the robot.
3 - Once the robot is navigating, you'll find that you need to tune some parameters to optimize performance. Again this not modeling the robot, but requires setup based on your robot.
4 - You will need to set up a transform that links your robot center to the location of the the laser scanner. I guess this is kind of modeling.

Originally posted by billy with karma: 1850 on 2016-12-30
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by gvdhoorn on 2016-12-31:
Can't emphasise it enough: RViz is just a visualisation tool, nothing more.
A very nice one, with great integration with ROS, but visualisation only.
Comment by burf2000 on 2016-12-31:
Thank you for the advice, i have already started going through the tutorials, and I understand that RVIZ is just a visual tool for seeing what happens. My only question to check is, do I need to model the robot? It's going to be a simple differential drive robot
Comment by billy on 2016-12-31:
updated my answer above to address the modeling question
Comment by burf2000 on 2017-01-17:
Hi Billy have you done your own custom robots?
Comment by billy on 2017-01-17:
Yes. What's the fun in buying a robot someone else designed?
Comment by burf2000 on 2017-01-18:
If you ever offer email support lol let me know, I feel I am getting so close and the project is for a good cause (VEX WORLDS in the US). I think once I have a odem sample and understand the navigation stack I be there.


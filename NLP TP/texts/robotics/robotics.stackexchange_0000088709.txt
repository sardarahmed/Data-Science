Q:

How to always load a parameter (without adding it to every launch file)

ROS melodic is introducing a new parameter /rosout_disable_topics_generation.
It seems this does something I have wanted for long: omitting the (often long) topics list in the rosout messages.
Can I have some sort of global setup so any roscore will set /rosout_disable_topics_generation to True?
I want to avoid that every launch file chain must somewhere include a <param> tag that sets this parameter.

Originally posted by knxa on ROS Answers with karma: 811 on 2018-08-25
Post score: 2

Original comments
Comment by gvdhoorn on 2018-08-25:
I'm confused: are you starting multiple masters?
Comment by knxa on 2018-08-25:
No, but I can see my title wasn't chosen well. Sorry.
I just want this parameter to be set no matter which roslaunch file I run, for any rostest etc., without having to define it multiple places.
Comment by gvdhoorn on 2018-08-26:
Updated your title. Couldn't really come up with something 'catchy', but this at least covers the question better I believe.
Comment by gvdhoorn on 2018-08-26:
As to the question I don't believe that is currently supported. Not officialy anyway.
Edit: you might take a look at wiki/roscore. Editing roscore.xml might be a way to get this in there, but that file is managed by your pkg manager by default. I don't ..
Comment by gvdhoorn on 2018-08-26:
.. know whether you can provide an override for it. See ros/ros_comm/tools/roslaunch/resources/roscore.xml for the default contents.

A:

I don't know of any environment variable (or a similar piece of infrastructure) that you could use for this, but perhaps using the support for loading roscore.xml from /etc/ros could be used for this.
roscore will try to load that file from /etc/ros first, and if that fails, default to the file in the roslaunch package (which will be in /opt/ros/$distro/share). See ros/ros_comm/tools/roslaunch/src/roslaunch/config.py, lines 78 to 84.
I've not tested this, but you could copy the default file to /etc/ros and then add the parameter there.

Edit: apparently the value of ROS_ETC_DIR on my machine (Xenial, Kinetic) is /opt/ros/kinetic/etc/ros instead of /etc/ros.
In any case: adding a parameter to /opt/ros/kinetic/etc/ros/roscore.xml makes it part of the 'default' set of parameters that get set for every roscore launch. Do read the wiki page I linked in my comment for some more information about that file though.
It would have been ideal if /etc/ros was also searched, as that would allow per-machine or per-deployment configuration. I seem to remember some discussion a few years ago about exactly this, but can't find it right now.

Originally posted by gvdhoorn with karma: 86574 on 2018-08-26
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by knxa on 2018-08-28:
I confirm that it works by adding
<param name="rosout_disable_topics_generation" value="True" />

to
/opt/ros/melodic/etc/ros/roscore.xml

I agree that it would be nice if I could add this to a non-package controlled file.
Comment by gvdhoorn on 2018-08-28:
Well, as I wrote, I remember there being quite a bit of discussion about this, and remember Clearpath being involved in it. Seeing as they have quite a few deployment scenarios where this would come in handy, I can imagine it's actually possible. I just can't remember.
Comment by knxa on 2019-03-05:
Just found that the environment var ROS_ETC_DIR controls where roscore will look for the roscore.xml file. So with this I can have my own version of roscore.xml and just point to that location.
Comment by gvdhoorn on 2019-03-05:
I'd actually considered that when posting my answer, see the last Edit.
Comment by knxa on 2019-03-05:
Hmmm you're right, sorry I overlooked that.
Comment by gvdhoorn on 2019-03-05:
No problem.
ROS_ETC_DIR can definitely be part of a solution.
Might pay to take a look at a (recent) Clearpath system (Husky, Heron). They tend to use this sort of setup often.


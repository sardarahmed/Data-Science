Q:

ament_target_dependencies vs target_link_libraries

In the tutorial for adding dependencies, it mentions

Sometimes it will be necessary to call the target_link_libaries CMake function

What are the situations where I should use ament_target_dependencies and when should I use target_link_libraries?  I also notice that there are occasions where I need both for the dependencies to be correctly added.

Originally posted by Rufus on ROS Answers with karma: 1083 on 2020-06-28
Post score: 3

A:

From my understanding and a bit of experimentation, ament_target_dependencies only works for packages* found using find_package.  For packages that aren't coming from find_package, e.g. locally compiled libraries in the same package, you will need to use target_link_libraries.  See this question for more details.
* Not sure if it's only for ROS packages found with find_package, or if it works for any package found that way.

Originally posted by Rufus with karma: 1083 on 2021-02-12
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by 130s on 2023-06-02:
+1 for the finding!

e.g. locally compiled libraries in the same package,

IMO because that's only a target, let alone a package, during the build-time, being find_package incapable makes sense.


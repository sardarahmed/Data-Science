Q:

catkin_prepare_release pushes twice w/o incrementing tag?

I ran catkin_prepare_release once for the metapackage I maintain, then in its commit history, you can see commit message 0.2.12 twice on the same timestamp. Looking into the changes in each commit, the version defined in package.xml is incremented so that the latest is 0.2.13. However the latest tag in the github repository still remains as 0.2.12.
To summarize what I did not intend:

Committed twice by running catkin_prepare_release only once
If committing twice is necessary, tag is not yet updated in the 2nd commit

Is this intended behavior? If so, what steps are the next? I haven't notified buildfarm since this looks not good to me.
I admit that I was working in public wifi which might not be recommended for critical tasks like this, but I don't think the connection wasn't too bad.
Thanks!
ros-groovy-catkin 0.5.65-3quantal-20130325-0722-+0000

Update) command suggested by catkin_prepare_release:
../../../../../../../../../opt/ros/groovy/bin/catkin_package_version --bump patch . && git commit -m "0.2.12" rqt_runtime_monitor/package.xml rqt_robot_steering/package.xml rqt_tf_tree/package.xml rqt_robot_dashboard/package.xml rqt_pose_view/package.xml rqt_nav_view/package.xml rqt_robot_plugins/package.xml rqt_rviz/package.xml rqt_robot_monitor/package.xml && git push && git tag 0.2.12 && git push --tags

Originally posted by 130s on ROS Answers with karma: 10937 on 2013-04-06
Post score: 0

Original comments
Comment by William on 2013-04-09:
FYI, next time tag with catkin or something common otherwise I don't get notified on this question.
Comment by William on 2013-04-09:
I would have to see the command that catkin_prepare_release gave you to run, it shouldn't commit twice.
Comment by William on 2013-04-09:
The posted output will not commit twice, you must have run that output twice, I bet if you look at the history then the second 0.2.12 will have package.xml which read 0.2.13... And they do, so I would say you must have accidentally run that stuff twice.
Comment by 130s on 2013-04-09:
Hm, history only returns a single line, but anyway sounds like it isn't a big deal. So I'll reset the last wrong commit (in this case 2nd 0.2.12). Do you want to re-post your last comment so that I'll mark it as an ans

A:

I found by myself that the version in package.xml gets incremented when catkin_package_version runs, even though authentication that subsequently comes after incrementation fails with the repository (github in my case). Since catkin_package_version repeats letting me try authentication, version can increment as many times as you fail + 1 success in the end.
I don't know if it's designed to do so or not but I opened a ticket.

Originally posted by 130s with karma: 10937 on 2013-04-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by William on 2013-04-09:
Yes, it is unsafe in that way, it just uses && to string commands together, so the first command runs even if the second one fails.


Q:

Need help to trigger the vacuum gripper

How does this plugin gazebo_ros_vacuum_gripper trigger the gripping process?
If you have good understanding of the code, please take a look at the following code, and let me know, how is the gripping triggered in this code?

gazebo_ros_vacuum_gripper.cpp
gazebo_ros_vacuum_gripper.h

There is an example as below but when I run this plugin, I am not able to trigger the vacuum force required for gripping.
Plugin XML Reference and Example
I am stuck on this for weeks, I would really appreciate any insight of the code.

Originally posted by Abdullah on ROS Answers with karma: 23 on 2016-09-04
Post score: 1

Original comments
Comment by gvdhoorn on 2016-09-05:
You'll have to be a bit more specific: do you not understand how to interact with the plugin, or do you not understand how the plugin internally communicates with Gazebo to set / update the simulation state?
Comment by Abdullah on 2016-09-05:
Thank you so much gvdhoorn, When I run the simulation, and try to make contact between the left_end_effector and the link I want to attach , the vacuum gripper does not apply force.
Comment by gvdhoorn on 2016-09-05:
But how do you exactly "try to make contact"? Do you call the on service?
Comment by Abdullah on 2016-09-05:
Again thank you so much gvhoorn, how can I call this "on service"?
Comment by Abdullah on 2016-09-05:
I just load the plugin, as it is in the example
it shows that the plugin being loaded
and after the simulation starts, I expected it to just apply the force whenever I make contact between left_end_effector and any link, but it doesnt work

A:

Hi, I'm the author of the gazebo plugin. @wkentaro on GitHub
As commented by gvdhorn, you can turn on/off the vacuum gripper with on, off ros service with std_srvs/Empty message.
And the crucial thing for this plugin is the distance between the object link and gripper one (currently the plugin does not compute the distance between the collisions of gripper and the object), so in most cases you need to add another link to the robot to use this gripper.
I personally used this plugin for two robots, Baxter and FanucLRMate200id, and in the last use I found below changes are necessary to make the plugin work stably.
https://github.com/ros-simulation/gazebo_ros_pkgs/pull/482
With the PR, you can change the parameter for min/max distance to apply force to the object, and max force.
Also, it removes the angular velocity of the grasped object.

Originally posted by wkentaro with karma: 175 on 2016-09-11
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Abdullah on 2016-09-12:
Hi wkentaro,
Thank you so much for the help. I am able to run this plugin and I am able to turn it on, but for some reason, I could not see any force yet. I will try with the modified code you mentioned, and I hope I will be able to run it. Thank you so much for writing this code.
Comment by Dima Mironov on 2016-10-12:
Dear @wkeantro,
Could you, please, explain how do I add another link? I am able to add it to .urdf, but it does not appear in gazebo. Do I have to add a special controller for the gripper link?
Comment by wkentaro on 2016-10-13:
Maybe you're using fixed joint, and that won't appear in gazebo. You need to use revolute as shown in the example:
https://github.com/ros-simulation/gazebo_ros_pkgs/blob/jade-devel/gazebo_plugins/include/gazebo_plugins/gazebo_ros_vacuum_gripper.h#L54
Comment by Abdullah on 2016-11-02:
Hi Wada San,
Thank you so much for all the help.
I have just one more question, when I look at the code it seems like , when the payload is attached finally, it actually changes the position of the payload every gazebo cycle to the position of the left_end_effector.
Comment by Abdullah on 2016-11-02:
My question is that after attaching the payload , does this really act like a joint, I mean the weight of the payload, does it play any role after being attached to the left_end_effector (gripper)?


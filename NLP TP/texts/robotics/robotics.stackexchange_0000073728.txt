Q:

prerelease overlay fails: catkin_make_isolated not found

Hi there,
I'm currently struggling to run a prerelease-test for a package. Whenever the overlay build is performed, it complains that  the command 'catkin_make_isolated' is not found.
My package is a 3rd-party package (plain cmake). I did follow the instructions on http://wiki.ros.org/bloom/Tutorials/ReleaseThirdParty and http://wiki.ros.org/bloom/Tutorials/FirstTimeRelease and the first release as such went well. However, the prerelease-test fails at building the overlay workspace as it is trying to run catkin_make_isolated.
As far as I could follow the error the problem is that is sources my setup.* files inside the package install folder which however is an almost empty dummy file, as my package is no catkin-package. Thus /opt/ros/indigo/setup.* is never sourced and the ros binary folder is not inside the PATH.
My package.xml relevant part looks as follows:
  <buildtool_depend>cmake</buildtool_depend>
  <build_depend>boost</build_depend>
  <run_depend>boost</run_depend>

  <!-- Since this is a plain cmake package we need catkin as a run dependency -->
  <run_depend>catkin</run_depend>

  <!-- The export tag contains other, unspecified, tags -->
  <export>
    <!-- Other tools can request additional information be placed here -->
    <rosdoc config="etc/rosdoc.yaml" />
    <build_type>cmake</build_type>
  </export>

Am I missing something there?
Cheers
Felix

Originally posted by fexner on ROS Answers with karma: 221 on 2016-05-03
Post score: 1

A:

To be able to call catkin_make_isolated in the prerelease you need to have catkin as a buildtool_depend. It's a dependency of the prerelease toolchain but we don't want to inject this dependency from the toolchain since it would mask packages which fail to declare the dependency that need it. Prereleasing 3rdparty packages is kind of an edge case for our prerelease scripts. The debian build pipeline doesn't use catkin_make_isolated so it will release and build in the current state.

Originally posted by tfoote with karma: 58457 on 2016-05-08
This answer was ACCEPTED on the original site
Post score: 0


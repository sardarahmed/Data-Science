Q:

Can't run rqt after removing plugin package

I've been trying to make my own rqt plugin. After a lot of back and forth, I finally got it to build. The problem now is that rqt won't run. I get the message listed below. In the last line, rqt_mypkg is listed as KeyError. This is a package I had once before, but is deleted from my workspace now. I've tried cleaning and deleting my workspace, removing and reinstalling rqt, removing and reinstalling ros but nothing works. Rqt still won't run. Anyone have any idea what is wrong?
 Traceback (most recent call last):
  File "/opt/ros/kinetic/lib/python2.7/dist-packages/qt_gui/plugin_manager.py", line 454, in restore_settings
    self._restore_settings_save_obsolete()
  File "/opt/ros/kinetic/lib/python2.7/dist-packages/qt_gui/plugin_manager.py", line 469, in _restore_settings_save_obsolete
    self._restore_settings_unload_obsolete_callback()
  File "/opt/ros/kinetic/lib/python2.7/dist-packages/qt_gui/plugin_manager.py", line 493, in _restore_settings_unload_obsolete_callback
    self._restore_settings_load_missing()
  File "/opt/ros/kinetic/lib/python2.7/dist-packages/qt_gui/plugin_manager.py", line 506, in _restore_settings_load_missing
    self._load_plugin_load(instance_id, self._restore_settings_load_missing_callback)
  File "/opt/ros/kinetic/lib/python2.7/dist-packages/qt_gui/plugin_manager.py", line 225, in _load_plugin_load
    plugin_descriptor = self._plugin_descriptors[instance_id.plugin_id]
KeyError: 'rqt_mypkg/My Plugin'

Originally posted by fonstein on ROS Answers with karma: 43 on 2017-01-13
Post score: 4

Original comments
Comment by lucasw on 2018-04-02:
A related pull request https://github.com/ros-visualization/qt_gui_core/pull/110

A:

The package you removed is probably still referenced in an ini file that stores the settings for rqt (rqt tries to recreate your perspective from when you last exited the program; it can't find the plugin, hence the error).
You should be able to fix this by either removing ~/.config/ros.org/rqt_gui.ini, or by editing it such that the plugin is no longer referenced.

Originally posted by gvdhoorn with karma: 86574 on 2017-01-13
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by fonstein on 2017-01-13:
Thanks, that worked!


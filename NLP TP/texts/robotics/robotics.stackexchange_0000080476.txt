Q:

Error while compiling ros drivers for velodyne on ROS Indigo

System Config: Ubuntu 14.04 and
ROS Indigo
As mentioned here, http://answers.ros.org/question/226594/how-do-i-build-ros-vlp16-velodyne-driver-for-indigo-using-catkin/
I have followed those steps to install ROS drivers from Velodyne to work with VLP 16.
However, when i run
catkin_make

I get the following errors
[ 61%] Built target ringcolors_node
[ 63%] Linking CXX shared library /home/iirav/catkin_ws/devel/lib/libvelodyne_rawdata.so
[ 70%] Built target ringcolors_nodelet
/usr/bin/ld: /usr/local/lib/libyaml-cpp.a(conversion.cpp.o): relocation R_X86_64_32 against `.bss' can not be used when making a shared object; recompile with -fPIC
/usr/local/lib/libyaml-cpp.a: error adding symbols: Bad value
collect2: error: ld returned 1 exit status
make[2]: *** [/home/iirav/catkin_ws/devel/lib/libvelodyne_rawdata.so] Error 1
make[1]: *** [velodyne/velodyne_pointcloud/src/lib/CMakeFiles/velodyne_rawdata.dir/all] Error 2
make: *** [all] Error 2
Invoking "make -j8 -l8" failed
Any suggestions pls
?

Originally posted by sai on ROS Answers with karma: 1935 on 2017-04-27
Post score: 0

A:

This error arised because of some broken dependencies or some inconsistencies with my compiling of libyaml-cpp package.
To solve this error, I had to recomplile libyaml-cpp package.
Steps for that are
ccmake ..
Then

set the option BUILD_SHARED_LIBS to
ON

Then generate, make and install.
After this, just running catkin_make compiled the velodyne ROS driver successfully!

Originally posted by sai with karma: 1935 on 2017-04-27
This answer was ACCEPTED on the original site
Post score: 0


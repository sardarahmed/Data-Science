Q:

ROSJava Android connect w/o using RosActivity

I am somewhat new to ROSJava for Android.  Is there any way to connect an Android device to a Master without extending RosActivity?  Basically, all I am trying to do is publish 8 float values (4 (x,y) positions) to a master.
Thank you for your help!

Originally posted by MaxSchmid on ROS Answers with karma: 11 on 2012-09-07
Post score: 1

A:

You can use the old way they used to do things.  I was also in the situation where I absolutely could not use RosActivity (since I was already extending).  I dug in to their ROSActivity and a few of their tutorials to find the below.  Hope it helps.
The method I currently use is:
nodeConfiguration = NodeConfiguration
                        .newPublic(InetAddressFactory.newNonLoopback()
                                .getHostAddress());

String hostMaster = prefs.getString("ros_IP", "");
Integer port = Integer.parseInt(prefs.getString("ros_port",
                        ""));
URI uri = URI.create("http://" + hostMaster + ":" + port);
nodeConfiguration.setMasterUri(uri);

nodeMainExecutor = DefaultNodeMainExecutor.newDefault();
nodeMainExecutor.execute(<NAMEOFNODECLASS>, nodeConfiguration);

I am using a preference menu to hold the hostMaster IP and port, but you can change those directly.
I have been working with ROSJava a lot lately and have been looking for some people who may be more involved in it to hit questions back and forth.  I hope this helps you.

Originally posted by orion with karma: 213 on 2012-09-09
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by orion on 2012-09-23:
Does this solution work for you or do you need another way?


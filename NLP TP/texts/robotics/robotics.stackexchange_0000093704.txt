Q:

get ros2 version in C++

Are there any #define to know which version of ROS2 I'm using in C++ source?

Originally posted by galou on ROS Answers with karma: 265 on 2019-11-01
Post score: 1

A:

There are no defines in C/C++ out of the box.
That being said if your package depends on ros_environment the following environment variables are set: ROS_VERSION (which is either 1 or 2), ROS_DISTRO (e.g. dashing or melodic), etc.
You can use either to set compiler definitions in your package to be used in conditionals.
If you need more fine grain control you can also use the exact version number of each dependency (e.g. https://github.com/ros2/rmw_cyclonedds/pull/51).

Originally posted by Dirk Thomas with karma: 16276 on 2019-11-02
This answer was ACCEPTED on the original site
Post score: 2


Q:

What are flags in the setIO service of the UR messages

Hi, this was a general question form me because i have been working with a UR10 and i can set the IO's to a value. I cannot set the mode however (current or voltage controlled).
i was just wondering what the flags on a pin do. The ur_msgs/SetIO documentation shows that there is a function that sets these flags.
Are flags the parameters that set the output of the analog pins to current or voltage control? I also tried this already with the Universal robot Driver with the function

FUN_SET_FLAG

but when i use this function, i get the message that it is not implemented yet in this driver.
thank you in advance

Originally posted by stefvanlierop on ROS Answers with karma: 37 on 2020-02-12
Post score: 0

Original comments
Comment by gvdhoorn on 2020-02-12:\

I also tried this already with the Universal robot Driver but when i use this function, i get the message that it is not implemented yet in this driver

I'm guessing you are referring to FUN_SET_TOOL_VOLTAGE here. Would be good to mention that.

A:

Are flags the parameters that set the output of the analog pins to current or voltage control?

No.
Flags are (from the The URScript Programming Language, version 3.12):

Flags behave like internal digital outputs. They keep information between program runs.

They are essentially a set of booleans in memory of the controller, not connected to any physical output or input. They can be used to store simple binary information.
Often used as mutexes or in wait conditions (ie: one thread waits on a flag to become True before continuing. Another thread sets the flag to True to signal the other thread it may continue).

Originally posted by gvdhoorn with karma: 86574 on 2020-02-12
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2020-02-12:
This is just functionality offered by Universal Robots on their controllers btw. Nothing ROS-specific about this.
The SetIO service you mention is just a ROS interface to that functionality.
Comment by gvdhoorn on 2020-02-12:
Btw: you can configure the tool voltage and other setting using snippets of URScript (see the scripting manual).
The ur_hardware_interface node in the ur_robot_driver package exposes a urscript topic to which you can send snippets of URScript.
You could use that to configure the settings you are referring to in your question.
Comment by gvdhoorn on 2020-02-12:
You're right. I've updated my comment.
Comment by stefvanlierop on 2020-02-12:
I do not understand what you mean with scripting manual, is it this page
Comment by gvdhoorn on 2020-02-12:
No.
It's the standard URScript manual as provided by Universal Robots on their support website.
This one for the CB series controller (not e-Series), system software version 3.12.
Comment by stefvanlierop on 2020-02-17:
With the URScript topic, you mean the script_command Topic of the ur_hardware_interface node
Comment by gvdhoorn on 2020-02-17:
Yes, see this (or search for script_command in the ROS_INTERFACE docs).
Comment by stefvanlierop on 2020-02-17:
i send this to the topic ur_hardware_interface/script_command : 'sec myProgram(): set_analog_outputdomain(1,1) end' .
but it doesnt do anything. when i send 'set_analog_outputdomain(1,1)' it does set the pin domain correctly but then it interrupts the driver ur_cap that is running (as is mentioned in the documentation you send in the previous comment) my polyscope version is 3.7.1.
Is this not up to date enough? Should i start another question or update this one?
Comment by gvdhoorn on 2020-02-17:
Seeing as we're now no longer answering general usage questions, but a potential problem with the implementation of the script_command topic provided by ur_robot_driver, I would suggest to post an issue on the issue tracker.
If/when you do, please:

post a comment here with a link to the issue you posted (so we keep things connected)
include example code with your issue which shows the problem you are running into

If what you include in your comment is a verbatim copy of what you published to script_command, then I believe you need to make sure you include newlines where appropriate. But again: please post an issue.


Q:

ROS2 rqt_plot is not showing anything

i am using ROS2 foxy on Ubuntu 20.04, i have implemented a publisher node, which publishes data into a msg, i start the publisher and i can see the published data using ros2 topic echo /topic_name, but i want to see the plotted data using ros2 run rqt_plot rqt_plot, i call this line the plotting figure is opened and i select the required topic but it is not showing anything, do you have any idea?

A:

To plot the information published on a specific topic, we need to know the topic name and message type and member names. Suppose we have a topic called /topic_name that carries messages of type std_msgs/Float64. In your case, you can know the message type with the following command.
ros2 topic info /topic_name

This command outputs the following:
Type: std_msgs/msg/Float64
Publisher count: 1
Subscription count: 0

We now know the message type is std_msgs/msg/Float64. Next, we need to know how the data is structured inside this message type to know the names of the individual pieces of information. This can be done with the following command: (notice to replace std_msgs/msg/Float64 with your message type)
ros2 interface show std_msgs/msg/Float64

This command prints the following.
# This was originally provided as an example message.
# It is deprecated as of Foxy
# It is recommended to create your own semantically meaningful message.
# However if you would like to continue using this please use the equivalent in example_msgs.

float64 data

This message type has a single member named data and of type Float64. This name is what we want to give to rqt_plot with the topic name.
Then, we reached the answer to your question. Open the rqt_plot window, and what you need to plot is as follows. /topic_name/message_member_name. In our case, this would be /topic_name/data. Press the green plus button to plot this data.

Notice for the sake of a complete answer. If the internal data is an array like std_msgs/Float64MultiArray, we can retrieve its individual elements as /topic_name/data[0], /topic_name/data[1], and so on when giving inputs to rqt_plot.


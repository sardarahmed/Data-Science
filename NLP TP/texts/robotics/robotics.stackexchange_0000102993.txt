Q:

Does tf2 rely on current time?

We recorded some rosbags and now we want to play them for simulation. But Ros2 Foxy doesn't have a feature like Ros1's use_sim_time and we can't switch to a newer version. In order to use the rosbags we need to know whether our code relies only on time provided in message headers (as recorded in the rosbag), or also the current time. Since we're using tf2 as well, I'd like to know whether tf2 relies only on time provided in message headers, or also the current time. Anyone knows?

Originally posted by oddbotwl on ROS Answers with karma: 3 on 2023-02-02
Post score: 0

A:

In general tf2 does not rely on the current time. It only knows about the timestamps requested and the timestamps of published frame data. If you query it with the current time while providing simulation/logged data it will likely fail.
You will run into problems if different components of your system are on different timelines. This can happen if some are in world time, and some are in simulation time in which case queries might fail.

Originally posted by tfoote with karma: 58457 on 2023-02-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by oddbotwl on 2023-02-07:
Ok thank you. It's unlikely we'll be using current time while providing simulation/logged data, since we're using the timestamps from that data. So then it should be fine. Thanks again for clarifying.


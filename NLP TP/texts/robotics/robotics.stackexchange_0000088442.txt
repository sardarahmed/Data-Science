Q:

Robot "bucking" while driving in reverse

Doing the Slam experiments, my robot does this (see attachment) buckling or stuttering motion. What causes that?

Originally posted by pitosalas on ROS Answers with karma: 628 on 2018-08-09
Post score: 0

Original comments
Comment by gvdhoorn on 2018-08-10:
@pitosalas: I took the liberty of converting your video to a gif so we keep this question self-contained.
Comment by pitosalas on 2018-08-10:
Thanks. I couldn’t find a way to attach a video. Animated gif. Clever 

A:

Are you sending two 'cmd_vel' topics?
If so, one might be sent correctly and one seems to be at zero speed.
Check the 'cmd_vel' topic through rqt_graph.

Originally posted by Pyo with karma: 358 on 2018-08-09
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Felix Widmaier on 2018-08-10:
A typical case for this to happen is when there is still some teleop node running somewhere when starting autonomous navigation.
Comment by pitosalas on 2018-08-10:
@pyo I suspected this might be the case but didn’t immediately think of how to check. Thanks for tip. @felixwidmayer I suspect the same. I think I checked that I killed it but there might have been a zombie teleport process that was not fully killed.
Comment by pitosalas on 2018-08-13:
@pyo @felix-widmaier - I see "bucking" behavior when teleoping in reverse, with no other nodes or packages running. So the theory was good, it doesn't; really seem to apply. Rosnode list, shows this: rosout, rqt_gui_py_node_4440, turtlebot3_core, turtlebot3_lds, turtlebot3_diagnostics.Thoughts??
Comment by gvdhoorn on 2018-08-14:
Perhaps a screenshot of rqt_graph would be more informative. Be sure to create it when you're actually observing the behaviour in the video.
It's very likely that there is a node publishing zero-Twists.
Comment by pitosalas on 2018-08-14:
I will try but I am almost 100% sure because I looked at the graph and saw no-one publishing on cmd_vel.
I am suspecting that it is a weight distribution problem because it seems to change if I slide the battery around a little. It doesn't solve it but it seems more or less severe
Comment by gvdhoorn on 2018-08-14:
Could also be there is no proper ramp-up of teleop velocity commands. I already commented on your #q300208 about how the TB2 addresses that.
Comment by pitosalas on 2018-08-14:
@gvdhoorn by all means you've been super helpful and I am grateful! The teleop code supplied (and I looked at the source) definitely does do a rampup. I assume it's correct but I can investigate to make sure it does what is stated.
Comment by gvdhoorn on 2018-08-14:
re: investigate: that may be a bit much at this stage.
I would take a look at some of the msgs on the /cmd_vel topic (or whatever is being used on the TB3). Just use rostopic echo /cmd_vel when the robot is standing still (replace with appropriate topic). Then compare when teleopping.
Comment by pitosalas on 2018-08-15:
New data reported in a new question: https://answers.ros.org/question/300653/interpetting-a-stream-of-cmd_vels/


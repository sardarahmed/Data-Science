Q:

Error when migrating from catkin_make to catkin build

I have a problem when switching from catkin_make to catkin build. Although I have already refered to the migration guide (https://catkin-tools.readthedocs.io/en/latest/migration.html) but I still could not figure out what is the culprit. As for the Altimeter.h which is complained to have been missing, It is there in ./devel_cb/include/cvg_sim_msgs directory. The error is as below:
Errors     << cvg_sim_gazebo_plugins:make /home/alfa/catkin_ws/logs_cb/cvg_sim_gazebo_plugins/build.make.000.log                                                                                             In file included from /home/alfa/catkin_ws/src/tum_simulator/cvg_sim_gazebo_plugins/src/gazebo_ros_baro.cpp:29:0/home/alfa/catkin_ws/src/tum_simulator/cvg_sim_gazebo_plugins/include/hector_quadrotor_gazebo_plugin    /gazebo_ros_baro.h:41:36: fatal error: cvg_sim_msgs/Altimeter.h: No such file or directory
compilation terminated.
make[2]: *** [CMakeFiles/hector_gazebo_ros_baro.dir/src/gazebo_ros_baro.cpp.o] Error 1
make[1]: *** [CMakeFiles/hector_gazebo_ros_baro.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
make: *** [all] Error 2

cd /home/alfa/catkin_ws/build_cb/cvg_sim_gazebo_plugins; catkin build --get-env cvg_sim_gazebo_plugins | catkin env -si  /usr/bin/make --jobserver-fds=6,7 -j; cd -

Failed     << cvg_sim_gazebo_plugins:make           [ Exited with code 2 ]                                                                                                                                 
Failed    <<< cvg_sim_gazebo_plugins                [ 13.8 seconds ]

Originally posted by alfa_80 on ROS Answers with karma: 1053 on 2020-07-13
Post score: 0

Original comments
Comment by Thomas D on 2020-07-13:
It would help to see package.xml and CMakeLists.txt for the cvg_sim_gazebo_plugins package. My initial guess is that a dependency on cfg_sim_msgs is not being configured correctly for the build system.
Comment by alfa_80 on 2020-07-13:
@Thomas D: Thank you very much for the hint. By your hint, I've finally managed to build it successfully by altering the dependency in the cvg_sim_gazebo_plugins in that to include cvg_sim_msgs both in both places.

A:

The issue was finally resolved by altering the dependency of cvg_sim_gazebo_plugins package to include cvg_sim_msgs both in package.xml and CMakeLists.txt. Kudos to @Thomas D for giving the great hint.

Originally posted by alfa_80 with karma: 1053 on 2020-07-13
This answer was ACCEPTED on the original site
Post score: 0


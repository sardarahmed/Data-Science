Q:

Problem with planning and executing path for custom Fanuc robot in Roboguide - ghost effect

Hi everyone
During my internship i tried to create simple Movit plugin for not supported Fanuc robot (710ic70) and test it in ROBOGUIDE. I was able to run robot_state_visualize but when I tried to run moveit_planning_execution.launch I got some weird ghosting effect.
While planning and executing movement in Moveit plugin for RVIZ, in most of the cases, robot starts not from the actual position but from default position. From time to time robot in ROBOGUIDE is able to move accordingly to my plan but when ghost shows up I have to restart roslunch.

What can be the case of that kind of problem?
Both RSTA and RREL are always connected. I tried to do the same with m10ia_moveit_config for and everything works fine.
My Setup:
Windows PC with ROBOGUIDE and a Ubuntu 18.04 VM with Melodic distro
Log from the program
root@brian-VirtualBox:~/Desktop/ROS_FANUC# roslaunch fanuc_m710ic_moveit_config moveit_planning_execution.launch robot_ip:=192.168.56.1 use_bswap:=false sim:=false
WARNING: Package name "FANUC_robot_test" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits, underscores, and dashes.
... logging to /home/brian/.ros/log/73d4f4b0-b8fa-11e9-a013-080027af27c1/roslaunch-brian-VirtualBox-3952.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

WARNING: Package name "FANUC_robot_test" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits, underscores, and dashes.
started roslaunch server http://brian-VirtualBox:44001/

SUMMARY
========

PARAMETERS
 * /J23_factor: 1
 * /controller_joint_names: ['joint_1', 'join...
 * /joint_state_publisher/use_gui: False
 * /move_group/allow_trajectory_execution: True
 * /move_group/capabilities: 
 * /move_group/controller_list: [{'action_ns': 'j...
 * /move_group/disable_capabilities: 
 * /move_group/jiggle_fraction: 0.05
 * /move_group/manipulator/default_planner_config: RRTConnect
 * /move_group/manipulator/longest_valid_segment_fraction: 0.005
 * /move_group/manipulator/planner_configs: ['SBL', 'EST', 'L...
 * /move_group/manipulator/projection_evaluator: joints(joint_1,jo...
 * /move_group/max_range: 5.0
 * /move_group/max_safe_path_cost: 1
 * /move_group/moveit_controller_manager: moveit_simple_con...
 * /move_group/moveit_manage_controllers: True
 * /move_group/octomap_resolution: 0.025
 * /move_group/planner_configs/BFMT/balanced: 0
 * /move_group/planner_configs/BFMT/cache_cc: 1
 * /move_group/planner_configs/BFMT/extended_fmt: 1
 * /move_group/planner_configs/BFMT/heuristics: 1
 * /move_group/planner_configs/BFMT/nearest_k: 1
 * /move_group/planner_configs/BFMT/num_samples: 1000
 * /move_group/planner_configs/BFMT/optimality: 1
 * /move_group/planner_configs/BFMT/radius_multiplier: 1.0
 * /move_group/planner_configs/BFMT/type: geometric::BFMT
 * /move_group/planner_configs/BKPIECE/border_fraction: 0.9
 * /move_group/planner_configs/BKPIECE/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/BKPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/BKPIECE/range: 0.0
 * /move_group/planner_configs/BKPIECE/type: geometric::BKPIECE
 * /move_group/planner_configs/BiEST/range: 0.0
 * /move_group/planner_configs/BiEST/type: geometric::BiEST
 * /move_group/planner_configs/BiTRRT/cost_threshold: 1e300
 * /move_group/planner_configs/BiTRRT/frountier_node_ratio: 0.1
 * /move_group/planner_configs/BiTRRT/frountier_threshold: 0.0
 * /move_group/planner_configs/BiTRRT/init_temperature: 100
 * /move_group/planner_configs/BiTRRT/range: 0.0
 * /move_group/planner_configs/BiTRRT/temp_change_factor: 0.1
 * /move_group/planner_configs/BiTRRT/type: geometric::BiTRRT
 * /move_group/planner_configs/EST/goal_bias: 0.05
 * /move_group/planner_configs/EST/range: 0.0
 * /move_group/planner_configs/EST/type: geometric::EST
 * /move_group/planner_configs/FMT/cache_cc: 1
 * /move_group/planner_configs/FMT/extended_fmt: 1
 * /move_group/planner_configs/FMT/heuristics: 0
 * /move_group/planner_configs/FMT/nearest_k: 1
 * /move_group/planner_configs/FMT/num_samples: 1000
 * /move_group/planner_configs/FMT/radius_multiplier: 1.1
 * /move_group/planner_configs/FMT/type: geometric::FMT
 * /move_group/planner_configs/KPIECE/border_fraction: 0.9
 * /move_group/planner_configs/KPIECE/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/KPIECE/goal_bias: 0.05
 * /move_group/planner_configs/KPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/KPIECE/range: 0.0
 * /move_group/planner_configs/KPIECE/type: geometric::KPIECE
 * /move_group/planner_configs/LBKPIECE/border_fraction: 0.9
 * /move_group/planner_configs/LBKPIECE/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/LBKPIECE/range: 0.0
 * /move_group/planner_configs/LBKPIECE/type: geometric::LBKPIECE
 * /move_group/planner_configs/LBTRRT/epsilon: 0.4
 * /move_group/planner_configs/LBTRRT/goal_bias: 0.05
 * /move_group/planner_configs/LBTRRT/range: 0.0
 * /move_group/planner_configs/LBTRRT/type: geometric::LBTRRT
 * /move_group/planner_configs/LazyPRM/range: 0.0
 * /move_group/planner_configs/LazyPRM/type: geometric::LazyPRM
 * /move_group/planner_configs/LazyPRMstar/type: geometric::LazyPR...
 * /move_group/planner_configs/PDST/type: geometric::PDST
 * /move_group/planner_configs/PRM/max_nearest_neighbors: 10
 * /move_group/planner_configs/PRM/type: geometric::PRM
 * /move_group/planner_configs/PRMstar/type: geometric::PRMstar
 * /move_group/planner_configs/ProjEST/goal_bias: 0.05
 * /move_group/planner_configs/ProjEST/range: 0.0
 * /move_group/planner_configs/ProjEST/type: geometric::ProjEST
 * /move_group/planner_configs/RRT/goal_bias: 0.05
 * /move_group/planner_configs/RRT/range: 0.0
 * /move_group/planner_configs/RRT/type: geometric::RRT
 * /move_group/planner_configs/RRTConnect/range: 0.0
 * /move_group/planner_configs/RRTConnect/type: geometric::RRTCon...
 * /move_group/planner_configs/RRTstar/delay_collision_checking: 1
 * /move_group/planner_configs/RRTstar/goal_bias: 0.05
 * /move_group/planner_configs/RRTstar/range: 0.0
 * /move_group/planner_configs/RRTstar/type: geometric::RRTstar
 * /move_group/planner_configs/SBL/range: 0.0
 * /move_group/planner_configs/SBL/type: geometric::SBL
 * /move_group/planner_configs/SPARS/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARS/max_failures: 1000
 * /move_group/planner_configs/SPARS/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARS/stretch_factor: 3.0
 * /move_group/planner_configs/SPARS/type: geometric::SPARS
 * /move_group/planner_configs/SPARStwo/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARStwo/max_failures: 5000
 * /move_group/planner_configs/SPARStwo/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARStwo/stretch_factor: 3.0
 * /move_group/planner_configs/SPARStwo/type: geometric::SPARStwo
 * /move_group/planner_configs/STRIDE/degree: 16
 * /move_group/planner_configs/STRIDE/estimated_dimension: 0.0
 * /move_group/planner_configs/STRIDE/goal_bias: 0.05
 * /move_group/planner_configs/STRIDE/max_degree: 18
 * /move_group/planner_configs/STRIDE/max_pts_per_leaf: 6
 * /move_group/planner_configs/STRIDE/min_degree: 12
 * /move_group/planner_configs/STRIDE/min_valid_path_fraction: 0.2
 * /move_group/planner_configs/STRIDE/range: 0.0
 * /move_group/planner_configs/STRIDE/type: geometric::STRIDE
 * /move_group/planner_configs/STRIDE/use_projected_distance: 0
 * /move_group/planner_configs/TRRT/frountierNodeRatio: 0.1
 * /move_group/planner_configs/TRRT/frountier_threshold: 0.0
 * /move_group/planner_configs/TRRT/goal_bias: 0.05
 * /move_group/planner_configs/TRRT/init_temperature: 10e-6
 * /move_group/planner_configs/TRRT/k_constant: 0.0
 * /move_group/planner_configs/TRRT/max_states_failed: 10
 * /move_group/planner_configs/TRRT/min_temperature: 10e-10
 * /move_group/planner_configs/TRRT/range: 0.0
 * /move_group/planner_configs/TRRT/temp_change_factor: 2.0
 * /move_group/planner_configs/TRRT/type: geometric::TRRT
 * /move_group/planning_plugin: ompl_interface/OM...
 * /move_group/planning_scene_monitor/publish_geometry_updates: True
 * /move_group/planning_scene_monitor/publish_planning_scene: True
 * /move_group/planning_scene_monitor/publish_state_updates: True
 * /move_group/planning_scene_monitor/publish_transforms_updates: True
 * /move_group/request_adapters: default_planner_r...
 * /move_group/sensors: [{'point_subsampl...
 * /move_group/start_state_max_bounds_error: 0.1
 * /move_group/trajectory_execution/allowed_execution_duration_scaling: 1.2
 * /move_group/trajectory_execution/allowed_goal_duration_margin: 0.5
 * /move_group/trajectory_execution/allowed_start_tolerance: 0.01
 * /robot_description: <?xml version="1....
 * /robot_description_kinematics/manipulator/kinematics_solver: kdl_kinematics_pl...
 * /robot_description_kinematics/manipulator/kinematics_solver_search_resolution: 0.005
 * /robot_description_kinematics/manipulator/kinematics_solver_timeout: 0.005
 * /robot_description_planning/joint_limits/joint_1/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_1/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_1/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_1/max_velocity: 3.0543
 * /robot_description_planning/joint_limits/joint_2/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_2/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_2/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_2/max_velocity: 3.0543
 * /robot_description_planning/joint_limits/joint_3/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_3/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_3/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_3/max_velocity: 3.0543
 * /robot_description_planning/joint_limits/joint_4/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_4/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_4/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_4/max_velocity: 4.3633
 * /robot_description_planning/joint_limits/joint_5/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_5/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_5/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_5/max_velocity: 4.3633
 * /robot_description_planning/joint_limits/joint_6/has_acceleration_limits: False
 * /robot_description_planning/joint_limits/joint_6/has_velocity_limits: True
 * /robot_description_planning/joint_limits/joint_6/max_acceleration: 0
 * /robot_description_planning/joint_limits/joint_6/max_velocity: 6.1959
 * /robot_description_semantic: <?xml version="1....
 * /robot_ip_address: 192.168.56.1
 * /rosdistro: melodic
 * /rosversion: 1.14.3
 * /rviz_brian_VirtualBox_3952_3019020711789003602/manipulator/kinematics_solver: kdl_kinematics_pl...
 * /rviz_brian_VirtualBox_3952_3019020711789003602/manipulator/kinematics_solver_search_resolution: 0.005
 * /rviz_brian_VirtualBox_3952_3019020711789003602/manipulator/kinematics_solver_timeout: 0.005
 * /source_list: ['/move_group/fak...

NODES
  /
    joint_state (fanuc_driver/robot_state)
    joint_state_publisher (joint_state_publisher/joint_state_publisher)
    joint_trajectory_action (industrial_robot_client/joint_trajectory_action)
    motion_streaming_interface (fanuc_driver/motion_streaming_interface)
    move_group (moveit_ros_move_group/move_group)
    robot_state_publisher (robot_state_publisher/robot_state_publisher)
    rviz_brian_VirtualBox_3952_3019020711789003602 (rviz/rviz)

auto-starting new master
process[master]: started with pid [3962]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 73d4f4b0-b8fa-11e9-a013-080027af27c1
WARNING: Package name "FANUC_robot_test" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits, underscores, and dashes.
process[rosout-1]: started with pid [3973]
started core service [/rosout]
process[joint_state-2]: started with pid [3980]
process[motion_streaming_interface-3]: started with pid [3981]
process[joint_trajectory_action-4]: started with pid [3982]
process[robot_state_publisher-5]: started with pid [3991]
process[move_group-6]: started with pid [3993]
process[rviz_brian_VirtualBox_3952_3019020711789003602-7]: started with pid [4000]
process[joint_state_publisher-8]: started with pid [4006]
QStandardPaths: XDG_RUNTIME_DIR not set, defaulting to '/tmp/runtime-root'
[ INFO] [1565172145.821878607]: Loading robot model 'fanuc_m710ic50'...
[ INFO] [1565172145.833325453]: rviz version 1.13.3
[ INFO] [1565172145.833453729]: compiled against Qt version 5.9.5
[ INFO] [1565172145.833509573]: compiled against OGRE version 1.9.0 (Ghadamon)
[ INFO] [1565172146.067852666]: Publishing maintained planning scene on 'monitored_planning_scene'
[ INFO] [1565172146.071420197]: MoveGroup debug mode is OFF
Starting planning scene monitors...
[ INFO] [1565172146.071500810]: Starting planning scene monitor
[ INFO] [1565172146.074219309]: Listening to '/planning_scene'
[ INFO] [1565172146.074358021]: Starting world geometry update monitor for collision objects, attached objects, octomap updates.
[ INFO] [1565172146.077458549]: Listening to '/collision_object' using message notifier with target frame 'base_link '
[ INFO] [1565172146.082684666]: Listening to '/planning_scene_world' for planning scene world geometry
[ INFO] [1565172146.130299295]: Listening to '/head_mount_kinect/depth_registered/points' using message filter with target frame 'base_link '
[ INFO] [1565172146.137553949]: Listening to '/attached_collision_object' for attached collision objects
Planning scene monitors started.
[ INFO] [1565172146.187361229]: Initializing OMPL interface using ROS parameters
[ INFO] [1565172146.222080139]: Using planning interface 'OMPL'
[ INFO] [1565172146.228112718]: Param 'default_workspace_bounds' was not set. Using default value: 10
[ INFO] [1565172146.228907999]: Param 'start_state_max_bounds_error' was set to 0.1
[ INFO] [1565172146.229590074]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1565172146.230344503]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1565172146.232157369]: Param 'jiggle_fraction' was set to 0.05
[ INFO] [1565172146.232920074]: Param 'max_sampling_attempts' was not set. Using default value: 100
[ INFO] [1565172146.233088037]: Using planning request adapter 'Add Time Parameterization'
[ INFO] [1565172146.233265970]: Using planning request adapter 'Fix Workspace Bounds'
[ INFO] [1565172146.233307822]: Using planning request adapter 'Fix Start State Bounds'
[ INFO] [1565172146.233339451]: Using planning request adapter 'Fix Start State In Collision'
[ INFO] [1565172146.233373637]: Using planning request adapter 'Fix Start State Path Constraints'
[ INFO] [1565172146.312288225]: Stereo is NOT SUPPORTED
[ INFO] [1565172146.314692799]: OpenGl version: 3.1 (GLSL 1.4).
[ INFO] [1565172146.470363447]: Added FollowJointTrajectory controller for 
[ INFO] [1565172146.470708947]: Returned 1 controllers in list
[ INFO] [1565172146.516623381]: Trajectory execution is managing controllers
Loading 'move_group/ApplyPlanningSceneService'...
Loading 'move_group/ClearOctomapService'...
Loading 'move_group/MoveGroupCartesianPathService'...
Loading 'move_group/MoveGroupExecuteTrajectoryAction'...
Loading 'move_group/MoveGroupGetPlanningSceneService'...
Loading 'move_group/MoveGroupKinematicsService'...
Loading 'move_group/MoveGroupMoveAction'...
Loading 'move_group/MoveGroupPickPlaceAction'...
Loading 'move_group/MoveGroupPlanService'...
Loading 'move_group/MoveGroupQueryPlannersService'...
Loading 'move_group/MoveGroupStateValidationService'...
[ INFO] [1565172146.701614472]: 

********************************************************
* MoveGroup using: 
*     - ApplyPlanningSceneService
*     - ClearOctomapService
*     - CartesianPathService
*     - ExecuteTrajectoryAction
*     - GetPlanningSceneService
*     - KinematicsService
*     - MoveAction
*     - PickPlaceAction
*     - MotionPlanService
*     - QueryPlannersService
*     - StateValidationService
********************************************************

[ INFO] [1565172146.701798967]: MoveGroup context using planning plugin ompl_interface/OMPLPlanner
[ INFO] [1565172146.701831735]: MoveGroup context initialization complete

You can start planning now!

[ INFO] [1565172149.731607788]: Loading robot model 'fanuc_m710ic50'...
[ WARN] [1565172149.762287634]: Kinematics solver doesn't support #attempts anymore, but only a timeout.
Please remove the parameter '/rviz_brian_VirtualBox_3952_3019020711789003602/manipulator/kinematics_solver_attempts' from your configuration.
[ INFO] [1565172149.839684483]: Starting planning scene monitor
[ INFO] [1565172149.843871443]: Listening to '/move_group/monitored_planning_scene'
[ INFO] [1565172149.967580721]: Constructing new MoveGroup connection for group 'manipulator' in namespace ''
[ INFO] [1565172150.924195562]: Ready to take commands for planning group manipulator.
[ INFO] [1565172150.924332913]: Looking around: no
[ INFO] [1565172150.924382756]: Replanning: no
[ INFO] [1565172168.053422645]: Planning request received for MoveGroup action. Forwarding to planning pipeline.
[ INFO] [1565172168.086864181]: Planner configuration 'manipulator[RRTConnect]' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
[ INFO] [1565172168.088862235]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.089013931]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.089125066]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.089754786]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.101053950]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172168.102120497]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172168.103573153]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172168.111327841]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.111629950]: ParallelPlan::solve(): Solution found by one or more threads in 0.023342 seconds
[ INFO] [1565172168.112196240]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.112320723]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.113209153]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.113400165]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.113927568]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.114892247]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.117569011]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.117948495]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.118113140]: ParallelPlan::solve(): Solution found by one or more threads in 0.006182 seconds
[ INFO] [1565172168.118420491]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.118544403]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172168.119903816]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.120163849]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172168.120467873]: ParallelPlan::solve(): Solution found by one or more threads in 0.002179 seconds
[ INFO] [1565172168.134212996]: SimpleSetup: Path simplification took 0.013528 seconds and changed from 3 to 2 states
[ INFO] [1565172171.057759132]: Execution request received
[ INFO] [1565172172.571875659]: Controller  successfully finished
[ INFO] [1565172172.606808885]: Completed trajectory execution with status SUCCEEDED ...
[ INFO] [1565172172.607153361]: Execution completed: SUCCEEDED
[ INFO] [1565172177.882286138]: Combined planning and execution request received for MoveGroup action. Forwarding to planning and execution pipeline.
[ INFO] [1565172177.882568284]: Planning attempt 1 of at most 1
[ INFO] [1565172177.883106280]: Planner configuration 'manipulator[RRTConnect]' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
[ INFO] [1565172177.883642302]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.883833524]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.884080132]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.884210295]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.895331070]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.896798510]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.899136805]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.900509503]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.902523882]: ParallelPlan::solve(): Solution found by one or more threads in 0.019055 seconds
[ INFO] [1565172177.903668215]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.904704764]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.906114609]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172177.907610677]: manipulator[RRTConnect]: Created 5 states (3 start + 2 goal)
[ INFO] [1565172177.910517308]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.912450371]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.912538473]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.917328668]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.917736005]: ParallelPlan::solve(): Solution found by one or more threads in 0.014191 seconds
[ INFO] [1565172177.918004493]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.918686618]: manipulator[RRTConnect]: Starting planning with 1 states already in datastructure
[ INFO] [1565172177.919752351]: manipulator[RRTConnect]: Created 5 states (2 start + 3 goal)
[ INFO] [1565172177.920236793]: manipulator[RRTConnect]: Created 4 states (2 start + 2 goal)
[ INFO] [1565172177.920530701]: ParallelPlan::solve(): Solution found by one or more threads in 0.002602 seconds
[ INFO] [1565172177.928211756]: SimpleSetup: Path simplification took 0.007579 seconds and changed from 3 to 2 states
[ INFO] [1565172178.803057828]: Controller  successfully finished
[ WARN] [1565172178.803269605]: Controller handle  reports status ABORTED
[ INFO] [1565172178.803378671]: Completed trajectory execution with status ABORTED ...
[ INFO] [1565172178.953749212]: ABORTED: Solution found but controller failed during execution

Originally posted by Shortfollower on ROS Answers with karma: 1 on 2019-08-07
Post score: 0

A:

While planning and executing movement in Moveit plugin for RVIZ, in most of the cases, robot starts not from the actual position but from default position.
Are you sure that your robot is providing correct state information when it first starts up? I noticed that my robot would show up in the default position in RViz when my robot driver sent all 0s for the first JointPosition message sent on the RobotState connection. RViz/Moveit seems to take the very first JointPosition update and assigns that to the "Planning Request -> Query Start State". You can see this by enabling that when you first start up.

Originally posted by bakerhillpins with karma: 76 on 2019-08-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Shortfollower on 2019-08-14:
You were right, I had two nodes publishing on /joint_states topic. One was publishing current robot states, another 0s. after removing that topic everything worked just fine.
Thanks for help :)


Q:

tf rotation before translation?

I cannot find any documentation on convention used by tf.
$ rosrun tf tf_echo /map /odom
At time 1263248513.809
- Translation: [2.398, 6.783, 0.000]
- Rotation: in Quaternion [0.000, 0.000, -0.707, 0.707]
in RPY [0.000, -0.000, -1.570]

For translation value and rotation quaternion value,
is translation happening in original frame and then rotation happens?
Or, does it rotate first and then the translation happens?
What is the convention used by tf system?

Which RPY convention is RPY using?

Thanks.

Originally posted by jys on ROS Answers with karma: 212 on 2013-12-19
Post score: 1

A:

ROS coordinate frame conventions are defined here: http://wiki.ros.org/geometry/CoordinateFrameConventions
And the API methods are also documented such as here:
http://docs.ros.org/hydro/api/tf/html/c++/classtf_1_1Matrix3x3.html#af2107031776762df1a0fea357b4c3747

It will translate first.

RPY is Fixed Axis XYZ

Originally posted by tfoote with karma: 58457 on 2013-12-19
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by hc on 2016-08-19:
Could you please tell how to rotate before translating in one frame broadcast?
Comment by Ed Venator on 2017-11-01:
Create separate rotation and translation transforms and compose them, then broadcast the composed tf. E.g. in c++: my_tf = my_translation * my_rotation;
Comment by GXY on 2019-12-07:
Any way to do this in Python?


Q:

Create a pool in Gazebo

<?xml version="1.0" ?> 
  <robot name="my_robot">

   <link name="base_link">   
     <inertial>    
       <origin xyz="0 0 0" rpy="0 0 0"  />    
       <mass value="100.0" />  
     <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="100.0" iyz="0.0" izz="1.0" />         
   </inertial>   

   <visual> 
     <origin xyz="0 0 0" rpy="0 0 0" />    
     <geometry>
        <box size="-4.8 3 0.1" />     
     </geometry>  
     <material name="white">       
        <color rgba="1 1 1 1"/>    
     </material> 
   </visual>     
 
   <collision>
     <origin xyz="0 0 0" rpy="0 0 0" />    
     <geometry> 
       <box size="-4.8 3 0.1" />     
     </ geometry> 
   </collision>  
 </link> 

 <link name="child_link">

   <inertial> 
      <origin xyz="2.45 0 0.75" /> 
      <mass value="10.0" />     
      <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="100.0" iyz="0.0" izz="1.0" /> 
   </inertial>  

   <visual> 
     <geometry>
       <box size="0.1 3 1.5"/>  
     </geometry>  
     <origin xyz="2.45 0.75" />  
     <material name="white">    
       <color rgba="1 1 1 1"/>  
     </material>   
   </visual> 

   <collision>  
     <origin xyz="2.45 0 0.75" />    
     <geometry> 
        <box size="0.1 3 1.5" />     
     </ geometry> 
   </collision>    
 </link>  

 <joint name="base_link_to_child_link" type="fixed">
   <parent link="base_link" /> 
   <child link="child_link" /> 
   <axis="0 1 0" />
   <calibration rising="0.0" /> 
 </joint> 
</robot>  

Hello.
I am new in ros. This is my urdf, I want to create a pool, and i tried to make a rectangular for a base and with joints to unite each other rectangular which will represent one of the four frames. In this urdf i wrote the base which is the first link and the left frame which is the second link, and i unite them with a joint. When i run this urdf, only the base (the first link) is showed in gazebo, what is the problem??? Is there any other way to create a pool without joints, only with one link?

Originally posted by Penny on ROS Answers with karma: 41 on 2011-12-16
Post score: 0

A:

The easiest way would be to create a mesh instead of using the default Gazebo geometries. Meshes for Gazebo can be created with a number of different programs, but personally, I prefer Blender. It's a free 3D modeling and animation program that has the ability to export to COLLADA (.dae) files that you can then import into Gazebo. Other programs include Meshlab, 3dMax, Maya, etc.
Also, in your urdf, you did not specify an <origin> for your joint. It should have an <origin> tag, just like links.
EDIT: To import your Blender model, first export the model to COLLADA (.dae). Then, you simply make a link like so:
<link name="base_link">
  <inertial>
    <mass value="10.0" />
    <origin xyz="0 0 0" />
    <inertia  ixx="1.0" ixy="0.0"  ixz="0.0"  iyy="1.0"  iyz="0.0"  izz="1.0" />
  </inertial>
  <visual>
   <origin xyz="0 0 0" rpy="0 0 0" />
   <geometry>
     <mesh filename="package://your_package/meshes/body.dae"/>
   </geometry>
  </visual>
  <collision>
   <origin xyz="0 0 0" rpy="0 0 0 " />
   <geometry>
     <mesh filename="package://your_package/meshes/body.dae"/>
   </geometry>
  </collision>     
</link>

Originally posted by DimitriProsser with karma: 11163 on 2011-12-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by DimitriProsser on 2012-01-27:
Excellent thread my friend. Very informative. This will save me a lot of trouble in the future. Much appreciated.
Comment by Stefan Kohlbrecher on 2012-01-27:
@DimitriProsser: I found out that Blender 2.61 export doesn't work by default, because gazebo does not support quad based polys at the moment. See my question thread for details and a workaround.
Comment by Stefan Kohlbrecher on 2012-01-24:
@DimitriProsser: I'll try that. In case you have spare time ;) you could try exporting the quadrotor .blend file I uploaded here (see bottom of original post): http://answers.ros.org/question/3667/modeling-urdf-files-using-blender-and-exporting-to .
Comment by Penny on 2012-01-24:
the command line i use is : roslaunch gazebo_worlds pool_world.launch
Comment by Penny on 2012-01-24:
if this is correct, how can i export it to gazebo?? (i already have the .world file, plus the .launch file) please provide some instructions
Comment by Penny on 2012-01-24:
you can see the urdf bellow (my_pool)
Comment by Penny on 2012-01-24:
I really need some help because I am desperate!! i have a .dae file from blender 2.6 which i transformed to .urdf as u explained above.. i post this part to tell me what do u think:
Comment by DimitriProsser on 2012-01-24:
My settings are: Triangles, Only Export Selection, Disable Physics, and Use Relative Paths. Give that a try and let me know.
Comment by Stefan Kohlbrecher on 2012-01-24:
I managed to install 2.49b on the same machine as 2.61. I can successfully open my .blend files coming from 2.61, but  exporting to COLLADA 1.4 I still get mangled meshes in gazebo. I tried both the "polygon" and "triangles" export options. Do you have any other hints?
Comment by DimitriProsser on 2012-01-23:
Oh yes, I've received that error before. The problem comes from Blender > 2.49b. I don't know what's different in the COLLADA exporter, but it doesn't work. Thus, I still use Blender 2.49b. I have a "build" machine to do the exporting, so I can still use 2.6 on my main machine.
Comment by Penny on 2012-01-23:
The shape in gazebo is completely wrong, model is not recognizable at all, there are a few polygon here and there.
Comment by DimitriProsser on 2012-01-23:
Sometimes I've noticed that Gazebo has a difficult time rendering certain images. Is the shape wrong, or does it look like it could just be rendered incorrectly?
Comment by Penny on 2012-01-22:
I did the exporting and a link as above, yes my file opened in gazebo but, it does not look like in blender, in blender I have created an empty pool, but in gazebo it looks like two different shapes.What can I do?
Comment by Penny on 2012-01-18:
Thanks a lot, it really helped, this program (Blender) is brilliant!!


Q:

Help on amcl usage and .yaml files

Hi folks,
I'm trying to build a map in the Stage environment using gmapping and posteriorly serving this map with map_server and using amcl to give the estimated position of the robot on the map.
I have already successfully build the map, and save it to a file (mymap.yaml and mymap.pgm) . I tried to get the estimated robot position by echoing topic /amcl_pose, but the pose I got was very different from the one in Stage, so I tried playing with origin and resolution parameters in the .yaml file.
But I'm in doubt about what would be the best way to correct the position given by /amcl_pose topic, and how to adjust origin and resolution parameters for that. It seems I'm not understanding correctly something very basic about the metrics of the map, can someone help me with that?
Thank you in advance,
lgb.

Originally posted by lgb on ROS Answers with karma: 33 on 2012-06-28
Post score: 0

Original comments
Comment by cagatay on 2012-06-28:
you can set your position on the map by programatically ( publishing /initialpose topic in your node ) or by using rviz 2D pose estimate then send simple nav goals check out  for detailed information on amcl 's wiki page. Then you may localize yourself by using amcl

A:

You can use RVIZ to provide your amcl localization with an initial position estimation. Then after driving around a little with your robot, the localization should work fine... expecially in simulation...
I don't think it is a good idea to "play around" with the resolution/position parameters if you are not really sure about what they mean. You should first check if you set up all sensor-streams and tf-settings correctly and visualize your map and localization in RVIZ...
What sensor are you using for localization?

Originally posted by michikarg with karma: 2108 on 2012-06-28
This answer was ACCEPTED on the original site
Post score: 0


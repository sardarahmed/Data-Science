Q:

Cmake error when compiling ros_tutorials packages in windows 10 ROS 2 Foxy Fitzroy Patch Release 4

I just followed the instructions in Installing ROS 2 on Windows. After that, I tried to create a workspace following this tutorial but at step 5, I'm getting the following error:
C:\dev_ws>colcon build --merge-install
Starting >>> turtlesim
--- stderr: turtlesim
CMake Error at CMakeLists.txt:15 (find_package):
By not providing "FindQt5.cmake" in CMAKE_MODULE_PATH this project has
asked CMake to find a package configuration file provided by "Qt5", but
CMake did not find one.

Could not find a package configuration file provided by "Qt5" with any of
the following names:

Qt5Config.cmake
qt5-config.cmake

Add the installation prefix of "Qt5" to CMAKE_PREFIX_PATH or set "Qt5_DIR"
to a directory containing one of the above files. If "Qt5" provides a
separate development package or SDK, be sure it has been installed.

Failed <<< turtlesim [1.20s, exited with code 1]

Summary: 0 packages finished [1.39s]
1 package failed: turtlesim
1 package had stderr output: turtlesim

It's weird because on the installing tutorial(binaries) doesn't say anything about extending the variable "CMAKE_PREFIX_PATH" to include the Qt5 directory. Not even in the "Building ROS 2 on Windows" tutorial. I found some Qt folders in the share folder of the zip installation. I'm guessing I don't need to install Qt because the installation already comes with it. Moreover, "CMAKE_PREFIX_PATH" already points to the installation directory: "C:\dev\ros2_foxy" where those Qt folders are.
This is the system I'm using:

Operating System: Windows 10
Installation type: binaries
Version or commit hash: ROS 2 Foxy
Fitzroy Patch Release 4

Originally posted by andrestoga on ROS Answers with karma: 188 on 2021-01-24
Post score: 0

A:

It turns out that in order to fix it I needed to install the Qt win64_msvc2019_64 in C:\Qt. Then, set the variable:

set Qt5_DIR=C:\Qt\5.15.0\msvc2019_64

or set it permanently:

setx -m Qt5_DIR
C:\Qt\5.15.0\msvc2019_64

Basically, follow the Building ROS 2 on Windows but only the "Install Qt5" section because there is no Qt win64_msvc2019_64 in C:\dev\ros2_foxy

Originally posted by andrestoga with karma: 188 on 2021-01-25
This answer was ACCEPTED on the original site
Post score: 0


Q:

OpenCV VideoCapture Not Working in Diamondback?

Hi all, I recently updated my diamondback version to the latest version and I realised that my packages that I had written previously that used OpenCV's VideoCapture (webcam) fail to work. That is the code:
cv::VideoCapture capture;
capture.open(0);
always returns FALSE. When I compile the latest OpenCV 2.2 library outside the ROS framework and run it, my web cam is always initialised properly so I know its not a problem with OpenCV. My webcam works fine with Cheese as well so it's not at fault too. I am running Ubuntu 10.04 LTS with a full clean install of ROS Diamondback with the required vision-opencv stacks.
Has anyone else had the same experience? Or does anyone have any advice for me to take?
Thanks.

Originally posted by dkst on ROS Answers with karma: 21 on 2011-06-05
Post score: 2

Original comments
Comment by Yongqiang Gao on 2011-06-11:
Hi, dkst, have u solved this problem yet? I go through this problem, and have no idea about it. I reinstall my ROS, but it also doesn't work.
Comment by Julius on 2011-06-07:
Do you have an isolated test case that runs properly when linked against your manually compiled OpenCV libraries works, and does not work if linked against the pre-built OpenCV libraries in Diamondback? That would be pretty strange. Did you check out OpenCV 2.2 from branches/2.2 in revision 5206?

A:

Hi all, the ROS opencv packge (opencv2) does not build the video interface options - we took this decision early because of the fragility of the OpenCV video capture and I/O code.
In use this tends not to be a problem because we usually source images via ROS, and use cv_bridge to import images (or sequences of images for video) into OpenCV.

Originally posted by James Bowman with karma: 136 on 2011-06-20
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Brian Gerkey on 2011-06-20:
See also: https://code.ros.org/trac/ros-pkg/ticket/4980


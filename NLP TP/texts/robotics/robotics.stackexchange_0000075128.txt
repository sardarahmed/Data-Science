Q:

rqt_graph rqt_tf_tree issue | ros indigo

Hello all,
I am facing an issue with the packages rqt_graph and rqt_tf_tree. When I run the mentioned packages I get the following error:
PluginHandlerDirect._restore_settings() plugin "rqt_graph/RosGraph#0" raised an exception:
Traceback (most recent call last):
  File "/opt/ros/indigo/lib/python2.7/dist-packages/qt_gui/plugin_handler_direct.py", line 116, in _restore_settings
    self._plugin.restore_settings(plugin_settings_plugin, instance_settings_plugin)
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_graph/ros_graph.py", line 202, in restore_settings
    self._refresh_rosgraph()
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_graph/ros_graph.py", line 226, in _refresh_rosgraph
    self._update_graph_view(self._generate_dotcode())
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_graph/ros_graph.py", line 259, in _update_graph_view
    self._redraw_graph_view()
  File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_graph/ros_graph.py", line 292, in _redraw_graph_view
    same_label_siblings=True)
  File "/opt/ros/indigo/lib/python2.7/dist-packages/qt_dotgraph/dot_to_qt.py", line 254, in dotcode_to_qt_items
    graph.nodes_iter = graph.get_node_list
AttributeError: 'list' object has no attribute 'get_node_list'

Any clue on how can I fix this problem?

Originally posted by Randerson on ROS Answers with karma: 236 on 2016-07-11
Post score: 1

Original comments
Comment by gvdhoorn on 2016-07-12:
Does this persist if you remove .config/ros.org/rqt_gui.ini (make a backup first)? It might be in a slightly different location, depending on your desktop environment.
Comment by Randerson on 2016-07-12:
Yes, the problem persists after the remotion of the mentioned file.
Comment by gvdhoorn on 2016-07-12:
Must say I have no idea, have not run into this myself. Something like this seems similar. Do you have any name in your ROS tf tree that contains a character that pyDot might not like?
Comment by Randerson on 2016-07-12:
No. I am just running roscore and the command rqt_graph.
Comment by alf on 2016-08-01:
Got the same problem, ROS indigo on OSX. Originally I had the error NameError: global name 'dot_parser' is not defined , then I updated pydot and pyparsing from 1.0.2->1.2.2 and 2.1.4->2.1.5 and got your error.
Comment by Randerson on 2016-08-01:
The packages are updated!!! :(

A:

So I found some versions that seems to work (ROS indigo, /rosversion: 1.11.20, OSX).
I downgraded pydot to version 1.0.29: pip install pydot==1.0.29, and now rqt_graph seems to work fine.

Originally posted by alf with karma: 61 on 2016-08-02
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by gvdhoorn on 2016-08-13:
Could you report this at ros-visualization/rqt_common_plugins/issues? Thanks.
Comment by Dirk Thomas on 2016-08-17:
It was reported in https://github.com/ros-visualization/rqt_common_plugins/issues/393 and has already been fixed.
Comment by alf on 2016-08-17:
Yes, I reported it on github. Sorry for not linking that here.
Comment by dexter05 on 2016-08-24:
Thanks! Downgrading pip worked for me. Was facing the same issue with ROS Indigo on Mac OS X El Capitan
Comment by Petro_19 on 2016-09-28:
Downgrading works for Jade too. Thanks!


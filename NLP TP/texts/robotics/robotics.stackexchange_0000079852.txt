Q:

Best method for merging rotation data

I have two sensors providing a z-axis rotation estimate on a two-wheeled differential drive platform:

motor encoders
a compass-aligned gyroscope

Does it make sense to use some algorithm to merge these two, or should I just rely on the gyro? If I should combine them, what's the proper algorithm to use (Kalman filter, Complementary filter, simple moving average, etc)?

Originally posted by Cerin on ROS Answers with karma: 940 on 2017-03-27
Post score: 1

A:

I suggest you to use an Extended Kalman Filter. It can provide an estimation of the robot's orientation by filtering both wheel's and gyro's drifts.

Originally posted by Chaos with karma: 396 on 2017-03-28
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Cerin on 2017-03-28:
Is there a simple implementation you can recommend, preferably that could run on an Arduino? All the ones I've found seem terribly complicated, and assume you're trying to merge two three-dimensional vectors representing accelerometer and gryoscope readings, not simple scalars, as I'm trying to do.
Comment by Chaos on 2017-03-29:
The implementation of the EKF strongly depends on the application. If the state you have to estimate is just the position of the robot you can use something like this. The EKF should work without problems on Arduino.


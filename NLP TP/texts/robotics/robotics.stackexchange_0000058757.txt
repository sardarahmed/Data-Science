Q:

Return degree of origin from Velodyne_points

Hello, I am wishing to create a depth-image from my velodyne data. I would like to use a degree paramater (from 0 to 360), the height (y-coordinate) and the depth from the velodyne. I was wondering if you can return what 'degree' the point corresponds to. I've heard that the Velodyne stack is not yet able to return this kind of data.
Thanks!

Originally posted by Gariben on ROS Answers with karma: 5 on 2014-04-15
Post score: 0

A:

You are correct: there is currently no conversion to a depth-image. If the device is stationary, that representation could be quite useful. With a moving device, perhaps not, especially when turning.
To do that, one would need to write a package similar to velodyne_pointcloud, but using a different class to unpack the raw data. The logic for unpacking the data is in rawdata.cc. Code to create a polar, cylindrical projection would be a little simpler (less trigonometry). Making a package like that is feasible, but would require significant time and effort. The existing code would definitely provide a useful starting point.
I maintain the Velodyne ROS driver, but have not had much time to devote to it lately. I will gladly provide technical advice if you want to work on it. There are more technical details than would be worthwhile to discuss here, so please open an enhancement issue, if you wish to pursue the idea.

Originally posted by joq with karma: 25443 on 2014-04-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Gariben on 2014-04-16:
I may look to doing that one day, when I'm not so deeply engrossed in my current research. I'd love to contribute!
Would you happen to know if the PCL HDLgrabber has this quality? I took a look at some of the classes and it seems that in the firing class it has the angle, and then in the return class it has the depth. I perfectly understand is this is outside of your well of knowledge though. I really appreciate your prompt help with my questions! Thanks again.
Comment by joq on 2014-04-16:
I don't know about HDLgrabber depth images. Being part of PCL, I'd expect it to mostly use point clouds.
Comment by Gariben on 2014-04-17:
Do you know how I can access the data from the file rawdata.cc? I can't even find the file in my system. I want to try to extract the information I want from it.
edit: Moved the conversation to github.
Comment by joq on 2014-04-18:
For follow-up, see: https://github.com/ros-drivers/velodyne/issues/26 .


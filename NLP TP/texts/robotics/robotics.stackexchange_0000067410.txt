Q:

hector slam does not work!

I received below error after running
"roslaunch hector_slam_launch tutorial.launch"
"rosbag play Team_Hector_MappingBox_RoboCup_2011_Rescue_Arena.bag --clock"
I could see the tf in rviz , but there is no map!
how could I define transform between frames /map and scanmatcher?
and why does it call terminate?
Any idea?
terminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >'
  what():  boost: mutex lock failed in pthread_mutex_lock: Invalid argument
[hector_mapping-2] process has died [pid 9809, exit code -6, cmd /home/zargol/catkin_workspace/devel/lib/hector_mapping/hector_mapping __name:=hector_mapping __log:=/home/zargol/.ros/log/644b3e9a-f334-11e4-adf6-0025649a63d3/hector_mapping-2.log].
log file: /home/zargol/.ros/log/644b3e9a-f334-11e4-adf6-0025649a63d3/hector_mapping-2*.log
[ WARN] [1430837517.680715839, 1310298004.093839447]: No transform between frames /map and scanmatcher_frame available after 20.001973 seconds of waiting. This warning only prints once.

Originally posted by Zargol on ROS Answers with karma: 206 on 2015-05-05
Post score: 0

Original comments
Comment by bvbdort on 2015-05-06:
can you post complete log of error.
Comment by Zargol on 2015-05-06:
that was the complete log of error

A:

To know how the tf works see the following tutorials :
tf
Hector SLAM tf setup
An easy solution would be to manually starting a tf publisher that publishes the needed transform from the base_link (localized) to the laser scanner frame. See the example launch file below:
 <node pkg="tf" type="static_transform_publisher" name="base_to_laser_broadcaster" args="0 0 0 0 0 0 base_link laser 100" />

and you should have your hector_mapping parameters like this :
  <param name="pub_map_odom_transform" value="true"/>
   <param name="map_frame" value="map" />
   <param name="base_frame" value="base_link" />
  <param name="odom_frame" value="base_link" />

Originally posted by AlexR with karma: 654 on 2015-05-06
This answer was ACCEPTED on the original site
Post score: 2


Q:

rgbdslam compiling errors on host OS?

Hello all,
I'm trying to compile rgbdslam as described in the wiki (I'm using ubuntu 12.04 64 bit). Since it worked the first time, I tried to compile again in vm with a clean installation of ubuntu12.04 to test new builds. It also compiled perfectly (but due vm limitations can't get enough usb bandwith so no data appears, but this is another point)
What surprises me is that now I get this message when compiling again in the host:
[rosmake-0] Finished <<< octomap_server ROS_NOBUILD in package octomap_server
[rosmake-3] Starting >>> kdl [ make ]
[rosmake-0] Starting >>> rgbdslam [ make ]
[rosmake-3] Finished <<< kdl ROS_NOBUILD in package kdl
No Makefile in package kdl
[rosmake-3] Starting >>> eigen_conversions [ make ]
[rosmake-2] Starting >>> tf_conversions [ make ]
[rosmake-2] Finished <<< tf_conversions ROS_NOBUILD in package tf_conversions
[rosmake-3] Finished <<< eigen_conversions ROS_NOBUILD in package eigen_conversions
[rosmake-2] Starting >>> cv_markers [ make ]
[rosmake-2] Finished <<< cv_markers ROS_NOBUILD in package cv_markers
[ rosmake ] Last 40 linesbdslam: 226.7 sec ]         [ 1 Active 46/47 Complete ]
{-------------------------------------------------------------------------------
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/transformation_estimation.cpp:158:70: aviso: ‘g2o::SE3Quat g2o::VertexSE3::estimateAsSE3Quat() const’ es obsoleto (declarado en /opt/ros/fuerte/include/g2o/types/slam3d/vertex_se3.h:119) [-Wdeprecated-declarations]
[ 95%] Building CXX object CMakeFiles/rgbdslam.dir/src/moc_graph_manager.o
[ 97%] Building CXX object CMakeFiles/rgbdslam.dir/src/moc_ros_service_ui.o
[100%] Building CXX object CMakeFiles/rgbdslam.dir/src/moc_glviewer.o
Linking CXX executable ../bin/rgbdslam
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_sections_next'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_sections_end_nowait'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_atomic_start'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_atomic_end'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_sections_next'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_parallel_sections_start'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/node.cpp:1339: error: undefined reference to 'GOMP_parallel_end'
/usr/local/include/eigen3/Eigen/src/Core/products/GeneralMatrixMatrix.h:92: error: undefined reference to 'omp_get_thread_num'
/usr/local/include/eigen3/Eigen/src/Core/products/GeneralMatrixMatrix.h:93: error: undefined reference to 'omp_get_num_threads'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_num_threads'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_thread_num'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_num_threads'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_thread_num'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_num_threads'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:131: error: undefined reference to 'omp_get_thread_num'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_start'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_end'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_start'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_end'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_start'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:145: error: undefined reference to 'GOMP_parallel_end'
/usr/local/include/eigen3/Eigen/src/Core/products/Parallelizer.h:47: error: undefined reference to 'omp_get_max_threads'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/misc.cpp:869: error: undefined reference to 'GOMP_atomic_start'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/misc.cpp:859: error: undefined reference to 'GOMP_atomic_end'
/home/toni/ros/rgbdslam_freiburg/rgbdslam/src/misc.cpp:859: error: undefined reference to 'GOMP_parallel_start'
collect2: ld devolvió el estado de salida 1
make[3]: *** [../bin/rgbdslam] Error 1
make[3]: se sale del directorio «/home/toni/ros/rgbdslam_freiburg/rgbdslam/build»
make[2]: *** [CMakeFiles/rgbdslam.dir/all] Error 2
make[2]: se sale del directorio «/home/toni/ros/rgbdslam_freiburg/rgbdslam/build»
make[1]: *** [all] Error 2
make[1]: se sale del directorio «/home/toni/ros/rgbdslam_freiburg/rgbdslam/build»
[ rosmake ] Output from build of package rgbdslam written to:
[ rosmake ]    /home/toni/.ros/rosmake/rosmake_output-20130408-214350/rgbdslam/build_output.log
[rosmake-0] Finished <<< rgbdslam [FAIL] [ 226.71 seconds ]
[ rosmake ] Halting due to failure in package rgbdslam.
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:
[ rosmake ] Built 47 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /home/toni/.ros/rosmake/rosmake_output-20130408-214350
What's wrong? I don't changed nothing, included eigen3.
Thank you
toni ventura

Originally posted by vinot on ROS Answers with karma: 1 on 2013-04-08
Post score: 0

A:

These are openmp related errors. You probably find a solution if you google for
error: undefined reference to 'GOMP_parallel_start'

By the way, if you execute
export LANG=C

in the shell before compiling, your error messages will be in english.
As far as I know, the Kinect drivers do not work in virtual machines. So before diving into debugging, you might want to check whether you actually get data from the sensor.

Originally posted by Felix Endres with karma: 6468 on 2013-04-09
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to use UR3 with JointGroupPositionController?

So the background is that I want to use the moveit_servo package with a real UR3.
I have some questions regarding implementation of the JointGroupPositionController and the UR drivers:

The github page of ur_modern_driver states that the package is deprecated, and the new release is ur_robot_driver.
However, I have UR software version 3.4 and the new driver only supports versions >=3.7. Is it correct that I still have to use  ur_modern_driver then?

Is it in general possible to control the UR3 with a JointGroupPositionController? If yes, how? Do I need a hardware_interface for this or can I use the existing one in the ur_robot_driver package just with a new config file?

I am using Ubuntu 18.04 with ROS melodic.

Originally posted by rfn123 on ROS Answers with karma: 146 on 2020-08-11
Post score: 0

A:

The github page of ur_modern_driver states that the package is deprecated, and the new release is ur_robot_driver.
However, I have UR software version 3.4 and the new driver only supports versions >=3.7. Is it correct that I still have to use  ur_modern_driver then?

No, ideally you would update your controller to at least 3.7.
You really don't want to use ur_modern_driver with CB3 controllers any more.
It's up to you, but you will not receive any support from the maintainers of ur_modern_driver if you do use it with your robot/controller, and there are just too many things not working with ur_modern_driver and CB3 controllers (which also will not get fixed).

2. Is it in general possible to control the UR3 with a JointGroupPositionController or ? If yes, how? Do I need a hardware_interface for this or can I use the existing one in the ur_robot_driver package just with a new config file?

The latter.
You don't need to change anything in any hardware_interface. That's already been provided to you.
You would have to add the controller configuration to the ros_control configuration file for that robot, similar to these lines for the velocity group controller.
In fact, you may actually want to use the group velocity controller already in there, as for jogging, I personally like to use velocity controllers, but that would be up to you.
After updating the configuration (or not), switch the active controller to the group position/velocity controller and that's it.

Originally posted by gvdhoorn with karma: 86574 on 2020-08-11
This answer was ACCEPTED on the original site
Post score: 1


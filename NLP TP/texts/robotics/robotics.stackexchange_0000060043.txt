Q:

Problem displaying webcam on Beaglebone Black ROS Hydro

Hi everyone,
I have Ubuntu 12.04 and ROS Hydro installed on a Beaglebone Black and I am trying to connect a webcam to it. When I do lsusb, i see the webcam listed and it is recognized as /dev/video0. However, when I run:
rosrun usb_cam usb_cam_node

I get this error at the bottom:
[ INFO] [1402520069.293107674]: Camera name: head_camera
[ INFO] [1402520069.296888674]: Camera info url: 
[ INFO] [1402520069.301380049]: usb_cam video_device set to [/dev/video0]

[ INFO] [1402520069.304736965]: usb_cam io_method set to [mmap]

[ INFO] [1402520069.307870465]: usb_cam image_width set to [640]

[ INFO] [1402520069.311110715]: usb_cam image_height set to [480]

[ INFO] [1402520069.314403132]: usb_cam pixel_format set to [mjpeg]

[ INFO] [1402520069.317508174]: usb_cam auto_focus set to [0]

[swscaler @ 0x3f640] No accelerated colorspace conversion found from yuv422p to rgb24.
[ INFO] [1402520069.502437715]: using default calibration URL
[ INFO] [1402520069.506553799]: camera calibration URL: file:///home/ubuntu/.ros/camera_info/head_camera.yaml
[swscaler @ 0x3fee0] No accelerated colorspace conversion found from yuv422p to rgb24.
[swscaler @ 0x3fee0] No accelerated colorspace conversion found from yuv422p to rgb24.
[swscaler @ 0x3fee0] No accelerated colorspace conversion found from yuv422p to rgb24.
[swscaler @ 0x3fee0] No accelerated colorspace conversion found from yuv422p to rgb24.
[swscaler @ 0x3fee0] No accelerated colorspace conversion found from yuv422p to rgb24.
[swscaler @ 0x3fee0] No accelerated colorspace conversion found from yuv422p to rgb24.

Is there a way to fix this conversion issue? Googling hasn't helped me much with this. I appreciate any kind of help...thanks!

Originally posted by Alvin on ROS Answers with karma: 37 on 2014-06-12
Post score: 2

Original comments
Comment by miltmobley on 2014-06-29:
Does your webcam work on a pc running similar ubuntu version? if not, the problem is probably not with the beagle. in a quick scan of the kernel source webcams are controlled by drivers/usb/gadget/webcam.c, which doesn't do data conversions. There is no beagle specific camera code except for cameras on capes.
Can you change the camera to some other mode, and retest?
Finally as the other responder points out the messages are prefixed by 'INFO', which in Unix usually means they are not fatal.
Comment by Alvin on 2014-07-09:
It works! I just had to view the images from a laptop instead
Comment by Morpheus on 2016-01-14:
Alvin,
What were your setting with Rviz?
Thanks,
Brent

A:

I think this is normal for the usb_cam node. Is it publishing images?
Note that the ROS camera drivers DO NOT display a window; they only publish camera images on a topic. You have to run a separate image viewer (image_view) to subscribe to the image topic and display it in a window.

Originally posted by ahendrix with karma: 47576 on 2014-06-29
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Alvin on 2014-07-09:
I finally realized that! So while I ran usb_cam on the beaglebone, I ran rviz on a laptop to view the published images from usb_cam. So even with the conversion msg popping up, I can still view the image from the webcam.
Comment by nvoltex on 2015-02-24:
When this error/warning appears one can't have access to the compressed topic. Is there any solution for that? I want to make a rosbag, however the uncompressed topic makes bagfiles really big really fast.
Comment by ahendrix on 2015-02-24:
@nvoltex that message is normal; it probably isn't related to your problem. Please ask a new question.


Q:

How can two nodelets in one process publish diagnostics?

Thomas Moulard and I recently added diagnostic monitoring to the camera1394 driver.
It seems to work, but he discovered that when two instances of the driver nodelet are running in the same process, only one gets its diagnostics published.
I believe this is because information in the /diagnositics topic is prefixed by the node name, which seems to come from the nodelet manager process, not the driver nodelet.
Is there some way to make this work correctly?

Originally posted by joq on ROS Answers with karma: 25443 on 2012-02-27
Post score: 0

A:

This is not really a solution. I worked around the same issue last week by ensuring that each of my nodelets stored a unique string identifier coming from the name under which it was launched. e.g. "goo_base" in
We pulled that name from the nodehandle and then simple applied that to the name when adding a task to the diagnostic_updater:
this->diagnostic_updater.add("firmware [") + unresolved_name + std::string("]"), this, &GooNodelet::firmwareDiagnostic);
It would be nice if diagnostics pulled that unresolved name directly.

Originally posted by Daniel Stonier with karma: 3170 on 2012-02-27
This answer was ACCEPTED on the original site
Post score: 2


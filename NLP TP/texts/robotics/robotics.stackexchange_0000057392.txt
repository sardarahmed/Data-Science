Q:

Location of non-exported header files?

For a package which is only building a binary and not exporting libraries, should the headers still go in include/pkgname, or can/should they then go in src? The Packages page says:

include/package_name: C++ include headers (make sure to export in the CMakeLists.txt)

My um6 sensor driver has them split, while rosserial_server has them all together.
In both cases, there are templated classes in the headers, which means they contain a lot of actual function bodies. Should these headers be exported anyway, despite that they're not intended to be an API? Which approach is best?

Originally posted by mikepurvis on ROS Answers with karma: 1153 on 2014-02-20
Post score: 0

A:

It's best to keep the headers in the include directory so that you always look in the same place. Just don't make the installation rule for the headers and don't add the include dir to the catkin_package call so they aren't exported. If things are not expected to be an API they shouldn't be exposed if possible.

Originally posted by tfoote with karma: 58457 on 2014-02-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by mikepurvis on 2014-02-21:
Cool, sounds good. I'll reorganize rosserial_server when I get a chance.


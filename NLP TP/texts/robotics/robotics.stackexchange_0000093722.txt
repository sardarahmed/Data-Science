Q:

Tensorflow docker image not building PointPillars

Hello everyone,

Autoware version : 1.12.0
ROS Version Melodic
Autoware installed from Docker
Docker version 19.03.2, build  6a30dfc

I want to use PointPillars but it is not built when during the docker image build and I have this message in the log :

8942 Starting >>> lidar_shape_estimation

8943 ^[[91m--- stderr: lidar_point_pillars

8944 CUDA is available!

8945 CUDA Libs: /usr/local/cuda/lib64/libcudart_static.a;-lpthread;dl;/usr/lib/x86_64-linux-gnu/librt.so

8946 CUDA Headers: /usr/local/cuda/include

8947 TensorRT is NOT Available

8948 CUDNN is NOT Available

8949 PointPillars won't be built, CUDA and/or TensorRT were not found.

8950 ---

8951 ^[[0mFinished <<< lidar_point_pillars [5.09s]

So it seems that CUDNN and TensorRT are missing, Do you know if I missed something during the docker build or if I need to build autoware from source directly ?
Thanks a lot !

Originally posted by Mackou on ROS Answers with karma: 196 on 2019-11-04
Post score: 1

A:

@Mackou The reason it is not building in our Docker image is because the CUDA image does not have CuDNN or TensorRT, only CUDA. You will have to create your own Docker image using ours as a base if you wish to add CuDNN and TensorRT. Building from source on your machine with these installed would be another alternative.

Originally posted by Josh Whitley with karma: 1766 on 2019-11-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Mackou on 2019-12-05:
Thanks for your answer !
I have contributed to the autoware docker repo and cuda and tensorrt should be available in the docker container in version 1.14 ! :)
Comment by ThomasL624 on 2019-12-12:
cuDNN and TensorRT are available in version 1.14 or 1.13?
From the release announcement, the Dockerfile latest-melodic-CUDA stated that added cuDNN and TensorRT. So, are those ready or not?
Comment by Mackou on 2019-12-12:
@ThomasL624
It will be available in version 1.14. But you can already use the master branch to get cuDNN and TensorRT.
Comment by ThomasL624 on 2019-12-13:
Sorry i am a bit new to autoware, from wt you mean, is that cuDNN and TensorRT are available, however, the pointpillars function is not published in 1.13version, am i right? As i got a error msg that pointpillars is not a launch file sth like that. thank you
Comment by Mackou on 2019-12-16:
@ThomasL624 Not exactly.
I am talking about the docker version. Pointpillars is present in 1.13 but is not working
Pointpillars will work in version 1.14 if you use the docker version.
Version 1.14 is not yet available
If you want to have the "beta" version of the 1.14 you can clone the master branch of the autoware docker repo here : https://gitlab.com/autowarefoundation/autoware.ai/docker


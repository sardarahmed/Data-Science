Q:

debugging a ros Python program

Hi all
I have a python program which I run with rosrun
rosrun  node_example pytalker.py 

I want to debug this program
I know that there is a tool called pdb used for debuging, but I don't know how to use it with rosrun.

Originally posted by Younès on ROS Answers with karma: 27 on 2017-10-04
Post score: 0

A:

noob, but afaik, rosrun just eliminates the need to go to the directory with the file in it.
You can thus easily get around using rosrun by going to the "node_example" package manually, eg with "roscd node_example". There you should find the pytalker.py file, that you can start with pdb.

Originally posted by Alberth with karma: 91 on 2017-10-05
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2017-10-05:
This will work, but rosrun (and roslaunch) does a little more than just cd $pkg && ./node_script: it also provides the node with its name, location of the logfile, private parameters (optional) and (topic) remappings.
Comment by Younès on 2017-10-05:
It is working for me with rosrun  node_example pytalker.py   by adding import pdb and pdb.set_trace().
But, the program doen't stop in the breakpoint. It continues to run the callback functions ?
Comment by Alberth on 2017-10-09:
Never tried that, but https://stackoverflow.com/questions/12828956/pdb-cannot-break-in-another-thread suggests to add a set_trace in each thread. In any case, this would be a generic pdb-threading problem, rather than a ROS-specific problem. You might find better help in a generic Python forum/site.
Comment by Ruben Alves on 2017-10-09:
How about just rospy.loginfo('Some text or variable')?
Comment by Younès on 2017-10-09:
It works for me when adding pdb.set_trace() at the beginning of each method I want to debug.


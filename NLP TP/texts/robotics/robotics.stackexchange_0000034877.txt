Q:

Manifest architecture / os flags for linking different lib versions

I have a library X that builds differently for 64 and 32 bit systems and outputs the binaries to the subfolders unix32/lib and unix64/lib respectively.
For dependend packages I publish both the unix32 and the unix64 lib-path in the manifest of X as follows:

When I link against this package on 64bit systems the linker puts out a warning about skipping incompatible libs. (naturally this is about the 32 bit version)
Would it be somehow possible to add a switch in library X's manifest much like the existing "os"-switch that would allow me to specify the appropriate directory for the given architecture and thereby turn the warning off?
Thanks!

Originally posted by Simon Lynen on ROS Answers with karma: 116 on 2011-10-11
Post score: 3

A:

got it:
 <export>
<cpp cflags="-I${prefix}/include" lflags=" -L${prefix}/unix`getconf LONG_BIT`/lib -lX"/>

Originally posted by Simon Lynen with karma: 116 on 2011-10-11
This answer was ACCEPTED on the original site
Post score: 5


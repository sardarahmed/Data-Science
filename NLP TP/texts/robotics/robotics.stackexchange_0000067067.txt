Q:

Which xml_rpc call performs rostopic list?

I want to dynamically publish from a cpp node to some only subscribed topics in a namespace. I tried to retrieve those topics using ros::master::getTopic , but noted that it does not find them. rostopic list showed them properly. Which first sounded strange to me, was caused by ros::master::getTopic internally calling the xmlrpc call "getPublishedTopics" which does not return the topcis that are only subscribed. I found that xmlrpc "getTopicTypes" also lists the topics I am interested in but it still lists them when the nodes are shut down, i. e. the topics are no longer subscribed (Which rostopic list does not). This leads to my question, which xmlrpc call is executed by rostopic list? (Didn't find it in the src code...) Moreover, is there a list of xmlrpc call you can execute on the master? In my case I would be interested in something like "getSubscribedTopics", but executing this failed for me....

Originally posted by Wolf on ROS Answers with karma: 7555 on 2015-04-16
Post score: 0

Original comments
Comment by gvdhoorn on 2015-04-16:
Just for my understanding: "dynamically publish .. only subscribed topics". Publisher::getNumSubscribers(..) seems to be able to return that information, so it's a bit unclear why you'd want to interrogate the master directly.
Comment by Wolf on 2015-04-16:
I want to set up the publisher for that topic where a subscriber has yet been set up but no publisher has yet been created for.... I request the master for getting the topic name, of that "orphan" subscriber..

A:

The xml_rpc list is here: http://wiki.ros.org/ROS/Master_API#Name_service_and_system_state. I guess rostopic list returns the topics of subscribers/publishers from getSystemState but not sure.... Should work for me ;)

Originally posted by Wolf with karma: 7555 on 2015-04-19
This answer was ACCEPTED on the original site
Post score: 0


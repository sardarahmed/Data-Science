Q:

Usarsim sends string data

I am trying to implement robot exploration by ROS-Usarsim, the sensor data comes from the Usarsim as a variable length string, How can I receive these data as a double so I can use it for building my map.

Originally posted by Sara on ROS Answers with karma: 1 on 2011-07-18
Post score: 0

A:

If its just a mater of converting a std::string to a double, it doesn't get easier than using boost::lexical_cast as follows
#include <boost/lexical_cast.hpp>
...
std::string str; // keep the string here
double result = boost::lexical_cast<double>(str);

have fun

Originally posted by makokal with karma: 1295 on 2011-07-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by tfoote on 2011-07-22:
You need to parse this data out of the custom USARSIM format.  This would be better asked in a USARSIM forum.
Comment by dornhege on 2011-07-19:
You will need to parse that data. There is nothing ROS specific to that.
Comment by Sara on 2011-07-19:
This is a sample of the string coming from usarsim: data: STA{Time 154829.4375} {FrontSteer 0} {RearSteer 0} {Battery 99999}data: SEN {Type RangeScanner} {Name lms200} {Resolution 0.1744} {FOV 3.1414} {Range 6.76,6.87,7.20,5.31,6.22,7.41,7.59,7.00,6.68,6.58,6.68,7.00,7.59,8.59,10.23,13 - Sara (5 min
Comment by Sara on 2011-07-19:
when I do the solution above I get this message: message_traits.h:121:34: error: request for member ‘__getMD5Sum’ in ‘m’, which is of non-class type ‘const double’ Please advise
Comment by Sara on 2011-07-19:
The problem is that the string coming from usarsim is about 600 character length. Some of them are text and the other are sensor readings.does your solution above solve the problem?
Comment by Sara on 2011-07-19:
The problem is that the string coming from usarsim is about 600 character length. Some of them are text and the other are sensor readings.does your solution above solve the problem?
Comment by Sara on 2011-07-19:
Thanks Mak,
Comment by RB on 2013-11-02:
Hello, Sara, did you manage to correctly process the sensor data and build a map of the environment by using the makokal code.......


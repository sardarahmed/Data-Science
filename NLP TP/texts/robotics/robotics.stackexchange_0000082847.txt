Q:

Convert PoseWithCovariance to Transform

Is it possible to convert geometry_msgs/PoseWithCovariance to geometry_msgs/Transform and how?

Originally posted by Ugnius Malukas on ROS Answers with karma: 18 on 2017-09-15
Post score: 0

A:

If covariance is not important:
geometry_msgs::PoseWithCovariance poseWithCovarianceMsg;
tf::Transform transform;
transform.setRotation(tf::Quaternion(poseWithCovarianceMsg.pose.orientation.x,
                                     poseWithCovarianceMsg.pose.orientation.y,
                                     poseWithCovarianceMsg.pose.orientation.z,
                                     poseWithCovarianceMsg.pose.orientation.w));
transform.setOrigin(tf::Vector3(poseWithCovarianceMsg.pose.position.x,
                                poseWithCovarianceMsg.pose.position.y,
                                poseWithCovarianceMsg.pose.position.z));

geometry_msgs::Transform transformMsg;
tf::transformTFToMsg(transform, transformMsg);

Originally posted by Ugnius Malukas with karma: 18 on 2017-09-15
This answer was ACCEPTED on the original site
Post score: 0


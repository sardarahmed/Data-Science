Q:

How to visualize IMU data in Rviz

I'm publishing sensor_msgs.msg.Imu messages with frame imu on topic /imu/data_raw, and I'm trying to view it in Rviz via rviz_imu_plugin. However, when I enable the plugin and set the topic, the console reports:
[ WARN] [1477283997.473557284]: MessageFilter [target=map ]: Dropped 100.00% of messages so far. Please turn the [ros.rviz_imu_plugin.message_notifier] rosconsole logger to DEBUG for more information.

and Rviz shows the plugin error:
Transform [sender=unknown_publisher]
For frame [imu]: Fixed Frame [map] does not exist

What do these mean? Obviously, something's not configured correctly, but these messages are unusably vague.

Originally posted by Cerin on ROS Answers with karma: 940 on 2016-10-23
Post score: 0

A:

RViz needs to know what the incoming messages are relative to, which in RViz is always called the Fixed Frame.
In this case you have your Fixed Frame set to map, but that isn't published by any authority in your node graph. So RViz complains that it cannot find the map frame. That in turn causes the entire visualisation of incoming data to fail, as the Fixed Frame is always at the root of all of RViz's transforms.
In this particular case, I'm guessing you only have a single node publishing your sensor_msgs/Imu msg. So to get RViz to succesfully visualise that data, you'll have to configure it to use your imu frame as the Fixed Frame.

Obviously, something's not configured correctly, but these messages are unusably vague.

But it is one which has a lot of Q&As that turn up in a search. And I'm sure I'm biased, but the error message does state what is actually wrong.
It would be nice if you could improve on the error message though: if you have an idea how to do that, I'm sure a PR would be accepted over at ros-visualization/rviz.

Originally posted by gvdhoorn with karma: 86574 on 2016-10-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Cerin on 2016-10-24:
When I changed my IMU messages to use "base_link", that fixed the error.
Comment by gvdhoorn on 2016-10-24:
That is also a possibility, provided that there is a known transform between base_link and imu.
Comment by gvdhoorn on 2016-10-24:
Also: I'd not recommend using base_link as the frame_id for a message from an IMU, unless the sensor is actually mounted on the base_link of your robot (and even that is questionable, as there will (almost) always be some kind of offset between the two).
Comment by Cerin on 2016-10-24:
Yes, in my case, the IMU is mounted on the base_link, but that's a good point about the offset, which there is.


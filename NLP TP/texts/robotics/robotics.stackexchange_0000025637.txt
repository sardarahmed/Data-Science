Q:

Bug: Gazebo segmentation fault - PR2 spawn - Ubuntu Precise Lucid

ROS Fuerte, Gazebo 1.6.16
Hi all,
I've been trying to get Gazebo running on another laptop. 
I tried Ubuntu 12.04.1 Precise 64bit, 
Ubuntu 10.04.4 Lucid 32bit and 64bit, 
various versions of NVidia proprietory drivers from 195.xx and 304.xx series. 
In all cases, Gazebo crashes with segmentation fault when getting near the end of completely spawning the PR2. 
In this case in seems to be from libc.so.6. 
(Other software configurations have segfaulted in a Boost or OpenGL library.)
This bug report focuses on Ubuntu 10.04.4 64bit:
$ glxinfo
OpenGL vendor string: NVIDIA Corporation
OpenGL renderer string: Quadro FX 3500/PCI/SSE2
OpenGL version string: 2.1.2 NVIDIA 195.36.24
OpenGL shading language version string: 1.20 NVIDIA via Cg compiler

Executing:
roslaunch gazebo_worlds empty_world.launch

with Gazebo set to debug. That loads fine, until I spawn the PR2 using:
roslaunch pr2_gazebo pr2.launch

which causes a segfault in the first console.
See backtrace below. Problem in libc.so.6 after calling Ogre::GLFrameBufferObject::initialise  ?

While leaving the crashed programs running
ps -ef | grep gz

produces
/bin/bash /opt/ros/fuerte/stacks/simulator_gazebo/gazebo_worlds/scripts/gdbrun /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/gazebo/bin/gzserver /opt/ros/fuerte/stacks/simulator_gazebo/gazebo_worlds/worlds/empty.world __name:=gazebo __log:=/home/dbworth/.ros/log/02fc2ece-601f-11e2-8f89-00c0ca21e421/gazebo-2.log -s /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/lib/libgazebo_ros_paths_plugin.so -s /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/lib/libgazebo_ros_api_plugin.so
gdb -x /tmp/gdbrun.20686.7.tmp /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/gazebo/bin/gzserver
/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/gazebo/bin/gzclient -g /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/lib/libgazebo_ros_paths_plugin.so
/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/gazebo/bin/gzserver /opt/ros/fuerte/stacks/simulator_gazebo/gazebo_worlds/worlds/empty.world __name:=gazebo __log:=/home/dbworth/.ros/log/02fc2ece-601f-11e2-8f89-00c0ca21e421/gazebo-2.log -s /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/lib/libgazebo_ros_paths_plugin.so -s /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/lib/libgazebo_ros_api_plugin.so

Also see below for output of:
thread apply all bt

I was going to try to build the normal and HG versions from source, but
 hg clone https://bitbucket.org/osrf/gazebo gazebo

gives
requesting all changes
abort: HTTP Error 400: Bad Request

Any help would be most appreciated.
Cheers, 
David.

image description http://i46.tinypic.com/e00efs.png

Backtrace:

This code block was moved to the following github gist:
https://gist.github.com/answers-se-migration-openrobotics/c54deb3bb883f37d19df10f0d140e09a

Originally posted by dbworth on Gazebo Answers with karma: 1 on 2013-01-16
Post score: 0

A:

Please try ROS Groovy, Ubuntu 12.04.

Originally posted by nkoenig with karma: 7676 on 2013-07-24
This answer was ACCEPTED on the original site
Post score: 0


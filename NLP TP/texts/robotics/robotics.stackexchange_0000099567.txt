Q:

Robot position not updating in RVIZ

The robot position in RVIZ is not updating. However, when I launch gmapping node with the "map" frame fixed, it will update. I am not able to find the reason for this.

Originally posted by Shreyas on ROS Answers with karma: 1 on 2021-07-08
Post score: 0

Original comments
Comment by siddharthcb on 2021-07-08:
can you provide more details? what are you trying to do? and what is your config like?
Comment by Weasfas on 2021-07-09:
@Shreyas Rviz just plots anything is the Screen with the support of your tf tree. If no proper tf is set up Rviz will be unable to plot anything. The reason why you have something poltted when runnin Gmapping is likely because the node is generating the tf frames connection that you missed when it is not running. You may want to chech yor tf tree connections.
Comment by Shreyas on 2021-07-09:
The robot is configured via MAVROS/MAVLINK communication. I checked the tf. Everything is connected. The gmapping node will generate a "map" frame which will be connected to "odom" frame. similarly, If I use AMCL node, with the map frame fixed, it still same error.                      my email: shreysreddy@gmail.com if someone willing to help

A:

As pointed out already you need to check your tf tree. These are some things you can check:

Is the robot state publisher node running? The robot state publisher will publish your joint angles of your robot to tf tree(the left and right wheel link of your robot).
The gmapping package expects that a base_linkâ†’odom transform already exists(this transform should come from your controller)

Originally posted by Deepanshu Bansal with karma: 16 on 2021-07-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Shreyas on 2021-07-09:
Thanks deepanshu for replying, I checked it again. robot state publisher is running, Yes in normal case also, the base_link-> odom transform exists which comes from the controller. Also, for more information, When I use navigation package to implememt path planning, the local planner does work and robot in the RVIZ does move. however, in global map it doesn't.
my email: shreysreddy@gmail.com if someone willing to help


Q:

ImportError: dynamic module does not define init function (init_tf2)

Hello. I am trying to "import tf" in a python 2.7 terminal, but I am getting the following error. Please help me up, as I am unable to proceed further:
svdeepak99@Deepak-Strix:~/catkin_ws$ python
Python 2.7.17 (default, Nov  7 2019, 10:07:09) 
[GCC 7.4.0] on linux2
Type "help", "copyright", "credits" or "license" for more information.
>>> import tf
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
  File "/opt/ros/melodic/lib/python2.7/dist-packages/tf/__init__.py", line 30, in <module>
    from tf2_ros import TransformException as Exception, ConnectivityException, LookupException, ExtrapolationException
  File "/home/svdeepak99/catkin_ws/devel/lib/python3/dist-packages/tf2_ros/__init__.py", line 35, in <module>
    exec(__fh.read())
  File "<string>", line 38, in <module>
  File "/home/svdeepak99/catkin_ws/devel/lib/python3/dist-packages/tf2_py/__init__.py", line 35, in <module>
    exec(__fh.read())
  File "<string>", line 38, in <module>
ImportError: dynamic module does not define init function (init_tf2)
>>> 

I am using ros melodic and Ubuntu 18.04 version.
Thanks in advance.

Originally posted by svdeepak99 on ROS Answers with karma: 3 on 2019-12-31
Post score: 0

Original comments
Comment by gvdhoorn on 2020-01-01:
You seem to be mixing Python 2 and Python 3 (note python2.7/dist-packages/tf and python3/dist-packages/tf2_ros mentioned in the error).
You'll have to make sure not to do that.
Comment by svdeepak99 on 2020-01-01:
Thanks for the reply. I tried uninstalling & reinstalling tf & tf2 packages using apt-get multiple number of times, but that doesn't solve my issue. Could you please suggest me how to solve this?

A:

We have worked hard to make sure that the code can be run in python 2 or python 3. But you must choose one and remain consistent. Mixing them will not work.
As @gvdhoorn mentioned you are mixing your environment with python2 and python3 instances. To resolve this make sure to consistently use the same python interpreter in any workspace. Note that for melodic the default python interpreter is python2.
If you used a different python interpreter to build or install a workspace you will want to completely clean the generated outputs and rebuild your workspace with the version of python you want.

Originally posted by tfoote with karma: 58457 on 2020-01-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by svdeepak99 on 2020-02-12:
Thank you so much. That solved my problem. I just took backup of the files in "src" folder, then deleted the catkin_ws folder, created a new catkin workspace, copied the backed up files into the new "src" folder and ran "catkin_make" command. The error is solved now.


Q:

gmapping: disable TF publishing

Hi,
I want to use an ukf_robot_localization to fuse the pose (map -> odom) from gmapping, AMCL and another not continuous pose source (not a GPS).
My problem is that the gmapping node broadcasts the "map -> odom" transform that should instead be broadcasted only by the UKF filter.
I searched about how to inhibit the gmapping node from broadcasting the TF, but I have not found the relative parameter.
Am I doing something wrong?
Thank you
Walter

Originally posted by Myzhar on ROS Answers with karma: 541 on 2019-02-04
Post score: 2

A:

According to the source code, setting the transform_publish_period to 0 inhibits publishing of the transform.

Originally posted by mgruhler with karma: 12390 on 2019-02-04
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Myzhar on 2019-02-04:
Thank you @mgruhler, you are right.
I missed that line of code, I was concentrating on the publishTransform function.
Comment by gvdhoorn on 2019-02-04:
Updated the parameter documentation on the wiki in wiki/gmapping?action=diff&rev1=127&rev2=128.
Comment by mgruhler on 2019-02-04:
thx @gvdhoorn for the edit.
Comment by Myzhar on 2019-02-04:
@gvdhoorn I think that publishing a pose_with_covariance message should be useful to be fused in a kalman filter with the pose published by AMCL.
Normally only one of Gmapping and AMCL should work... but if you do not have a map it is not bad to run both and fuse their results...
Comment by gvdhoorn on 2019-02-04:
I'm not sure I understand your comment.
I'm not the author nor the maintainer of gmapping. I merely updated the wiki page to document that transform_publish_period==0 means: no transforms published.


Q:

mapping trajectory error

when i do bellow tutorial,bellow error caused, what's problem?
[ERROR] [1392637719.233332009]: Trajectory Server: Transform from /map to scanmatcher_frame failed: Frame id /map does not exist! Frames (1):  

[ERROR] [1392637719.467775930]: Trajectory Server: Transform from /map to scanmatcher_frame failed: Frame id /map does not exist! Frames (3): Frame /laser exists with parent /base_link.
Frame /base_link exists with parent NO_PARENT.

slam.launch
<launch>

<param name="/use_sim_time" value="false"/>ros

<node pkg="rviz" type="rviz" name="rviz" 
args="-d $(find hector_slam_launch)/rviz_cfg/mapping_demo.vcg"/>

<include file="$(find uprobotics)/launch/hector_mapping.launch"/>

<include file="$(find uprobotics)/launch/geotiff_mapper.launch">
<arg name="trajectory_source_frame_name" value="scanmatcher_frame"/> 
</include>

</launch>

hector_mapping.launch
<launch>

<node pkg="hector_mapping" type="hector_mapping" name="hector_mapping"    output="screen">

<param name="pub_map_odom_transform" value="true"/>
<param name="map_frame" value="map" />
<param name="base_frame" value="base_link" />
<param name="odom_frame" value="base_link" />
<!-- Map size / start point -->
<param name="map_resolution" value="0.025"/>
<param name="map_size" value="2048"/>
<param name="map_start_x" value="0.5"/>
<param name="map_start_y" value="0.5" />
<param name="laser_z_min_value" value="-2.5" />
<param name="laser_z_max_value" value="7.5" />

<!-- Map update parameters -->
<param name="update_factor_free" value="0.4"/>
<param name="update_factor_occupied" value="0.7" />    
<param name="map_update_distance_thresh" value="0.2"/>
<param name="map_update_angle_thresh" value="0.06" />
</node>

<node pkg="tf" type="static_transform_publisher" name="base_to_laser_broadcaster"      args="0 0 0 0 0 0 /base_link /laser 100" />  

</launch>

geotiff_mapper.launch
in this file was modified only thing is the path where you save the geotiff generated in this case / home / viki / Desktop / maps
<launch>
<arg name="trajectory_source_frame_name" default="/base_link"/>
<arg name="trajectory_update_rate" default="4"/>
<arg name="trajectory_publish_rate" default="0.25"/>

<node pkg="hector_trajectory_server" type="hector_trajectory_server" name="hector_trajectory_server" output="screen">
<param name="target_frame_name" type="string" value="/map" />
<param name="source_frame_name" type="string" value="$(arg trajectory_source_frame_name)" />
<param name="trajectory_update_rate" type="double" value="$(arg trajectory_update_rate)" />
<param name="trajectory_publish_rate" type="double" value="$(arg trajectory_publish_rate)" />
</node>

<node pkg="hector_geotiff" type="geotiff_node" name="hector_geotiff_node" output="screen" launch-prefix="nice -n 15">
<remap from="map" to="/dynamic_map" />
<param name="map_file_path" type="string" value="/home/viki/Desktop/maps" />
<param name="map_file_base_name" type="string" value="uprobotics" />
<param name="geotiff_save_period" type="double" value="0" />
<param name="draw_background_checkerboard" type="bool" value="true" />
<param name="draw_free_space_grid" type="bool" value="true" />
</node>

</launch>

and is run as follows
$ roscore
$ sudo chmod a+rw /dev/ttyACM0
$ rosrun hokuyo_node hokuyo_node
$ uprobotics slam.launch

Originally posted by programmer on ROS Answers with karma: 61 on 2014-02-17
Post score: 0

A:

Is this error spammed continuously or only one or two times at startup? If only at startup, that´s an artifact of the node starting up before the tf tree is fully populated and you shouldn´t worry about it. Will look into this (basically a wait for tf on startup has to be added), because a few people already stumbled about this issue and thought it´s a real problem.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-02-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by programmer on 2014-02-17:
Thank you dear Stefan alot but when i want to save *.tiff file with hector_geotiff, map saved without trajectory, what's problem?
Comment by Stefan Kohlbrecher on 2014-02-17:
That seems to indicate that the trajectory server does not provide the trajectory correctly after all. There could be multiple reasons for that, though. Maybe open a new question with more details on that problem.
Comment by programmer on 2014-02-18:
please look below link, i open new question as you said.
http://answers.ros.org/question/130336/trajectory-saving-problem/


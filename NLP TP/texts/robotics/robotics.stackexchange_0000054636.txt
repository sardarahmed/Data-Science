Q:

Problems installing Hydro on 12.04 from source on armhf

Hi
I'm having a dependency issue trying to install Hydro on 12.04 from source. I get an error:
E: Unable to locate package python-wstool

after the part:
sudo apt-get install python-rosdep python-rosinstall-generator python-wstool build-essential

I was getting the same error but for all the dependencies, however that was resolved by apt-get update command.
Any suggestions. This is going onto an ARM device with 12.04 installed and did have fuerte installed.
EDIT
I found and followed this option to use pip to install wstools instead. However now getting the following error:
     Found existing installation: rospkg 1.0.18
    Uninstalling rospkg:
      Successfully uninstalled rospkg
  Running setup.py install for rospkg
    Traceback (most recent call last):
      File "<string>", line 1, in <module>
    ImportError: No module named setuptools
    Complete output from command /usr/bin/python -c "import setuptools;__file__='/home/ubuntu/build/rospkg/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record /tmp/pip-65brKO-record/install-record.txt:
    Traceback (most recent call last):

  File "<string>", line 1, in <module>

ImportError: No module named setuptools

----------------------------------------
  Rolling back uninstall of rospkg
Command /usr/bin/python -c "import setuptools;__file__='/home/ubuntu/build/rospkg/setup.py';exec(compile(open(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" install --single-version-externally-managed --record /tmp/pip-65brKO-record/install-record.txt failed with error code 1
Storing complete log in /home/ubuntu/.pip/pip.log

EDIT
Okay needed to install setuptools as per the directions here.
came up with a new error ends with:
ImportError: No module named pkg_resources

EDIT
Okay theres a happy ending to this story however there seems to be a degree of luck in achieving it, so I am happy if someone can improve this.
First I purged and removed python-pkg-resources, this is the part that seems most dodgy:
sudo apt-get remove --purge python-pkg-resources

and then reinstalled it:
sudo apt-get install python-pkg-resources python-nose python-pip python-setuptools

Things were a bit broken (eggs) but this seemed to do the trick.
sudo pip install --upgrade setuptools

after which the pip install command worked:
sudo pip install -U wstool

EDIT
Well it actually didn't work when I went to deal with the installation of rosdep. there were unmet dependencies which may have resulted directly from using pip to install wstools.
A full reinstall of ubuntu didn't work either, apt-get still cant find python-wstools.
EDIT
I reused pip to install rosdep, wstools and rosinstall_generator, and was able to download the source packages, but when executing the command:
rosdep install --from-paths src --ignore-src --rosdistro hydro -y

It would download and unpack dependencies for a couple of hours then stop on error:
executing command [sudo apt-get install -y python-rospkg]
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Package python-rospkg is not available, but is referred to by another package.
This may mean that the package is missing, has been obsoleted, or
is only available from another source

E: Package 'python-rospkg' has no installation candidate
ERROR: the following rosdeps failed to install
  apt: command [sudo apt-get install -y python-rospkg] failed

Where I used pip to download ros package, and then reexecute the rosdep update, after a short while another error:
executing command [sudo apt-get install -y python-rosdep]
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 python-rosdep : Depends: python-rospkg but it is not installable
                 Depends: python-rosdistro (>= 0.2.1) but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
ERROR: the following rosdeps failed to install
  apt: command [sudo apt-get install -y python-rosdep] failed

when installing rosdep via pip does not flag it as being installed when searching for python-rosdep, same goes for python-rospkg. I can comment out the offending lines in the package.xml for the stacks that have a dependency on these programs, stopping them looking for the apt-get versions, but will this break my installation when I go to use them?

Originally posted by PeterMilani on ROS Answers with karma: 1493 on 2013-10-07
Post score: 2

A:

The solution:
First need to download and install setuptools and extract.
Enter the extracted folder and run:
$ sudo python setup.py install

Now install stdeb as per the instructions for self install.
Create the python dependencies:
$ pypi-install rosdep
$ pypi-install rosinstall-generator
$ pypi-install wstools
$ sudo apt-get install build-essential

Continue with the hydro installation till all source folders have been installed and your ready to use rosdep to install dependencies
Now there is an issue with collada-dom-dev dependencies and assimp (has been since Fuerte, Groovy) follow the instructions on sysadminfixes to install. See the sections on Fix Missing Dependencies For Collada Packages .
Continue the ros-hydro install as listed in the hydro source installation guide to install dependecies and build workspace.
Acknowledgements
Thanks to William (+1) for identifying stdeb, that really was the key to resolving these python dependencies. Also sysadmin fixes has a number of workarounds for various things if you get stuck but primarily for beagle based boards
This was for a minimal armhf install on Ubuntu 12.04 running on a beaglebone white.

Originally posted by PeterMilani with karma: 1493 on 2013-10-09
This answer was ACCEPTED on the original site
Post score: 2


Q:

gmapping+depthimage_to_laser, Scan must contain angles from -x to x

Hello All,
Problem with depthimage_to_laserscan and gmapping:
I got my Asus Xtion Pro (no RGB) up and running on ROS Indigo and Ubuntu 14.04. Now, I try to create LaserScan messages from the depthimage and use it for Gmapping. What i do is: I launch the openni2.launch and then depthimage_to_laserscan node. I can see the visualization of the LaserScan under the /scan topic in Rviz perfectly. But when i modify and launch my gmapping launch file (which works fine with an actual lidar), i start getting tons of repeating errors:
[ERROR] [1446110574.405766241]: Scan message must contain angles from -x to x, i.e. angle_min = -angle_max

and of course gmapping does not work. Topics and everything are correct. It must be directly related to how depthimage_to_laserscan works. Could not figure it out myself,
Please help!

Originally posted by stevej_80 on ROS Answers with karma: 75 on 2015-10-29
Post score: 0

A:

I researched more and tried different suggested solutions and it turned out that the problem was being caused by a bug in the 1.3.7 gmapping release. thanks to @stevenwaslander answer, the fix for the problem that i explained in my question above, is as follows:
$ wget http://packages.ros.org/ros/ubuntu/pool/main/r/ros-indigo-gmapping/ros-indigo-gmapping_1.3.8.orig.tar.gz
$ cd ~/catkin_ws/src
$ tar xvf ../../ros-indigo-gmapping_1.3.8.orig.tar.gz   
$ mv ros-indigo-gmapping-1.3.8/ gmapping
$ catkin_make
$ sudo cp devel/lib/gmapping/slam_gmapping* /opt/ros/indigo/lib/gmapping/

Originally posted by stevej_80 with karma: 75 on 2015-10-29
This answer was ACCEPTED on the original site
Post score: 0


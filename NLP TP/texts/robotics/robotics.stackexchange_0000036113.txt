Q:

Problems with using KnowRob from Python

I tried a python client to query from json_prolog, as the line below
query = prolog.query("owl_individual_of(A, knowrob:'SpatialThing')");

However, I got the following error message:
ERROR: An unexpected error occurred while tokenizing input
The following traceback may be corrupted or invalid
The error message is: ('EOF in multi-line statement', (9, 0))
.... 

Edit: More info in response to question
Similarly, in the following code, the first query works and the second does not:
query = self.prolog.query("owl_subclass_of(A, knowrob:'FoodOrDrink').")
for sol in query.solutions():
    print 'Found solution. A = %s' %(sol['A'])

query = self.prolog.query("owl_has(A, rdf:type, knowrob:'Oven').")

Can anyone tell me where the error could be from? Did I miss anything?
The Prolog query works with rosprolog, but not json_prolog from python client.
Is there any working example of KnowRob in Python located somewhere by the way? The Java Client example won't compile.
Thanks.

Originally posted by Ze JI on ROS Answers with karma: 25 on 2011-11-30
Post score: 1

A:

json_prolog did not support the expansion of name space definitions such as rdf:type, you had to use the full identifier such as 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type'.
I've added that functionality in KnowRob trunk, so after an update, you should be able to send the queries listed above.
However, please verify first if the namespace expansion solves your problem, i.e. try to send the queries like this:
query = prolog.query(
               "owl_has(A, 'http://www.w3.org/1999/02/22-rdf-syntax-ns#type',
                           'http://ias.cs.tum.edu/kb/knowrob.owl#FoodOrDrink')")

P.S. Please also remember to finish() your queries.

Originally posted by moritz with karma: 2673 on 2011-11-30
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Ze JI on 2011-11-30:
Thanks a lot. This is very helpful.


Q:

Is there a way to list automatically the dependencies of my ROS package

Hello everyone,
I noticed that I'm able to run my Python nodes even if I didn't report the dependencies properly in CMakeLists.txt and package.xml. Many things work simply because all the required ROS packages are installed on my computer. Now assume I want to distribute my package, how to make sure that I didn't miss any dependency?
Is there an automatic way to do that?

Originally posted by Hug on ROS Answers with karma: 66 on 2018-09-18
Post score: 0

Original comments
Comment by gvdhoorn on 2018-09-18:\

I noticed that I'm able to run my Python nodes even if I didn't report the dependencies properly in CMakeLists.txt [..]

For Python nodes, which are not compiled, there are (normally) no build dependencies, so CMakeLists.txt is not involved in those cases.
Python pkgs only have run depends.

A:

There are two tools that can actually help you with this.
roscompile by @David Lu figures out many issue, also missing dependencies. To quote the ReadMe:

Checks for dependencies by looking in the source code, message, service, action and launch files.
Inserts build/run/test dependencies into your package.xml
Inserts dependencies into your CMakeLists.txt (in both the find_package and catkin_package commands)
Sorts lists of dependencies (in both package.xml/CMakeLists.txt)

Also catkin_lint helps in setting the CMakeLists.txt and package.xml up correctly. The combination of both tools is pretty powerful. But you should still but some thought into what is going on...

Originally posted by mgruhler with karma: 12390 on 2018-09-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by David Lu on 2018-09-18:
https://gph.is/2rMkoJZ
Comment by mgruhler on 2018-09-18:
"Approved" :-D
Comment by Hug on 2018-09-18:
Wow, approved by the author... Thanks, that looks handy.


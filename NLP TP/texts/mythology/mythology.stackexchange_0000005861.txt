Q:

What is the connection between Poseidon and horses?

Since Poseidon is well known as the god of the God of the sea, storms, earthquakes and horses? What is the connection between Poseidon and horses?
As a god of the sea the storms and earthquakes part makes sense but where does the part of the horse come in?

Sailors prayed to Poseidon for a safe voyage, sometimes drowning horses as a sacrifice; in this way, according to a fragmentary papyrus, Alexander the Great paused at the Syrian seashore before the climactic battle of Issus, and resorted to prayers, "invoking Poseidon the sea-god, for whom he ordered a four-horse chariot to be cast into the waves."   Papyrus Oxyrrhincus FGH 148, 44, col. 2; quoted by Robin Lane Fox, Alexander the Great (1973) 1986:168 and note. Alexander also invoked other sea deities: Thetis, mother of his hero Achilles, Nereus and the Nereids

Like Poseidon, Neptune was worshipped by the Romans also as a god of horses, under the name Neptunus Equester, a patron of horse-racing.

A:

I can't find a classical source for this, but from what I understand it's related to the myth of the founding of Athens and the competition Poseidon had with Athena over who would be the city's patron. They each created various things and the citizens of Athens ended up choosing Athena for her olive tree. In some versions Poseidon gave them a spring of water that turned out to be salty and not good to drink, while in others he gave them the horse, in both cases losing to Athena.
There's also the one where he was in love with Demeter and decided to make the most beautiful animals in the world to woo her, and worked long and hard on it, but by the time he was done he was no longer in love with her. The result was the horse. (I read about this one here)
Wikipedia also has a section about Poseidon's theoretical origins in horse-worship, and discusses (very briefly) the other connections.


Q:

Why did God prefer Abel's offering to Cain's?

In the Old Testament, God accepts Abel's offering but rejects Cain's:

Now Abel kept flocks, and Cain worked the soil. In the course of time Cain brought some of the fruits of the soil as an offering to the Lord. And Abel also brought an offering—fat portions from some of the firstborn of his flock. The Lord looked with favor on Abel and his offering, but on Cain and his offering he did not look with favor. So Cain was very angry, and his face was downcast.

(Genesis 4:2-5)
Why does God do this?

A:

There still remains much controversy on this question. In fact, there are books written devoted to just this narrative. It's frankly impossible to answer, however, I've outlined some of the theories.
On the surface, god prefers blood sacrifices. Surely we must have, at least at some layer, some etiological myth that explains why the ancient Hebrews used lambs, bulls, and birds for sacrifices instead of more mundane objects like vegetables.
Others have noted that it may preserve a tradition of backlash against the introduction of agriculture in the region. Abel's offerings would be the offerings of a semi-nomadic shepherd, while Cain's is indicative of a farmer.
Some like Frazer thinks this is a fertility narrative, and God's rejection has nothing to do with the original story except to serve as a device for moving the narrative. The real story is the slaughter of Abel, whose blood "fertilizes" the earth. This is apparent in the Greek translation (which actually may precede the current, Masoretic text of the Old Testament, or at least is a translation of an earlier Hebrew text), which has Cain and Abel in a field, and—in both Greek and Hebrew—the earth "opened her mouth to receive [Abel's] blood," which offers evidence of fertilizing the field. As Hooke notes, the Mark of Cain is symbolic of a larger plan of Yahweh's, that this was meant to happen, probably so not as to condemn all farmers.
Hooke also points out some Near Eastern parallels, though they're rather tenuous. One is the Babylonian New Year Festival, in which after slaughtering a lamb, two priests smear blood on the walls of a shrine, "after which they are obliged to flee into the...desert until the Festival is over, because they are defiled by their ritual act." Instead of a lamb, though, the ancient Hebrews may have sacrificed a human, though this again seems far-fetched to me.
The ancient commentators, writing long afterward, would not have thought of this. Indeed, most, like Philo or Didymus or even Hellenistic Jewish writings, state or imply that Cain's offerings were rejected because Cain himself was evil, and thus warranted rejection. 
Some starting points for further research:
J. D. Frazer 1918. Folklore in the Old Testament: Studies in Comparative Religion, Legend, and Law. MacMillan & Co.
S. H. Hooke 1939. "Cain and Abel," in Folklore vol. 50 no. 1 pp. 58–65.
G. D. Hornblower 1944. "Cain and Abel: The Choice of Kind of Sacrifice," in Man vol. 44 pp. 45–46.
E. A. Speiser 1964. Genesis: Introduction, Translation, and Notes. Anchor Bible Commentary. Doubleday.
D. Bergant 1992. The Collegeville Bible Commentary: Old Testament. Liturgical Press.
J. Byron 2011. *Cain and Abel in Text and Tradition: Jewish and Christian Interpretations of the First Sibling Rivalry." Brill.

A:

It's not about fruits vs animals. If Abel worked the soil, his offering would have been favored. The key is that Abel gave the best of him - the firstborn. Cain did not.
Say, you are a father and you have two children. You love them both and know too well. You've seen them grow. One gives you the best of his. You will surely know that it's his best, because you've seen them so much, you know what they consider precious and what they don't like. Another gives you something he doesn't like. It's still okay because you love him, but if he pretends like it's his best, you won't be pleased, not because you don't love him, but because he's lying. The Cain and Abel case is similar to this.
Offering and the one who gives offering are not separated. If the offerer is defiled, the offering is defiled too. If the offerer is sanctified, the offering is too. Everything of you have impacts on the offering.
On Leviticus, God instructs how you make various offerings on various situation: 
When you offer fine flours as a gift to God (Lev 2): It must be 'fine' flours and it's not easy to grind fine flours especially in the old times. He also has to pour oil on it. And again, it's not easy to extract oil in the old times. If the offerer is with a thankful heart, he will do it with a joy and it won't be a chore to him.
And sin offering via animal sacrifices (Lev 4): the sacrificer puts his hands on the animal, and kills the animal by himself. It signifies that even though he should be dead because of his sin, but the animal is killed on behalf of him and his sin. He repents while doing so and it's accepted. If not, it's not an offering but a slaughter.
These knowledge are expressed throughout the whole Bible.
Also, the New Testament mentions Abel. Heb 11:4 says, 'By faith Abel offered unto God a more excellent sacrifice.'
And there are all kinds of faith in the same chapter: faith on God's very existence, his goodness, his joy, his love, his righteousness, his faithfulness, his vision, and his power.
It may look fuzzy, but it's really about having a personal relationship with God. God is not an object. If you have a healthy relationship with Father or Mother, how you are going to express your thankfulness to them? How about when you feel sorry? How about to your Husband or Wife? With God, you are having a relationship with the original one. God is our original as he created man in his image.
I recently became a father by myself, and now I understand this matter better. I thank God for all the blessing.
May god bless all of you, especially in need. Amen.

A:

I don't have enough reputation to comment on @C.M. Weimer's answer, so in lieu of that I will expand upon something he said and add a point of my own in the hopes that it's good enough to qualify as a new answer.
To quote Mr. Weimer:

Others have noted that it may preserve a tradition of backlash against the introduction of agriculture in the region. Abel's offerings would be the offerings of a semi-nomadic shepherd, while Cain's is indicative of a farmer.

This is what I've always believed. I was first exposed to this idea in a physical anthropology class in my freshman year, but I didn't register it until reading Ishmael by Daniel Quinn. Abel represents pastoralism and Cain is what Quinn calls totalitarian agriculture. Note that after being forced to wander, Cain went on to produce children like Enoch and Tubal-Cain who created astronomy, writing, architecture and metalworking. In this way, all of the traditions and practices we would commonly associate with civilization result from agriculture and ultimately from Cain. I think we can see parallels of the theme that conflict involving brothers leads to the beginning of civilization in the Proto-Indo-European divine hero twins * manu- (man) and * yemo- (twin) cf. Lat. Gemini, Skr. Yama. Like Romulus and Remus, Cain and Abel, or Ymir in Germanic myths - who was vivisected to constitute the world, the two brothers come to some critical moment and on the death of the twin the survivor (the elder brother) - or his progeny - goes on to found advanced societies.
Finally, I'd like to suggest an uncommon and somewhat apologist reading of the text in Genesis 4 whereby Cain is obeying God by killing Abel because the act essentially amounts to a sacrifice. The Lord looked favorably on Abel for his offering but unfavorably on Cain for his own. The Lord then tells Cain 'Do not just be angry. Do what is right (make an appropriate offering) and you(r sacrifice) will be accepted.' In Cain going on to sacrifice his brother, the 'sweetest of his bounty', I would argue we are seeing an early iteration of later stories, for example Abraham being asked to sacrifice his son, whereby the Lord is only satiated with the blood of his servants' beloveds. Looked at this way, Cain is the first killer but not the first murderer, and a conflicted character whose adherence to duty drives his hand.
Cheers!


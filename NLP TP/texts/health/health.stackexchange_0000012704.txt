Q:

Why do people smoke? Everyone knows it is unhealthy

Why do people smoke? Everyone knows it is unhealthy. There is an infinite number of scientific reports about this and yet, people continue to smoke (and start a new).

A:

Because when tobacco is smoked, nicotine causes physical and psychological dependency. You see, it acts on brain reward mechanisms, both indirectly (through endogenous opioid activity) and directly (through dopamine pathways). It actually extends the duration of positive effects of dopamine and increases the sensitivity of the brain's reward system to rewarding stimuli. It makes you to want more of it.
It is suggested that it is even more addictive than cocaine!
In addition, nicotine is unusual in comparison to most drugs, as its profile changes from stimulant to sedative with increasing dosages. That explains why people smoke even more when they are under stress.
I will not comment on why people start smoking in the first place. The reasons are numerous. Peer pressure is one of them.
References:

Easton, John (March 28, 2002). "Nicotine extends duration of pleasant effects of dopamine". The University of Chicago Chronicle. 21 (12).
Kenny PJ, Markou A (Jun 2006). "Nicotine self-administration acutely activates brain reward systems and induces a long-lasting increase in reward sensitivity". Neuropsychopharmacology. 31 (6): 1203–11. 
Nesbitt P (1969). Smoking, physiological arousal, and emotional response. Unpublished doctoral dissertation, Columbia University.
Parrott AC (January 1998). "Nesbitt's Paradox resolved? Stress and arousal modulation during cigarette smoking". Addiction. 93 (1): 27–39.
http://emedicine.medscape.com/article/287555-overview#a3
https://en.wikipedia.org/wiki/Nicotine


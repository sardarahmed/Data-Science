Q:

ROS Answers SE migration: Node crashes

Hi, ROS community. I need your help!
So I was trying to run the ira_laser_tools https://github.com/iralabdisco/ira_laser_tools package on my robot computer (kuka youbot with ubuntu 12.04 32-bit and HYDRO ROS) but it just keeps crashing. However on my PC (with ubuntu 12.04 64-bit and HYDRO ROS) it runs well and works as a part of my project.
When I compiled this package with catkin_make on the robot I noticed some warnings like:
/home/youbot/catkin_ws/src/ira_laser_tools-master/src/laserscan_multi_merger.cpp: In member function ‘void LaserscanMerger::laserscan_topic_parser()’:
/home/youbot/catkin_ws/src/ira_laser_tools-master/src/laserscan_multi_merger.cpp:113:13: warning: format ‘%ld’ expects argument of type ‘long int’, but argument 8 has type ‘std::vectorros::Subscriber::size_type {aka unsigned int}’ [-Wformat]
/home/youbot/catkin_ws/src/ira_laser_tools-master/src/laserscan_virtualizer.cpp: In member function ‘void LaserscanVirtualizer::virtual_laser_scan_parser()’:
/home/youbot/catkin_ws/src/ira_laser_tools-master/src/laserscan_virtualizer.cpp:109:13: warning: format ‘%ld’ expects argument of type ‘long int’, but argument 8 has type ‘std::vectorros::Publisher::size_type {aka unsigned int}’ [-Wformat]
Running just one laserscan_multi_merger node of this package gives me next error:
[laserscan_multi_merger-1] process has died [pid 16008, exit code -11, cmd /home/youbot/catkin_ws/devel/lib/ira_laser_tools/laserscan_multi_merger __name:=laserscan_multi_merger __log:=/home/youbot/.ros/log/6a789f88-6310-11e4-9d7c-000bab4510aa/laserscan_multi_merger-1.log].
log file: /home/youbot/.ros/log/6a789f88-6310-11e4-9d7c-000bab4510aa/laserscan_multi_merger-1*.log
all processes on machine have died, roslaunch will exit
shutting down processing monitor...
... shutting down processing monitor complete
done

ALSO THIS FILE IS NONEXISTENT: /home/youbot/.ros/log/6a789f88-6310-11e4-9d7c-000bab4510aa/laserscan_multi_merger-1.log. SO I CAN'T EVEN FIND THE LOG FILE TO DEBUG*
rosrun ira_laser_tools laserscan_multi_merger  gives me this:
laserscan_multi_merger: malloc.c:2451: sYSMALLOc: Assertion `(old_top == (((mbinptr) (((char *) &((av)->bins[((1) - 1) * 2])) - __builtin_offsetof (struct malloc_chunk, fd)))) && old_size == 0) || ((unsigned long) (old_size) >= (unsigned long)((((__builtin_offsetof (struct malloc_chunk, fd_nextsize))+((2 * (sizeof(size_t))) - 1)) & ~((2 * (sizeof(size_t))) - 1))) && ((old_top)->size & 0x1) && ((unsigned long)old_end & pagemask) == 0)' failed.
Aborted (core dumped)

Anyone know what the problem is?

Originally posted by kost9 on ROS Answers with karma: 97 on 2014-11-03
Post score: 0

A:

exit code -11 is a segmentation fault; This should not happen in a package if you didn't change any code and "just" used it (regardless "how" you used it)... I think you should report this as an issue on the github repo you mentioned (maybe add log files, complete output, exact launch command or whatever information you have that might help reproducing/resolving this )....

Originally posted by Wolf with karma: 7555 on 2014-11-03
This answer was ACCEPTED on the original site
Post score: 2


Q:

ERROR: rosrun rqt_tf_tree rqt_tf_tree

I was trying to visualize the tf tree of a running system using:

$ rosrun rqt_tf_tree rqt_tf_tree

but this came up:
PluginHandlerDirect._restore_settings() plugin "rqt_tf_tree/RosTfTree#0" raised an exception:
Traceback (most recent call last):
  File "/opt/ros/noetic/lib/python3/dist-packages/qt_gui/plugin_handler_direct.py", line 121, in _restore_settings
    self._plugin.restore_settings(plugin_settings_plugin, instance_settings_plugin)
  File "/opt/ros/noetic/lib/python3/dist-packages/rqt_tf_tree/tf_tree.py", line 131, in restore_settings
    self._refresh_tf_graph()
  File "/opt/ros/noetic/lib/python3/dist-packages/rqt_tf_tree/tf_tree.py", line 143, in _refresh_tf_graph
    self._update_graph_view(self._generate_dotcode())
  File "/opt/ros/noetic/lib/python3/dist-packages/rqt_tf_tree/tf_tree.py", line 150, in _generate_dotcode
    return self.dotcode_generator.generate_dotcode(dotcode_factory=self.dotcode_factory,
  File "/opt/ros/noetic/lib/python3/dist-packages/rqt_tf_tree/dotcode_tf.py", line 96, in generate_dotcode
    data = yaml_parser.load(yaml_data)
TypeError: load() missing 1 required positional argument: 'Loader'

I'm using ROS Noetic in Ubuntu 20.04. I didn't meet this error in previous Ubuntu 18.04 version. Can anyone help me out with this?

Originally posted by Kevin1719 on ROS Answers with karma: 58 on 2021-11-07
Post score: 0

Original comments
Comment by osilva on 2021-11-07:
There is a prior answer but not with Noetic but pls check just to discard the possibility: https://answers.ros.org/question/292659/rqt_tf_tree-error/
Comment by Kevin1719 on 2021-11-08:
Thanks a lot for your reply. I could still run the command normally last time, but when I reinstall my ubuntu 20.04 with Noetic, I met this error. I think it's because something was missing that I need to install?
Comment by osilva on 2021-11-08:
I believe you are right about missing something in the new install. It may be with dot
Try sudo dot -c
Comment by Kevin1719 on 2021-11-09:
Not working. I have tried to reinstall ROS but nothing changed.

A:

I have solved the problem by reinstall pyyaml:
$ sudo pip uninstall pyyaml
$ pip install pyyaml

Originally posted by Kevin1719 with karma: 58 on 2021-11-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by sillymanTony on 2022-02-01:
This helped. Lovely, Thank you


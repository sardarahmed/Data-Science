Q:

How do I get the angle in radians (0 to 2pi) from a quaternion?

I'm trying to get the angle of a position model in Stage in radians from the Odometry message published to the "odom" topic.
This is how I've done it:
theta = 2 * asin(msg.pose.pose.orientation.z);

This sort of works in getting the angle in radians, but whenever the angle is below the x axis it gives me a negative angle.
Is there anyway of getting the angle in radians going from 0 to 2pi, starting from the positive x axis going anti-clockwise?
Thanks.

Originally posted by Clefairy on ROS Answers with karma: 11 on 2012-08-14
Post score: 0

A:

Look in the angles package. There is a header with functions that normalize the radian. I think there is also one for [0, 2 Pi).
For getting yaw of a quaternion, there should be a function in tf that does this for you.

Originally posted by dornhege with karma: 31395 on 2012-08-14
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Eric Perko on 2012-08-14:
You are looking for the tf::getYaw function: http://ros.org/doc/fuerte/api/tf/html/c++/namespacetf.html#a33e93f413622e296d0a2a93b252bbb4b


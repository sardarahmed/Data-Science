Q:

ROS Answers SE migration: ros_release

Hi,
I try to build a stack using the stack ros_release. When I build packages with electric everything works fine. However, when I try to run it with fuerte or groovy an error occurs:
Global exception caught.
this program assumes that ros is in your variant. Check the console output for test failure details.
Traceback (most recent call last):
  File "/home/user/workspace_jenktool/jenkins_scripts/analyze.py", line 106, in analyze
    rosdistro_obj = rosdistro.Distro(get_rosdistro_file(ros_distro))
  File "/home/user/groovy_workspace/ros_release/rosdistro/src/rosdistro.py", line 444, in __init__
    raise DistroException("this program assumes that ros is in your variant")
DistroException: this program assumes that ros is in your variant

That programm assumes that ros is part of the variants in the distro file, but it isn't. I checked the versions of the stack ros_release in the ros-wiki and it is just available for electric, but not for fuerte/groovy. However, there are different branches in the repo (e.g. fuerte, fuerte_new, groovy, groovy_new) and I am a little bit confused about that.
What stack/tool do I have to use when I want to build a non-catkin-stack with fuerte or groovy. The jenkins_tool is just for catkin-based package, isn't it?
Anyone know?
Cheers,
Johannes
EDIT:
It is not my purpose to do a release or anything. My purpose is to build existing stacks only. Under this link (http://www.ros.org/wiki/release/Releasing/fuerte) you will find following part:

Pre-release: Run a Hudson on-demand build to make sure that your stack
builds! While it is acceptable to
release a stack that does not work on
all distributions and architectures
that are supported by Willow Garage,
your stack will be much more useful to
the community when it works on all
supported platforms.
For alternate ways of running the pre-release, see job_generation

When I use the package job_generation I am able to build a package with electric, but neither with fuerte nor groovy and it ends up with the error above. So I assume that the scripts for the pre-release are not the same for electric and fuerte/groovy, because the webinterface works apparently.

Originally posted by JohannesK on ROS Answers with karma: 38 on 2013-01-09
Post score: 0

A:

The procedure for rosbuild based packages for fuerte and groovy are exactly the same as electric.
You need to add entries in fuerte.rosdistro make sure all the elements of the setup are completed before you do the release.

Originally posted by tfoote with karma: 58457 on 2013-01-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by JohannesK on 2013-01-11:
I edit my question above to get a better understanding of what am I doing!
Comment by tfoote on 2013-01-11:
What stack are you running?  Is it in the distro file? What commands are you running exactly?
Comment by JohannesK on 2013-01-12:
I use a modified version of the script "run_auto_stack_prerelease.py" with stacks located in the appropriate *.rosdistro file only. Okay, when you're using the same (original) scripts the mistake should be caused from somewhere else, may be in the modified version of the script. Thanks for help!
Comment by JohannesK on 2013-01-23:
I found the problem. For fuerte/groovy you should use the python module "ros-job-generation" instead of the package "job_generation" in the stack ros_release. The "name" of the scripts are the same in both packages though.


Q:

Cmake Error 'catkin' must be listed as a buildtool dependency in package.xml

Hello all,
I am currently doing the ROS tutorial (I am on the 'writing a simple publisher and subscriber in C++). When I enter the 'catkin_make' command into the terminal, I first got the add_message_files() directory not found error. To fix this I went into the CMakeLists.txt file and commented out the add_message_file(), add_service_file() and so on. This got rid of that error, however, I am now getting this error when running 'catkin_make':
"Cmake Error at /opt/ros/groovy/share/catkin/cmake/catkin_package.cmake:92(message): catkin_package() 'catkin' must be listed as a buildtool dependency in the package.xml"
However, catkin is specified as a buildtool dependency in my package.xml. How can I fix this?
I am running ROS Groovy on top of Ubuntu 12.04 in a VirtualBox instance.
Thank you!
EDIT: Here is my package.xml file:
<package>
  <name>beginner_tutorials</name>
  <version>0.0.0</version>
  <description>The beginner_tutorials package</description>

  <maintainer email="viki@todo.todo">viki</maintainer>

  <license>TODO</license>

  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>roscpp</build_depend>
  <build_depend>rospy</build_depend>
  <build_depend>std_msgs</build_depend>
  <run_depend>roscpp</run_depend>
  <run_depend>rospy</run_depend>
  <run_depend>std_msgs</run_depend>

  <export>

  </export>
</package>

Originally posted by Dapake on ROS Answers with karma: 1 on 2014-01-28
Post score: 0

Original comments
Comment by Djajus on 2020-04-26:
hello there.
then how you fix that error? i got same problem that "Cmake Error 'catkin' must be listed as a buildtool dependency in package.xml"
sorry for my question.

A:

Add the line:
  <buildtool_depend>catkin</buildtool_depend>

to your package.xml ...

Originally posted by Wolf with karma: 7555 on 2014-01-28
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Dapake on 2014-01-29:
Thank you for the reply, but this line is already added in my package.xml, which is why I am so confused.
Comment by Dirk Thomas on 2014-01-29:
You should post your package.xml file in your question.
Comment by Dapake on 2014-01-29:
Post has been edited to include the package.xml
Comment by Dirk Thomas on 2014-01-29:
With that package.xml file you should not get the error message. Can you please post further information? E.g. CMakeLists.txt and the command sequence you use. You could also push your code to a temporary GitHub repo to share everything - that would make it much easier to see the big picture.
Comment by Dapake on 2014-01-29:
I just made a Github repo containing my package.xml and CMakeLists.txt files:https://github.com/dkelly67/ROS_Code
My command line input is just "catkin_make" in the ~/catkin_ws directory
Comment by Dirk Thomas on 2014-01-29:
I just cloned it and ran cmake on it and the error message is different for me: CMake Error at /opt/ros/hydro/share/catkin/cmake/catkin_package.cmake:289 (message):
catkin_package() include dir 'include' is neither an absolute directory nor
exists relative to '/tmp/ROS_Code'
Comment by Dirk Thomas on 2014-01-29:
The reason for that is that catkin_package(INCLUDE_DIRS include) is declared but your package does not have an include folder.
Comment by Dapake on 2014-01-29:
Ahh I see! Ok I just fixed that error. Now, for some reason it cannot find my listener.cpp file, but the listener file is in the correct directory.
Also, thank you very much for the help by the way. Im new to ROS but Im using it for a university design team


Q:

ROS2 Launch - How to Concatenate LaunchConfiguration with String

Is there a preferred way to concatenate a LaunchConfiguration with a string (e.g. a file extension, prefix, or suffix) that can be used in a similar way to PathJoinSubstitution?
e.g. given:
DeclareLaunchArgument('my_robot', default_value='my_robot_name')

a path could be made to my_robot using:
PathJoinSubstitution(['path', 'to', LaunchConfiguration('my_robot')])

which would evaluate as:
/path/to/my_robot_name

But what if I want to create a path to my_robot_name.config? Is there an equivalent way to combine strings and LaunchConfigurations?
As a workaround, I've used Command or PythonExpression substitutions, e.g.:
Command(['echo -n ', LaunchConfiguration('robot_name'), '.config'])  # or
PythonExpression(["'", LaunchConfiguration('robot_name'), ".config'"])

But I think it would be great if there was a cleaner, more readable alternative that I've completely overlooked.

Originally posted by shonigmann on ROS Answers with karma: 1567 on 2021-08-19
Post score: 4

A:

@Fetullah Atas' answer got me most of the way there. Moving my comment to an answer to hopefully improve visibility. As a potential correction to his example, using a secondary launch argument that references the first is one possible workaround.
Example:
joy_config = LaunchConfiguration('joy_config')
joy_config_dec= DeclareLaunchArgument('joy_config', default_value='ps3')
final_string_dec= DeclareLaunchArgument('final_string', default_value=[LaunchConfiguration('joy_config'), '.config.yaml'])

Which would result in LaunchConfiguration('final_string') evaluating to: "ps3.config.yaml".
I'd be surprised if there wasn't a more direct solution since this question was originally asked.

Originally posted by shonigmann with karma: 1567 on 2023-08-08
This answer was ACCEPTED on the original site
Post score: 0


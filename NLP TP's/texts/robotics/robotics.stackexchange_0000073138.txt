Q:

Slam_gmapping stop at Registering First Scan

Hi all,
I am study using Slam_gmapping.
I ran roscore, stage_ros first. These are the list of topic:
ubuntu@tegra-ubuntu:~$ rostopic list
/base_pose_ground_truth
/base_scan
/clock
/cmd_vel
/odom
/rosout
/rosout_agg
/tf

Then I run gmapping and it stop at Registering First Scan
ubuntu@tegra-ubuntu:~$ rosrun gmapping slam_gmapping scan:=base_scan
[ INFO] [1459395266.430914447, 120.700000000]: Laser is mounted upwards.
 -maxUrange 29.99 -maxUrange 29.99 -sigma     0.05 -kernelSize 1 -lstep 0.05 -lobsGain 3 -astep 0.05
 -srr 0.1 -srt 0.2 -str 0.1 -stt 0.2
 -linearUpdate 1 -angularUpdate 0.5 -resampleThreshold 0.5
 -xmin -100 -xmax 100 -ymin -100 -ymax 100 -delta 0.05 -particles 30
[ INFO] [1459395266.459964049, 120.700000000]: Initialization complete
update frame 0
update ld=0 ad=0
Laser Pose= 0.05 0 0
m_count 0
Registering First Scan

I also tried with tutorial in this link but I still have same problem
http://wiki.ros.org/slam_gmapping/Tutorials/MappingFromLoggedData#record
Please let me know if I missed anything? Or any suggestion the method to track the problem are welcome.
I run ROS on Jetson TX1
Edit 1
I have just attached the tf tree and below is some info from base-scan

 header: 
      seq: 259
      stamp: 
        secs: 26
        nsecs: 0
      frame_id: base_laser_link
    angle_min: -2.35837626457
    angle_max: 2.35837626457
    angle_increment: 0.00436736317351
    time_increment: 0.0
    scan_time: 0.0
    range_min: 0.0
    range_max: 30.0
    ranges: [2.454775333404541, 2.446903944015503, 2.4644339084625244, ...
    intensities: [1.0, 1.0, 1.0, 1.0, 1.0, ...

Edit 2:
rqt_graph 

Originally posted by Thang Nguyen on ROS Answers with karma: 93 on 2016-03-30
Post score: 0

Original comments
Comment by MarkyMark2012 on 2016-04-01:
If you run rostopic echo /base_scan do you get any output?
Also what does your TF tree look like?
Mark
Comment by Thang Nguyen on 2016-04-01:
Mark, Thanks for your help. I have just edited my question to included header of /base-scan and tf tree screen shot.
Comment by Myzhar on 2016-04-02:
Can you post the rqtgraph result? Just to understand if every msg is connected in the right way
Comment by Thang Nguyen on 2016-04-02:
Walter, I added the rqt_graph pics. Thank you.
Comment by spmaniato on 2016-04-03:
Is the robot moving? slam_gmapping has two parameters (linearUpdate, angularUpdate) that determine how much the robot has to translate or rotate before the algorithm executes another iteration.
Comment by Thang Nguyen on 2016-04-04:
spmaniato: You answered my question. When I saw it hang at Registering First Scan, I didn't try to continue moving the robot by keyboard. But when I try it, after a delay, the gmapping start process with status update. Could you please changed this to answer so I can accept. Thank you very much.
Comment by Thang Nguyen on 2016-04-04:
spmaniato: You answered my question. When I saw it hang at Registering First Scan, I didn't try to continue moving the robot by keyboard. But when I try it, after a delay, the gmapping start process with status update. Could you please changed this to answer so I can accept? Thank you very much.
Comment by spmaniato on 2016-04-04:
Awesome! I posted a complete answer.

A:

Is the robot moving in Stage? slam_gmapping has two parameters (linearUpdate, angularUpdate) that determine how much the robot has to translate or rotate before the algorithm executes another iteration (see http://wiki.ros.org/gmapping)
So you can drive the robot around and/or set those parameters to 0.0 in order to trigger the SLAM process.
rosrun gmapping slam_gmapping scan:=base_scan _linearUpdate:=0.0 _angularUpdate:=0.0

Originally posted by spmaniato with karma: 1788 on 2016-04-04
This answer was ACCEPTED on the original site
Post score: 2


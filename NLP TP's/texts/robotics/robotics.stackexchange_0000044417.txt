Q:

Get gmapping robot pose estimation

I'm using gmapping with laser and odometry to perform SLAM. How can I visualize in rviz the estimated robot path? And how can I get the x and y values for each pose?
Thanks

Originally posted by Antonio on ROS Answers with karma: 53 on 2012-09-26
Post score: 1

A:

Gmapping does not publish the pose of the robot as a pose per se (within a topic), but as a transform from 'map' to 'odom'.
In order to get the pose of the robot in the map that is built you have to get the current odometry of the robot (read your odometry topic) and then ask for the transform of that odometry (that is in 'odom' frame) to the 'map' frame. The result will be a pose in 'map' frame (the coordiantes of the robot in the map)
Then, in order to visualize the robot path through the map being built you have to create a node that asks periodically for that transform, store it in some place, and publish all the stored points as a path in a given topic (you decide the name).
Key point here is to understand the difference between 'tf transform' and 'topic'. Gmapping publishes a topic named '/map' which contains the current map, but it also publishes the tf transform 'map' (to 'odom').

Originally posted by Ricardo Tellez with karma: 114 on 2012-09-26
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by zkytony on 2017-01-22:
shouldn't the actual pose of the robot be from map to base_link?
Comment by zkytony on 2017-01-26:
There is another potential problem. Getting the path in the way you described may suffer from loop closure or other adjustment of the map, which makes previously obtained poses invalid. Do you know a way to get the gmapping's current estimate of the trajectory?
Comment by roberto3 on 2018-02-20:
Sorry but I do not understand so much, do you know how I can get  a pose with covariance stamped from gmapping???
Comment by Zuhair95 on 2022-08-17:
What about using the server of hector trjaectory ?.


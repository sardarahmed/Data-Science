Q:

Can not load /cmd_vel_mux nodelet

Hello everyone!
I am having the following issue. Previously I was able to successfully launch my environment with this piece in ros kinetic. However, I decided to move to Melodic and faced the following issue:
[ERROR] [1579875584.657874880, 0.034000000]: Failed to load nodelet [/cmd_vel_mux] of type [yocs_cmd_vel_mux/CmdVelMuxNodelet] even after refreshing the cache: According to the loaded plugin descriptions the class yocs_cmd_vel_mux/CmdVelMuxNodelet with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/crop_foremost depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyz_radial depth_image_proc/point_cloud_xyzi depth_image_proc/point_cloud_xyzi_radial depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_proc/crop_decimate image_proc/crop_nonZero image_proc/crop_non_zero image_proc/debayer image_proc/rectify image_proc/resize image_publisher/image_publisher image_rotate/image_rotate image_view/disparity image_view/image laser_proc/LaserProcNodelet nodelet_tutorial_math/Plus pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/CropBox pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/RadiusOutlierRemoval pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SHOTEstimation pcl/SHOTEstimationOMP pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/VFHEstimation pcl/VoxelGrid stereo_image_proc/disparity stereo_image_proc/point_cloud2

[ERROR] [1579875584.657967891, 0.034000000]: The error before refreshing the cache was: According to the loaded plugin descriptions the class yocs_cmd_vel_mux/CmdVelMuxNodelet with base class type nodelet::Nodelet does not exist. Declared types are  depth_image_proc/convert_metric depth_image_proc/crop_foremost depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyz_radial depth_image_proc/point_cloud_xyzi depth_image_proc/point_cloud_xyzi_radial depth_image_proc/point_cloud_xyzrgb depth_image_proc/register image_proc/crop_decimate image_proc/crop_nonZero image_proc/crop_non_zero image_proc/debayer image_proc/rectify image_proc/resize image_publisher/image_publisher image_rotate/image_rotate image_view/disparity image_view/image laser_proc/LaserProcNodelet nodelet_tutorial_math/Plus pcl/BAGReader pcl/BoundaryEstimation pcl/ConvexHull2D pcl/CropBox pcl/EuclideanClusterExtraction pcl/ExtractIndices pcl/ExtractPolygonalPrismData pcl/FPFHEstimation pcl/FPFHEstimationOMP pcl/MomentInvariantsEstimation pcl/MovingLeastSquares pcl/NodeletDEMUX pcl/NodeletMUX pcl/NormalEstimation pcl/NormalEstimationOMP pcl/NormalEstimationTBB pcl/PCDReader pcl/PCDWriter pcl/PFHEstimation pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/PrincipalCurvaturesEstimation pcl/ProjectInliers pcl/RadiusOutlierRemoval pcl/SACSegmentation pcl/SACSegmentationFromNormals pcl/SHOTEstimation pcl/SHOTEstimationOMP pcl/SegmentDifferences pcl/StatisticalOutlierRemoval pcl/VFHEstimation pcl/VoxelGrid stereo_image_proc/disparity stereo_image_proc/point_cloud2

[FATAL] [1579875584.658141652, 0.034000000]: Failed to load nodelet '/cmd_vel_mux` of type `yocs_cmd_vel_mux/CmdVelMuxNodelet` to manager `nodelet_manager' [cmd_vel_mux-8] process has died [pid 21968, exit code 255, cmd /opt/ros/melodic/lib/nodelet/nodelet load yocs_cmd_vel_mux/CmdVelMuxNodelet nodelet_manager /cmd_vel_mux/output/cmd_vel:=/amazon_warehouse_robot/cmd_vel __name:=cmd_vel_mux __log:=/home/robot/Desktop/workspace/Academy/exercises/amazon_warehouse/launch/log/8f0f16ee-3eb4-11ea-ad8f-08979875d07a/cmd_vel_mux-8.log]. log file: /home/robot/Desktop/workspace/Academy/exercises/amazon_warehouse/launch/log/8f0f16ee-3eb4-11ea-ad8f-08979875d07a/cmd_vel_mux-8*.log

My roslaunch contains following code for  launching:
  <node pkg="nodelet" type="nodelet" name="nodelet_manager" args="manager"/>
  <node pkg="nodelet" type="nodelet" name="cmd_vel_mux" args="load yocs_cmd_vel_mux/CmdVelMuxNodelet nodelet_manager">
    <remap from="/cmd_vel_mux/output/cmd_vel"           to="/amazon_warehouse_robot/cmd_vel" />
    <param name="yaml_cfg_file" value="./config/mux_params.yaml"/>
  </node>

I am not able to understand the issue from error messages. Is the problem with this approach of launching cmd_vel_mux or is it something related to the ROS version?
Any help is deeply appreciated!

Originally posted by kurshakuz on ROS Answers with karma: 76 on 2020-01-24
Post score: 0

A:

Do you have the yocs_cmd_vel_mux package installed? What is the output of dpkg -l | grep yocs?

Originally posted by gvdhoorn with karma: 86574 on 2020-01-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by kurshakuz on 2020-01-25:
@gvdhoorn, oh yeah, right! I don't understand how I missed that, thanks!
Comment by Hedwin on 2023-06-02:
is it possible to install yocs_cmd_vel_mux for noetic ? If not, not to make it work with noetic ?


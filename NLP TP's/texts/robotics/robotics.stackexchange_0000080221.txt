Q:

How to use SoundRequestFeedback to tell if a sound is being played or not?

I am trying to reference the .playing function in SoundRequestFeedback.h(link to file) to allow my system to finish speaking before executing the rest of the code but I can't seem to figure out how to properly do that.
In my header file I declared sound_play::SoundRequestFeedback_<ContainerAllocator> v and proceeded to try and do
ROS_INFO("%d", v.playing); // prints False<->0 
sound_play::SoundClient.say("This is a test message"); //Says "This is a test message"
while(v.playing){}
    //stays in a loop while the system is saying the message
ROS_INFO("%d", v.playing); // also prints False, but does so while the system is still saying the message.

so v.playing always returns 0 and I don't know why. Does anyone know why ?

Originally posted by Azul on ROS Answers with karma: 1 on 2017-04-15
Post score: 0

Original comments
Comment by NEngelhard on 2017-04-16:
Could you link to the files that you are referring to?
Comment by Azul on 2017-04-16:
Yes, I edited the question.

A:

I don't think this is possible as the sound_play::Soundclient only publishes requests but does not listen for any feedback.
I also don't understand your code. How is your feedback-object linked to the Soundclient? Does this piece of code even compile? (and btw: .playing is not a function)
You could run the soundplay_node in sound_play. This nodes offers an SoundRequest-ActionServer to which you can send your goal and wait for the result. In my experiements, the result-message came around 2 seconds after the sound really finished, but you could check that with your setup.

Originally posted by NEngelhard with karma: 3519 on 2017-04-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Azul on 2017-04-18:
Hi, the piece of code compiled and it always returned 0. Could you provide the code example from your experiments ? I looked at the tutorials on ros.wiki but I'm not quite sure how to apply it to my case


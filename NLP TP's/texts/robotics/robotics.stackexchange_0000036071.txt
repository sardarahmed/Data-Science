Q:

How to run rviz with OGRE_RTT_MODE set to "Copy" or "FBO"

I'm having a "Segmentation fault" problem when trying to run rviz on ros-electric on Ubuntu 10.04, as described in other posts, too. I'll quote what the program's output is for completeness (I'm not on a virtual machine, as here:
user@comp:~$ rosrun rviz rviz 
[ INFO] [1322588816.011412205]: rviz revision number 1.6.7
[ INFO] [1322588816.011513335]: ogre_tools revision number 1.6.2
[ INFO] [1322588816.011530446]: compiled against OGRE version 1.7.3 (Cthugha)
[ INFO] [1322588816.289107972]: Loading general config from [/home/user/.rviz/config]
[ INFO] [1322588816.289233896]: Loading display config from [/home/user/.rviz/display_config]
[ INFO] [1322588816.301575130]: RTT Preferred Mode is PBuffer.
The program 'rviz' received an X Window System error.
This probably reflects a bug in the program.
The error was 'BadDrawable (invalid Pixmap or Window parameter)'.
  (Details: serial 22 error_code 9 request_code 136 minor_code 3)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)

I was just reading http://www.ros.org/wiki/rviz/Troubleshooting -> 3.4. It says one could try running rviz with OGRE_RTT_MODE set to "Copy" or "FBO", instead of the default "PBuffer", but I don't know how. I've already tried everything else I could find on ROS answers. glxinfo | grep version returns (checked it against what rviz was compiled against, looks ok):
server glx version string: 1.2
client glx version string: 1.4
GLX version: 1.2
OpenGL version string: 2.1 Mesa 7.7.1
OpenGL shading language version string: 1.20

Any other clues?

Originally posted by tom on ROS Answers with karma: 1079 on 2011-11-29
Post score: 1

A:

Check out my answer to the similar question here.  This will show you how to test the different OGRE_RTT_MODE values and then add the one that works for you to your .bashrc file.
Also, I often find that I will get the same error you do on the first or second launch of RViz on any given occasion, but if I just keep trying, it usually comes up by the third attempt.
--patrick

Originally posted by Pi Robot with karma: 4046 on 2011-12-02
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by tom on 2011-12-04:
Thanks, didn't find it before.


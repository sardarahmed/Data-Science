Q:

Trouble building Ogre on OSX Snow Leopard

I'm having trouble building ogre (and therefore rviz) with ROS Electric on OSX Snow Leopard (10.6.8) with Homebrew. I've followed the ROS on OSX directions at http://www.ros.org/wiki/electric/Installation/OSX/Homebrew
I have checked out the visualization_common-1.6.2 tag of visualization_common, as that seems to be the current version supported with electric.
I get this error when building, followed by a bunch of "FOO has not been declared" that I assume come from this missing header.
In file included from /Users/hendrix/ros/visualization_common/ogre/build/ogre_src_v1-7-3/PlugIns/CgProgramManager/include/OgreCgFxScriptLoader.h:35,
                 from /Users/hendrix/ros/visualization_common/ogre/build/ogre_src_v1-7-3/PlugIns/CgProgramManager/src/OgreCgFxScriptLoader.cpp:29:
/Users/hendrix/ros/visualization_common/ogre/build/ogre_src_v1-7-3/PlugIns/CgProgramManager/include/OgreCgPrerequisites.h:32:19: error: Cg/cg.h: No such file or directory

And eventually, the usual:
make[1]: *** [installed_osx] Error 1
BUILD FAILED: Plugin_CgProgramManager.dylib not created.   Is nvidia-cg-toolkit installed correctly?
make: *** [ogre] Error 1

rosdep install ogre claims that it has successfully installed the nvidia-cg-toolkit.
sudo find / -iname cg.h only finds:
/Library/Frameworks/Cg.framework/Versions/1.0/Headers/cg.h
Does anyone know if the newer versions of visualization_common (for Fuerte) are compatible with ROS Electric, and if they will solve this error?

Originally posted by ahendrix on ROS Answers with karma: 47576 on 2012-02-16
Post score: 4

A:

As it turns out, the ogre build scripts weren't able to find the Cg framework during the build process.
The Cg installer put Cg.framework in /Library/Frameworks, but the orge build was looking in /Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks
I fixed this by creating a symlink in /Developer/SDKs/MacOSX10.6.sdk/Library/Frameworks to /Library/Frameworks/Cg.framework

Originally posted by ahendrix with karma: 47576 on 2012-02-16
This answer was ACCEPTED on the original site
Post score: 1


Q:

How do I use pcl_to_scan to convert PointCloud into LaserScan?

Hello,
I need to use PointCloud library and convert the point cloud information into LaserScan so that it acts as  laser scanner. I found pcl_to_scan (google it) package, But don't know how to use it? Can anybody explain to me its usage? Any answers will be much appreciated.

Originally posted by mozcelikors on ROS Answers with karma: 181 on 2013-07-24
Post score: 1

Original comments
Comment by Hemu on 2013-07-24:
Please mention your ros distro.
Comment by mozcelikors on 2013-07-31:
Sorry about that. I'm using groovy

A:

There is another package pointcloud_to_laserscan which converts the 3D point cloud data to 2D laser scan data. It is in the turtlebot stack which can be installed using the following command (for fuerte and groovy):
sudo apt-get install ros--turtlebot
Then create a launch file as follows:
    <launch>
  <!-- kinect nodes -->
  <include file="$(find openni_launch)/launch/openni.launch"/>

  <!-- openni_manager -->
  <node pkg="nodelet" type="nodelet" name="openni_manager" output="screen" respawn="true" args="manager"/>

  <!-- throttling -->
  <node pkg="nodelet" type="nodelet" name="pointcloud_throttle" args="load pointcloud_to_laserscan/CloudThrottle openni_manager">
    <param name="max_rate" value="2"/>
    <remap from="cloud_in" to="/camera/depth/points"/>
    <remap from="cloud_out" to="cloud_throttled"/>
  </node>

  <!-- fake laser -->
  <node pkg="nodelet" type="nodelet" name="kinect_laser" args="load pointcloud_to_laserscan/CloudToScan openni_manager">
  <!--Setting the parameters for obtaining scan data within desired ranges-->
    <param name="max_height" value="0.30"/>
    <param name="min_height" value="-0.15"/>
    <param name="angle_min" value="-0.5233"/>
    <param name="angle_max" value="0.5233"/>
    <param name="range_min" value="0.50"/>
    <param name="range_max" value="6.0"/>
    <param name="output_frame_id" value="/camera_depth_frame"/>
    <remap from="cloud" to="cloud_throttled"/>
  </node>

The laser scan data is a linear array and is published as the topic /scan.

Originally posted by Hemu with karma: 156 on 2013-07-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by mozcelikors on 2013-07-31:
I'm trying that, but I use a model with kinect, there is no openni yet. So, I need to manipulate this in order to use with the model with kinect. First thing that has came to mind was to disabling openni_manager, but that didn't work. Can you help me?
Comment by mozcelikors on 2013-08-01:
Please refer to my new question: /70360/using-pcl_to_scan-without-openni-to-convert-pointcloud-into-laserscan/
Comment by mozcelikors on 2013-08-23:
Nevertheless, close enough.


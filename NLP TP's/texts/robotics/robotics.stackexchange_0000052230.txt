Q:

P2OS Binary debian Failing

Still having trouble building the debian files... Does anyone see the issue for this round? This is the build of the binary deb. The Source deb builds fine.
[...truncated 779 lines...]
Setting up libboost-mpi-python1.46-dev (1.46.1-5ubuntu3) ...
Setting up libboost-program-options1.46.1 (1.46.1-5ubuntu2) ...
Setting up libboost-program-options1.46-dev (1.46.1-5ubuntu2) ...
Setting up libpython2.7 (2.7.2-5ubuntu1.1) ...
Setting up python2.7-dev (2.7.2-5ubuntu1.1) ...
Setting up python-dev (2.7.2-7ubuntu2) ...
Setting up libboost-python1.46-dev (1.46.1-5ubuntu2) ...
Setting up libboost-random1.46.1 (1.46.1-5ubuntu2) ...
Setting up libboost-random1.46-dev (1.46.1-5ubuntu2) ...
Setting up libboost-signals1.46.1 (1.46.1-5ubuntu2) ...
Setting up libboost-signals1.46-dev (1.46.1-5ubuntu2) ...
Setting up libboost-thread1.46.1 (1.46.1-5ubuntu2) ...
Setting up libboost-thread1.46-dev (1.46.1-5ubuntu2) ...
Setting up libboost-wave1.46.1 (1.46.1-5ubuntu2) ...
Setting up libboost-wave1.46-dev (1.46.1-5ubuntu2) ...
Setting up libboost1.46-all-dev (1.46.1-5ubuntu3) ...
Setting up libgtest-dev (1.6.0-1) ...
Setting up liblog4cxx10 (0.10.0-1.2ubuntu1) ...
Setting up liblog4cxx10-dev (0.10.0-1.2ubuntu1) ...
Setting up python-argparse (1.1-1ubuntu1) ...
Setting up python-support (1.0.13ubuntu1) ...
Setting up python-catkin-pkg (0.1.15-1) ...
Setting up python-empy (3.3-6ubuntu1) ...
Setting up python-pkg-resources (0.6.16-1ubuntu0.1) ...
Setting up python-nose (1.0.0-1ubuntu1) ...
Setting up ros-groovy-genmsg (0.4.20-0oneiric-20130619-0919-+0000) ...
Setting up ros-groovy-genlisp (0.4.10-0oneiric-20130619-0941-+0000) ...
Setting up ros-groovy-genpy (0.4.12-0oneiric-20130619-0940-+0000) ...
Setting up ros-groovy-gencpp (0.4.13-0oneiric-20130619-0940-+0000) ...
Setting up ros-groovy-message-generation (0.2.9-0oneiric-20130619-0954-+0000) ...
Setting up ros-groovy-cpp-common (0.3.15-0oneiric-20130607-1648-+0000) ...
Setting up ros-groovy-rostime (0.3.15-0oneiric-20130607-1703-+0000) ...
Setting up ros-groovy-roscpp-traits (0.3.15-0oneiric-20130607-1714-+0000) ...
Setting up ros-groovy-roscpp-serialization (0.3.15-0oneiric-20130607-1724-+0000) ...
Setting up ros-groovy-message-runtime (0.4.11-0oneiric-20130619-0954-+0000) ...
Setting up ros-groovy-std-msgs (0.5.7-0oneiric-20130619-1008-+0000) ...
Setting up ros-groovy-actionlib-msgs (1.9.16-0oneiric-20130619-1037-+0000) ...
Setting up ros-groovy-catkin (0.5.67-0oneiric-20130619-0909-+0000) ...
Setting up ros-groovy-geometry-msgs (1.9.16-0oneiric-20130619-1037-+0000) ...
Setting up ros-groovy-rosconsole (1.9.46-0oneiric-20130619-0954-+0000) ...
Setting up ros-groovy-rosgraph-msgs (1.9.46-0oneiric-20130619-1036-+0000) ...
Setting up ros-groovy-xmlrpcpp (1.9.46-0oneiric-20130619-0921-+0000) ...
Setting up ros-groovy-roscpp (1.9.46-0oneiric-20130619-1217-+0000) ...
Setting up ros-groovy-message-filters (1.9.46-0oneiric-20130619-1617-+0000) ...
Setting up ros-groovy-nav-msgs (1.9.16-0oneiric-20130619-1225-+0000) ...
Setting up ros-groovy-sensor-msgs (1.9.16-0oneiric-20130619-1226-+0000) ...
Setting up ros-groovy-tf (1.9.29-0oneiric-20130619-1702-+0000) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
Processing triggers for python-support ...
Reading package lists...
Building dependency tree...
Reading state information...
Reading extended state information...
Initializing package states...
Writing extended state information...
 -> Finished parsing the build-deps
Reading package lists...
Building dependency tree...
Reading state information...
fakeroot is already the newest version.
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
I: Copying back the cached apt archive contents
I: Copying source file
I: copying [ros-groovy-p2os-driver_1.0.0-2oneiric.dsc]
I: copying [./ros-groovy-p2os-driver_1.0.0.orig.tar.gz]
I: copying [./ros-groovy-p2os-driver_1.0.0-2oneiric.debian.tar.gz]
I: Extracting source
dpkg-source: warning: extracting unsigned source package (ros-groovy-p2os-driver_1.0.0-2oneiric.dsc)
dpkg-source: info: extracting ros-groovy-p2os-driver in ros-groovy-p2os-driver-1.0.0
dpkg-source: info: unpacking ros-groovy-p2os-driver_1.0.0.orig.tar.gz
dpkg-source: info: unpacking ros-groovy-p2os-driver_1.0.0-2oneiric.debian.tar.gz
I: Building the package
I: user script /var/cache/pbuilder/build//28328/tmp/hooks/A50stamp starting
++ env
+ echo TERM=unknown SHELL=/bin/bash LC_ALL=C PBCURRENTCOMMANDLINEOPERATION=--build USER=root SUDO_USER=rosbuild CCACHE_DIR=/var/cache/pbuilder/ccache SUDO_UID=1002 USERNAME=root MAIL=/var/mail/root PATH=/usr/lib/ccache:/usr/sbin:/usr/bin:/sbin:/bin _=/usr/bin/env PWD=/ LANG=C PBUILDER_PKGLIBDIR=/usr/lib/pbuilder PBUILDER_PKGDATADIR=/usr/share/pbuilder SHLVL=3 SUDO_COMMAND=/usr/sbin/pbuilder --build --basetgz /var/cache/pbuilder-oneiric-amd64/base-6.tgz --buildresult <http://jenkins.willowgarage.com:8080/job/ros-groovy-p2os-driver_binarydeb_oneiric_amd64/ws/output> --debbuildopts '"-b"' --hookdir hooks ros-groovy-p2os-driver_1.0.0-2oneiric.dsc HOME=/tmp/buildd DEBIAN_FRONTEND=noninteractive SUDO_GID=1002 PBUILDER_SYSCONFDIR=/etc
TERM=unknown SHELL=/bin/bash LC_ALL=C PBCURRENTCOMMANDLINEOPERATION=--build USER=root SUDO_USER=rosbuild CCACHE_DIR=/var/cache/pbuilder/ccache SUDO_UID=1002 USERNAME=root MAIL=/var/mail/root PATH=/usr/lib/ccache:/usr/sbin:/usr/bin:/sbin:/bin _=/usr/bin/env PWD=/ LANG=C PBUILDER_PKGLIBDIR=/usr/lib/pbuilder PBUILDER_PKGDATADIR=/usr/share/pbuilder SHLVL=3 SUDO_COMMAND=/usr/sbin/pbuilder --build --basetgz /var/cache/pbuilder-oneiric-amd64/base-6.tgz --buildresult <http://jenkins.willowgarage.com:8080/job/ros-groovy-p2os-driver_binarydeb_oneiric_amd64/ws/output> --debbuildopts "-b" --hookdir hooks ros-groovy-p2os-driver_1.0.0-2oneiric.dsc HOME=/tmp/buildd DEBIAN_FRONTEND=noninteractive SUDO_GID=1002 PBUILDER_SYSCONFDIR=/etc
+ cd /tmp/buildd/ros-groovy-p2os-driver-1.0.0/
+ apt-get install devscripts -y
Reading package lists...
Building dependency tree...
Reading state information...
Suggested packages:
  bsd-mailx mailx cvs-buildpackage debian-keyring devscripts-el equivs gnuplot
  libauthen-sasl-perl libcrypt-ssleay-perl libfile-desktopentry-perl
  libnet-smtp-ssl-perl libsoap-lite-perl libterm-size-perl libyaml-syck-perl
  mutt ssh-client svn-buildpackage w3m
Recommended packages:
  at curl wget dctrl-tools dput dupload libjson-perl libparse-debcontrol-perl
  liburi-perl libwww-perl lintian patchutils python-debian python-magic strace
  unzip wdiff
The following NEW packages will be installed:
  devscripts
debconf: delaying package configuration, since apt-utils is not installed
0 upgraded, 1 newly installed, 0 to remove and 0 not upgraded.
Need to get 0 B/627 kB of archives.
After this operation, 2109 kB of additional disk space will be used.
Selecting previously deselected package devscripts.
(Reading database ... 30517 files and directories currently installed.)
Unpacking devscripts (from .../devscripts_2.11.1ubuntu3.2_amd64.deb) ...
Processing triggers for man-db ...
Setting up devscripts (2.11.1ubuntu3.2) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
++ awk '{print $2}'
++ grep Version
++ dpkg-parsechangelog
+ prevversion=1.0.0-2oneiric
++ date +%Y%m%d-%H%M-%z
+ debchange -D oneiric -v 1.0.0-2oneiric-20130623-2135-+0000 'Time stamping.'
debchange warning: your current directory has been renamed to:
../ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135
debchange warning: no orig tarball found for the new version.
+ cat debian/changelog
ros-groovy-p2os-driver (1.0.0-2oneiric-20130623-2135-+0000) oneiric; urgency=low

  * Time stamping.

 -- root <root@host153.storm.willowgarage.com>  Sun, 23 Jun 2013 21:35:57 +0000

ros-groovy-p2os-driver (1.0.0-2oneiric) oneiric; urgency=high

  * autogenerated

 -- Hunter Allen <hunter.allen@vanderbilt.edu>  Sat, 22 Jun 2013 14:38:01 -0500
I: user script /var/cache/pbuilder/build//28328/tmp/hooks/A50stamp finished
I: Running cd tmp/buildd/*/ && env PATH="/usr/lib/ccache:/usr/sbin:/usr/bin:/sbin:/bin" dpkg-buildpackage -us -uc  "-b" -rfakeroot
dpkg-buildpackage: export CFLAGS from dpkg-buildflags (origin: vendor): -g -O2
dpkg-buildpackage: export CPPFLAGS from dpkg-buildflags (origin: vendor): 
dpkg-buildpackage: export CXXFLAGS from dpkg-buildflags (origin: vendor): -g -O2
dpkg-buildpackage: export FFLAGS from dpkg-buildflags (origin: vendor): -g -O2
dpkg-buildpackage: export LDFLAGS from dpkg-buildflags (origin: vendor): -Wl,-Bsymbolic-functions
dpkg-buildpackage: source package ros-groovy-p2os-driver
dpkg-buildpackage: source version 1.0.0-2oneiric-20130623-2135-+0000
dpkg-buildpackage: source changed by root <root@host153.storm.willowgarage.com>
 dpkg-source --before-build ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135
dpkg-buildpackage: host architecture amd64
 fakeroot debian/rules clean
dh  clean
   dh_testdir
Unknown option: buildsystem
dh_testdir: warning: ignored unknown options in DH_OPTIONS
   dh_auto_clean
   dh_clean
Unknown option: buildsystem
dh_clean: warning: ignored unknown options in DH_OPTIONS
    rm -f debian/ros-groovy-p2os-driver.substvars
    rm -f debian/ros-groovy-p2os-driver.*.debhelper
    rm -rf debian/ros-groovy-p2os-driver/
    rm -f debian/*.debhelper.log
    rm -f debian/files
    find .  \( \( -type f -a \
            \( -name '#*#' -o -name '.*~' -o -name '*~' -o -name DEADJOE \
         -o -name '*.orig' -o -name '*.rej' -o -name '*.bak' \
         -o -name '.*.orig' -o -name .*.rej -o -name '.SUMS' \
         -o -name TAGS -o \( -path '*/.deps/*' -a -name '*.P' \) \
        \) -exec rm -f {} \; \) -o \
        \( -type d -a -name autom4te.cache -prune -exec rm -rf {} \; \) \)
    rm -f *-stamp
 debian/rules build
dh  build
   dh_testdir
Unknown option: buildsystem
dh_testdir: warning: ignored unknown options in DH_OPTIONS
   debian/rules override_dh_auto_configure
make[1]: Entering directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135'
# In case we're installing to a non-standard location, look for a setup.sh
# in the install tree that was dropped by catkin, and source it.  It will
# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
if [ -f "/opt/ros/groovy/setup.sh" ]; then . "/opt/ros/groovy/setup.sh"; fi && \
    dh_auto_configure -- \
        -DCATKIN_BUILD_BINARY_PACKAGE="1" \
        -DCMAKE_INSTALL_PREFIX="/opt/ros/groovy" \
        -DCMAKE_PREFIX_PATH="/opt/ros/groovy"
    mkdir -p obj-x86_64-linux-gnu
    cd obj-x86_64-linux-gnu
    cmake .. -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_VERBOSE_MAKEFILE=ON -DCATKIN_BUILD_BINARY_PACKAGE=1 -DCMAKE_INSTALL_PREFIX=/opt/ros/groovy -DCMAKE_PREFIX_PATH=/opt/ros/groovy
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU
-- Check for working C compiler: /usr/lib/ccache/gcc
-- Check for working C compiler: /usr/lib/ccache/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/lib/ccache/c++
-- Check for working CXX compiler: /usr/lib/ccache/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Using CATKIN_DEVEL_PREFIX: /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/groovy
-- This workspace overlays: /opt/ros/groovy
-- Found PythonInterp: /usr/bin/python2.7 
-- Found gtest: gtests will be built
-- Using CATKIN_TEST_RESULTS_DIR: /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/test_results
-- catkin 0.5.67
-- p2os_driver: 9 messages, 0 services
-- Configuring done
-- Generating done
-- Build files have been written to: /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu
    cd /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135
make[1]: Leaving directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135'
   debian/rules override_dh_auto_build
make[1]: Entering directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135'
# In case we're installing to a non-standard location, look for a setup.sh
# in the install tree that was dropped by catkin, and source it.  It will
# set things like CMAKE_PREFIX_PATH, PKG_CONFIG_PATH, and PYTHONPATH.
if [ -f "/opt/ros/groovy/setup.sh" ]; then . "/opt/ros/groovy/setup.sh"; fi && \
    dh_auto_build
    cd obj-x86_64-linux-gnu
    make -j1
make[2]: Entering directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
/usr/bin/cmake -H/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135 -B/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu --check-build-system CMakeFiles/Makefile.cmake 0
/usr/bin/cmake -E cmake_progress_start /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/CMakeFiles /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/CMakeFiles/progress.marks
make -f CMakeFiles/Makefile2 all
make[3]: Entering directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
make -f CMakeFiles/p2os_driver.dir/build.make CMakeFiles/p2os_driver.dir/depend
make[4]: Entering directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
cd /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu && /usr/bin/cmake -E cmake_depends "Unix Makefiles" /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135 /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135 /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/CMakeFiles/p2os_driver.dir/DependInfo.cmake --color=
Scanning dependencies of target p2os_driver
make[4]: Leaving directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
make -f CMakeFiles/p2os_driver.dir/build.make CMakeFiles/p2os_driver.dir/build
make[4]: Entering directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
/usr/bin/cmake -E cmake_progress_report /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/CMakeFiles 2
[  2%] Building CXX object CMakeFiles/p2os_driver.dir/src/p2osnode.cc.o
/usr/lib/ccache/c++   -DROS_PACKAGE_NAME=\"p2os_driver\" -g -O2  -I/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu/devel/include -I/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/include -I/opt/ros/groovy/include    -o CMakeFiles/p2os_driver.dir/src/p2osnode.cc.o -c /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/src/p2osnode.cc
In file included from /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/src/p2osnode.cc:29:0:
/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/include/p2os.h:46:42: fatal error: diagnostic_updater/publisher.h: No such file or directory
compilation terminated.
make[4]: *** [CMakeFiles/p2os_driver.dir/src/p2osnode.cc.o] Error 1
make[4]: Leaving directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
make[3]: *** [CMakeFiles/p2os_driver.dir/all] Error 2
make[3]: Leaving directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
make[2]: *** [all] Error 2
make[2]: Leaving directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/obj-x86_64-linux-gnu'
dh_auto_build: make -j1 returned exit code 2
make[1]: *** [override_dh_auto_build] Error 2
make[1]: Leaving directory `/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135'
make: *** [build] Error 2
dpkg-buildpackage: error: debian/rules build gave error exit status 2
E: Failed autobuilding of package
W: no hooks of type C found -- ignoring
I: unmounting /var/cache/pbuilder/ccache filesystem
I: unmounting dev/pts filesystem
I: unmounting proc filesystem
I: cleaning the build env 
I: removing directory /var/cache/pbuilder/build//28328 and its subdirectories
Build step 'Execute shell' marked build as failure
Build step 'Groovy Postbuild' marked build as failure
Build step 'Groovy Postbuild' marked build as failure
Description set: 

Originally posted by allenh1 on ROS Answers with karma: 3055 on 2013-06-24
Post score: 0

A:

The error message
In file included from /tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/src/p2osnode.cc:29:0:
/tmp/buildd/ros-groovy-p2os-driver-1.0.0-2oneiric-20130623-2135/include/p2os.h:46:42: fatal error: diagnostic_updater/publisher.h: No such file or directory

indicates that your package does not set the include_directories() correctly. Please see http://ros.org/doc/groovy/api/catkin/html/howto/catkin_library_dependencies.html#include-directories for an example how to add the include directories of packages you depend on.

Originally posted by Dirk Thomas with karma: 16276 on 2013-06-24
This answer was ACCEPTED on the original site
Post score: 0


Q:

TurtleBot gmapping and amcl demos FATAL footprint error for move_base

(Ticket 5185 submitted.)
Using the latest Electric debians for the TurtleBot stack, running either the gmapping or amcl demo throws a FATAL move_base error as follows:
[ INFO] [1317172658.105549257]: Received a 320 X 512 map at 0.050000 m/pix

[FATAL] [1317172658.745797230]: The footprint must be specified as list of lists on the parameter server, /move_base/global_costmap/footprint was specified as [] terminate called after throwing an instance of 'std::runtime_error'

    what(): The footprint must be specified as list of lists on the parameter server with at least 3 points eg: [[x1, y1], [x2, y2], ..., [xn, yn]]

[move_base-9] process has died [pid 25570, exit code -6]. log files: /home/patrick/.ros/log/63dc7caa-e95e-11e0-a56b-002163a7d4bb/move_base-9*.log

Originally posted by Pi Robot on ROS Answers with karma: 4046 on 2011-09-27
Post score: 0

Original comments
Comment by Pi Robot on 2011-09-28:
Cool--at least it's not just me. :-)
Comment by fergs on 2011-09-28:
Actually, I take that back... I failed to get the path right on my user account -- I'm now seeing this error.
Comment by Pi Robot on 2011-09-28:
Thanks Eitan and Fergs.  rosversion shows I have 1.6.3 of the navigation stack.  I just tried the gmapping_demo again and got the same error.  I did a fresh install of Electric yesterday before getting this error but I'll try it again just to be sure.
Comment by fergs on 2011-09-28:
Patrick, I can't reproduce this with a fresh install of ros-electric-turtlebot-robot.
Comment by eitan on 2011-09-28:
Can you please post the version of navigation that you're running? This sounds like a bug that was fixed awhile ago so I'm wondering if you're up to date or if the debians didn't roll out properly somehow.

A:

OK, so this is a bug in the navigation stack. You probably notice that you only get this when you restart the launch file (it will work the first time). You can make it work again by doing:
rosparam delete move_base/local_costmap/footprint
rosparam delete move_base/global_costmap/footprint

Basically, the nav stack is storing the footprint calculations back onto the param server after parsing them, but because we don't specify a footprint (as we have a circular robot), we get an error. I'm working on a patch now.

Originally posted by fergs with karma: 13902 on 2011-09-28
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Pi Robot on 2011-09-29:
Works like a charm now.  Thanks!
Comment by Pi Robot on 2011-09-28:
Many thanks Eitan.  I was just in the process of testing it but have to head out the door--good to see that Fergs is still 10x faster than I am at this stuff. :-)
Comment by eitan on 2011-09-28:
Navigation 1.6.4 has the fix, just a matter of time until the debs come out.
Comment by eitan on 2011-09-28:
So, things should be fixed in trunk now, I'll also push out a release once things get tested. Sorry for the trouble.
Comment by eitan on 2011-09-28:
OK, this is good to know. There was some code introduced to support dynamic reconfigure that is likely the culprit, I'll have a fix in a second.
Comment by Pi Robot on 2011-09-28:
Yeah, I was probably always re-launching because I would mess up some other way, Ctrl-C out of the launch and try again.


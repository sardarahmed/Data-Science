Q:

What is the expected frequency of image objects in autoware.ai?

I am running the autoware.ai v1.13 (built in kinetic) base perception stack (lidar + camera with yolo weights).
Currently I am building it with CUDA and running on an AStuff Spectra PC. The output frequency for the /detection/image_detector/objects topic seems to only be 3Hz. Is this expected? When using CUDA what is the expected frequency of this topic?

Originally posted by msmcconnell on ROS Answers with karma: 268 on 2021-02-09
Post score: 0

A:

This depend on a lot of factors. You have to consider not only the upstream nodes/topics (the camera driver, the image rectifier, etc) but also the framerate that the camera itself is producing. So, in short, there is no "expected" frequency.

Originally posted by Josh Whitley with karma: 1766 on 2021-02-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by msmcconnell on 2021-02-10:
Expected might have been a poor choice of words. "Desired" might be more appropriate. I am wondering what the downstream components might desire to operate normally. For example my understanding is that most of the autoware.ai planning stack is designed to run at 10Hz. So I would think the object perception stack should operate at this same frequency. Does the fact this node is outputing at only 3Hz mean those nodes are in-capable of outputting data at the rate expected for planning or do they have logic to account for lapses in data on this topic?
Comment by Josh Whitley on 2021-02-10:
The perception stack only operates at 10Hz because that is the typical frequency of data from a 3D lidar. If you had a lidar that ran faster, the downstream nodes would run faster as well. The design is almost completely data-driven (I say almost because there are some localization components which are temporal). The question you might want to ask instead ias "is the object detection node causing delays" which can be investigated by just looking at the frequency of the input and output topics. If the answer is no, look further upstream to see why the rate is so low.
If your camera is producing data at 30 Hz, I would excpet certain nodes like object recognition to be running slower but it's all up to hardware and what you consider safe.


Q:

"rosdep update" broken after ubuntu 12.04.04 amd64 ros-groovy-* updates

After updating ros-groovy-* packages from official precise repository found out that rosdep is broken.
Terminal:
$ rosdep update

reading in sources list data from /etc/ros/rosdep/sources.list.d
Hit https://github.com/ros/rosdistro/raw/master/rosdep/osx-homebrew.yaml
Hit https://github.com/ros/rosdistro/raw/master/rosdep/gentoo.yaml
Hit https://github.com/ros/rosdistro/raw/master/rosdep/base.yaml
Hit https://github.com/ros/rosdistro/raw/master/rosdep/python.yaml
Hit https://github.com/ros/rosdistro/raw/master/rosdep/ruby.yaml
Hit https://github.com/ros/rosdistro/raw/master/releases/fuerte.yaml
Query rosdistro index https://raw.github.com/ros/rosdistro/master/index.yaml

ERROR: Rosdep experienced an error: Unable to handle 'index' format version '2', please update rosdistro

Please go to the rosdep page [1] and file a bug report with the stack trace below.
[1] : http://www.ros.org/wiki/rosdep

rosdep version: 0.10.21

Traceback (most recent call last):

File "/usr/local/lib/python2.7/dist-packages/rosdep2/main.py", line 118, in rosdep_main 
    exit_code = _rosdep_main(args)

File "/usr/local/lib/python2.7/dist-packages/rosdep2/main.py", line 261, in _rosdep_main
    return _no_args_handler(command, parser, options, args)

File "/usr/local/lib/python2.7/dist-packages/rosdep2/main.py", line 269, in _no_args_handler
    return command_handlers[command](options)

File "/usr/local/lib/python2.7/dist-packages/rosdep2/main.py", line 434, in command_update
    error_handler=update_error_handler)

File "/usr/local/lib/python2.7/dist-packages/rosdep2/sources_list.py", line 422, in update_sources_list
    for d, dist in get_index().distributions.iteritems():

File "/usr/local/lib/python2.7/dist-packages/rosdep2/rosdistrohelper.py", line 58, in get_index
    _RDCache.index = rosdistro.get_index(_RDCache.index_url)

File "/usr/local/lib/python2.7/dist-packages/rosdistro/__init__.py", line 106, in get_index
    return Index(data, base_url)

File "/usr/local/lib/python2.7/dist-packages/rosdistro/index.py", line 51, in __init__
    assert int(data['version']) == 1, "Unable to handle '%s' format version '%d',       
please update rosdistro" % (Index._type, int(data['version']))

AssertionError: Unable to handle 'index' format version '2', please update
    rosdistro

The thing which actually bugs me, that $ dpkg -s python rosdep reports:
Package: python-rosdep
Source: rosdep
Version: 0.10.25-1

BUT $ rosdep --version , >>> pkg_resources.get_distribution("rosdep").version and $ pip search rosdep returns 0.10.21 as installed version.
Any ideas, how to fix this thing?
I've already tried re-sourcing setup.bash on another terminal and reinining deps. Do not think that reinstalling whole damn thing is the nicest solution pinning the problem down to it's roots.
EDIT
Another weird thing:
$ which rosdep returns /usr/local/bin/rosdep, but trucated $ dpkg -L python-rosdep is /usr/bin/rosdep. Probably that's the screwing with Python's library locations... :) Python 2.7 btw.
EDIT:
infact, deleting PiP installed packages, as suggested by tfoote -  sudo pip freeze | xargs pip uninstall -y does not return any error, it reports succesfully done:
Uninstalling PyYAML:
    Successfully uninstalled PyYAML

Uninstalling bloom:
    Successfully uninstalled bloom

Uninstalling catkin-pkg:
    Successfully uninstalled catkin-pkg

Uninstalling rosdep:
    Successfully uninstalled rosdep

Uninstalling rosdistro:
    Successfully uninstalled rosdistro

Uninstalling rosinstall:
    Successfully uninstalled rosinstall

Uninstalling rospkg:
    Successfully uninstalled rospkg

....and lots of other appearently ROS unrelated packages.
Related issues:
@answers.ros.org - sollution to update ros-groovy-*
bug report rosdep@git - closed with note to previoous link.

Originally posted by Kamiccolo on ROS Answers with karma: 91 on 2014-01-27
Post score: 0

A:

The /usr/local location is your problem. You have a pip based installation overlaying your debian packages. You need to invoke pip uninstall repeatedly until it is removed, similarly to this answer. http://answers.ros.org/question/49143/problems-with-rqt-groovy-ubuntu

Originally posted by tfoote with karma: 58457 on 2014-01-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Kamiccolo on 2014-01-27:
Tried that, didn't work. sudo pip uninstall rosdep and sudo pip search rosdep told, that same rosdep 0.10.21 version is STILL installed. And, as I told, setting up the ROS environment, pip on my side was not used at all. Only thing which was installed using pip was YAML library. Ages ago. Which was actually updated too.
Comment by tfoote on 2014-01-27:
Did you uninstall it multiple times as explained in the link?
Comment by Kamiccolo on 2014-01-28:
@tfoote, yes, I did. Unfortunetly, it didn't make any difference at all. I've also tried pip freeze | xargs pip uninstall -y (as suggested in http://stackoverflow.com/a/20385069/1150918 ), still - no change at all.
Comment by tfoote on 2014-01-28:
Can you edit your question so show your command and output when you try to uninstall?


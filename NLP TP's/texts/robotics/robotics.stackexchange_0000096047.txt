Q:

Moveit task constructor and PR2 gripper sensor

Hi,
I am using Moveit task constructor to build complex task for PR2 robot. I want to add gripper sensor function (accelerometer, force sensor) to allow PR2 to know when to release object (when human tries to get it from the gripper), or grab the object with a certain force.
As the gripper sensor existing code is based on action servers, I understand that I can't use it "directly" with moveit task constructor (because if I understand well, MTC is generating trajectories for each stages and then tries to plan a path connecting all the sub-trajectories).
The action servers from gripper_sensors seems to only publish command to topic handling low level sensor controller.
What would be the best way to add gripper sensor functionnality into MTC ? Getting rid of the action server and add the code into a custom stage ?
If my understanding on some point of MTC is false, please feel free to correct me (I am still learning how MTC works) .
Regards

Originally posted by Madcreator on ROS Answers with karma: 114 on 2020-06-03
Post score: 1

A:

MTC currently does not have any interfaces for this. Stages do not influence the execution beyond the solution trajectory they provide. You will have to execute the solution trajectory-wise and monitor the force sensor during the specific motion in which you want to release.
There are plans to support this kind of adaptive behavior also in stages in the future, but you will have to wait for future work here. :)

Originally posted by v4hn with karma: 2950 on 2020-06-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Madcreator on 2020-06-12:
Ok I see, thank you for the workaround that you mentionned. Maybe I will try this to see how it works.


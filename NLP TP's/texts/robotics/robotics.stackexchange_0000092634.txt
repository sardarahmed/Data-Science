Q:

Localising using RTABmap without LiDAR

Hi,
I have created a map using the depth camera (mono depth camera) and 2d Lidar. When I do the localisation, I will not have my LiDAR, so is it still possible to localise with only the depth camera? As bag-of-words should be saved anyway.
Also, I have tried to localize the robot using the depth camera but for some reason, rtabmap waits for the scan topic to be updated even though I have set subscribe_scan to False. Here is my database:
https://drive.google.com/open?id=1uNqjahpsx601JGC_mwTpwdglfAR64bkN
May be you can suggest me something? Also (if relevant), during the SLAM, I was getting these warnings and erros:
[ WARN] (2019-07-18 15:18:44.199) OptimizerG2O.cpp:698::optimize() Computing marginals: vertex 584 has negative hessian index (-1). Cannot compute last pose covariance.
[ WARN] (2019-07-18 15:18:44.216) OptimizerG2O.cpp:698::optimize() Computing marginals: vertex 454 has negative hessian index (-1). Cannot compute last pose covariance.
[pcl::IterativeClosestPoint::computeTransformation] Not enough correspondences found. Relax your threshold parameters.

Originally posted by EdwardNur on ROS Answers with karma: 115 on 2019-07-18
Post score: 0

A:

Yes, we can use only camera afterwards in localization mode. subscribe_scan should be false, look at the terminal info message to make sure rtabmap node is not subscribing to a scan topic. You will have to change also some parameters that required a laser scan. For example, Reg/Strategy should be set back to 0 (only visual). RGBD/CreateOccupancyGrid can be also set to false in localization mode.
The pitch rotation of the camera is not good, verify your TF. This makes the camera cloud tilted over the ground. See on the right:

Originally posted by matlabbe with karma: 6409 on 2019-07-19
This answer was ACCEPTED on the original site
Post score: 0


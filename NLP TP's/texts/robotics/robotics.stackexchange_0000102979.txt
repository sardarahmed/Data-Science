Q:

Set planner for cartesian path

Hey, I was wondering if setPlannerId
http://docs.ros.org/en/jade/api/moveit_ros_planning_interface/html/classmoveit_1_1planning__interface_1_1MoveGroup.html#a2516b6bd223faf5ce4031d766a51cb3d
affects computeCartesianPath,
http://docs.ros.org/en/jade/api/moveit_ros_planning_interface/html/classmoveit_1_1planning__interface_1_1MoveGroup.html#ad6b02d15000d5b17c89b15a0f744b47c
or does it only affect plan
http://docs.ros.org/en/jade/api/moveit_ros_planning_interface/html/classmoveit_1_1planning__interface_1_1MoveGroup.html#ac833bc31e734f7809f8409951586143f

Originally posted by anonymous135496 on ROS Answers with karma: 1 on 2023-01-27
Post score: 0

A:

It affects only plan(). Somewhere in your moveit config is a file usually named ompl_planning.yaml. setPlannerId() is choosing one of the ompl planner configurations defined in that file.

Originally posted by Mike Scheutzow with karma: 4903 on 2023-01-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2023-01-29:
computeCartesianPath(..) interpolates (linearly) between the provided (list of) poses. It doesn't use OMPL.
setPlannerId(..) configures/requests OMPL to use a specific OMPL planner.
@Mike Scheutzow: could you clarify what you mean by "it affects both"?
Comment by Mike Scheutzow on 2023-01-29:
@gvdhoorn The API documentation for computeCartesianPath() says that it supports collision avoidance. I assumed that it invokes the ompl planner to handle that situation, but I have not looked at the source code to confirm that. Do you have better knowledge of what the actual implementation is?
Comment by gvdhoorn on 2023-01-30:
computeCartesianPath(..) does not use OMPL for collision detection. It's part of robot_state these days, and has moved to CartesianInterpolator (here).
It uses setFromIK(..) to update an internal collision scene, and the loop basically exits as soon as that complains about a collision (here) -- or anything else for that matter.
I would also say/claim it doesn't plan as such. It's basically just a linear interpolation.
Comment by Mike Scheutzow on 2023-01-30:
Thanks for the insight. I updated my answer.
Comment by anonymous135496 on 2023-01-30:
Thanks, but arent there also multiple cartesian panners? https://picknik.ai/cartesian%20planners/moveit/motion%20planning/2021/01/07/guide-to-cartesian-planners-in-moveit.html
Comment by gvdhoorn on 2023-01-31:
There are -- although again: I would not call them planners. But computeCartesianPath(..) is not one of those. You cannot 'select' it using setPlannerId(..). You can only call the function directly.
All the other entries in the table on the page you link are either IK plugins (which you can't "select" either), MoveIt request adapters (which are either part of the pipeline or not, so not directly configurable at runtime), full-blown "planners" (in quotes as it's MoveIt terminology) or unavailable to the general public (Bolt fi).
Only the planners could you use setPlannerId(..) for, but I'm not sure that works for the Pilz Planner (it's a sibling to OMPL, not a planner within OMPL). You'd have to look into the multi-planner support to make something work. That doesn't exist in Jade (which is the documentation you linked), but I'm assuming you're not actually using ROS Jade.


Q:

How to change the frame_id from recorded bag files [bag_tools don't work]

Hi to all,
I need to change the frame_id of my imu/data topic from /base_imu to base_imu.
I'm using Indigo.
Unfortunately, I recorded several bag files without removing the slash character now I can't run them since I always get  this error message:
Warning: Invalid argument "/base_imu" passed to canTransform argument source_frame in tf2 frame_ids cannot start with a '/' like: 
         at line 130 in /tmp/binarydeb/ros-indigo-tf2-0.5.15/src/buffer_core.cpp

I know that I can use bag_tools, but they do not work: if I try to install them from apt-get the package "change_frame_id" is not found, if I try to install them from source, catkin_make fails and do not build the package.
Is there any other way to change the frame_id?
Can you help me, please?

Originally posted by Marcus Barnet on ROS Answers with karma: 287 on 2018-03-10
Post score: 0

A:

I solved the problem by copying the change_frame_id.py file inside the bag_tools folder located in /opt/ros/indigo/share/bag_tools.
Now it works.
I think the ros node installed by apt-get does not copy all the files inside the ros directory.
I opened a new issue on: https://github.com/srv/srv_tools/issues/19

Originally posted by Marcus Barnet with karma: 287 on 2018-03-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2018-03-11:\

I think the ros node installed by apt-get does not copy all the files inside the ros directory.

have you reported this over at srv/srv_tools/issues?
Comment by Marcus Barnet on 2018-03-11:
I did it few minutes ago
Comment by gvdhoorn on 2018-03-12:
And the link to the issue?
Comment by Marcus Barnet on 2018-03-12:
You can find it in "Issues" on "srv_tools" github.
Comment by gvdhoorn on 2018-03-12:
Obviously, but as a service to future readers it would be nice if you can post the link here.
Also: if your issue gets closed/resolved, it would not be immediately clear to which issue you are referring.
That way we keep things connected.
Comment by Marcus Barnet on 2018-03-12:
I edited the answer by adding the link to the issue.


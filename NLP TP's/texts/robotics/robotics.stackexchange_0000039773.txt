Q:

Problem compiling package 3d_navigation in electric

I'm using ros-electric on Ubuntu 10.04 and I tried to install 3d_navigation package.
I download the package by commands as follow:
  svn co https://code.ros.org/svn/wg-ros-pkg/branches/trunk_diamondback/sandbox/3d_navigation/
  svn co https://alufr-ros-pkg.googlecode.com/svn/trunk/octomap_mapping
  svn co https://code.ros.org/svn/wg-ros-pkg/stacks/motion_planning_common/branches/arm_navigation_metrics

Then I rosmake the folder and was told pose_follower and sbpl cannot be found. So I downloaded them by commands as follow:
  hg clone https://kforge.ros.org/navigation/experimental
  svn co https://code.ros.org/svn/wg-ros-pkg/stacks/motion_planners/trunk/sbpl

then I again rosmake my 3d_navigation. Then Error message occurred :
  [ rosmake ] Last 40 linesanning_models: 4.9 sec ] [ octomap_ros: 4.5 sec ] [ motion_planning_msgs: 1.4 sec ]                               [ 3 Active 155/167 Complete ]
  {-------------------------------------------------------------------------------
    [  0%] Built target rospack_genmsg_libexe
    make[3]: Entering directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    make[3]: Leaving directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    [  0%] Built target rosbuild_precompile
    make[3]: Entering directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    make[3]: Leaving directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    make[3]: Entering directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    [ 50%] Building CXX object CMakeFiles/planning_models.dir/src/kinematic_model.o
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp: In member function ‘bool       planning_models::KinematicModel::addModelGroup(const       planning_models::KinematicModel::GroupConfig&)’:
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/      kinematic_model.cpp:242: error: wrong number of template arguments (1, should be 3)
    /usr/include/boost/detail/container_fwd.hpp:84: error: provided for ‘template<class Key, class Compare, class Allocator> struct std::set’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:242: error: invalid type in declaration before ‘;’ token
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:250: error: request for member ‘insert’ in ‘joint_set’, which is of non-class type ‘int’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:253: error: wrong number of template arguments (1, should be 3)
    /usr/include/boost/detail/container_fwd.hpp:84: error: provided for ‘template<class Key, class Compare, class Allocator> struct std::set’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:253: error: expected initializer before ‘it’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:254: error: ‘it’ was not declared in this scope
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:254: error: request for member ‘end’ in ‘joint_set’, which is of non-class type ‘int’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp: In member function ‘planning_models::KinematicModel::LinkModel* planning_models::KinematicModel::constructLinkModel(const urdf::Link*)’:
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:424: error: ‘ROS_ASSERT’ was not declared in this scope
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp: In member function ‘shapes::Shape* planning_models::KinematicModel::constructShape(const urdf::Geometry*)’:
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:449: error: ‘ROS_ASSERT’ was not declared in this scope
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp: In constructor ‘planning_models::KinematicModel::JointModelGroup::JointModelGroup(const std::string&, const std::vector<const planning_models::KinematicModel::JointModel*, std::allocator<const planning_models::KinematicModel::JointModel*> >&, const std::vector<const planning_models::KinematicModel::JointModel*, std::allocator<const planning_models::KinematicModel::JointModel*> >&, const planning_models::KinematicModel*)’:
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1301: error: wrong number of template arguments (1, should be 3)
    /usr/include/boost/detail/container_fwd.hpp:84: error: provided for ‘template<class Key, class Compare, class Allocator> struct std::set’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1301: error: invalid type in declaration before ‘;’ token
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1305: error: request for member ‘insert’ in ‘group_links_set’, which is of non-class type ‘int’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1312: error: request for member ‘insert’ in ‘group_links_set’, which is of non-class type ‘int’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1318: error: wrong number of template arguments (1, should be 3)
    /usr/include/boost/detail/container_fwd.hpp:84: error: provided for ‘template<class Key, class Compare, class Allocator> struct std::set’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1318: error: expected initializer before ‘it’
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1319: error: ‘it’ was not declared in this scope
    /home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/src/kinematic_model.cpp:1319: error: request for member ‘end’ in ‘group_links_set’, which is of non-class type ‘int’
    make[3]: *** [CMakeFiles/planning_models.dir/src/kinematic_model.o] Error 1
    make[3]: Leaving directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    make[2]: *** [CMakeFiles/planning_models.dir/all] Error 2
    make[2]: Leaving directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
    make[1]: *** [all] Error 2
    make[1]: Leaving directory `/home/bcddivad/code/ros/bcddivad_3d_navigation/arm_navigation_metrics/planning_models/build'
  -------------------------------------------------------------------------------}

How can I solve this?

Originally posted by bcddivad on ROS Answers with karma: 25 on 2012-04-22
Post score: 0

A:

The 3d_navigation wiki page clearly states that the instructions only work for diamondback, also see this related question and answers. A version for electric or fuerte is currently worked on. You could also try what is available at https://kforge.ros.org/Sushi/trac (but there's no official release and support yet).
In any case, get rid of the arm_navigation branch you installed (third line from your checkouts) as that is not needed for electric, and be prepared to fix some code yourself since a few things changed.

Originally posted by AHornung with karma: 5904 on 2012-04-22
This answer was ACCEPTED on the original site
Post score: 1


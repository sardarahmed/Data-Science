Q:

while using hector_object_tracker,I run into a warning:project_objects is true, but GetDistanceToObstacle service is not (yet) available

Hello ,everyone! I want to mark victims on maps when I am using Hector_slam to mapping.When I use hector_object_tracker to record the positions of objects and intend to map them to next obstacles , it tells me that GetDistanceToObstacle service is not (yet) available. But actually I have run the hector_map_server with command"rosrun hector_map_server hector_map_server" , and "rosservice list"show that the service /hector_map_server/get_distance_to_obstacle is active.So why the node hector_object_tracker can't access GetDistanceToObstacle service?The changelist says /get_distance_to_obstacle is advertised in private namespace,Is this the reason why other nodes cannot access it?And is there any way to use it?
Any advice will be appreciated! Thank you very much!and wish Stefan Kohlbrecher could help me...

Originally posted by Yuichi Chu on ROS Answers with karma: 148 on 2014-05-14
Post score: 0

A:

We don´t use the 2D GetDistanceToObstacle service from hector_map_server anymore, so that´s the reason why we haven´t experienced this issue. You can:
either remap the /hector_map_server/get_distance_to_obstacle service to just /get_distance_to_obstacle
or
you can explicitly specify the service to use for each object class you track in your object tracker setup. Looking at the parameter code, changing the launch file and adding this line:
victim:
  pending_support: 1.0
  active_support: 10.0
  min_height: -0.5
  max_height: 0.15
  marker_color: [0.8, 0.0, 0.0]
  distance_to_obstacle_service: /hector_map_server/get_distance_to_obstacle

should also make the service connect correctly. Note I don´t have time to try this myself, but I´m 90% positive both options should work ;)

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-05-14
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Yuichi Chu on 2014-05-26:
That's right!Thank you very much!


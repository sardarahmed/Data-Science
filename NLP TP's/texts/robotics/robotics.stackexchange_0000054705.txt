Q:

rviz crash with moveit! (dynamics solver)

Hi everyone,
I'm trying to start the Universal Robot UR5 moveit_config demo.launch, but rviz crashes:
Program received signal SIGSEGV, Segmentation fault.
0x00007fffa0353a03 in dynamics_solver::DynamicsSolver::DynamicsSolver(boost::shared_ptr<moveit::core::RobotModel const> const&, std::string const&, geometry_msgs::Vector3_<std::allocator<void> > const&) ()
   from /opt/ros/hydro/lib/libmoveit_dynamics_solver.so
(gdb) backtrace
0x00007fffa0353a03 in dynamics_solver::DynamicsSolver::DynamicsSolver(boost::shared_ptr<moveit::core::RobotModel const> const&, std::string const&, geometry_msgs::Vector3_<std::allocator<void> > const&) ()
   from /opt/ros/hydro/lib/libmoveit_dynamics_solver.so
0x00007fffa25c4675 in moveit_rviz_plugin::MotionPlanningDisplay::onRobotModelLoaded() () from /opt/ros/hydro/lib/libmoveit_motion_planning_rviz_plugin_core.so
0x00007fffa207a2a7 in moveit_rviz_plugin::PlanningSceneDisplay::executeMainLoopJobs() () from /opt/ros/hydro/lib/libmoveit_planning_scene_rviz_plugin_core.so
0x00007fffa207a688 in moveit_rviz_plugin::PlanningSceneDisplay::update(float, float) () from /opt/ros/hydro/lib/libmoveit_planning_scene_rviz_plugin_core.so

I can start rviz on its own or spawn the model; the problem seems to be in relationship with MoveIt!.
I am already using shadow-fix, so if the problem is known was not solved (others were known with MoveIt!: see question 75769, ros-moveit-pr2-demo-launch-fails)
Shall I file a bug or does anyone know about this?
Thanks in advance!
Marco

Originally posted by marcoesposito1988 on ROS Answers with karma: 191 on 2013-10-09
Post score: 0

A:

For anyone interested, I found the problem.
I had updated the URDF in ur_description, but not the SRDF in ur_moveit_config. These resulted in a discrepancy between the joints name and indices, I presume.
I still think this is a bug, as no single useful error message was emitted, just a SEGFAULT.

Originally posted by marcoesposito1988 with karma: 191 on 2013-10-24
This answer was ACCEPTED on the original site
Post score: 0


Q:

Error with catkin_make when building package beginner_tutorials

Hi,
I have installed a ROS groovy from source on Ubuntu 12.04 and working on the basic tutorial to get familiarised with ROS. As part of creating a message and service for the beginner_tutorials package mentioned in the basic tutorial I am getting the following error when I run catkin_make, given below is the error. Please let me know how to proceed.
Base path: /home/neo/ros_catkin_ws
Source space: /home/neo/ros_catkin_ws/src
Build space: /home/neo/ros_catkin_ws/build
Devel space: /home/neo/ros_catkin_ws/devel
Install space: /home/neo/ros_catkin_ws/install
WARNING: Metapackage "vision_opencv" must buildtool_depend on catkin.
WARNING: Metapackage "image_transport_plugins" must buildtool_depend on catkin.
WARNING: Metapackage "geometry" must buildtool_depend on catkin.
WARNING: Metapackage "perception_pcl" must buildtool_depend on catkin.
WARNING: Metapackage "image_common" must buildtool_depend on catkin.
WARNING: Metapackage "diagnostics" must buildtool_depend on catkin.
WARNING: Metapackage "geometry_experimental" must buildtool_depend on catkin.
WARNING: Metapackage "nodelet_core" must buildtool_depend on catkin.
####
#### Running command: "cmake /home/neo/ros_catkin_ws/src -DCATKIN_DEVEL_PREFIX=/home/neo/ros_catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/home/neo/ros_catkin_ws/install" in "/home/neo/ros_catkin_ws/build"
####
-- Using CATKIN_DEVEL_PREFIX: /home/neo/ros_catkin_ws/devel
-- Using CMAKE_PREFIX_PATH: /home/neo/ros_catkin_ws/install_isolated
-- This workspace overlays: /home/neo/ros_catkin_ws/install_isolated
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using CATKIN_TEST_RESULTS_DIR: /home/neo/ros_catkin_ws/build/test_results
-- catkin 0.5.66
-- BUILD_SHARED_LIBS is on
WARNING: Metapackage "vision_opencv" must buildtool_depend on catkin.
WARNING: Metapackage "image_transport_plugins" must buildtool_depend on catkin.
WARNING: Metapackage "geometry" must buildtool_depend on catkin.
WARNING: Metapackage "perception_pcl" must buildtool_depend on catkin.
WARNING: Metapackage "image_common" must buildtool_depend on catkin.
WARNING: Metapackage "diagnostics" must buildtool_depend on catkin.
WARNING: Metapackage "geometry_experimental" must buildtool_depend on catkin.
WARNING: Metapackage "nodelet_core" must buildtool_depend on catkin.
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 181 packages in topological order:
-- ~~  - bfl (plain cmake)
-- ~~  - angles
-- ~~  - bond_core (metapackage)
-- ~~  - camera_calibration
-- ~~  - common_msgs (metapackage)
-- ~~  - console_bridge
-- ~~  - class_loader
-- ~~  - convex_decomposition
-- ~~  - cpp_common
-- ~~  - diagnostics (metapackage)
WARNING: The metapackage 'diagnostics' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/diagnostics/CMakeLists.txt
-- ~~  - driver_common (metapackage)
-- ~~  - flann (plain cmake)
-- ~~  - genmsg
-- ~~  - gencpp
-- ~~  - genlisp
-- ~~  - genpy
-- ~~  - geometry (metapackage)
WARNING: The metapackage 'geometry' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/geometry/CMakeLists.txt
-- ~~  - geometry_experimental (metapackage)
WARNING: The metapackage 'geometry_experimental' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/geometry_experimental/CMakeLists.txt
-- ~~  - image_common (metapackage)
WARNING: The metapackage 'image_common' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/image_common/CMakeLists.txt
-- ~~  - image_pipeline (metapackage)
-- ~~  - image_transport_plugins (metapackage)
WARNING: The metapackage 'image_transport_plugins' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/image_transport_plugins/CMakeLists.txt
-- ~~  - ivcon
-- ~~  - message_generation
-- ~~  - message_runtime
-- ~~  - mk
-- ~~  - nodelet_core (metapackage)
WARNING: The metapackage 'nodelet_core' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/nodelet_core/CMakeLists.txt
-- ~~  - opencv2 (plain cmake)
-- ~~  - orocos_kdl
-- ~~  - perception_pcl (metapackage)
WARNING: The metapackage 'perception_pcl' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/perception_pcl/CMakeLists.txt
-- ~~  - qt_dotgraph
-- ~~  - qt_gui
-- ~~  - qt_gui_app
-- ~~  - qt_gui_core (metapackage)
-- ~~  - qt_gui_py_common
-- ~~  - robot_model (metapackage)
-- ~~  - ros (metapackage)
-- ~~  - ros_comm (metapackage)
-- ~~  - ros_tutorials (metapackage)
-- ~~  - rosbash
-- ~~  - rosboost_cfg
-- ~~  - rosbuild
-- ~~  - rosclean
-- ~~  - roscpp_traits
-- ~~  - roscreate
-- ~~  - rosgraph
-- ~~  - roslang
-- ~~  - roslaunch
-- ~~  - rosmake
-- ~~  - rosmaster
-- ~~  - rosmsg
-- ~~  - rospack
-- ~~  - roslib
-- ~~  - rosparam
-- ~~  - rospy
-- ~~  - rosservice
-- ~~  - rostime
-- ~~  - roscpp_serialization
-- ~~  - python_qt_binding
-- ~~  - rosunit
-- ~~  - rosconsole
-- ~~  - pluginlib
-- ~~  - qt_gui_cpp
-- ~~  - resource_retriever
-- ~~  - rosconsole_bridge
-- ~~  - rostest
-- ~~  - rqt_action
-- ~~  - rqt_bag
-- ~~  - rqt_bag_plugins
-- ~~  - rqt_common_plugins (metapackage)
-- ~~  - rqt_console
-- ~~  - rqt_dep
-- ~~  - rqt_graph
-- ~~  - rqt_gui
-- ~~  - rqt_logger_level
-- ~~  - rqt_moveit
-- ~~  - rqt_msg
-- ~~  - rqt_nav_view
-- ~~  - rqt_plot
-- ~~  - rqt_pose_view
-- ~~  - rqt_publisher
-- ~~  - rqt_py_common
-- ~~  - rqt_py_console
-- ~~  - rqt_reconfigure
-- ~~  - rqt_robot_dashboard
-- ~~  - rqt_robot_monitor
-- ~~  - rqt_robot_plugins (metapackage)
-- ~~  - rqt_robot_steering
-- ~~  - rqt_runtime_monitor
-- ~~  - rqt_service_caller
-- ~~  - rqt_shell
-- ~~  - rqt_srv
-- ~~  - rqt_tf_tree
-- ~~  - rqt_topic
-- ~~  - rqt_web
-- ~~  - smclib
-- ~~  - std_msgs
-- ~~  - actionlib_msgs
-- ~~  - bond
-- ~~  - diagnostic_msgs
-- ~~  - geometry_msgs
-- ~~  - eigen_conversions
-- ~~  - kdl_conversions
-- ~~  - nav_msgs
-- ~~  - rosgraph_msgs
-- ~~  - bondpy
-- ~~  - diagnostic_common_diagnostics
-- ~~  - rqt_gui_py
-- ~~  - sensor_msgs
-- ~~  - camera_calibration_parsers
-- ~~  - cv_bridge
-- ~~  - image_geometry
-- ~~  - pcl_msgs
-- ~~  - shape_msgs
-- ~~  - std_srvs
-- ~~  - stereo_msgs
-- ~~  - tf2_msgs
-- ~~  - trajectory_msgs
-- ~~  - urdfdom_headers
-- ~~  - srdfdom
-- ~~  - srdf
-- ~~  - urdfdom
-- ~~  - urdf_interface
-- ~~  - urdf_parser
-- ~~  - vision_opencv (metapackage)
WARNING: The metapackage 'vision_opencv' has no CMakeLists.txt. Please add one to the package source. You can use the following file: /home/neo/ros_catkin_ws/build/catkin_generated/metapackages/vision_opencv/CMakeLists.txt
-- ~~  - visualization_msgs
-- ~~  - xmlrpcpp
-- ~~  - roscpp
-- ~~  - beginner_tutorials
-- ~~  - bondcpp
-- ~~  - collada_parser
-- ~~  - dynamic_reconfigure
-- ~~  - nodelet
-- ~~  - roscpp_tutorials
-- ~~  - rosout
-- ~~  - actionlib
-- ~~  - diagnostic_aggregator
-- ~~  - diagnostic_updater
-- ~~  - message_filters
-- ~~  - image_transport
-- ~~  - camera_info_manager
-- ~~  - image_view
-- ~~  - polled_camera
-- ~~  - rosnode
-- ~~  - rospy_tutorials
-- ~~  - rostopic
-- ~~  - roswtf
-- ~~  - rqt_gui_cpp
-- ~~  - rqt_image_view
-- ~~  - self_test
-- ~~  - tf
-- ~~  - laser_geometry
-- ~~  - tf2
-- ~~  - tf2_ros
-- ~~  - tf2_geometry_msgs
-- ~~  - tf2_kdl
-- ~~  - tf2_tools
-- ~~  - tf_conversions
-- ~~  - timestamp_tools
-- ~~  - topic_tools
-- ~~  - rosbag
-- ~~  - compressed_depth_image_transport
-- ~~  - compressed_image_transport
-- ~~  - diagnostic_analysis
-- ~~  - driver_base
-- ~~  - image_proc
-- ~~  - image_rotate
-- ~~  - interactive_markers
-- ~~  - nodelet_topic_tools
-- ~~  - pcl (plain cmake)
-- ~~  - pcl_ros
-- ~~  - depth_image_proc
-- ~~  - rqt_launch
-- ~~  - stereo_image_proc
-- ~~  - theora_image_transport
-- ~~  - turtlesim
-- ~~  - urdf
-- ~~  - collada_urdf
-- ~~  - kdl_parser
-- ~~  - robot_state_publisher
-- ~~  - rviz
-- ~~  - rqt_rviz
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
CMake Error at catkin/cmake/catkin_workspace.cmake:88 (message):
  This workspace contains non-catkin packages in it, and catkin cannot build
  a non-homogeneous workspace without isolation.
Call Stack (most recent call first):
  CMakeLists.txt:48 (catkin_workspace)

-- Configuring incomplete, errors occurred!
Invoking "cmake" failed

Originally posted by Praseen on ROS Answers with karma: 28 on 2013-07-05
Post score: 0

Original comments
Comment by joq on 2013-07-07:
Ignore the warnings about metapackages. Do you have non-catkin packages in your workspace?
Comment by Praseen on 2013-07-07:
Hi joq, Thanks a ton for your response. Well I have two work spaces, one for catkin packages and the other for non-catkin packages. This file structure was created by Groovy itself. Please let me know how to proceed.
Comment by Praseen on 2013-07-07:
The wiki needs to be updated please. The command catkin_make_isolated works, but it builds all the packages in the catkin workspace and can take some time. Thanks a lot all, especially joq, for the response and support
Comment by joq on 2013-07-07:
If your catkin workspace is properly separated from your rosbuild workspace, catkin_make should work, you should not need catkin_make_isolated.

A:

This is the relevant error:
CMake Error at catkin/cmake/catkin_workspace.cmake:88 (message):
  This workspace contains non-catkin packages in it, and catkin cannot build
  a non-homogeneous workspace without isolation.

You need to use catkin_make_isolated --install.
Also, since you are on 12.04, you can just install the debians, are you installing from source for any particular reason?
The from source install instructions tell you to use catkin_make_isolated:
http://www.ros.org/wiki/groovy/Installation/Source#line-95

Originally posted by William with karma: 17335 on 2013-07-08
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Praseen on 2013-07-10:
Hi William, thank you for your response. I am installing from source so that I will be able to modify the existing source and I can hopefully use this experience to get this working on the Raspberry Pi board on which I am working.
Comment by William on 2013-07-10:
@Praseen, That sounds good, I just wanted to make sure you knew that the debians were available.


Q:

How to record bagfile within launch file

I would like to record some topics via launch file.
<!-- record topics -->
<node name="record_topics_for_verification" pkg="rosbag" type="record"
      args="$(arg topics_name)"/>

This code runs without any errors, however, there is no recorded bagfile in current directory.
Does anyone know the reason?

Originally posted by baozhang on ROS Answers with karma: 39 on 2017-01-09
Post score: 0

A:

By default, the bag file will be in ~/.ros folder with the name being the date and time of starting recording. For exact name, you can add this flag output="screen" so it looks like this
<node name="record_topics_for_verification" pkg="rosbag" type="record" args="$(arg topics_name)" output="screen"/>
After adding this flag, you will see the bag name in rosout after you launch.
Note: the bag file will have the name of xxx.bag.active while being recording. Only after you properly terminate the recording node, the file name will be changed to xxx.bag

Originally posted by DavidN with karma: 544 on 2017-01-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by baozhang on 2017-01-09:
Thank you for replying.
I found recorded bagfiles in ~/.ros folder.
Do you know how to change the folder to record bagfiles?
Comment by DavidN on 2017-01-09:
You can add -o in args list. Follow this: http://answers.ros.org/question/106126/giving-a-directory-to-output-file-in-a-launcher-for-rosbag-record-and-rostopic-echo/?answer=222874#post-id-222874
Comment by baozhang on 2017-01-10:
Thank you for your kindness.
My question was solved!


Q:

gazebo hanging on Precise after upgrade from Lucid

I have two systems running Ubuntu Precise with ROS Groovy. The one installed directly from the Precise ISO runs gazebo correctly. The other one, upgraded from a previous Lucid install, will not run gazebo at all. There may be other differences, but that is the only one I can discern so far.
I would much appreciate help sorting this out. I don't know what to do next.
The failure can be demonstrated running the ROS Starting Gazebo Tutorial:
$ sudo apt-get install ros-groovy-simulator-gazebo
$ source /opt/ros/groovy/setup.bash
$ roslaunch gazebo_worlds empty_world.launch

That last command yields the following output:
... logging to /home/joq/.ros/log/e0bd20aa-6007-11e2-8f08-00248cfb2904/roslaunch-vision-4-23137.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://vision-4:36798/

SUMMARY
========

PARAMETERS
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    gazebo (gazebo/gazebo)
    gazebo_gui (gazebo/gui)

auto-starting new master
process[master]: started with pid [23151]
ROS_MASTER_URI=http://vision-4.local:11311

setting /run_id to e0bd20aa-6007-11e2-8f08-00248cfb2904
process[rosout-1]: started with pid [23164]
started core service [/rosout]
process[gazebo-2]: started with pid [23178]
Gazebo multi-robot simulator, version 1.2.5
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

process[gazebo_gui-3]: started with pid [23185]
Gazebo multi-robot simulator, version 1.2.5
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Warning [parser.cc:358] Converting a deprecatd SDF source[/opt/ros/groovy/stacks/simulator_gazebo/gazebo_worlds/worlds/empty.world].
  Version[1.0] to Version[1.2]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [Converter.cc:191] Deprecated SDF Values in original file:
<background rgba='0.5 0.5 0.5 1'

Warning [Converter.cc:191] Deprecated SDF Values in original file:
<background

[ INFO] [1358359776.744578326]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master.Msg Waiting for master.........................................

That hangs indefinitely, until I type control-C to interrupt it, yielding this:
[gazebo_gui-3] killing on exit
[gazebo-2] killing on exit

Error [ConnectionManager.cc:89] Connection Manager is not running
................[gazebo-2] escalating to SIGTERM
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

I was unsure whether my problem was with gazebo or the ROS package, so I tried following the standalone Gazebo instructions:
sudo apt-get install gazebo
. /usr/share/gazebo-1.3/setup.sh
gazebo

That failed similarly, and had to be interrupted:
Gazebo multi-robot simulator, version 1.3.1
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.3.1
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Msg Waiting for master.Msg Waiting for master...................................................................................^C
Error [ConnectionManager.cc:89] Connection Manager is not running
.....Warning [gazebo_main.cc:57] escalating to SIGKILL on server

I had tried installing gazebo-1.2, but those Ubuntu packages installed 1.3, instead. Since it fails similarly, I suppose that's OK.

Originally posted by joq on Gazebo Answers with karma: 113 on 2013-01-16
Post score: 1

Original comments
Comment by Jose Luis Rivero on 2013-03-13:
Jack, can we confirm if the problem is  still present in latest gazebo 1.5? The problem with the standalone version sounds to me like it could be an old problem related to parsing /etc/hosts.
Comment by joq on 2013-03-13:
I never could get it working on that upgraded Lucid-->Precise system, so I replaced it with a fresh install. I can't reproduce it any longer, sorry.
Comment by hsu on 2013-07-23:
if re-installing and upgrading to gazebo 1.5 fixed the issue, can you create an answer describing what was done so we can mark this question solved?  thanks.

A:

Looks like the solution was to abandon the Lucid -> Precise upgrade and do a fresh install.  Perhaps something went wrong with the system libraries during the upgrade.

Originally posted by gerkey with karma: 1414 on 2013-07-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joq on 2013-07-24:
Yes, that's all we can say at this point.


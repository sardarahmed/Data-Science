Q:

The Jacobian resulted from Screw method is different from analytical one (Example Inside)

I am currently solving a kinematics example that asks for the Jacobian. However, when I solve it using the Screw method I get different results from the analytical method, The example is kinda hard to write here but I will demonstrate on a 2D RR robot which shows the same behavior.
Here is the simple problem:

Now lets find the Jacobian when $θ_1=pi/4 $ while  $θ_2=0$, $L1=L2=1$
Here is the Jacobian using Screw Method:
$J =  \begin{bmatrix}
0 & 0\\
0 & 0 \\
1&1 \\
0& 0.7\\
0& -0.7\\
0&0
\end{bmatrix}
$
Here is the Jacobian using Analytical Method:
$J =  \begin{bmatrix}
-L_1 sin(θ_1) - L_2 sin(θ_1+θ_2)  & -L_2 sin(θ_1+θ_2)\\
L_1 cos(θ_1) + L_2 cos(θ_1+θ_2) & L_2 cos(θ_1+θ_2) \\
\end{bmatrix},
$
$J =  \begin{bmatrix}
-\sqrt{{2}} & -\sqrt{{2}} / 2 \\
\sqrt{{2}} & \sqrt{{2}} / 2 \\
\end{bmatrix}
$
Notice that even singularity of both methods do not match. Where did I make the mistake?
Also, why the screw method does not take into account the length of last link? I mean if the length of last link is 0 or 1000, the linear velocity W x R should change.
Edit1: Here is the method I used to calculate the first jacobian.

A:

You're computing the spatial Jacobian, which relates joint velocities to spatial velocities at the origin. You instead want to compute the body Jacobian, which relates joint velocities to end-effector velocities expressed in the end-effector frame. So in your 2D RR example what you want to do is to compute the body Jacobian then pre-multiply the matrix by $R_z(-(\theta_1 + \theta_2))$ so that the end-effector linear velocities are aligned to the fixed frame. You essentially premultiply the body Jacobian by the current orientation of the end-effector to align it with the world frame.
The next point is to clarify the difference between the analytical and geometric Jacobians. Both the body Jacobian and spatial Jacobian are the analytic Jacobian since they both relate joint velocities to operational linear and angular velocities at some frame (fixed or body frame). If instead the Jacobian for the rotational components relate joint-velocities to some description of orientation such as ZYX Euler angles or unit quaternions, then it would be called the geometric Jacobian. So the linear components are the same for both analytic and geometric Jacobian. Finally To convert between analytical and geometric Jacobian, there is a mapping between angular velocities and the derivative of the orientation representation. For ZYX Euler angle representations for example, there exists a mapping between angular velocities and Euler rates. For unit quaternions, there also exists a mapping between the quaternion derivative and angular velocities.
I hope this helps!


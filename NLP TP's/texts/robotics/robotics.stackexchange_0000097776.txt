Q:

Gazebo for Noetic not working in WSL

I did a clean install of Noetic in Ubuntu 20.04 on WSL 2.  This installs Gazebo 11, but Gazebo does not run when I type:
gazebo

Other X11 utilities like xeyes work fine in WSL, so the X-Server and DISPLAY are fine.  I also went to the official Gazebo page: http://gazebosim.org/tutorials?tut=install_ubuntu&cat=install, and followed those directions, which just confirmed that I already have the latest version of Gazebo.
Has anyone gotten Gazebo working with Noetic in WSL2?

Originally posted by Morris on ROS Answers with karma: 35 on 2020-12-07
Post score: 0

Original comments
Comment by gvdhoorn on 2020-12-07:\

Has anyone gotten Gazebo working with Noetic?

Shouldn't the question be: "has anyone gotten Gazebo (in Noetic) working on WSL2"?
If Gazebo didn't work in Noetic, I assume ROS Answers would be full of posts about it not working.
Comment by Morris on 2020-12-07:
I would have thought so.  But I would also expect that after uninstalling Noetic and Gazebo, and doing a clean install it would just work, but it doesn't.
Comment by gvdhoorn on 2020-12-07:\

But I would also expect that after uninstalling Noetic and Gazebo, and doing a clean install it would just work, but it doesn't.

I'm not sure what you mean by this.
Gazebo is a rather heavy 3D application making use of OpenGL. Regular X applications are not. Comparing xeyes to Gazebo isn't really useful, as the former doesn't come close to the complexity in the graphics pipeline of the latter.
Comment by Morris on 2020-12-07:
Ah, I figured it out.  I had forgotten to set: export LIBGL_ALWAYS_INDIRECT=0
When I ran in Melodic, it gave me an error if I forgot this, but Noetic doesn't give an error, it just doesn't run.  It was helpful discussing this with you, @gvdhoom, thanks!
Comment by gvdhoorn on 2020-12-08:
Please post your edit as an answer instead.
Then accept your own answer.
Comment by Morris on 2020-12-08:
Okay, done.

A:

I found the problem and solution.  Make sure to set this environment variable before running gazebo:
export LIBGL_ALWAYS_INDIRECT=0

Originally posted by Morris with karma: 35 on 2020-12-08
This answer was ACCEPTED on the original site
Post score: 0


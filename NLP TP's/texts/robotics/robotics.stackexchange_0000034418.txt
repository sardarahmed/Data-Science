Q:

roomba 531 imu data (map building & navigation)

Hello,
I have a roomba 531 and a kinect. I would like to use the navigation stack to build a map and navigate in that map afterwards.
I am currently using the roomba560_node to drive my robot. In the TurtleBot tutorials the turtlebot_node is used which publishes imu data. The roomba560_node, as I understand, does not. Does the roomba 531 have an imu, and is it supported somewhere?
I tried to build a map without using robot_pose_ekf, only using the odom from roomba560_node. I had to publish a static transform odom->base_link. But the map was not usable at all. Do I require an imu to build a map?
Am I missing important components?
Many thanks in advance!

Originally posted by rimesime on ROS Answers with karma: 11 on 2011-09-22
Post score: 1

Original comments
Comment by rimesime on 2011-09-25:
It seems i misunderstood the configuration needed for the nav stack to run. For a correct localization with odometry data, the relation between odom and base_footprint has to be published properly. Now I subscribe to odometry msgs and publish a tf between both frames with x,y,th from these msgs.
Comment by 130s on 2012-04-18:
@rimesime So just out of curiosity, were you able to create a good-enough map only without adding extra sensors?

A:

The Roomba 531 does not have an IMU inside.
You can calibrate the Roomba to improve your odometry. You'll find a define for ROOMBA_PULSES_TO_M in the OpenInterface.h file inside the include folder in the roomba_500_series pkg. You can also tweak ROOMBA_AXLE_LENGTH on the same file which will also influence your odometry.
Still your odometry would greatly improve should you purchase an IMU. As noted earlier the IMU used by the Create cannot be directly connected to the Roomba, you would need to use something like an Arduino to read the values and send them to the host computer. This would also mean a pkg should be created to receive the data in ROS.
Hope this helps!

Originally posted by Gonçalo Cabrita with karma: 591 on 2011-09-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Gonçalo Cabrita on 2011-11-07:
I guess using any gyro would help, I don't see any reason for an android device with a gyro not to work, however I'm guessing with all the work involved it would be easier to purchase a analog or I2C/SPI gyro and connect it to an Arduino.
Comment by rimesime on 2011-09-23:
Could I use an android device (for example galaxy s2) attached to the roomba to publish its gyroscope data? Would that be sufficient to actually improve odometry?


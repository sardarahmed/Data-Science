Q:

What is the tf threading model?

I want to use it in a single threaded node.

Originally posted by tfoote on ROS Answers with karma: 58457 on 2011-03-18
Post score: 2

A:

A TransformListener class is continuously listening for incoming coordinate transforms from TransformBroadcasters. Any blocking call would severely disrupt the flow of information to the listener. Therefore,
a transform listener, by default, spins its own thread. This particularly helps with calls to functions like tf::Transformer::waitForTransform which can block callbacks while it is waiting to hear back from tf.

The API for tf::Transformer, tf::TransformListener and tf::TransformSender all use mutex locks to be threadsafe.
tf::Transformer::waitForTransform requires a dedicated listening thread (provided by default by tf::TransformListener)

If TransformListener spins a thread it will only service callbacks in the custom callback queue for the tf topic.

Originally posted by tfoote with karma: 58457 on 2011-03-18
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by hersh on 2013-12-09:
I would love it if info like the answer here (especially the bullet points) were put into the doxygen comments for tf::TransformListener (and sender etc).


Q:

How does tf do interpolation?

I am sending a tf transform every 3s. What happens when I try to transform a point with timestamp between these 3 seconds? Which transform is used? Does an interpolation happen?
Thanks

Originally posted by miltos on ROS Answers with karma: 85 on 2011-06-16
Post score: 2

A:

TF will do a linear interpolation between the transform right before and the transform right after.  In practice almost every tf request will require an interpolation; the only time this does not happen is when you ask for a transform that has the exact same timestamp as a transform received by tf.

Originally posted by Wim with karma: 2915 on 2011-06-17
This answer was ACCEPTED on the original site
Post score: 8

Original comments
Comment by tfoote on 2017-12-05:
This is right see the TePRA paper for more info: http://wiki.ros.org/Papers/TePRA2013_Foote
Comment by mescarra on 2018-04-11:
What about extrapolation? (Asking for a position at a timestamp later than last transform) Does it work?
Comment by tfoote on 2018-04-11:
tf no longer allows extrapolation as it was determined to amplify noise in the system and cause bad behavior.
Comment by mescarra on 2018-05-23:
Ok, so whenever you ask for a transform with timestamp ros::Time::now(), what you get is the last transform, and that's it, right? What options do I have if I'm in a real-time environment which needs a precise localization  and transforms don't come to me as frequently as I would need them?
Comment by mescarra on 2018-05-23:
I mean, I really need extrapolation, what can I do? Thanks
Comment by tfoote on 2018-05-23:
You cannot get precise localization faster than the information arrives. Extrapolation results should not be considered precise. You can either focus on making sure the data is available sooner, make your algorithm robust to using older data, or add applicatoin specific forward projection.


Q:

Create a ROS.org Wiki Mirror

Is there any well-defined way for creating a local mirror of the ROS.org wiki?
I'm interested in setting up an exact copy on a local webserver for a project that has no internet connection, and would like to make a full mirror (including images, etc).

Originally posted by mjcarroll on ROS Answers with karma: 6414 on 2011-05-20
Post score: 13

A:

UPDATE: This has been deprecated and is officially documented at: http://wiki.ros.org/Mirrors on the wiki.
A dump of the wiki and api can be found at http://www.ros.org/wiki_dump/
The files in here help to get the look right.
I setup a wiki-mirror at http://ros.informatik.uni-freiburg.de/roswiki/, but it is rather outdated. Will fix that next week.
The below script is what I use now. The previous version had a bug, always reusing the first download of the tarballs!
#!/bin/bash
pushd /var/www/
echo Downloading Wiki-Dump
if wget -N http://www.ros.org/wiki_dump/roswiki.tar.gz; then #-N triggers timestamping, i.e., only fetch if newer, then overwrite existing
  rm -rf roswiki-old
  mv roswiki roswiki-old
  echo Extracting Wiki-Dump
  pv roswiki.tar.gz|tar xz 
  echo Extracting Wiki-Theme
  tar xzf rostheme.tgz -C roswiki

  echo Downloading API-Dump
  if wget -N http://www.ros.org/wiki_dump/doc.tar.gz; then
    echo Extracting API-Dump
    pv doc.tar.gz|tar xz -C roswiki
  fi
fi

It assumes your web root is /var/www and you want it in the subdirectory "roswiki". Also you need to have placed rostheme.tgz from the link above in /var/www
The pv pipes serve to show progress, which is nice to have for big file. pv is apt-gettable, but you can also coust omit it and give the file directly to tar, as done for rostheme.tgz

Originally posted by Felix Endres with karma: 6468 on 2011-05-20
This answer was ACCEPTED on the original site
Post score: 14

Original comments
Comment by mjcarroll on 2011-05-20:
Thanks felix, exactly what I was looking for.
Comment by tfoote on 2013-11-21:
This has been deprecated and is officially documented at: http://wiki.ros.org/Mirrors on the wiki.
Comment by ben on 2013-11-22:
The newest tarball seems to be missing images(other files?) that were contained in previous tarballs. Is this a planned change? It seems like it is definitely missing the ROS logo & the little globe icon next to links.
The most recent tarball (without docs): http://mediabox.grasp.upenn.edu/roswiki/
Comment by tfoote on 2013-11-30:
@ben, thanks ticked here: https://github.com/ros-infrastructure/roswiki/issues/81


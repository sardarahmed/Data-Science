Q:

MoveIt Rviz "No planning library loaded"

Hello to all,
after finishing the "MoveIt! Setup Assistant" for my tx60l-robot I tried to start the rviz moveit plugin with following command:
roslaunch tx60l_moveit moveit_rviz.launch

Rviz starts, but there is no robot visible.
The "moveit_rviz.launch"-file generated by the "MoveIt! Setup Assistant":
<launch>

  <arg name="debug" default="false" />
  <arg unless="$(arg debug)" name="launch_prefix" value="" />
  <arg     if="$(arg debug)" name="launch_prefix" value="gdb --ex run --args" />
  
  <node name="$(anon rviz)" launch-prefix="$(arg launch_prefix)" pkg="rviz" type="rviz" respawn="false" output="screen">
    <rosparam command="load" file="$(find tx60l_moveit_config)/config/kinematics.yaml"/>
  </node>

</launch>

There is no reference on my .urdf-file I used for the MoveIt! Setup Assistant" !
-> no robot can be displayed
Though this instruction shows a different kind of .launch-file (using pr2-robot):
 <launch>
        <include file="$(find pr2_description)/robots/upload_pr2.launch"/>
        <node pkg="tf" type="static_transform_publisher" name="odom_broadcaster" args="0 0 0 0 0 0 odom_combined base_footprint 100" />
        <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
         <param name="/use_gui" value="false"/>
        </node>
        <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" respawn="true" output="screen" />
        <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
           <param name="/use_gui" value="false"/>
         </node>
        <include file="$(find pr2_moveit_config)/launch/moveit_rviz.launch"/>
    </launch>

My new launch file:
<launch>
    <include file="$(find tx60l_moveit)/launch/upload_tx60l.launch"/>
    <include file="$(find tx60l_moveit)/launch/moveit_rviz.launch"/>
</launch>

upload_tx60l.launch:
<launch>
    <param name="robot_description" command="cat $(find learning_urdf)/tx60l.xml" />
</launch>

Edit:
With my new launch-file Rviz starts finally. Obviously all nodes are loaded by the Moveit Assistant generated launch file (Though I cant detect them in there)
After starting Rviz I add "MotionPlanning" like described in this tutorial.
Now my Robot is visible
But there is the hint: "no planning library loaded".
Have I to start Rviz with an additional parameter which defines the used planning library?
Also I cant select any "Planning Group"!
How can I solve that?
Or what information are relevant to help me?
Edit:
Now the OMPL is loaded, thx to Boris. But I dont get any interactive marker (is there a different way to set robot-poses?) for my robot-arm when I click on "Interact". When I load the pr2-demo it works. So the failure has to be hidden in my robot-config created with the "Setup Assistant". Is it because I didnt have defined an End-Effector?
Edit: Dave told me the problem is the end-effector. But I still cant solve it. I already tried all combinations. My robot is a simple arm of 6 links connected by 5 joints. I put all joints in one "arm-group" and the last link (link6) in another group called "end" but with no ki-solver, because its only one link. I think that's similar to this tutorial. Then I added an end-effector with the end-effector-group "end" and the parent link link 5. But there is still no interactive markers visible. What am I doing wrong?
Many Thanks in advance
viovio

Originally posted by viovio on ROS Answers with karma: 117 on 2013-01-30
Post score: 1

Original comments
Comment by Boris on 2013-02-07:
Please do not modify your questions that much. It is very difficult to track the changes. If you have new info simply add it under section "Edit", including the modified versions of your files. For very long (more than one screen) logs please consider PasteBin.

A:

Not sure if it is a real cause of the problem, but you have duplicated joint_state_publisher node in your config.
Also, if understand correctly, TX60L is an industrial manipulator from Staubli that is supposed to be fixed, e.g to a floor. So in case you are not going to put it on wheels in your simulation you don't need odometry frame. Thus a more relevant tutorial for you would be the one from ROS Industrial. There is a reference to demo.launch template where you should specify the name of your MoveIt generated package.
So, for example, I have the following demo.launch for Schunk LWA manipulator:
<launch>
  <param name="robot_description" textfile="$(find lwa_moveit_config)/config/lwa.urdf" />
  <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher">
    <param name="/use_gui" value="false"/>
  </node>
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />
  <include file="$(find lwa_moveit_config)/launch/move_group.launch">
    <arg name="allow_trajectory_execution" value="false"/>
  </include>
  <include file="$(find lwa_moveit_config)/launch/moveit_rviz.launch"/>
</launch>

Hope it helps,
Boris

Originally posted by Boris with karma: 3060 on 2013-02-06
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by viovio on 2013-02-07:
Thank you for your answer Boris. Meanwhile I solved my problem particulate (See my post). Unfortunately rviz loads no motion planing library.
Comment by Boris on 2013-02-07:
Please try the proposed launch file (don't forget to make changes according to your work environment). The one you are using now does not utilize planner, i.e. move_group.launch and of course there is no planning groups.
Comment by viovio on 2013-03-06:
Thx Boris, after adding it works. But I get no interactive markers after clicking on Interact.
Comment by Boris on 2013-03-06:
I'm having the same issue at the moment, planning works though. Also my case is 7-DOF arm with several additional fixed links and custom IKFast solver. So I'm unsure at the moment what causing this problem. Looks like some misconfiguration of planning groups in Setup Assistant.
Comment by viovio on 2013-03-08:
Have you found a solution for the problem?
Comment by Boris on 2013-03-08:
Not yet, it doesn't disturb me that much. However I did encounter this behaviour before and the issue was with non-complete configuration in MoveIt assistant, especially with the end-effector planning group. So if your arm has no gripper it can be the reason. Try to add a fake tool link in URDF.


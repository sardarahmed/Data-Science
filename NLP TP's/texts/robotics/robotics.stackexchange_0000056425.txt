Q:

Building ROS for intel Galileo fails

Trying to follow the how to (it says link to it but doesn't let me link because I haven't the karma) leads to the following error log
../i586-poky-linux-libtool --mode=link i586-poky-linux-gcc  -m32 -march=i586 --sysroot=/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/sysroots/clanton -o setfattr -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed  -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed  -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed   setfattr.o   ../libmisc/libmisc.la ../libattr/libattr.la  
attr.o: In function `usage':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:45: undefined reference to `libintl_gettext'
attr.o: In function `main':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:69: undefined reference to `libintl_bindtextdomain'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:70: undefined reference to `libintl_textdomain'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:136: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:176: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:91: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:240: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:199: undefined reference to `libintl_gettext'
attr.o:/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr/attr.c:230: more undefined references to `libintl_gettext' follow
collect2: error: ld returned 1 exit status
make[2]: *** [attr] Error 1
make[2]: Leaving directory `/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/attr'
make[1]: *** [attr] Error 2
make[1]: *** Waiting for unfinished jobs....
i586-poky-linux-libtool: link: i586-poky-linux-gcc -m32 -march=i586 --sysroot=/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/sysroots/clanton -o .libs/getfattr -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed getfattr.o  ../libmisc/.libs/libmisc.a ../libattr/.libs/libattr.so
getfattr.o: In function `print_attribute':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:258: undefined reference to `libintl_gettext'
getfattr.o: In function `help':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:375: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:377: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:377: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:379: undefined reference to `libintl_gettext'
getfattr.o:/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:97: more undefined references to `libintl_gettext' follow
getfattr.o: In function `main':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:402: undefined reference to `libintl_bindtextdomain'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:403: undefined reference to `libintl_textdomain'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:490: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr/getfattr.c:476: undefined reference to `libintl_gettext'
collect2: error: ld returned 1 exit status
make[2]: *** [getfattr] Error 1
make[2]: Leaving directory `/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/getfattr'
make[1]: *** [getfattr] Error 2
i586-poky-linux-libtool: link: i586-poky-linux-gcc -m32 -march=i586 --sysroot=/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/sysroots/clanton -o .libs/setfattr -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed -Wl,-O1 -Wl,--hash-style=gnu -Wl,--as-needed setfattr.o  ../libmisc/.libs/libmisc.a ../libattr/.libs/libattr.so
setfattr.o: In function `help':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:175: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:176: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:177: undefined reference to `libintl_gettext'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:178: undefined reference to `libintl_gettext'
setfattr.o: In function `restore':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:124: undefined reference to `libintl_gettext'
setfattr.o:/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:128: more undefined references to `libintl_gettext' follow
setfattr.o: In function `main':
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:196: undefined reference to `libintl_bindtextdomain'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:197: undefined reference to `libintl_textdomain'
/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr/setfattr.c:254: undefined reference to `libintl_gettext'
collect2: error: ld returned 1 exit status
make[2]: *** [setfattr] Error 1
make[2]: Leaving directory `/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46/setfattr'
make[1]: *** [setfattr] Error 2
make[1]: Leaving directory `/home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/attr-2.4.46'
make: *** [default] Error 2
ERROR: oe_runmake failed
ERROR: Function failed: do_compile (see /home/peter/devel_gal/meta-clanton_v0.7.5/yocto_build/tmp/work/i586-poky-linux/attr/2.4.46-r4/temp/log.do_compile.20832 for further information)

Originally posted by r2djoe on ROS Answers with karma: 1 on 2014-01-07
Post score: 0

A:

Hi,
Are you talking about this tutorial http://wiki.ros.org/IntelGalileo/How%20to%20install%20ROS%20Hydro%20on%20Intel%20Galileo ?
I think the libintl stuff comes from libc6.  Make sure this is in your ../meta-clanton-distro/recipes-core/images/image-full.bb file:
IMAGE_INSTALL += "libc-dev libstdc++-dev"
IMAGE_INSTALL += "libc6-dev"

Please let me know if it works out... I think I need help testing out the tutorials.
-Jon

Originally posted by Jon Stephan with karma: 837 on 2014-01-21
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by r2djoe on 2014-01-21:
Hey Jon, thanks for the answer, it was your guide. We eventually fixed it I think. One comment my colleague who's working on it said is that it seemed to work better if you added the ROS stuff after changing the image, similar to how you used to have it? Thanks for the tutorial tho! It's great!
Comment by Jon Stephan on 2014-01-22:
I'm not sure i'm following what you're saying... but I did notice that if you built it before changing the distro to "clanton-full", it wouldn't work unless you delete all the files and start over again.
Comment by r2djoe on 2014-01-22:
Indeed, there was that, and there was also a bit about commenting out the libiconv bit which I figured out myself. That was as far as we got, but then you changed the guide and it worked. Thanks!


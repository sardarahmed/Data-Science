Q:

roslaunch / gazebo failling

Hi there,
I want to build and launch a package with its gazebo.launch file using AWS RoboMaker environment.
I tried using colcon build but it results is the stderr as shown below:
ubuntu:~/environment/robot_ws $ colcon build
Starting >>> Project 
--- stderr: Project                                  
CMake Warning (dev) at /usr/share/cmake-3.10/Modules/FindBoost.cmake:911 (if):
  Policy CMP0054 is not set: Only interpret if() arguments as variables or
  keywords when unquoted.  Run "cmake --help-policy CMP0054" for policy
  details.  Use the cmake_policy command to set the policy and suppress this
  warning.

  Quoted variables like "chrono" will no longer be dereferenced when the
  policy is set to NEW.  Since the policy is not set the OLD behavior will be
  used.
Call Stack (most recent call first):
  /usr/share/cmake-3.10/Modules/FindBoost.cmake:1558 (_Boost_MISSING_DEPENDENCIES)
  /usr/share/OGRE/cmake/modules/FindOGRE.cmake:318 (find_package)
  /usr/lib/x86_64-linux-gnu/cmake/gazebo/gazebo-config.cmake:175 (find_package)
  realsense_gazebo_plugin/CMakeLists.txt:12 (find_package)
This warning is for project developers.  Use -Wno-dev to suppress it.

---
Finished <<< Project [24.2s]

Summary: 1 package finished [24.8s]
  1 package had stderr output: Project

When I try to use roslaunch I get the following message:
RLException: {gazebo.launch} is neither a launch file in package {igt_one_description} nor is {igt_one_description} a launch file name The traceback for the exception was written to the log file.

The error persists even after sourcing, as you can see below:
ubuntu:~/environment/robot_ws $ rospack find igt_one_description
[rospack] Error: package 'igt_one_description' not found
ubuntu:~/environment/robot_ws $ source install/setup.bash
ubuntu:~/environment/robot_ws $ rospack find igt_one_description
/home/ubuntu/environment/robot_ws/install/Project/share/igt_one_description
ubuntu:~/environment/robot_ws $ roslaunch igt_one_description gazebo.launch
RLException: [gazebo.launch] is neither a launch file in package [igt_one_description] nor is [igt_one_description] a launch file name
The traceback for the exception was written to the log file

Additionally, as I'm not familiar with colcon tool, I tried building the package with catkin_make, and it was built without any issues, however, when I try to launch I get the following error:
terminate called after throwing an instance of 'boost::exception_detail::clone_impl<boost::exception_detail::error_info_injector<boost::lock_error> >'
what(): boost: mutex lock failed in pthread_mutex_lock: Invalid argument
Aborted (core dumped)
{gazebo_gui-6} process has died {pid 13108, exit code 134, cmd /opt/ros/melodic/lib/gazebo_ros/gzclient __name:=gazebo_gui __log:=/home/ubuntu/.ros/log/0aec0696-15af-11ec-bc4d-023ea6c21994/gazebo_gui-6.log}.
log file: /home/ubuntu/.ros/log/0aec0696-15af-11ec-bc4d-023ea6c21994/gazebo_gui-6*.log

RealSensePlugin: The realsense_camera plugin is attach to model igt_one

RealSensePlugin: Depth Camera has not been found

Can you please help me figure out how to fix this issue?
Thanks in advance.

Originally posted by Theodoro Cardoso on ROS Answers with karma: 20 on 2021-09-14
Post score: 0

Original comments
Comment by gvdhoorn on 2021-09-15:
I'm sorry to have to do this for something seemingly minor, but please don't post screenshots of terminal text in question on ROS Answers. It's all text, so there is no need. Just copy-paste the text from the terminal into your question text. Do make sure to format it properly by selecting the text and pressing ctrl+k (or clicking the Preformatted Text button (the one with 101010 on it)).
You don't need to post a new question, just edit your curent one. You can use the edit button/link for this.
After you replace the screenshot with the error message itself, we can re-open your question.
Comment by Theodoro Cardoso on 2021-09-15:
Thanks for the clarification @gvdhoorn, I edited the question as you suggested.
It seems like I need more than 200 points to reopen the topic. Would you mind reopening it for me?
Comment by osilva on 2021-09-15:
After you source it, can you run rospack list  to see if it is present. Not sure if you have access to  ~/.bashrc in RoboMaker. If not try sudo ~/.bashrc after sourcing it.
Comment by Theodoro Cardoso on 2021-09-15:
Hi @osilva, thanks for your reply. rospack finds the package without problems after sourcing.
I will copy the content from the third preformatted text from the post down here
ubuntu:~/environment/robot_ws $ rospack find igt_one_description
[rospack] Error: package 'igt_one_description' not found
ubuntu:~/environment/robot_ws $ source install/setup.bash
**ubuntu:~/environment/robot_ws $ rospack find igt_one_description
/home/ubuntu/environment/robot_ws/install/Project/share/igt_one_description**
ubuntu:~/environment/robot_ws $ roslaunch igt_one_description gazebo.launch
RLException: [gazebo.launch] is neither a launch file in package [igt_one_description] nor is [igt_one_description] a launch file name
The traceback for the exception was written to the log file

As you can see, even with rospack finding the package and the gazebo.launch actually being there, roslaunch was not able to find it.
Maybe it has something to do with the stderr?
Thanks man
Comment by osilva on 2021-09-15:
Try executing the file directly vs using launch, that way you might get to see the error that may lead what is causing the execution not to launch. What is in the log file?
Comment by osilva on 2021-09-15:
There is a similar error: https://github.com/tu-darmstadt-ros-pkg/hector_quadrotor/issues/108
Looks it has to do with Gazebo. Do your system has enough memory?
Comment by osilva on 2021-09-15:
Wonderful. You should write it as an answer. Cheers

A:

@osilva I managed to make it work by following the  AWS tutorials
It seems that the following command did the trick
vcs import < .rosinstall 

I'm not 100% positive though.
In any case, I appreciate your effort to help me out.
All the best!

Originally posted by Theodoro Cardoso with karma: 20 on 2021-09-15
This answer was ACCEPTED on the original site
Post score: 0


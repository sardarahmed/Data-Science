Q:

how to output velosity with ur_modern_driver

I am doing a project about robot-teleoperation now. By using ROS I have accomplished the position-control（even though there are time-delay between the master and slave）.I find that the position control is not flexible enough,so I want to control the robot with velosity-control .After reading the explaination about link text ,I learned that maybe it's possible to control the jointspeed. After I
 roslauch ur_modern_driver ur_driver

and
 rostopic echo /ur_driver/jointspeed

There is no response anywhere,what's failure and what I should do to control the jointspeed?
Any help should be appreciated!

Originally posted by bobpop on ROS Answers with karma: 5 on 2017-06-08
Post score: 0

A:

/ur_driver/jointspeed is not a publication, but a subscription.
You're supposed to send it joint velocities, they will not be published there.

Edit:

Maybe there are some mistakes in my expression ,I use rostopic echo just want to see whether it has changed after publishing.I attempted to see its message details by using TAB key.I found that it is similar to /Follow_Joint_Trajectory.That make me confused,why I need to set joint position again

The fact that it uses a JointTrajectory msg doesn't mean that you have to set position. See RosWrapper::speedInterface(..). It only uses the velocity field.
This is also described in the readme (emphasis mine):

joint_speed : Takes messages of type trajectory_msgs/JointTrajectory. Parses the first JointTracetoryPoint and sends the specified joint speeds and accelerations to the robot.

Originally posted by gvdhoorn with karma: 86574 on 2017-06-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by bobpop on 2017-06-08:
Eh,which topic or command I should use？If I use the /ur_driver/FollowJointTrajectory,that means I must set joint position,velosity… I learned that it's a position control and position perhaps is not the most important value in my consideration , what  I want to  just move in  a direction.
Comment by gvdhoorn on 2017-06-08:
I'm a bit confused by your comment. The topic is fine, rostopic echo .. just won't do anything with it as there are no message published to it. You have to publish messages to it.
Comment by bobpop on 2017-06-08:
Maybe there are some mistakes in my expression ,I use rostopic echo just want to see whether it has changed after publishing.I attempted to see its message details by using TAB key.I found that it is similar to /Follow_Joint_Trajectory.That make me confused,why I need to set joint position again
Comment by bobpop on 2017-06-09:
oh,I got it.Thanks,gvdhoorn.By the way,I should use trajectory_msgs::JointTrajectorydirectly instead of control_msgs::FollowJointTrajectoryAction>::Goal ,it's right?


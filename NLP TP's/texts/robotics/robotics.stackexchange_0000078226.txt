Q:

How do i add texture(.png file) in urdf

I tried to add png file in my urdf like below but its now working:
    <visual>
  <origin rpy="0 0 0" xyz="0 0 0.078335"/>
  <geometry>
    <mesh filename="package://myrobot1_description/meshes/velodyne_base.dae"/>
  </geometry>
  <material>
    <script>
      <uri>package://myrobot1_description/materials/scripts</uri>
      <uri>package://myrobot1_description/materials/textures</uri>
      <name>Table/Marble_Lightmap</name>
    </script>
  </material>
</visual>

So how do i fix this?

Originally posted by dinesh on ROS Answers with karma: 932 on 2017-01-07
Post score: 1

A:

If your geometry is not a mesh, i.e. you have a basic geometry in your visual tag (box, sphere, cylinder), this should work:
Create a material file example.material (your_package/media/materials/scripts/example.material)
material YourMaterialName{
    technique
    {
        pass
        {
            texture_unit
            {
                texture your_material_image.jpg
                scale 1 1
            }
        }   
    }
}

This file can have multiple materials, not just this one. Then, outside the <link> tag of your URDF:
<gazebo reference="your_link">
    <material>YourMaterialName</material>
</gazebo>

However, if your geometry is a mesh, in addition you will need to prepare your mesh to receive the image. Open your mesh using Blender, then first imagine how would you cut your solid with a scissor in order to put all surfaces in a plane. Then, select those edges, press Ctrl+E and select Mark Seam. The edges will become red. Split the window into 2 and in the new window choose UV/Image Editor as the Editor Type (bottom left corner). Then, press A to select everything, press U and choose Unwrap. At the UV/Image Editor will appear a geometry showing all your object faces in a plane. Now you can export to COLLADA (.dae) and put in your visual geometry mesh.
If you could not follow up the Blender steps, take a look at this tutorial: https://youtu.be/f2-FfB9kRmE

Originally posted by hbaqueiro with karma: 121 on 2018-10-02
This answer was ACCEPTED on the original site
Post score: 2


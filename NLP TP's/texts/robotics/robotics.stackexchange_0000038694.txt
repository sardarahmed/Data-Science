Q:

rosbag record theora

I am trying to record video from several cameras into a bag file. Since I am planning to record fairly long scenes I want to record only compressed video. I managed to do so by recording only the /compressed topic:
rosbag record -e "/camera/image_raw/compressed(.*)"

I can then use a image_transport/republish node to recreate the full topic for my image_transport subscribers.
But I failed when attempting to keep only the theora video:
rosbag record -e "/camera/image_raw/theora(.*)"

When replaying and republishing, the later complains:
rosrun image_transport republish theora in:=/camera/image_raw out:=/video
[ WARN] [1331797616.250783734]: [theora] Packet was not a Theora header

And image_view on /video shows nothing.
If I directly attempt to view the stream using image_view and the theora codec, I get an empty window. rxgraph does show the connection between the bag node and the image_view node via the /camera/image_raw/theora topic though.

Originally posted by brice rebsamen on ROS Answers with karma: 1001 on 2012-03-14
Post score: 1

A:

But if you run the viewer live (without using a bag file), does it show? One thing is that some nodes behaves badly with compressed videos because this is less tested mainly. You could also try compressed instead of theora and see what happens...

Originally posted by Thomas with karma: 4478 on 2013-09-30
This answer was ACCEPTED on the original site
Post score: 0


Q:

Autoware.Auto with LGSVL: mpc acceleration to throttle

Hi, in Autoware.Auto the output control from MPC controller is acceleration. To control LGSVL vehicle we need to input throttle though. Usually this type of convertion is not trivial because the relation between acceleration and throttle is complex. But from the lgsvl_interface code it seems like there's 1 to 1 conversion with just scaling to account for different limits. Am I missing something?

Originally posted by soldierofhell on ROS Answers with karma: 13 on 2021-02-17
Post score: 0

A:

Using a "higher-level" control like acceleration to send messages to the vehicle interface level was an intentional design decision. We want the message API between the controller and the vehicle interface to be somewhat vehicle-agnostic. As for the complexity of acceleration to pedal position, yes, it usually is more complex than what is represented in lgsvl_interface. However, this vehicle interface layer is designed to communicate with a simulator that is capable of using a wide range of vehicle models and dynamics. We didn't want to try to represent all of the possible vehicle configurations in this single interface so we just implemented something generic that works with all vehicle to greater and lesser degrees depending on the vehicle model. A vehicle interface layer for a real-world vehicle would contain more complex mappings.

Originally posted by Josh Whitley with karma: 1766 on 2021-02-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by soldierofhell on 2021-02-18:
I agree that doing this for each and every vehicle or even prepare some generic procedure (like in Apollo) is not necessary the "duty" of Autoware stack but having at least some reference vehicle that is well "tuned" IMO is necessary to e.g. test the performance of different controllers. Nevertheless, at least I have a confirmation of my investigation :) Thank you


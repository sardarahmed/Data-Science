Q:

extend JointState with more data

Hi all,
the JointState message is useful but it contains only a subset of the data I want to show. How can I add more data on the JointState msgs? Do I need to create a custom msg? How about Rviz and other software are then able to understand them?

Originally posted by mark_vision on ROS Answers with karma: 275 on 2014-11-17
Post score: 0

A:

Yes and no. Yes if you want to parcel additional data in the same message with a JointState message you will have to create an custom message that contains a jointstate message as one message field and some other fields for your specifc data. And no, Rviz will no longer understand your custom message as ros messages do not provide some kind of inheritance such that a base message would still be available in a derived type without changes of the application code.
As I guess this it not the answer you where hoping for I'd like to suggest another workaround. If you want to publish some data along with the jointstate from one of your nodes to another of your nodes (I guess that's the case as rviz etc. cannot be your target subscriber as they won't "understand" your additional information anyway) you can publish the jointstate message along with another additional message of a custom type. Be sure to add message Header field to your custom message and copy exactly the same timestamp to the message header in the jointstate message and your custom message.
Then in your subscribing node(s) set up a message filter for synchronization with exact time policy:
http://wiki.ros.org/message_filters#ExactTime_Policy
Then you get a common callback for the jointstate message and your custom message with additional information and you can do the processing of the combined data there!

Originally posted by Wolf with karma: 7555 on 2014-11-18
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by mark_vision on 2014-12-05:
I wanted to avoid this solution, but it seems unavoidable. And anyway thank you. Maybe we should suggest inheritance as new  feature for newer version of ROS.


Q:

Can rosbridge set the timestamp of stamped messages?

Hello guys,
I am using rosbridge in my project and it would be great if the bridge could set the timestamps in messages passed through it as simple json messages. Is that supported somehow?
Cheers,
J.B.

Originally posted by JBuesch on ROS Answers with karma: 237 on 2012-03-16
Post score: 0

A:

In the current SVN (experimental version of rosbridge):
svn co http://brown-ros-pkg.googlecode.com/svn/trunk/experimental/rosbridge

I have added a feature so that if you send a header (or an object containing a header) with an empty stamp field, it will be replaced with the current rostime. In other words:
con.publish('/heads','std_msgs/Header',{seq:42,frame_id:'foo',stamp:{}})

results in something like:
seq: 43                                                                                             
stamp:                                                                                              
  secs: 1332141768                                                                                  
  nsecs: 325777053                                                                                  
frame_id: foo

Keep in mind that this is purely for cases where you don't need a very accurate timestamp. The proper thing to do is still to synchronize the client and ROS runtime's clocks.
If for some reason you don't want to run the SVN version of rosbridge, you can also use this patch until the binary version is updated (after more time and testing).

Originally posted by tjay with karma: 461 on 2012-03-19
This answer was ACCEPTED on the original site
Post score: 1


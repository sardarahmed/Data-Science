Q:

ROS Answers SE migration: Using actions

Hello, I tried to modify one of those tutorials of actionlib and when i do catkin_make the output is this:
-- Using these message generators: gencpp;genlisp;genpy
-- Generating .msg files for action control/Control /home/robot/Desktop/gamma/src/control/action/Control.action
Traceback (most recent call last):
  File "/opt/ros/hydro/share/actionlib_msgs/cmake/../../../lib/actionlib_msgs/genaction.py", line 136, in <module>
Generating for action Control
    if __name__ == '__main__': main()
  File "/opt/ros/hydro/share/actionlib_msgs/cmake/../../../lib/actionlib_msgs/genaction.py", line 97, in main
    raise ActionSpecException("%s: wrong number of pieces, %d"%(filename,len(pieces)))
__main__.ActionSpecException: /home/robot/Desktop/gamma/src/control/action/Control.action: wrong number of pieces, 6
CMake Error at /opt/ros/hydro/share/catkin/cmake/safe_execute_process.cmake:11 (message):
  
  execute_process(/home/robot/Desktop/gamma/build/catkin_generated/env_cached.sh
  "/usr/bin/python"
  "/opt/ros/hydro/share/actionlib_msgs/cmake/../../../lib/actionlib_msgs/genaction.py"
  "/home/robot/Desktop/gamma/src/control/action/Control.action" "-o"
  "/home/robot/Desktop/gamma/devel/share/control/msg") returned error code 1
Call Stack (most recent call first):
  /opt/ros/hydro/share/actionlib_msgs/cmake/actionlib_msgs-extras.cmake:67 (safe_execute_process)
  control/CMakeLists.txt:57 (add_action_files)

The action file contains this:
#Twist defined in action
  float64 x_angular
---
  float64 y_angular
--- 
  float64 z_angular
---
  float64 x_linear
--- 
  float64 y_linear
---
  float64 z_linear

What could be happening here?
Thanks beforehand!

Originally posted by pexison on ROS Answers with karma: 82 on 2015-02-09
Post score: 0

A:

Your action file must have exactly 3 sections separated by --- for goal, result and feedback. You have 6 sections.
If you want to include another message type include that type instead of repeating its content, i.e. use geometry_msgs/Twist twist as an entry.

Originally posted by dornhege with karma: 31395 on 2015-02-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pexison on 2015-02-09:
Sorry, it was a beginner fault


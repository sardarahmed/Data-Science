Q:

can ActionServerWrapper use a dynamically set SMACH state

I have just discovered ActionServerWrapper which seems to be the right choice because I need to execute and abort a smach statemachine though ROS messages.
But I have a long list of statemachines and only one can run at a time. It makes most sense to create just one ActionServerWrapper, which in the "Goal" message takes the name of the state to execute.
But the introduction tutorial shows an ActionServerWrapper where the SMACH state is set in the constructor. Can I change the main state later, just before execution?
BTW: The link at the bottom of this page, referring to the ActionServerWrapper documentation, is dead. Where do I find it?

Originally posted by knxa on ROS Answers with karma: 811 on 2017-09-10
Post score: 2

A:

I made it work by subclassing ActionServerWrapper and overriding execute_cb.
Then I can set the relevant state machine dynamically in the  execute_cb before calling the original  ActionServerWrapper.execute_cb.
Action server source:
http://docs.ros.org/diamondback/api/smach_ros/html/python/smach_ros.action_server_wrapper.ActionServerWrapper-class.html

Originally posted by knxa with karma: 811 on 2017-11-15
This answer was ACCEPTED on the original site
Post score: 2


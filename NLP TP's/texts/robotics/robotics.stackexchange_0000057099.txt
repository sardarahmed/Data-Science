Q:

ROS Rviz groovy segfault and assertion fail

Hi
RVIZ keeps segfaulting everytime i visualise a point cloud, I am not sure why.
I have attached a pcd file  test.jpg (text file , test.jpg rename this to test.pcd) which causes the following error in RVIZ
rviz: ../../../../../src/glsl/ralloc.c:81: get_header: Assertion `info->canary == 0x5A1106' failed.
Mostly it just segfaults everytime I try to visualise the pointcloud 2
rosrun pcl_ros pcd_to_pointcloud test.pcd  10  cloud_pcd:=Laser _frame_id:=/map
I have been experimenting with the number of points. Set WIDTH and POINTS to N to visualise N points. When this number is 100 it segfaults and when its small I can see the pointcloud.
for instance if WIDTH and POINTS = 10 then the segfault does not occur.
If your gradually increase this number there is no segfault, but if you make this number large for the first time you publish the pointcloud eg 100 RVIZ segfaults
Can anyone else visualise the same pointcloud? I am using ubantu 12.04 and groovy.
This weird segfault error only started happening recently....
This bug started happening after I visualise a pcd file instead of a segfault and RVIZ crashing. My screen flashed several times all the task bars disappeared and screen started floating around. I had to restart my computer the fix the problem
Do i need to reinstall RVIZ or ROS???
ALSO
I noticed ros-groovy-rviz was updated the day before this bug started happening ...
Edit Attempting to troubleshoot
export LIBGL_ALWAYS_SOFTWARE=1
rosrun rviz rviz
caused the following error
*** glibc detected *** /opt/ros/groovy/lib/rviz/rviz: double free or corruption (!prev): 0x0000000004015ef0 ***

Originally posted by Sentinal_Bias on ROS Answers with karma: 418 on 2014-02-06
Post score: 4

A:

I solved the issue by building RVIZ groovy 1.9.32 by source
https://github.com/ros-visualization/rviz/tree/1.9.32
both versions 1.9.33 and 1.93.4 dont work for me
$ cd ~/old_rviz
$ mkdir build
$ cd build
$ cmake ..
$ make
$ source ./devel/setup.bash
$ rosrun rviz rviz

-note this bug fill be fixed soon i guess.

Originally posted by Sentinal_Bias with karma: 418 on 2014-02-06
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Bharadwaj on 2014-04-03:
Worked for me as well. - lubuntu 12.04 - ROS Groovy
Comment by h iman on 2014-04-22:
Hello guys, Ive an embarrassing question, how do I clone RVIZ groovy 1.9.32 from github? Also how can (if possible) replace the current version that I have in my groovy (1.9.34) with this version?


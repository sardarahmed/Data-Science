Q:

Transform failed

Hello. I have a simple tf-tree (sorry, i have not enough point to download picture). May be it is available here.
If no: tf-tree is map -> odom -> base_link -> lazer.
When i launch file with gmapping, not always there is an error:

Transform failed during publishing of map_odom transform: Lookup would require extrapolation into the future. Requested time 1436451359.820962500 but the latest data is at time 1436451359.720510500, when looking up transform from frame [base_link] to frame [odom].

It happens not always. But when after this file i launch the other contais hector_exploration_node, hector_exploration_planner and hector_costmap, it happens every time.
I changed the use_sim_time parameter: if it is false, there is the error, else there isn't error, but the navigation part(second launch file) only starts and doesn't work (freezes).
I did this diagnostic. It works properly.
Edit:

Fist launch file:
 
 

<!-- Costmap parameters -->
<param name="use_elevation_map" value="false" />
<param name="use_grid_map" value="true" />
<param name="use_cloud_map" value="false" />

<param name="initial_free_cells_radius"

value="0.3" />

   

Originally posted by flaminga on ROS Answers with karma: 5 on 2015-07-09
Post score: 0

Original comments
Comment by mgruhler on 2015-07-10:
does this only happen at the very beginning, when you launch the nodes? Are also concurrently?
If it is just at the beginning, it might be because the oldest /odom->/base_link transform is about 100ms older than the oldest /map->/odom transform.
Comment by flaminga on 2015-07-10:
Before second launch first lunch work properly, but after launch them (nodes with navigation), it (first launch)  started issue the errors unceasingly.
Comment by mgruhler on 2015-07-10:
please edit your answer with the order in which you start which launchfiles. also please include the launch files.
Comment by flaminga on 2015-07-10:
Sorry, i wasn't able to issue launch files carefully

A:

you should put these lines to your code:
1
odom

Originally posted by smostafa with karma: 16 on 2017-02-09
This answer was ACCEPTED on the original site
Post score: 0


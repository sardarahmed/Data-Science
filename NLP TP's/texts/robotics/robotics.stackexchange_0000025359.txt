Q:

DRC Simulator can't run again, after installing Gazebo!

Last week, DRC Sim still ran pretty smoothly after i installed it in the pre - compiled binaries selection .
But then when i tried to install a stand-alone version of Gazebo, as suggested in the official DRC Kickoff Tutorials, to get familiar with it, it became a disaster!
Now, DRC Sim can't even run again, with a warning window poping up (sorry, i can't attach the screenshot here. It's required that i have at least 60 karma to do so)
. Frustrated, I've browsed through all ROS and Gazebo Q&As without any answer. Here's how the terminal diagnosed the problem:
process[tf2_buffer_server-6]: started with pid [4002]
[ WARN] [1352705611.085392264]: You've passed in true for auto_start for the C++ action server at [/tf2_buffer_server]. You should always pass in false to avoid race conditions.
Warning [parser.cc:375] Gazebo SDF has no <gazebo> element in file[/usr/share/drcsim-1.0/models/drc_robot/model.sdf]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[drc_robot_controllers_spawner-7]: started with pid [4031]
Warning [parser_urdf.cc:1125] urdf2gazebo: link[left_camera_optical_frame] has no inertia, parent joint [left_camera_optical_frame_joint] ignored
.Warning [parser_urdf.cc:1129] urdf2gazebo: link[left_camera_optical_frame] has no inertia, not modeled in gazebo
Warning [parser_urdf.cc:1125] urdf2gazebo: link[right_camera_optical_frame] has no inertia, parent joint [right_camera_optical_frame_joint] ignored
.Warning [parser_urdf.cc:1129] urdf2gazebo: link[right_camera_optical_frame] has no inertia, not modeled in gazebo
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camhand_controllers_spawner-8]: started with pid [4032]
Warning [parser.cc:286] parse from urdf file [/usr/share/drcsim-1.0/models/drc_robot/model.sdf].
X Error of failed request:  BadRequest (invalid request code or no such operation)
  Major opcode of failed request:  154 (GLX)
  Minor opcode of failed request:  19 (X_GLXQueryServerString)
  Serial number of failed request:  12
  Current serial number in output stream:  12
Error [Transport.cc:102] Unable to get topic namespaces in [50] tries.
Error [Node.cc:72] No namespace found
Warning [gazebo_main.cc:57] escalating to SIGKILL on server
[gazebo-2] process has finished cleanly
log file: /home/airobot/.ros/log/412ca1fe-2c9b-11e2-81f2-4c80930ee359/gazebo-2*.log

Any help or suggestion, please?

Originally posted by Tung Go on Gazebo Answers with karma: 3 on 2012-11-11
Post score: 0

Original comments
Comment by SL Remy on 2012-11-14:
Can you post the results of glxinfo |grep direct ?

A:

The error:

X Error of failed request:  BadRequest (invalid request code or no such operation)

looks suspiciously like an issue with the GPU driver.  Did the linux kernel get updated and the system requires a reboot?
What does glxinfo say?

Originally posted by hsu with karma: 1873 on 2012-11-12
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Tung Go on 2012-11-13:
name of display: :0.0
X Error of failed request:  BadRequest (invalid request code or no such operation)
Major opcode of failed request:  154 (GLX)
Minor opcode of failed request:  19 (X_GLXQueryServerString)
Serial number of failed request:  12
Current serial number in output stream:12
Comment by hsu on 2012-11-13:
one possibility is the kernel got updated while you were updating gazebo/drcsim, so the gpu driver is in limbo.  If that's the case, just reboot your computer to rectify this situation.
Comment by Tung Go on 2012-11-13:
@hsu: As you and a friend of mine suggested, i did reboot it. But nothing improved! Still the problem occurs now. Another friend of mine also diagnosed and recommended the GPU need an update. Mine is an AMD Radeon. Any further suggesion? Thanks @hsu.
Comment by gerkey on 2012-11-13:
There are a variety of things that you might need to do to get your GPU working properly.  But none of that is Gazebo-specific and so is out of scope for this forum.  You need to get glxinfo succeeding and returning direct rendering: Yes in its output before it makes sense to talk about Gazebo.


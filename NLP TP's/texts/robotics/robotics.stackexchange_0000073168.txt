Q:

Install RGBDSLAM on ARM

I've installed RGBDSLAM on a number of computers but ARM is proving to be a bit more challenging. I'm trying to install RGBDSLAM on a raspberry pi 2 model B where ROS Indigo is already installed. I've followed the following walkthroughs with no success:

http://kaze.io/phd/p-hd-diary-pcl-installation-and-configuration-on-osx/
https://richardstechnotes.wordpress.com/2015/11/22/using-the-kinect-and-ros-openni_camera-on-the-raspberry-pi-2/comment-page-1/#comment-1452

Rosdeps all installed fine and here's my latest build error:
$ catkin_make 
Base path: /home/ubuntu/catkin_ws
Source space: /home/ubuntu/catkin_ws/src
Build space: /home/ubuntu/catkin_ws/build
Devel space: /home/ubuntu/catkin_ws/devel
Install space: /home/ubuntu/catkin_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/ubuntu/catkin_ws/build"
####
####
#### Running command: "make -j4 -l4" in "/home/ubuntu/catkin_ws/build"
####
[  0%] [  0%] [  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_b
Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_f
Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_s
[  1%] [  8%] Built target rgbdslam_generate_messages_cpp
[ 16%] Built target rgbdslam_generate_messages_py
Performing build step for 'siftgpu_proj'
[ 22%] Built target rgbdslam_generate_messages_lisp
make[3]: warning: jobserver unavailable: using -j1.  Add `+' to parent make rule.
[ 22%] Built target rgbdslam_gencpp
g++: error: unrecognized command line option '-mfpmath=sse'
make[3]: *** [build/FrameBufferObject.o] Error 1
make[2]: *** [rgbdslam_v2/external/siftgpu_prefix/src/siftgpu_proj-stamp/siftgpu_proj-build] Error 2
make[1]: *** [rgbdslam_v2/external/CMakeFiles/siftgpu_proj.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[ 22%] Built target rgbdslam_generate_messages
[ 24%] [ 26%] [ 27%] [ 29%] Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/moc_graph_manager.cxx.o
Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/moc_glviewer.cxx.o
Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/qtros.cpp.o
Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/openni_listener.cpp.o
c++: internal compiler error: Killed (program cc1plus)
Please submit a full bug report,
with preprocessed source if appropriate.
See <file:///usr/share/doc/gcc-4.8/README.Bugs> for instructions.
make[2]: *** [rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/moc_graph_manager.cxx.o] Error 4
make[2]: *** Waiting for unfinished jobs....
make[1]: *** [rgbdslam_v2/CMakeFiles/rgbdslam.dir/all] Error 2
make: *** [all] Error 2
make: INTERNAL: Exiting with 5 jobserver tokens available; should be 4!
Invoking "make -j4 -l4" failed

Second attempt using -j1
$ catkin_make -j1
Base path: /home/ubuntu/catkin_ws
Source space: /home/ubuntu/catkin_ws/src
Build space: /home/ubuntu/catkin_ws/build
Devel space: /home/ubuntu/catkin_ws/devel
Install space: /home/ubuntu/catkin_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/ubuntu/catkin_ws/build"
####
####
#### Running command: "make -j1" in "/home/ubuntu/catkin_ws/build"
####
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_f
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_s
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_b
[  6%] Built target rgbdslam_generate_messages_cpp
[  6%] Built target rgbdslam_gencpp
[  8%] Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/moc_graph_manager.cxx.o
[  9%] Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/qt_gui.cpp.o
[ 11%] Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/node.cpp.o
[ 13%] Building CXX object rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/glviewer.cpp.o
In file included from /usr/include/GL/freeglut_std.h:128:0,
                 from /usr/include/GL/glut.h:17,
                 from /home/ubuntu/catkin_ws/src/rgbdslam_v2/src/glviewer.cpp:24:
/usr/include/GL/gl.h:138:17: error: conflicting declaration 'typedef double GLdouble'
 typedef double  GLdouble; /* double precision float */
                 ^
In file included from /usr/include/qt4/QtOpenGL/QtOpenGL:5:0,
                 from /home/ubuntu/catkin_ws/src/rgbdslam_v2/src/glviewer.cpp:22:
/usr/include/qt4/QtOpenGL/qgl.h:85:17: error: 'GLdouble' has a previous declaration as 'typedef GLfloat GLdouble'
 typedef GLfloat GLdouble;
                 ^
In file included from /usr/include/GL/gl.h:2059:0,
                 from /usr/include/GL/freeglut_std.h:128,
                 from /usr/include/GL/glut.h:17,
                 from /home/ubuntu/catkin_ws/src/rgbdslam_v2/src/glviewer.cpp:24:
/usr/include/GL/glext.h:468:19: error: conflicting declaration 'typedef ptrdiff_t GLsizeiptr'
 typedef ptrdiff_t GLsizeiptr;
                   ^
In file included from /usr/include/qt4/QtOpenGL/qgl.h:79:0,
                 from /usr/include/qt4/QtOpenGL/QtOpenGL:5,
                 from /home/ubuntu/catkin_ws/src/rgbdslam_v2/src/glviewer.cpp:22:
/usr/include/GLES2/gl2.h:69:25: error: 'GLsizeiptr' has a previous declaration as 'typedef khronos_ssize_t GLsizeiptr'
 typedef khronos_ssize_t GLsizeiptr;
                         ^
In file included from /usr/include/GL/gl.h:2059:0,
                 from /usr/include/GL/freeglut_std.h:128,
                 from /usr/include/GL/glut.h:17,
                 from /home/ubuntu/catkin_ws/src/rgbdslam_v2/src/glviewer.cpp:24:
/usr/include/GL/glext.h:469:19: error: conflicting declaration 'typedef ptrdiff_t GLintptr'
 typedef ptrdiff_t GLintptr;
                   ^
In file included from /usr/include/qt4/QtOpenGL/qgl.h:79:0,
                 from /usr/include/qt4/QtOpenGL/QtOpenGL:5,
                 from /home/ubuntu/catkin_ws/src/rgbdslam_v2/src/glviewer.cpp:22:
/usr/include/GLES2/gl2.h:70:26: error: 'GLintptr' has a previous declaration as 'typedef khronos_intptr_t GLintptr'
 typedef khronos_intptr_t GLintptr;
                          ^
make[2]: *** [rgbdslam_v2/CMakeFiles/rgbdslam.dir/src/glviewer.cpp.o] Error 1
make[1]: *** [rgbdslam_v2/CMakeFiles/rgbdslam.dir/all] Error 2
make: *** [all] Error 2
Invoking "make -j1" failed

What do I need to do to get this installed?
** EDIT **
Here is the error I get on Jetson TK1 (2048MB swap size)
$ catkin_make
Base path: /home/ubuntu/rgbdslam_catkin_ws
Source space: /home/ubuntu/rgbdslam_catkin_ws/src
Build space: /home/ubuntu/rgbdslam_catkin_ws/build
Devel space: /home/ubuntu/rgbdslam_catkin_ws/devel
Install space: /home/ubuntu/rgbdslam_catkin_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/ubuntu/rgbdslam_catkin_ws/build"
####
####
#### Running command: "make -j1 -l1" in "/home/ubuntu/rgbdslam_catkin_ws/build"
####
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_f
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_s
[  0%] Built target _rgbdslam_generate_messages_check_deps_rgbdslam_ros_ui_b
[  6%] Built target rgbdslam_generate_messages_cpp
[  6%] Built target rgbdslam_gencpp
[  8%] Building CXX object rgbdslam_v2-indigo/CMakeFiles/rgbdslam.dir/src/glviewer.cpp.o
In file included from /usr/include/GL/freeglut_std.h:128:0,
                 from /usr/include/GL/glut.h:17,
                 from /home/ubuntu/rgbdslam_catkin_ws/src/rgbdslam_v2-indigo/src/glviewer.cpp:24:
/usr/include/GL/gl.h:138:17: error: conflicting declaration 'typedef double GLdouble'
 typedef double  GLdouble; /* double precision float */
                 ^
In file included from /usr/include/qt4/QtOpenGL/QtOpenGL:5:0,
                 from /home/ubuntu/rgbdslam_catkin_ws/src/rgbdslam_v2-indigo/src/glviewer.cpp:22:
/usr/include/qt4/QtOpenGL/qgl.h:85:17: error: 'GLdouble' has a previous declaration as 'typedef GLfloat GLdouble'
 typedef GLfloat GLdouble;
                 ^
In file included from /usr/include/GL/gl.h:2059:0,
                 from /usr/include/GL/freeglut_std.h:128,
                 from /usr/include/GL/glut.h:17,
                 from /home/ubuntu/rgbdslam_catkin_ws/src/rgbdslam_v2-indigo/src/glviewer.cpp:24:
/usr/include/GL/glext.h:468:19: error: conflicting declaration 'typedef ptrdiff_t GLsizeiptr'
 typedef ptrdiff_t GLsizeiptr;
                   ^
In file included from /usr/include/qt4/QtOpenGL/qgl.h:79:0,
                 from /usr/include/qt4/QtOpenGL/QtOpenGL:5,
                 from /home/ubuntu/rgbdslam_catkin_ws/src/rgbdslam_v2-indigo/src/glviewer.cpp:22:
/usr/include/GLES2/gl2.h:69:25: error: 'GLsizeiptr' has a previous declaration as 'typedef khronos_ssize_t GLsizeiptr'
 typedef khronos_ssize_t GLsizeiptr;
                         ^
In file included from /usr/include/GL/gl.h:2059:0,
                 from /usr/include/GL/freeglut_std.h:128,
                 from /usr/include/GL/glut.h:17,
                 from /home/ubuntu/rgbdslam_catkin_ws/src/rgbdslam_v2-indigo/src/glviewer.cpp:24:
/usr/include/GL/glext.h:469:19: error: conflicting declaration 'typedef ptrdiff_t GLintptr'
 typedef ptrdiff_t GLintptr;
                   ^
In file included from /usr/include/qt4/QtOpenGL/qgl.h:79:0,
                 from /usr/include/qt4/QtOpenGL/QtOpenGL:5,
                 from /home/ubuntu/rgbdslam_catkin_ws/src/rgbdslam_v2-indigo/src/glviewer.cpp:22:
/usr/include/GLES2/gl2.h:70:26: error: 'GLintptr' has a previous declaration as 'typedef khronos_intptr_t GLintptr'
 typedef khronos_intptr_t GLintptr;
                          ^
make[2]: *** [rgbdslam_v2-indigo/CMakeFiles/rgbdslam.dir/src/glviewer.cpp.o] Error 1
make[1]: *** [rgbdslam_v2-indigo/CMakeFiles/rgbdslam.dir/all] Error 2
make: *** [all] Error 2
Invoking "make -j1 -l1" failed

Originally posted by jacksonkr_ on ROS Answers with karma: 396 on 2016-04-02
Post score: 0

A:

Bit late perhaps, but this could very well be due to your platform not having enough memory to compile all of this. Do you have swap enabled?

(very late) Edit:

g++: error: unrecognized command line option '-mfpmath=sse'

just noticed this line in your "first attempt": sse is an Intel/AMD only instruction set, and is not supported by ARM CPUs.
The other attempts to indeed point to incompatibilities between OpenGL ES and other versions, as @Humpelstilzchen remarked.

Originally posted by gvdhoorn with karma: 86574 on 2016-04-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Humpelstilzchen on 2016-04-05:
The first maybe, the second run looks like an incompatibility with opengl es. There probably is no easy solution for this.
Comment by jacksonkr_ on 2016-04-05:
I noticed that I receive a different error on the Jetson TK1 which is quad for with more ram. I posted the findings in an edit to my original question. I'm going to try an rpi3 tomorrow as well.
Comment by Humpelstilzchen on 2016-04-06:
Check http://answers.ros.org/question/179989/rgbdslam_v2-error-with-make/
Comment by jacksonkr_ on 2016-04-08:
I tried Humpelstilzchen's suggest with no solution. I'm still stuck, witht he Jetson K1 even.
Comment by bogdan on 2016-08-31:
Hello! I have the same problems with Jetson TK1. Did you resolve them?
Comment by jacksonkr_ on 2016-08-31:
I can't remember what I did but it works now on the Jetson TK1. I'm using Ubuntu 14.04 and ROS Indigo. I can install with using the rgbdslam package for ros as well as compiling rgbdslam from the github source.
Comment by Juno Kr on 2017-01-03:
@jacksonkr_ How was RGBDSLAM performance on TK1? Did you try to install on TX1(Ubuntu16.04/JetPack2.3.1/ROS:Kinetic)? What kind version of Kinect did you use?
Comment by jacksonkr_ on 2017-01-05:
RGBDSLAM performance is GREAT and would understandably be even better on the TX1. Kinect v1 model 1414 is my favorite to work with. I've also used Kinect v2 and Intel r200. I encourage Kinect v1 because it uses laser while the other two use infrared bulbs.
Comment by griz11@twc.com on 2017-02-12:
I am trying to build rgbdslam on a TX1 with 16.04. Running into this error. I've seen it before its an intel specific floating point extension. I'm new to catkin_make and ROS so I have no idea how to change this compiler directive. I thought they were all in CMakeCache.txt.
Comment by gvdhoorn on 2017-02-12:
Catkin == basically CMake. So I would expect rgbdslam to set its compiler option in its CMakeLists.txt.
Comment by Dox on 2018-04-04:
Hi everyone! Did anyone succeeded at installing it on RPi3?


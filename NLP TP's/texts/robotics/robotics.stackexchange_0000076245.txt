Q:

misaligned map by using gmapping

Hi , everyone
I'm trying to making map by using gmapping.
But my map is misaligned.
Could you let me know the solution if you have ever experienced like me ?
I use my original robot and using only odometry.
so , It is a little different from the angle value that is calculated and real value.
Thank you

Originally posted by sasadasd on ROS Answers with karma: 104 on 2016-09-11
Post score: 0

Original comments
Comment by ahendrix on 2016-09-11:
"misaligned" can mean a lot of things. Perhaps you could include a screenshot or a picture that shows how your map is misaligned?
Comment by billy on 2016-09-13:
You said you're using only odometry.  I'll assume you mean that you're using a laser scanner and odometry but not using an IMU.  If so, your map looks like you are moving too quickly and rotating much too quickly, or your odometry is poor.  Calibrate the odometry and slow way down when mapping.
Comment by sasadasd on 2016-09-13:
Yes,I didn't use IMU. I tried slow odometry but it didn't improve.
If you know how to calibrate the odometry , could you let me know ?
I have searched the calibration method but I haven't find it yet .
Thank you!
Comment by billy on 2016-09-13:
You didn't give information about the HW, but here is a general list of things to check:
1 - Is your laser scanner zero angle aligned with X axis in base frame?
2 - Is the base/scanner TF correct so that ROS understands pointing direction?
3 - Odom orientation match ROS rules (positive is CCW)?
Comment by billy on 2016-09-13:
4 - Is odom calibrated well? See section 1.2 here: http://wiki.ros.org/navigation/Tutorials/Navigation%20Tuning%20Guide
5 - When mapping, are you making sure that any rotation of the base is very slow? (No really, very slow until you get good results, then you can speed up to find tolerance
Comment by sasadasd on 2016-09-17:
Thank you for your very helpful advice.
1-I uses kinect as laser scanner .I think it is aligned with X axis in base frame.
2- I seted up tf as the attached file.
Please let me know if I discorrect.
I will confirm the other things that you give me.
Thank you.

A:

The target room is simple Rectangle . But it did not correspond with real wall.

Originally posted by sasadasd with karma: 104 on 2016-09-12
This answer was ACCEPTED on the original site
Post score: 0


Q:

Ros1_bridge can't mapping my msgs..... HELP

I installed Ros1_bridge by apt install ros-dashing-ros1_birdge.
and refered to https://github.com/ros2/ros1_bridge/blob/master/doc/index.rst.
i make 'my_mapping_rules.yaml'
<my_mapping_rules.yaml>
-
  ros1_package_name: 'tut_msgs'
  ros1_message_name: 'Num'
  ros2_package_name: 'tut_msgs'
  ros2_message_name: 'Num'

  fields_1_to_2:
    data: 'data' 

#/home/freesun/ros2_ws/src/tut_msgs/msg/Num.msg                  ros2_workspace
#/home/freesun/catkin_ws/src/tut_msgs/msg/Num.msg                ros1_workspace

and placed in /home/freesun/ros2_ws/src/tut_msgs
Finally i modifed msg's CMakeList.txt and package.xml.
But it doesn't working. CANT MAPPING MY MESSAGES!!!!!!!
what's the problem???
HELP ME PLZ..... OTL

Originally posted by Freesun on ROS Answers with karma: 3 on 2020-03-19
Post score: 0

A:

installed Ros1_bridge by apt install ros-dashing-ros1_birdge

This is the reason. The bridge provided in ros-dashing-ros1-bridge has no knowledge of your messages. You need to build a custom bridge from source.
If you follow the steps of the document you link to https://github.com/ros2/ros1_bridge/blob/master/doc/index.rst#how-does-the-bridge-know-about-custom-interfaces it will guide you through how to setup workspaces, build your messages and how to build a bridge capable of bridging your messages

Originally posted by marguedas with karma: 3606 on 2020-03-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Freesun on 2020-03-19:
oh! i got it! i'll do that!! thx  :)
Comment by Freesun on 2020-03-19:
umm.... i faced another problem! when i run all nodes.
ros1_bridge suddenly shut down.
here is error message :
   $ ros2 run ros1_bridge dynamic_bridge 
created 2to1 bridge for topic '/rosout' with ROS 2 type 'rcl_interfaces/msg/Log' and ROS 1 type 'rosgraph_msgs/Log'
created 1to2 bridge for topic '/my_topic' with ROS 1 type 'tut_msgs/Num' and ROS 2 type 'tut_msgs/msg/Num'
[INFO] [ros_bridge]: Passing message from ROS 1 tut_msgs/Num to ROS 2 tut_msgs/msg/Num (showing msg only once per type)
realloc(): invalid pointer

Comment by marguedas on 2020-03-19:
this is unfortunate
Are you using CycloneDDS by any chance ?
Did you try looking for a similar issue on the ros1_bridge repository ? This looks pretty similar to your issue https://github.com/ros2/ros1_bridge/issues/244
Comment by Freesun on 2020-03-19:
okay... i'll search more issues!  thank u  ;)
Comment by Freesun on 2020-03-20:
Hello!! I solved it when i install cyclone dds!!
Comment by marguedas on 2020-03-20:
glad you can now bridge your messages.
As your problem is solved, could you please close the question or,  if it answered your original question, accept the proposed answer by clicking the checkmark on the left.
This will allow to remove your question from the unanswered list


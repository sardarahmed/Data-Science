Q:

How to use good parameter in rtabmap_ros (stereo_mapping.launch)

I get good parameter on rqt_reconfig  this dont have speckle but when roslaunch rtabmap_ros stereo_mapping.launch stereo_namespace:="/stereo_camera" rtabmap_args:="--delete_db_on_start" approximate_sync:=true My map have speckle
how to use parameter on mapping

Originally posted by Greenout on ROS Answers with karma: 21 on 2016-02-27
Post score: 0

Original comments
Comment by ahendrix on 2016-02-27:
What do you mean when you say "I get good parameter on rqt_reconfig" ? Are you using rqt_reconfig to modify the default parameters?
Comment by Greenout on 2016-02-27:
Yes,  result is good (/stereo_camera/points2 ) but when i launch rtabmap_ros stereo_mapping.launch ,i get voxel_cloud ,it have speckle yet  why`?  stereo_camera/points2 what to do
Comment by ahendrix on 2016-02-28:
I still don't understand. Maybe a few pictures or screenshots would help.
Comment by Greenout on 2016-02-28:
can I use stereo Hand-Held Mapping of Rtabmap  use to pointcloud2(stereo_camera/points2) from stereo_image_poc  to make map ? if it not use what should I calibrate disparity map? (voxel_cloud)

A:

Hi,
rtabmap regenerates the disparity image for visualization, so ignoring the parameters you set for stereo_image_proc. If you want to use the disparity image generated from stereo_image_proc, I recommend to do something similar to Stereo A setup by generating a depth image from the disparity image (with rtabmap_ros/disparity_to_depth nodelet) and then use rgbd_mapping.launch instead of stereo_mapping.launch.
<group ns="/stereo_camera" >
    <node pkg="stereo_image_proc" type="stereo_image_proc" name="stereo_image_proc"/>
    <node pkg="nodelet" type="nodelet" name="disparity2depth" args="standalone rtabmap_ros/disparity_to_depth"/>
</group>

Launch:
$ roslaunch rtabmap_ros rgbd_mapping.launch rgb_topic:=/stereo_camera/left/image_rect_color depth_registered_topic:=/stereo_camera/depth camera_info_topic:=/stereo_camera/left/camera_info rtabmap_args:="--delete_db_on_start"

Note that the next rtabmap version will have mostly the same parameters as stereo_image_proc to tune the regenerated disparity image.

Originally posted by matlabbe with karma: 6409 on 2016-02-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Greenout on 2016-03-01:
Can I use other Odometry ?  in Stereo A setup except (viso2_ros)
Comment by matlabbe on 2016-03-01:
Yes, you can. You will then have something similar to Kinect+Odometry setup.
Comment by Greenout on 2016-03-13:
Check my code, please? Under comment
Comment by Greenout on 2016-03-27:
Can I use input from video file for mapping ?
because my computer spec is low ,It is slower than real time
Comment by matlabbe on 2016-03-29:
Well, the best way to do that is to record a rosbag and replay it at a lower rate.
Comment by Greenout on 2016-03-29:
can I use image render?


Q:

error running viso2_ros in monocular mode

Hi guys,
I'm trying to use viso2_ros for monocular visual odometry.
I'm using gscam package (http://www.ros.org/wiki/gscam) to create a video stream:
roscd gscam
export GSCAM_CONFIG="multifilesrc location=\"2010_03_09_drive_0019/I1_%06d.png\" index=0 num-buffers=-1  caps=\"image/png,framerate=\(fraction\)1/1\" ! videorate framerate=5/1 ! pngdec ! ffmpegcolorspace"
rosrun gscam gscam

Note: All *.png images are downloaded from http://www.cvlibs.net/datasets/karlsruhe_sequences.html
After I run viso2_ros to get odometry:
roscd viso2_ros
rosrun viso2_ros mono_odometer _camera_height:=0.555 _camera_pitch:=-0.523598776 _ransac_iters:=2000 _inlier_threshold:=0.00001 _motion_threshold:=100.0 /image:=gscam/image_raw

But after some image, I get the following error:
ERROR: Cannot get submatrix [3..3] x [0..-1] of a (0x0) matrix.
This is due by a submatrix operation form a small matrix to a bigger one..
Can anyone help me please?
Regards

Originally posted by aldo85ita on ROS Answers with karma: 252 on 2012-09-04
Post score: 1

Original comments
Comment by Stephan on 2012-09-04:
Which sequence are you using? How does your camera info look like? I cannot reproduce the error using the sequence 2010_03_09_drive_0023.zip.
Comment by aldo85ita on 2012-09-11:
@Stephan Hi Stephen, I'm using  2010_03_09_drive_0023.zip , but I didn't set any CameraInfo, how can I set it? there is a file called "2010_03_09_calib.txt" that contains all camera calibration info. I need to find a way to pass them to mono_odometer application.
Comment by aldo85ita on 2012-09-11:
@Stephan I set the right camera info modifying "camera_parameters.txt" (the file loaded by default during gscam startup). So, now I'm passing the right "sensor_msgs/CameraInfo" to viso2_ros ( https://plus.google.com/photos/110821693483007740796/albums/5786873215167754961?a), but the problem persists

A:

I fixed the error setting the right camera calibration parameters, for details see this other topic:
http://answers.ros.org/question/41936/error-with-viso2_ros-package-cannot-get-submatrix-33-x-0-1-of-a-0x0-matrix/
Regards

Originally posted by aldo85ita with karma: 252 on 2012-09-12
This answer was ACCEPTED on the original site
Post score: 1


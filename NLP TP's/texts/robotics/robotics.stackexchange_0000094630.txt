Q:

Whats the proper way to use a proprietary software license according to ament_copyright?

I'm exploring ROS2, and I'm currently looking into unit testing.
I'm running the following commands,
colcon test
colcon test-result --verbose

I'm always getting a warning for a missing license:
test/test_something.py: copyright=My Company (2020), license=<unknown>

This is the header for my test_something.py file:
# Copyright 2020 My Company
# Proprietary License

Whats the proper text to include in the header for the warning to go away, for a Proprietary Software License? I've taken a look at the ament_copyright documentation but I didn't find an answer to my question.

Originally posted by Gonçalo Cabrita on ROS Answers with karma: 591 on 2020-02-05
Post score: 0

A:

According to ament_copyright/doc/index.rst:

The package uses Python entry points to get all list of known licenses and copyright holder. You can implement a custom package and contribute more implementations to these entry points or extend this package with more licenses.

It's rather terse, but that would seem to be the way to add custom licenses.
Using a separate package to host them and extend ament_copyright seems like a nice clean approach. Not sure what the runtime overhead of that would be though.

Originally posted by gvdhoorn with karma: 86574 on 2020-02-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by tfoote on 2020-02-05:
Python entrypoints are very low overhead. All the existing licenses are already entrypoints even for the "default" ones. As an example of what it takes to add a license see: https://github.com/ament/ament_lint/pull/205/files including registering the entrypoint. That registration can be done from any python package in the workspace.
Comment by Gonçalo Cabrita on 2020-02-05:
Extending the package seems like a very good option for this use case, I'll give it a try and report on my findings.
Comment by Gonçalo Cabrita on 2020-02-10:
So I just experimented cloning the ament_copyright package to my workspace, added my proprietary license to ament_copyright (on my workspace) as suggested by Tully and it works beautifully. In my opinion this is a great solution for proprietary software.
Comment by gvdhoorn on 2020-02-10:
I believe the idea is to create a new package, host your files in there and then extend ament_copyright by registering an entrypoint with ament_copyright.
That would avoid you having to maintain a fork of the package while still being able to add the custom license check.
Comment by tfoote on 2020-02-10:
Exactly what @gvdhoorn said. You should create your own package and export the entry point for ament_copyright to find. What you did to extend ament_copyright to support your package can be done in any python package you include in your workspace. I'd suggest a dedicated package mycompany_ament_copyright.


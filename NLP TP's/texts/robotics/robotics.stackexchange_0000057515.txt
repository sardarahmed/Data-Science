Q:

Change dynamixel MX PID parameters?

Hi,
I'm trying to play with the PID parameters in some MX-106 servos, however am a bit unclear on how to do this. I believe that to change the P parameter I should use the set_compliance_slope service, and have tried even setting this to zero but find that I cannot move the servo freely although I expected to be able to do so. I guess my question is: exactly how can I set the PID parameters in ROS? And how do I check these values have been set to the ones I requested?
Thanks

Originally posted by sofiad on ROS Answers with karma: 58 on 2014-02-26
Post score: 1

Original comments
Comment by ahendrix on 2014-02-26:
Which dynamixel driver are you using?

A:

Hi,
The short version is that it's not really possible right now with the current implementation. I started the driver before there were any MX motors and added those models later. But Robotis decided to use the same register addresses for PID gains as for compliance margin and slope in previous series motors (RX, AX, DX, and whatever else they had before MX). See below:
DXL_CW_COMPLIANCE_MARGIN = 26
DXL_CCW_COMPLIANCE_MARGIN = 27
DXL_CW_COMPLIANCE_SLOPE = 28
DXL_CCW_COMPLIANCE_SLOPE = 29
DXL_D_GAIN = 26
DXL_I_GAIN = 27
DXL_P_GAIN = 28

So, theoretically your setting Compliance Slope to 0 should have set the P_GAIN to 0 and overwrite whatever was in register 29 (since service exposed modifies both CW and CCW simultaneously). Have you tried modifying the P_GAIN register through software provided by Robotis to make sure it does what you expect it to?

Originally posted by arebgun with karma: 2121 on 2014-02-27
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by sofiad on 2014-03-04:
Hi, Thanks for your answer. I has actually figured that out but was getting confused because setting the P to zero (the only one not zero by default) still has the servo move to the goal position- I expected this to not be the case. However, this happens when I use the ROS driver as well as the Robotis software.


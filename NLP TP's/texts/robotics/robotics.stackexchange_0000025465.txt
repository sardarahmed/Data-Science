Q:

roslaunch after install won't run drcsim [gazebo-2] process has died exit code 127

I'm trying to follow the directions from here: http://gazebosim.org/wiki/DRC/Install
And i've tried both binary and source install procedures. Everything seems to go well until I try to run the launch command roslaunch drc_robot_utils drc_robot.launch
I get the following output on the command line:
   auto-starting new master
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[master]: started with pid [32326]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 88a9d9a0-407a-11e2-b88a-180373236147
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[rosout-1]: started with pid [32339]
started core service [/rosout]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[gazebo-2]: started with pid [32353]
gazebo: error while loading shared libraries: libOgreRTShaderSystem.so.1.7.3: cannot open shared object file: No such file or directory
[gazebo-2] process has died [pid 32353, exit code 127, cmd /usr/local/share/drcsim-1.1/ros/drc_robot_utils/scripts/run_gazebo drc_robot.world __name:=gazebo __log:=/home/ronj/.ros/log/88a9d9a0-407a-11e2-b88a-180373236147/gazebo-2.log].
log file: /home/ronj/.ros/log/88a9d9a0-407a-11e2-b88a-180373236147/gazebo-2*.log
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[robot_state_publisher-3]: started with pid [32355]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[pr2_mechanism_diagnostics-4]: started with pid [32368]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[fake_joint_calibration-5]: started with pid [32393]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[tf2_buffer_server-6]: started with pid [32394]
[ WARN] [1354890580.198632909]: You've passed in true for auto_start for the C++ action server at [/tf2_buffer_server]. You should always pass in false to avoid race conditions.
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[drc_robot_controller_spawner-7]: started with pid [32421]

I've tried installing the libraries from this similar issue but it doesnt seem to help: http://ec2-184-169-173-164.us-west-1.compute.amazonaws.com/wiki/DRC/Install
I'm running on a core i7 with an nvidia gpu. I've also installed the Ogre LIBs from the Ubuntu installer.
edit: i just realized that it's using ogre 1.7.3 where the version installed is 1.7.4. But I can't seem to find 1.7.3 in the apt repository.
Is there a way to tell gazebo to use the 1.7.4 instead?

Originally posted by RonJ on Gazebo Answers with karma: 21 on 2012-12-07
Post score: 1

Original comments
Comment by RonJ on 2012-12-07:
I've followed these instructions as well, which also seem to be using the 1.7.4 . http://gazebosim.org/wiki/1.0/install
Comment by gerkey on 2012-12-07:
Gazebo is using OGRE 1.7.3 from the ros-visualization-common package.  We do that to get acess to a version of OGRE that has Cg support compiled in, which we need for certain shaders.  That will change around Gazebo 1.4, after those shaders have been rewritten in glsl; we'll use the system OGRE.

A:

The problem is that the loader can't find OGRE:
gazebo: error while loading shared libraries: libOgreRTShaderSystem.so.1.7.3: cannot open shared object file: No such file or directory

That's because your LD_LIBRARY_PATH isn't set properly.  I would guess that it's caused by this bug in drcsim's setup.sh, which causes Gazebo's setup.sh to not be sourced.
Try explicitly sourcing Gazebo's setup file first, e.g.:
. /usr/share/gazebo-1.3/setup.sh
. /usr/share/drcsim-1.1/setup.sh
roslaunch drc_robot_utils drc_robot.launch

If you want to more directly check whether your library paths are properly configured, use ldd, e.g.:
ldd `which gazebo`

If you see "not found" anywhere in that output, you're missing something in your LD_LIBRARY_PATH (which the above workaround should fix).

Originally posted by gerkey with karma: 1414 on 2012-12-07
This answer was ACCEPTED on the original site
Post score: 1


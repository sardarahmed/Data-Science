Q:

Autoware camera-lidar-calibration Error

I trying camera-lidar calibration.
Method is below.
https://autoware.readthedocs.io/en/feature-documentation_rtd/DevelopersGuide/PackagesAPI/sensing/autoware_camera_lidar_calibrator.html
But Error  when "How to launch" No.3. (An image viewer will be displayed.)
Error message is below.
ERROR: cannot launch node of type [calibration_publisher/calibration_publisher]: calibration_publisher  
ROS path [0]=/opt/ros/melodic/share/ros  
ROS path [1]=/home/ubuntu/autoware_sh/autoware.ai/src/autoware/utilities/autoware_camera_lidar_calibrator  
ROS path [2]=/home/ubuntu/autoware_sh/autoware.ai/install/autoware_msgs/share  
ROS path [3]=/home/ubuntu/autoware_sh/autoware.ai/install/autoware_build_flags/share  
ROS path [4]=/opt/ros/melodic/share  
ERROR: cannot launch node of type [image_processor/image_rectifier]: image_processor  
ROS path [0]=/opt/ros/melodic/share/ros  
ROS path [1]=/home/ubuntu/autoware_sh/autoware.ai/src/autoware/utilities/autoware_camera_lidar_calibrator  
ROS path [2]=/home/ubuntu/autoware_sh/autoware.ai/install/autoware_msgs/share  
ROS path [3]=/home/ubuntu/autoware_sh/autoware.ai/install/autoware_build_flags/share  
ROS path [4]=/opt/ros/melodic/share  

How can I solve it?
　OS：ubuntu 18.04
　ROS：melodic
　Platform：Jetson AGX Xavier
　Autoware：1.14.0 (source build)

Originally posted by ken_koba on ROS Answers with karma: 11 on 2020-11-26
Post score: 0

A:

This looks like an issue with sourcing. When the instructions say "in a sourced terminal," they mean you must first run:
source ~/your_autoware_workspace/devel/setup.bash

Originally posted by Josh Whitley with karma: 1766 on 2020-12-07
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ken_koba on 2020-12-08:
Thank you for the information.
But Already I tried it and Does not solve.
I'm using the following command and setup.bash, is there a problem?
◆command
cd /home/mypc/autoware.ai/build/autoware_camera_lidar_calibrator/
source devel/setup.bash (Details is below)
roslaunch autoware_camera_lidar_calibrator camera_lidar_calibration.launch
intrinsics_file:=/media/mypc/SSD/calibdata/YYYYMMDD_SSSS_autoware_camera_calibration.yaml
image_src:=/image_raw
◆setup.bash
#!/usr/bin/env bash
generated from catkin/cmake/templates/setup.bash.in
CATKIN_SHELL=bash
source setup.sh from same directory as this file
_CATKIN_SETUP_DIR=$(builtin cd "`dirname "${BASH_SOURCE[0]}"`" > /dev/null && pwd)
. "$_CATKIN_SETUP_DIR/setup.sh"
Comment by Josh Whitley on 2020-12-28:
You should not cd this file but source it instead:
source /home/mypc/autoware.ai/build/autoware_camera_lidar_calibrator/
source devel/setup.bash

Also, what command are you using to build your workspace?
Comment by ken_koba on 2021-01-04:
I tried below. But does not solve.
source ~/your_autoware_workspace/devel/setup.bash
and
source /home/mypc/autoware.ai/build/autoware_camera_lidar_calibrator/ source devel/setup.bash
Create the workspace by the following method.
$ mkdir -p autoware.ai/src
I referred to the following.
https://gitlab.com/autowarefoundation/autoware.ai/autoware/-/wikis/Source-Build
(How to build.For 1.12.0 and Newer)
Comment by Josh Whitley on 2021-01-04:
Do not use the build folder in your workspace. You do not need anything from the build folder, only the devel folder.
To build:
$ cd ~
$ mkdir -p autoware.ai/src
$ wget -O autoware.ai.repos "https://gitlab.com/autowarefoundation/autoware.ai/autoware/raw/1.14.0/autoware.ai.repos?inline=false"
$ vcs import src < autoware.ai.repos
$ rosdep update
$ rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO
$ AUTOWARE_COMPILE_WITH_CUDA=1 colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release

To run intrinsic calibration:
$ cd ~/autoware.ai
$ source devel/setup.bash
$ rosrun autoware_camera_lidar_calibrator cameracalibrator.py --square SQUARE_SIZE --size MxN image:=/image_topic

After this, continue with instructions from https://autoware.readthedocs.io/en/feature-documentation_rtd/DevelopersGuide/PackagesAPI/sensing/autoware_camera_lidar_calibrator.html.
Comment by ken_koba on 2021-01-05:
Thank you for the information.
"To build" is pass.
But "To run intrinsic calibration:" is Error
$ cd ~/autoware.ai  
$ source devel/setup.bash  
bash: devel/setup.bash: No such file or directory.  

The contents of the autoware.ai folder are as follows.
/build
/install
/log
/src
/autoware.ai.repos
The source folder certainly does not exist.
Is it a matter of installation?
Comment by sgermanserrano on 2021-01-05:
@ken_koba please do
source install/setup.bash
instead of sourcing from the devel folder
Comment by Josh Whitley on 2021-01-05:
Sorry, yes, @sgermanserrano is correct. I forgot we build with colcon instead of catkin.
Comment by ken_koba on 2021-01-07:
@sgermanserrano,@Josh Whitley
Thank you for the information.
The problem has been resolved.
But could not resize the image_view2 window.
I want to small.
What should i do?
The file I'm using is sample2's extrinsic.bag.
Comment by Josh Whitley on 2021-01-07:
@ken_koba This is a separate issue and ROS Answers is a one-problem-per-question kind of site. Please ask a new question for this issue and please mark this as the answer (the checkmark).


Q:

Unable to sync with device (arduino uno)

Hello guys,
Im trying to connect my Arduino Uno to Gazebo simulator via ROS to control a robot model.
I set up the installation of rosserial according to the tutorial and moved on to the hello world tutorial.
However when I want to connect my arduino Uno with:
rosrun rosserial_python serial_node.py _port:=/dev/ttyACM0   (Im sure I have the correct serial port)
I get the following message:
[INFO] [WallTime: 1414579866.487628] ROS Serial Python Node
[INFO] [WallTime: 1414579866.493390] Connecting to /dev/ttyACM0 at 57600 baud

/home/max/catkin_ws/install/lib/python2.7/dist-packages/rosserial_python/SerialClient.py:336: SyntaxWarning: The publisher should be created with an explicit keyword argument 'queue_size'. Please see http://wiki.ros.org/rospy/Overview/Publishers%20and%20Subscribers for more information.
  self.pub_diagnostics = rospy.Publisher('/diagnostics', diagnostic_msgs.msg.DiagnosticArray)

[ERROR] [WallTime: 1414579883.599380] Unable to sync with device; possible link problem or link software version mismatch such as hydro rosserial_python with groovy Arduino

I already reinstalled rosserial, but that didn't help.
Anyone with an idea?
Thanks in advance!

Originally posted by squiq on ROS Answers with karma: 41 on 2014-10-29
Post score: 4

Original comments
Comment by MKI on 2014-10-29:
Can you please specify which version of ROS you are using and also have you made sure that you have right the serial port settings on your sketchbook (i.e, have you selected the right board, have you checked the serial port you are using etc...) ?
Comment by gowtham raja on 2019-11-26:
hi can u help me to how to interface with arduino

A:

Hi,
Looking at the error message, I see that you are using a mismatched version of rosserial!! please make sure to clone the right version into your pc. i.e. if your are using hydro ROS then you use this source code and if you are using groovy you should this one here and for indigo its this one. and then you can follow the Arduino setup tutorial here to get the rosserial to work. After you do this, It should work without any problem. Hope this helps.

Originally posted by MKI with karma: 246 on 2014-10-29
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by squiq on 2014-10-29:
Thanks a lot for you response.
Do you mean that in stead of:
git clone https://github.com/ros-drivers/rosserial.git

I should use the link you provided? I use indigo so:
git clone https://github.com/ros-drivers/rosserial/tree/indigo-devel.git 

Because that gives an error: not found
Comment by MKI on 2014-10-29:
not exactly! you can download the .zip for the older versions from the links I have given. instead of git clone ... just extract this .zip file and continue to build.
Comment by MKI on 2014-10-29:
you will find it the right corner of your screen, just below the http clone url ... .. you can clone it this way too git clone --branch groovy-devel https://github.com/ros-drivers/rosserial.git ... but you have to be sure you have the right version of the code. I found .zip to be the easy way.
Comment by squiq on 2014-10-29:
Thanks a lot for your help, the serial communication works! You saved my day!
Comment by Karz on 2015-10-08:
This answer helped me too :) Thanks MKI
Comment by adelleodel on 2016-05-25:
i've tried this, but still got that error.. should i remove the package first before reinstall the new one? because i just replaced the direc of rosserial from /src/ to somewhere.
Comment by Kibria on 2018-01-20:
Thanks MKI !!! I just want to mention one more thing. Don't forget to reinstall "ros_lib" into the Arduino Environment after you reinstall rosserial according to your ROS version. Then upload your code again to Arduino using the new installation. Hope it helps :)


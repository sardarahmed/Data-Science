Q:

Videre STOC disparity map OK under Windows, not under Ubuntu

Hello Videre stereo camera users,
I have a recently purchased Videre STOC camera (6cm baseline) that I'm trying to get working with ROS under Ubuntu 10.04.  I have the latest SVS software for both Windows and Linux and I can access the camera under both operating systems.  The trouble is I'm not getting meaningful disparity maps under Linux, only under Windows.  I've attached two screen captures from the smallv application.  As you can see, the disparity image made under Windows looks reasonable, but the one made under Ubuntu looks rather crazy.  Note that I am using the stock SVS drivers I downloaded from the Videre site--in other words, I have not built anything myself.  Also, I had to make the following simlink:
$ sudo ln -s libraw1394.so.11.0.1 libraw1394.so.8
to get the smallv application to run under Ubuntu 10.04.  Any ideas as to what I might need to tweak would be appreciated!
videre_test_windows.png

videre_test_ubuntu.png
Patrick Goebel

The Pi Robot Project

http://www.pirobot.org

Originally posted by Pi Robot on ROS Answers with karma: 4046 on 2011-02-18
Post score: 0

A:

You apparently have an out of date SVS Linux binary,.
The libraw1394-8 package was provided with Ubuntu Hardy back in April 2008. Current Ubuntu systems (Karmic, Lucid, Maverick, Natty) all use libraw1394-11. The version number would not have changed had the new library been completely compatible with the old one. So, it is no surprise for it not to work correctly.
You either need to find a newer SVS build or build it yourself from source (if that is possible).

Originally posted by joq with karma: 25443 on 2011-02-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by joq on 2011-02-24:
Good idea, I should have thought of that. It may not work with Ubuntu 10.10 (or newer) because they use the new Juju firewire kernel stack.
Comment by Pi Robot on 2011-02-24:
I haven't heard back from Videre, but it occurred to me to find a copy of the old libraw1394.so.8 and install it under /usr/lib and that definitely cleaned up the disparity view in smallv.  I still can't get a good point cloud in RViz, but I'll worry about that later...
Comment by Pi Robot on 2011-02-19:
Thanks joq.  Yes, the SVS software seems rather old--2008 as you suspected.  I am using the latest SVS tarball from Videre which is version 44g and date stamped Nov 5, 2008.  I'll send in a note to their tech support to see if they have a later version.


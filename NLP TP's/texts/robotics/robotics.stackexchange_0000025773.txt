Q:

Google Protobuf Version between Gazebo 1.3 and Gazebo 1.4

I am migrating from Gazebo 1.3.1 to Gazebo 1.4 now.
My google protoc version is 2.4.1. It was fine with Gazebo 1.3.1
But, I got problem after installing Gazebo 1.4.
When I compiling my plugin, I always got following errors.
/usr/local/include/gazebo-1.4/gazebo/msgs/topic_info.pb.h:17:2: error: #error This file was generated by an older version of protoc which is
/usr/local/include/gazebo-1.4/gazebo/msgs/topic_info.pb.h:18:2: error: #error incompatible with your Protocol Buffer headers. Please
/usr/local/include/gazebo-1.4/gazebo/msgs/topic_info.pb.h:19:2: error: #error regenerate this file with a newer version of protoc.

I found that the required google protoc version is changed from 2.4.0~2.4.1 to 2.3.
Below is /usr/local/include/gazebo-1.4/gazebo/msgs/server_control.pb.h .
#if GOOGLE_PROTOBUF_VERSION < 2003000
#error This file was generated by a newer version of protoc which is
#error incompatible with your Protocol Buffer headers.  Please update
#error your headers.
#endif
#if 2003000 < GOOGLE_PROTOBUF_MIN_PROTOC_VERSION
#error This file was generated by an older version of protoc which is
#error incompatible with your Protocol Buffer headers.  Please
#error regenerate this file with a newer version of protoc.
#endif

Do I need to downgrade google protoc?

Originally posted by Daehyung Park on Gazebo Answers with karma: 47 on 2013-02-04
Post score: 0

A:

Reading carefully the output, looks like you compiled and installed gazebo using a previous version of protobuf (probably 2.3). Now you have a newer version (2.4) and the previous compiled code using 2.3 can not work with current installed version.
I would try to compile gazebo with the new 2.4 protobuf library and install it again. If re-compiling is not an option, yes, downgrade the protobuf libraries should work.
I compile gazebo everyday against 2.4.1 protobuf library and it is perfectly compatible.

Originally posted by Jose Luis Rivero with karma: 1485 on 2013-02-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Daehyung Park on 2013-02-08:
I cleanup and recompiled using 2.4. Now, it works fine! Thanks.


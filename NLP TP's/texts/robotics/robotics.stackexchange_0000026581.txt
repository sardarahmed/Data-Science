Q:

Gazebo parse problem with Groovy

Hello,
I have just installed ros-groovy and when I try to run the gazebo example:
roslaunch gazebo_worlds empty_world.launch

there is no problem, but if I try to lauch any of the other examples with:
roslaunch gazebo_worlds office_world.launch

I have some errors:
Msg Waiting for master.Warning [parser.cc:377] SDF has no <sdf> element in
file[/opt/ros/groovy/stacks/simulator_gazebo/gazebo_worlds/worlds/simple_office.world]
Error:   Could not find the 'robot' element in the xml file
         at line 59 in
/tmp/buildd/ros-groovy-urdfdom-0.2.7-0precise-20130326-0224/urdf_parser/src/model.cpp
Error [parser_urdf.cc:1814] Unable to call parseURDF on robot model
Warning [parser.cc:377] SDF has no <sdf> element in file[urdf file]
Error [parser.cc:291] parse as old urdf model file failed.
Error [Server.cc:253] Unable to read sdf
file[/opt/ros/groovy/stacks/simulator_gazebo/gazebo_worlds/worlds/simple_office.world]
Segmentation fault (core dumped)
[gazebo-2] process has died [pid 29155, exit code 139, cmd
/opt/ros/groovy/stacks/simulator_gazebo/gazebo/scripts/gazebo
/opt/ros/groovy/stacks/simulator_gazebo/gazebo_worlds/worlds/simple_office.world
__name:=gazebo
__log:=/home/tseco/.ros/log/a6bdf53c-eae5-11e2-9efd-3cd92b6f7a37/gazebo-2.log].
log file:
/home/tseco/.ros/log/a6bdf53c-eae5-11e2-9efd-3cd92b6f7a37/gazebo-2*.log

The gazebo version installed is 1.5.
Any suggestions?
Best regards,

Originally posted by tseco on Gazebo Answers with karma: 11 on 2013-07-22
Post score: 0

A:

It looks like the gazebo_worlds package in ROS Groovy contains some very old .world files that use a syntax that's no longer supported.  Specifically, these .world files will fail to parse:

3stacks.world
balcony.world
camera.world
elevator.world
empty_listener.world
grasp.world
scan.world
simple_erratic.world
simple_office_table.world
simple_office.world
simple.world
test_friction.world
wg.world

So you should avoid using those .world files, including the .launch files that refer to them.
Note that the simulator_gazebo stack (which contains the gazebo_worlds package) has been deprecated starting in ROS Groovy and will no longer be distributed in ROS Hydro.

Originally posted by gerkey with karma: 1414 on 2013-07-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by tseco on 2013-07-24:
Thank you very much for your answer. Is it possible to use urdf files with gazebo and groovy or only sdf files?
Comment by tseco on 2013-07-24:
Thank you very much.
Comment by nkoenig on 2013-07-24:
Yes you can use URDF files with gazebo.


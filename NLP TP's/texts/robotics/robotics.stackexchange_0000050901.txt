Q:

Confused about getting XV11 laser data into rviz

Okay, so I finally know enough about ROS to totally tie myself up in knots here.
I've got my Neato laser up and running and pumping but data to the /scan topic but not seeing anything in rviz.
I'm running Groovy on a Beaglebone w/ Precise LTS (12.04).
I'm running rviz remotely on a separate laptop, also running Groovy on Precise LTS.
I have a Neato LIDAR hooked up to it, running the cwru-ros-pkg XV11 laser driver.
rostopic shows the laser successfully publishing to a topic called "/scan":
ubuntu@arm:~$ rostopic list
/rosout
/rosout_agg
/scan
ubuntu@arm:~$

I'm getting data from rostopic echo on both the Beaglebone and the laptop I'm running rviz on:
armadilo@talon:~$ rostopic echo /scan
header: 
  seq: 15555
  stamp: 
    secs: 1367714272
    nsecs: 996305089
  frame_id: neato_laser
angle_min: 0.0
angle_max: 6.28318548203
angle_increment: 0.0174532923847
time_increment: 0.000163100005011
scan_time: 0.0
range_min: 0.0599999986589
range_max: 5.0
ranges: [0.2980000078678131, 0.3059999942779541, 0.3140000104904175, 0.3240000009536743, 0.3330000042915344, 0.34200000762939453, 0.35100001096725464, 0.3610000014305115

But nothing is showing up in rviz.
I'm using the cwru-ros-pkg xv11_laser_driver which publishes to the /scan topic, not sensor_msgs/LaserScan.  I'm sure I'm missing a big chunk of something here but am not exactly sure what.
Any help from those who've been able to get data from their XV11 laser into rviz or other parts of the ROS stack would be appreciated.
Thanks!
'dillo

Originally posted by jetdillo on ROS Answers with karma: 41 on 2013-05-05
Post score: 0

A:

The problem showing the data in RViz was most likely caused by having "fixed frame" in rviz set to the wrong thing.  You can see the frame_id in the laser message headers is "neato_laser".  RViz either needs to have that as the fixed frame, or it needs TF messages (on topic /tf) being published which show the relationship between the "neato_laser" coordinate frame and the fixed frame.  Typically these are specified in a URDF describing the robot's various links and sensors (each with its own coordinate frame name) and published by robot_state_publisher.  Then there is "amcl" which does localization which can give the relationship between the robot's base_link and the map.  Since "map" is a very common fixed frame to use, that is the default in rviz.

Originally posted by hersh with karma: 1351 on 2013-06-18
This answer was ACCEPTED on the original site
Post score: 0


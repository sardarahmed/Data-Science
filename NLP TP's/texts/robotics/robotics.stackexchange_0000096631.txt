Q:

Why is point_cloud2.py missing from sensor_msgs in ROS2?

After subscribing to a PointCloud2 message in ROS2, I want to extract the PointCloud2 points from the message.  In ROS1 I could do that with: sensor_msgs.point_cloud2.read_points().  However, point_cloud2 seems to be missing from sensor_msgs in ROS2.  Here is the basic code I am trying to write:
import rclpy 
from rclpy.node import Node 
from sensor_msgs.msg import PointCloud2 
from sensor_msgs import point_cloud2

class my_node(Node):
    def __init__(self):
        super().__init__('my_node')    
        self.subscription = self.create_subscription(PointCloud2,'/points',self.lidar_callback,1)

    def lidar_callback(self, msg):
        pts = point_cloud2.read_points(msg, field_names=['x','y','z','intensity'])
        #Now process pts...

The 4th line fails, namely:
from sensor_msgs import point_cloud2

Any insights on how to do this in ROS2 Foxy?

Originally posted by Morris on ROS Answers with karma: 35 on 2020-07-24
Post score: 0

A:

https://github.com/ros2/common_interfaces/tree/master/sensor_msgs
Not ported yet. https://github.com/ros/common_msgs/tree/noetic-devel/sensor_msgs/src/sensor_msgs looks pretty trivial to port though if you need it. Submit a PR!

Originally posted by stevemacenski with karma: 8272 on 2020-07-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Morris on 2020-07-24:
Ah yes, I will do that, but I'm new to this.  How to submit a PR?
Thanks!
Comment by stevemacenski on 2020-07-24:
Through GitHub, you have to understand Git to do so (if you don't know Git, you should really learn, its the basis for modern software development).
Comment by Morris on 2020-07-24:
Okay, I submitted this as a feature request.  Hopefully that is the right thing to do.
Thanks.
Comment by stevemacenski on 2020-07-24:
Sure thing, can you mark this answer as correct then?


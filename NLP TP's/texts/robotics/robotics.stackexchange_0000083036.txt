Q:

Joint Torque Control for Universal Robot

Hi All.
I’m wondering is there anybody who has tried to do a joint torque control (i.e. effort_controllers of the ros_control package) for the Universal Robot? I believe I could implement the controller for the robot’s model in Gazebo. However, I’m not sure how to combine the real robot with the ros_control package. I tried to find the solution online, however, most of the sources deal only with the trajectory controller via MoveIt.
Any help will be much appreciated.
Best regards,
Ataka

Originally posted by ahmadataka on ROS Answers with karma: 13 on 2017-09-28
Post score: 1

A:

As far as I know, URs don't support joint torque control, not through ROS, neither through the manufacturer's software (see the The URScript Programming Language version 3.4.4 fi). They do support a form of Cartesian force/torque control, but that is not exposed through any of the drivers I'm aware of.
I'm not sure whether the velocity interface could be exploited to create a work-around, but that would need some control work.
In Gazebo this is completely different, as there the robot isn't using the real controller, but a ros_control based simulation interface, which can do and support whatever it wants/needs.

Originally posted by gvdhoorn with karma: 86574 on 2017-09-28
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ahmadataka on 2017-09-28:
Dear gvdhoorn
Thanks a lot for your reply. I'll try to find out another way then.
Best regards,
Ataka
Comment by doubleJ on 2020-02-07:
Hello.
I wonder that URs still don't support joint torque control.
Thank you very much.
Comment by gvdhoorn on 2020-02-07:
I don't believe the situation has changed.
Comment by StewartHemm74 on 2021-05-20:
Has there been any recent changes? I've noticed that the force data I'm reading back from the robot is wrong, and I'm curious to know if that's because of the joint-torques being read from the hardware? Could the Universal robot ros driver be interferring with the data?
Comment by gvdhoorn on 2021-05-21:
No, nothing has changed.

I've noticed that the force data I'm reading back from the robot is wrong, and I'm curious to know if that's because of the joint-torques being read from the hardware?

Afaik, the effort field carries the current values (as in: amps), not actual joint torque. Those are certainly related, but not identical. IIRC, that's because the UR controller doesn't (or didn't) include joint torques in the state msgs it's sending to the PC.


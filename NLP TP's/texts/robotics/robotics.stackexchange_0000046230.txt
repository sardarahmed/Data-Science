Q:

[Groovy Beta] Troubles migrating to catkin

I installed the groovy base packages following these instructions. I want to convert my packages (I wrote) to catkin so they are "groovy". However, when I run catkin_make, nothing gets built.
I converted my manifest.xml to a package.xml:
<?xml version="1.0"?>
<package>
  <name>serial_node</name>
  <version>0.0.0</version>
  <description>serial_node</description>

  <maintainer email="kevin@todo.todo">kevin</maintainer>

  <license>BSD</license>

  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>roscpp</build_depend>
  <build_depend>std_msgs</build_depend>

  <!-- The export tag contains other, unspecified, tags -->
  <export>
    <!-- You can specify that this package is a metapackage here: -->
    <!-- <metapackage/> -->
    
    <!-- Other tools can request additional information be placed here -->

  </export>
</package>

My CMakeLists.txt is:
cmake_minimum_required(VERSION 2.8.3)
project(serial_node)

## Find catkin and system dependencies

## Find catkin and any catkin packages on which
## this package depends at build time
find_package(catkin REQUIRED COMPONENTS roscpp)

## Declare ROS messages and services

## Generate services in the 'srv' folder
add_service_files(
   DIRECTORY srv
   FILES
   serial.srv
)

## Generate added messages and services with any dependencies listed here
generate_messages(DEPENDENCIES std_msgs)

## Declare things to be passed to other projects
catkin_package(
  INCLUDE_DIRS include
  LIBRARIES ${PROJECT_NAME}
  CATKIN_DEPENDS roscpp std_msgs # catkin-pkg1 catkin-pkg2
#  DEPENDS Boost # other-3rd-party-libraries
)

## Specify additional locations of header files
include_directories(include ${catkin_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS})

## Declare a cpp executable
add_executable(serial_node src/serial_node_service.cpp)

I have sourced setup.bash and my environment is:
[kevin@tardis serial_node]$ env | grep ROS
ROS_ROOT=/opt/ros/groovy/share/ros
ROS_PACKAGE_PATH=/Users/kevin/ros_sandbox/serial_node/src:/opt/ros/groovy/share:/opt/ros/groovy/stacks
ROS_MASTER_URI=http://localhost:11311
ROS_TEST_RESULTS_DIR=/Users/kevin/ros_sandbox/serial_node/build/test_results
ROS_OS_OVERRIDE=osx:homebrew
ROS_NO_SUDO_PIP=True
ROS_DISTRO=groovy
ROS_ETC_DIR=/opt/ros/groovy/etc/roslib

In the package directory, when I run catkin_make I don't get any binaries in the devel or build folder.
[kevin@tardis serial_node]$ catkin_make
Base path: /Users/kevin/ros_sandbox/serial_node
Source space: /Users/kevin/ros_sandbox/serial_node/src
Build space: /Users/kevin/ros_sandbox/serial_node/build
Devel space: /Users/kevin/ros_sandbox/serial_node/devel
Install space: /Users/kevin/ros_sandbox/serial_node/install
####
#### Running command: "cmake /Users/kevin/ros_sandbox/serial_node/src -DCATKIN_DEVEL_PREFIX=/Users/kevin/ros_sandbox/serial_node/devel -DCMAKE_INSTALL_PREFIX=/Users/kevin/ros_sandbox/serial_node/install" in "/Users/kevin/ros_sandbox/serial_node/build"
####
-- The C compiler identification is Clang 4.1.0
-- The CXX compiler identification is Clang 4.1.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Using CATKIN_DEVEL_PREFIX: /Users/kevin/ros_sandbox/serial_node/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/groovy
-- This workspace overlays: /opt/ros/groovy
-- Found PythonInterp: /usr/bin/python (found version "2.7.2") 
-- Found PY_em: /Library/Python/2.7/site-packages/em.pyc  
-- Found gtest: gtests will be built
-- catkin 0.5.52
-- BUILD_SHARED_LIBS is on
-- Configuring done
-- Generating done
-- Build files have been written to: /Users/kevin/ros_sandbox/serial_node/build
####
#### Running command: "make -j2" in "/Users/kevin/ros_sandbox/serial_node/build"
####
[kevin@tardis serial_node]$ 

Update [3 Dec 12]
The files in my package are:
-rw-r--r--@  1 kevin  staff   2.6K Dec  2 00:04 CMakeLists.txt
drwxr-x---   4 kevin  staff   136B Mar 22  2012 include
-rw-r--r--@  1 kevin  staff   2.0K Dec  1 23:56 package.xml
drwxr-x---@  6 kevin  staff   204B Dec  2 00:09 src
drwxr-x---   3 kevin  staff   102B Feb 26  2012 srv

Now running catkin_make inside of my serial_node package will create a build and devel directory with a bunch of files inside. However, no binaries are produced and I don't think anything is getting done with my service message.
What am I doing wrong?

Originally posted by Kevin on ROS Answers with karma: 2962 on 2012-12-02
Post score: 4

A:

Kevin, does this clear up any of the confusion?
http://www.ros.org/wiki/catkin/what#How_To_Use_Catkin_Packages

Originally posted by jbohren with karma: 5809 on 2012-12-03
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by Kevin on 2012-12-03:
Yes, it helps ... things are beginning to compile ... this is much different than I had thought. I was mainly reading the migration stuff ...
Comment by jbohren on 2012-12-03:
Yeah, this is a page where I've been trying to maintain a catkin brief for those who just want to skip all the design details. If you find anything in catkin or the official documentation confusing or counter-intuitive, please comment on it here.


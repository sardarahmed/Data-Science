Q:

Robot localization with AMCL and EKF

Hello,
I have been following an example here with jackal. My goal so far was to understand how AMCL works. However, in his example he uses ekf_localization and AMCL is just a tool to output cloud with the current robot's position. Here is a rqt_graph when I ran the localization example (which is running gazebo, amcl and rviz) . I thought that AMCL was a separate algorithm for localization and it did not need anything else. What am I missing? Why they are using both EKF and AMCL?
Screenshot of rqt_graph: http://tinyurl.com/z73k3nj

Originally posted by murdock on ROS Answers with karma: 75 on 2016-04-13
Post score: 1

A:

AMCL is a global localization algorithm in the sense that it fuses LIDAR scan matching with a source of odometry to provide an estimate of the robot's pose w.r.t a global map reference frame.
It is common to use an EKF/UKF such as those implemented in the robot_localization package to fuse wheel odometry with an IMU (or other sensors) and create an improved odometry estimate (local pose estimation) for AMCL.
I am not sure where the example you mention uses both AMCL and an EKF, but it is probably something similar.
Another way to use an EKF together with AMCL is to fuse two global estimates, e.g to fuse the pose provided by AMCL with the pose provided by another global localization method (e.g beacon-based triangulation..)
If you haven't done it already, I suggest you have a look at the robot_localization wiki page and  this talk from the 2015 ROSCON

Originally posted by al-dev with karma: 883 on 2016-04-13
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by murdock on 2016-04-14:
Thank you very much for your answers!
Comment by murdock on 2016-04-15:
@al-dev How could i use ONLY UKF for global localization in ROS using IMU, lidar, odometry data? Is it possible?
Comment by al-dev on 2016-04-16:
See this question. Comments relating to the EKF apply to the UKF as well.
Comment by murdock on 2016-05-15:
Which parameters would you suggest me to choose to test which ekf_localization_node or ukf_localization_node was better?
Comment by dinesh on 2021-08-07:
Does this means robot position in given map calculated from amcl can't be fused with odom and imu for better global localization?


Q:

Problem running stage navigation tutorial

Hello ,
I'm trying to execute the code from "Tutorials/stage and navigation stack", roslaunch awesomeros robot.launch
started roslaunch server http://istvan-System-Product-Name:56169/
SUMMARY
PARAMETERS

/use_sim_time
/move_base_node/global_costmap/observation_sources
/amcl/gui_publish_rate
/move_base_node/local_costmap/origin_y
/move_base_node/local_costmap/origin_x
/move_base_node/local_costmap/update_frequency
/move_base_node/local_costmap/origin_z
/move_base_node/global_costmap/base_scan/max_obstacle_height
/move_base_node/global_costmap/origin_z
/move_base_node/local_costmap/base_scan/marking
/move_base_node/local_costmap/observation_sources
/move_base_node/TrajectoryPlannerROS/vx_samples
/move_base_node/local_costmap/base_scan/raytrace_range
/amcl/recovery_alpha_slow
/move_base_node/local_costmap/base_scan/clearing
/move_base_node/global_costmap/mark_threshold
/amcl/laser_z_short
/move_base_node/local_costmap/max_obstacle_height
/move_base_node/TrajectoryPlannerROS/sim_time
/move_base_node/TrajectoryPlannerROS/max_vel_x
/amcl/laser_z_max
/amcl/laser_z_rand
/move_base_node/TrajectoryPlannerROS/acc_lim_th
/move_base_node/global_costmap/base_scan/observation_persistence
/move_base_node/local_costmap/inflation_radius
/move_base_node/global_costmap/map_type
/move_base_node/TrajectoryPlannerROS/acc_lim_y
/move_base_node/TrajectoryPlannerROS/acc_lim_x
/move_base_node/global_costmap/static_map
/move_base_node/global_costmap/base_scan/data_type
/move_base_node/local_costmap/base_scan/min_obstacle_height
/move_base_node/global_costmap/footprint
/amcl/laser_lambda_short
/move_base_node/TrajectoryPlannerROS/sim_granularity
/move_base_node/local_costmap/base_scan/observation_persistence
/amcl/laser_max_beams
/move_base_node/local_costmap/z_resolution
/move_base_node/TrajectoryPlannerROS/min_vel_x
/move_base_node/local_costmap/map_type
/move_base_node/global_costmap/lethal_cost_threshold
/move_base_node/TrajectoryPlannerROS/heading_lookahead
/amcl/odom_model_type
/amcl/laser_sigma_hit
/amcl/recovery_alpha_fast
/move_base_node/global_costmap/inflation_radius
/move_base_node/global_costmap/z_voxels
/move_base_node/local_costmap/base_scan/data_type
/move_base_node/local_costmap/transform_tolerance
/move_base_node/global_costmap/robot_base_frame
/move_base_node/global_costmap/transform_tolerance
/move_base_node/local_costmap/global_frame
/move_base_node/local_costmap/rolling_window
/move_base_node/TrajectoryPlannerROS/dwa
/amcl/odom_alpha5
/amcl/odom_alpha1
/amcl/odom_alpha2
/amcl/odom_alpha3
/amcl/odom_alpha4
/move_base_node/local_costmap/width
/stageros/base_watchdog_timeout
/move_base_node/global_costmap/base_scan/clearing
/move_base_node/local_costmap/publish_frequency
/amcl/max_particles
/move_base_node/local_costmap/height
/move_base_node/local_costmap/base_scan/obstacle_range
/move_base_node/local_costmap/static_map
/move_base_node/global_costmap/cost_scaling_factor
/move_base_node/TrajectoryPlannerROS/yaw_goal_tolerance
/amcl/min_particles
/move_base_node/global_costmap/global_frame
/move_base_node/controller_frequency
/move_base_node/local_costmap/cost_scaling_factor
/move_base_node/TrajectoryPlannerROS/max_rotational_vel
/amcl/laser_model_type
/move_base_node/global_costmap/publish_frequency
/move_base_node/TrajectoryPlannerROS/goal_distance_bias
/amcl/transform_tolerance
/amcl/kld_err
/amcl/resample_interval
/move_base_node/global_costmap/update_frequency
/move_base_node/global_costmap/base_scan/obstacle_range
/move_base_node/local_costmap/mark_threshold
/move_base_node/local_costmap/base_scan/max_obstacle_height
/move_base_node/TrajectoryPlannerROS/vtheta_samples
/move_base_node/local_costmap/robot_base_frame
/move_base_node/local_costmap/lethal_cost_threshold
/move_base_node/global_costmap/z_resolution
/move_base_node/TrajectoryPlannerROS/holonomic_robot
/move_base_node/local_costmap/footprint
/move_base_node/global_costmap/rolling_window
/amcl/laser_z_hit
/move_base_node/global_costmap/base_scan/expected_update_rate
/move_base_node/global_costmap/base_scan/raytrace_range
/amcl/update_min_d
/move_base_node/TrajectoryPlannerROS/min_in_place_rotational_vel
/move_base_node/global_costmap/unknown_threshold
/move_base_node/TrajectoryPlannerROS/path_distance_bias
/move_base_node/global_costmap/max_obstacle_height
/amcl/odom_frame_id
/move_base_node/local_costmap/unknown_threshold
/move_base_node/global_costmap/base_scan/marking
/move_base_node/NavfnROS/allow_unknown
/move_base_node/global_costmap/base_scan/min_obstacle_height
/move_base_node/local_costmap/z_voxels
/move_base_node/local_costmap/resolution
/move_base_node/footprint_padding
/move_base_node/TrajectoryPlannerROS/backup_vel
/move_base_node/TrajectoryPlannerROS/oscillation_reset_dist
/amcl/kld_z
/move_base_node/global_costmap/footprint_padding
/move_base_node/local_costmap/base_scan/expected_update_rate
/move_base_node/local_costmap/footprint_padding
/amcl/update_min_a
/amcl/laser_likelihood_max_dist
/move_base_node/local_costmap/publish_voxel_map
/amcl/initial_pose_x
/amcl/initial_pose_y
/move_base_node/TrajectoryPlannerROS/occdist_scale
/move_base_node/TrajectoryPlannerROS/xy_goal_tolerance

NODES
/
move_base_node (move_base/move_base)
map_server (map_server/map_server)
stageros (stage/stageros)
amcl (amcl/amcl)
/local_costmap/
voxel_grid_throttle (topic_tools/throttle)
ROS_MASTER_URI=http://istvan-System-Product-Name:11311/
core service [/rosout] found
process[voxel_grid_throttle-1]: started with pid [10804]
process[move_base_node-2]: started with pid [10805]
process[map_server-3]: started with pid [10806]
process[stageros-4]: started with pid [10807]
process[amcl-5]: started with pid [10814]
err: /opt/ros/cturtle/stacks/ros_tutorials/awesomeros/world/willow.world:21 : syntax error 2 (/tmp/buildd/ros-cturtle-simulator-stage-1.2.4/debian/ros-cturtle-simulator-stage/opt/ros/cturtle/stacks/simulator_stage/stage/build/Stage-3.2.2-Source/libstage/worldfile.cc ParseTokenWord)
[ INFO] [1298482640.454591335, 2.700000000]: Subscribed to Topics: base_scan
[ WARN] [1298482645.543905205, 7.800000000]: Waiting on transform from base_link to /map to become available before running costmap, tf error: Frame id /base_link does not exist!
Thank you.

Originally posted by szokei on ROS Answers with karma: 80 on 2011-02-23
Post score: 1

A:

First off, the move_base_stage package is deprecated. You should look into the navigation_stage package for newer example launch files.
Now, for your actual problem. That world file in the tutorial is likely an old, out of date World file format. To fix this, try running the upgrade-world.sh file available in the stage package. For example,
rosrun stage upgrade-world.sh willow.world willow-new.world

and then try using willow-new.world instead of willow.world.

Originally posted by Eric Perko with karma: 8406 on 2011-02-23
This answer was ACCEPTED on the original site
Post score: 3


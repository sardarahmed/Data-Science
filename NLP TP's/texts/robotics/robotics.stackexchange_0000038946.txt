Q:

Using collision_map in environment_server for arm_navigation

As what I read it should be possible to put the kinect pointcloud into the  collider node, and then put the [published costmap](http://www.ros.org/wiki/collider#Published_Topics no new page) into the environment_server of planning_environment.
I see both pointcloud and costmap in rviz, but the validity checker ignores it. Regarding to rosnode, the environment_server isn't listening to a collision_map typed topic at all.
What I configured:

In my once generated planning_scene_warehouse_viewer_robotname[_real].launch I set use_collision_map to true.
I had to remove the 4-line-include`<include file="$(find

planning_environment)/launch/environment_server.launch">` and run it separately, because else one node keeps crying and nothing works:

[ INFO] [1332518882.807188537, 1332518882.801862955]: Waiting for environment 
server planning scene registration service /register_planning_scene
[ INFO] [1332518882.935278639, 1332518882.932450056]: waitForService: Service 
[/register_planning_scene] has not been advertised, waiting...

Originally posted by felix k on ROS Answers with karma: 1650 on 2012-03-23
Post score: 3

A:

The error was, that use_collision_map actually wasn't enabled for the environment_server.
I had used roslaunch --args to produce a command for that 4-lines-include. But that was totally ignoring the include args like use_collision_map, therefore it didn't crash because of no map, but also was working without a map.
The collider has to be started with the following to match the environment_server's default topic. Like it's in the default launch file.
<remap from="collision_map_out" to="collision_map_occ" />

Originally posted by felix k with karma: 1650 on 2012-03-26
This answer was ACCEPTED on the original site
Post score: 1


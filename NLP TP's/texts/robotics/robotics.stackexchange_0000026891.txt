Q:

how to modify the pose of a robot by msgs?

The name of a existing model is "ball". I use "this->node->Advertisemsgs::Pose(std::string("~/") + ball + "/pose");" to create a transport::PublisherPtr, but it doesn't work. How to create a publisherPtr?
thanks.

Originally posted by Sam on Gazebo Answers with karma: 3 on 2014-01-15
Post score: 0

Original comments
Comment by isura on 2014-01-16:
Can you provide more information about how it fails? Does it fail to compile? Seg fault or the message is not published? Please also include a code example.

A:

A model does not automatically create a topic through which you can modify it's pose.
There is a general purpose topic called ~/model/modify which receives a model message
You can use the topic and message like this:
transport::PublisherPtr modelPub = this->node->Advertise<msgs::Model>("~/model/modify");
msgs::Model msg;
msg.set_name("ball");
msgs::Set(msg.mutable_pose(), math::Pose(0, 0, 10, 0, 0, 0));
modelPub->Publish(msg);

Originally posted by nkoenig with karma: 7676 on 2014-01-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Sam on 2014-01-16:
thanks a lot!
Comment by NickDP on 2014-09-10:
I am trying to do the same thing but I'm having some issues.
I started from the following example (https://bitbucket.org/osrf/gazebo/src/e18491b2ff1a/examples/stand_alone/publisher/?at=default) and modified it to use the above code. The result is that the model jumps around in Gazebo, always returning to it's original position, in a very discontinuous way. You can see my code here: http://pastebin.com/BG1HLhDn
What is the problem?
Comment by FH on 2020-03-20:
Hi,
When I trying to copy your code to run in Gazebo7. I got the following error:
'error: no matching function for call to ‘Set(gazebo::msgs::Pose*, gazebo::math::Pose&)’
Seem like a conversion problem.
Thank in advance.


Q:

Cannot install melodic on PYNQ Linux, based on Ubuntu 18.04 [arm]

Hello,
I am following the steps from  the guide. However, when I run apt update I  the following:
Hit:1 http://ports.ubuntu.com/ubuntu-ports bionic InRelease
Ign:2 http://packages.ros.org/ros/ubuntu glasgow InRelease
Err:3 http://packages.ros.org/ros/ubuntu glasgow Release
  404  Not Found [IP: 64.50.236.52 80]
Reading package lists... Done
E: The repository 'http://packages.ros.org/ros/ubuntu glasgow Release' does not have a Release file.
N: Updating from such a repository can't be done securely, and is therefore disabled by default.
N: See apt-secure(8) manpage for repository creation and user configuration details.

I followed this topic but that didn't solve the issue.
I also added [trusted=yes] so my /etc/apt/sources.list.d/ros-latest.list looks like this:
deb [trusted=yes] http://packages.ros.org/ros/ubuntu glasgow main

However, I still have the same issue after running sudo apt update:
Hit:1 http://ports.ubuntu.com/ubuntu-ports bionic InRelease
Ign:2 http://packages.ros.org/ros/ubuntu glasgow InRelease   
Ign:3 http://packages.ros.org/ros/ubuntu glasgow Release     
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Ign:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Ign:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Ign:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Ign:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Ign:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Ign:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Ign:4 http://packages.ros.org/ros/ubuntu glasgow/main all Packages
Err:5 http://packages.ros.org/ros/ubuntu glasgow/main armhf Packages
  404  Not Found [IP: 64.50.233.100 80]
Ign:6 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en
Ign:7 http://packages.ros.org/ros/ubuntu glasgow/main Translation-en_US
Reading package lists... Done
E: Failed to fetch http://packages.ros.org/ros/ubuntu/dists/glasgow/main/binary-armhf/Packages  404  Not Found [IP: 64.50.233.100 80]
E: Some index files failed to download. They have been ignored, or old ones used instead.

Output of lsb_release -a is:
No LSB modules are available.
Distributor ID: pynqlinux
Description:    PYNQ Linux, based on Ubuntu 18.04
Release:        v2.5
Codename:       glasgow

Could the issue be related to the codename or that there is no support or available repos for it?
Thank you for any help.
EDIT: The issue seems to be with the codename for the custom linux distribution. Therefore, editing /etc/lsb_release to include as codename bionic seemed to work.

Originally posted by Ariel on ROS Answers with karma: 65 on 2020-09-25
Post score: 0

Original comments
Comment by gvdhoorn on 2020-09-25:
I've also updated the title of your question, so as to better reflect your situation.
You're not just running Ubuntu 18.04, but a derived distribution, based on it.
That changes things.
Comment by gvdhoorn on 2020-09-25:\

EDIT: The issue seems to be with the codename for the custom linux distribution. Therefore, editing /etc/lsb_release to include as codename bionic seemed to work.

it's up to you, but I would not edit system files like that. lsb_release is managed by apt, so next time there is an update, your edit will be reverted.

A:

Codename:       glasgow

This is the problem.
glasgow is not an Ubuntu codename for 18.04. It's likely the name PYNQ Linux uses for its distribution.
If you are certain Ubuntu 18.04 packages are compatible with this derived distribution, then you'll need to replace that by bionic, everywhere it occurs in your /etc/apt.d/ros1-latest.list.
That would make apt download indices for bionic instead, which is a recognised codename for 18.04.
Then, for any future invocations of rosdep, you'll need to add --os=ubuntu:bionic. And you'll want to set the ROS_OS_OVERRIDE environment variable to ubuntu:18.04:bionic as well (note: you'll have to do this in all (future) shell sessions, so you may want to add it to your .bashrc).

Originally posted by gvdhoorn with karma: 86574 on 2020-09-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Ariel on 2020-09-25:
Yes, I directly changed the /etc/lsb_release to have bionic but your way is safer I believe.


Q:

[gmapping] get current robot-position?

Hi folks!
Rosaria provides me with odometry, which is then given to gmapping and (along with some laser-sensordata) processed. As the robot moves in the world this creates a map of its environment.
Now I wish to get the current position of my robot but can't quite figure out how. My understanding is as follows:
I need

a TransformListener from gmapping to be able to transform odometry into world-coordinates.
a Subscriber to get the odometry in the first place.

Since both need to be handled with callbacks I need to use gobal variables to get information from one to the other. This in turn makes it necessary to think about synchronization and race-conditions.
Is this really the proper way to do it / do I have an error in my understanding? If so, how do i go about solving the race-condition problem?

Originally posted by G_Threepwood on ROS Answers with karma: 13 on 2011-06-19
Post score: 1

A:

You just need one TransformListener and listen for the /map -> /base_link transform.
The transform listener will take the gmapping and odometry transforms and build the correct one from that automatically.

Originally posted by dornhege with karma: 31395 on 2011-06-19
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ctguell on 2013-12-19:
@dornhege how can i acomplish to make this tranfsormlistener?? Can you give some details? Because ive been unable to mak eit work, thanks
Comment by dornhege on 2013-12-20:
Check these: http://wiki.ros.org/tf/Tutorials


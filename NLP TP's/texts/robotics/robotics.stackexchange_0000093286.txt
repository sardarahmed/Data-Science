Q:

Unable to show depth cloud with compressed RGB

Hi
I'm having some trouble showing a depth cloud using /camera/rgb/image_raw/compressed as the colour topic. It just doesn't show in rviz:

However, rostopic list shows the following:
/camera/depth_registered/camera_info
/camera/depth_registered/image_raw
/camera/rgb/camera_info
/camera/rgb/image_raw/compressed
/clicked_point
/clock
/initialpose
/move_base_simple/goal
/rosout
/rosout_agg
/tf
/tf_static

Does anyone how to carry this out? Here's the rosbag.
Thanks

Originally posted by mun on ROS Answers with karma: 32 on 2019-09-15
Post score: 0

A:

You cannot use the /camera/rgb/image_raw/compressed (with sensor_msgs/CompressedImage) topic there since in the plugin the color image topic requires sensor_msgs/Image . You will need to decompress the images and republish them. For example, try using image_transport as suggested in this answer:
rosrun image_transport republish compressed in:=/camera/rgb/image_raw raw out:=/camera/rgb/image_raw

or if you have a launch file just add this:
<node name="republish" type="republish" pkg="image_transport" output="screen" args="compressed in:=/camera/rgb/image_raw raw out:=/camera/rgb/image_raw" />

If you are wondering why the in:topic_name and out:topic_name are the same, it appears that image transport adds /compressed to the in:topic_name

Originally posted by pavel92 with karma: 1655 on 2019-09-16
This answer was ACCEPTED on the original site
Post score: 1


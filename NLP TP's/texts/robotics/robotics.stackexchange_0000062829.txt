Q:

Avt Manta GigE camera with prosilica_driver

Hi all,
I'm using the prosilica_driver node to access images from my camera (AVT Manta G235B) in ROS indigo running under Ubuntu 14.04.
The problem I'm experiencing is twofold

First, a lower framerate (about 10 Hz
according to rostopic hz) than the
expected one (50 Hz from datasheet
and about 50 Hz tested on Windows
with the camera provider software).

Second, Rosbag (via rqt_bag) is
complaining like that when I try to log the camera frame
[INFO] [WallTime: 1411548138.205121] Recording to /home/ragingbit/test_2014-09-24-10-42-18.bag.
Traceback (most recent call last):
File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_bag/bag_widget.py", line 235, in _handle_record_clicked
self._timeline.record_bag(record_filename)
File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_bag/bag_timeline.py", line 643, in record_bag
self.add_bag(self._recorder.bag)
File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_bag/bag_timeline.py", line 167, in add_bag
self._timeline_frame.reset_timeline()
File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_bag/timeline_frame.py", line 916, in reset_timeline
self.emit_play_region()
File "/opt/ros/indigo/lib/python2.7/dist-packages/rqt_bag/timeline_frame.py", line 256, in emit_play_region
self.scene().selected_region_changed.emit(*self.play_region)
TypeError: BagTimeline.selected_region_changed[Time, Time].emit(): argument 1 has unexpected type 'NoneType'

Any help is really appreciated! :)

Originally posted by RagingBit on ROS Answers with karma: 706 on 2014-09-24
Post score: 1

Original comments
Comment by RagingBit on 2014-09-24:
Thank you very much for the suggestions. Is there any documentation/user guide for that?
Comment by RagingBit on 2014-09-24:
Do I have to download the Vimba SDK form the official website?
I tried to launch the avt_vimba_node but I get the following error:
[ERROR] [1411557229.963177527]: [AVT_Vimba_ROS]: Could not start Vimba system: TL not loaded.
Error: API not started.
Comment by Miquel Massot on 2014-09-25:
Unfortunately yes, you'll have to install manually the SDK in your system. Just follow the instructions from the VIMBA SDK website.
Comment by RagingBit on 2014-09-25:
Hi Miquel,
thank you for your assistance! the node is kind of working also for my Manta G-235B. I'm only experiencing issues with the framerate (10 Hz instead of 50 Hz!). As on the VimbaViewer it is working, can you suggest me some settings I could try to modify for the avt_vimba_node?
Comment by Miquel Massot on 2014-09-25:
Check if the exposure is in automatic or in manual. Also check if the exposure time allows for 50 Hz, which has to be quite fast. Experience with extremely low exposure times and check "rostopic hz" even though the image will be dark.
Comment by RagingBit on 2014-09-26:
Exactly, that was the issue, thanks! The node is mostly working with my camera too, even though I guess some of the options available in VimbaViewer are still missing in the ROS counterpart. Anyway, great job!
Comment by Miquel Massot on 2014-09-26:
Thanks for the compliment. If you'd like to help please do so. Fork the repo and perform "pull requests" with any improvements you believe are worth.
Comment by Neil Traft on 2015-03-23:
Did you ever solve your rqt_bag error? I have the same problem.

A:

I'd recommend you avt_vimba_camera which is developed with the new API and I'm currently maintaining.

Originally posted by Miquel Massot with karma: 1471 on 2014-09-24
This answer was ACCEPTED on the original site
Post score: 0


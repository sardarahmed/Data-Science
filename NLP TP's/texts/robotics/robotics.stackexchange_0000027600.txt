Q:

Debugging when all Links snap to origin

I'm wondering how I can debug my robot/code when the symptom is all links snapping to the origin. There are no error messages printed with --verbose.
I'm not sure whether it's a function of my SDF, or my code controlling it
Here is the model
Here is the code
the motor plugin I'm using is here
Although the code is WPILib code and probably won't make any sense to anyone.
If I just put in the model with no code running, it doesn't explode. I can drop it and move it all around and it works.
It seems to be something with my code or plugins, but I just don't know where to start.

Originally posted by Peter Mitrano on Gazebo Answers with karma: 768 on 2016-01-09
Post score: 0

A:

I've uncovered the issue. It appears I was turning Java's NaN into a protobuf float64 message. This ended up translating to a force -2000 on some of the joints. Can anyone shed light onto why this would cause everything to snap the origin? Those are large but not impossibly large forces...?

Originally posted by Peter Mitrano with karma: 768 on 2016-01-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by AndreiHaidu on 2016-01-11:
it probably not that large at the beginning, but it might grow a lot in the proceeding simulation steps (you might be able to visualize this if you pause and then step into the simulation)
Comment by Peter Mitrano on 2016-01-13:
Printing out the forces show it's truly only -2000.
Good suggestion with the stepping. Unfortunately, I can't pause it quickly enough...I've resolved the issue of ever sending NaN which is the real problem here
Comment by maaft on 2016-01-26:
You can start the simulation paused. Just provide it with the "-u" option.


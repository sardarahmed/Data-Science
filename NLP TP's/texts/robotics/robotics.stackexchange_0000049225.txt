Q:

Playing big files with rosbag

Hi everybody,
I am running Ubuntu 12.10, with ROS Groovy. My computer has a i7 processor with 6GB of RAM.
I am recording in rosbag data from two kinects (and two skeletons). Of course, I din't recorded the "PointClouds", but only the raw images.
However, my files go up to 50 GB for a 12minutes videos...
My problem is that for such big files, "rosbag play" takes forever to start to play the data. I was wondering on the way it works. Indeed, I thought it played a stream of the data, thus, whatever the size of the file, it should not take that much longer to start playing.
However, as I saw in my experiment, it is not the case. Thus I maybe thought that rosbag play is putting a lot in memory, or doing some "precomputation" ?
If someone who knows how rosbag works could enlighten me of his knowledge, it would be great.
I know this question is very technical, but I would really like to find a way to open my files after recording them, without having to buy a new "very powerful and expensive" computer...
My first thought would be to record each topic in one bag, and then replay them all in the same time... But seems a bit stupid to do that, as I think rosplay would need to "realign" in time all the messages.
Thanks in advance,
Steph

Originally posted by Stephane.M on ROS Answers with karma: 1304 on 2013-03-11
Post score: 2

Original comments
Comment by felix k on 2013-03-11:
I don't know at all about the internals but does it make a difference if you do a rosbag fix on that bag?
Comment by Stephane.M on 2013-03-11:
The bag file has no problems... it's just big :-)
What I am doing now is rosbag filter everything, putting every topic in a single bag file... It's long, and a bit stupid in my opinion....

A:

you can filter out your data, I had some similar problems, here is an example script:
#!/bin/bash
#filter out the bag files for the raw data
source ~/.bashrc

cd /to/your/bag directory/

rosbag filter original.bag filtered.bag 'topic=="/lms1xx_front/scan" or topic=="/lms1xx_front_tilt/sc an" or topic=="/lms1xx_back/scan" or topic=="/fmData/imu_rx" or topic=="/fmInformation/imu" or topic=="/kinect2/depth/camera_info" or topic=="/kinect2/depth/image" '

Originally posted by manolovaza with karma: 66 on 2015-11-19
This answer was ACCEPTED on the original site
Post score: 0


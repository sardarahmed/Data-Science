Q:

[solved] rosrun beginner_tutorials talker.py has no effect

I apply the WritingPublisherSubscriber(python) tutorial page.
I copy/paste the code of talker.py (error on wget)
I execute
$ catkin_make
roscore is runing
Then I execute
$ rosrun --debug beginner_tutorials talker.py
[rosrun] Looking in catkin libexec dirs: /home/pi/catkin_ws/devel/share/beginner_tutorials
[rosrun] Looking in rospack dir: /home/pi/catkin_ws/src/beginner_tutorials
[rosrun] Searching for talker.py with permissions /111
[rosrun] Running  /home/pi/catkin_ws/src/beginner_tutorials/scripts/talker.py
Not more output. After 1 sec or less, I return to the prompt. Nothing in rqt_console.
Could anyone help me?

Originally posted by loic on ROS Answers with karma: 18 on 2018-08-12
Post score: 0

Original comments
Comment by billy on 2018-08-12:
Two questions:
1 - after catkin_make did you source the setup file("source devel/setup.bash")?
2 - Did you restart roscore after catkin_make?
Comment by loic on 2018-08-12:
Thanks for questions.

Not before your question. Yes now. Without more result.
Yes.

Comment by billy on 2018-08-12:
Did you try "rostopic list" to see if the talker is talking?
Comment by loic on 2018-08-13:
Thanks. If I start listener.py, I have:
$ rostopic list
/chatter
/rosout
/rosout_agg

Good. Next step :
$ rostopic type /chatter 
std_msgs/String
$ rostopic hz /chatter 
subscribed to [/chatter]
no new messages
no new messages
..

Comment by loic on 2018-08-13:
If I run only talker.py and not listener.py, I have:
$ rostopic list -v

Published topics:
 * /rosout_agg [rosgraph_msgs/Log] 1 publisher

Subscribed topics:
 * /rosout [rosgraph_msgs/Log] 1 subscriber

A:

I have found the issue.
It was a problem of indentation in the script talker.py (the conditional part of script was put in the def part.)
Thanks to the helpers.

Originally posted by loic with karma: 18 on 2018-08-15
This answer was ACCEPTED on the original site
Post score: 0


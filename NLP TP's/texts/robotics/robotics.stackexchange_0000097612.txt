Q:

How to print a message to stdout in ROS2?

I am porting C++ code from ROS1 to ROS2. Apparently there was an operator<< automatically generated for messages in ROS1 but that's no longer (or not yet) available in ROS2. Is there a canonical (and easy) way to print a message, for example
   geometry_msgs::msg::Pose line_pose;
   RCLCPP_INFO_STREAM(get_logger(), "pose is " << line_pose);

When using the command line tools like ros2 topic echo, the same is  done behind the scenes. If I can just get a YAML representation and how to print that, I'd be happy, too.

Originally posted by fredBeauj on ROS Answers with karma: 131 on 2020-11-17
Post score: 5

A:

I just found out that recently (Sep 2020), a to_yaml(msg, ostream) function was added to ROS2 in response to this issue. That means we will just have to wait a bit until that's available in a release. The core function is defined here and has this interface
void to_yaml(const @(message_typename) & msg,  std::ostream & out, size_t indentation = 0)

Originally posted by fredBeauj with karma: 131 on 2020-11-17
This answer was ACCEPTED on the original site
Post score: 1


Q:

Problems using the navigation stack

Hi
I'm trying to use the navigation stack, but I have some problems.
Well, I've configured the parameters as the tutorial says. Then I use Rviz for setting the estimated position and the goal. Doing that, I can make the robot move, but I get this warning messages in the console:
[ WARN] [1350459884.039970066, 6963.543000000]: Could not get robot pose, cancelling reconfiguration
[ WARN] [1350459887.093712554, 6968.750000000]: Costmap2DROS transform timeout. Current time: 6968.7500, global_pose stamp: 6968.4210, tolerance: 0.3000

I don't know if it's normal to recieve this warnings (I suppose it's not). I think that the reason why I recieve this warnings is because the frequency of my laser scan is only 2 Hz, but I'm not sure.
In addition, the robot is not able to avoid obstacles, and that tells me that I'm missing something.
For more detail, here's my costmap parameters:
local_costmap:
  global_frame: /odom
  robot_base_frame: /base_footprint
  update_frequency: 5.0
  publish_frequency: 2.0
  static_map: false
  rolling_window: true
  width: 6.0
  height: 6.0
  resolution: 0.2 #0.05

global_costmap:
  global_frame: /map
  robot_base_frame: /base_footprint
  update_frequency: 5.0
  static_map: true

Can anyone give me a clue? Thanks in advance ;-)
I'm on Ubuntu 12.04 and ROS Fuerte.
EDITED: More info.
I've set the frequency of the laser to the max (8Hz) and the warning continues.
With rosrun tf tf_monitor I get:
RESULTS: for all Frames

Frames:
Frame: /back_left_wheel published by /robot_state_publisher Average Delay: 0.000126582 Max Delay: 0.006
Frame: /back_right_wheel published by /robot_state_publisher Average Delay: 0.000126582 Max Delay: 0.006
Frame: /base_footprint published by /summit_xl_odometry Average Delay: -0.00904412 Max Delay: 0.001
Frame: /base_link published by /summit_xl_tf_node Average Delay: -0.256207 Max Delay: 0
Frame: /front_left_wheel published by /robot_state_publisher Average Delay: 0.000126582 Max Delay: 0.006
Frame: /front_right_wheel published by /robot_state_publisher Average Delay: 0.000126582 Max Delay: 0.006
Frame: /imu_link published by /robot_state_publisher Average Delay: -0.509563 Max Delay: 0
Frame: /odom published by /amcl Average Delay: 0.0235 Max Delay: 0.081
Frame: /openni_depth_frame published by /summit_xl_tf_node Average Delay: -0.00770476 Max Delay: 0
Frame: /tof_link published by /robot_state_publisher Average Delay: -0.509563 Max Delay: 0

All Broadcasters:
Node: /amcl 8.27301 Hz, Average Delay: 0.0235 Max Delay: 0.081
Node: /robot_state_publisher 88.6508 Hz, Average Delay: -0.288324 Max Delay: 0.006
Node: /summit_xl_odometry 98.4556 Hz, Average Delay: -0.00904412 Max Delay: 0.001
Node: /summit_xl_tf_node 101.597 Hz, Average Delay: -0.00769048 Max Delay: 0

Originally posted by g.aterido on ROS Answers with karma: 229 on 2012-10-16
Post score: 2

Original comments
Comment by Peter Listov on 2012-10-16:
How do you get robot state vector? I had similar problem with navigation, when published odometry too slow. From my experience suffficient rate is round 50 Hz. My laser update rate is 20 Hz.
Comment by g.aterido on 2012-10-16:
I have a simulated odometry, that publish the robot information at 100 Hz. I think that the model I use is based on a gazebo plugin, but I'm not sure. But the navigation only uses the laser scan and estimates its position with an AMCL. Thats the reason why I think the problem is the laser frequency
Comment by weiin on 2012-10-16:
can you show the results of 'rosrun tf tf_monitor'
Comment by g.aterido on 2012-10-17:
Added to the question ;)
Comment by cagatay on 2012-10-17:
increase the tolarence rate, you may decrease the map size
Comment by g.aterido on 2012-10-17:
The map size is not so big, is 400 x 400 with 0.2m/pixel. And I don't know how to increase the tolerance rate, I dont' know where is this parameter
Comment by g.aterido on 2012-10-17:
Ok, I've found a yaml for a roomba and there's a lot of parameters that I didn't set. Now with all the parameters configured I don't have the warnings and all works better. Tanks! ;)

A:

These are good places to look when there are navigation problems:
http://www.ros.org/wiki/navigation/Tutorials/RobotSetup
http://www.ros.org/wiki/navigation/Tutorials/Navigation%20Tuning%20Guide

Originally posted by weiin with karma: 2268 on 2012-10-18
This answer was ACCEPTED on the original site
Post score: 1


Q:

pickplace demo fails in moveit task constructor tutorial

Hi,
I am trying MoveIt Task Constructor demo in moveit tutorial(https://ros-planning.github.io/moveit_tutorials/doc/moveit_task_constructor/moveit_task_constructor_tutorial.html)
the basic environment:

roslaunch moveit_task_constructor_demo
demo.launch

the command

rosrun moveit_task_constructor_demo
cartesian
rosrun moveit_task_constructor_demo
modular

are OK
but the command

roslaunch moveit_task_constructor_demo
pickplace.launch

I got the error messages and the demo will not run
SUMMARY
========

PARAMETERS
 * /mtc_tutorial/approach_object_max_dist: 0.15
 * /mtc_tutorial/approach_object_min_dist: 0.1
 * /mtc_tutorial/arm_group_name: panda_arm
 * /mtc_tutorial/arm_home_pose: ready
 * /mtc_tutorial/eef_name: hand
 * /mtc_tutorial/execute: True
 * /mtc_tutorial/grasp_frame_transform: [0, 0, 0.1, 1.571...
 * /mtc_tutorial/hand_close_pose: close
 * /mtc_tutorial/hand_frame: panda_link8
 * /mtc_tutorial/hand_group_name: hand
 * /mtc_tutorial/hand_open_pose: open
 * /mtc_tutorial/lift_object_max_dist: 0.1
 * /mtc_tutorial/lift_object_min_dist: 0.01
 * /mtc_tutorial/max_solutions: 10
 * /mtc_tutorial/object_dimensions: [0.25, 0.02]
 * /mtc_tutorial/object_name: object
 * /mtc_tutorial/object_pose: [0.5, -0.25, 0.0,...
 * /mtc_tutorial/object_reference_frame: world
 * /mtc_tutorial/place_pose: [0.6, -0.15, 0, 0...
 * /mtc_tutorial/place_surface_offset: 0.0001
 * /mtc_tutorial/spawn_table: True
 * /mtc_tutorial/surface_link: table
 * /mtc_tutorial/table_dimensions: [0.4, 0.5, 0.1]
 * /mtc_tutorial/table_name: table
 * /mtc_tutorial/table_pose: [0.5, -0.25, 0, 0...
 * /mtc_tutorial/table_reference_frame: world
 * /mtc_tutorial/world_frame: world
 * /rosdistro: noetic
 * /rosversion: 1.15.9

NODES
  /
    mtc_tutorial (moveit_task_constructor_demo/pick_place_demo)

ROS_MASTER_URI=http://localhost:11311

process[mtc_tutorial-1]: started with pid [46900]
[ INFO] [1611475372.546110931]: Init moveit_task_constructor_demo
[ INFO] [1611475373.611217524]: Loading task parameters
[ INFO] [1611475373.637755028]: Initializing task pipeline
[ INFO] [1611475373.642619199]: Loading robot model 'panda'...
[ WARN] [1611475373.642791993]: Link panda_leftfinger has visual geometry but no collision geometry. Collision geometry will be left empty. Fix your URDF file by explicitly specifying collision geometry.
[ WARN] [1611475373.642828361]: Link panda_rightfinger has visual geometry but no collision geometry. Collision geometry will be left empty. Fix your URDF file by explicitly specifying collision geometry.
[ INFO] [1611475373.700232356]: Start searching for task solutions
[ INFO] [1611475373.748179472]: Using planning interface 'OMPL'
[ INFO] [1611475373.750637557]: Param 'default_workspace_bounds' was not set. Using default value: 10
[ INFO] [1611475373.750915253]: Param 'start_state_max_bounds_error' was set to 0.1
[ INFO] [1611475373.751166763]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1611475373.751451433]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1611475373.751734103]: Param 'jiggle_fraction' was set to 0.05
[ INFO] [1611475373.752013483]: Param 'max_sampling_attempts' was not set. Using default value: 100
[ INFO] [1611475373.752042418]: Using planning request adapter 'Add Time Parameterization'
[ INFO] [1611475373.752081762]: Using planning request adapter 'Resolve constraint frames to robot links'
[ INFO] [1611475373.752103918]: Using planning request adapter 'Fix Workspace Bounds'
[ INFO] [1611475373.752134753]: Using planning request adapter 'Fix Start State Bounds'
[ INFO] [1611475373.752155137]: Using planning request adapter 'Fix Start State In Collision'
[ INFO] [1611475373.752172944]: Using planning request adapter 'Fix Start State Path Constraints'
[ INFO] [1611475373.756613949]: Planner configuration 'hand' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
[ INFO] [1611475373.757047512]: hand/hand: Starting planning with 1 states already in datastructure
[ INFO] [1611475373.768330611]: hand/hand: Created 5 states (2 start + 3 goal)
[ INFO] [1611475373.768360243]: Solution found in 0.011458 seconds
[ INFO] [1611475373.773534693]: SimpleSetup: Path simplification took 0.005099 seconds and changed from 4 to 2 states
  0  - ←   0 →   -  0 / pick_place_task
    1  - ←   1 →   -  0 / applicability test
      1  - ←   1 →   -  1 / current state
    -  0 →   1 →   -  1 / open hand
    -  1 →   0 ←   0  - / move to pick
    0  - ←   0 →   -  0 / pick object
      0  - ←   0 ←   0  - / approach object
      0  - ←   0 →   -  0 / grasp pose IK
       25  - ←  25 →   - 25 / generate grasp pose
      -  0 →   0 →   -  0 / allow collision (hand,object)
      -  0 →   0 →   -  0 / close hand
      -  0 →   0 →   -  0 / attach object
      -  0 →   0 →   -  0 / allow collision (object,support)
      -  0 →   0 →   -  0 / lift object
      -  0 →   0 →   -  0 / forbid collision (object,surface)
    -  0 →   0 ←   0  - / move to place
    0  - ←   0 →   -  0 / place object
      0  - ←   0 ←   0  - / lower object
      0  - ←   0 →   -  0 / place pose IK
        0  - ←   0 →   -  0 / generate place pose
      -  0 →   0 →   -  0 / open hand
      -  0 →   0 →   -  0 / forbid collision (hand,object)
      -  0 →   0 →   -  0 / detach object
      -  0 →   0 →   -  0 / retreat after place
    -  0 →   0 →   -  0 / move home
[ERROR] [1611475373.776015112]: Planning failed
[ INFO] [1611475373.776045893]: Planning failed

So, What am I wrong?
thanks.
(I use Ubuntu20.04LTS,ros-noetic)

Originally posted by takijo on ROS Answers with karma: 110 on 2021-01-24
Post score: 0

A:

I solved it.
It is known issue.
https://github.com/ros-planning/moveit_task_constructor/issues/229
thanks.

Originally posted by takijo with karma: 110 on 2021-01-26
This answer was ACCEPTED on the original site
Post score: 0


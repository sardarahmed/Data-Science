Q:

Interfacing Autoware with a different simulator

Hi,
I am interested in interfacing Autoware.auto with a different simulator. The simulator would feed sensor data and receive actuation. From my understanding, the first step is providing the simulator with a ROS2 bridge. Once this is done the next steps are a bit unclear to me.

Do I need autoware.io for communication?
From this thread (https://answers.ros.org/question/368928/running-trajectory-following-example-from-autowareauto-without-lgsvl/) I take it that I need to create an interface to translate the messages. But I cannot see any sensor passing besides odometry. Is it because camera and lidar data do not need special treatment?

Thanks,
Simone

Originally posted by SimoneBenatti on ROS Answers with karma: 5 on 2021-03-11
Post score: 0

A:

Simone,
Great question! I have meant to put this in the docs for a while but haven't been able to make time. Here are the basics that you need to support a new drive-by-wire system or simulator:

ROS2 Hardware Driver (including ROS2 messages) or simulator bridge
Autoware.Auto Vehicle Interface

See https://autowarefoundation.gitlab.io/autoware.auto/AutowareAuto/autoware-drivers-design.html for existing implementation. This will be changing some during our current ODD development cycle.

ROS URDF File Describing Sensor Frames

Measurements in ROS Frame (X, Y, Z, R, P, Y in RHR, X-forward) for the offsets of each sensor and the CoG from a common reference point - for Ackermann-style vehicles, usually the center of the rear axle

Platform Measurements

Mass (kg)
Wheelbase (m)
Front overhang (m) - front axle to front of vehicle
Rear overhang (m) - rear axle to rear of vehicle
Width (m)
Wheel angle range (rad) - +/- from center - front and rear
3D Mesh if visualization in RViz is desired (Collada DOM / .dae file)

The first two items are required to support a generic simulator interface (independent of vehicle) while the second two are required for each vehicle platform within the simulator that you want to support.
Please let me know if you would like to meet to discuss any implementation details. We are happy to support as many platforms and simulators as possible and would love to help those who want to make it happen!

Originally posted by Josh Whitley with karma: 1766 on 2021-03-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by SimoneBenatti on 2021-03-17:
Thanks a lot Josh! I'm still in the process of providing a ROS2 bridge for the simulator, I will update this thread as things move forward for the benefit of anyone interested in doing something similar.
And yes, I would really like to meet to discuss how things should move forward.
If you wish to contact me, email me at  benattiATwisc.edu
Simone


Q:

failed to resolve RegisterPlugin libdiff_drive_controller.so:undefined symbol

Hello all:
I am a beginner to ros, and I met a problem when I am learning gazebo which is as followed:
Error [Plugin.hh:147] Failed to resolve RegisterPlugin: /opt/ros/hydro/lib/libdiff_drive_controller.so: undefined symbol: RegisterPlugin[ INFO] [1438586829.560869251, 0.021000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.

I do not know how to solve this problem. Can anyone help me? Thanks very much.

Originally posted by zxawangxiaomu on ROS Answers with karma: 1 on 2015-08-03
Post score: 0

A:

Make sure to
 #include <gazebo/common/Plugin.hh>

at the beginning of the plugin source, and register the plugin with Gazebo with
GZ_REGISTER_WORLD_PLUGIN( YourWorldPluginClass ) //Different function for each type of Gazebo plugin

These solved the issue for a plugin I was writing.
I realize this is an old question, but this was the first search hit I got when trying to solve a similar problem.

Originally posted by jwatson_utah_edu with karma: 56 on 2016-08-24
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by hillripper21 on 2020-06-02:
Top include fixed my issue even now Ubuntu 20.04, Gazebo 11. Note the tutorial for the plugins does not mention this...
Comment by kodplayer on 2021-02-08:
Works even for Gazebo 9


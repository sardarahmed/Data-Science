Q:

Can we access ASUS Xtion PRO Live simultaneously as a depth cam and webcam

I am using the AUS Xtion PRO Live sensor for my robot.  I have used openni_ros for accessing the depth data of sensor in ros. Then I configured the Xtion PRO Live as a normal webcam using  the module in this link https://github.com/xqms/xtion
Then I accessed the ASUS sensor just like a normal webcam through webcam applications in ubuntu. But then i couldn't access it using the Openni_ros.
The problem is I need to process the depth data onboard the robot computer and send the normal RGB video using webrtc
at  the same time. Is there a way to do so.

Originally posted by robobee on ROS Answers with karma: 46 on 2015-07-29
Post score: 1

Original comments
Comment by Javier V. GÃ³mez on 2015-07-29:
Perhaps I am missing something, but you can subscribe to the raw rgb topic and then send it as you wish. Is this not OK?
Comment by Humpelstilzchen on 2015-07-29:
Use openni2_camera to open the rgb & distance streams, then write a ros node(let) using cv_bridge as a gateway from ros video stream to your webrtc target.
Comment by robobee on 2015-07-30:
what about using webrtc_ros specfied at https://github.com/mitchellwills/webrtc_ros
Comment by Humpelstilzchen on 2015-07-31:
that should do it.
Comment by robobee on 2015-07-31:
That only works like web_video_server.
Is there a way by which we can make webrtc client to access the video stream from web_video_server instead of accessng  video device like webcam.

A:

We can use the v4l2loopback  https://github.com/umlaeute/v4l2loopback and create a virtual video device
then we can use the ros_virtual_cam  https://github.com/mayfieldrobotics/ros-virtual-cam
to publish the image topics from openni to that virtual device and can be used like a webcam

Originally posted by robobee with karma: 46 on 2015-08-07
This answer was ACCEPTED on the original site
Post score: 1


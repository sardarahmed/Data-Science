Q:

Problem of PR2 turning around when using local planner

Hi! I am facing a problem that when I am using nav stack and dwa local planner to navigate the PR2 in gazebo. I have the map for navigation, but if I set the goal to close to some obstacles, the robot will start turning around and lose its goal. Is there any solution to this problem?

Originally posted by HanXiao on ROS Answers with karma: 9 on 2013-07-16
Post score: 0

Original comments
Comment by ahendrix on 2013-07-16:
How close are you setting the goal to the obstacles? Is it closer than the radius of the robot?
Comment by HanXiao on 2013-07-17:
Maybe it is smaller than the radius of the robot. But the planner still generate a valid global plan. And the robot begins to circle over 2 meters ahead of the goal. Is there any way that we can do to force the robot to follow its global plan?

A:

If the obstacle is not in the robot's global map, and the goal is too close to the obstacle (within the radius of the robot), the global planner will produce a valid path, but the local planner will not be able to execute it because it would put the robot in collision with the obstacle.
If the goal is too close to the obstacle, the robot will behave OK until it gets within sensor range of the obstacle, at which point the local planner will start issuing warnings about the goal point being in collision. It will also start executing the recovery behaviors in an attempt to clear out sensor noise. The recovery behaviors are probably causing the rotating that you're seeing.
If you aren't already, it's probably worth watching the console output or rosout from navigation while the robot is navigating.

Originally posted by ahendrix with karma: 47576 on 2013-07-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by HanXiao on 2013-07-24:
Thanks. We found that the reason is the goal was too close to the obstacle in the global map that made it spin. We fixed that by increasing the distance between the goal and obstacle.


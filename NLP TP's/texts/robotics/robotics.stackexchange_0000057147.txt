Q:

Is there a C++ equivalent to roslib.get_ros_home()?

In python, it's possible to use roslib.get_ros_home() to query the environment for the ROS_HOME environment variable, and fall back to HOME/.ros if it doesn't exist. This is very useful for finding a directory that ROS processes can use for storing their own logs or other temporary data.
Is there any equivalent to this in C++?

Originally posted by ahendrix on ROS Answers with karma: 47576 on 2014-02-09
Post score: 1

A:

Hi there!
Inside roscpp/src/libros/file_log.cpp they use:
std::string ros_log_env;
get_environment_variable(ros_log_env, "ROS_HOME")

But I wasn't able to figure out where get_environment_variable comes from (is it a system call? is it a custom fucntion?... no idea).
I hope this hint would help you

Originally posted by Martin Peris with karma: 5625 on 2014-02-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ahendrix on 2014-02-09:
Thanks! I suspect the get_environment_variable uses the standard C getenv function somewhere underneath. Looking into file_log.cpp some more, it looks like they're implementing the fallback logic by hand rather than using a library function for it. I suspect I'll have to do the same in my code.
Comment by Daniel Stonier on 2014-08-30:
For the record, comes from roscpp_core/cpp_common/include/ros/platform.h
Comment by Martin Peris on 2014-08-31:
Hi Daniel, thanks for pointing that out! Could you, please, check the link that you posted? It currently points to http://answers.ros.org/question/127601/is-there-a-c-equivalent-to-roslibget_ros_home/ instead of the file that you mention. Thanks!
Comment by mikepurvis on 2016-07-18:
https://github.com/ros/roscpp_core/blob/dca523422ca13ffc1aacf08ad3b213796465b624/cpp_common/include/ros/platform.h#L63


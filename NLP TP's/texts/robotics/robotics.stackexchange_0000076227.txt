Q:

Can robot_localization fuse raw gyro/accel data with odometry?

I have a robot set up with accelerometer/gyroscope sensors and wheel encoder-based odometry. The inertial sensors provide linear accelerations and angular velocities only - i.e. they are not being used to generate a quaternion estimate. I have been trying to correct the quaternion estimate produced by the wheel odometry since it is subject to slippage. However, my experiments seem to indicate that in order for the robot_localization to correct the odometry orientation estimate, the IMU must provide an orientation. Have I understood the robot_localization package correctly??

Originally posted by Bhavya on ROS Answers with karma: 11 on 2016-09-09
Post score: 1

A:

Most IMUs produce three sets of data:

Orientation
Angular velocity
Linear acceleration

This maps well to the sensor configuration for r_l. If you check out the wiki, specifically the section on parameters, you'll see that you can specify an IMU input like so:
<rosparam param="imu0_config">[false, false, false,
                               false, false, false,
                               false, false, false,
                               true,  true,  true,
                               true,  true,  true]</rosparam>

I'll leave it to you to look at the ordering of the parameters on the wiki, but this configuration will use only the angular velocity and linear acceleration from an IMU.

Originally posted by Tom Moore with karma: 13689 on 2016-10-09
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Jasmin on 2017-03-15:
what about using gyro data only? are angular velocities enough for a correct  state estimation?
Comment by Bhavya on 2017-03-15:
It depends on which subset of the state you care about. You can estimate the orientation using just a gyroscope, but if you want to estimate positions / linear accelerations, you would at least need an accelerometer.
Comment by Jasmin on 2017-03-15:
OK, thank you @Bhavya
Comment by lffox on 2017-07-04:
@Tom Moore What if I want to use yaw measurements from the 'orientation'? What would the yaml file look like? Assume "orientation" is represented as a quaternion.
Comment by lffox on 2017-07-05:
@tom moore Would really appreciate your reply on this
Comment by gvdhoorn on 2017-07-05:
@lffox: please show a little patience. Your last comment was only 23 hours ago. All contributors to ROS Answers do this on a voluntary basis, meaning they don't get paid. I'm sure @Tom Moore will respond whenever he has time (and feels like it).
Comment by lffox on 2017-07-05:
@gvdhoorn I understand. I didn't mean to offend anyone here. I re-commented in the off chance he missed to see it. Also this information was crucial to something I was working and there is a time constraint. I hope u understand.
Comment by Tom Moore on 2017-07-06:
@lffox The wiki has a section on sensor configuration and the variable ordering. Quaternions get converted to Euler angles internally.
Comment by lffox on 2017-07-06:
Thanks a lot, @tom moore


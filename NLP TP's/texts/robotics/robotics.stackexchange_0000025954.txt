Q:

ROS Gazebo (OSX) - Waiting for master

Hello,
I have embarked on the dangerous task to compile gazebo on OSX and after many linking and include changes I finally got it to compile. I am using ROS groovy, which comes with gazebo 1.3.
If I execute the command :
roslaunch gazebo_worlds empty_world.launch

I get the following output :
SUMMARY
========

PARAMETERS
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    gazebo (gazebo/gazebo)
    gazebo_gui (gazebo/gui)

auto-starting new master
process[master]: started with pid [45910]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to d21e6682-8396-11e2-929b-20c9d044a4bb
process[rosout-1]: started with pid [45913]
started core service [/rosout]
process[gazebo-2]: started with pid [45914]
process[gazebo_gui-3]: started with pid [45930]
Gazebo multi-robot simulator, version 1.3.0
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.3.0
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Warning [parser.cc:361] Converting a deprecated SDF source[/Users/hansgaiser/ros_ws/simulator_gazebo/gazebo_worlds/worlds/empty.world].
Set SDF value
  Version[1.2] to Version[1.3]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Msg Waiting for master.[ INFO] [1362269460.264137000]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master....................

And it keeps on waiting forever. I get the same result if I launch empty_world_no_x.launch instead. Running debug.launch gives me :
SUMMARY
========

PARAMETERS
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    gazebo (gazebo/debug)
    gazebo_gui (gazebo/gui)

auto-starting new master
process[master]: started with pid [45813]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to e9d07351-8395-11e2-827f-20c9d044a4bb
process[rosout-1]: started with pid [45816]
started core service [/rosout]
process[gazebo-2]: started with pid [45817]
process[gazebo_gui-3]: started with pid [45841]
GNU gdb 6.3.50-20050815 (Apple version gdb-1824) (Thu Nov 15 10:42:43 UTC 2012)
Copyright 2004 Free Software Foundation, Inc.
GDB is free software, covered by the GNU General Public License, and you are
welcome to change it and/or distribute copies of it under certain conditions.
Type "show copying" to see the conditions.
There is absolutely no warranty for GDB.  Type "show warranty" for details.
This GDB was configured as "x86_64-apple-darwin"...Reading symbols for shared libraries ............................
warning: .o file "/usr/local/lib/libboost_system-mt.a(error_code.o)" more recent than executable timestamp in "/usr/local/Cellar/ogre/1.7.4/lib/libOgreMain.1.7.4.dylib"

warning: Could not open OSO file /usr/local/lib/libboost_system-mt.a(error_code.o) to scan for pubtypes for objfile /usr/local/Cellar/ogre/1.7.4/lib/libOgreMain.1.7.4.dylib

warning: .o file "/usr/local/lib/libboost_thread-mt.a(thread.o)" more recent than executable timestamp in "/usr/local/Cellar/ogre/1.7.4/lib/libOgreMain.1.7.4.dylib"

warning: Could not open OSO file /usr/local/lib/libboost_thread-mt.a(thread.o) to scan for pubtypes for objfile /usr/local/Cellar/ogre/1.7.4/lib/libOgreMain.1.7.4.dylib

warning: .o file "/usr/local/lib/libboost_thread-mt.a(once.o)" more recent than executable timestamp in "/usr/local/Cellar/ogre/1.7.4/lib/libOgreMain.1.7.4.dylib"

warning: Could not open OSO file /usr/local/lib/libboost_thread-mt.a(once.o) to scan for pubtypes for objfile /usr/local/Cellar/ogre/1.7.4/lib/libOgreMain.1.7.4.dylib
Gazebo multi-robot simulator, version 1.3.0
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

.......
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/thread/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/pthread/thread.o" - no debug information available for "thread.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/thread/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/pthread/once.o" - no debug information available for "once.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/signals/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/trackable.o" - no debug information available for "trackable.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/signals/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/connection.o" - no debug information available for "connection.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/signals/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/named_slot_map.o" - no debug information available for "named_slot_map.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/signals/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/signal_base.o" - no debug information available for "signal_base.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/signals/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/slot.o" - no debug information available for "slot.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/system/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/error_code.o" - no debug information available for "error_code.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v2/src/v2_operations.o" - no debug information available for "v2_operations.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v2/src/v2_path.o" - no debug information available for "v2_path.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v2/src/v2_portability.o" - no debug information available for "v2_portability.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/operations.o" - no debug information available for "operations.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/path.o" - no debug information available for "path.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/portability.o" - no debug information available for "portability.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/codecvt_error_category.o" - no debug information available for "codecvt_error_category.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/path_traits.o" - no debug information available for "path_traits.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/unique_path.o" - no debug information available for "unique_path.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/filesystem/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/v3/src/utf8_codecvt_facet.o" - no debug information available for "utf8_codecvt_facet.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/cmdline.o" - no debug information available for "cmdline.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/config_file.o" - no debug information available for "config_file.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/options_description.o" - no debug information available for "options_description.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/parsers.o" - no debug information available for "parsers.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/variables_map.o" - no debug information available for "variables_map.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/value_semantic.o" - no debug information available for "value_semantic.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/positional_options.o" - no debug information available for "positional_options.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/utf8_codecvt_facet.o" - no debug information available for "utf8_codecvt_facet.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/convert.o" - no debug information available for "convert.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/program_options/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/split.o" - no debug information available for "split.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/c_regex_traits.o" - no debug information available for "c_regex_traits.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/cpp_regex_traits.o" - no debug information available for "cpp_regex_traits.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/cregex.o" - no debug information available for "cregex.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/fileiter.o" - no debug information available for "fileiter.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/instances.o" - no debug information available for "instances.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/posix_api.o" - no debug information available for "posix_api.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/regex.o" - no debug information available for "regex.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/regex_raw_buffer.o" - no debug information available for "regex_raw_buffer.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/regex_traits_defaults.o" - no debug information available for "regex_traits_defaults.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/static_mutex.o" - no debug information available for "static_mutex.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/wc_regex_traits.o" - no debug information available for "wc_regex_traits.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/wide_posix_api.o" - no debug information available for "wide_posix_api.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/regex/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/winstances.o" - no debug information available for "winstances.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/iostreams/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/file_descriptor.o" - no debug information available for "file_descriptor.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/iostreams/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/mapped_file.o" - no debug information available for "mapped_file.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/iostreams/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/zlib.o" - no debug information available for "zlib.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/iostreams/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/gzip.o" - no debug information available for "gzip.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/iostreams/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/bzip2.o" - no debug information available for "bzip2.cpp".

.
warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/date_time/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/gregorian/greg_month.o" - no debug information available for "greg_month.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/date_time/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/gregorian/greg_weekday.o" - no debug information available for "greg_weekday.cpp".

warning: Could not find object file "/private/tmp/boost-pEvp/boost_1_49_0/bin.v2/libs/date_time/build/darwin-4.2.1/release/address-model-32_64/architecture-x86/pch-off/threading-multi/gregorian/date_generators.o" - no debug information available for "date_generators.cpp".

....... done

Msg Waiting for master....[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
.Reading symbols for shared libraries ++++++++++++++++++++++++++++++++++++++++++++++++........................................................................................................................................................................ done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Gazebo multi-robot simulator, version 1.3.0
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Reading symbols for shared libraries ..................... done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
..Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Reading symbols for shared libraries . done
[TIOCSPGRP failed in terminal_inferior: Inappropriate ioctl for device]
Warning [parser.cc:361] Converting a deprecated SDF source[/Users/hansgaiser/ros_ws/simulator_gazebo/gazebo_worlds/worlds/empty.world].
Set SDF value
  Version[1.2] to Version[1.3]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Msg Waiting for master.[ INFO] [1362269078.166361000]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
...................................................................................................................................................................................................

What could cause this ?

Originally posted by Hansg91 on Gazebo Answers with karma: 11 on 2013-03-02
Post score: 0

Original comments
Comment by Hansg91 on 2013-03-03:
Also, during building of the gazebo package of ROS, I see this error : ERRORFinding dependencies for /Users/hansgaiser/ros_ws/simulator_gazebo/gazebo/cfg/Physics.cfg
Comment by Hansg91 on 2013-03-03:
Also, running just the gzserver gives me the same problems. (I did source the setup.sh)
Comment by Hansg91 on 2013-03-03:
Also, version 1.4 gives standalone gives me the same problems.
Comment by Hansg91 on 2013-03-03:
Also, running gzmaster gives me a segfault at this->connection->Listen(_port, boost::bind(&Master::OnAccept, this, _1));
Comment by Hansg91 on 2013-03-03:
Ok the segfault is fixed (changed an if statement so the master is actually created). I am still getting Waiting for master, which I have backtraced to be caused by a Connection refused in boost asio... time to dig further.
Comment by SL Remy on 2013-03-04:
What instructions did you use to build? And what version of OSX are you using?
Comment by nkoenig on 2013-03-06:
Do you fork Gazebo when you started down this road? If so, could you post your repo so that others can help?
Comment by Hansg91 on 2013-03-20:
Wow sorry I had totally missed that there were comments on this question, my fork is: https://bitbucket.org/hgaiser/gazebo and I am running OSX 10.8.3 (10.8.2 at the moment of writing). I still have this issue but I didn't try much more after this post.

A:

The latest documentation on Mac OS X support for Gazebo is at http://gazebosim.org/wiki/1.6/install_osx.

Originally posted by scpeters with karma: 2861 on 2013-07-23
This answer was ACCEPTED on the original site
Post score: 1


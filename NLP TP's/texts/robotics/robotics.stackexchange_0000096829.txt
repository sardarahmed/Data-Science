Q:

how does autoware's yaw change？

when head to north,yaw＝0？
And then the car turn to east,yaw increases to 359.99999 when touch north again？

Originally posted by fantasyplus on ROS Answers with karma: 17 on 2020-08-14
Post score: 0

Original comments
Comment by Josh Whitley on 2020-08-17:
I'm sorry but you will need to provide more information. For example:

Operating System
Version of ROS
Version of Autoware
Which frame are you seeing these measurements in?

Comment by fantasyplus on 2020-08-17:\

Operating System:Ubuntu 18.04
Version of ROS:melodic
Version of Autoware:autoware 1.14

I echo the topic "current_pose" which has the angle information,the frame is "map".
And I want to know does autoware's demo's yaw change like I said because I need to suit to my real car.

A:

Heading may depend on localization type you are using. If we talk about lidar localization then it depends on how map was built. If it was not aligned with GPS during building then zero heading depends on map (basically where your car was directed to during map collecting/building is a zero heading).
/current_pose topic is a geometry_msgs::PoseStamped topic, so it store angles in quaternion, you have to convert it to degrees manually. If you are using ros it will gives you -180....180.
double yawDeg(const geometry_msgs::Quaternion &quat){
    tf::Quaternion q(
                quat.x,
                quat.y,
                quat.z,
                quat.w);
    tf::Matrix3x3 m(q);
    double roll, pitch, yaw;
    m.getRPY(roll, pitch, yaw);
    return yaw/M_PI*180.;
}
double yawDegree = yawDeg(msg->pose.orientation);

You can transform angles as you wish (0...360 or -180...180),  stackoverflow has some answers.
What type of localizer are you using?

Originally posted by dtyugin with karma: 121 on 2020-08-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by fantasyplus on 2020-08-24:
Thanks anyway! . I have already let my car move yet.


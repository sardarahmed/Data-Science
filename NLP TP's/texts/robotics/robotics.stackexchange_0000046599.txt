Q:

CMAKE_OSX_DEPLOYMENT_TARGET and CMAKE_OSX_SYSROOT

Hi possible lifesavers,
I am just getting started with ROS, and now having trouble with rosmake.
When I try to do rosmake, it will give:
CMake Error at /usr/local/Cellar/cmake/2.8.10.1/share/cmake/Modules/Platform/Darwin.cmake:190 (message):
    CMAKE_OSX_DEPLOYMENT_TARGET is '10.6' but CMAKE_OSX_SYSROOT:
  
     " "
  
    is not set to a MacOSX SDK with a recognized version.  Either set
    CMAKE_OSX_SYSROOT to a valid SDK or set CMAKE_OSX_DEPLOYMENT_TARGET to
    empty.
  Call Stack (most recent call first):
    /usr/local/Cellar/cmake/2.8.10.1/share/cmake/Modules/CMakeSystemSpecificInformation.cmake:36 (include)
    
  
  
  -- Configuring incomplete, errors occurred!

Then I configured CMAKE_OSX_SYSROOT to
/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.7.sdk
Now, I am getting:
CMake Error at /usr/local/Cellar/cmake/2.8.10.1/share/cmake/Modules/Platform/Darwin.cmake:190 (message):
    CMAKE_OSX_DEPLOYMENT_TARGET is '10.6' but CMAKE_OSX_SYSROOT:
  
     "10.7"
  
    is not set to a MacOSX SDK with a recognized version.  Either set
    CMAKE_OSX_SYSROOT to a valid SDK or set CMAKE_OSX_DEPLOYMENT_TARGET to
    empty.
  Call Stack (most recent call first):
    /usr/local/Cellar/cmake/2.8.10.1/share/cmake/Modules/CMakeSystemSpecificInformation.cmake:36 (include)
    
  
  
  -- Configuring incomplete, errors occurred!

which does not really make sense to me now.
So, any ideas?

Originally posted by gegao884 on ROS Answers with karma: 1 on 2012-12-15
Post score: 5

Original comments
Comment by Kevin on 2013-01-01:
I have the same issue too ... trying to figure it out.

A:

ok this is what I did, go to /opt/ros/groovy/share/ros/core/rosbuild/public.cmake and comment out line 164 (with the # symbol) that say:
if(APPLE)
   #SET(CMAKE_OSX_DEPLOYMENT_TARGET "10.8" CACHE STRING "Deployment target for OSX" FORCE)
endif(APPLE)

That seems to work for me so far. Maybe @WilliamWoodall might have a better idea.
I have OSX 10.8, ROS Groovy Beta 3, cmake 2.8.10.1, and XCode 4.5.2

Originally posted by Kevin with karma: 2962 on 2013-01-01
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Kevin on 2013-01-01:
Note, I tried changing the 10.6 to a 10.8 since I am using OSX 10.8 and it didn't help. Your line 164 of public.cmake will say 10.6.
Comment by WilliamWoodall on 2013-01-02:
I didn't add this line, I'll have to look at the history to see when/why it was introduced.  I haven't run into this problem yet.
Comment by Kevin on 2013-01-21:
That should be correct if you did not install it (for some reason) to /opt/ros/groovy. Make sure you do a make clean, that may help.
Comment by WilliamWoodall on 2013-01-21:
Just look for the one which is under the path returned by rospack find rosbuild


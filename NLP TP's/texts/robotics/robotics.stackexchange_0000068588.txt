Q:

Unable to install Turtlebot

I am running ROS Indigo on Ubuntu Trusty but am unable to install Turtlebot from this tutorial:
http://wiki.ros.org/turtlebot/Tutorials/indigo/Turtlebot%20Installation
The error I get is:
sudo apt-get install ros-indigo-turtlebot ros-indigo-turtlebot-apps ros-indigo-turtlebot-interactions ros-indigo-turtlebot-simulator ros-indigo-kobuki-ftdi ros-indigo-rocon-remocon ros-indigo-rocon-qt-library ros-indigo-ar-track-alvar-msgs
Reading package lists... Done
Building dependency tree       
Reading state information... Done
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 ros-indigo-turtlebot-simulator : Depends: ros-indigo-turtlebot-gazebo but it is not going to be installed
E: Unable to correct problems, you have held broken packages.

I am running Ubuntu 14.04.2 LTS on a Acer Aspire S3 laptop, Linux kernal 3.13.0-55-generic x86_64 .
As requested in the feedback, I ran with  -f -o Debug::pkgProblemResolver=yes and was still unable to install Turtlebot:

sudo apt-get install -f -o Debug::pkgProblemResolver=yes ros-indigo-turtlebot ros-indigo-turtlebot-apps ros-indigo-turtlebot-interactions ros-indigo-turtlebot-simulator ros-indigo-kobuki-ftdi ros-indigo-rocon-remocon ros-indigo-rocon-qt-library ros-indigo-ar-track-alvar-msgs > allout.txt 2>&1

Reading package lists...
Building dependency tree...
Reading state information...
Starting pkgProblemResolver with broken count: 6
Starting 2 pkgProblemResolver with broken count: 6
Investigating (0) libsdformat2 [ amd64 ]  ( libs )
Broken libsdformat2:amd64 Conflicts on libsdformat1 [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libs )
  Considering libsdformat1:amd64 -1 as a solution to libsdformat2:amd64 10
  Added libsdformat1:amd64 to the remove list
  Conflicts//Breaks against version 1.4.11-1osrf1 for libsdformat1 but that is not InstVer, ignoring
  Conflicts//Breaks against version 1.4.11-1 for libsdformat1 but that is not InstVer, ignoring
  Fixing libsdformat2:amd64 via keep of libsdformat1:amd64
Investigating (0) libsdformat-dev [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libdevel )
Broken libsdformat-dev:amd64 Depends on libsdformat1 [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libs ) (= 1.4.11-1ubuntu0.1)
  Considering libsdformat1:amd64 -1 as a solution to libsdformat-dev:amd64 3
  Holding Back libsdformat-dev:amd64 rather than change libsdformat1:amd64
Investigating (0) ros-indigo-gazebo4-msgs [ amd64 ]  ( misc )
Broken ros-indigo-gazebo4-msgs:amd64 Conflicts on ros-indigo-gazebo-msgs [ amd64 ]  2.4.8-0trusty-20150522-1307-+0000 > ( misc )
  Considering ros-indigo-gazebo-msgs:amd64 -1 as a solution to ros-indigo-gazebo4-msgs:amd64 3
  Added ros-indigo-gazebo-msgs:amd64 to the remove list
  Fixing ros-indigo-gazebo4-msgs:amd64 via keep of ros-indigo-gazebo-msgs:amd64
Investigating (0) ros-indigo-gazebo4-ros [ amd64 ]  ( misc )
Broken ros-indigo-gazebo4-ros:amd64 Conflicts on ros-indigo-gazebo-ros [ amd64 ]  2.4.8-0trusty-20150523-0901-+0000 > ( misc )
  Considering ros-indigo-gazebo-ros:amd64 0 as a solution to ros-indigo-gazebo4-ros:amd64 1
  Added ros-indigo-gazebo-ros:amd64 to the remove list
  Fixing ros-indigo-gazebo4-ros:amd64 via keep of ros-indigo-gazebo-ros:amd64
Investigating (0) ros-indigo-gazebo4-plugins [ amd64 ]  ( misc )
Broken ros-indigo-gazebo4-plugins:amd64 Conflicts on ros-indigo-gazebo-plugins [ amd64 ]  2.4.8-0trusty-20150523-1223-+0000 > ( misc )
  Considering ros-indigo-gazebo-plugins:amd64 -2 as a solution to ros-indigo-gazebo4-plugins:amd64 0
  Added ros-indigo-gazebo-plugins:amd64 to the remove list
  Fixing ros-indigo-gazebo4-plugins:amd64 via keep of ros-indigo-gazebo-plugins:amd64
Investigating (0) gazebo2 [ amd64 ]  2.2.5-1~trusty > ( devel )
Broken gazebo2:amd64 Depends on libsdformat-dev [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libdevel ) (>= 1.4.11-1osrf1)
  Considering libsdformat-dev:amd64 3 as a solution to gazebo2:amd64 -1
  Holding Back gazebo2:amd64 rather than change libsdformat-dev:amd64
Investigating (0) ros-indigo-kobuki-gazebo-plugins [ amd64 ]  0.4.2-0trusty-20150523-1235-+0000 > ( misc )
Broken ros-indigo-kobuki-gazebo-plugins:amd64 Depends on gazebo2 [ amd64 ]  2.2.5-1~trusty > ( devel )
  Considering gazebo2:amd64 -1 as a solution to ros-indigo-kobuki-gazebo-plugins:amd64 -1
  Holding Back ros-indigo-kobuki-gazebo-plugins:amd64 rather than change gazebo2:amd64
Investigating (0) ros-indigo-turtlebot-gazebo [ amd64 ]  2.2.0-0trusty-20150704-1259-+0000 > ( misc )
Broken ros-indigo-turtlebot-gazebo:amd64 Depends on ros-indigo-gazebo-ros [ amd64 ]  2.4.8-0trusty-20150523-0901-+0000 > ( misc )
  Considering ros-indigo-gazebo-ros:amd64 0 as a solution to ros-indigo-turtlebot-gazebo:amd64 -1
  Holding Back ros-indigo-turtlebot-gazebo:amd64 rather than change ros-indigo-gazebo-ros:amd64
Investigating (1) ros-indigo-turtlebot-simulator [ amd64 ]  2.2.0-0trusty-20150704-1330-+0000 > ( misc )
Broken ros-indigo-turtlebot-simulator:amd64 Depends on ros-indigo-turtlebot-gazebo [ amd64 ]  2.2.0-0trusty-20150704-1259-+0000 > ( misc )
  Considering ros-indigo-turtlebot-gazebo:amd64 -1 as a solution to ros-indigo-turtlebot-simulator:amd64 9998
  Re-Instated libsdformat1:amd64
  Re-Instated libsdformat-dev:amd64
  Re-Instated gazebo2:amd64
  Re-Instated ros-indigo-gazebo-msgs:amd64
  Re-Instated ros-indigo-gazebo-ros:amd64
  Re-Instated ros-indigo-gazebo-plugins:amd64
  Re-Instated ros-indigo-kobuki-gazebo-plugins:amd64
  Re-Instated ros-indigo-turtlebot-gazebo:amd64
Investigating (1) libsdformat2 [ amd64 ]  ( libs )
Broken libsdformat2:amd64 Conflicts on libsdformat1 [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libs )
  Considering libsdformat1:amd64 -1 as a solution to libsdformat2:amd64 10
  Added libsdformat1:amd64 to the remove list
  Conflicts//Breaks against version 1.4.11-1osrf1 for libsdformat1 but that is not InstVer, ignoring
  Conflicts//Breaks against version 1.4.11-1 for libsdformat1 but that is not InstVer, ignoring
  Fixing libsdformat2:amd64 via keep of libsdformat1:amd64
Investigating (1) libsdformat-dev [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libdevel )
Broken libsdformat-dev:amd64 Depends on libsdformat1 [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libs ) (= 1.4.11-1ubuntu0.1)
  Considering libsdformat1:amd64 -1 as a solution to libsdformat-dev:amd64 3
  Holding Back libsdformat-dev:amd64 rather than change libsdformat1:amd64
Investigating (1) ros-indigo-gazebo4-msgs [ amd64 ]  ( misc )
Broken ros-indigo-gazebo4-msgs:amd64 Conflicts on ros-indigo-gazebo-msgs [ amd64 ]  2.4.8-0trusty-20150522-1307-+0000 > ( misc )
  Considering ros-indigo-gazebo-msgs:amd64 -1 as a solution to ros-indigo-gazebo4-msgs:amd64 3
  Added ros-indigo-gazebo-msgs:amd64 to the remove list
  Fixing ros-indigo-gazebo4-msgs:amd64 via keep of ros-indigo-gazebo-msgs:amd64
Investigating (1) ros-indigo-gazebo4-ros [ amd64 ]  ( misc )
Broken ros-indigo-gazebo4-ros:amd64 Conflicts on ros-indigo-gazebo-ros [ amd64 ]  2.4.8-0trusty-20150523-0901-+0000 > ( misc )
  Considering ros-indigo-gazebo-ros:amd64 0 as a solution to ros-indigo-gazebo4-ros:amd64 1
  Added ros-indigo-gazebo-ros:amd64 to the remove list
  Fixing ros-indigo-gazebo4-ros:amd64 via keep of ros-indigo-gazebo-ros:amd64
Investigating (1) ros-indigo-gazebo4-plugins [ amd64 ]  ( misc )
Broken ros-indigo-gazebo4-plugins:amd64 Conflicts on ros-indigo-gazebo-plugins [ amd64 ]  2.4.8-0trusty-20150523-1223-+0000 > ( misc )
  Considering ros-indigo-gazebo-plugins:amd64 -2 as a solution to ros-indigo-gazebo4-plugins:amd64 0
  Added ros-indigo-gazebo-plugins:amd64 to the remove list
  Fixing ros-indigo-gazebo4-plugins:amd64 via keep of ros-indigo-gazebo-plugins:amd64
Investigating (1) gazebo2 [ amd64 ]  2.2.5-1~trusty > ( devel )
Broken gazebo2:amd64 Depends on libsdformat-dev [ amd64 ]  1.4.11-1ubuntu0.1 > ( universe/libdevel ) (>= 1.4.11-1osrf1)
  Considering libsdformat-dev:amd64 3 as a solution to gazebo2:amd64 -1
  Holding Back gazebo2:amd64 rather than change libsdformat-dev:amd64
Investigating (1) ros-indigo-kobuki-gazebo-plugins [ amd64 ]  0.4.2-0trusty-20150523-1235-+0000 > ( misc )
Broken ros-indigo-kobuki-gazebo-plugins:amd64 Depends on gazebo2 [ amd64 ]  2.2.5-1~trusty > ( devel )
  Considering gazebo2:amd64 -1 as a solution to ros-indigo-kobuki-gazebo-plugins:amd64 -1
  Holding Back ros-indigo-kobuki-gazebo-plugins:amd64 rather than change gazebo2:amd64
Investigating (1) ros-indigo-turtlebot-gazebo [ amd64 ]  2.2.0-0trusty-20150704-1259-+0000 > ( misc )
Broken ros-indigo-turtlebot-gazebo:amd64 Depends on ros-indigo-gazebo-ros [ amd64 ]  2.4.8-0trusty-20150523-0901-+0000 > ( misc )
  Considering ros-indigo-gazebo-ros:amd64 0 as a solution to ros-indigo-turtlebot-gazebo:amd64 -1
  Holding Back ros-indigo-turtlebot-gazebo:amd64 rather than change ros-indigo-gazebo-ros:amd64
Investigating (2) ros-indigo-turtlebot-simulator [ amd64 ]  2.2.0-0trusty-20150704-1330-+0000 > ( misc )
Broken ros-indigo-turtlebot-simulator:amd64 Depends on ros-indigo-turtlebot-gazebo [ amd64 ]  2.2.0-0trusty-20150704-1259-+0000 > ( misc )
  Considering ros-indigo-turtlebot-gazebo:amd64 -1 as a solution to ros-indigo-turtlebot-simulator:amd64 9998
Done
ros-indigo-kobuki-ftdi is already the newest version.
ros-indigo-kobuki-ftdi set to manually installed.
ros-indigo-turtlebot is already the newest version.
ros-indigo-turtlebot-apps is already the newest version.
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 ros-indigo-turtlebot-simulator : Depends: ros-indigo-turtlebot-gazebo but it is not going to be installed
E: Unable to correct problems, you have held broken packages.

I did however find a workaround and was able to get round the above issues. I first ran:

sudo apt-get install libsdformat1

Then

sudo apt-get install ros-indigo-turtlebot ros-indigo-turtlebot-apps ros-indigo-turtlebot-interactions ros-indigo-turtlebot-simulator ros-indigo-kobuki-ftdi ros-indigo-rocon-remocon ros-indigo-rocon-qt-library ros-indigo-ar-track-alvar-msgs

and that worked without any issues. I even ran the Gazebo Turtlebot and Teleop tutorials and everything seems to run fine.

Originally posted by Grant Woodford on ROS Answers with karma: 11 on 2015-07-11
Post score: 1

Original comments
Comment by gvdhoorn on 2015-07-11:
Please format console copy/pastes with the Preformatted text button (the one with 101010 on it) in the future. Really hard to read otherwise.
Comment by tfoote on 2015-07-12:
To get more information from apt add the option -o Debug::pkgProblemResolver=yes to get more information and then edit your question. Please also state your platform (OS, Arch, etc)

A:

From your edits you've found the problem. To clarify a little bit. If you upgrade the version of gazebo that you are running from the gazebo repos http://packages.osrfoundation.org you will need to build all packages on top of that from source.
This is because upgrading to the newer version of Gazebo is not ABI compatible and thus the binaries would crash if you tried to use them in a mixed fashion. It would be nice if apt gave more helpful errors by default, but at least the packages conflict so you don't get your system into a crashing state.

Originally posted by tfoote with karma: 58457 on 2015-07-12
This answer was ACCEPTED on the original site
Post score: 1


Q:

How to properly set JACKAL_URDF_EXTRAS?

I am adding a custom sensor arrangement to a Clearpath Jackal. In the documentation, it suggests that all is necessary is to set JACKAL_URDF_EXTRAS to the file path of the custom xacro file. I do this using:
echo "export JACKAL_URDF_EXTRAS=/home/administrator/my_folder/urdf/sensors.urdf.xacro" >> /etc/environment

However, this has no effect. This is shown in the TF tree, which reflects none of the expected changes. Any ideas what I'm doing wrong?
I've looked at the instructions here: http://www.clearpathrobotics.com/assets/guides/melodic/jackal/startup.html where it is suggesting that I should use the command:
echo "export JACKAL_URDF_EXTRAS=/home/administrator/my_folder/urdf/sensors.urdf.xacro" >> /etc/ros/setup.bash

However, this still does not work.
Does anyone have any ideas?

Originally posted by Py on ROS Answers with karma: 501 on 2021-02-05
Post score: 0

Original comments
Comment by chives_onion on 2021-02-11:
Did you re-source your terminal after adding the new paths?
For the git discrepancy, are you sure you're in the same branch?
Comment by Py on 2021-02-16:
Please ignore my previous comment regarding the git discrepancy - this was a mistake. I've just tried resourcing my terminal and this does not solve the problem. Is there something else that should be sourced to make sure the Jackal system can see my file in the same way that it can see the preset empty.urdf.xacro file?

A:

Well you can do in two ways:

JACKAL_URDF_EXTRAS with this you have to do the same procedure as you did above. I think you also have to publish the static transform as well from Jackal to your Lidar.

Adding accessories to the robot. This thing is fairly simple and worked quite well for me and also rendered everything in Gazebo and handling was quite easy.

Here is a small example:
<!-- front laser -->    
    <xacro:include filename="$(find warthog_description)/urdf/accessories/lasers/front_laser.urdf.xacro" /> 
    <joint name="fl_joint" type="fixed">
      <origin xyz="0.025 0.0275 0.025" rpy="1.5708 -0.7854 0" />
      <parent link="fl_frame"/>
      <child link="f_laser" />
    </joint>
  </xacro:if>

and the front_laser.urdf.xacro look something like this"
<?xml version="1.0"?>
<robot xmlns:xacro="http://wiki.ros.org/xacro"  name="f_laser" >
  <xacro:include filename="hukoyu.urdf.xacro" />
  <xacro:hokuyo_ust-10lx_mount prefix="front" topic="front_laser/scan" location="0.07"/>
</robot>

Originally posted by Tahir M. with karma: 213 on 2021-02-17
This answer was ACCEPTED on the original site
Post score: 1


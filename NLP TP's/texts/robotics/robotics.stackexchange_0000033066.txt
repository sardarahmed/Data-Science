Q:

opencv pixel locations

Hi all,
I have an image that looks like this:

From this image, I want to get a list of all of the pixel locations for pixels which are nonzero (white).  I'm using OpenCV in Python, and I don't have a good sense of how.
Thanks,
Bradley Powers

Originally posted by Bradley Powers on ROS Answers with karma: 422 on 2011-07-18
Post score: 0

A:

If you haven't already, I'd suggest looking at NumPy for manipulating your OpenCV images in Python. If you load your images as CvMat objects instead of IplImages then you can manipulate them as NumPy objects without copying the data.
NumPy takes a while to get your head around, but once you do you can use techniques such as the ones given here to achieve what you want.
Based on that, running this program
#! /usr/bin/env python

import cv
import numpy

cvImg = cv.LoadImageM( "testImage.png",     # Must use LoadImageM
    iscolor=cv.CV_LOAD_IMAGE_GRAYSCALE )
npImg = numpy.asarray( cvImg )  # No copying takes place

coordList = numpy.argwhere( npImg == 255 )
numWhitePoints = len( coordList )

print coordList
print "Found {0} points".format( numWhitePoints )

on your image should output like this
[[ 97 318]
 [ 97 322]
 [ 97 323]
   .. ..
   .. ..
 [141 200]
 [146 189]
 [153 178]]
Found 216 points

Originally posted by abroun with karma: 113 on 2011-07-18
This answer was ACCEPTED on the original site
Post score: 4


Q:

How to 'catkin_make clean' just one package?

Hello,
How can we completely remove a single catkin package from our catkin workspace?  The commands:
$ cd ~/catkin_ws
$ catkin_make clean package_name

appears to also remove shared objects from all other packages in the workspace so that a subsequent "catkin_make" has to rebuild stuff in those packages.  I would like a way to remove all build objects from a package without affecting other packages and so that subsequently removing the source tree of the package in question would remove all traces of it from the workspace.
Thanks!
patrick

Originally posted by Pi Robot on ROS Answers with karma: 4046 on 2013-07-01
Post score: 10

Original comments
Comment by Dirk Thomas on 2013-07-01:
Your command invokes catkin_make clean and than catkin_make package_name which cleans everything and than builds only the executable/library package_name.

A:

catkin does not provide a package-specific clean target. The reason is simply that CMake does not provide the necessary information what targets and generated files belong to a project.
So you have to first remove the package from the workspace (or place a CATKIN_IGNORE file in the repository/package folder). Then depending on how clean you need the workspace to be you could either call make clean followed by a normal make or remove the build and devel folders completely and perform a clean catkin_make.

Originally posted by Dirk Thomas with karma: 16276 on 2013-07-01
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Pi Robot on 2013-07-01:
Thanks Dirk.  Unfortunately, running 'make clean' in any directory under ~/catkin_ws (including the root) results in the following error:make: *** No rule to make target `clean'.  Stop.
Comment by Dirk Thomas on 2013-07-01:
Either call catkin_make clean in the root of the workspace or plain make clean in the subfolder build.
Comment by Pi Robot on 2013-07-01:
D'oh!  I missed trying it in the build directory.  OK thanks.  But my original problem remains.  So there is really no way to completely remove a catkin package without having to rebuild other packages?  This seems mildly tedious...
Comment by Dirk Thomas on 2013-07-01:
No, there is no alternative. But rebuilding your workspace is only a matter of a couple of seconds. If your are not yet using ccache you should give that a try.
Comment by Pi Robot on 2013-07-01:
Thanks for the ccache tip.  Unfortunately it doesn't appear to provide any noticeable speedup even though it is now symlinked to cc and gcc.  Rebuilding my workspace can take many many minutes if it includes some packages like ecto.
Comment by William on 2013-07-01:
ccache is only faster after the first build. If you use catkin_make_isolated you can remove a package by deleting the build/pkg_name and devel/pkg_name folders. But for catkin_make everything is in a shared build and devel space so you can't do that.
Comment by Pi Robot on 2013-07-01:
Thanks for the pointer to catkin_make_isolated which I did not know about.  Looks promising!
Comment by angelos.p on 2017-04-11:
Another option to clean up could be:
$ cd ~/catkin_ws
$ rm -r build devel install


Q:

Can't view the pointclouds in the rviz

I use the bumblebee2 get stereo picture of the left and right image,and use the stereo_image_proc package to deal with it . i got the rect image and disparity image with no problem, and use the command of "rostopic echo /stereo_camera/pointclouds2",got the pointclouds data as followed

then i want to use the rviz to see the pointclouds picture ,it failed.

I think it's not the problem of "tf data",as i use the bumbleebee on line get the pointclouds picture by rviz have the same warn of "tf data",but it's no matter to view the pointclouds in the rviz!

Originally posted by Winston on ROS Answers with karma: 180 on 2016-06-03
Post score: 0

A:

It's hard to parse your last sentence. I guess you were able to display an image. In this case, I do think it is the lack of tf data, as the pointcloud data needs a coordinate frame, while the image does not.
In this case you need to manually set rviz to the right frame. Check the output of rostopic echo  /stereo_camera/pointclouds2/header/frame_id and set the according frame name as fixed_frame in rviz.

Originally posted by Felix Endres with karma: 6468 on 2016-06-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Winston on 2016-06-08:
Thanks for your advise!
I mean i can get the pointclouds picture with the warn""Global statas warn No Tf data" when i use the bumblebee, so i don't think it lack of tf data.And my frame_id is "map" in my code,so i think it's not the problem.Is there any other posible prolem? I really confused!
Comment by Felix Endres on 2016-06-08:
In what code is your frame_id "map"? Usually one does not use "map" as the frame_id for the sensor data. Have you checked the output of the mentioned command?
Comment by Winston on 2016-06-21:
In my "publish images and camera_info" code.
Thanks for your suggestions, and i found the problem recently. It's the problem of the CameraInfo!. The CameraInfo isn't match the left and right image!
Comment by dpetrini on 2019-03-13:
Could you please point what you fixed in CameraInfo? I have exact same problem. thanks


Q:

Rotate rtabmap's local_costmap?

We're using rtabmap and only our local costmap is incorrectly rotated 90 degrees :(. We've tried using TF to rotate a few things with the static_transform_publisher but haven't been successful. Do you have any suggestions? See screenshots:
Incorrect: (the local cost map)

Correct: (the global cost map)

Thank you!

Originally posted by danielsnider on ROS Answers with karma: 203 on 2017-02-20
Post score: 0

A:

Hi,
What are the parameters of the local costmap? Which frame it is linked (should be /odom)? The problem could be also the attached frame used on the sensor for the obstacle layer. For example, use sensor_frame: base_link instead of sensor_frame: zed_camera_link, so that zed point cloud is transformed in base_link before ray tracing in the local costmap.
cheers

Originally posted by matlabbe with karma: 6409 on 2017-02-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by mincrmatt12 on 2017-02-23:
I'm also on the team, and I can confirm it is set to odom. Then again, this is just testing with a fixed robot, so odom doesn't rotate. Here's a link to our configs: linky
Comment by matlabbe on 2017-02-25:
Try changing sensor_frame: camera_link in local_costmap_params.yaml to sensor_frame: base_link (or whatever is your base frame on the robot)
Comment by mincrmatt12 on 2017-02-27:
We've tried that, and it didn't work :(
Comment by matlabbe on 2017-02-28:
Can you show in RVIZ the point cloud used for the local costmap? How do you setup ZED TFs (see this post for example)?


Q:

Can packages be chosen with vsctool or only --packages-up-to?

Colcon allows to limit the building of a workspace by specifying --packages-up-to .  However I am wondering if there's a way to limit vsctool from downloading all packages in a repository.
For example: In the Autoware Universe repo, under the perception directory, there's a number of packages.  By specifying it in the .repos file:
universe/autoware.universe:
    type: git
    url: https://github.com/autowarefoundation/autoware.universe.git
    version: main

vsctool will bring in all directories under this repository.
Assuming we are only interested in the traffic_light_classifier (and its dependencies), is there a way to specify this in the .repos file, or is --packages-up-to the only viable option?

Originally posted by sameh4 on ROS Answers with karma: 89 on 2022-05-24
Post score: 1

A:

No, this is not something vcstool supports.
vcstool has one responsibility, and that's cloning/downloading repositories/archives listed in a .repos file (in addition to some other convenience methods having to do with interacting with all those cloned/downloaded repositories).
It doesn't know anything about packages, about ROS, workspaces, or anything like that.
It's purely a convenience tool around git, svn and some other VCS tools.

Edit: having written that, there is an issue asking for this functionality: dirk-thomas/vcstool#218, and an open PR which proposes to add this functionality: dirk-thomas/vcstool#219.
Note that even with the PR merged, vcstool would still not know anything about packages. The PR only adds the ability to selectively checkout directories. There is no guarantee, nor requirement, that each directory only contains a single package.

Originally posted by gvdhoorn with karma: 86574 on 2022-05-24
This answer was ACCEPTED on the original site
Post score: 2


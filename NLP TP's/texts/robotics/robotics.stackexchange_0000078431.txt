Q:

problem localization AMCL (only laser scanner)

Hi,
I'm quite confused about AMCL.
Until now, i was able to create a map with hector_slam.
Now i'm trying to use AMCL to localize my robot into this map.
I want to specify that i'm using only a Hokuyo laser scanner, so without odometry. Is it necessary to implement also an IMU or to do other steps in order to get AMCL able to work?
this is the situation after i set the 2d Pose Estimate
http://tinypic.com/view.php?pic=2m5zbjb&s=9#.WH_13GfavCI
If starting from that condition i move the robot, it will not localize itself. So i think that i'm missing something.
Any hints?
Is there a way to use the laser scanner data as odometry?
I'm running everything on ROS kinetic ubuntu 16.04.
The laser scanner is connected to a raspberry Pi3 and the computational stuff are done on a desktop pc with ROS_MASTER_URI.
EDIT
Finally i was able to build laser scan matcher from the source.
I want to say thanks to the man here, his tutorial was very helpful to success (the last part for CSM).
Talking about Laser Scan Matcher, according to these few hours of testing, the results are very very good.
Two days ago I managed to use Hector_Slam to obtain the data from the laser scanner using "pub_map_odom_transform" but the results are not so good. I mean, it works but sometimes the robot gets lost.
Here some hints
So to conclude, using Laser Scanner Matcher is the best way to deal with laser scanner data for AMCL.

Originally posted by Alessio on ROS Answers with karma: 48 on 2017-01-18
Post score: 1

Original comments
Comment by IvyKK on 2018-12-06:
Hi, I am also working with the lidar but no odometry for the navigation stack..Do I need to built it from source too (kinetic)? May I also know how you use the package? by roslaunch some launch files or..? I'm super new to ROS. not sure how to link it up to the rest.. Hope you can give me some hits.
Comment by nadiah on 2019-08-20:
hallo, I also have a same problem with you, but I am using rplidar. I could build a map by using hector_slam, and after that I saved the built map, no I am trying to localize the lidar on the built map, but I couldn't even use the 2d pose estimate, and then I follow you explanation here, but I think the laser scan matcher is not running well, could you give the step by step explanation to localize the only lidar? thank you
Comment by saief on 2021-04-02:
Hello Nadia, did you manage to solve your problem? i am actually having the same issue and i would be really grateful if you could share with us the steps you made in order to get the initial pose and to localize the rplidar and see it in rviz

A:

You are missing the odom to base_link transformation. Usually this comes from a combination of wheel odometry, IMU, and other sensors (for example visual odometry). If you want to rely solely on LiDAR, you can use laser scan matching (http://wiki.ros.org/laser_scan_matcher) - with appropriate parametrization - to calculate this transform. It's easy to set it up.

Originally posted by spmaniato with karma: 1788 on 2017-01-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Alessio on 2017-01-19:
Yes, i'm using a static transformation between base_link and odom. The problem with laser_scan_matcher is that: according to the documentation it is not available for ros kinetic. How to install it?
Comment by spmaniato on 2017-01-19:
Hmm, you're right. I just checked with apt-cache search ros-kinetic-laser-scan-matcher You can try building it from source: https://github.com/ccny-ros-pkg/scan_tools#from-source
Comment by Alessio on 2017-01-21:
Thanks man, I edit the first post with few details about my solution.
Comment by ZainMehdi on 2017-04-11:
hi @spmaniato I am also trying to use laser scan matcher but I am getting the world frame doesn not exist error. Can you please tell me how did you get scan matcher working ?


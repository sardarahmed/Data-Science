Q:

How can I check in a launch file if a roscore is already running?

Hi there!
I am implementing a system that has a GUI for visualization. The core system starts with a roslaunch file and the GUI with another one. Ideally the GUI should open and close when wanted.
The problem I'm facing is the following: If I run roslaunch for GUI in console A and then roslaunch for my core application in console B and close the GUI, the roslaunch in console A does not terminate (probably because roscore and rosout are attached to it and other nodes from console B need them).
So is there any way to modify GUI roslaunch to not start a roscore, or even initialize the nodes only if roscore is already active?
Thnx in advance!

Originally posted by etsardou on ROS Answers with karma: 31 on 2013-12-16
Post score: 1

A:

I'm not sure to understand your problem, but could't you run the roscore in a terminal A,  the GUI in a terminal B and your core application in a terminal C? Moreover (I don't know if this can be useful) you could set the property required="true" for the node that launches the GUI, so that when the GUI is killed, all other nodes started from the same launch file should die.
EDIT:
To make a launch file wait for a roscore you should put --wait in the command line, as described here

Originally posted by Tirjen with karma: 808 on 2013-12-16
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by etsardou on 2013-12-16:
Of course I can run GUI after core was created, but in general the whole system is distributed. So GUI can be launched in another PC without knowing if a core exists in the server. Anyway, the real question is about telling a launcher to not begin if a roscore is not already running.
Comment by Tirjen on 2013-12-16:
See the edit of my answer.


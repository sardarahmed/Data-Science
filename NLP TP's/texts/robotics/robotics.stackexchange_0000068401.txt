Q:

Costmap2D getlock() not found

Hi, everyone,
I am trying to compile the movebase function, however, there's an error in the process.
   ./nav_stack/src/move_base/src/move_base.cpp:1206:105: error: ‘class costmap_2d::Costmap2D’ has no member named ‘getLock’
                     boost::unique_lock< boost::shared_mutex > lock(*(controller_costmap_ros_->getCostmap()->getLock()));

the compiler complains getLock() is not a member of costmap_2D. however, eclipse is able to infer the 'getLock()' function in the drop down function selection.
initially, I thought it was due to my boost lib path setting, so I added the path delibrately. however the same error pursists.
any good suggestion?

Originally posted by robotman on ROS Answers with karma: 3 on 2015-07-02
Post score: 0

Original comments
Comment by robotman on 2015-07-02:
I searched my ros installation folder as well as boost include directory, couldn't find getLock() function.
is this normal?
Comment by gvdhoorn on 2015-07-02:
Please add OS version, ROS version, whether installed from source or debians and how you installed costmap2d.
Comment by robotman on 2015-07-02:
oh.. yeah...
It's Ubuntu 14.04LTS. Install with sudo apt-get install ros-indigo-desktop-full.
actually, the project was ok few weeks ago. there were a few system updates recently. could that be the reason?
PS. I couldn't find the getLock() function instatiation anywhere. where are they declared
Comment by gvdhoorn on 2015-07-02:
Well if there were updates to move_base or any other involved pkgs, then that would be one thing to check. diff(1.12.3; 1.12.4) for move_base fi.

A:

We recently fixed some nasty locking errors (and segfaults) in costmap_2d -- but it required changing the type of mutex used.  See https://github.com/ros-planning/navigation/pull/334 for the full details of changes. If you updated costmap_2d, you'll need to also update move_base.

Originally posted by fergs with karma: 13902 on 2015-07-04
This answer was ACCEPTED on the original site
Post score: 0


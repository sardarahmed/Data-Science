Q:

Getting the OrbitViewController in librviz

Hello, ROS community.
I have been using librviz with Qt on ROS kinetic in order to create an interactive visualization of points cloud, paths, etc for an application. My problem is as follows. I am trying to change the camera distance of rviz current viewController using the librviz documentation [1] with C++. I have set the view controller to rviz::OrbitViewController [2], so using its function zoom(float amount) would be rather straightforward. The problem is that the getCurrent() function of the view manager only returns a rviz::ViewController, which means that the child functions of rviz::OrbitViewController cannot be accessed.
For example, this is what I want to do :
  // Set as the Orbit view controller
  QString class_id = "rviz/Orbit";
  manager_->getViewManager()->setCurrentViewControllerType(class_id);
  ...
  // When the zoom button is clicked
  manager_->getViewManager()->getCurrent()->zoom(1.0); // doesn't work

But the function zoom doesn't exist in the parent rviz::ViewController, only in the child rviz::OrbitViewController. My question is quite similar to https://answers.ros.org/question/295527/how-to-control-camera-distance-using-librviz-in-custom-qt-gui/. There were no answers unfortunately. Thank you for your time.
Julien Audet
[1] http://docs.ros.org/kinetic/api/rviz/html/c++/index.html
[2] http://docs.ros.org/kinetic/api/rviz/html/c++/classrviz_1_1OrbitViewController.html

Originally posted by Julien Audet on ROS Answers with karma: 76 on 2019-03-08
Post score: 1

A:

Instead of getting the OrbitViewController class directly, it is possible to simply change the current view controller properties using the function subProp->setValue. For example, you can change the distance with :
     manager_->getViewManager()->getCurrent()->subProp("Distance")->setValue("20");

Hope this helps somebody else.

Originally posted by Julien Audet with karma: 76 on 2019-03-27
This answer was ACCEPTED on the original site
Post score: 0


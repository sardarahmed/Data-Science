Q:

joint_state_controller required for diff_drive_controller?

Is joint_state_controller required when working with diff_drive_controller?  Or is joint_state_controller only required to publish JointState messages for other nodes and not relevant for diff_drive_controller to function properly?
For example eborghi10/my_ROS_mobile_robot uses two yaml config files, one containing diff_drive_controller/DiffDriveController as expected and the other one contains joint_state_controller/JointStateController and even effort_controllers/JointEffortController. Are these controllers really required?

Originally posted by fjp on ROS Answers with karma: 200 on 2020-03-06
Post score: 1

A:

Hey,

Is joint_state_controller required when working with diff_drive_controller?

Technically if you talk in terms of simulation with Gazebo, joint states are published by ros_gazebo_diff_drive plugin and we do not require a separate joint state controller. You can just verify it by launching the ROS node for the same and looking into the rqt_graph. They basically use the model states from the gazebo to perform the calculation for the kinematics. If I remember correctly!

For example eborghi10/my_ROS_mobile_robot uses two yaml config files, one containing diff_drive_controller/DiffDriveController as expected and the other one contains joint_state_controller/JointStateController and even effort_controllers/JointEffortController. Are these controllers really required?

If you see the code from gazebo_diff_drive_controller they already publish the joint states!
I don't think,we need a joint effort controller for the diff drive robot ! Just if it is only the velocity!

Originally posted by pmuthu2s with karma: 224 on 2020-03-06
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by fjp on 2020-03-06:
Thank you for your answer! Could you please explain what you mean with the following

You can just verify it by launching the ROS node for the same and looking into the rqt_graph. They basically use the model states from the gazebo to perform the calculation for the kinematics.

Do you mean launching joint_state_controller and the ros_gazebo_diff_drive plugin will publish JointState twice (via each of the two nodes)? And do you know where in the code the published model states (joint states) are used?
Comment by pmuthu2s on 2020-03-06:
Just launch the node with the ros_gazebo_diff_plugin and you can see that the joint states are already published!
Comment by fjp on 2020-03-06:
Do we need a joint_state_controller when working with real robot hardware?
Comment by fjp on 2020-03-06:
Thanks for your help so far! Another question about your answer I have is what do you mean by

Just if it is only the velocity!


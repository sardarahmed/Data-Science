Q:

how to publish laser data after manipulation?

am using a sick laser to get some data, i then remove some of the data but do it as a std::vector. but i'm unable to publish those points to ros.
is there a vector to sensor_msgs conversion that needs to be done?
thanks for any help...

Originally posted by liquidmonkey on ROS Answers with karma: 37 on 2012-02-27
Post score: 0

Original comments
Comment by Eric Perko on 2012-02-27:
Could you post a simple chunk of code showing what you are attempting to do? (e.g. your subscribe, modify, publish portion).

A:

You can directly assign a std::vector<float> to the float32[] ranges field of the LaserScan message:
sensor_msgs::LaserScan filtered_scan_msg;
std::vector<float> filtered_ranges;
// fill out vector here...
filtered_scan_msg.ranges = filtered_ranges;

Keep in mind that there are a lot of other fileds of the LaserScan message that need to be correclty set - angle_min, angle_max, angle_increment, etc.
For a working C++ example, you can look at laser_scan_splitter.cpp in laser_scan_splitter.

Originally posted by Ivan Dryanovski with karma: 4954 on 2012-02-27
This answer was ACCEPTED on the original site
Post score: 3


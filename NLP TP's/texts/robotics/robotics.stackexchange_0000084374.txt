Q:

How to get a ground truth yaw angle or odometry from Gazebo?

I need to do georeferencing with point clouds on Gazebo so I use navsat_transform_node to convert gps to odom information as odometry/gps and I use ekf localization with "odometry/gps" and "imu/data" nodes as I am inspired by [https://answers.ros.org/question/200071/how-to-fuse-imu-gps-using-robot_localization/] but the yaw angle that I take from "odometry/filtered" node drifts even though I set all the drift and noise values to zero in husky.gazebo.xacro file.
Can you tell me what should I do to get a perfect yaw angle on Gazebo or what am I doing wrong?

Originally posted by Abdulbaki on ROS Answers with karma: 26 on 2017-12-21
Post score: 0

A:

I found that when I add the following to the robot urdf file, I get ground truth odometry from "/ground_truth/state" topic.

<gazebo><plugin filename="libgazebo_ros_p3d.so" name="quadrotor_groundtruth_sim">

  <updateRate>100.0</updateRate>
  <bodyName>base_link</bodyName>
  <topicName>ground_truth/state</topicName>
  <gaussianNoise>0.0</gaussianNoise>
  <frameName>world</frameName>
</plugin></gazebo>

Originally posted by Abdulbaki with karma: 26 on 2018-03-15
This answer was ACCEPTED on the original site
Post score: 1


Q:

Gazebo Insufficient GL support

After many countless hours and testing I finally managed to get gazebo to compile on my Fedora 16 system, no easy task mind you.
Had to install FLTK1.1,  assimp locally, manually specific LD_LIBRARY_PATH and VTK_DIR to get all the modules found.
But unfortunately gazebo can't run and it is giving this error:
Part of the Player/Stage Project [http://playerstage.sourceforge.net].
Copyright (C) 2003 Nate Koenig, Andrew Howard, and contributors.
Released under the GNU General Public License.
Insufficient GL support
[gazebo-2] process has died [pid 3008, exit code -11].
log files: /home/TheLegace/.ros/log/f6ac8c32-63a2-11e1-8777-001fc68ae9ab/gazebo-2*.log
[rosout-1] killing on exit
I am just about ready to pull all my hair out....
I have a nVidia GTX480, should be very well supported. All the GL packages found on the repository I have searched for and installed, the nVidia driver is properly installed and everything should be working. Now I am not sure if it can't find GL because of a linking issue(which I doubt), or because maybe it is running new version of the libraries is not somehow compatible....
I would really like to get gazebo and the whole ros set made into a Fedora repository, I plan on using ROS/Gazebo for a very long time and just recent begin really learning and understanding it. Any help would be appreciated it.
Also could you mention what version of GL libs specifically are used and if they are compatible with the latest versions.
Thank you.

Originally posted by TheLegace on ROS Answers with karma: 76 on 2012-03-01
Post score: 1

Original comments
Comment by TheLegace on 2012-03-01:
I am not sure if this will help but, this is the ldd gazebo

A:

Ok, FINALLY I have managed to compile Gazebo and run it properly on a non-Ubuntu system.........
Hallelujah.........one of most difficult things in my life......
The solution to the GL problem was solved using this guide.
http://fedorasolved.org/video-solutions/remove-nvidia-installer
For some reason I am assuming because either there is a bug in nvidia driver or that it just doesn't completely do something required. But I just removed whatever mesa-GL rpms there were on the system and reinstalled the mesa-GL from yum.
I was trying to remove GL related things through yum but that obviously will break everything, but removing them with --no-deps option in rpm and finally IT WORKS.....
EDIT: It looks like installing mesa-GL is a mistake... after removing the gazebo seems to start up again. So the solution is just to remove mesa-GL apparently.

Originally posted by TheLegace with karma: 76 on 2012-03-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by hsu on 2012-03-22:
glad that fixed it.  In hind sight, sometimes re-installing the nvidia driver will overwrite the necessary library links and make things work again without having to remove mesa.


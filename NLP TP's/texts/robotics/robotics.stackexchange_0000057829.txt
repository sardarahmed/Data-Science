Q:

How to Extract video from bag file?

Hi,
I am using ROS hydro on Ubuntu 12.04.
After using the command "rosrun image_view extract_images _sec_per_frame:=0.01 image:={IMAGE_TOPIC_IN_BAGFILE}" I'm having an error when executing"ffmpeg -r -b -i frame%04d.jpg .avi" The thing is I am not seeing the sequence of images after I play the bagfile.I ran "rosbag info" to obtain the topic in the bag file but when I run "rosrun rqtgraph rqtgraph" the /extract_image frame node is there all by itself.
When I follow the tutorials on http://wiki.ros.org/rosbag/Tutorials/Exporting%20image%20and%20video%20data  I get an error "[FATAL] [1394583654.335465840]: Error opening file: play".After replacing play by "--clock" or just removing "play" everything seemed to go just fine but there are no frames*.jpg in /home/.ros.
I feel like I'm lacking something.Can anyone help?

Originally posted by Leyonce on ROS Answers with karma: 97 on 2014-03-11
Post score: 1

A:

This was my image topic /front_camera/camera/image_raw/compressed.
This is what i had to do:

In a directory in which is writable (~/catkin_ws/bagfiles) type in the terminal  "rosrun image_view extract_images image:=/front_camera/camera/image_raw _image_transport:=compressed "
Then play the bagfile.(Though It can be done before or after)
Then in the terminal in which  rosrun was executed the following appears:
"[ INFO] [1394806321.162974947]: Saved image frame0467.jpg"
The frames were made in that directory.
process completed.

Originally posted by Leyonce with karma: 97 on 2014-03-14
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pronik on 2014-03-16:
i'm also facing the same problem, can u pls explain step 1.
Comment by pronik on 2014-03-16:
pls help how to do it
Comment by Leyonce on 2014-03-17:
@amentor.Sorry I did not reply earlier.Well,"~/catkin_ws" is my catkin workspace i just placed my bagfiles in there because of reasons.rosrun allows me to run the node extract_image which is in the package image view, and i identify the bagfile using its topic gotten using rosbag info.
Comment by Leyonce on 2014-03-17:
anyways I guess that depending on the image topic you'll have to do an image_transport.Hope that helps.
Comment by pronik on 2014-03-17:
its not working for me. followed the same procedure, images are not being saved. the rostopic is same as your bag file.
Comment by Leyonce on 2014-03-19:
@amentor.In which directory are you doing the rosrun?did i forget to mention that you need to play the bagfile after you perform the rosrun?please tell me exactly what you've done so i'll try it and maybe will I figure out what's wrong.


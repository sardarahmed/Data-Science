Q:

How do I reset the /odom topic back to 0 without restarting the robot?

I am using this callback function because I want to tell the robot to move a specified angle. I was wondering if there is a way to restart the /odom topic back to 0 for simplicity purposes. Your help is really appreciated!
I am using ROS Indigo and I have a create turtlebot base
def odometry_cb(self, data):
        pose = data.pose.pose
        quaternion = (pose.orientation.x, pose.orientation.y, pose.orientation.z, pose.orientation.w)
        euler = tf.transformations.euler_from_quaternion(quaternion)
        roll = euler[0]
        pitch = euler[1]
        yaw = euler[2] 
        yaw_angle = (yaw*(180/math.pi))
        self._last_yaw_angle = yaw_angle
        print(self._last_yaw_angle)

Originally posted by shahvineet98 on ROS Answers with karma: 21 on 2015-07-07
Post score: 2

Original comments
Comment by BennyRe on 2015-07-10:
It would be useful if you name the robot you use and which package.
Comment by shahvineet98 on 2015-07-10:
I am sorry for not clarifying earlier but I updated that in my question

A:

This is how odometry is reset for Kobuki:
void KobukiRos::subscribeResetOdometry(const std_msgs::EmptyConstPtr /* msg */)
{
  ROS_INFO_STREAM("Kobuki : Resetting the odometry. [" << name << "].");
  joint_states.position[0] = 0.0; // wheel_left
  joint_states.velocity[0] = 0.0;
  joint_states.position[1] = 0.0; // wheel_right
  joint_states.velocity[1] = 0.0;
  odometry.resetOdometry();
  kobuki.resetOdometry();
  return;
} 

Hope this helps.

Originally posted by vinjk with karma: 96 on 2015-07-14
This answer was ACCEPTED on the original site
Post score: 2


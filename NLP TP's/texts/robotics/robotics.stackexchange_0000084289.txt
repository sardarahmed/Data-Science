Q:

rosmsg tutoral error

I was working through the tutorials on rosmsg and encountered this error. I went back and followed the instructions on the previous tutorials, but cannot seem to find the problem. At the end it says that the manifest must not contain exec_depend, but the tutorial told me to include it.
What am I doing wrong?
ddimassa@ddimassa-ThinkPad-T470:~/catkin_ws/src/beginner_tutorials$ rosmsg show beginner_tutorials/Num
Traceback (most recent call last):
  File "/opt/ros/lunar/bin/rosmsg", line 35, in <module>
    rosmsg.rosmsgmain()
  File "/opt/ros/lunar/lib/python2.7/dist-packages/rosmsg/__init__.py", line 754, in rosmsgmain
    sys.exit(rosmsg_cmd_show(ext, full, command))
  File "/opt/ros/lunar/lib/python2.7/dist-packages/rosmsg/__init__.py", line 619, in rosmsg_cmd_show
    rosmsg_debug(rospack, mode, arg, options.raw)
  File "/opt/ros/lunar/lib/python2.7/dist-packages/rosmsg/__init__.py", line 450, in rosmsg_debug
    print(get_msg_text(type_, raw=raw, rospack=rospack))
  File "/opt/ros/lunar/lib/python2.7/dist-packages/rosmsg/__init__.py", line 427, in get_msg_text
    package_paths = _get_package_paths(p, rospack)
  File "/opt/ros/lunar/lib/python2.7/dist-packages/rosmsg/__init__.py", line 554, in _get_package_paths
    results = find_in_workspaces(search_dirs=['share'], project=pkgname, first_match_only=True, workspace_to_source_spaces=_catkin_workspace_to_source_spaces, source_path_to_packages=_catkin_source_path_to_packages)
  File "/opt/ros/lunar/lib/python2.7/dist-packages/catkin/find_in_workspaces.py", line 143, in find_in_workspaces
    source_path_to_packages[source_path] = find_packages(source_path)
  File "/usr/lib/python2.7/dist-packages/catkin_pkg/packages.py", line 86, in find_packages
    packages = find_packages_allowing_duplicates(basepath, exclude_paths=exclude_paths, exclude_subspaces=exclude_subspaces, warnings=warnings)
  File "/usr/lib/python2.7/dist-packages/catkin_pkg/packages.py", line 146, in find_packages_allowing_duplicates
    xml, filename=filename, warnings=warnings)
  File "/usr/lib/python2.7/dist-packages/catkin_pkg/package.py", line 587, in parse_package_string
    raise InvalidPackage('Error(s) in %s:%s' % (filename, ''.join(['\n- %s' % e for e in errors])))
catkin_pkg.package.InvalidPackage: Error(s) in /home/ddimassa/catkin_ws/src/beginner_tutorials/package.xml:
- The manifest (with format version 1) must not contain the following tags: exec_depend

Originally posted by ddimassa on ROS Answers with karma: 1 on 2017-12-07
Post score: 0

A:

This is due to the package.xml being version 1 (as it says in the last line), and not version 2.
I don't have lunar running, but catkin_create_pkg in kinetic automatically creates a Version 2 package.xml.
If you followed the tutorials previous to rosmsg, it should have been created automtically correct (at least in kinetic).
Change the <package> tag (line 1 or 2 of the package.xml) to <package format="2"> and you should be good to go.

Originally posted by mgruhler with karma: 12390 on 2017-12-08
This answer was ACCEPTED on the original site
Post score: 1


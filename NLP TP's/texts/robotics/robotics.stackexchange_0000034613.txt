Q:

rosbag recording pointclouds

Hi,
I am using rosbag in rosdiamonback for recording pointcoulds sequences (video). So far, I feel it could not provide smooth running video, there is always lagging or even lost on some frames. While recording on images give nice smooth video from frame to frame, at least no obvious lost frames. I am wondering if it is the problem from the rosbag itself for pointclouds recording or I am missing something.
If someone has alternative solution for pointcloud sequences recording, pls let me know.
Best,
Kang

Originally posted by kang on ROS Answers with karma: 79 on 2011-09-30
Post score: 1

Original comments
Comment by kang on 2011-10-02:
yes. Btw, I check using rosinfo and notice there is no much lost frames. It's still between 25-30 frames/s. But, when viewing with rosbag play on rviz, it looks there's a lot of frames lost.
Comment by DimitriProsser on 2011-09-30:
Are you recording on the same machine in which the video is taken?

A:

Pointclouds are extremely demanding in terms of bandwidth and space usage. I am surprised to see that you are recording at full frame rate. Unless you really have a fast computer (at least an I7 processor) you will have problems running rosbag play on a pointcloud bag and rviz on the same machine.
You should have a look at various pointcloud compress packages, for example:

Compressed Pointcloud transport
pointcloud_compress This is very simple as pubishes a zipped message, and it has the unzipper as well. The power of Python!

As a rule of thumb, always try to save the pointcloud from the same computer it is producing it, and load it from the same computer it is processing it.

Originally posted by Lorenzo Riano with karma: 1342 on 2011-10-03
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Lorenzo Riano on 2011-10-11:
I only know the second package, as I co-develop it. The source code is very short and readable. There are two scripts: compress.py takes a /camera/depth/points2 message, compresses it and outputs a message on '/camera/depth/points2_compressed'. decompress.py does the opposite.
Comment by kang on 2011-10-11:
Regarding the two compress packages you mention, could you pls tell a little more what they do (or maybe link) since the links doon't provide any information.
Comment by kang on 2011-10-11:
Hi, thanks for comment. I did some experiments and recording again. Now, I am still not sure where the problem the problem exists, whether when recording or when playing. using rosinfo, I got AVERAGE frame/s can be 20frames/s. While playing I notice the frequency of frame/s is not stable.
Comment by rbaleksandar on 2015-08-14:
Neither seem to be part of ROS anymore (at least they are not indexed and the provided links don't work). Any advice what to do using a newer version of ROS (mine is Indigo)?


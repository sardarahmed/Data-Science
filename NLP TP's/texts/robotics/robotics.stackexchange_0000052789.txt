Q:

How to load Clearpath Husky model in gazebo with ROS

Hello, I'm using Ubuntu 12.04 and I installed ROS, Gazebo and Clearpath files.
I have a Husky robot and I'd like to test my code without having to connect the robot to my USB port each time.
It would be better for me to use gazebo to virtually simulate the presence of the robot but I do not know how to do this.
Can you explain me how to add Husky model to Gazebo and how to use it to connect the robot virtually to my pc to test my code, please? :)
Is there any tutorial?

Originally posted by Marcus Barnet on ROS Answers with karma: 287 on 2013-07-15
Post score: 0

A:

Well, I also intend to work on Husky A200. I just managed to bring my husky in gazebo @fuerte by a simple way, please follow:

Install husky_simulator i.e sudo apt-get install ros-fuerte-husky-simulator.
Launch the map_empy.launch file placed in ...../husky_simulator/husky_gazebo/launch folder.
Launch the base.urdf.gazebo.launch file placed in the same folder.

Hope it works. Cheers.

Originally posted by AsifA with karma: 231 on 2013-07-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Marcus Barnet on 2013-07-21:
Thanks for the tip, Asif! Do you think it will work also under ros groovy?
What command do you use to launch the file? it's roslaunch gazebo_worlds map_empy.launch and then roslaunch base.urdf.gazebo.launch?
Comment by AsifA on 2013-07-21:
Documents suggest that it should work for fuerte or later versions. I have used following commands:
'roslaunch husky_gazebo map_empty.launch' and then 'roslaunch husky_gazebo base.urdf.gazebo.launch'.
Comment by Marcus Barnet on 2013-07-22:
Hello Asif, I tried to do as  you suggested, I was able to load the empty world, but not the husky model.
I posted the error message at the end of this topic. It says me that there is no xml model to load. :(
Comment by Marcus Barnet on 2013-07-22:
The problem is that in husky_base.launch there is: $(find husky_description)/models/husky/husky.sdf   -gazebo   -model husky" but i have no file named husky.sdf in that folder.. I have no husky.sdf at all.
Comment by Marcus Barnet on 2013-07-22:
It worksss!! Thank you Asif!!
Do you know how can I control husky virtual robot with my C++ code under Gazebo?
Comment by AsifA on 2013-07-22:
Great. I don't know, I have to work as you are :)
Comment by yanma on 2013-07-25:
Marcus, to control the robot, please publish your desired linear and angular velocities to /cmd_vel topic. If you have further questions, please feel free to contact Clearpath, and we'll be happy to help you. It seems like the original question of this thread is resolved?
Comment by Marcus Barnet on 2013-07-26:
Hello Yanma, I already contacted Clearpath but I received no help about this topic.
Clearpath sent me Husky A200 mobile robot, but I'm not able to start my research work since I do not know how to run my C++ code and directly drive my husky model in Gazebo. I'm really sad.
Comment by yanma on 2013-07-26:
HI Marcus, I would recommend downloading and going through the clearpath_teleop node (http://www.ros.org/wiki/clearpath_teleop) for controlling a simulated/real Husky.
If you have any further question, please close this question and start a new one, as it is a different issue all together.


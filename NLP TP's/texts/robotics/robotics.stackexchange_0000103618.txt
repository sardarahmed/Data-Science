Q:

Hardware interface for floating joint

In the URDF file for my robot I would like to use a floating joint (6DOF). I'm currently writing the hardware interface for ros2-control for this robot. Is there a way to export a state interface for a floating joint, or do I have to use a series of 3 revolute and 3 prismatic joints?
So ideally i was looking for something like this:
state_interfaces.emplace_back(hardware_interface::StateInterface(6dof_joint.name, hardware_interface::HW_IF_POSITION, &6dof_joint.pos));

Where 6dof_joint.pos would be a 6D vector or transformation matrix. But as far as I've seen Hardware_interface::StateInterface only accepts (1D) double* so I guess floating joint is not supported?

A:

Unfortunately, one can use only a scalar double value per hardware interface. But this is only data storage location, so you have to export six interfaces and your floating joint is "supported".
Using joint_state_broadcaster/robot_state_publisher combination or gazebo_ros2_control, you'll need explicit serial 1-dof joints anyhow, see e.g. here.


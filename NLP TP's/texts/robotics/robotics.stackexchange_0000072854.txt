Q:

CANopen NMT broadcast (using NodeId 0) support

I am wondering if there is a way to send NMT commands to all CANopen-nodes at once using NodeId = 0x00 (zero) as broadcast.
At first I thought canopen::NodeChain would do that but eg. canopen::NodeChain::start() is also iterating over its Node-objects calling start() for each node seperately.

Originally posted by JochenLg on ROS Answers with karma: 1 on 2016-03-17
Post score: 0

A:

The ros_canopen ROS nodes do not support NMT broadcasts. Each ROS node is just responsible for its configured CANopen nodes.
This limitation simplifies the management logic and enables to run multiple ROS nodes on the same bus (SharedMaster plugin). This way each CANopen node can be configured and managed individually.
If you really need NMT broadcasting you can inherit from RosChain::ChainNode and customize its behaviour.
However, the NMT message class is not exposed by intention: I don't see a benefit from broadcasting and it might not be safe to broadcast to a CAN bus without knowing the state of the CANopen nodes.
(Maybe I should even consider sending a stop to all configured node before initializing them.)
Feel free to open an issue on github with a more specific request and some explanations on your use case.
We could then figure out if some NMT interfaces could be exposed for easier customisation.

Originally posted by Mathias LÃ¼dtke with karma: 1596 on 2016-03-17
This answer was ACCEPTED on the original site
Post score: 1


Q:

Retrieve "current configuration" from dynamic reconfigurable node

Lets say I just created a piece of software which is capable of sending dynamic_reconfigure configs towards the /move_base/local_costmap/set_parameter server.
The only way to send a configuration is to send the whole configuration and therefore one needs to send the values of each member of the configuration object. Since my design allows for manipulating only single or few parameters I need to retrieve the current values of all the other members so they are not set to their datatypes default values.
What I found so far is the following:

Use the response of the dynamic_reconfigure call (won't help, since that leads to the same problem of creating the first configuration which I would send to get the response)
Various topics including /move_base/local_costmap/parameter_(descriptions||update) (won't help for the same reason)

Obviously, my question now is how to get a configuration object holding the current values of the server.

Originally posted by Random-I-Am on ROS Answers with karma: 45 on 2012-06-08
Post score: 2

A:

You can do this via 2 methods:

If you are using python, you can simply use the dynamic reconfigure API to get the current configuration
You can use the /move_base/local_costmap/parameter_updates topic. Since this is a latched topic, whenever you subscribe to this topic - you will receive one message which contains the current configuration. You should receive this message independent of whether a new configuration has been posted to the server or not.

Originally posted by piyushk with karma: 2871 on 2012-06-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Random-I-Am on 2012-06-10:
I tried the second approach before but couldn't get the subscriber to work (for whatever reasons). I did it again and it seems to work now. A different approach seems to send a Reconfigure object with an empty request. The response will then contain the current configuration as a response. Feedback?


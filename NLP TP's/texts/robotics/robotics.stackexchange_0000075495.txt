Q:

ELMO Motor Drive (EtherCAT) and ROS

Hello everyone,
I have a ELMO motor drive(http://www.elmomc.com/products/whistle-solo-servo-drive-gold.htm) and a brushless dc motor. I want to run these drive and motor using ROS.
I see people are using Pi and arduino for controlling.
How to do this using drive and motor only ?

Originally posted by piyu23srma on ROS Answers with karma: 66 on 2016-07-28
Post score: 5

Original comments
Comment by Jack_ros on 2016-09-28:
how things goes on? Can you share your views ?
Comment by piyu23srma on 2016-11-08:
I am able to run single bldc motor using SOEM, but controlling part is still need to be done to get it work in different different modes.
Comment by asdxcsd on 2016-11-10:
Did you choose any ELMO controller?
Comment by piyu23srma on 2016-11-11:
I am using elmo drive controller
http://www.elmomc.com/products/whistle-solo-servo-drive-gold.htm
Comment by asdxcsd on 2016-11-16:
Can I controll a motor directly with my comper through ROS, without any controller(motion controller,something like that:http://www.elmomc.com/products/multi-axis-machine-motion-controller-g.htm),just motor drvier?

A:

Hi Piyush,
I have been working on it for the past 4 months, If you are still struck at the same issue above mentioned, The following information can be useful,
" SOEM is an open source EtherCAT master library written in c" which is available @ https://github.com/OpenEtherCATsociety/SOEM . After that try to go through the example codes in following link https://github.com/OpenEtherCATsociety/SOEM/tree/master/test/linux

Download the repository SOEM-master and create a build  directory  in the path according to you ../../SOEM-master/
Then again crate a test directory in side your build directory ../../SOEM-master/build/test/
Now compile the package alone using cmake .. & make commands in the path ../../SOEM-master/
Then find the executables generated in the path ../../SOEM-master/build/test/
Connect your motor drive using Ethernet cable to your PC
Try to run the simple_test  executable with sudo permissions as follows sudo ./simpple_test eth0 or eth1
Try to understand the response got from the ethercat slave drive like name, id , revision and cross check with the    manufacturer data sheet
Now decide yourself in which mode you want to run the ethercat slaves for example cyclic synchronous torque mode  you can get the example code in the following link https://gist.github.com/manuelvonthron-opalrt/9467152
Below are the best web links to extend the application code for your requirement
http://www.elmomc.com/support/manuals/MAN-CAN301IG.pdf
https://www.google.co.in/url?sa=t&rct=j&q=&esrc=s&source=web&cd=1&cad=rja&uact=8&ved=0ahUKEwjNgcv7v5jQAhUOUI8KHce9AhAQFggaMAA&url=https%3A%2F%2Fwww.anaheimautomation.com%2Fmanuals%2Fservo%2FEtherCATUser%27sManual%2520(1).pdf&usg=AFQjCNEvfwHhdDqv1cXLFjkPOZX-YBQROw

Originally posted by TraiBo with karma: 146 on 2016-11-08
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by TraiBo on 2016-11-08:
Please feel free to ask, in case of any query .. :)
Comment by asdxcsd on 2016-11-16:
Did you connect your computer with motor driver directly?without motion controller?
Comment by TraiBo on 2016-11-17:
HI,
No, I am using Elmo gold whistle drive controller.
Comment by jakeweinmann on 2017-03-07:
TraiBo or piyu23srma do you have a fully working etherCAT interface with ELMO motor controllers? I would like to use their Gold Twitter drivers with etherCAT. If you could share code I would be eternally grateful!
Comment by Carsten on 2017-03-28:
Does one have any example code? I'm stuck with it. PDO replies don't work properly and axis is not moving. SDO communication works. ELMO support also is not helpful :|
Comment by stex2005 on 2018-10-31:
Could this procedure work also for other EtherCAT-based motor drivers - such as Maxon EPOS 4 ?


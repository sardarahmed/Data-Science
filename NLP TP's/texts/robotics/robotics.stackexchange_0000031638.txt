Q:

avr_bridge gen_avr.py / gen_avr_utils.py not working

Hi,
I have been trying to get the Hello World example working for avr_bridge. I run:
rosrun avr_bridge gen_avr.py callResponse.yaml .

in the example directory (as outlined). It crashes and I get:
Traceback (most recent call last):
  File "/home/user/ros-pkgs/avr_bridge/scripts/gen_avr.py", line 74, in <module>
    gen.generate(outputDir)
  File "/home/user/ros-pkgs/avr_bridge/src/gen_avr_utils.py", line 474, in generate
    self.generateMsgFile(inst_path, t)
  File "/home/user/ros-pkgs/avr_bridge/src/gen_avr_utils.py", line 450, in generateMsgFile
    write_header_file(f, msg_name, pkg, self.msg_specs[msg])
  File "/home/user/ros-pkgs/avr_bridge/src/gen_avr_utils.py", line 199, in write_header_file
    for field in msg_spec.parsed_fields():
AttributeError: 'MsgSpec' object has no attribute 'parsed_fields'

The avr_pos directory gets created and populated with a bunch of files, but the message file it builds, String.h, does not get fully written (I am guessing). I am using the latest avr_bridge from https://github.com/rutgers/avr_bridge as far as I know. Any help is appreciated.
Thanks.

Originally posted by River on ROS Answers with karma: 66 on 2011-05-17
Post score: 1

A:

Hi,
I am not sure what is causing your error.  Could you try pulling the example project from my git repository?
Try taking :
https://github.com/rutgers/avr_bridge_callresponse
I just pulled a fresh copy of both avr_bridge and avr_bridge_callresponse from that repo and I am not getting that error.

Originally posted by adasta with karma: 508 on 2011-06-19
This answer was ACCEPTED on the original site
Post score: 0


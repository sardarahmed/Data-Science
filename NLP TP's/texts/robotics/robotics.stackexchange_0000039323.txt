Q:

Problem running pick and place application tutorial

Hi
I am trying to run the tutorial in
http://devel.iri.upc.edu/docs/roswiki/pr2_tabletop_manipulation_apps%282f%29Tutorials%282f%29Writing%2820%29a%2820%29Simple%2820%29Pick%2820%29and%2820%29Place%2820%29Application.html
However, I get an error saying: Call to segmentation service failed
This occurs when it looks for the tabletop in the very beginning. Any help would be appreciated, thanks in advance

Originally posted by alexanderjyuen on ROS Answers with karma: 1 on 2012-04-04
Post score: 0

A:

Is the robot looking at the table/object?  Segmentation won't succeed otherwise.  If you're in Fuerte or Groovy, you can use interactive manipulation to position your robot, see http://www.ros.org/wiki/pr2_pick_and_place_demos/Tutorials/The%20Pick%20and%20Place%20Autonomous%20Demo/
Also, this shouldn't have been a problem back in April 2012, but recently if you were using Fuerte + Kinect, there was a launch misconfiguration that was killing segmentation that is now fixed.
Sorry not to answer in a very timely fashion.  All my ROS answers emails were getting spam-filtered. :P

Originally posted by hsiao with karma: 741 on 2013-02-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Albert K on 2013-05-24:
I've got the same problem recently, but there was no such problem before. The default setting is to use the stereo camera and I've write a simple node to make PR2 look down. But the problem still exists. How to fix this problem? Thanks
Comment by hsiao on 2013-05-25:
You're using the stereo camera and looking at the table and it says Call to segmentation service failed?  Any other error messages around it?  Which ROS distro are you using?
Comment by Albert K on 2013-05-25:
I've checked the pr2_tabletop_manipulation.launch, and the value of arg stereo is true, which will set thetabletop_segmentation_points_input as narrow_stereo_textured/points2. I put the error messages here: http://notepad.cc/dedoucle19 and the brief description is below. My ROS distro is Fuerte
Comment by Albert K on 2013-05-25:
The object segmentation service can segment out the table. The INFO shows that "Step 4 done" and "Table computed". But after that, there seemed to be some internal problems which threw out the error message "Call to segmentation service failed", and then the tabletop_segmentation node died.
Comment by hsiao on 2013-05-28:
Hrm.  That's odd.  Fuerte debians, latest version?  Are you using shadow-fixed or public repos?  What version of Ubuntu?  64-bit or 32-bit?  I just tried using pr2_table_object.launch, both stereo:=true and stereo:=false, and both worked fine on my laptop.
Comment by hsiao on 2013-05-28:
There have been some build-farm compilation issues with compile flags lately, that might be causing the undefined-symbol problems you're seeing.  Try just compiling and using object_manipulation and pr2_object_manipulation from source.
Comment by Albert K on 2013-05-30:
I'm using Fuerte on Ubuntu 12.04 64-bit and the package is installed using apt-get. I've already upgrade all the package to the latest version. I don't know what is the difference between using shadow-fixed or public repos. Also, what is build-farm compilation issues with compile flags lately mean?
Comment by hsiao on 2013-05-30:
I'm guessing you're using the public repos (http://packages.ros.org/ros/ubuntu) then.  When http://ros.org/debbuild/fuerte.html shows FbinP64 for perception_pcl having a green box (mouseover the green box should read ros/Public 1.2.4) then the new release of perception_pcl will be done building.
Comment by hsiao on 2013-05-30:
Once that happens, check that pr2_object_manipulation is also green, and then try sudo apt-get upgrade to get the newest debs.  Then hopefully things will work again.  If not then comment here again.


Q:

How to save nav_msgs/GetMap service and pass it into a function?

So, what I'm going for is to rather having a callback function I want to make my node a client to that service and then pass it to the another function.
        ros::init(argc, argv, "dijkstra");
        ros::NodeHandle n("~");
        ros::ServiceClient client = n.serviceClient<nav_msgs::GetMap>("map");
        nav_msgs::GetMap srv;
        client.call(srv);
        nav_msgs::OccupancyGrid = srv.response;

Running the above code gives me the error-
 error: expected unqualified-id before ‘=’ token
   nav_msgs::OccupancyGrid = srv.response;

I need to pass the map to a function void dijkstra(???)

Originally posted by Parth2851 on ROS Answers with karma: 63 on 2019-12-18
Post score: 0

A:

   nav_msgs::OccupancyGrid = srv.response;

You didn't specify an actual variable
   nav_msgs::OccupancyGrid my_variable = srv.response;

Originally posted by stevemacenski with karma: 8272 on 2019-12-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Parth2851 on 2019-12-19:
Okay, yes I did that. nav_msgs::OccupancyGrid map = srv.response; I'm getting this-
error: conversion from ‘nav_msgs::GetMap::Response {aka nav_msgs::GetMapResponse_<std::allocator<void> >}’ to non-scalar type ‘nav_msgs::OccupancyGrid {aka nav_msgs::OccupancyGrid_<std::allocator<void> >}’ requested
   nav_msgs::OccupancyGrid my_map = srv.response;

Also, my function call is void dijkstra(const nav_msgs::OccupancyGrid& map), is this correct?
Comment by stevemacenski on 2019-12-19:
Please read the message specification. http://docs.ros.org/melodic/api/nav_msgs/html/srv/GetMap.html
srv.response.map


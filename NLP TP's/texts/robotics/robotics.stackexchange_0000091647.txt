Q:

Node communication across machines

Hello, I have 2 nodes (publisher and listener) I want to run across 2 machines. One, a robot with a raspberry pi configured as a wireless access point running ROS melodic, has my laptop connected to it via wifi. The laptop also runs melodic. I am running roscore on the laptop, and following all the steps in the guide here. For some reason my laptop's name is not resolved by the pi, and so using export ROS_MASTER_URI=http://laptop-name:11311/  on the pi doesn't let me connect to the master, I instead do export ROS_MASTER_URI=http://laptop-IP:11311/. At that point the listener process on the pi can be launched without complaining about not being able to connect to master, but launching the publisher node does not do anything in the listener, which is verbose and prints data as it receives it. Launching both nodes on the laptop for example results in 2 communicating nodes as expected. So I seem to have 2 machines which can communicate, have roscore running, but get no communication between the nodes. I'd really appreciate any help with troubleshooting this issue. Thanks in advance.

Originally posted by anvoice2 on ROS Answers with karma: 3 on 2019-05-12
Post score: 0

A:

rosrun rqt_graph rqt_graph

Run the above command in either RPI or laptop. Check if the publisher and subscriber are connected. This might look like this.

Note that you need to execute export ROS_MASTER_URI=http://laptop-IP:11311/ and export ROS_IP=RPI-IP in every terminal that you open in RPI.
And on the laptop side(where master node runs) you need to execute export ROS_IP=laptop-IP for every terminal you open.
You can add those in your ~/.bashrc so that you need not execute it every time you open the terminal.
You can find the IP by executing hostname -I in terminal.
A youtube video for your referenceYoutube Video

Originally posted by Veera Ragav with karma: 240 on 2019-05-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by anvoice2 on 2019-05-13:
Thanks, that was it! The error was that I did not execue export ROS_IP=laptop-IP in the laptop terminal where I was running the publisher node, I thought executing it in any terminal would be enough. Before, rqt_graph showed 2 disconnected nodes, now it shows 2 nodes connected through a command velocity topic.


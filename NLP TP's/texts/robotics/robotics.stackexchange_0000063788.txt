Q:

Controller not loading for a custom model running existing controller

Hi Everyone,
I am working on designing a custom robot, and getting it to work with a existing controller (namely the Joint Trajectory Action Controller).
The procedure I followed is as follows:

I created a URDF file corresponding to the model.
I created .yaml files to configure the controller for various joints in my system.
I created launch files that would start the pr2_controller_manager, and then spawn the necessary yaml files as suggested in the PR2 Controller Tutorials (section 5.1 and 5.2).
Finally, I first loaded the .urdf file to the param server (as a textfile argument). After this, I loaded the model in gazebo, and then ran the launch files mentioned in point 3 above.

Here are my observations:

Everything runs fine until the controllers are to be loaded and started.
I get no messages about whether any of my custom_joint_controllers are loaded/started.
When I try and list the loaded controllers on the pr2_controller_manager, I get no output (basically, it looks like the controllers are not loaded).
When I inserted a general PR2_Arm model to the gazebo world using the GUI, I got the following error:
[ERROR] [1415062744.160051303, 65.157000000]: A joint named "custom_joint" is not part of Mechanism Controlled joints. for each of my custom_joints, and then all the controllers loaded and started running.

Can anyone help me in diagnosing what could be wrong here?
(I'm slightly new to ROS, so this matter could be absolutely trivial, but since I didn't find any threads that talked about this, I decided to post a new thread.)
Thanks a lot!

Originally posted by yashc on ROS Answers with karma: 36 on 2014-11-03
Post score: 2

Original comments
Comment by yashc on 2014-11-04:
Could it be because my URDF model doesn't seem to have the  blocks specified in this tutorial?

A:

I sorted out the issue by myself.
The command that was used to convert URDF files to SDF, was not including the element that included the plugin I was using.

Originally posted by yashc with karma: 36 on 2014-11-04
This answer was ACCEPTED on the original site
Post score: 0


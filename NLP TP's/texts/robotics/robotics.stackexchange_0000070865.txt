Q:

Rviz trying to display shape_msgs Mesh

Hi There,
I've created a ROS node that uses a lidar scanner and a pan tilt unit to create 3d scans. These scans are published by the node as shape_msgs::Mesh messages. I was hoping to be able to visualize these meshes live in Rviz as they are created. But they don't seem to be supported by Rvis V1.11.10 in Ros Indigo.
Is there a message type for a mesh that does work in rviz? Ideally I'd like to be able to display texture mapped meshes but I can't find a standard message type that supports that?
At some point soon I'll be needing to display a 3D terrain map in Rvis to if that's possible?
Thanks, Pete

Originally posted by PeteBlackerThe3rd on ROS Answers with karma: 9529 on 2015-12-11
Post score: 2

Original comments
Comment by 2ROS0 on 2015-12-11:
Could you just use a triangle list type and sort the vertices in your shape_msgs Mesh so they are correctly ordered for the triangle list?
Comment by PeteBlackerThe3rd on 2015-12-17:
Hi there. Yes I have used the triangle list. Because the data is being generated live so the last thing I want to do is save it to a file.
The messages a huge since vertices have to be repeated many times. But colouring the triangles is a bonus.
Thanks
Comment by simaopp on 2018-01-16:
Can you please tell me how can you create the triangle list to display on rviz?

A:

I think you want a Mesh Marker: http://wiki.ros.org/rviz/DisplayTypes/Marker#Mesh_Resource_.28MESH_RESOURCE.3D10.29_.5B1.1.2B-.5D

Originally posted by William with karma: 17335 on 2015-12-11
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by 2ROS0 on 2015-12-11:
Doesn't this type require a mesh file and so can this be done real-time?
Comment by William on 2015-12-11:
You're right this would require them to write each mesh out to a file. I think the triangle list is a better approach, as you commented above.
Comment by PeteBlackerThe3rd on 2015-12-17:
Yup. Thanks. I've used a triangle list in the end


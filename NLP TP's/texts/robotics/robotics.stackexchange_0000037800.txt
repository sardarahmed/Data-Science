Q:

How to make opencv and ROS work together?

I have been stuck on this issue for days .I am trying to access image using ros and then do simple opencv algorithms like canny edge.
I do cmake and when I rosmake this particular issue keeps rising from cv_bridge.H.
"//usr/local/lib/libopencv_gpu.so.2.3: undefined reference to `cv::gpu::GpuMat::release()'"
I installed the CUDA driver and it says the same error again.What am I doing wrong here? I thought ROS and OPENCV  are compatible but it does not seem like that seem that all.
Please share your perspective.

Originally posted by metal on ROS Answers with karma: 174 on 2012-02-11
Post score: 0

Original comments
Comment by ahendrix on 2012-02-11:
Please do not shout.

A:

This is linking a problem with opencv, and the fact that you're using the CUDA libraries.
I suggest you implement your algorithm first without using GPU acceleration, evaluate its performance and then try to use the GPU only if you really need it.

Originally posted by ahendrix with karma: 47576 on 2012-02-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by metal on 2012-02-12:
I installed opencv in the home folder and the programs in opencv are working very well.ROS electric sits in the home folder too and the ROS programs works perfectly fine (ros electric with the lastedt vision_opencv). I am working in ubnutu 10.10.   I thought that CUDA is a pre-requiste for ros and opencv to work together.
Comment by ahendrix on 2012-02-11:
It may be that your installation of opencv is broken in some way. How have you installed ROS and opencv? Which linux distro are you using?
Comment by metal on 2012-02-11:
I am really not interested in using GPU acceleration.Could you please tell me what changes I should do in order to avoid the CUDA problem.Is it a necessity for ros and opencv application?.If there is an other way you are certainly welcomed to share your perspective. thank you.
Comment by ahendrix on 2012-02-13:
If you've installed opencv into your home directory, that could definitely be causing this problem, since it looks like you're linking against a system install of opencv. Can you list or link to the exact steps you used to install opencv?
Comment by metal on 2012-02-13:
Thanks for your concern again.I did svn checkout of the opencv from sourceforge.net which brought the opencv in my home folder and then I had to go to sample code section where the cpp files are held and make it.The programs are working good..
Comment by metal on 2012-02-13:
Thanks for your concern again.I did svn checkout of the opencv from sourceforge.net which brought the opencv in my home folder and then I had to go to sample code section where the cpp files are held and make it.The programs are working good..
Comment by metal on 2012-02-13:
An other thing ROS-ELECTRIC has vision_opencv in its stacks.It has the CV_BRIDGE and other files.
Comment by ahendrix on 2012-02-14:
I'm guessing that you have opencv installed twice, and that's it's causing problems. What is the output from 'dpkg -l libopencv*' ? Why don't you have ROS and opencv installed from debs?
Comment by metal on 2012-02-15:
I am gonna reinstall the whole ros and opencv as I am gonna system format. Could you please assist me.I will install the ros and opencv exactly the way you want me to.? So that I wont run into any trouble.Could you please tell me whether CUDA is a necessity to run ros/opencv programs? Did u need it
Comment by ahendrix on 2012-02-15:
I didn't need to do anything special to make opencv work with ROS; just follow the Ubuntu install directions: http://www.ros.org/wiki/electric/Installation/Ubuntu
Comment by metal on 2012-02-16:
Didn't you need to install the ros-cuda compatibility  package for ros-opencv programs ?.I am sure you should have the dependency "cuda" in your manifest.xml for the packages (where ROS needs to work with opencv).
Comment by ahendrix on 2012-02-16:
No; why would I do that? I don't see anything about CUDA in the ROS OpenCV documentation.
Comment by metal on 2012-02-25:
ahendrix is it ok if i download ros alone(since it is integrated with opencv) . Please let me know about this..
Comment by ahendrix on 2012-02-25:
yes. installing ROS from the debian packages will automatically install opencv.
Comment by metal on 2012-02-25:
ok I have just installed  ros-electrcic desktop-full on ubuntu 10.10. I am gonna write a simple opencv-ros code for the ardrone, I will inform you on my results.


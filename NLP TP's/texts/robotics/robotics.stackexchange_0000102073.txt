Q:

whole body control with a TIAGo robot

Dear community,
I want to use a gamepad to control Tiago robot by PAL robotics. In order to control its arm, I used the moveit commander python interface. The idea was to read the current pose of the end effector, and increment it by a small value like 0.05 (m) based on the axis or the button pressed on the gamepad. Everything is working perfectly, however, I had to wait for the arm commander group to arrive at the desired pose.
plan = group.go(wait=True)
So the movement of the arm is no longer smooth, and if I change the wait argument to False the arm will start vibrating and not moving anywhere, Any solution please?

Originally posted by seif_seghiri on ROS Answers with karma: 42 on 2022-07-05
Post score: 0

Original comments
Comment by saikishor on 2022-07-05:
If it is vibrating the moveit is continuously planning and giving new goals, I would recommend you to stop planning and doing anything if you are within a certain tolerance and until you receive a new command from the gamepad
Comment by seif_seghiri on 2022-07-05:
So, you mean that i can't change the goal in real time, and I have to wait for each goal to be reached ?
However, I don't want to wait for it to reach I want to change the goal in real time.
Comment by gvdhoorn on 2022-07-06:
Then you perhaps should not be using the MoveIt commander, as it's not really meant for this kind of thing.
Perhaps #q261368 can clarify some things (it's a bit of an older Q&A, but parts are still relevant).
For real-time servoing, you might want to look at moveit_servo. It exists for both ROS 1 and ROS 2.
Comment by seif_seghiri on 2022-07-07:
Thank you so much.

A:

I found a trick to that. I used only the plan method provided by the moveit commander to get a plan, and instead of using the go method I published the trajectory to the arm_controller/command topic and that helps a lot.

Originally posted by seif_seghiri with karma: 42 on 2022-07-06
This answer was ACCEPTED on the original site
Post score: 0


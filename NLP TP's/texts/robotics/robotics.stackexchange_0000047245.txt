Q:

RGBD-slam for non-ROS fails

hi there,
i tried to use rgbd-slam_freiburg with kinect on ubuntu 12.04 64-bit. i tried with the non-ros-instruction from here.
it fails at rosmake rgbdslam_freiburg by compiling the rgbdslam stack. here is my output:

st-admin@ubuntu:~$ rosmake
rgbdslam_freiburg  [ rosmake ] rosmake
starting...
[ rosmake ] Packages requested are:
['rgbdslam_freiburg']
[ rosmake ] Logging to directory
/home/st-admin/.ros/rosmake/rosmake_output-20130115-131451
[ rosmake ] Expanded args
['rgbdslam_freiburg'] to: ['rgbdslam']
[rosmake-0] Starting >>> roslang [
make ]
[rosmake-1] Starting >>> geometry_msgs
[ make ]
[rosmake-2] Starting >>> opencv2 [
make ]
[rosmake-2] Finished <<< opencv2
ROS_NOBUILD in package opencv2
[rosmake-2] Starting >>> bullet [ make
]
[rosmake-0] Finished <<< roslang  No
Makefile in package roslang
[rosmake-3] Starting >>> rosconsole [
make ]
[rosmake-0] Starting >>> rospy [ make
]
[rosmake-1] Finished <<< geometry_msgs
No Makefile in package geometry_msgs
[rosmake-1] Starting >>> roscpp [ make
]
[rosmake-2] Finished <<< bullet
ROS_NOBUILD in package bullet
[rosmake-3] Finished <<< rosconsole
No Makefile in package rosconsole
[rosmake-2] Starting >>> sensor_msgs [
make ]
[rosmake-3] Starting >>> angles [ make
]
[rosmake-3] Finished <<< angles
ROS_NOBUILD in package angles
[rosmake-3] Starting >>> rostest [
make ]
[rosmake-1] Finished <<< roscpp  No
Makefile in package roscpp
[rosmake-0] Finished <<< rospy  No
Makefile in package rospy
[rosmake-1] Starting >>> roswtf [ make
]
[rosmake-2] Finished <<< sensor_msgs
No Makefile in package sensor_msgs
[rosmake-0] Starting >>>
message_filters [ make ]
[rosmake-3] Finished <<< rostest  No
Makefile in package rostest
[rosmake-3] Starting >>> std_msgs [
make ]
[rosmake-0] Finished <<<
message_filters  No Makefile in
package message_filters [rosmake-2]
Starting >>> image_geometry [ make ]
[rosmake-2] Finished <<<
image_geometry ROS_NOBUILD in package
image_geometry    [rosmake-0] Starting

rosbag [ make ]                                         [rosmake-2] Starting >>> rosbuild [
make ]
[rosmake-2] Finished <<< rosbuild  No
Makefile in package rosbuild
[rosmake-2] Starting >>> roslib [ make
]
[rosmake-3] Finished <<< std_msgs  No
Makefile in package std_msgs
[rosmake-3] Starting >>> pcl [ make ]
[rosmake-1] Finished <<< roswtf  No
Makefile in package roswtf
[rosmake-1] Starting >>> tf [ make ]
[rosmake-1] Finished <<< tf
ROS_NOBUILD in package tf
[rosmake-1] Starting >>> smclib [ make
]
[rosmake-0] Finished <<< rosbag  No
Makefile in package rosbag
[rosmake-2] Finished <<< roslib  No
Makefile in package roslib
[rosmake-0] Starting >>> rosservice [
make ]
[rosmake-3] Finished <<< pcl
ROS_NOBUILD in package pcl  No
Makefile in package pcl [rosmake-2]
Starting >>> pluginlib [ make ]
[rosmake-1] Finished <<< smclib
ROS_NOBUILD in package smclib
[rosmake-3] Starting >>> bond [ make ]
[rosmake-1] Starting >>>
common_rosdeps [ make ]
[rosmake-0] Finished <<< rosservice
No Makefile in package rosservice
[rosmake-3] Finished <<< bond
ROS_NOBUILD in package bond
[rosmake-2] Finished <<< pluginlib
ROS_NOBUILD in package pluginlib
[rosmake-0] Starting >>>
dynamic_reconfigure [ make ]
[rosmake-3] Starting >>> bondcpp [
make ]
[rosmake-1] Finished <<<
common_rosdeps ROS_NOBUILD in package
common_rosdeps    [rosmake-2] Starting
cv_bridge [ make ]                                      [rosmake-2] Finished <<< cv_bridge
ROS_NOBUILD in package cv_bridge
[rosmake-1] Starting >>>
visualization_msgs [ make ]
[rosmake-2] Starting >>> mk [ make ]
[rosmake-2] Finished <<< mk  No
Makefile in package mk
[rosmake-2] Starting >>> orocos_kdl [
make ]
[rosmake-1] Finished <<<
visualization_msgs  No Makefile in
package visualization_msgs [rosmake-0]
Finished <<< dynamic_reconfigure
ROS_NOBUILD in package
dynamic_reconfigure [rosmake-1]
Starting >>> opencv_tests [ make ]
[rosmake-1] Finished <<< opencv_tests
ROS_NOBUILD in package opencv_tests
[rosmake-3] Finished <<< bondcpp
ROS_NOBUILD in package bondcpp
[rosmake-3] Starting >>> nodelet [
make ]
[rosmake-2] Finished <<< orocos_kdl
ROS_NOBUILD in package orocos_kdl
[rosmake-2] Starting >>>
python_orocos_kdl [ make ]
[rosmake-3] Finished <<< nodelet
ROS_NOBUILD in package nodelet
[rosmake-3] Starting >>>
nodelet_topic_tools [ make ]
[rosmake-2] Finished <<<
python_orocos_kdl ROS_NOBUILD in
package python_orocos_kdl [rosmake-2]
Starting >>> kdl [ make ]
[rosmake-3] Finished <<<
nodelet_topic_tools ROS_NOBUILD in
package nodelet_topic_tools
[rosmake-3] Starting >>> pcl_ros [
make ]
[rosmake-3] Finished <<< pcl_ros
ROS_NOBUILD in package pcl_ros
[rosmake-3] Starting >>> rgbdslam [
make ]
[rosmake-2] Finished <<< kdl
ROS_NOBUILD in package kdl  No
Makefile in package kdl [rosmake-2]
Starting >>> eigen_conversions [ make
]
[rosmake-1] Starting >>>
tf_conversions [ make ]
[rosmake-1] Finished <<<
tf_conversions ROS_NOBUILD in package
tf_conversions    [rosmake-2] Finished
<<< eigen_conversions ROS_NOBUILD in
package eigen_conversions [rosmake-1]
Starting >>> cv_markers [ make ]
[rosmake-1] Finished <<< cv_markers
ROS_NOBUILD in package cv_markers
[ rosmake ] Last 40 linesbdslam: 10.6
sec ]          [ 1 Active 39/40
Complete ]
{-------------------------------------------------------------------------------   make[3]: Nothing to be done for
targets'.   make[3]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/test'
make[2]: Leaving directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/test' cd sample ; make linux-g++   make[2]: Entering directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample'
make targets \    "ANNLIB = libANN.a"
\     "C++ = g++" \       "CFLAGS = -O3" 
"MAKELIB = ar ruv" \    "RANLIB =
true"   make[3]: Entering directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample' make[3]: Nothing to be done for targets'.   make[3]: Leaving
directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample' make[2]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample'
cd ann2fig ; make linux-g++   make[2]:
Entering directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig' make targets \    "ANNLIB = libANN.a" \     "C++ = g++" \       "CFLAGS = -O3" \ "MAKELIB = ar ruv" \    "RANLIB = true"   make[3]: Entering directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig'
make[3]: Nothing to be done for
targets'.   make[3]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig'
make[2]: Leaving directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig' make[1]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2'
------------------------------------------------------------------
-- Eigen found (include: /usr/include/eigen3)   [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_qtros.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later
[rosbuild] Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_openni_listener.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later
[rosbuild] Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_qt_gui.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later
[rosbuild] Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_graph_manager.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later
[rosbuild] Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_glviewer.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later
[rosbuild] Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_ros_service_ui.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later   --
Configuring incomplete, errors
occurred!
-------------------------------------------------------------------------------} [ rosmake ] Output from build of
package rgbdslam written to: [ rosmake
]
/home/st-admin/.ros/rosmake/rosmake_output-20130115-131451/rgbdslam/build_output.log
[rosmake-3] Finished <<< rgbdslam
[FAIL] [ 10.72 seconds ]
[ rosmake ] Halting due to failure in
package rgbdslam.  [ rosmake ] Waiting
for other threads to complete. [
rosmake ] Results:
[ rosmake ] Built 40 packages with 1
failures.
[ rosmake ] Summary output to
directory
[ rosmake ]
/home/st-admin/.ros/rosmake/rosmake_output-20130115-131451

for me it seems that there are data missing from the rgbd itself?!
any ideas?
edit
here the log from rosmake (/home/st-admin/.ros/rosmake/rosmake_output-20130115-131451/rgbdslam/build_output.log):

mkdir -p bin cd build && cmake -Wdev
-DCMAKE_TOOLCHAIN_FILE=rospack find rosbuild/rostoolchain.cmake  ..
[rosbuild] Building package rgbdslam
[rosbuild] Including
/opt/ros/fuerte/share/roslisp/rosbuild/roslisp.cmake
[rosbuild] Including
/opt/ros/fuerte/share/rospy/rosbuild/rospy.cmake
[rosbuild] Including
/opt/ros/fuerte/share/roscpp/rosbuild/roscpp.cmake
CMake Error at CMakeLists.txt:57
(find_package):   Could not find
module Findg2o.cmake or a
configuration file for package   g2o.
Adjust CMAKE_MODULE_PATH to find
Findg2o.cmake or set g2o_DIR to the
directory containing a CMake
configuration file for g2o.  The file
will   have one of the following
names:
g2oConfig.cmake
g2o-config.cmake

Compiling SiftGPU... make[1]: Entering
directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/siftgpu/linux' mkdir -p ../../../build/siftgpu mkdir -p ./bin  ln ../data/ -d -s -f ar rcs ./bin/libsiftgpu.a ../../../build/siftgpu/FrameBufferObject.o ../../../build/siftgpu/GlobalUtil.o ../../../build/siftgpu/GLTexImage.o ../../../build/siftgpu/ProgramGLSL.o ../../../build/siftgpu/ProgramGPU.o ../../../build/siftgpu/ShaderMan.o ../../../build/siftgpu/SiftGPU.o ../../../build/siftgpu/SiftPyramid.o ../../../build/siftgpu/PyramidGL.o ../../../build/siftgpu/SiftMatch.o g++ -o ./bin/libsiftgpu.so ../../../build/siftgpu/FrameBufferObject.o ../../../build/siftgpu/GlobalUtil.o ../../../build/siftgpu/GLTexImage.o ../../../build/siftgpu/ProgramGLSL.o ../../../build/siftgpu/ProgramGPU.o ../../../build/siftgpu/ShaderMan.o ../../../build/siftgpu/SiftGPU.o ../../../build/siftgpu/SiftPyramid.o ../../../build/siftgpu/PyramidGL.o ../../../build/siftgpu/SiftMatch.o -lGLEW -lglut -lIL -lGL -lX11 -I../include -fPIC -L/usr/lib64 -L/usr/lib -L./bin -Wall -Wno-deprecated -pthread   -march=native -mfpmath=sse -shared -fPIC make[1]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/siftgpu/linux'

Compiling GICP... make[1]: Entering
directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2' cd src ; make linux-g++ make[2]: Entering directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/src'
make targets \    "ANNLIB = libANN.a" 
"C++ = g++" \   "CFLAGS = -O3" 
"MAKELIB = ar ruv" \    "RANLIB = true"
make[3]: Entering directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/src' make[3]: Nothing to be done for targets'. make[3]: Leaving directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/src' make[2]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/src'
cd test ; make linux-g++ make[2]:
Entering directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/test' make targets \    "ANNLIB = libANN.a" \ "C++ = g++" \   "CFLAGS = -O3" \ "MAKELIB = ar ruv" \    "RANLIB = true" make[3]: Entering directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/test'
make[3]: Nothing to be done for
targets'. make[3]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/test'
make[2]: Leaving directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/test' cd sample ; make linux-g++ make[2]: Entering directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample'
make targets \    "ANNLIB = libANN.a" 
"C++ = g++" \   "CFLAGS = -O3" 
"MAKELIB = ar ruv" \    "RANLIB = true"
make[3]: Entering directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample' make[3]: Nothing to be done for targets'. make[3]: Leaving directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample' make[2]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/sample'
cd ann2fig ; make linux-g++ make[2]:
Entering directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig' make targets \    "ANNLIB = libANN.a" \ "C++ = g++" \   "CFLAGS = -O3" \ "MAKELIB = ar ruv" \    "RANLIB = true" make[3]: Entering directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig'
make[3]: Nothing to be done for
targets'. make[3]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig'
make[2]: Leaving directory
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2/ann2fig' make[1]: Leaving directory /home/st-admin/ros/rgbdslam_freiburg/rgbdslam/external/gicp/ann_1.1.2'

-- Eigen found (include: /usr/include/eigen3) [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_qtros.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_openni_listener.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_qt_gui.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_graph_manager.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_glviewer.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later [rosbuild]
Couldn't find source file
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_ros_service_ui.cxx;
assuming that it is in
/home/st-admin/ros/rgbdslam_freiburg/rgbdslam
and will be generated later
-- Configuring incomplete, errors occurred! make: *** [all] Error 1

edit 2
after trying to install libg2o it seems that it is already installed.

st-admin@ubuntu:~$ sudo apt-get
install ros-fuerte-libg2o Reading
package lists... Done Building
dependency tree        Reading state
information... Done ros-fuerte-libg2o
is already the newest version. 0
upgraded, 0 newly installed, 0 to
remove and 0 not upgraded.

Originally posted by RodBelaFarin on ROS Answers with karma: 235 on 2013-01-14
Post score: 0

Original comments
Comment by Felix Endres on 2013-01-15:
"Configuring incomplete, errors occurred!" is the problem. However, your post doesn't include the output of the configuration, which would typically be above the excerpt you posted
Comment by RodBelaFarin on 2013-01-15:
@Felix Endres: now i added the whole outpost from make, do you need any more informations? for me it seems that there are data missing from the rgbd itself?  Couldn't find source file .../mydir/ros/rgbdslam_freiburg/rgbdslam/build/src/moc_qtros.cxx and so on.
Comment by dornhege on 2013-01-15:
No, those are not errors. Those files really will be generated later. You need to post this build log: /home/st-admin/.ros/rosmake/rosmake_output-20130115-131451/rgbdslam/build_output.log [rosmake-3] or just the raw output of make (not rosmake).
Comment by RodBelaFarin on 2013-01-15:
@dornhege: thanks for the hint! i added the log to the original post.
Comment by dornhege on 2013-01-15:
Seems to be g2o missing. Try sudo apt-get install ros-fuerte-libg2o. I think that might do it.
Comment by RodBelaFarin on 2013-01-15:
thanks, but it does not solve the problem. seems that g2o is already installed, check my original post ;)
Comment by dornhege on 2013-01-15:
This seems to pertain to g2o under fuerte: http://www.ros.org/wiki/rgbdslam#Installation_with_Fuerte Maybe that helps.
Comment by Felix Endres on 2013-01-27:
Does it work now?

A:

I've just applied the patch from http://answers.ros.org/question/51013/rgbdslam-fixed-for-fuerte-where-do-i-send-the-patch/ to the repository. Try updating and rebuilding, it should find g2o.

Originally posted by Felix Endres with karma: 6468 on 2013-01-15
This answer was ACCEPTED on the original site
Post score: 0


Q:

Subscriber losing connection to topic on same computer

Hello,
I have a weird problem I haven't seen before.  I'm using the latest Electric debs on Ubuntu 11.10.
I have a Python node that publishes a RegionOfInterest message on topic /roi while tracking a colored object using the OpenCV CamShift filter.
When I run 'rostopic echo /roi' in another terminal, I can see the messages streaming by and updating as I move the object in front of the camera.  However, after apparently random intervals, the messages stop updating--i.e. they are stuck on some last value no matter how I move the tracked object in front of the camera.
Putting a 'rospy.loginfo(roi)' command in the Camshift script just before the publish command proves that the messages are still being published correctly.  In other words, the rospy.loginfo(roi) output continues to update correctly on the screen even when the 'rostopic echo /roi' messages appear stopped in the other terminal.  If I Ctrl-C the 'rostopic echo /roi' command and start it up again, the messages start updating correctly again.
Not even sure how to debug this one...
Thanks!

patrick

Originally posted by Pi Robot on ROS Answers with karma: 4046 on 2012-06-14
Post score: 1

A:

OK, my bad.  Turns out my ROI was getting assigned negative values for x_offset and/or y_offset when tracking the object near the image boundaries.  Setting such values to 0 solved my problem.
--patrick

Originally posted by Pi Robot with karma: 4046 on 2012-06-14
This answer was ACCEPTED on the original site
Post score: 0


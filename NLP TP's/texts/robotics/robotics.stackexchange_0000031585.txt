Q:

Disabling boost for a custom package

Hello
I am new to ros.
I am trying to create a rospkg for the bumblebee XB3 camera from point grey.
I have followed all the documentation for creating a package and so on.
Problem is, i must use a closed library from point grey (triclops). This library uses multi thread and i think there is a problem with the ros cmake, namely on the boost options.
Basically, if i mannually compile a code (using g++ test.cpp -o test) it runs fine but if i compile using ros cmake it seg faults.
I experimented a bit and found that if i manually remove boost from the compilation line it works.
So my question is if there is someway of saying in the CMakeList.txt file that no boost libs are to be used.
Best regards
Miguel Oliveira
University of Aveiro

Originally posted by migueloliveira on ROS Answers with karma: 65 on 2011-05-13
Post score: 6

A:

Just in case someone else stumples upon this... I  ran into a similar problem. For me triclops always seg faulted in triclopsStereo. triclopsRectify did work (which uses the internal calibration of the bumblebee, that is why I wanted to use it). So I get the rectified images from triclops and passed them to an OpenCV StereoBM block matcher.
triclopsGetImage( triclops, TriImg_RECTIFIED, TriCam_RIGHT, ℑ_right );
triclopsGetImage( triclops, TriImg_RECTIFIED, TriCam_LEFT, ℑ_left );

cv::Mat img_r(480,640,CV_8UC1,image_right.data);
cv::Mat img_l(480,640,CV_8UC1,image_left.data);
   
block_matcher_(img_l,img_r,disparity);
This gives me real nice disparity images, seemingly even faster than triclops without any hastle of calibration or similar and without crashes, as it seems until now. :)

Originally posted by Achim with karma: 390 on 2011-11-18
This answer was ACCEPTED on the original site
Post score: 1


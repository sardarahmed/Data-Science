Q:

How to publish raw data to /diagnostics topic?

Hi, I have been reading about Diagnostics tools  in ROS and knew how to setup to analyze the raw data from robot hardware. But I'm wondering how to publish those data to /diagnostics topic, so that I can use them to analyze and re-publish to /diagnostics_agg topic?
Can anyone explain the process of getting raw data from robot hardware and how to config it to use in ROS? Thank you so much.

Originally posted by Kevin1719 on ROS Answers with karma: 58 on 2021-11-14
Post score: 2

A:

I figured out that first you need a code to read port signals (e.g. battety current or motor temperature), then publish those data to relevant topics. Once you have raw data in the system, you need a node to subscribe for those data and then reformat it to diagnostic_msgs/DiagnosticArray type to republish them to /diagnostics topic so you can use it with the diagnostic package tools.
There is a really good example for filling the fields in DiagnosticArray type here.

Originally posted by Kevin1719 with karma: 58 on 2021-11-20
This answer was ACCEPTED on the original site
Post score: 0


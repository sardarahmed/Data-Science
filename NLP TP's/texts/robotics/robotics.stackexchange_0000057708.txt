Q:

/opt/ros/hydro/lib/libroscpp.so: undefined symbol: _ZN3ros6HeaderC1Ev

After updating Mac OS 10.9.1 to 10.9.2 camera1394 nodes fails to start with
dyld: lazy symbol binding failed: Symbol not found: __ZN3ros7console5printEPNS0_10FilterBaseEPN7log4cxx6LoggerENS0_6levels5LevelERKNSt3__118basic_stringstreamIcNS8_11char_traitsIcEENS8_9allocatorIcEEEEPKciSI_
  Referenced from: /Users/user/ros/st_perception/devel/lib/camera1394/camera1394_node
  Expected in: /opt/ros/hydro/lib/librosconsole.dylib

dyld: Symbol not found: __ZN3ros7console5printEPNS0_10FilterBaseEPN7log4cxx6LoggerENS0_6levels5LevelERKNSt3__118basic_stringstreamIcNS8_11char_traitsIcEENS8_9allocatorIcEEEEPKciSI_
  Referenced from: /Users/user/ros/st_perception/devel/lib/camera1394/camera1394_node
  Expected in: /opt/ros/hydro/lib/librosconsole.dylib

I found it is a common problem, however could not find a solution. I believe rosconsole needs to be modified. But how? Any ideas?

EDITED

OK, it looks like it's not only OSX problem, I've started having similar issues on Linux 13.04, that is running on the same computer in Parallels. Here is an example:
/opt/ros/hydro/lib/rosout/rosout: symbol lookup error: /opt/ros/hydro/lib/libroscpp.so: undefined symbol: _ZN3ros6HeaderC1Ev

EDITED2

It's weird, it's working fine on Ubuntu, so I am back to the original question about Mac OSX. I guess it is my local problem, related to software versions.

Originally posted by Artem on ROS Answers with karma: 709 on 2014-03-05
Post score: 1

Original comments
Comment by demmeln on 2014-03-06:
Have you tried recompiling everything from scratch, including rosconsole?
Comment by Artem on 2014-03-06:
Yes I did. Did not help. I also rebuilt log4cxx.
Comment by William on 2014-03-06:
I am able to run rviz with hydro on 10.9.2, have you sourced your setup.bash? Does the library /opt/ros/hydro/lib/librosconsole.dylib exist?
Comment by Artem on 2014-03-06:
Yes, librosconsole.dylib exists and its size's 536136b. There's a chance that I somehow messed up my brew repository and should probably rebuild everything.I can run rviz, but when exiting it,I get segment. fault in libOgreMain.1.7.4.dylib  0x000000010fecfddd Ogre::Viewport::_updateDimensions() + 25
Comment by Artem on 2014-03-06:
Can you please execute the following 'rosrun camera1394 camera1394_node', you don't have to have cameras. Do you get the errors above?
Comment by demmeln on 2014-03-06:
No, that works for me on 10.9.2. I get a "[ERROR] [1394160230.038058000]: [camera] device open failed: [Camera1394::open]: No cameras found" error, but nothing from the dynamic linker. I just recompiled all of ROS hydro and the the camera1394 package from scratch.
Comment by demmeln on 2014-03-06:
I do get the same segfault upon exiting rviz though...
Comment by Artem on 2014-03-06:
Thank you!
It is weird, now I am having similar errors in Ubuntu 13.04, I've updated my answer.
Comment by demmeln on 2014-03-07:
At least the rviz issue seems to be not local to you. However I guess this is independent of the linker issues.
Comment by demmeln on 2014-03-07:
I opened an issue for rviz https://github.com/ros-visualization/rviz/issues/737
Comment by William on 2014-03-09:
@demmeln, the same are what other segfault? All I see in this question are errors for runtime linking.
Comment by William on 2014-03-09:
Oh I see there was one in the comments.
Comment by Artem on 2014-03-09:
It is really weird I am having similar issues on Linux computers :( What it could be? Did rosconsole have any recent modifications?
Comment by Tirjen on 2014-03-09:
I had the same problem on Ubuntu 12.04 ROS Hydro, doing a sudo apt-get update and sudo apt-get upgrade (that is I updated all ROS packages) solved the problem for me.

A:

I looks like maybe this was an issue with a specific version. I suggest you reinstall the latest release from scratch, or at least check which packages have a newer version released. (http://answers.ros.org/question/109656/maintaining-a-ros-source-install-add-packages-update-release/ might help)

Originally posted by demmeln with karma: 4306 on 2014-03-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Artem on 2014-03-11:
Thank you! I rebuilt ros again and did brew update and upgrade, still having the same errors. No idea what  has happened.
Comment by demmeln on 2014-03-14:
This is wierd. Could you maybe detail the exact steps you take for reinstalling ros and then building the camera1394 package that fails?
Comment by Artem on 2014-03-14:
Sorry I did not update the question. After reinstalling and rebuilding ros and all my packagers the problem has gone, at least in Mac OSX, I will check  Ubuntu later.  Thanks for your help.


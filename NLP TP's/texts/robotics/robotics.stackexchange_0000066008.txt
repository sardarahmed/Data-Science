Q:

mavros in general

Im just wondering how to do offboard control with Mavros and how to use Mavors' utility commands and plug-ins. For example, how to use Mavros to arm the quadcopter. I know it's a stupid question so any help will be appreciated.

Originally posted by cty22 on ROS Answers with karma: 11 on 2015-02-23
Post score: 1

Original comments
Comment by crazymumu on 2015-10-29:
Hi cty22, I have similar problem about using setpoint_position to control APM. I just wondering do you works out of that. Thanks.

A:

Offboard => PX4 firmware, right?
For arming look at mavsafety script, and mavsafety arm.
Offboard require arming, selecting OFFBOARD mode (mavsys mode -c OFFBOARD) and sending setpoints via one of setpoint plugins.
Note that OFFBOARD mode have timeout, also you may ask questions at https://gitter.im/mavlink/mavros .

Originally posted by vooon with karma: 404 on 2015-02-24
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by vooon on 2015-02-24:
Also look PX4 wiki, excellent example: https://pixhawk.org/dev/offboard_control/testing
Comment by cty22 on 2015-03-31:
When I do mavsys mode -c OFFBOARD. I got an error says [ERROR] [1426407538.265746064]: MODE: Unknown mode: OFFBOARD   What am I doing wrong?
Comment by cty22 on 2015-03-31:
I think i'm using apm firmware. That's why. Is there a off board mode or something equivalent for apm? Thanks
Comment by vooon on 2015-04-01:
APM:Copter now have some support, but untested by mavros users.
mavsys mode -c GUIDED
Comment by vooon on 2015-04-01:
Also small fix for PX4 users: firstly start sending setpoints, then require OFFBOARD.
Comment by cty22 on 2015-04-08:
I'm running into the topics not being published issue. I saw a similar question and you suggested enable mavconn to debug it. I'm not sure how to enable it. what command do you use? Thanks
Comment by vooon on 2015-04-09:\

you can setup ROSCONSOLE_CONFIG_FILE (read ros wiki)
or you can do rosservice call /mavros/set_logger_level ros.rosconsole_bridge.mavconn debug (same may be done by rqt)


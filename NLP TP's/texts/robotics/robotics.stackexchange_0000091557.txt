Q:

JointTrajectoryController ( no p gain specified)

hello all,
am trying to move multiple joints of my delta robot using JointTrajectoryController ( I am using ROS kinetic) .
but i am getting the following error:
No p gain specified for pid. Namespace: /gazebo_ros_control/pid_gains/Motor1_UpperArm1
No p gain specified for pid. Namespace: /gazebo_ros_control/pid_gains/Motor2_UpperArm2
No p gain specified for pid. Namespace: /gazebo_ros_control/pid_gains/Motor3_UpperArm3

The following is my .yaml file  in the control package
delta_robot:
  # Publish all joint states -----------------------------------
  joint_state_controller:
    type: joint_state_controller/JointStateController
    publish_rate: 50  
  
 
  # Joint Trajectory Controller -------------------------------
  delta_position_trajectory_controller:
     type: position_controllers/JointTrajectoryController
     # CR: Here is my point, can the urdf/transmission specification be used for joint names?
     joints:
        - Motor1_UpperArm1
        - Motor2_UpperArm2
        - Motor3_UpperArm3
      gains:
       Motor1_UpperArm1:
     p: 10
         i: 1 
         d: 10
       Motor2_UpperArm2:
    p: 10
        i: 1 
        d: 10
       Motor3_UpperArm3:
    p: 10
        i: 1 
        d: 10

any idea how to fix this issue?
Anyone can attach an exemple of the yaml file to do so?

Originally posted by joeced on ROS Answers with karma: 11 on 2019-05-01
Post score: 1

Original comments
Comment by gvdhoorn on 2019-05-01:
Please copy-paste the exact error message (or messages if you receive multiple). Paraphrasing makes it much more difficult for us to help you.
If you're using any packages that are publicly available, link and/or mention them. If you are using a specific configuration (or configuration files): describe it/them.

A:

Hi,
I get the similar error message. The following links:
https://answers.ros.org/question/293830/what-is-the-fix-for-no-p-gain-specified-for-pid-namespace-gazebo_ros_controlpid_gainsback_right_wheel_joint-ros-melodic/
And another link:
http://answers.gazebosim.org/question/5468/gazebo_ros_pkgs-no-p-gain-specified-for-pid-in-positionjointinterface/
I follow the suggestion in links and remove the error message, but my robot collapse in Gazebo.
Note: In the links, they said this is not fatal error ( and I can control my robot in Gazebo with the error message), so I choose to not fixes this error now ;)
Best,

Originally posted by RobinChen with karma: 26 on 2019-05-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joeced on 2019-05-02:
hello i tried those two suggestions before but i sstill have the same errors.
did it worked with you on gazebo7? or on gazebo 9
Comment by RobinChen on 2019-05-02:
Yes. It worked with me on Gazebo 7.15.
First, I add myrobot_gazebo/config/gazebo_ros_control_params.yaml with content:
# parameters for Gazebo ROS control plugin
gazebo_ros_control/pid_gains:
    Joint1: {p: 100.0, i: 0.01, d: 10.0}
    Joint2: {p: 100.0, i: 0.01, d: 10.0}
    Joint3: {p: 100.0, i: 0.01, d: 10.0}
    Joint4: {p: 100.0, i: 0.01, d: 10.0}
    Joint5: {p: 100.0, i: 0.01, d: 10.0}
    Joint6: {p: 100.0, i: 0.01, d: 10.0}

Then, I add following line to my gazebo launch file:
<rosparam file="$(find myrobot_gazebo)/config/gazebo_ros_control_params.yaml" command="load"/>

As I said, it remove error message but cause my robot collapse in Gazebo.
Best
Comment by joeced on 2019-05-03:
thank you for your time, it removed my errors.
Regards


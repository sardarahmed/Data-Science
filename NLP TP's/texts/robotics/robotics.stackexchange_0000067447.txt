Q:

fovis_ros error

Hi,
I'm working with turtlebot and kinect (hydro) in ubuntu 12.04. I integrated the visual odometry (fovis_ros).
So I launched turtlebot_bringup minimal.launch to get odom and imu topics
and launched openni to get the depth camera topic and fovis_hydro_openni.launch:
<launch>
  <arg name="camera" default="camera" />   
  <node pkg="nodelet" type="nodelet" args="manager" name="nodelet_manager" />   
  <node pkg="nodelet" type="nodelet" 
        name="convert_openni_fovis" 
        args="load depth_image_proc/convert_metric nodelet_manager">
    <remap from="image_raw" to="$(arg camera)/depth_registered/sw_registered/image_rect_raw"/>
    <remap from="image" to="$(arg camera)/depth/image_rect"/>   
  </node>  
  
  <node pkg="fovis_ros" type="fovis_mono_depth_odometer" name="kinect_odometer" >
    <remap from="/camera/rgb/image_rect" to="$(arg camera)/rgb/image_rect_mono" />
    <remap from="/camera/rgb/camera_info" to="$(arg camera)/rgb/camera_info" />
    <remap from="/camera/depth_registered/camera_info" 
           to="$(arg camera)/depth_registered/sw_registered/camera_info" />
    <remap from="/camera/depth_registered/image_rect" to="$(arg camera)/depth/image_rect" />
    <param name="approximate_sync" type="bool" value="True" />   
  </node>
</launch> 

and finally i launched the robot_pose_ekf.launch which fuse the three topics (odom,imu,and vo) to publish the odom_combined topic. But i had this error:
[ERROR] [1431006366.365384721]: Covariance specified for measurement on topic vo is zero
[ERROR] [1431006366.392443095]: filter time older than vo message buffer

I think that the problem comes from the visual odometry beacause before adding visual odometry the robot_pose_ekf works fine it fused odom and imu data and published odom_combined
Any help please

Originally posted by sophye_turtlebot on ROS Answers with karma: 53 on 2015-05-07
Post score: 0

A:

In fovis_ros wiki it's stated that pose and twist covariance is not published for mono depth odometer.  That's why robot_pose_ekf is telling you that the covariance for the "vo" topic is zero. The library libfovis itself does not provide that information, and so does the wrapper.
If you want, you can change fovis_ros/src/odometer_base.hpp to set a fixed covariance to do some tests.

Originally posted by Miquel Massot with karma: 1471 on 2015-05-13
This answer was ACCEPTED on the original site
Post score: 0


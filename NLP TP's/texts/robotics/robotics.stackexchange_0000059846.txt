Q:

Giving hokuyo persistent device names

Hey,
I have multiple (3 to be precise) hokuyo cameras all going through usb. My problem is that I want each of them to have a specific name (i.e. the back camera is AMC0 and the side camera is AMC1 etc.). I have looked into writing a udev rule for that but I haven't been lucky in that department. I have the specific ID for each camera but I do not know how to link that to a name.
Any help is appreciated!

Originally posted by GWall on ROS Answers with karma: 27 on 2014-06-04
Post score: 0

A:

Use this udev rule:

# Hokuyos
SUBSYSTEMS=="usb", KERNEL=="ttyACM[0-9]*", ATTRS{manufacturer}=="Hokuyo Data Flex for USB", ATTRS{product}=="URG-Series USB Driver", MODE="0666", GROUP="dialout", PROGRAM=="/etc/ros/run.sh hokuyo_node getID %N q", SYMLINK+="sensors/hokuyo_%c"

It's gonna need /etc/ros/run.sh, which basically is:

#!/bin/sh
. /etc/ros/setup.sh 
rosrun $@

Where /etc/ros/setup.sh is a symlink to your ROS setup.sh file in /opt/ros/???/setup.sh.

Originally posted by dornhege with karma: 31395 on 2014-06-04
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by GWall on 2014-06-04:
Does this apply to each hokuyo? Or are there edits I need to make to that rule to make it specific to each camera? @dornhege
Comment by dornhege on 2014-06-04:
Works for every one that I've worked with, i.e. URG-04LX, Simple-URG, UTM 30-LX
Comment by GWall on 2014-06-04:
maybe i'm just a total dingbat, but how do I decide what that particular device is going to be consistently called? @dornhege
Comment by dornhege on 2014-06-04:
The names are /dev/sensors/hokuyo_serial
Comment by GWall on 2014-06-04:
so how does it give a unique and persistent name to each camera? @dornhege
Comment by dornhege on 2014-06-04:
The serial numbers are unique.
Comment by GWall on 2014-06-04:
I followed your steps exactly and I don't see anything named hokuyo_serial or serial numbers in /dev/sensors/ @dornhege
Comment by ahendrix on 2014-06-04:
You'll have to restart udev, unplug and replug your sensors before udev creates the new symlinks for them. You may also want to review the udev log to make sure that it isn't encountering any errors.
Comment by GWall on 2014-06-04:
so then in my hokuyo launch files, what do i tell it to launch? @ahendrix
Comment by ahendrix on 2014-06-04:
You should run the hokuyo_node normally, passing it the new symlink in /dev/sensors/ as the port parameter.
Comment by GWall on 2014-06-09:
Hey, just saying that I got it to work! Thanks for all your responses and putting up with my ignorance! Greatly appreciated! @dornhege @ahendrix


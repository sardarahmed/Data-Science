Q:

wiimote cpu load

Hi all!
I am experiencing a weird behavior in wiimote_node. When I launch it and subscribe to the /joy topic, the CPU load of the node goes up to 140%! I run the node in an Intel Core2 Duo, where each processor is 1.8 GHz. It seems that those CPU loads are not justified, but I saw in the code that the publishing rate is 100 Hz. Although I changed that frequency to 10 Hz the node keeps on consuming the same CPU. Does anybody have a clue about it?
Thanks in advance!

Originally posted by gazkune on ROS Answers with karma: 219 on 2011-05-08
Post score: 1

Original comments
Comment by Stefan Kohlbrecher on 2011-06-08:
I also tested the wiimote node on a Atom-based FitPC2 and noticed it maxed out the CPU completely. Good to see it adressed :)
Comment by mmwise on 2011-06-07:
I see the CPU load and am on it!
Comment by mmwise on 2011-05-09:
I'm in china currently, I will look into this problem when I get back and see if I can reproduce this problem. I filed a ticket here for myself: https://code.ros.org/trac/ros-pkg/ticket/4948
Comment by gazkune on 2011-05-09:
I measure the CPU usage with top. The usage doesn't change with subscriptions. Even without subscriptions, usage is always around 140%. I did the same test in my laptop (Intel Core i5) with a new diamondback installation and I get a usage of 113%
Comment by Eric Perko on 2011-05-09:
That seems really weird. How are you measuring the CPU usage of the node (e.g. top)? Does it use the same amount when you aren't subscribed to /joy? What about subscribing to one of the other topics output by the node (/imu for example)?

A:

I checked into trunk a fix that reduced the CPU from 114% to 9%
r37137: https://code.ros.org/gf/project/ros-pkg/scmsvn/?action=browse&path=/stacks/joystick_drivers/trunk/wiimote/nodes/wiimote_node.py&view=markup&revision=37137
try it out and tell me how it goes..

Originally posted by mmwise with karma: 8372 on 2011-06-08
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by gazkune on 2011-06-09:
Seems to work well! I didn't see any CPU load bigger than 9% during execution of wiimote_node.py. Thanks!


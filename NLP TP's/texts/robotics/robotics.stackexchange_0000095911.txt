Q:

Move_group couldn't find controllers loaded on Raspberry Pi in a ROS network

I'm using ubuntu 16.04 on a Huawei Matebook-x, with kernel 4.15.0-91-generic. ROS distro: kinetic and version 1.12.14. Gazebo 7.
I have a Niry One robot arm (with Raspberry Pi 3 inside), and wanted to control it using MoveIt from my laptop. Move_group, however, cannot find the controller that has already been loaded. Please tell me whether what I am trying to do is possible, and if yes, what went wrong here?
A small problem: Why am I getting this Couldn't find an AF_INET address for [matebook-x].
Pi and my matebook-x are in the same wifi network. I have export ROS_MASTER_URI=http://192.168.2.31:11311 on both computers, export ROS_IP=192.168.2.31 on matebook-x and export ROS_IP=192.168.2.36 on Pi over ssh as suggested in this question.
The following log from Pi over ssh shows that niryo_one_follow_joint_trajectory_controller has been sucessfully loaded.

This code block was moved to the following github gist:
https://gist.github.com/answers-se-migration-openrobotics/c09b08e42446ed9a33b098cca1784a16

The following log on matebook-x shows that it's waiting for niryo_one_follow_joint_trajectory_controller/follow_joint_trajectory to come up
started roslaunch server http://matebook-x:45125/

SUMMARY
========

PARAMETERS
 * /move_group/allow_trajectory_execution: True
 * /move_group/arm/longest_valid_segment_fraction: 0.005
 * /move_group/arm/planner_configs: ['SBLkConfigDefau...
 * /move_group/arm/projection_evaluator: joints(joint_1,jo...
 * /move_group/controller_list: [{'default': True...
 * /move_group/jiggle_fraction: 0.05
 * /move_group/max_range: 5.0
 * /move_group/max_safe_path_cost: 1
 * /move_group/moveit_controller_manager: moveit_simple_con...
 * /move_group/moveit_manage_controllers: True
 * /move_group/octomap_resolution: 0.025
 * /move_group/planner_configs/BFMTkConfigDefault/balanced: 0
 * /move_group/planner_configs/BFMTkConfigDefault/cache_cc: 1
 * /move_group/planner_configs/BFMTkConfigDefault/extended_fmt: 1
 * /move_group/planner_configs/BFMTkConfigDefault/heuristics: 1
 * /move_group/planner_configs/BFMTkConfigDefault/nearest_k: 1
 * /move_group/planner_configs/BFMTkConfigDefault/num_samples: 1000
 * /move_group/planner_configs/BFMTkConfigDefault/optimality: 1
 * /move_group/planner_configs/BFMTkConfigDefault/radius_multiplier: 1.0
 * /move_group/planner_configs/BFMTkConfigDefault/type: geometric::BFMT
 * /move_group/planner_configs/BKPIECEkConfigDefault/border_fraction: 0.9
 * /move_group/planner_configs/BKPIECEkConfigDefault/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/BKPIECEkConfigDefault/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/BKPIECEkConfigDefault/range: 0.0
 * /move_group/planner_configs/BKPIECEkConfigDefault/type: geometric::BKPIECE
 * /move_group/planner_configs/BiESTkConfigDefault/range: 0.0
 * /move_group/planner_configs/BiESTkConfigDefault/type: geometric::BiEST
 * /move_group/planner_configs/BiTRRTkConfigDefault/cost_threshold: 1e300
 * /move_group/planner_configs/BiTRRTkConfigDefault/frountier_node_ratio: 0.1
 * /move_group/planner_configs/BiTRRTkConfigDefault/frountier_threshold: 0.0
 * /move_group/planner_configs/BiTRRTkConfigDefault/init_temperature: 100
 * /move_group/planner_configs/BiTRRTkConfigDefault/range: 0.0
 * /move_group/planner_configs/BiTRRTkConfigDefault/temp_change_factor: 0.1
 * /move_group/planner_configs/BiTRRTkConfigDefault/type: geometric::BiTRRT
 * /move_group/planner_configs/ESTkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/ESTkConfigDefault/range: 0.0
 * /move_group/planner_configs/ESTkConfigDefault/type: geometric::EST
 * /move_group/planner_configs/FMTkConfigDefault/cache_cc: 1
 * /move_group/planner_configs/FMTkConfigDefault/extended_fmt: 1
 * /move_group/planner_configs/FMTkConfigDefault/heuristics: 0
 * /move_group/planner_configs/FMTkConfigDefault/nearest_k: 1
 * /move_group/planner_configs/FMTkConfigDefault/num_samples: 1000
 * /move_group/planner_configs/FMTkConfigDefault/radius_multiplier: 1.1
 * /move_group/planner_configs/FMTkConfigDefault/type: geometric::FMT
 * /move_group/planner_configs/KPIECEkConfigDefault/border_fraction: 0.9
 * /move_group/planner_configs/KPIECEkConfigDefault/failed_expansion_score_factor: 0.5
 * /move_group/planner_configs/KPIECEkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/KPIECEkConfigDefault/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/KPIECEkConfigDefault/range: 0.0
 * /move_group/planner_configs/KPIECEkConfigDefault/type: geometric::KPIECE
 * /move_group/planner_configs/LBKPIECEkConfigDefault/border_fraction: 0.9
 * /move_group/planner_configs/LBKPIECEkConfigDefault/min_valid_path_fraction: 0.5
 * /move_group/planner_configs/LBKPIECEkConfigDefault/range: 0.0
 * /move_group/planner_configs/LBKPIECEkConfigDefault/type: geometric::LBKPIECE
 * /move_group/planner_configs/LBTRRTkConfigDefault/epsilon: 0.4
 * /move_group/planner_configs/LBTRRTkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/LBTRRTkConfigDefault/range: 0.0
 * /move_group/planner_configs/LBTRRTkConfigDefault/type: geometric::LBTRRT
 * /move_group/planner_configs/LazyPRMkConfigDefault/range: 0.0
 * /move_group/planner_configs/LazyPRMkConfigDefault/type: geometric::LazyPRM
 * /move_group/planner_configs/LazyPRMstarkConfigDefault/type: geometric::LazyPR...
 * /move_group/planner_configs/PDSTkConfigDefault/type: geometric::PDST
 * /move_group/planner_configs/PRMkConfigDefault/max_nearest_neighbors: 10
 * /move_group/planner_configs/PRMkConfigDefault/type: geometric::PRM
 * /move_group/planner_configs/PRMstarkConfigDefault/type: geometric::PRMstar
 * /move_group/planner_configs/ProjESTkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/ProjESTkConfigDefault/range: 0.0
 * /move_group/planner_configs/ProjESTkConfigDefault/type: geometric::ProjEST
 * /move_group/planner_configs/RRTConnectkConfigDefault/range: 0.0
 * /move_group/planner_configs/RRTConnectkConfigDefault/type: geometric::RRTCon...
 * /move_group/planner_configs/RRTkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/RRTkConfigDefault/range: 0.0
 * /move_group/planner_configs/RRTkConfigDefault/type: geometric::RRT
 * /move_group/planner_configs/RRTstarkConfigDefault/delay_collision_checking: 1
 * /move_group/planner_configs/RRTstarkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/RRTstarkConfigDefault/range: 0.0
 * /move_group/planner_configs/RRTstarkConfigDefault/type: geometric::RRTstar
 * /move_group/planner_configs/SBLkConfigDefault/range: 0.0
 * /move_group/planner_configs/SBLkConfigDefault/type: geometric::SBL
 * /move_group/planner_configs/SPARSkConfigDefault/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARSkConfigDefault/max_failures: 1000
 * /move_group/planner_configs/SPARSkConfigDefault/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARSkConfigDefault/stretch_factor: 3.0
 * /move_group/planner_configs/SPARSkConfigDefault/type: geometric::SPARS
 * /move_group/planner_configs/SPARStwokConfigDefault/dense_delta_fraction: 0.001
 * /move_group/planner_configs/SPARStwokConfigDefault/max_failures: 5000
 * /move_group/planner_configs/SPARStwokConfigDefault/sparse_delta_fraction: 0.25
 * /move_group/planner_configs/SPARStwokConfigDefault/stretch_factor: 3.0
 * /move_group/planner_configs/SPARStwokConfigDefault/type: geometric::SPARStwo
 * /move_group/planner_configs/STRIDEkConfigDefault/degree: 16
 * /move_group/planner_configs/STRIDEkConfigDefault/estimated_dimension: 0.0
 * /move_group/planner_configs/STRIDEkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/STRIDEkConfigDefault/max_degree: 18
 * /move_group/planner_configs/STRIDEkConfigDefault/max_pts_per_leaf: 6
 * /move_group/planner_configs/STRIDEkConfigDefault/min_degree: 12
 * /move_group/planner_configs/STRIDEkConfigDefault/min_valid_path_fraction: 0.2
 * /move_group/planner_configs/STRIDEkConfigDefault/range: 0.0
 * /move_group/planner_configs/STRIDEkConfigDefault/type: geometric::STRIDE
 * /move_group/planner_configs/STRIDEkConfigDefault/use_projected_distance: 0
 * /move_group/planner_configs/TRRTkConfigDefault/frountierNodeRatio: 0.1
 * /move_group/planner_configs/TRRTkConfigDefault/frountier_threshold: 0.0
 * /move_group/planner_configs/TRRTkConfigDefault/goal_bias: 0.05
 * /move_group/planner_configs/TRRTkConfigDefault/init_temperature: 10e-6
 * /move_group/planner_configs/TRRTkConfigDefault/k_constant: 0.0
 * /move_group/planner_configs/TRRTkConfigDefault/max_states_failed: 10
 * /move_group/planner_configs/TRRTkConfigDefault/min_temperature: 10e-10
 * /move_group/planner_configs/TRRTkConfigDefault/range: 0.0
 * /move_group/planner_configs/TRRTkConfigDefault/temp_change_factor: 2.0
 * /move_group/planner_configs/TRRTkConfigDefault/type: geometric::TRRT
 * /move_group/planning_plugin: ompl_interface/OM...
 * /move_group/planning_scene_monitor/publish_geometry_updates: True
 * /move_group/planning_scene_monitor/publish_planning_scene: True
 * /move_group/planning_scene_monitor/publish_state_updates: True
 * /move_group/planning_scene_monitor/publish_transforms_updates: True
 * /move_group/request_adapters: default_planner_r...
 * /move_group/start_state_max_bounds_error: 0.1
 * /move_group/trajectory_execution/allowed_execution_duration_scaling: 1.2
 * /move_group/trajectory_execution/allowed_goal_duration_margin: 0.5
 * /move_group/trajectory_execution/allowed_start_tolerance: 0.0
 * /rosdistro: kinetic
 * /rosversion: 1.12.14

NODES
  /
    move_group (moveit_ros_move_group/move_group)

ROS_MASTER_URI=http://localhost:11311

process[move_group-1]: started with pid [18489]
[ INFO] [1589996005.321918392]: Loading robot model 'niryo_one'...
[ INFO] [1589996005.322237317]: No root/virtual joint specified in SRDF. Assuming fixed joint
[ INFO] [1589996005.408291323]: Loading robot model 'niryo_one'...
[ INFO] [1589996005.408351174]: No root/virtual joint specified in SRDF. Assuming fixed joint
[ INFO] [1589996005.443916306]: Publishing maintained planning scene on 'monitored_planning_scene'
[ INFO] [1589996005.449350203]: MoveGroup debug mode is OFF
Starting context monitors...
[ INFO] [1589996005.449400328]: Starting scene monitor
[ INFO] [1589996005.452083891]: Listening to '/planning_scene'
[ INFO] [1589996005.452118591]: Starting world geometry monitor
[ INFO] [1589996005.457567263]: Listening to '/collision_object' using message notifier with target frame '/world '
[ INFO] [1589996005.462800466]: Listening to '/planning_scene_world' for planning scene world geometry
[ INFO] [1589996005.480379127]: Listening to '/attached_collision_object' for attached collision objects
Context monitors started.
[ INFO] [1589996005.517517609]: Initializing OMPL interface using ROS parameters
[ INFO] [1589996005.568375562]: Using planning interface 'OMPL'
[ INFO] [1589996005.575983214]: Param 'default_workspace_bounds' was not set. Using default value: 10
[ INFO] [1589996005.576946665]: Param 'start_state_max_bounds_error' was set to 0.1
[ INFO] [1589996005.577990649]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1589996005.579971010]: Param 'start_state_max_dt' was not set. Using default value: 0.5
[ INFO] [1589996005.580818467]: Param 'jiggle_fraction' was set to 0.05
[ INFO] [1589996005.581567594]: Param 'max_sampling_attempts' was not set. Using default value: 100
[ INFO] [1589996005.581636932]: Using planning request adapter 'Add Time Parameterization'
[ INFO] [1589996005.581656900]: Using planning request adapter 'Fix Workspace Bounds'
[ INFO] [1589996005.581676954]: Using planning request adapter 'Fix Start State Bounds'
[ INFO] [1589996005.581692404]: Using planning request adapter 'Fix Start State In Collision'
[ INFO] [1589996005.581706231]: Using planning request adapter 'Fix Start State Path Constraints'
[ WARN] [1589996010.613525447]: Waiting for niryo_one_follow_joint_trajectory_controller/follow_joint_trajectory to come up
[ WARN] [1589996016.613912242]: Waiting for niryo_one_follow_joint_trajectory_controller/follow_joint_trajectory to come up
[ERROR] [1589996022.614274258]: Action client not connected: niryo_one_follow_joint_trajectory_controller/follow_joint_trajectory
[ INFO] [1589996022.640037170]: Returned 0 controllers in list
[ INFO] [1589996022.736860625]: Trajectory execution is managing controllers
Loading 'move_group/ApplyPlanningSceneService'...
Loading 'move_group/ClearOctomapService'...
Loading 'move_group/MoveGroupCartesianPathService'...
Loading 'move_group/MoveGroupExecuteTrajectoryAction'...
Loading 'move_group/MoveGroupGetPlanningSceneService'...
Loading 'move_group/MoveGroupKinematicsService'...
Loading 'move_group/MoveGroupMoveAction'...
Loading 'move_group/MoveGroupPickPlaceAction'...
Loading 'move_group/MoveGroupPlanService'...
Loading 'move_group/MoveGroupQueryPlannersService'...
Loading 'move_group/MoveGroupStateValidationService'...
[ INFO] [1589996022.888848534]: 

********************************************************
* MoveGroup using: 
*     - ApplyPlanningSceneService
*     - ClearOctomapService
*     - CartesianPathService
*     - ExecuteTrajectoryAction
*     - GetPlanningSceneService
*     - KinematicsService
*     - MoveAction
*     - PickPlaceAction
*     - MotionPlanService
*     - QueryPlannersService
*     - StateValidationService
********************************************************

[ INFO] [1589996022.888967768]: MoveGroup context using planning plugin ompl_interface/OMPLPlanner
[ INFO] [1589996022.889014330]: MoveGroup context initialization complete

You can start planning now!

and if I use rviz to plan and execute a path, it goes
[ INFO] [1589997953.067821142]: Combined planning and execution request received for MoveGroup action. Forwarding to planning and execution pipeline.
[ INFO] [1589997953.068178694]: Planning attempt 1 of at most 1
[ INFO] [1589997953.071543122]: Planner configuration 'arm' will use planner 'geometric::RRTConnect'. Additional configuration parameters will be set when the planner is constructed.
[ INFO] [1589997953.076859893]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.078554328]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.080897319]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.081078719]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.090740655]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.091549295]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.093111414]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.093600748]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.093752572]: ParallelPlan::solve(): Solution found by one or more threads in 0.018077 seconds
[ INFO] [1589997953.093985852]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.094141549]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.094569131]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.094885694]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.095070451]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.095910082]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.096444992]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.096574833]: RRTConnect: Created 4 states (2 start + 2 goal)
[ INFO] [1589997953.096805386]: ParallelPlan::solve(): Solution found by one or more threads in 0.002878 seconds
[ INFO] [1589997953.096964771]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.097087792]: RRTConnect: Starting planning with 1 states already in datastructure
[ INFO] [1589997953.097736723]: RRTConnect: Created 5 states (2 start + 3 goal)
[ INFO] [1589997953.098799702]: RRTConnect: Created 5 states (2 start + 3 goal)
[ INFO] [1589997953.099192990]: ParallelPlan::solve(): Solution found by one or more threads in 0.002267 seconds
[ INFO] [1589997953.110067337]: SimpleSetup: Path simplification took 0.010650 seconds and changed from 3 to 2 states
[ INFO] [1589997953.111295870]: Returned 0 controllers in list
[ERROR] [1589997953.111384429]: Unable to identify any set of controllers that can actuate the specified joints: [ joint_1 joint_2 joint_3 joint_4 joint_5 joint_6 ]
[ERROR] [1589997953.111407559]: Known controllers and their joints:

[ERROR] [1589997953.111446983]: Apparently trajectory initialization failed

Originally posted by yiying on ROS Answers with karma: 46 on 2020-05-20
Post score: 0

A:

Turns out what I considered a small problem is the problem and the fix is to add
192.168.2.31    matebook-x in /etc/hosts on Pi and 192.168.2.36    niryo-desktop in /etc/hosts on my laptop.
The appended line: IP address and hostname for the other computer.

Originally posted by yiying with karma: 46 on 2020-05-20
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to read ros2 bag file in a node

Hi,
I was wondering is there a better method to read ros2 bag files inside the ros2 node, I just want to send a command to run the bag files.
The only source I found is this but this requires me to include this package in my workspace, which I am trying to avoid it or might be I am not importing that library properly. I assume there might be a better solution that can help me to do this.
Thanks in advance

Originally posted by Flash on ROS Answers with karma: 126 on 2022-06-28
Post score: 1

A:

Hi,
Just in case anyone wondering how to solve this there is one non-ROS method. I used the subprocess package from python to do that.
import subprocess
process = subprocess.Popen(['/bin/sh', '-c', 'ros2 bag play '+bag_file_path+'/'])
process.communicate()
process.terminate()

this way I send a command to the terminal which will run a bag file and on another end my ROS topic will read it.
This is not the best way I assume but it's the least coding way I was able to do it. But still, if anyone has a better solution or ROS solution please let me know.
Just to give a background about the problem I am running the test node which subscribes to topics and then does some testing on that data. For that, I need the sensor data that I can either read from hardware or from the bag file.

Originally posted by Flash with karma: 126 on 2022-07-21
This answer was ACCEPTED on the original site
Post score: 0


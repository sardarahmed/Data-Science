Q:

Multiple Goal Buttons in RVIZ?

Hi everyone,
I have to control more than one robot at a time. The robots are administered by a central ROS server and can be displayed and controlled using ROS RVIZ at the same time.
Every robot runs in a distinct name space such that same topics (like 'move_base/simple_goal') of different robots do not collide.
I was now looking for multiple navigation goal buttons in the tool panel of RVIZ, one for each robot. Currently I have to change the goal topic of the tool each time I intend to give the next robot a moving command. That is not very sophisticated and annoying.
Is there a simple way to have multiple buttons on the toolbar with the same functionality?
So far I found nothing that would help.
PS: I am not interested in running ROS cores on each robot and/or opening different instances of RVIZ, just in case someone is about to suggest anything like this ;)
Really appreciate any help and
thanks in advance.
J.Buesch

Originally posted by JBuesch on ROS Answers with karma: 237 on 2012-04-10
Post score: 6

A:

You have to hack rviz source and recompile it. Do as follows:
roscd rviz
cd src/rviz

Edit the file visualization_manager.cpp and go to line 215. You will see there:
createTool< InteractionTool >("Interact", "i" );
...
createTool< GoalTool >("2D Nav Goal", "g");
...

Copy the GoalTool line as many times as you need. Syntax:
createTool< TypeOfTheTool >("Label on the button", "shortcut_key");

Save and rosmake rviz. (If you've got precompiled packages remember to delete ROS_NOBUILD before rosmake.)
Now you free to add lines in rviz configuration files .vcg for each tool:
Tool\ Label\ on\ the\ buttonTopic=/robot_n/move_base_simple/goal

Have fun.

Originally posted by Jakub with karma: 1821 on 2012-07-30
This answer was ACCEPTED on the original site
Post score: 6

Original comments
Comment by JBuesch on 2012-08-03:
Would it really be that simple? :) Thanks for the accurate hints!
Comment by Brioche on 2012-10-01:
I was curious: is it possible to add another kind of button or shortcut key? example to stop refreshing the point cloud stream. Something close to RGBDSlam actually, but I want to show also the urdf model of my robot.
Comment by Jakub on 2012-10-01:
For new tools more hacking is required. You have to check out the source code of already existing tools in rviz/src/rviz/tools. All new tools must derive from Tool class (tools.h, tools.cpp). Once done, the above solution would be valid for new tools.


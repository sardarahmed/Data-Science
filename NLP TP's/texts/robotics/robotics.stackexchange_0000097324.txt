Q:

Kinetic prerelease KeyError: "The cache has no package named 'ros-kinetic-dynamic-reconfigure'"

Hi!
I am in the process of releasing a new version (2.0.4) of the package http://wiki.ros.org/toposens.
While for melodic everything went through smoothly, I am running into issues when trying to release for kinetic.
The following error occurs during running prerelease.sh on my local machine (obtained from http://prerelease.ros.org/kinetic).
Same can be found (with the complete console log) in the kinetic Jenkins Job devel ubuntu xenial amd64: http://build.ros.org/view/Kdev/job/Kdev__toposens__ubuntu_xenial_amd64/37/console
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/apt/cache.py", line 259, in __getitem__
    return self._weakref[key]
  File "/usr/lib/python3.5/weakref.py", line 131, in __getitem__
    o = self.data[key]()
KeyError: 'ros-kinetic-dynamic-reconfigure'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/apt/cache.py", line 263, in __getitem__
    rawpkg = self._cache[key]
KeyError: 'ros-kinetic-dynamic-reconfigure'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/tmp/ros_buildfarm/scripts/devel/create_devel_task_generator.py", line 287, in <module>
    main()
  File "/tmp/ros_buildfarm/scripts/devel/create_devel_task_generator.py", line 138, in main
    get_binary_package_versions(apt_cache, debian_pkg_names))
  File "/tmp/ros_buildfarm/ros_buildfarm/common.py", line 144, in get_binary_package_versions
    pkg = apt_cache[debian_pkg_name]
  File "/usr/lib/python3/dist-packages/apt/cache.py", line 265, in __getitem__
    raise KeyError('The cache has no package named %r' % key)
KeyError: "The cache has no package named 'ros-kinetic-dynamic-reconfigure'"

The changes are only minor compared to the previously released version (2.0.3), where a few months back the job succeeded.
If I run prerelease.sh locally for the previous release (2.0.3), however, I now receive the same KeyError.
This leads me to the question, if there might be something off in the package repo?
Or could it be caused by anything on our side?
Maybe anyone has had similar problems?
Any ideas greatly appreciated,
Thanks!

Originally posted by toebgen on ROS Answers with karma: 35 on 2020-10-16
Post score: 1

A:

Edit: as @tfoote mentions, a new version of Catkin was released recently, which, as it is a dependency of just about every ROS package, causes large amounts of packages to be rebuilt by the buildfarm.
Because of that, dependants can be found to be missing from the staging area, leading to your build failing.
This is transient, so you could either:

wait until things have settled and try again
assume everything will be fine and "just" do the release

which one you feel more comfortable with is something only you know.

I'm pretty sure this is a transient error.
As you can see at status_page/ros_kinetic_default.html?q=dynamic_reconfigure, dynamic_reconfigure is currently missing (ie: not building) for Kinetic amd64 (and i386 actually).
I haven't checked why, but this will either be resolved by a new build or someone will need to look into it (the maintainers or buildfarm managers).
Your build depends on dynamic_reconfigure, but the package is not there, hence the error.

Originally posted by gvdhoorn with karma: 86574 on 2020-10-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2020-10-16:
Perhaps @tfoote, as the Kinetic ROS boss, knows more.
Comment by tfoote on 2020-10-16:
A new version of catkin was just released for several distros so the buildfarm is building like crazy and will be rebuilding effectively everything right now. Unfortunately Kinetic is the lowest priority rebuild so it will be back last.
Comment by toebgen on 2020-10-16:
Thank you so much for your super quick feedback! @gvdhoorn @tfoote


Q:

Can rosbag record only some fields from a topic?

I'm trying to do so, but when I try to play back, rosbag shows this error:
[FATAL] [1338427215.385261009]: Time is out of dual 32-bit range

This happens regardless how long I record data. When recording the whole topic all goes fine.
I have tried to record both the desired fields and the topic time stamp, but I get the same error.
Many thanks.

Originally posted by jorge on ROS Answers with karma: 2284 on 2012-05-30
Post score: 0

Original comments
Comment by Martin Günther on 2012-05-30:
Can you show the parameters you used for rosbag?
Comment by jorge on 2012-05-31:
nothing special; just "rosbag record /"

A:

Rosbag can only record full topics, not only some fields from a topic. However, if for some reason you want to omit some fields from a recorded bag file, you can use rosbag's Code API, which is pretty amazing. It should take less than 10 lines of code to filter a "full" bag file, drop some fields, and write the result a second (reduced) bag file.

when I try to play back, rosbag shows this error:
[FATAL] [1338427215.385261009]: Time is out of dual 32-bit range

Yes, that error message is not very intuitive. :-)
What's happening is this: When you do, say:
rosbag record /scan/ranges

... rosbag thinks that you want to record the topic /scan/ranges, but that doesn't exist ("ranges" is a field of topic "scan"). That means that your resulting rosbag will be empty, and that is what the error message really means. It's misleading though, and I filed a bug report here.

Originally posted by Martin Günther with karma: 11816 on 2012-06-01
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by jorge on 2012-06-10:
Thank you a lot, that makes all clear now. What I did is to record the whole bag and the filter the fields I need with rostopic.


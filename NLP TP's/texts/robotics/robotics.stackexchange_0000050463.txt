Q:

{PKG_NAME}_generate_messages_cpp vs {PKG_NAME}_gencpp

Hi there, using catkin in groovy I have seen two ways to specify dependencies to build msgs and srvs:
add_dependencies(my_bin {PKG_NAME}_generate_messages_cpp)

and
add_dependencies(my_bin {PKG_NAME}_gencpp)

Which one is correct?
None of them though seem to build services that my_bin depends on.
D.

Originally posted by dejanpan on ROS Answers with karma: 1420 on 2013-04-17
Post score: 8

A:

Both of those lines are correct for now, but the latter will be deprecated.
The _gencpp is the old style, the _generate_messages_cpp target is the new name (more descriptive).
These targets are created by the generate_messages(DEPENDENCIES ...) CMake macro call. Calling add_dependencies(my_bin ${PKG_NAME}_generate_messages_cpp) just tells CMake that the ${PKG_NAME}_generate_messages_cpp target should be built before the my_bin target. It does not instruct CMake to generate your messages. So, if you are expecting this line to cause your services to be built, then that's incorrect.
See the ROS tutorials about how to get services generated:
http://www.ros.org/wiki/ROS/Tutorials/CreatingMsgAndSrv#Using_srv

Originally posted by William with karma: 17335 on 2013-04-18
This answer was ACCEPTED on the original site
Post score: 7

Original comments
Comment by dejanpan on 2013-04-19:
William, the services that needed to be build are in the pkg PKG_NAME I depend on with the above code. And if I understand you correctly then it should be all fine.
Comment by William on 2013-04-19:
That should ensure that those services are generated before your code is built.
Comment by gvdhoorn on 2013-12-03:
As an extra bit of detail for the answer by @William, see https://github.com/ros/catkin/issues/547#issuecomment-29740592 by Dirk Thomas.
Comment by alextoind on 2015-04-15:
What could be the problem if the only one which works to me is _gencpp? With _generate_message_cpp it does not generate message and action files which I have included correctly...
Comment by William on 2015-04-15:
I think my post has a typo, it should be _generate_messages_cpp.
Comment by alextoind on 2015-04-15:
thanks! It's ok now. (I've copied the wrong one without noticing the typo)


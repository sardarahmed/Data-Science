Q:

[ROS2] How to extract header from a ROS2 message?

Is there an example for it? Thanks!

Originally posted by ahtsan on ROS Answers with karma: 112 on 2019-07-26
Post score: 2

A:

The message_filters package contains a C++ type trait to determine if a message type has a header field: see https://github.com/ros2/message_filters/blob/a18a34a2242e6d44dd6c66e4cb2679d0fe07a40b/include/message_filters/message_traits.h#L43-L49

Originally posted by Dirk Thomas with karma: 16276 on 2019-07-29
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by ahtsan on 2019-07-29:
Thanks for the pointer! Is there an example on how to use it?
Comment by Dirk Thomas on 2019-07-29:
As any type trait you can use it with std::enable_if. It is used twice in the same file below.
Comment by ahtsan on 2019-07-29:
Do you mind giving a small code snippet on how to check if a message has header and get the header timestamp from the message if it has one?
Comment by ahtsan on 2019-07-29:
For others who are looking for the answer, you can do
auto header_timestamp = message_filters::message_traits::TimeStamp<T>::value(*msg);
and you get a rclcpp::Time object.


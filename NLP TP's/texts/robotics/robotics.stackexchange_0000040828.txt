Q:

Need help with roslaunch openhrp3 falling-box.launch?

When I execute: roslaunch openhrp3 falling-box.launch   ----Eclipse is invoked and I see the IDE but the start button(s) is disabled. When I use menu GrxUI->Start Simulation, the Graph tab shows 3 windows that seem to be working. The 3D view tab does not have any falling boxes in it. The 3D view tab is blank. What should I do?             Also, when I click on the falling-boxes.launch link on the   http://code.google.com/p/rtm-ros-robotics/wiki/ROS_English   page, I get:
Google

That’s an error.

The requested URL /p/rtm-ros-robotics/source/browse/tags/latest/rtmros_common/openhrp3/launch/faling-boxes.launch was not found on this server. That’s all we know.
Also, here is the transcript of the terminal messages:
sam@Mecha:~$ roslaunch openhrp3 falling-box.launch
... logging to /home/sam/.ros/log/2faa415a-a6ec-11e1-a8e5-406186e58fd3/roslaunch-Mecha-22078.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
started roslaunch server http://Mecha:53041/
SUMMARY
PARAMETERS

/rosversion
/rosdistro

NODES
/
rtm_naming (openrtm/rtm-naming-restart)
hrpsys_kill_all (openhrp3/openhrp-shutdown-servers)
grxui (openhrp3/grxui.sh)
WARNING: unrecognized tag sphinxdoc
ROS_MASTER_URI=http://localhost:11311
core service [/rosout] found
process[rtm_naming-1]: started with pid [22096]
process[hrpsys_kill_all-2]: started with pid [22098]
/home/sam/prog/rtm-ros-robotics/rtm-ros-robotics/rtmros_common/openrtm/scripts/rtm-naming-restart: line 53: 21875 Killed                  $cosnames -start $port -logdir $currdir
openhrp-aist-dynamics-simulator: no process found
openhrp-collision-detector: no process found
openhrp-model-loader: no process found
openhrp-controller-bridge: no process found
openhrp-path-planner: no process found
(Not all processes could be identified, non-owned process info
will not be shown, you would have to be root to see it all.)
[hrpsys_kill_all-2] process has finished cleanly.
log file: /home/sam/.ros/log/2faa415a-a6ec-11e1-a8e5-406186e58fd3/hrpsys_kill_all-2*.log
Fri May 25 22:37:53 2012:
Starting omniNames for the first time.
Wrote initial log file.
Read log file successfully.
Root context is IOR:010000002b00000049444c3a6f6d672e6f72672f436f734e616d696e672f4e616d696e67436f6e746578744578743a312e300000010000000000000070000000010102000d0000003139322e3136382e302e31320000f90a0b0000004e616d6553657276696365000300000000000000080000000100000000545441010000001c000000010000000100010001000000010001050901010001000000090101000354544108000000215ec04f01005665
Checkpointing Phase 1: Prepare.
Checkpointing Phase 2: Commit.
Checkpointing completed.
process[grxui-3]: started with pid [22119]
Fri May 25 22:52:53 2012:
Checkpointing Phase 1: Prepare.
Checkpointing Phase 2: Commit.
Checkpointing completed.
ALSO, there are 2 archives at /build/ that I am not installing since the instructions don't say to install them. The 2 archives are: rtmtools100release_en.zip and j3d-1_5_2-linux-amd64.zip  ( I have a 64 bit linux )  Should I install those two archives?

Originally posted by TurtleBot_Fan on ROS Answers with karma: 287 on 2012-05-25
Post score: 1

A:

Solution for: simulation of Falling Boxes not rendering
The debugging process:
1- Ensured that manual installation of eclipse software was done
1.1 see http://code.google.com/p/rtm-ros-robotics/wiki/ROS_English#Setup_Eclipse
1.2 Also check trouble shooting list. See http://code.google.com/p/rtm-ros-robotics
/wiki/ROS_English#Troubleshooting
1.3 When installing GEF SDK 3.6.2 these errors ok
sam@Mecha:~/prog/rtm-ros-robotics/rtm-ros-robotics/rtmros_common/openhrp3$
rosrun openhrp3 eclipse.sh I: Injected update sites
   * (Eclipse:3261): CRITICAL *: murrine_style_draw_box: assertion `height >= -1' 
   failed
   * (Eclipse:3261): CRITICAL *: murrine_style_draw_box: assertion `height >= -1'
   failed
   * (Eclipse:3261): CRITICAL *: murrine_style_draw_box: assertion `height >= -1'
   failed
   * (Eclipse:3261): CRITICAL *: murrine_style_draw_box: assertion `height >= -1'
   failed
   * (Eclipse:3261): CRITICAL *: murrine_style_draw_box: assertion `height >= -1' 
   failed
   * (Eclipse:3261): CRITICAL *: murrine_style_draw_box: assertion `height >= -1'
   failed

1.4 Did the following command
sam@Mecha:~$ roscd rtmros_common; svn up
  U hrpsys/launch/hrp4c.launch U hrpsys/Makefile.hrpsys-base Conflict discovered 
  in 'hrpsys/index.rst'. Select: (p) postpone, (df) diff-full, (e) edit, (mc)  
  mine-conflict, (tc) theirs-conflict, (s) show all options: 
  (Select the tc option.) 

2- Ran sam@Mecha:~$ glxgears
Error: couldn't get an RGB, Double-buffered visual If you meant to select a
glxgears project .xml file, I didn't see one available
(now we know something is wrong with the display driver)
3- Used System->Preferences->Screensaver->GLMatrix to verify that GLMatrix would not
render
4- Ran:
sudo apt-get install --reinstall l freeglut3-dev build-essential libx11-dev
libxmu-dev libxi-dev libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev (to ensure the
mesa software was installed properly)
Ran: sam@Mecha:~$ glxgears
Error: couldn't get an RGB, Double-buffered visual
Also ran: sam@Mecha:~$ glxinfo | grep '^direct rendering:'
Error: couldn't find RGB GLX visual or fbconfig
(problem is not mesa software)
5- Ran:
export LIBGL_ALWAYS_INDIRECT=1
then glxgears WORKS! but the simulation still does not work and GLMatrix
screensaver still doesn't work. Newer versions of the GLX library favor direct
software rendering over accelerated indirect rendering
6- To see who the libGL files I ran:
sam@Mecha:~$ ls -al /usr/lib/libGL*
-rw-r--r-- 1 root root  487480 2010-01-17 00:07 /usr/lib/libGLEW.a
lrwxrwxrwx 1 root root      16 2012-05-23 17:03 /usr/lib/libGLEW.so ->libGLEW.so.1.5.2
lrwxrwxrwx 1 root root      16 2012-05-23 17:03 /usr/lib/libGLEW.so.1.5 ->libGLEW.so.1.5.2
-rw-r--r-- 1 root root  358456 2010-01-17 00:07 /usr/lib/libGLEW.so.1.5.2
-rw-r--r-- 1 root root     654 2011-07-29 03:02 /usr/lib/libGL.la
lrwxrwxrwx 1 root root      13 2012-05-26 10:23 /usr/lib/libGL.so -> mesa/libGL.so
lrwxrwxrwx 1 root root      15 2011-07-29 03:02 /usr/lib/libGL.so.1 ->libGL.so.275.21
-rwxr-xr-x 1 root root 1023120 2011-07-29 03:02 /usr/lib/libGL.so.275.21
-rw-r--r-- 1 root root  929838 2010-04-28 23:54 /usr/lib/libGLU.a
lrwxrwxrwx 1 root root      11 2012-05-26 10:23 /usr/lib/libGLU.so -> libGLU.so.1
lrwxrwxrwx 1 root root      20 2012-05-26 01:55 /usr/lib/libGLU.so.1 ->libGLU.so.1.3.070701
-rw-r--r-- 1 root root  461488 2010-04-28 23:54 /usr/lib/libGLU.so.1.3.070701
When the files were displayed only two were displayed in light green font:
/usr/lib/libGL.so.1 -> libGL.so.275.21  (this one is a symbolic link)
/usr/lib/libGL.so.275.21
These files have the version number of a proprietary installation of an NVidia
display driver
7- I ran :
sam@Mecha:~$ dpkg -S libGL.so.275.21  (finds owner of package)
The result stated that the package did not exist. So now we know the Nvidia
installation is invalid, so we can ignore it and proceed to install the NVidia
binary X.Org driver (version 185) display driver available in the Ubuntu Software
Center.
8- Ran:
glxgears...and it worked.
GLMatrix screensaver... and it worked
OpenHRP Falling Boxes simulation....and it worked
They all worked, but were running slowly.
9- To see if OpenGL is using direct rendering or indirect rendering I ran:
sam@Mecha:~$ glxinfo | grep -i render
direct rendering: No (If you want to find out why, try setting LIBGL_DEBUG=verbose)
OpenGL renderer string: GeForce GTS 450/PCI/SSE2
So, now we know we are using indirect rendering instead of direct rendering.
If the OpenGL renderer string says "software" in it, then their drivers are not installed properly, even if direct rendering shows "Yes". Direct rendering is better because the rendering is faster.
10- Rebooted the computer.....and then ran:
sam@Mecha:~$ glxinfo | grep -i render
direct rendering: Yes
OpenGL renderer string: unknown board/PCI/SSE2
GL_KTX_buffer_region, GL_NV_blend_square, GL_NV_conditional_render,
GL_NVX_conditional_render, GL_NVX_gpu_memory_info,
11- Everything then worked properly and all was solved.

Originally posted by TurtleBot_Fan with karma: 287 on 2012-05-29
This answer was ACCEPTED on the original site
Post score: 2


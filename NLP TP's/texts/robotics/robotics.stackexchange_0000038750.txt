Q:

rosbag record pointcloud2 and tf data best practice?

What is the best way to record pointcloud2 data? I tried rosbag record but the bag file becomes too large(2G) only for about 30 seconds. I tried -j to compress, but it cannot work with infinite buffer size(-b 0).
I tried:
rosbag record -b 0 -O test.bag /tf /camera/rgb/points
and
rosbag record -b 0 -O test.bag -j /tf /camera/rgb/points
But both will exhaust all physical memory and throw a std::bad_alloc() exception then quit, so I have to limit the record to at most 80 seconds.
Any option to drop down the frame rate or compress the pointcloud2 data into binary compressed .pcd files, but still maintain corresponding /tf data?

Originally posted by K Chen on ROS Answers with karma: 391 on 2012-03-16
Post score: 0

A:

If you don't need all of this data, you can use the topic tools to drop or throttle messages, or the rostopic --filter to get rid of some messages.

Originally posted by martimorta with karma: 843 on 2012-03-16
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by K Chen on 2012-03-16:
Thanks! That's what I am looking for.


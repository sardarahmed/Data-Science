Q:

pcl_ros / tf : how to use latest transform instead of waiting?

When calling "pcl_ros::transformPointCloud" I get the error:
[ERROR] [1480244411.676958769, 1224.030000000]: Lookup would require extrapolation into the future.  Requested time 1224.022000000 but the latest data is at time 1224.021000000, when looking up transform from frame [base_laser_link] to frame [odom]

I know this could be solved by calling "waitForTransform", but in this specific case speed is more important than precision.
So I would like to use the latest available transform, even if a little off, rather than wait for the more suitable one.
I.e. in the example above it would use the tf at 1225.021.
Any way to do this ?

Originally posted by vincent78 on ROS Answers with karma: 3 on 2016-11-27
Post score: 0

Original comments
Comment by gvdhoorn on 2016-11-27:
May I suggest a title fix? Your question is really about how to transform a PointCloud using the latest transform available. That uses TF, but is specific to pcl_ros. Would be good to mention that in the question itself.

A:

Use ros::Time(0) instead of the actual timestamp. In pcl_ros, that is probably possible with the pcl_ros::transformPointCloud(.., const ros::Time &target_time, ..) overload.
See also the Learning about tf and time (C++) tutorial and the TF docs for lookupTransform() (here in tf2_ros::BufferInterface fi).

Originally posted by gvdhoorn with karma: 86574 on 2016-11-27
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by tfoote on 2016-11-27:
This is the answer to your question. However I would suggest that you review your assumption that waiting the approximately 1 millisecond for the correct data to come in is worse than using incorrect data. And to do approximation correctly there are a lot more corner cases that need to be handled.


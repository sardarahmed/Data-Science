Q:

rosbag pause Marker disappears

Hello,
We have a node that publishes a set of markers. Those markers are part of sensor detections. So they can appear or disappear while the node is running, which is normal.
Now after doing a recording, we would like to pause the bag. When rosbag is on pause, all markers disappear. Programmatically all markers have a lifetime, such that they can be automatically removed. Is this the reason why markers also removed while on pause?
If yes, how is the right approach to solve this issue? Do I need to remove markers manually and not rely on lifetime?
Thanks!

Originally posted by tanasis on ROS Answers with karma: 97 on 2017-11-08
Post score: 1

A:

Programmatically all markers have a lifetime, such that they can be automatically removed. Is this the reason why markers also removed while on pause?

yes, most likely. rosbag is no magic, it essentially just replays message traffic it has recorded. (Interactive) Markers are also just messages, so if those messages are played back by rosbag and they contain a lifetime setting other than ros::Duration() they will disappear.

If yes, how is the right approach to solve this issue? Do I need to remove markers manually and not rely on lifetime?

Well. Technically if you pause rosbag play I would expect time to also 'freeze', so perhaps markers with a timeout should not disappear. But that will depend on whether you are asking rosbag to also publish the clock.
If they still disappear with --clock after you've paused playback, that would perhaps be a bug and should be reported.

Originally posted by gvdhoorn with karma: 86574 on 2017-11-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by barney@work on 2020-10-13:
Setting rosparam set /use_sim_time true sets the use_sim_time parameter worked for me
The links are as given below

http://wiki.ros.org/Clock
http://wiki.ros.org/rosparam#rosparam_set


Q:

Running ROS as a root user

Hi All,
Some of my ROS nodes need to be run as a root user. I can do this by "sudo su" under Ubuntu and "source" setup.bash. My programs seem to be running correctly. An annoying issue is that, when I try to use "tab completion" to complete the package name in the terminal (e.g., rosrun package_name executable_name), I got some warnings as follows:
[rospack] WARNING: cannot create rospack cache directory: Permission denied
[rospack] WARNING: cannot create rospack cache directory: Permission denied
[rospack] Unable to create temporary cache file /root/.ros/.rospack_cache.bGXJPX: Permission denied

I have done this: chmod -R a+rwx /root/.ros/, but above warnings still come out.
Any suggestion for solving this problem is appreciated.

Originally posted by HZ on ROS Answers with karma: 76 on 2011-09-23
Post score: 0

Original comments
Comment by rado0x54 on 2011-09-28:
As joq said already, I cannot think of any circumstance where root permissions are the absolute solution. Tell us why you "need to run as root" and we can probably help you figure it out.
Comment by joq on 2011-09-24:
If possible, a better solution would be to figure out how to set permissions so ROS nodes need not run as root.

A:

You could add the ROS_PACKAGE_PATH to the root user's .bashrc. In Ubuntu, this is taboo, but in systems where you act as the root user often, it could be helpful.

Originally posted by DimitriProsser with karma: 11163 on 2011-09-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by demmeln on 2011-11-26:
Setting ROS_HOME to my usual users .ros helped somewhat, however now rospack still complains about directories it cant read. Something in rospack or the tab completion stuff is run with non-root privileges, even though i start it from root. It does not really make sense to me.
Comment by DimitriProsser on 2011-11-21:
Did you add your ROS_PACKAGE_PATH to the root user's .bashrc? Additionally, you can set your ROS_HOME variable to point to your username's directories. I have my root user's ROS_HOME set to /home/me/.ros instead of /home/root/.ros
Comment by demmeln on 2011-11-20:
I don't understand how this answers the question? I'm having the same problem and not having tab completion is very annoying. Please don't tell me I should not run as root, I'm perfectly aware of what I'm doing.
Comment by tfoote on 2011-11-16:
As @joq commented above it's recommended not to run as root in general and to provide specific processes access to resources if necessary.


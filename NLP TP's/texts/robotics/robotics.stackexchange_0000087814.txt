Q:

ROS time synchronization in isolated local network

Hello everyone,
My robot consists of three processing units (master, slave1, slave2) connected via an ethernet switch. They form an isolated network so there is no internet connection. For time synchronization i simply used to do ' ' in the .bashrc of the slaves in order to get the time of the master which seemed to be working.
After further testing I noticed that this is not good enough for time synchronization. I read through http://wiki.ros.org/ROS/NetworkSetup and also followed the link for isolated networks at the bottom but don't really understand how to actually do this.
How can I time-synchronize the machines in my local isolated network? Any help would be appreciated. If you need any additional information please let me know!
Greetings

Originally posted by sparkas on ROS Answers with karma: 3 on 2018-07-08
Post score: 0

A:

Hi,
I suggest you use chrony for your setup.

Chrony can synchronise the system clock with NTP servers. [...] Typical accuracy between two machines synchronised over the Internet is within a few milliseconds; on a LAN, accuracy is typically in tens of microseconds. With hardware timestamping, or a hardware reference clock, sub-microsecond accuracy may be possible.

You can setup your "master" machine to be the NTP server, which can be used as a time source. Then the two slaves use your "master" device clock to synchronise their clocks. With this configuration you don't need internet, since the two salves use the master device as clock reference. You will have to play a bit with the configuration file of each machine, but it should be quite straightforward.
I work with a similar setup (3 PCs connected via switch) and the solution with chrony works very well.
Regards,
Marco.

Originally posted by Femer with karma: 253 on 2018-07-08
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by sparkas on 2018-07-09:
I updated my original post
Comment by Femer on 2018-07-09:
I see only the original question ...
Comment by sparkas on 2018-07-09:
Yeah I edited the post twice but somehow it won't get saved. Anyway I was able to fix it with you suggestions . Thank you!
Comment by Femer on 2018-07-10:
ok, good to know. Please mark the answer as correct if it solved your problem. Moreover it'd nice if you could share the settings you used on master and slaves, so other users can benefit from them (especially since you deleted the other post).


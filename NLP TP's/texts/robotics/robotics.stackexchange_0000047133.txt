Q:

amcl no laser data received

Hi All,
We were trying to run the amcl module of ROS Fuerte on Ubuntu 12.04. We have connected the Hokuyo laser range finder sensor and started running hokuyo node. We have also created the map and tf publishers. After starting these required nodes we have executed the following command:
rosrun amcl amcl

The node starts to run and it just gives a warning about not being able to use Hokuyo for multirobot configurations which we also don't need. After this warning we constantly receive (every 15 seconds, a callback is established in the source code) a warning about not receiving laser data so no pose update can be done. It is very strange because we can visualize the laser scan data using rviz and also rxgraph shows that amcl is subscribed to /scan topic. I have googled about this issue but couldn't find any answers. Any help will be greatly appreciated.

Originally posted by hkaraoguz on ROS Answers with karma: 23 on 2013-01-10
Post score: 1

Original comments
Comment by Martin Peris on 2013-01-10:
are you subscribing to the topic /scan when visualizing the data in rviz? Maybe amcl is subscribing to /scan, but you are publishing the scan data on another topic
Comment by hkaraoguz on 2013-01-15:
After your comment, using instructions from the navigation tutorials http://www.ros.org/wiki/navigation/Tutorials/RobotSetup/Sensors I built a node that publishes artificial scans but it still complains about laser data. Is it related to robot movement? because we dont move the robot right now

A:

I would guess that there's a problem in your tf tree.  The laser callback in amcl is at the end of a tf message filter that will fire when the incoming scan can be successfully transformed into the odom frame.  It would seem that that condition is never satisfied.
I suspect that if you try to visualize the laser data in rviz in whatever frame you've specified as the odom_frame for amcl, you won't see any data there, either.
The solution depends on what exactly is wrong in your tf tree.  Try visualizing transforms in rviz.

Originally posted by Brian Gerkey with karma: 2916 on 2013-01-18
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by hkaraoguz on 2013-01-21:
Thank you so much for your answer. As you have said we have rechecked the transform tree and solved the problem. I have just one question. Is base_footprint and base_link are the same?. Thanks again
Comment by Astronaut on 2013-03-24:
Hello. I have the same problem as u. How did you solve it??
Comment by hkaraoguz on 2013-03-31:
Hi, We have written a tf publisher that transforms laser coordinates to base_link coordinates but the frame id of the laser was wrong so we have corrected it. And then we have also added a static publisher that publishes base_link to base_footprint. Basically it is just a 0 0 0 0 0 0 transformation.


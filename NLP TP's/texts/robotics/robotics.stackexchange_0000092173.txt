Q:

Moveit error with multiple group(robot)

Hello,
I want to use two robot group in a moveit configuration and I follow this repo to setup.
But when I launch it, I got some errors below:
1st part:
[ERROR] [1561381793.673494508]: Client [/motion_streaming_interface] wants topic /joint_path_command to have datatype/md5sum [motoman_msgs/DynamicJointTrajectory/81bfbf2d02070fdef3a528bd72b49257], but our version has [trajectory_msgs/JointTrajectory/65b4f94a94d1ed67169da35a02f33d3f]. Dropping connection.

2nd part:
[ INFO] [1561381797.737253621]: Starting scene monitor
[ INFO] [1561381797.741169725]: Listening to '/move_group/monitored_planning_scene'
[ INFO] [1561381797.742239299]: waitForService: Service [/get_planning_scene] has not been advertised, waiting...
[ WARN] [1561381799.094229861]: Waiting for mh5/r1/joint_trajectory_action to come up
[ INFO] [1561381802.758199851]: Failed to call service get_planning_scene, have you launched move_group? at /tmp/binarydeb/ros-kinetic-moveit-ros-planning-0.9.15/planning_scene_monitor/src/planning_scene_monitor.cpp:498
[ INFO] [1561381803.239068841]: Constructing new MoveGroup connection for group 'r1_manipulator' in namespace ''
[ WARN] [1561381805.094440152]: Waiting for mh5/r1/joint_trajectory_action to come up
[ERROR] [1561381811.094635485]: Action client not connected: mh5/r1/joint_trajectory_action
[ WARN] [1561381816.123840402]: Waiting for mh5/r2/joint_trajectory_action to come up
[ WARN] [1561381822.124058908]: Waiting for mh5/r2/joint_trajectory_action to come up
[ERROR] [1561381828.124273610]: Action client not connected: mh5/r2/joint_trajectory_action

Here is my controllers.yaml :
controller_list:
  - name: ""
    action_ns: joint_trajectory_action
    type: FollowJointTrajectory
    joints: [r1_joint_s, r1_joint_l, r1_joint_u, r1_joint_r, r1_joint_b, r1_joint_t, r2_joint_s, r2_joint_l, r2_joint_u, r2_joint_r, r2_joint_b, r2_joint_t]
  - name: mh5/r1
    action_ns: joint_trajectory_action
    type: FollowJointTrajectory
    joints: [r1_joint_s, r1_joint_l, r1_joint_u, r1_joint_r, r1_joint_b, r1_joint_t]
  - name: mh5/r2
    action_ns: joint_trajectory_action
    type: FollowJointTrajectory
    joints: [r2_joint_s, r2_joint_l, r2_joint_u, r2_joint_r, r2_joint_b, r2_joint_t]

and motoman_mh5_planning_execution.launch:
<launch>
  <!-- The planning and execution components of MoveIt! configured to run -->
  <!-- using the ROS-Industrial interface. -->

  <!-- Non-standard joint names:
       - Create a file [robot_moveit_config]/config/joint_names.yaml
           controller_joint_names: [joint_1, joint_2, ... joint_N]
       - Update with joint names for your robot (in order expected by rbt controller)
       - and uncomment the following line: -->
  <rosparam command="load" file="$(find clear_dual_motoman_mh5_moveit_config)/config/joint_names.yaml"/>

  <!-- the "sim" argument controls whether we connect to a Simulated or Real robot -->
  <!--  - if sim=false, a robot_ip argument is required -->
  <arg name="sim" default="true" />
  <arg name="robot_ip" unless="$(arg sim)" />

  <!-- load the robot_description parameter before launching ROS-I nodes -->
  <include file="$(find clear_dual_motoman_mh5_moveit_config)/launch/planning_context.launch" >
   <arg name="load_robot_description" value="true" />
  </include>

  <!-- run the robot simulator and action interface nodes -->
  <group if="$(arg sim)">
    <include file="$(find industrial_robot_simulator)/launch/robot_interface_simulator.launch" />

    <!-- publish the robot state (tf transforms) -->
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />
  </group>

  <include file="$(find clear_dual_motoman_mh5_moveit_config)/launch/move_group.launch">
    <arg name="publish_monitored_planning_scene" value="true" />
  </include>

  <include file="$(find clear_dual_motoman_mh5_moveit_config)/launch/moveit_rviz.launch">
    <arg name="config" value="true"/>
  </include>

</launch>

Hope you could help me to deal with these errors,
Thank a lot!

Originally posted by A_YIng on ROS Answers with karma: 37 on 2019-06-24
Post score: 0

A:

I solved these problems. If anyone else has the same problem, please follow this repo.
The part of dual robotic arm or two group can refer to the whole configuration of the Motoman sda10f.
Thank guys!

Originally posted by A_YIng with karma: 37 on 2019-06-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Abhishekpg on 2019-12-12:
hi, what are the changes you made. im also getting same error when using for multiple robot. Also how did you launch 2 robots with different ip
Comment by A_YIng on 2019-12-12:
Actually I contacted with vender to modified my manipulator and controller, it let two manipulator connect to one single controller instead of independent two controller. So the controller only have one IP to communicate with ROS.


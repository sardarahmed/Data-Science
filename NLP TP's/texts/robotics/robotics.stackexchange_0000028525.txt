Q:

How to get the angle value of the base link of a floating based robot in Gazebo9

According to the api gazebo 9.0 link.
for example ,I can get
this->model->GetLink("link1")->WorldPose();
this->model->GetLink("link1")->WorldLinearVel();
this->model->GetLink("link1")->WorldAngularVel();
this->model->GetLink("link1")->WorldLinearAccel();

But I can not find a way to get the angle value of the base link of a floating based robot like
this->model->GetLink("link1")->WorldAngular();
this->model->GetLink("link1")->WorldTwist();

Is there any suggestion? Thank you.

Originally posted by longwoo on Gazebo Answers with karma: 27 on 2018-06-22
Post score: 0

A:

The WorldPose() function return ignition::math::Pose3d which consists of the position and orientation. You can get these like this:
ignition::math::Vector3 pos = this->model->GetLink("link1")->WorldPose()->Pos();

ignition::math::Quaternion rot = this->model->GetLink("link1")->WorldPose()->Rot();

Since the twist is a combination of angular_vel + linear_vel you just combine the WorldLinearVel() and WorldAngularVel() and you have it.

Originally posted by wentz with karma: 350 on 2018-06-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by longwoo on 2018-06-26:
Thank you. It works.


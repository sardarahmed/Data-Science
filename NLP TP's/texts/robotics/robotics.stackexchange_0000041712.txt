Q:

Accessing 3D map data saved in bt file/formats to save octomap

I have been able to build a 3D map using octomap and have saved the same as a .bt file. I have to work on a localisation algorithm which requires the coordinates of free and occupied cells(especially the boundary cells of any occupied region) of the saved map.
Is it possible to extract the information like coordinates and no. of free and occupied cells from a bt file? If yes, how? If not, then what should be the accessible file format and how should I save my map in that format?
I am using ROS electric in Ubuntu 11.10. Please help.

Originally posted by shubh991 on ROS Answers with karma: 105 on 2012-06-25
Post score: 4

Original comments
Comment by ChickenSoup on 2012-07-04:
@shubh991 How do you save the map into a.bt file when octomap_server is running?
Comment by ChickenSoup on 2012-07-04:
ok found it : rosrun octomap_server octomap_saver map.bt

A:

bt ("Bonsai Tree") files are a very compact binary serialized representation of OctoMap octree, and thus not directly human readable.
You can easily write a program that reads in the .bt, creates an OcTree from it and then traverse the full tree with an octree leaf_iterator to do whatever you want with the coordinates or voxels. For details see the doxygen documentation of OctoMap: http://octomap.sourceforge.net/doxygen/index.html
You can also have a look at the file "bt2vrml.cpp" in your octomap package. It reads in a .bt file and creates a VRML file of the occupied voxels (which will result in a quite large file).

Originally posted by AHornung with karma: 5904 on 2012-06-26
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by shubh991 on 2012-06-26:
thanx man...that seems helpful to proceed with.


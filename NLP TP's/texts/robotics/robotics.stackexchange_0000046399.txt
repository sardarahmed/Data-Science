Q:

How to filter tfs in a bag file

Hi,
I got a bag file that includes a huge number of a certain tf message. I want to filter out this special message, but all other tf should not be considered? How can I filter out just all tf messages with a certain frame_id and child_frame_id?
Something like
rosbag filter source.bag filtered.bag 'topic!="\tf" or m.transforms[0].header.child_frame_id != "odom"' 

does not work and generates an error message (as expected)
AttributeError: '_std_msgs__Header' object has no attribute 'child_frame_id'

Thanks for your help
Poseidonius

Originally posted by Poseidonius on ROS Answers with karma: 427 on 2012-12-09
Post score: 0

A:

Try
rosbag filter source.bag filtered.bag 'topic!="\tf" or m.transforms[0].child_frame_id != "odom"

child_frame_id is not in a header. This should fix the error you get.

Originally posted by mmedvede with karma: 221 on 2012-12-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Poseidonius on 2012-12-09:
I should not work at night! Stupid error! Thanks to Mikail!
Comment by Hafez Farazi on 2016-08-29:
shouldn't it be :
rosbag filter source.bag filtered.bag 'topic!="/tf" or m.transforms[0].child_frame_id != "odom"


Q:

ardrone_autonomy - ardrone/odometry topic: setting the covariance matrix

Hi.
How can i set the covariance matrices in the "ardrone/odometry" topic?
I am trying to use the robot_localization package to filter imu and odometry data from the parrot ar drone using the ardrone_autonomy driver package.
From the driver package i found that the covariance matrices in the "ardrone/imu" topic (sensor_msgs/Imu message type) are set in the launch file as parameters.
However, the "ardrone/odometry" topic (nav_msgs/Odometry message type) also has covariance matrices, and these are zero by default and can not be set from parameters like the other topic.
I have tried setting these while the parrot ar drone is running and publishing data, by using the rostopic pub command in the command line. However this doesn't work (i can't get it to work atleast, no errors, just no new data on the topic), and I'm actually not able to publish any data at all on this topic from the command line.
My last option is to try and create a node that subscribes and republishes the data on the topic with my given covariance values, but seems like an annoying workaround, and i was wondering if anyone had a clue on how to set these values someplace else?
I have tried looking through the ardrone_autonomy source files, but can't find this topic published anywhere.
Thanks for all/any help!

Originally posted by ros_geller on ROS Answers with karma: 92 on 2015-11-01
Post score: 0

A:

My last option is to try and create a node that subscribes and republishes the data on the topic with my given covariance values, but seems like an annoying workaround, and i was wondering if anyone had a clue on how to set these values someplace else?

I agree. This workaround is not the best way to acheive this. Unfortunately this feature has not yet implemented. Please submit an issue about this on ardone_autonomy's github repository so we can start the technical discussion there.

Originally posted by Mani with karma: 1704 on 2015-11-01
This answer was ACCEPTED on the original site
Post score: 1


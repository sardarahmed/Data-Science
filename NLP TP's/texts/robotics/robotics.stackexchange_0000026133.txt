Q:

PID slider joint in gazebo 1.3 / 1.5

I tried to follow the tutorial for the pid joint. With ROS groovy and Gazebo 1.3.
If I add the build dir to the ROS_PACKAGE_PATH and run using: rosrun gazebo gazebo -u ../pid_joints.world It can find the plugin..
Error [Plugin.hh:126] Failed to load plugin libpid_joints.so: libpid_joints.so

I also tried it using the standalone Gazebo 1.5. Then the box is spawned but Gazebo crashes as I push the play button.
gazebo: symbol lookup error: /home/user/gazebo_pid_joints/build/libpid_joints.so: undefined symbol: _ZN6gazebo6common7Console8InstanceEv

Originally posted by Davinci on Gazebo Answers with karma: 65 on 2013-04-01
Post score: 0

Original comments
Comment by AndreiHaidu on 2013-04-01:
also could you change the questions title because it is not very relevant to the errors
Comment by gazer on 2013-05-20:
hello, so did you get it to work? for the second issue?

A:

Hi,
For the first issue using gazebo 1.3 most probably you are missing the GAZEBO PATHS to the plugin.
Here is an example how to add yout package plugin library:
$ export GAZEBO_PLUGIN_PATH=/<path>/your_package/lib:${GAZEBO_PLUGIN_PATH}

For the second issue when you run your code with gazebo 1.5, this might appear because your code could be built against the gazebo 1.3 libraries from groovy, that's why you get that error when you run the plugin.
To avoid this when you build your package you should comment out <depend package="gazebo"/> line from your manifest.xml file. Afterwards in the CMakeLists.txt file add the following lines to link against yout gazebo 1.5 libraries:
## link to gazebo libraries 
include (FindPkgConfig)
if (PKG_CONFIG_FOUND)
  pkg_check_modules(GAZEBO gazebo)
endif()
include_directories(${GAZEBO_INCLUDE_DIRS})
link_directories(${GAZEBO_LIBRARY_DIRS})

Cheers,
Andrei

Originally posted by AndreiHaidu with karma: 2108 on 2013-04-01
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Davinci on 2013-04-01:
Thanks for your response! The build dir with the libpid_joints.so is both in the gazebo and ros path. But that does not help. I builded these not as a ros package, will try that later.


Q:

nodelets running with remote roscore are dying (bond broken)

Hi all (or, at least, the usual one who answers to my questions ;-)),
I have the following situation:

LAPTOP1: roscore, roslaunch with openni_node and some tf
LAPTOP2: roslaunch with some depth_image_proc nodelets, connected via ROS_MASTER_URI=http://LAPTOP1

the problem is that the nodelets on LAPTOP2 are alive only for a short while (some seconds), then, they start to die, one after the other:
[ INFO] [1396535717.713638183]: Bond broken, exiting
[camera/register_depth_rgb-3] process has finished cleanly

What's going on? How can I run this configuration properly?
Thanks

Originally posted by madmage on ROS Answers with karma: 293 on 2014-04-03
Post score: 3

Original comments
Comment by madmage on 2014-04-03:
I tested also what happens without the openni_node on LAPTOP1 (i.e., there is no input for the nodelets on LAPTOP2, so they should not run, since their subscribed topics are not published): same behavior
Comment by demmeln on 2014-04-03:
What happens when you start the roscore on laptop2 instead?
Comment by demmeln on 2014-04-03:
Moreover, do other nodes / nodelets have the same problems on laptop2, or is it just the image_proc nodelets?
Comment by madmage on 2014-04-03:
I can run the nodelets on laptop2 with a roscore on laptop2, everything works (this is actually how everything has begun).
Can you tell me a simple nodelet I can test (to see if it's a depth_image_proc problem or nodelet problem)?
Comment by demmeln on 2014-04-03:
Have you tried simple nodes on laptop2 with core on laptop1? Something like rostopic pub or rostopic sub?
Comment by madmage on 2014-04-03:
The openni_node running on laptop1 publishes /camera/rgb/image_raw and /camera/depth/image_raw (roscore is on laptop1), I can see that image by subscribing it from laptop2 with rqt_image_view.
Comment by demmeln on 2014-04-04:
Ok. I don't know what could be the problem, sorry. @esteve, @tfoote, any idea how to investigate this best?
Comment by madmage on 2014-04-04:
I rewrote launch files, rebooted laptops, upgraded packages... now it works (more or less)... could it be that was because I had image_transport package installed on one laptop (LAPTOP1) and not the other?
Comment by demmeln on 2014-04-04:
Could. Don't really know, but it sounds strang that it ran at all if image_transform was not installed... Let us know if this continues to be a problem.
Comment by madmage on 2014-04-04:
However, it seems that now it is working. I am still confused about who (which nodelet) is subscribing what (what topic) and using whatkindofcompression* (how to know it?), since running nodes with _image_transport:=theora does not make much difference in network traffic monitors
Comment by demmeln on 2014-04-04:
I don't know enough about how image transport works to answer that. I probably makes sense to open a new question about it if you can't find anything in the docs or with google.

A:

So, summarizing, I just resolved by rebooting both machines, rewriting both launch files, installing missing image_transport plugins on LAPTOP2.

Originally posted by madmage with karma: 293 on 2014-04-04
This answer was ACCEPTED on the original site
Post score: 4


Q:

build failed for openni driver

hi
i have kinect camera and i'm trying to install it in my laptop with 32-bit ubuntu 11.10 and ros electric.so i connected the usb cable from kinect to laptop and started with the steps given in openni_kinect package in ros.org and got following error while trying to run make cmd in drivers:
root@mutu-Vostro-3550:/opt/ros/electric/stacks/drivers# make
cd openni && make
make[1]: Entering directory `/opt/ros/electric/stacks/drivers/openni'
cd build/openni/Platform/Linux/CreateRedist && bash RedistMaker && cd -

PrimeSense OpenNI Redist    *

2012-04-16 21:21:43       *

Target: Linux-x86
Version: 1.5.2.23
Num of compile jobs: 8

Building OpenNI...
../../../../../Source/Utils/niLicense/niLicense.cpp: In function ‘int main(int, char**)’:
../../../../../Source/Utils/niLicense/niLicense.cpp:122:108: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘unsigned int’ [-Wformat]
../../../../../Source/Utils/niLicense/niLicense.cpp:129:97: warning: format ‘%lu’ expects argument of type ‘long unsigned int’, but argument 2 has type ‘unsigned int’ [-Wformat]
/bin/sh: javac: not found
make[3]: *** [../../../Bin/x86-Release/org.OpenNI.jar] Error 127
make[2]: *** [Wrappers/OpenNI.java] Error 2
make[2]: *** Waiting for unfinished jobs....
failed to execute: make  -j8 -C /opt/ros/electric/stacks/drivers/openni/build/openni/Platform/Linux/CreateRedist/../Build > /opt/ros/electric/stacks/drivers/openni/build/openni/Platform/Linux/CreateRedist/Output/BuildOpenNI.txt
Building Failed!
make[1]: *** [installed] Error 1
make[1]: Leaving directory `/opt/ros/electric/stacks/drivers/openni'
make: *** [openni_lib] Error 2

what should i do?

Originally posted by priya on ROS Answers with karma: 36 on 2012-04-16
Post score: 0

A:

If you're using Ubuntu, you should use the binary packages instead of installing from source:
sudo apt-get install ros-electric-openni-kinect

Also, it looks like you have things in /opt/ros that aren't managed by apt. This is not a good idea and could cause things to act in unexpected ways.

Originally posted by Dan Lazewatsky with karma: 9115 on 2012-04-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by priya on 2012-04-16:
yes i tried that first step but i got:mutu@mutu-Vostro-3550:~$ sudo apt-get install ros-electric-openni-kinect
[sudo] password for mutu:
Reading package lists... Done
Building dependency tree
Reading state information... Done
ros-electric-openni-kinect is already the newest version.
Comment by Eric Perko on 2012-04-16:
Then you already have it installed and can try the launch files here: http://ros.org/wiki/openni_launch . If you get errors about things not being built or not being found, remove all files you added while attempting to do the source build and try again.


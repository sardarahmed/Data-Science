Q:

rosrun rosserial_python serial_node.py /dev/ttyACM0 error occured TypeError: __init__() got an unexpected keyword argument 'queue_size'

Hi, I'm following rosserial_arduino/Tutorials/Hello World and when runing rosserial_python serial_node.py using rosrun rosserial_python serial_node.py /dev/ttyACM0 then got problems
ling@ubuntu12:~/catkin_ws$ rosrun rosserial_python serial_node.py /dev/ttyACM0
[INFO] [WallTime: 1447168684.001756] ROS Serial Python Node
[INFO] [WallTime: 1447168684.011288] Connecting to /dev/ttyACM0 at 57600 baud
Traceback (most recent call last):
  File "/home/ling/catkin_ws/src/rosserial/rosserial_python/nodes/serial_node.py", line 80, in <module>
    client = SerialClient(port_name, baud)
  File "/home/ling/catkin_ws/src/rosserial/rosserial_python/src/rosserial_python/SerialClient.py", line 333, in __init__
    self.pub_diagnostics = rospy.Publisher('/diagnostics', diagnostic_msgs.msg.DiagnosticArray, queue_size=10)
TypeError: __init__() got an unexpected keyword argument 'queue_size'

I tried to ignored the error and start the next step
ling@ubuntu12:~/catkin_ws$ rostopic echo chatter

It wouldn't work as I thought:
WARNING: topic [/chatter] does not appear to be published yet

I'm using groovy on ubuntu12 but my arduino IDE is installed on Win7. Does it matter?
Can someone help? Thanks advance.

Originally posted by Gure Ling on ROS Answers with karma: 3 on 2015-11-10
Post score: 0

A:

This looks like a mismatch between your version of ROS and the version of rosserial that you're using.
The queue_size option was added to rospy in ROS Hydro, and it seems like you're running an earlier version of ROS.
You should check out the branch of rosserial for the version of ROS that you're using; for example if you're using ROS Groovy, you should check out the groovy-devel branch of rosserial.

Originally posted by ahendrix with karma: 47576 on 2015-11-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Gure Ling on 2015-11-11:
Yes I think you are right. I've tried that wiki on Indigo and worked fine. Thank you very much.


Q:

ROS Android Build Not Working

I followed this: http://www.ros.org/wiki/ApplicationsPlatform/Clients/Android
But get the following error when doing rosmake android_app_chooser --threads=1

rosrun rosjava_bootstrap make.py android_gingerbread
Buildfile: /home/turtlebot/ROS_DIR/rosjava_android/android_gingerbread/dependencies.xml

get-dependencies:

BUILD SUCCESSFUL
Total time: 11 seconds
Traceback (most recent call last):
File "/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/src/main/python/rosjava_bootstrap/make.py", line 108, in
main(sys.argv)
File "/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/src/main/python/rosjava_bootstrap/make.py", line 100, in main
build(rospack, package)
File "/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/src/main/python/rosjava_bootstrap/make.py", line 65, in build
properties = android.generate_properties(rospack, package)
File "/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/src/main/python/rosjava_bootstrap/android.py", line 93, in generate_properties
'sdk.dir': get_android_sdk_dir(),
File "/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/src/main/python/rosjava_bootstrap/android.py", line 78, in get_android_sdk_dir
location = which.which('android')
File "/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/src/main/python/rosjava_bootstrap/which.py", > line 248, in which
raise WhichError("Could not find '%s' on the path." % command)
which.WhichError: Could not find 'android' on the path.
make: *** [all] Error 1

UPDATE:
I fixed the bash_profile and now I'm getting a new error, any help is appreciate!

BUILD FAILED
/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/android.xml:539: The following error occurred while executing this line:
/home/turtlebot/ROS_DIR/rosjava_core/rosjava_bootstrap/android.xml:568: Execute failed: java.io.IOException: Cannot run program "/home/turtlebot/Desktop/android-sdk-linux_x86/platform-tools/aapt": java.io.IOException: error=2, No such file or directory
at java.lang.ProcessBuilder.start(ProcessBuilder.java:475)
at java.lang.Runtime.exec(Runtime.java:610)
at org.apache.tools.ant.taskdefs.Execute$Java13CommandLauncher.exec(Execute.java:827)
at org.apache.tools.ant.taskdefs.Execute.launch(Execute.java:445)
at org.apache.tools.ant.taskdefs.Execute.execute(Execute.java:459)
at org.apache.tools.ant.taskdefs.ExecTask.runExecute(ExecTask.java:635)
at org.apache.tools.ant.taskdefs.ExecTask.runExec(ExecTask.java:676)
at org.apache.tools.ant.taskdefs.ExecTask.execute(ExecTask.java:502)
at com.android.ant.AaptExecTask.callAapt(AaptExecTask.java:603)
at com.android.ant.AaptExecTask.execute(AaptExecTask.java:351)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:616)
at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
at org.apache.tools.ant.Task.perform(Task.java:348)
at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)
at com.android.ant.IfElseTask.execute(IfElseTask.java:120)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:616)
at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
at org.apache.tools.ant.Task.perform(Task.java:348)
at org.apache.tools.ant.taskdefs.Sequential.execute(Sequential.java:68)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:616)
at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
at org.apache.tools.ant.Task.perform(Task.java:348)
at org.apache.tools.ant.taskdefs.MacroInstance.execute(MacroInstance.java:398)
at org.apache.tools.ant.UnknownElement.execute(UnknownElement.java:291)
at sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)
at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
at java.lang.reflect.Method.invoke(Method.java:616)
at org.apache.tools.ant.dispatch.DispatchUtils.execute(DispatchUtils.java:106)
at org.apache.tools.ant.Task.perform(Task.java:348)
at org.apache.tools.ant.Target.execute(Target.java:390)
at org.apache.tools.ant.Target.performTasks(Target.java:411)
at org.apache.tools.ant.Project.executeSortedTargets(Project.java:1360)
at org.apache.tools.ant.Project.executeTarget(Project.java:1329)
at org.apache.tools.ant.helper.DefaultExecutor.executeTargets(DefaultExecutor.java:41)
at org.apache.tools.ant.Project.executeTargets(Project.java:1212)
at org.apache.tools.ant.Main.runBuild(Main.java:801)
at org.apache.tools.ant.Main.startAnt(Main.java:218)
at org.apache.tools.ant.launch.Launcher.run(Launcher.java:280)
at org.apache.tools.ant.launch.Launcher.main(Launcher.java:109)
Caused by: java.io.IOException: java.io.IOException: error=2, No such file or directory
at java.lang.UNIXProcess.(UNIXProcess.java:164)
at java.lang.ProcessImpl.start(ProcessImpl.java:81)
at java.lang.ProcessBuilder.start(ProcessBuilder.java:468)
... 47 more

Total time: 5 seconds
Executing command: ['ant']
make: *** [all] Error 1
I can see aapt is at /home/turtlebot/Desktop/android-sdk-linux_x86/platform-tools/

Originally posted by Derek Lee on ROS Answers with karma: 1 on 2012-01-22
Post score: 0

A:

The build tools can't find the android command.
You need to install the android developer tools and make sure they are on your PATH. See these instructions for a more detailed description of how to do this.
If you can't run android from a command prompt, the build tools won't be able to either.

Originally posted by ahendrix with karma: 47576 on 2012-01-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ahendrix on 2012-01-24:
I saw your update; I don't have a good answer for you. It might be a permissions problem, or a broken symlink, or something else completely.
Comment by Derek Lee on 2012-01-24:
I fix the first problem but having a new one right now, can you please help? Thanks.


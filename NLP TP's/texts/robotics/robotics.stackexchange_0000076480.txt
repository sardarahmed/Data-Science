Q:

PR2 navigation: Obstacles not being added to local costmap in Hydro/Indigo

The pr2_navigation package does not update the local costmap and the PR2 collides with obstacles that are not part of the map. This happens in simulation and on the real PR2, both in ROS Hydro and Indigo.
An issue has been posted on github with some pictures: https://github.com/PR2/pr2_navigation/issues/26
Here is what I've observed so far:

There are no errors or warnings when launching pr2_2dnav_slam or pr2_2dnav.
Building a map with pr2_2dnav_slam works fine.
The sensor data looks OK. Both laser scanners publish reasonable data.
Navigating a map with  pr2_2dnav works fine as long as nothing changes in the environment. The PR2 is able to avoid and plan around static obstacles. However, if furniture is moved or a human stands in the global path of the robot, it will not re-plan and collide with the obstacle.
The local cost map is just publishing zeros in simulation. On the real PR2 there is data from the base scanner but the values are not being used by the local planner.

I tried looking at the git history but couldnâ€™t find anything obvious. I believe the pr2_navigation package is working in  Groovy. Maybe it broke when transitioning to Hydro?
Any ideas on how to fix this? Has the PR2 local planner worked for anyone in Hydro or Indigo?
Thanks,
Sven

Originally posted by sven-cremer on ROS Answers with karma: 33 on 2016-09-26
Post score: 2

A:

The pr2_navigation stack just uses the ROS navigation stack in the background, right? (https://github.com/ros-planning/navigation) You may wanna look there for problems, such as issue 485 https://github.com/ros-planning/navigation/issues/485

Originally posted by spmaniato with karma: 1788 on 2016-09-26
This answer was ACCEPTED on the original site
Post score: 0


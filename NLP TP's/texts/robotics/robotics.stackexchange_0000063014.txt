Q:

how to move robot in gazebo using joints or motors

I have one urdf file for an car look robot . I would like to move the robot in the gazebo simulator. the car have 4 links for 4 wheel. 4 joints attached with the 4 wheel link. I also add actuator and transmission in the robot. I would like to know which method will be the best to move the robot. Should I deal with the joints or is there any other way out to do it. I really stuck in here. please help me.....

Originally posted by Robot on ROS Answers with karma: 180 on 2014-10-02
Post score: 2

A:

Here would be the place to look. It is part of the gazebo_ros_pkgs which you can either apt-get the debian, or download the source for github and compile it yourself. Many gazebo plugin's are listed here, and what you are look for (if your drivetrain system is what i think it is) is the SkidSteerDrive plugin which you will find towards the bottom of the page.
<gazebo>
   <plugin name="skid_steer_drive_controller" filename="libgazebo_ros_skid_steer_drive.so">
   <updateRate>100.0</updateRate>
   <robotNamespace>/</robotNamespace>
   <leftFrontJoint>front_left_wheel_joint</leftFrontJoint>
   <rightFrontJoint>front_right_wheel_joint</rightFrontJoint>
   <leftRearJoint>back_left_wheel_joint</leftRearJoint>
   <rightRearJoint>back_right_wheel_joint</rightRearJoint>
   <wheelSeparation>0.4</wheelSeparation>
   <wheelDiameter>0.215</wheelDiameter>
   <robotBaseFrame>base_link</robotBaseFrame>
   <torque>20</torque>
   <topicName>cmd_vel</topicName>
   <broadcastTF>false</broadcastTF>
 </plugin>
</gazebo>

Just keep in mind, this format is for a URDF formatted file. If you are using SDF, You should just take out the gazebo tags.

Originally posted by l0g1x with karma: 1526 on 2014-10-02
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Robot on 2014-10-02:
thank you very much for the help. I have developed the robot using the urdf. should I add the above below my urdf file or create another urdf. After this addition how can I control the wheel rotation. Publishing geometry_msgs::Twist on cmd_vel topic will be enough or any thing else..
Thanks again,,
Comment by l0g1x on 2014-10-02:
All you need to do is send the cmd_vel msg, and the plugin listen's to that cmd_vel topic and takes care of moving the robots joints for you, as long as you set up your joints correctly. It will also output a Odom topic if you are interested in it.
Comment by Robot on 2014-10-02:
thanks..  I will add the above at the bottom of my urdf file.. and publish Twist msg on cmd_vel topic. nothing else right???
Comment by l0g1x on 2014-10-02:
no. Just try it out and see if anything is missing, if it is then let me know
Comment by Robot on 2014-10-02:
okay I will and let u know.. thanks again...
Comment by Robot on 2014-10-06:
Hey it worked perfectly.. thanks again
Comment by l0g1x on 2014-10-10:
Awesome sounds good!
Comment by Ken-Dung on 2015-06-14:
May I ask a stupid question ?
How to send the cmd_vel msg, and the plugin listen's to that cmd_vel topic ?
Comment by l0g1x on 2015-06-17:
By specifying the <topicName>cmd_vel</topicName> tag, it will make the plugin listen to any command velocity published by any other ros node in your system. you can change the cmd_vel name to anything youd like ofcourse @Ken-Dung
Comment by Ken-Dung on 2015-06-23:
First of all! Thank you for the help
So which means that, for example, if I want to control a camera to spin up or down, I just need to add transmission to a link, then in plugin, and add a  tag, is it right ?
Comment by rajnunes on 2016-04-03:
How do i add joints under the gazebo tags ?
im getting an error in my urdf when i try to spawn the model in gazebo using ros ... help plz


Q:

map does not update with respect to base_link

Hello guys,
can someone tell me why the map is not updating with respect to the displacement in base_link? The map keeps building at one place, whereas I can see the laser data moving wrt base_link, but the map doesn't move.

launched the laser scan

static tf between map and odom(slam is supposed to provide this, but I always get map frame not available)

3)Odom publisher
4)static tf between base_link and camera_link
5)then I launch the slam_gmapping.
https://drive.google.com/drive/folders/1b4HVWzpKfWp937sdIS8cLRbGr5eIMtLh?usp=sharing

Originally posted by Gourav on ROS Answers with karma: 3 on 2020-09-24
Post score: 0

Original comments
Comment by JackB on 2020-09-24:
Can you please add the pdf output of rosrun tf view_frames to that folder?
Comment by Gourav on 2020-09-24:
done.. I included that
Comment by JackB on 2020-09-24:
Thanks for doing that!

A:

A big red flag is that your map->odom transform is static. That is almost certainly the reason for the problem behavior. slam_gmapping is responsible for producing that. For some reason I don't understand, you said that you override the map->odom tf with a static transfrom publisher. Remove that and let gmapping publish the map->odom tf and then we should be on our way to fixing the problem.

Originally posted by JackB with karma: 977 on 2020-09-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Gourav on 2020-09-24:
I agree with you, but I keep getting this error (https://answers.ros.org/question/361629/unable-to-create-map-using-gmapping-ros-melodic-on-jetson-nano/) if I don't do the map->odom static transform... I will try once more and will update.
thanks for the reply :-)
Comment by JackB on 2020-09-24:
Add a copy of rosrun tf view_frames pdf output without the static map->odom publisher please. Make sure gmapping is running.
Comment by Gourav on 2020-09-24:
Updated the file again.
Comment by Gourav on 2020-09-24:
its the same problem, btw I used the following files https://github.com/ros-perception/slam_gmapping
Comment by JackB on 2020-09-24:
And when you rostopic echo /your/laser/scan/topic what is the frame_id in the header?
Comment by Gourav on 2020-09-24:
camera_depth_frame
Comment by JackB on 2020-09-24:
And is this all in simulation on the same computer?
Comment by Gourav on 2020-09-24:
yes it is.
Comment by Gourav on 2020-09-24:
don't understand why the slam is not providing the transform between map and doom..
Comment by Gourav on 2020-09-24:
The only changes I made in this file (https://github.com/ros-perception/slam_gmapping) is ..
   ----to----     
and changed the maxRange ..


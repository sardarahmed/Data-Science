Q:

libstatistics_collector: Unknown CMake command "rosidl_get_typesupport_target" (galactic)

Hello everyone,
I am trying to build ROS2 from source following the galactic link. While building, I am getting the below error,
Starting >>> shape_msgs
--- stderr: libstatistics_collector
CMake Error at CMakeLists.txt:100 (rosidl_get_typesupport_target):
  Unknown CMake command "rosidl_get_typesupport_target".

make: *** [Makefile:1130: cmake_check_build_system] Error 1
---
Failed   <<< libstatistics_collector [5.11s, exited with code 2]
Aborted  <<< shape_msgs [1.76s]
Aborted  <<< rclpy [2.80s]
Aborted  <<< map_msgs [4.19s]

Summary: 176 packages finished [1min 34s]
  1 package failed: libstatistics_collector
  3 packages aborted: map_msgs rclpy shape_msgs
  1 package had stderr output: libstatistics_collector
  150 packages not processed

I tried to comment it in "src/ros-tooling/libstatistics_collector/CMakeLists.txt" file, but it leads to some other failure. Need some help here.
Thanks in advance.

Originally posted by baila on ROS Answers with karma: 32 on 2021-08-07
Post score: 0

A:

This is probably the same cause as is fixed by ros2/ros2#1166.
Try changing the active branch for ros-tooling/libstatistics_collector to galactic.
It's set to master here, but that isn't correct any more since ros-tooling/libstatistics_collector#116.

I tried to comment it in "src/ros-tooling/libstatistics_collector/CMakeLists.txt" file, but it leads to some other failure.

yes, don't do that.
That function call is there for a reason.

Originally posted by gvdhoorn with karma: 86574 on 2021-08-07
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by baila on 2021-08-07:
Thanks a lot for the solution. It fixed the build error. :)
Comment by mnokka on 2021-10-14:
Thank you! I had similar build error; used ROS2 Foxy, but ROS2 tutorial's branch was rolling, when corrected the branch as suggested (foxy-devel in my case) this  "rosidl_get_typesupport_target" build error disappeared.


Q:

Can the robot_localization package be used with GPS-only?

I have a project where I am using GPS data to localize a robot.  Unfortunately, I do not have a reliable IMU/Magnetometer to get orientation.  Can the robot_localization package be used with only GPS data?  an I get the robot orientation from the differential measurements? I have been unsuccessful in getting it to work.  I am only doing 2D mode, so yaw is what I really would like to get.
In other words, is there a way to decouple the navsat_transform node from using IMU to get orientation?
Thanks!

Originally posted by tbybee on ROS Answers with karma: 1 on 2016-07-22
Post score: 0

Original comments
Comment by Tom Moore on 2016-07-25:
AlexandreB is correct. If you don't want to use the datum parameter and instead want to differentiate GPS readings for your yaw value, then you'll have to write a node that does that.

A:

Hi,
From my understanding you should be able to do without IMU data.
In section 3.1.2 IMU Data under robot_localization / Tutorials / GPS Integration, the dev mention :
This information is only relevant if the user is not manually specifying the origin via the datum parameter or the set_datum service.
Furthermore if you look in the code you will find:
if (!use_odometry_yaw_ && !use_manual_datum_)
{
  imu_sub = nh.subscribe("imu/data", 1, &NavSatTransform::imuCallback, this);
}

However from my experience with this package, supplying the correct YAW offset is very important.
If you are unsuccessful with the datum option, it may be the yaw offset you supply.
Alexandre

Originally posted by AlexandreB with karma: 43 on 2016-07-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Tom Moore on 2016-07-25:
Right. You can use the datum parameter, but then all your positions will be w.r.t. that pose. You can then turn on relative mode for that input in the EKF or UKF (if you're using them), which will make the output pose start at 0.


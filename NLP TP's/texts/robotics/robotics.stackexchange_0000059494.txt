Q:

Sematics of ARROW marker parameters changed between fuerte and hydro?

Dear all,
I am currently porting some code from fuerte to hydro and came across a problem that I do not fully understand.
In fuerte I used the arrow marker, and there the length of the arrow is encoded as scale.z. On hydro, scale.z seems to scale  the arrow in all dimensions.
The ROS wiki see here says:

"scale.x is the arrow width, scale.y is the arrow height and scale.z is the arrow length ".

However, if I set scale.x and scale.y to the same value (0.1), I get an upward-oval shaped arrow, which is twice as high as wide!?!?
Does anyone have some insight on this?
Best
Georg

Originally posted by Georg on ROS Answers with karma: 328 on 2014-05-19
Post score: 0

A:

Yes, this has changed and we also experienced the strange oval arrows when updating from fuerte. YouÂ´ll probably want to just update your code accordingly (should be straightforward in most cases).
/edit: Just looked up what we did:
   // add a movable arrow to the interactive marker
   visualization_msgs::Marker arrow;
   arrow.type = visualization_msgs::Marker::ARROW;
-  arrow.scale.z = 0.5;
+  arrow.scale.x = 0.5;
+  arrow.scale.y = 0.1;
+  arrow.scale.z = 0.1;
+
   arrow.color.r = 0.5;
   arrow.color.g = 0;
@@ -940,7 +943,7 @@
   } else {
     start_marker.type = visualization_msgs::Marker::ARROW;
-    start_marker.scale.x = 0.2;
-    start_marker.scale.y = 0.2;
-    start_marker.scale.z = 0.8;
+    start_marker.scale.x = 0.5;
+    start_marker.scale.y = 0.1;
+    start_marker.scale.z = 0.1;
   }

Looks like the wiki documentation you linked is wrong (at least for current ROS versions) and y and z are scaling the height/width, while x scales the length of the marker.
/edit2: I edited the description in the wiki to be correct:
Identity orientation points it along the +X axis. scale.x is the arrow length, scale.y is the arrow width and scale.z is the arrow height.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-05-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Georg on 2014-05-19:
What did you do? Just trial an error to get round arrows? Should we somehow file a bug report?
Comment by Stefan Kohlbrecher on 2014-05-19:
See edit of original answer.
Comment by Georg on 2014-05-20:
Many thanks!!!


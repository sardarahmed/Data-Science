Q:

undefined reference to nlopt

I use sudo apt-get install libnlopt-dev to install nlopt lib. when i catkin_make in my pc, report says like bellow, like can't link the lib. i donot know how to fix the problem.
this is the report.
alex@ubuntu:~/planner_examples_ws$ catkin_make
Base path: /home/alex/planner_examples_ws
Source space: /home/alex/planner_examples_ws/src
Build space: /home/alex/planner_examples_ws/build
Devel space: /home/alex/planner_examples_ws/devel
Install space: /home/alex/planner_examples_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/alex/planner_examples_ws/build"
####
####
#### Running command: "make -j4 -l4" in "/home/alex/planner_examples_ws/build"
####
[  0%] [  0%] Built target geometry_msgs_generate_messages_cpp
Built target std_msgs_generate_messages_cpp
[  0%] Built target std_msgs_generate_messages_lisp
[  0%] Built target geometry_msgs_generate_messages_lisp
[  0%] [  0%] Built target _gridmapping_msgs_generate_messages_check_deps_GridObstacleUpdate
Built target _gridmapping_msgs_generate_messages_check_deps_GridPoint
[  0%] Built target std_msgs_generate_messages_py
[  0%] Built target geometry_msgs_generate_messages_py
[  1%] Built target circular_curve_lib
[  4%] Built target alglib
[  4%] Built target gdal_utils
[  6%] Built target math_utils
[  6%] Built target boostrand1
[  6%] Built target random_points1
[  7%] Built target stupidrand1
[  7%] Built target rosparam_util_getvector
[  7%] Built target std_msgs_util
[ 12%] Built target sbpl
[ 12%] Built target nav_msgs_generate_messages_lisp
[ 12%] Built target _tictoc_profiler_generate_messages_check_deps_ProfilerEntry
[ 12%] Built target _ca_nav_msgs_generate_messages_check_deps_PathXYZVPsi
[ 12%] Built target _ca_nav_msgs_generate_messages_check_deps_PathXYZ
[ 12%] Built target _ca_nav_msgs_generate_messages_check_deps_XYZVPsi
[ 12%] Built target _ca_nav_msgs_generate_messages_check_deps_XYZVViewPoint
[ 39%] Built target ompl
[ 39%] Built target _ca_nav_msgs_generate_messages_check_deps_PathXYZVViewPoint
[ 39%] Built target nav_msgs_generate_messages_cpp
[ 39%] Built target nav_msgs_generate_messages_py
[ 39%] Built target _ca_nav_msgs_generate_messages_check_deps_LookAheadTime
[ 44%] Built target mesh_loader_3ds
[ 44%] Built target _ca_nav_msgs_generate_messages_check_deps_WorkspaceTrajectory
[ 44%] Built target pcl_util_examples
[ 45%] Built target pcl_util_pc2_iterator_examples
[ 45%] Built target pcl_util_rgb
[ 45%] Built target scrollgrid_examples
[ 45%] Built target tf_utils
[ 45%] Built target _shapes_generate_messages_check_deps_PolygonDepth
[ 45%] Built target _shapes_generate_messages_check_deps_Point2D
[ 45%] Built target _speed_profile_generate_messages_check_deps_SpeedProfile
[ 45%] Built target _shapes_generate_messages_check_deps_PolygonWithHolesDepth
[ 45%] Built target gridmapping_msgs_generate_messages_cpp
[ 46%] Built target gridmapping_msgs_generate_messages_lisp
[ 47%] Built target gridmapping_msgs_generate_messages_py
[ 48%] Built target alglib_minqp_d_bc1
[ 48%] [ 48%] Built target alglib_example_df
Built target circular_curve_lib_example_dubins_path_set
[ 51%] [ 51%] Built target gdal_utils_example_dem
Built target circular_curve_lib_example_trochoid
[ 51%] Built target ompl_GeometricCarPlanning
[ 51%] Built target math_utils_scratch
[ 52%] Built target ompl_HybridSystemPlanning
[ 52%] [ 52%] Built target ompl_HypercubeBenchmark
Built target ompl_KinematicChainBenchmark
[ 52%] Built target ompl_OptimalPlanning
[ 53%] Built target ompl_PlannerData
[ 53%] [ 53%] Built target ompl_PlannerProgressProperties
[ 53%] Built target ompl_RigidBodyPlanning
Built target ompl_Point2DPlanning
[ 54%] [ 54%] Built target ompl_RigidBodyPlanningWithControls
[ 54%] Built target ompl_RigidBodyPlanningWithIK
Built target ompl_RigidBodyPlanningWithIntegrationAndControls
[ 54%] Built target ompl_RigidBodyPlanningWithODESolverAndControls
[ 55%] [ 55%] [ 55%] Built target ompl_StateSampling
Built target test_adjacency_list
Built target ompl_state_example
[ 55%] Built target test_sbpl
[ 55%] Built target tictoc_profiler_generate_messages_cpp
[ 55%] [ 55%] [ 56%] Built target tictoc_profiler_generate_messages_py
Built target std_msgs_util_load_pose
Built target tictoc_profiler_generate_messages_lisp
[ 58%] [ 60%] Built target ca_nav_msgs_generate_messages_lisp
Built target ca_nav_msgs_generate_messages_cpp
[ 62%] Built target ca_nav_msgs_generate_messages_py
[ 63%] Built target mesh_loader_3ds_example
[ 64%] Built target shapes_generate_messages_cpp
[ 65%] Built target shapes_generate_messages_py
[ 66%] Built target shapes_generate_messages_lisp
[ 67%] Built target tf_utils_transform_vector
[ 67%] Built target speed_profile_generate_messages_cpp
[ 67%] [ 68%] Built target speed_profile_generate_messages_lisp
Built target speed_profile_generate_messages_py
[ 68%] Built target gridmapping_msgs_generate_messages
[ 68%] Built target tictoc_profiler
[ 68%] [ 68%] Built target tictoc_profiler_generate_messages
Built target ca_nav_msgs_generate_messages
[ 68%] Built target shapes_generate_messages
[ 68%] [ 68%] Built target speed_profile_generate_messages
Built target tictoc_profiler_example
[ 68%] Built target ca_nav_msgs_trajectory_converter
[ 68%] Built target ca_nav_msgs_trajectory_converter_example
[ 68%] Built target distancemap2
[ 72%] Built target shapes
[ 73%] Built target distancemap2_3d_obst_test
[ 73%] Built target shapes_cgal_complement
[ 73%] Built target distancemap2_subscribe_to_grid
[ 73%] Built target shapes_bbox_shape_example
[ 74%] Built target shapes_cgal_connect_holes
[ 74%] Built target shapes_cgal_difference
[ 74%] Built target shapes_cgal_multiple_holes
[ 74%] Built target shapes_cgal_nested_triangulation
[ 74%] [ 75%] Built target shapes_cgal_polygon_join_intersect
Built target shapes_cgal_polygon_intersection
[ 75%] Built target shapes_draw_shape
[ 75%] Built target shapes_in_shape_example
[ 75%] Built target shapes_load_sample_polydepth_set
[ 75%] Built target shapes_polygon_difference_example
[ 76%] Built target shapes_sample_in_shape
[ 77%] Built target environment_generator
[ 79%] [ 82%] [ 82%] Built target environment_generator_example_poisson_forest
Built target environment_generator_example_environment_serialization
Built target planning_common
[ 82%] Built target environment_generator_example_poisson_forest_cylinders
[ 83%] Built target environment_generator_example_read_binvox
[ 83%] Built target environment_generator_example_random_corridor
[ 83%] Built target environment_generator_example_superposition
[ 83%] Built target environment_generator_example_read_cuboid_set
[ 83%] Built target planning_common_example_constraints_enforcement
[ 83%] [ 84%] Built target planning_common_example_path_waypoint
Built target planning_common_example_path_utils
[ 84%] Built target planning_common_example_simple_grid
[ 84%] Built target planning_common_example_task_space_dubins
[ 84%] Built target planning_common_example_smoothness_objective
[ 84%] [ 85%] Built target planning_common_example_time_scaling
Built target planning_common_example_speed_warping
[ 86%] [ 86%] Built target planning_common_example_workspace_checking
Built target planning_common_example_world_velocity
[ 86%] Built target chomp
[ 86%] Built target common_representation_interface
[ 87%] Built target sampling_planners
[ 89%] Built target curvature_constrained_state_spaces
[ 91%] Built target speed_profile
[ 92%] Built target sbpl_common
[ 92%] Built target yagsbpl_ompl
Linking CXX executable /home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_bvp_solver
Linking CXX executable /home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_clothoid_path
Linking CXX executable /home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_distance
Linking CXX executable /home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_dubins_feasible_path_generator
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_maxtime'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_xtol_abs1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_destroy'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_create'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_min_objective'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_munge'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_add_inequality_mconstraint'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_force_stop'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_lower_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_optimize'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_get_dimension'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_ftol_rel'
collect2: error: ld returned 1 exit status
make[2]: *** [/home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_bvp_solver] Error 1
make[1]: *** [curvature_constrained_state_spaces/CMakeFiles/curvature_constrained_state_spaces_example_bvp_solver.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_maxtime'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_xtol_abs1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_destroy'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_create'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_min_objective'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_munge'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_add_inequality_mconstraint'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_force_stop'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_lower_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_optimize'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_get_dimension'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_ftol_rel'
collect2: error: ld returned 1 exit status
make[2]: *** [/home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_distance] Error 1
make[1]: *** [curvature_constrained_state_spaces/CMakeFiles/curvature_constrained_state_spaces_example_distance.dir/all] Error 2
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_maxtime'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_xtol_abs1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_destroy'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_create'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_min_objective'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_munge'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_add_inequality_mconstraint'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_force_stop'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_lower_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_optimize'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_get_dimension'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_ftol_rel'
collect2: error: ld returned 1 exit status
make[2]: *** [/home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_clothoid_path] Error 1
make[1]: *** [curvature_constrained_state_spaces/CMakeFiles/curvature_constrained_state_spaces_example_clothoid_path.dir/all] Error 2
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_maxtime'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_xtol_abs1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_destroy'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_create'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_upper_bounds1'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_min_objective'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_munge'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_add_inequality_mconstraint'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_force_stop'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_lower_bounds'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_optimize'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_get_dimension'
/home/alex/planner_examples_ws/devel/lib/libcurvature_constrained_state_spaces.so: undefined reference to `nlopt_set_ftol_rel'
collect2: error: ld returned 1 exit status
make[2]: *** [/home/alex/planner_examples_ws/devel/lib/curvature_constrained_state_spaces/curvature_constrained_state_spaces_example_dubins_feasible_path_generator] Error 1
make[1]: *** [curvature_constrained_state_spaces/CMakeFiles/curvature_constrained_state_spaces_example_dubins_feasible_path_generator.dir/all] Error 2
make: *** [all] Error 2
Invoking "make -j4 -l4" failed

and the curvature_constrained_state_spaces CMakeLists.txt is following:
cmake_minimum_required(VERSION 2.8.3)
project(curvature_constrained_state_spaces)

## Find catkin macros and libraries
## if COMPONENTS list like find_package(catkin REQUIRED COMPONENTS xyz)
## is used, also find other catkin packages
find_package(catkin REQUIRED COMPONENTS
  ompl
  planning_common
  roscpp
  circular_curve_lib
  tictoc_profiler
  random_util
)

## System dependencies are found with CMake's conventions
# find_package(Boost REQUIRED COMPONENTS system)

SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC -std=c++11")

set(CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/cmake ${CMAKE_MODULE_PATH})
find_package(NLopt REQUIRED)

## Uncomment this if the package has a setup.py. This macro ensures
## modules and global scripts declared therein get installed
## See http://ros.org/doc/api/catkin/html/user_guide/setup_dot_py.html
# catkin_python_setup()

################################################
## Declare ROS messages, services and actions ##
################################################

## To declare and build messages, services or actions from within this
## package, follow these steps:
## * Let MSG_DEP_SET be the set of packages whose message types you use in
##   your messages/services/actions (e.g. std_msgs, actionlib_msgs, ...).
## * In the file package.xml:
##   * add a build_depend and a run_depend tag for each package in MSG_DEP_SET
##   * If MSG_DEP_SET isn't empty the following dependencies might have been
##     pulled in transitively but can be declared for certainty nonetheless:
##     * add a build_depend tag for "message_generation"
##     * add a run_depend tag for "message_runtime"
## * In this file (CMakeLists.txt):
##   * add "message_generation" and every package in MSG_DEP_SET to
##     find_package(catkin REQUIRED COMPONENTS ...)
##   * add "message_runtime" and every package in MSG_DEP_SET to
##     catkin_package(CATKIN_DEPENDS ...)
##   * uncomment the add_*_files sections below as needed
##     and list every .msg/.srv/.action file to be processed
##   * uncomment the generate_messages entry below
##   * add every package in MSG_DEP_SET to generate_messages(DEPENDENCIES ...)

## Generate messages in the 'msg' folder
# add_message_files(
#   FILES
#   Message1.msg
#   Message2.msg
# )

## Generate services in the 'srv' folder
# add_service_files(
#   FILES
#   Service1.srv
#   Service2.srv
# )

## Generate actions in the 'action' folder
# add_action_files(
#   FILES
#   Action1.action
#   Action2.action
# )

## Generate added messages and services with any dependencies listed here
# generate_messages(
#   DEPENDENCIES
#   std_msgs  # Or other packages containing msgs
# )

###################################
## catkin specific configuration ##
###################################
## The catkin_package macro generates cmake config files for your package
## Declare things to be passed to dependent projects
## INCLUDE_DIRS: uncomment this if you package contains header files
## LIBRARIES: libraries you create in this project that dependent projects also need
## CATKIN_DEPENDS: catkin_packages dependent projects also need
## DEPENDS: system dependencies of this project that dependent projects also need
catkin_package(
  INCLUDE_DIRS include
  LIBRARIES ${PROJECT_NAME}
  CATKIN_DEPENDS ompl planning_common roscpp circular_curve_lib tictoc_profiler random_util
  DEPENDS NLopt
)

###########
## Build ##
###########

## Specify additional locations of header files
## Your package locations should be listed before other locations
# include_directories(include)
include_directories(
  include
  ${catkin_INCLUDE_DIRS}
)

## Declare a cpp library
add_library(${PROJECT_NAME} 
src/dubins_z_state_space.cpp 
src/curvature_bvp_solver.cpp 
src/clothoid_state_space.cpp 
src/dubins_feasible_path_generator.cpp 
src/clothoid_z_state_space.cpp
src/glideslope_bvp_solver.cpp)
target_link_libraries(${PROJECT_NAME} ${catkin_LIBRARIES} ${NLOPT_LIBRARIES})

## Declare a cpp executable
add_executable(${PROJECT_NAME}_example_dubins_z_path examples/example_dubins_z_path.cpp)
target_link_libraries(${PROJECT_NAME}_example_dubins_z_path ${PROJECT_NAME} ${catkin_LIBRARIES})

add_executable(${PROJECT_NAME}_example_nlopt examples/example_nlopt.cpp)
target_link_libraries(${PROJECT_NAME}_example_nlopt ${PROJECT_NAME} ${catkin_LIBRARIES})
# ${NLOPT_LIBRARIES}
add_executable(${PROJECT_NAME}_example_bvp_solver examples/example_bvp_solver.cpp)
target_link_libraries(${PROJECT_NAME}_example_bvp_solver ${PROJECT_NAME} ${catkin_LIBRARIES})

add_executable(${PROJECT_NAME}_stress_test_bvp examples/stress_test_bvp.cpp)
target_link_libraries(${PROJECT_NAME}_stress_test_bvp ${PROJECT_NAME} ${catkin_LIBRARIES})

add_executable(${PROJECT_NAME}_example_clothoid_path examples/example_clothoid_path.cpp)
target_link_libraries(${PROJECT_NAME}_example_clothoid_path ${PROJECT_NAME} ${catkin_LIBRARIES})

add_executable(${PROJECT_NAME}_example_dubins_feasible_path_generator examples/example_dubins_feasible_path_generator.cpp)
target_link_libraries(${PROJECT_NAME}_example_dubins_feasible_path_generator ${PROJECT_NAME} ${catkin_LIBRARIES})

add_executable(${PROJECT_NAME}_example_distance examples/example_distance.cpp)
target_link_libraries(${PROJECT_NAME}_example_distance ${PROJECT_NAME} ${catkin_LIBRARIES})

add_executable(${PROJECT_NAME}_example_glideslope_bvp_solver examples/example_glideslope_bvp_solver.cpp)
target_link_libraries(${PROJECT_NAME}_example_glideslope_bvp_solver ${PROJECT_NAME} ${catkin_LIBRARIES})

## Add cmake target dependencies of the executable/library
## as an example, message headers may need to be generated before nodes
# add_dependencies(curvature_constrained_state_spaces_node curvature_constrained_state_spaces_generate_messages_cpp)

## Specify libraries to link a library or executable target against
# target_link_libraries(curvature_constrained_state_spaces_node
#   ${catkin_LIBRARIES}
# )

#############
## Install ##
#############

# all install targets should use catkin DESTINATION variables
# See http://ros.org/doc/api/catkin/html/adv_user_guide/variables.html

## Mark executable scripts (Python etc.) for installation
## in contrast to setup.py, you can choose the destination
# install(PROGRAMS
#   scripts/my_python_script
#   DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
# )

IF ("${ACS_INSTALL_TYPE}" STREQUAL "FULL")

## Mark executables and/or libraries for installation
 install(TARGETS ${PROJECT_NAME}
   ARCHIVE DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}
   LIBRARY DESTINATION ${CATKIN_PACKAGE_LIB_DESTINATION}
   RUNTIME DESTINATION ${CATKIN_PACKAGE_BIN_DESTINATION}
 )

## Mark cpp header files for installation
 install(DIRECTORY include/${PROJECT_NAME}/
   DESTINATION ${CATKIN_PACKAGE_INCLUDE_DESTINATION}
   FILES_MATCHING PATTERN "*.h"
   PATTERN ".svn" EXCLUDE
 )

ENDIF()

## Mark other files for installation (e.g. launch and bag files, etc.)
# install(FILES
#   # myfile1
#   # myfile2
#   DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION}
# )

#############
## Testing ##
#############

## Add gtest based cpp test target and link libraries
# catkin_add_gtest(${PROJECT_NAME}-test test/test_curvature_constrained_state_spaces.cpp)
# if(TARGET ${PROJECT_NAME}-test)
#   target_link_libraries(${PROJECT_NAME}-test ${PROJECT_NAME})
# endif()

## Add folders to be run by python nosetests
# catkin_add_nosetests(test)

i found a findnlopt.cmake in the CMAKE file, seems the writer happen the same problem somtime, but i don't know how to use it.
it's like this:
# - Find NLopt
# Find the native NLopt includes and library
#
# NLOPT_INCLUDE_DIR - where to find nlopt.h, etc.
# NLOPT_LIBRARIES - List of libraries when using nlopt.
# NLOPT_FOUND - True if nlopt found.

IF (NLOPT_INCLUDE_DIR)
# Already in cache, be silent
SET (nlopt_FIND_QUIETLY TRUE)
ENDIF (NLOPT_INCLUDE_DIR)

FIND_PATH(NLOPT_INCLUDE_DIR nlopt.h)

SET (NLOPT_NAMES nlopt nlopt_cxx)
FIND_LIBRARY (NLOPT_LIBRARY NAMES ${NLOPT_NAMES})

# handle the QUIETLY and REQUIRED arguments and set NLOPT_FOUND to TRUE if
# all listed variables are TRUE
INCLUDE (FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS (NLOPT DEFAULT_MSG
NLOPT_LIBRARY
NLOPT_INCLUDE_DIR)

IF(NLOPT_FOUND)
SET (NLOPT_LIBRARIES ${NLOPT_LIBRARY})
ELSE (NLOPT_FOUND)
SET (NLOPT_LIBRARIES)
ENDIF (NLOPT_FOUND)

MARK_AS_ADVANCED (NLOPT_LIBRARY NLOPT_INCLUDE_DIR)

Originally posted by rchml on ROS Answers with karma: 16 on 2016-11-14
Post score: 0

Original comments
Comment by gvdhoorn on 2016-11-14:
Please use the Preformatted Text button (the one with 101010 on it) next time when copying console text into your question. It makes things much easier to read. Thanks.
Comment by rchml on 2016-11-14:
ok, i'm sorry, first time to make a question.
Comment by jarvisschultz on 2016-11-14:
This is most likely an issue with your CMakeLists.txt. Please update question and add that file. I haven't used nlopt much, but I was able to compile an example I had lying around with CMake by specifically appending path to SO file like the following:

A:

oh, let me end my problem.(get help from labmate)
int the cmakelists.txt , focus on the last line. the project_namemeans my findnlopt.cmake works no results. you can change it with ${NLOPT_LIBRARIES} now, it works well.
or in the terminal:
5.catkin_make clean and. rm -Rf devel/ build/
which also works. it's just a demo to show the related problems.
thanks upfloor guy.
 ## Declare a cpp library
    add_library(${PROJECT_NAME} 
    src/dubins_z_state_space.cpp 
    src/curvature_bvp_solver.cpp 
    src/clothoid_state_space.cpp 
    src/dubins_feasible_path_generator.cpp 
    src/clothoid_z_state_space.cpp
    src/glideslope_bvp_solver.cpp)
    target_link_libraries(${PROJECT_NAME} ${catkin_LIBRARIES} ${NLOPT_LIBRARIES})
    
    ## Declare a cpp executable
    add_executable(${PROJECT_NAME}_example_dubins_z_path examples/example_dubins_z_path.cpp)
    target_link_libraries(${PROJECT_NAME}_example_dubins_z_path ${PROJECT_NAME} ${catkin_LIBRARIES})

Originally posted by rchml with karma: 16 on 2016-11-17
This answer was ACCEPTED on the original site
Post score: 0


Q:

"URDF/COLLADA file is not a valid robot model" when loading IRB4600 in MoveIt Setup Assistant

I found that all the support pkg under abb kinetic-devel could be open in MoveIt Setup Assistant while all the support pkg under abb_experimental kinetic-devel cannot be open with the notice
"URDF/COLLADA file is not a valid robot model"

and I checked the difference between the two big pkgs and then found that the abb kinetic-devel pkg includes abb_driver and abb_source while abb_experimental kinetic-devel doesn't have.
So I copy the 4600 pkg into the abb kinetic-devel pkg in order to share the abb_driver and abb_source (4400L_30_43.xacro has used the material config in abb_source), but it still cannot be open by MoveIt Setup Assistant.
BTW, I need the irb4600_60_205_moveit_config file to control the manipulator in robotstudio by plan and execute in Rviz.  Shall I config the abb_experimental kinetic-devel after downloading it?

Edit: Here are my handle details

andy@andy-zhaoyang-k42-80:~/catkin_ws$ rosdep install --from-paths src --ignore-src --rosdistro kinetic
#All required rosdeps installed successfully

andy@andy-zhaoyang-k42-80:~/catkin_ws$ catkin_make
Base path: /home/andy/catkin_ws
Source space: /home/andy/catkin_ws/src
Build space: /home/andy/catkin_ws/build
Devel space: /home/andy/catkin_ws/devel
Install space: /home/andy/catkin_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/andy/catkin_ws/build"
####
####
#### Running command: "make -j4 -l4" in "/home/andy/catkin_ws/build"
####
[  0%] Built target trajectory_msgs_generate_messages_nodejs
[  0%] Built target _industrial_msgs_generate_messages_check_deps_DeviceInfo
[  0%] Built target _industrial_msgs_generate_messages_check_deps_StartMotion
[  0%] Built target _industrial_msgs_generate_messages_check_deps_SetRemoteLoggerLevel
[  0%] Built target std_msgs_generate_messages_nodejs
[  0%] Built target _industrial_msgs_generate_messages_check_deps_RobotMode
[  0%] Built target _industrial_msgs_generate_messages_check_deps_DebugLevel
[  0%] Built target _industrial_msgs_generate_messages_check_deps_CmdJointTrajectory
[  0%] Built target _industrial_msgs_generate_messages_check_deps_GetRobotInfo
[  0%] Built target _industrial_msgs_generate_messages_check_deps_StopMotion
[  0%] Built target _industrial_msgs_generate_messages_check_deps_TriState
[  0%] Built target _industrial_msgs_generate_messages_check_deps_RobotStatus
[  0%] Built target trajectory_msgs_generate_messages_py
[  0%] Built target std_msgs_generate_messages_py
[  0%] Built target _industrial_msgs_generate_messages_check_deps_SetDrivePower
[  0%] Built target trajectory_msgs_generate_messages_cpp
[  0%] Built target std_msgs_generate_messages_cpp
[  0%] Built target _industrial_msgs_generate_messages_check_deps_ServiceReturnCode
[  0%] Built target trajectory_msgs_generate_messages_eus
[  0%] Built target std_msgs_generate_messages_eus
[  0%] Built target trajectory_msgs_generate_messages_lisp
[  0%] Built target std_msgs_generate_messages_lisp
[  0%] Built target geometry_msgs_generate_messages_lisp
[  0%] Built target geometry_msgs_generate_messages_cpp
[  0%] Built target geometry_msgs_generate_messages_nodejs
[  0%] Built target geometry_msgs_generate_messages_py
[  0%] Built target geometry_msgs_generate_messages_eus
[  1%] Built target simple_message_dummy
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_matrix33
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_CamSelect
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_gyros_offsets
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_demo
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_phys_measures
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_magneto
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_vector31
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_euler_angles
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_rc_references
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_vision_perf
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_RecordEnable
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_wifi
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_pressure_raw
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_vision_of
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_raw_measures
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_games
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_hdvideo_stream
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_watchdog
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_video_stream
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_time
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_vision_raw
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_FlightAnim
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_zimmu_3000
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_trackers_send
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_references
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_altitude
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_wind_speed
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_pwm
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_Navdata
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_LedAnim
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_vision
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_vision_detect
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_adc_data_frame
[  1%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_kalman_pressure
[  2%] Performing update step for 'ardronelib'
[  2%] Built target _ardrone_autonomy_generate_messages_check_deps_vector21
[  2%] Built target industrial_utils
[  2%] Built target _ardrone_autonomy_generate_messages_check_deps_navdata_trims
[  2%] Built target industrial_robot_client_dummy
[  2%] Performing configure step for 'ardronelib'
No configure
[  2%] Performing build step for 'ardronelib'
[  5%] Built target industrial_msgs_generate_messages_nodejs
make[3]: warning: jobserver unavailable: using -j1.  Add '+' to parent make rule.
[  5%] Built target abb_irb2400_manipulator_moveit_ikfast_plugin
[  9%] Built target industrial_msgs_generate_messages_py
[ 12%] Built target industrial_msgs_generate_messages_cpp
[ 15%] Built target industrial_msgs_generate_messages_eus
Libs already extracted
Building target static
[ 17%] Built target industrial_trajectory_filters
[ 20%] Built target industrial_msgs_generate_messages_lisp
[ 30%] Built target ardrone_autonomy_generate_messages_cpp
[ 39%] Built target ardrone_autonomy_generate_messages_py
[ 48%] Built target ardrone_autonomy_generate_messages_eus
[ 58%] Built target ardrone_autonomy_generate_messages_nodejs
[ 58%] Built target industrial_msgs_generate_messages
[ 67%] Built target ardrone_autonomy_generate_messages_lisp
Architecture x86_64 is already built
Creating universal static lib file from architectures x86_64
[ 73%] Built target simple_message_bswap
Build done.
[ 81%] Built target simple_message_float64
[ 82%] Built target ardrone_autonomy_gencpp
[ 88%] Built target simple_message
Building ARDroneTool/Lib
[ 88%] Built target ardrone_autonomy_generate_messages
[ 90%] Built target industrial_robot_client
[ 92%] Built target industrial_robot_client_bswap
[ 93%] Built target motion_streaming_interface
[ 94%] Built target joint_trajectory_action
[ 95%] Built target motion_download_interface
[ 96%] Built target robot_state
[ 96%] Built target robot_state_bswap
[ 96%] Built target motion_streaming_interface_bswap
[ 96%] Built target abb_driver_motion_download_interface
[ 96%] Built target motion_download_interface_bswap
[ 97%] Built target abb_driver_robot_state
Building ARDroneTool/Lib
[ 97%] Performing install step for 'ardronelib'
make[3]: warning: jobserver unavailable: using -j1.  Add '+' to parent make rule.
[ 98%] Completed 'ardronelib'
[ 98%] Built target ardronelib
[100%] Built target ardrone_driver

andy@andy-zhaoyang-k42-80:~/catkin_ws$ source devel/setup.bash

Originally posted by AndyChou007 on ROS Answers with karma: 13 on 2018-04-24
Post score: 0

Original comments
Comment by gvdhoorn on 2018-04-24:
Please do not post answers, unless you are answering your own question. This is not a forum, but a Q&A site.
In the future, edit your original question, using the edit button/link.
Thanks.
Comment by gvdhoorn on 2018-04-24:
Note: your images are not visible. Please reattach them.
But please do not post images of terminals: copy-paste the text from the terminal into your question.

A:

I believe this is a matter of missing dependencies (in this case probably abb_resources, the driver is not used when loading the xacro in the Setup Assistant).
Please see #q252478 for the general procedure of building packages from sources in ROS.
For your case specifically, please see the Installation section on ros/wiki/abb_experimental.
Please don't copy files or directories from one package/repository to another. It should not be needed and can lead to conflicts later on.

Edit1: I think something is not correct in your workspace setup: the CMakeFiles directory and the CMakeCache.txt file should not be in catkin_ws/src.
Please make sure your workspace setup is correct:

remove catkin_ws/build and catkin_ws/devel
remove src/CMakeFiles and src/CMakeCache.txt
open a new terminal
source /opt/ros/kinetic/setup.bash
cd $HOME/catkin_ws
catkin_make
source $HOME/catkin_ws/devel/setup.bash

Then try:
roslaunch abb_irb4600_support test_irb4600_60_205.launch

If that works, try:
roslaunch moveit_setup_assistant setup_assistant.launch

from the same terminal.

Originally posted by gvdhoorn with karma: 86574 on 2018-04-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by AndyChou007 on 2018-04-24:
I have checked the process of installation by referring the wiki.ros.org/abb_experimental and without any errors. But I could not find irb_4600 relative file under opt/ros/kinetic/share, it means I install the pkg failed? And I still can open the xacro file by MoveIt Setup Assistant.
Comment by AndyChou007 on 2018-04-24:
Besides, the xacro file of irb_4600 doesn't rely on abb_resources while irb_4400 does, maybe it is not a matter of missing dependencies, but a matter of Couldn't find executable named irb4600_60_205.xacro below /opt/ros/kinetic/share/xacro.I just don't know where I make a error during instal
Comment by gvdhoorn on 2018-04-24:
All the xacros stay in your workspace, they are not installed to /opt/ros/...

And I still can open the xacro file by MoveIt Setup Assistant.

I assume you meant to write: I can't open the xacro file?
Comment by AndyChou007 on 2018-04-24:
yes. I can't open the all the xacro files under abb_experimental but can open all the xacro files under abb pkg
Comment by gvdhoorn on 2018-04-24:
I think I'm going to need much more information from you.
Please describe in detail how you setup your workspace, which directories are in it, which steps you followed, etc. You did follow the instructions on the abb_experimental wiki page?
Please show the exact error you see (copy-paste).
Comment by gvdhoorn on 2018-04-24:
I just checked on a test system (Ubuntu Trusty, ROS Indigo), and I can successfully open the IRB4600 xacro in the setup assistant after following the instructions on the wiki page.
You mention a problem with xacro: do you have the package installed? What is the output of dpkg -l | grep xacro?
Comment by AndyChou007 on 2018-04-24:
andy@andy-zhaoyang-k42-80:~/catkin_ws/src$ dpkg -l | grep xacro
ii  ros-kinetic-xacro                                           1.11.3-0xenial-20180328-045553-0800                   amd64        Xacro (XML Macros) Xacro is an XML macro language.
Comment by gvdhoorn on 2018-04-24:
Where is the error message? I don't see any output of the loading procedure of the MoveIt Setup Assistant.
Also: in which catkin workspace are the ABB packages located? I don't see any of the ABB robot support pkgs listed in the catkin_make output. Is that a different workspace?
Comment by AndyChou007 on 2018-04-24:
please see the pictures in the attachments
Comment by AndyChou007 on 2018-04-24:
By following your suggestion, I make it finally. Thank you sooooo much~
Comment by AndyChou007 on 2018-04-25:
BTW, how could I upload the abb_irb4600_moveit_config files pkg to the ros-industrial/abb_experimental repo since Uploads are disabled. And it shows File uploads require push access to this repository when I try to upload my created files. Could you open the upload access?
Comment by gvdhoorn on 2018-04-25:
That is not how this works. Please see this page for some context and suggestions on how to proceed.
In short: fork the repository, add files to your fork, open a pull request.
Comment by AndyChou007 on 2018-04-25:
Thanks, I'm just a novice on Ubuntu and ROS, and I even never know Github and this community before two weeks ago. So I am not clear about how to be a contributor. But I really really obtain too much help from here. Thank you for your answers again.
Comment by gvdhoorn on 2018-04-25:
No need to thank me. Thank you for considering to share your work.
Take your time, read the page I linked you to and when you're ready, submit a PR.
Do realise though that sometimes, getting your contribution accepted can take some time, and may require some changes.
Comment by nf on 2019-05-30:
You might encounter the "Not a valid model error" if you do not source the setup.bash file.


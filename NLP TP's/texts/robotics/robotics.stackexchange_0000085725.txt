Q:

Control the base with the trajectory of MoveIt?

Hi,
I am working with Iiwa(7 DoF) + Omnirob(Omnidirectional platform). My task is making them fullfill mobile manipulation tasks, this means making the platform and arm move synchronously for a certain task.
In order to plan the trajectory I am using moveit. For the planning of the platform trajectory we have two options:

Creating a  P,P,R joints to define the movement of the platform. Each prismatic joint would refer to X and Y and the revolute would be the theta movement.

Define a virtual  planar joint from base to /odom_combined.

In my case I used the {P,P,R} joints to plan the trajectory. So basically I am planning for 3(base) + 7(arm) joints group in Moveit.
Once the plan is done I would have a trajectory in {X,Y;Theta; T} for the base, and a similar one for the arm with each Joint.
My problem comes now.
As far as I know, there is no any controller for the base of the robot that allows you to provide a trajectory(vector of positions with time stamp), but only we can provide a path, as move_base does.
I wonder if anybody knows any controller for omnidirectional platforms in order to provide a trajectory created in moveit {X,Y,Theta,T}. In case not, whats the usual approach for omnidirectional mobile manipulators for synchronous base-arm manipulation?
Thanks alot!

Originally posted by TheCamusean on ROS Answers with karma: 51 on 2018-03-08
Post score: 2

Original comments
Comment by joaocabogon on 2018-07-17:
Can you please share your URDF? How do you relate the base with the 3 PPR joints?

A:

Hi again,
I found an easy solution in the base of ROS.
Basically, I considered my base joints(PPR) as aregular joint and then use this information to send it to my specific robot through a custom Hardware Interface.
http://wiki.ros.org/hardware_interface
In my personal case, I based my HW interface in David Coleman's ros_control boilerplate. Here Github link:
https://github.com/davetcoleman/ros_control_boilerplate
I hope this could be useful for those people willing to do mobile manipulation.
Bye!

Originally posted by TheCamusean with karma: 51 on 2018-04-11
This answer was ACCEPTED on the original site
Post score: 0


Q:

how to use the hokuyo plugin in gazebo

Hello,
For a first test I want to use the gazebo plugin for the Hokuyo node, ( I later want to attach it to a Husky), when I run
$rosrun gazebo_plugins hokuyo_node
The plugin starts and in the terminal appears "starting to spin" but there is no model in gazebo and moreover there are no scan messages published ( which I need for rviz etc).
How can I use the plugin so I can get scan messages ?

Originally posted by BaBs on ROS Answers with karma: 11 on 2012-10-27
Post score: 1

A:

Hello, you should have a laser link which represents the origin of your laser hardware attached to base_link or etc.. in your model such as in turtlebot 's urdf
    <joint name="laser_joint" type="fixed">
    <origin xyz="-0.065 0 0.075" rpy="0 0 0" />
    <parent link="base_link" />
    <child link="laser" />
  </joint>

then in order to use this laser scanner in gazebo you should add laser scanner plugin
    <xacro:macro name="turtlebot_sim_laser">
  <gazebo reference="laser">
    <sensor:ray name="laser">
      <rayCount>180</rayCount>
      <rangeCount>180</rangeCount>
      <laserCount>1</laserCount>
      
      <origin>0.0 0.0 0.0</origin>
      <displayRays>false</displayRays>
      
      <minAngle>-130</minAngle>
      <maxAngle>130</maxAngle>
      
      <minRange>0.08</minRange>
      <maxRange>10.0</maxRange>
      <resRange>0.01</resRange>
      <updateRate>20</updateRate>
      <controller:gazebo_ros_laser name="gazebo_ros_laser_controller" plugin="libgazebo_ros_laser.so">
    <gaussianNoise>0.005</gaussianNoise>
    <alwaysOn>true</alwaysOn>
    <updateRate>20</updateRate>
    <topicName>scan</topicName>
    <frameName>laser</frameName>
    <interface:laser name="gazebo_ros_laser_iface" />
      </controller:gazebo_ros_laser>
    </sensor:ray>
  </gazebo>
</xacro:macro>

Originally posted by cagatay with karma: 1850 on 2012-10-27
This answer was ACCEPTED on the original site
Post score: 3


Q:

Could not find a configuration file for package opencv

I am trying to compile the code given at this page
I am using ROS Groovy on Ubuntu 12.04
When I run catkin_make, I get the following error:
CMake Error at /opt/ros/groovy/share/catkin/cmake/catkinConfig.cmake:72 (find_package):
  Could not find a configuration file for package opencv.

  Set opencv_DIR to the directory containing a CMake configuration file for
  opencv.  The file will have one of the following names:

    opencvConfig.cmake
    opencv-config.cmake

Call Stack (most recent call first):
  learning_image_transport/CMakeLists.txt:7 (find_package)

CMake Error at learning_image_transport/CMakeLists.txt:82 (target_link_libraries):
  Cannot specify link libraries for target "learning_image_transport_node"
  which is not built by this project.

learning_image_transport is my package name.
Cmake file:
cmake_minimum_required(VERSION 2.8.3)
project(learning_image_transport)
find_package(catkin REQUIRED COMPONENTS cv_bridge image_geometry image_transport opencv)
find_package(OpenCV)    
include_directories(include  
 ${catkin_INCLUDE_DIRS} /opt/ros/groovy/share/OpenCV)

Package.xml:
  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>cv_bridge</build_depend>
  <build_depend>image_transport</build_depend>
  <build_depend>opencv2</build_depend>
  <build_depend>image_geometry</build_depend>
  <build_depend>opencv</build_depend>  
  <build_depend>OpenCV</build_depend>
  <run_depend>cv_bridge</run_depend>
  <run_depend>image_transport</run_depend>
  <run_depend>opencv2</run_depend>

I have tried to follow the methods describe in various questions, with same problem, such as this and some more. However, the problem still exists in my case.

Originally posted by Safeer on ROS Answers with karma: 66 on 2014-01-28
Post score: 2

A:

Remove OpenCv Opencv2 etc. from your run and build depends (in package.xml) as well as from the line find_package( catkin REQUIRED COMPONENTS ....  (in CMakeLists.txt)
With catkin in groovy/hydro OpenCV is always embedded as stand-alone package using:
find_package( OpenCV REQUIRED ) 

(Note than I've added the REQUIRED)
Note that you have also to add OpenCV include directories like
include_directories(  ${catkin_INCLUDE_DIRS}  ${OpenCV_INCLUDE_DIRS} )

and for each of your execs/libs you created as target like
add_executable( my_exec my_cpp_file.cpp )

you need to link against both catkin and OpenCV libs:
target_link_libraries ( my_exec ${OpenCV_LIBRARIES} ${catkin_LIBRARIES} )

Originally posted by Wolf with karma: 7555 on 2014-01-28
This answer was ACCEPTED on the original site
Post score: 8

Original comments
Comment by Safeer on 2014-01-28:
Thanks alot! The code built like a charm!
But still the code is showing no output. It is publishing and subscribing successfully to the topics but it's not opening any window as stated in the link of the code, mentioned above
Comment by Wolf on 2014-01-28:
Try adding a cv::startWindowThread(); after cv::namedWindow();, see http://answers.ros.org/question/63570/problem-facing-in-integration-of-ros-and-opencv/#118206
Comment by Safeer on 2014-01-28:
Thanks for your response. The window is now showing but still there is no image in it.
Comment by Wolf on 2014-01-29:
Do input and output image show up on rosrun image_view image_view image:=/camera/image_raw and  rosrun image_view image_view image:=/image_converter/output_video? At which rate is your input image published approx.?
Comment by Safeer on 2014-01-29:
I have tried these commands
rosrun image_view image_view image:=/camera/image_raw
rosrun image_view image_view image:=/image_converter/output_video
A window is opening but no output is shown.
Comment by Wolf on 2014-01-29:
Are there images published on topic /camera/image_raw ? At which rate? The node you mentioned processes images coming in there, so it depends on a second node, e.g. camera driver/rosbag which publishes to this topic...
Comment by Safeer on 2014-01-31:
Thanks for your quick reply.
Our problem is solved.
Comment by Shantnu on 2016-05-31:
Hi all,
I am also unable to catkin_make my package. I am following the same tutorial. I tried doing what Wolf said, but it doesn't help. My ROS version is indigo and my OpenCV version is 3.1.0. Could someone help me?


Q:

[Build Error] rosmake openni_camera

[ rosmake ] Packages requested are: ['openni_camera']                           
[ rosmake ] Logging to directory/home/juno/.ros/rosmake/rosmake_output-20110531-135105
[ rosmake ] Expanded args ['openni_camera'] to:
['openni_camera']               
[ rosmake ] Checking rosdeps compliance for packages openni_camera.  This may take a few seconds.
[ rosmake ] rosdep check passed all system dependencies in packages             
[rosmake-0] Starting >>> rosbuild [ make ]                                      
[rosmake-0] Finished <<< rosbuild ROS_NOBUILD in package rosbuild
 No Makefile in package rosbuild
[rosmake-1] Starting >>> cpp_common [ make ]                                    
[rosmake-1] Finished <<< cpp_common ROS_NOBUILD in package cpp_common           
[rosmake-2] Starting >>> roslib [ make ]                                        
[rosmake-2] Finished <<< roslib ROS_NOBUILD in package roslib                   
[rosmake-3] Starting >>> xmlrpcpp [ make ]                                      
[rosmake-3] Finished <<< xmlrpcpp ROS_NOBUILD in package xmlrpcpp               
[rosmake-4] Starting >>> rosgraph_msgs [ make ]                                 
[rosmake-4] Finished <<< rosgraph_msgs ROS_NOBUILD in package rosgraph_msgs     
[ rosmake ] [ make ] [ rosbuild: 0.1 sec ] [ cpp_c... [ 5 Active 1/54 Complete ]
[rosmake-5] Starting >>> tinyxml [ make ]                                       
[rosmake-5] Finished <<< tinyxml ROS_NOBUILD in package tinyxml                 
[rosmake-6] Starting >>> smclib [ make ]                                        
[rosmake-6] Finished <<< smclib ROS_NOBUILD in package smclib                   
[ rosmake ] [ make ] [ rosbuild: 0.2 sec ] [ cpp_c... [ 7 Active 1/54 Complete ]
[ rosmake ] [ make ] [ rosbuild: 0.3 sec ] [ cpp_c... [ 7 Active 1/54 Complete ]
[rosmake-7] Starting >>> openni [ make ]                                        
[rosmake-0] Starting >>> roslang [ make ]                                       
[rosmake-1] Starting >>> roscpp_traits [ make ]                                 
[rosmake-3] Starting >>> std_msgs [ make ]                                      
[rosmake-0] Finished <<< roslang ROS_NOBUILD in package roslang
 No Makefile in package roslang
[rosmake-2] Starting >>> rostime [ make ]                                       
[rosmake-5] Starting >>> bond [ make ]                                          
[rosmake-6] Starting >>> rosclean [ make ]                                      
[rosmake-4] Starting >>> rosgraph [ make ]                                      
[rosmake-0] Starting >>> rosmaster [ make ]                                     
[rosmake-5] Finished <<< bond ROS_NOBUILD in package bond                       
[rosmake-5] Starting >>> rosunit [ make ]                                       
[rosmake-4] Finished <<< rosgraph ROS_NOBUILD in package rosgraph               
[rosmake-6] Finished <<< rosclean ROS_NOBUILD in package rosclean               
[rosmake-1] Finished <<< roscpp_traits ROS_NOBUILD in package roscpp_traits     
[rosmake-2] Finished <<< rostime ROS_NOBUILD in package rostime                 
[rosmake-3] Finished <<< std_msgs ROS_NOBUILD in package std_msgs               
[rosmake-0] Finished <<< rosmaster ROS_NOBUILD in package rosmaster             
[rosmake-5] Finished <<< rosunit ROS_NOBUILD in package rosunit                 
[rosmake-4] Starting >>> rospy [ make ]                                         
[rosmake-4] Finished <<< rospy ROS_NOBUILD in package rospy                     
[rosmake-7] Finished <<< openni [PASS] [ 0.02 seconds ]                         
[ rosmake ] [ make ] [ openni: 0.1 sec ] [ rostim... [ 4 Active 15/54 Complete ]
[rosmake-1] Starting >>> eigen [ make ]                                         
[rosmake-3] Starting >>> roscpp_serialization [ make ]                          
[rosmake-6] Starting >>> rosconsole [ make ]                                    
[rosmake-1] Finished <<< eigen ROS_NOBUILD in package eigen                     
[rosmake-6] Finished <<< rosconsole ROS_NOBUILD in package rosconsole           
[rosmake-3] Finished <<< roscpp_serialization ROS_NOBUILD in package roscpp_serialization
[rosmake-0] Starting >>> angles [ make ]                                        
[rosmake-2] Starting >>> ps_engine [ make ]                                     
[rosmake-0] Finished <<< angles ROS_NOBUILD in package angles                   
[rosmake-5] Starting >>> rosnode [ make ]                                       
[rosmake-3] Starting >>> roscpp [ make ]                                        
[rosmake-7] Starting >>> pluginlib [ make ]                                     
[rosmake-5] Finished <<< rosnode ROS_NOBUILD in package rosnode                 
[rosmake-3] Finished <<< roscpp ROS_NOBUILD in package roscpp                   
[rosmake-7] Finished <<< pluginlib ROS_NOBUILD in package pluginlib             
[rosmake-2] Finished <<< ps_engine [PASS] [ 0.02 seconds ]                      
[ rosmake ] [ make ] [ ps_engine: 0.0 sec ] [ ros... [ 4 Active 23/54 Complete ]
[rosmake-1] Starting >>> cminpack [ make ]                                      
[rosmake-1] Finished <<< cminpack ROS_NOBUILD in package cminpack               
[rosmake-6] Starting >>> flann [ make ]                                         
[rosmake-6] Finished <<< flann ROS_NOBUILD in package flann                     
[rosmake-4] Starting >>> opencv2 [ make ]                                       
[rosmake-4] Finished <<< opencv2 ROS_NOBUILD in package opencv2                 
[rosmake-3] Starting >>> bondcpp [ make ]                                       
[rosmake-5] Starting >>> rosout [ make ]                                        
[rosmake-3] Finished <<< bondcpp ROS_NOBUILD in package bondcpp                 
[rosmake-5] Finished <<< rosout ROS_NOBUILD in package rosout                   
[rosmake-3] Starting >>> nodelet [ make ]                                       
[rosmake-5] Starting >>> roslaunch [ make ]                                     
[rosmake-3] Finished <<< nodelet ROS_NOBUILD in package nodelet                 
[rosmake-5] Finished <<< roslaunch ROS_NOBUILD in package roslaunch
 No Makefile in package roslaunch
[rosmake-3] Starting >>> rostest [ make ]                                       
[rosmake-3] Finished <<< rostest ROS_NOBUILD in package rostest                 
[rosmake-3] Starting >>> topic_tools [ make ]                                   
[rosmake-2] Starting >>> message_filters [ make ]                               
[rosmake-1] Starting >>> bullet [ make ]                                        
[ rosmake ] [ make ] [ topic_tools: 0.0 sec ] [ m... [ 3 Active 35/54 Complete ]
[rosmake-3] Finished <<< topic_tools ROS_NOBUILD in package topic_tools         
[rosmake-1] Finished <<< bullet ROS_NOBUILD in package bullet                   
[rosmake-3] Starting >>> rosbag [ make ]                                        
[rosmake-2] Finished <<< message_filters ROS_NOBUILD in package message_filters 
[rosmake-3] Finished <<< rosbag ROS_NOBUILD in package rosbag                   
[rosmake-6] Starting >>> rosbagmigration [ make ]                               
[rosmake-3] Starting >>> rosmsg [ make ]                                        
[rosmake-2] Starting >>> nodelet_topic_tools [ make ]                           
[rosmake-2] Finished <<< nodelet_topic_tools ROS_NOBUILD in package nodelet_topic_tools
[rosmake-3] Finished <<< rosmsg ROS_NOBUILD in package rosmsg
 No Makefile in package rosmsg
[rosmake-2] Starting >>> rostopic [ make ]                                      
[rosmake-6] Finished <<< rosbagmigration ROS_NOBUILD in package rosbagmigration
 No Makefile in package rosbagmigration
[rosmake-5] Starting >>> geometry_msgs [ make ]                                 
[rosmake-2] Finished <<< rostopic ROS_NOBUILD in package rostopic               
[rosmake-5] Finished <<< geometry_msgs ROS_NOBUILD in package geometry_msgs     
[rosmake-4] Starting >>> rosservice [ make ]                                    
[rosmake-3] Starting >>> sensor_msgs [ make ]                                   
[rosmake-4] Finished <<< rosservice ROS_NOBUILD in package rosservice           
[rosmake-4] Starting >>> dynamic_reconfigure [ make ]                           
[rosmake-0] Starting >>> roswtf [ make ]                                        
[rosmake-4] Finished <<< dynamic_reconfigure ROS_NOBUILD in package dynamic_reconfigure
[rosmake-3] Finished <<< sensor_msgs ROS_NOBUILD in package sensor_msgs         
[rosmake-3] Starting >>> image_transport [ make ]                               
[rosmake-2] Starting >>> stereo_msgs [ make ]                                   
[rosmake-6] Starting >>> pcl [ make ]                                           
[rosmake-0] Finished <<< roswtf ROS_NOBUILD in package roswtf                   
[rosmake-0] Starting >>> tf [ make ]                                            
[rosmake-3] Finished <<< image_transport ROS_NOBUILD in package image_transport 
[rosmake-6] Finished <<< pcl ROS_NOBUILD in package pcl                         
[rosmake-0] Finished <<< tf ROS_NOBUILD in package tf                           
[rosmake-2] Finished <<< stereo_msgs ROS_NOBUILD in package stereo_msgs         
[rosmake-6] Starting >>> pcl_ros [ make ]                                       
[rosmake-6] Finished <<< pcl_ros ROS_NOBUILD in package pcl_ros                 
[rosmake-6] Starting >>> openni_camera [ make ]                                 
[ rosmake ] [ make ] [ openni_camera: 0.1 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.2 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.3 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.4 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.5 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.6 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.7 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.8 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 0.9 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.0 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.1 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.2 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.3 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.4 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.5 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] [ make ] [ openni_camera: 1.6 sec ]      [ 1 Active 53/54 Complete ]
[ rosmake ] Last 40 lines
{-------------------------------------------------------------------------------
  [rosbuild] Including /opt/ros/diamondback/stacks/ros_comm/clients/roslisp/cmake/roslisp.cmake
  [rosbuild] Including /opt/ros/diamondback/stacks/ros_comm/clients/rospy/cmake/rospy.cmake
  [rosbuild] Including /opt/ros/diamondback/stacks/ros_comm/clients/cpp/roscpp/cmake/roscpp.cmake
  -- [rosbuild] Found SSE3 extensions, using flags: -msse3 -mfpmath=sse
  MSG: gencfg_cpp on:OpenNI.cfg
  Finding dependencies for /home/juno/ni/ni/openni_camera/cfg/OpenNI.cfg
  -- Configuring done
  -- Generating done
  -- Build files have been written to: /home/juno/ni/ni/openni_camera/build
  cd build && make -l8
  make[1]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[2]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  [  8%] Built target ROSBUILD_gencfg_cpp
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  [  8%] Built target rospack_gencfg
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  [  8%] Built target rospack_genmsg_libexe
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  [  8%] Built target rosbuild_precompile
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  [ 75%] Built target openni_driver
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  make[3]: Entering directory `/home/juno/ni/ni/openni_camera/build'
  Linking CXX executable ../bin/openni_example
  /usr/bin/ld: cannot find -lusb
  collect2: ld returned 1 exit status
  make[3]: *** [../bin/openni_example] Error 1
  make[3]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  make[2]: *** [CMakeFiles/openni_example.dir/all] Error 2
  make[2]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
  make[1]: *** [all] Error 2
  make[1]: Leaving directory `/home/juno/ni/ni/openni_camera/build'
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package openni_camera written to:
[ rosmake ]    /home/juno/.ros/rosmake/rosmake_output-20110531-135105/openni_camera/build_output.log
[rosmake-6] Finished <<< openni_camera [FAIL] [ 1.61 seconds ]                  
[ rosmake ] Halting due to failure in package openni_camera. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:                                                            
[ rosmake ] Built 54 packages with 1 failures.                                  
[ rosmake ] Summary output to directory                                         
[ rosmake ] /home/juno/.ros/rosmake/rosmake_output-20110531-135105              

Originally posted by Juno on ROS Answers with karma: 1 on 2011-05-30
Post score: 0

Original comments
Comment by Juno on 2011-05-30:
i used "$ rosmake openni_camera"
Comment by Eric Perko on 2011-05-30:
What command did you use? "rosmake openni_kinect"? Also, note that as documented at http://www.ros.org/wiki/ni , the ni stack is deprecated in favor of the openni_kinect stack.

A:

Looks like you are missing the libusb. Try installing the Ubuntu package libusb-1.0.0 and build again. What I don't get is why rosdep didn't complain, because openni_camera depends on libusb-1.0.0 (in its manifest.xml file).
Free bonus tip (how to debug this kind of error):
Find the line that caused the error:
/usr/bin/ld: cannot find -lusb

This means the linker (ld) cannot find a file called libusb*.so*. Go to http://packages.ubuntu.com/ and search for packages containing files whose name contains libusb.

Originally posted by Martin Günther with karma: 11816 on 2011-05-30
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Eric Perko on 2011-05-31:
That's my thought too... though maybe openni_camera at the time wasn't quite right. Based on those directory paths, it looks like @Juno is installing the deprecated "ni" stack and not the actually support "openni_kinect" stack. It's possible NI stack's dependencies aren't quite right anymore.
Comment by Martin Günther on 2011-05-31:
Yes, that was what I was wondering about. Doesn't the line "rosdep check passed all system dependencies in packages" mean that all rosdep dependencies are satisfied, and so "rosmake --rosdep-install openni_camera" shouldn't install anything?
Comment by Eric Perko on 2011-05-31:
Installing using "rosmake --rosdep-install openni_camera" should have fixed things.
Comment by Juno on 2011-05-31:
thx dude I fixed it all :D Thx a lot!


Q:

How to publish topic with old rosbag time?

I first set /use_sim_time to true. Then play the ros bag file. My code subscribe the point cloud in the bag. After some processing, my code publish the processed point cloud. However, the rviz can only display the point cloud in the bag. It can't display the processed point cloud. I guess the processed point cloud use the current time and the rviz use the old time, so the processed point cloud can not be displayed. So, how to publish the processed point cloud using the old bag time?

Originally posted by somebodyus on ROS Answers with karma: 113 on 2014-11-11
Post score: 1

A:

Your guess and proposed solution is the right way to go.
However, this is in your code, so you have to do that.

Originally posted by dornhege with karma: 31395 on 2014-11-11
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by somebodyus on 2014-11-11:
How to do that?
My code:
sensor_msgs::PointCloud2 psbmsg;
pcl::toROSMsg(cloud_processed, psbmsg);
pub.publish(psbmsg);
Comment by dornhege on 2014-11-11:
psbmsg.header = input_cloud.header;
Comment by somebodyus on 2014-11-11:
Still doesn't work...
rostopic echo /publishedTopic
WARNING: no messages received and simulated time is active.
Is /clock being published?
Comment by somebodyus on 2014-11-11:
Thank you very much. It works.
It should be psbmsg.header = submsg.header;


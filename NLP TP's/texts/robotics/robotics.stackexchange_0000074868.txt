Q:

source install + opencv source install

I'm installing ROS Indigo from source on Fedora 23 and I also have a source install of openCV 2.4.12.
After I compiled everything when I try to run rosrun rviz rviz
I have this error :
rosrun rviz rviz
/home/malcolm/ros_catkin_ws/source_indigo/install_isolated/lib/rviz/rviz: error while loading shared libraries: libopencv_videostab.so.2.4: cannot open shared object file: No such file or directory

But it is installed :
$ pwd
/usr/local/lib

$ ls -la | grep libopencv_videostab
lrwxrwxrwx.  1 root root      26 Jun 20 12:53 libopencv_videostab.so -> libopencv_videostab.so.2.4
lrwxrwxrwx.  1 root root      29 Jun 20 12:53 libopencv_videostab.so.2.4 -> libopencv_videostab.so.2.4.12
-rwxr-xr-x.  1 root root  297416 Jun 28 12:06 libopencv_videostab.so.2.4.12

I found this very similar question but I already reinstalled opencv and reinstalled ros and it didn't change anything. It worked before with the repo install.
Any idea on what is happening ?

Originally posted by Maya on ROS Answers with karma: 1172 on 2016-06-28
Post score: 0

A:

So I don't understand why exactly but this seems to be the answer :
$ sudo sh -c 'echo "/usr/local/lib" > /etc/ld.so.conf.d/opencv.conf'
$ sudo ldconfig

Found the solution from here

Originally posted by Maya with karma: 1172 on 2016-06-28
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by BrannonKing on 2016-06-30:
Yes, this is something to understand when compiling on Fedora. Unless you manually specify a lib prefix when calling configure/cmake, the result will go to /usr/local/lib or /usr/local/lib64. You need to add both of those the lib search path using ldconfig, i.e. sudo ldconfig path1 path2


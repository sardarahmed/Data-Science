Q:

State of Turtlebot simulation using Gazebo in fuerte and groovy

Note: This post could both be posted to ROS or Gazebo Q/A, but it is mainly related to the state of a ROS package (turtlebot_gazebo), so I figured it makes sense to post it here.
We successfully used Turtlebot simulation using Gazebo in electric for a some projects a few months ago. Coming back to try it using fuerte and groovy, it seems that the turtlebot_simulator package is in a sad state for both releases. In fuerte, spamming the console with
Warning [RaySensor.cc:206] ranges not constructed yet (zero sized)

still persists since more than half a year (see for example here and here). Also, when I try to spawn the robot into a world, using robot.launch, only the wheels are visible. OTOH, with turtlebot_empty_world.launch the whole robot appears.
On groovy, it doesn't even start with the output attached below.
My questions are:

What is the recommended ROS distro to
use for Turtlebot simulation with
right now?
Is anyone else using it
with fuerte or groovy right now?
Will simulation for the Kobuki robot
be    available for groovy (Thus
serving as    a replacement for the
Turtlebot    simulator)?

Groovy output:
kohlbrecher@opstation:~$ roslaunch turtlebot_gazebo  turtlebot_empty_world.launch 
... logging to /home/kohlbrecher/.ros/log/c267fb44-6489-11e2-967d-f0bf97da25e7/roslaunch-opstation-32659.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://opstation:53565/

SUMMARY
========

PARAMETERS
 * /diagnostic_aggregator/analyzers/digital_io/path
 * /diagnostic_aggregator/analyzers/digital_io/startswith
 * /diagnostic_aggregator/analyzers/digital_io/timeout
 * /diagnostic_aggregator/analyzers/digital_io/type
 * /diagnostic_aggregator/analyzers/mode/path
 * /diagnostic_aggregator/analyzers/mode/startswith
 * /diagnostic_aggregator/analyzers/mode/timeout
 * /diagnostic_aggregator/analyzers/mode/type
 * /diagnostic_aggregator/analyzers/nodes/contains
 * /diagnostic_aggregator/analyzers/nodes/path
 * /diagnostic_aggregator/analyzers/nodes/timeout
 * /diagnostic_aggregator/analyzers/nodes/type
 * /diagnostic_aggregator/analyzers/power/path
 * /diagnostic_aggregator/analyzers/power/startswith
 * /diagnostic_aggregator/analyzers/power/timeout
 * /diagnostic_aggregator/analyzers/power/type
 * /diagnostic_aggregator/analyzers/sensors/path
 * /diagnostic_aggregator/analyzers/sensors/startswith
 * /diagnostic_aggregator/analyzers/sensors/timeout
 * /diagnostic_aggregator/analyzers/sensors/type
 * /diagnostic_aggregator/base_path
 * /diagnostic_aggregator/pub_rate
 * /kinect_laser/max_height
 * /kinect_laser/min_height
 * /kinect_laser/output_frame_id
 * /kinect_laser_narrow/max_height
 * /kinect_laser_narrow/min_height
 * /kinect_laser_narrow/output_frame_id
 * /pointcloud_throttle/max_rate
 * /robot_description
 * /robot_pose_ekf/freq
 * /robot_pose_ekf/imu_used
 * /robot_pose_ekf/odom_used
 * /robot_pose_ekf/publish_tf
 * /robot_pose_ekf/sensor_timeout
 * /robot_pose_ekf/vo_used
 * /robot_state_publisher/publish_frequency
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    diagnostic_aggregator (diagnostic_aggregator/aggregator_node)
    gazebo (gazebo/debug)
    gazebo_gui (gazebo/gui)
    kinect_laser (nodelet/nodelet)
    kinect_laser_narrow (nodelet/nodelet)
    pointcloud_throttle (nodelet/nodelet)
    robot_pose_ekf (robot_pose_ekf/robot_pose_ekf)
    robot_state_publisher (robot_state_publisher/state_publisher)
    spawn_turtlebot_model (gazebo/spawn_model)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
process[gazebo-1]: started with pid [32687]
process[gazebo_gui-2]: started with pid [32697]
process[spawn_turtlebot_model-3]: started with pid [32701]
process[diagnostic_aggregator-4]: started with pid [32702]
process[robot_state_publisher-5]: started with pid [32723]
process[robot_pose_ekf-6]: started with pid [32734]
process[pointcloud_throttle-7]: started with pid [32735]
process[kinect_laser-8]: started with pid [32736]
process[kinect_laser_narrow-9]: started with pid [332]
GNU gdb (Ubuntu/Linaro 7.4-2012.04-0ubuntu2.1) 7.4-2012.04
Copyright (C) 2012 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-linux-gnu".
For bug reporting instructions, please see:
<http://bugs.launchpad.net/gdb-linaro/>...
/opt/ros/groovy/lib/robot_state_publisher/state_publisher
[ WARN] [1358855383.385256020]: The 'state_publisher' executable is deprecated. Please use 'robot_state_publisher' instead
Reading symbols from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/bin/gzserver...(no debugging symbols found)...done.
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
Gazebo multi-robot simulator, version 1.2.5
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/lib/x86_64-linux-gnu/libthread_db.so.1".
loading model xml from ros parameter
[INFO] [WallTime: 1358855384.585216] [0.000000] waiting for service /gazebo/spawn_urdf_model
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
Gazebo multi-robot simulator, version 1.2.5
Copyright (C) 2012 Nate Koenig, John Hsu, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffe0272700 (LWP 543)]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffdfa71700 (LWP 544)]
Warning [parser.cc:358] Converting a deprecatd SDF source[/opt/ros/groovy/stacks/turtlebot_simulator/turtlebot_gazebo/worlds/empty.world].
  Version[1.0] to Version[1.2]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [Converter.cc:191] Deprecated SDF Values in original file:
<background rgba='0.5 0.5 0.5 1'

Warning [Converter.cc:191] Deprecated SDF Values in original file:
<background

[New Thread 0x7fffdf270700 (LWP 546)]
[New Thread 0x7fffdea6f700 (LWP 547)]
[New Thread 0x7fffde26e700 (LWP 548)]
[New Thread 0x7fffdda6d700 (LWP 557)]
[New Thread 0x7fffdd26c700 (LWP 558)]
[New Thread 0x7fffdca6b700 (LWP 559)]
Msg Waiting for master[ INFO] [1358855394.205655838]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...

Msg Connected to gazebo master @ http://localhost:11345
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffbc8bd700 (LWP 574)]
[New Thread 0x7fffb3fff700 (LWP 575)]
[New Thread 0x7fffb37fe700 (LWP 576)]
[New Thread 0x7fffb2ffd700 (LWP 577)]
[New Thread 0x7fffb27fc700 (LWP 615)]
[New Thread 0x7fffb1ffb700 (LWP 616)]
[New Thread 0x7fffb0ffa700 (LWP 621)]
Warning [parser.cc:374] Gazebo SDF has no <gazebo> element in file[data-string]
Error [parser_urdf.cc:519] extension [<blob xmlns:controller='http://gazebosim.org/'  xmlns:joint='http://gazebosim.org/'  xmlns:body='http://gazebosim.org/'  xmlns:interface='http://gazebosim.org/'  xmlns:sensor='http://gazebosim.org/'><fdir value="1 0 0" /></blob>] not converted.

Program received signal SIGSEGV, Segmentation fault.
[Switching to Thread 0x7fffb0ffa700 (LWP 621)]
0x00007ffff78d99e5 in sdf::Element::ToString(std::string const&, std::basic_ostringstream<char, std::char_traits<char>, std::allocator<char> >&) const ()
   from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sdf_interface.so.1
(gdb) Warning [ModelDatabase.cc:69] GAZEBO_MODEL_DATABASE_URI not set
Warning [ModelDatabase.cc:69] GAZEBO_MODEL_DATABASE_URI not set
Warning [ModelDatabase.cc:69] GAZEBO_MODEL_DATABASE_URI not set
Warning [ModelDatabase.cc:113] Unable to connect to model database using [/]. Only locally installed models will be available.

Originally posted by Stefan Kohlbrecher on ROS Answers with karma: 24361 on 2013-01-22
Post score: 2

A:

What is the recommended ROS distro to
use for Turtlebot simulation with
right now?

Electric or Fuerte, depending on which version of Gazebo you want (if you want v1.0 or greater, you need Fuerte)

Is anyone else using it with fuerte or groovy right now?

We use it occasionally with Fuerte, never with Groovy (it hasn't been ported to Groovy yet due to another set of major Gazebo changes)

Will simulation for the Kobuki robot
be available for groovy (Thus serving
as a replacement for the Turtlebot
simulator)?

Yes, it will be made available, but it's not ported yet

Originally posted by Ryan with karma: 3248 on 2013-01-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Stefan Kohlbrecher on 2013-02-20:
As also evidenced by this question: http://answers.ros.org/question/55697/turtlebot-gazebo-simulator-available-in-groovy/ it probably would make sense to not release .debs if it is known that stuff hasn't been ported yet. The current situation is very frustrating for anyone trying it.


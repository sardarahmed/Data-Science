Q:

Adding both a timer and subscription to the executor seems to cause error_loop() to run

Hi all, I'm working with micro-ros and I'm trying to add in my script a timer and subscription, but always it cause an error in error_loop when itâ€™s execued. It's posible to have them both in the same script?.

RCCHECK(rclc_executor_init(&executor, &support.context, 1, &allocator));

RCCHECK(rclc_executor_add_subscription(&executor, &subscriber, &msg_cmd_vel, &subscription_callback, ALWAYS));

RCCHECK(rclc_executor_add_timer(&executor, &timer));

Thank you for your help.

Originally posted by jarain78 on ROS Answers with karma: 9 on 2021-08-20
Post score: 0

A:

You are initing the executor with 1 handle (check the 3th argument) and then adding a sub and a timer.
Just do:
RCCHECK(rclc_executor_init(&executor, &support.context, 2, &allocator));

Originally posted by Pablogs with karma: 443 on 2021-08-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by jarain78 on 2021-08-23:
Hi Pablo, thank you for replying, your suggestion has solved my problem.


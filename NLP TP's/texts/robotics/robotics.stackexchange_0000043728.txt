Q:

How to use rosbag::Recorder (C++ API)

Hello together,
I'm new to ROS. I want to record two camera topics to a bag-file with help of the c++ API of rosbag. In this namespace I found the class Recorder, which seems to work like the command line tool rosbag. Unfortunately this class has just a public function to run ( run() ) the recorder, but there is now function to stop it. Has somebody an idea how to use it? Or is it better to use the rosbag::write() function?
Thanks in advance
Klaus

Originally posted by LetThemDance on ROS Answers with karma: 21 on 2012-08-30
Post score: 1

Original comments
Comment by lucasw on 2015-09-23:
I tried deleting the recorder object when I was done with it, but it dies messily usr/include/boost/thread/pthread/condition_variable.hpp:168: boost::condition_variable_any::~condition_variable_any(): Assertion !pthread_mutex_destroy(&internal_mutex)' failed. Aborted (core dumped)

A:

I'm not sure about stopping the recording through the API, but an alternative solution may be to start/stop bagging when your camera nodes start/stop running.  You can do this by including rosbag in your launch file.  .

Originally posted by amittleider with karma: 227 on 2013-03-08
This answer was ACCEPTED on the original site
Post score: 0


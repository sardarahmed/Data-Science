Q:

Fail to load Mesh with STL on Gazebo

I try to load my robot sdf file. But Gazebo cannot load my stl mesh and give these errors
[Err] [SystemPaths.cc:378] Unable to find file with URI [model://hexapod_description/mesh/link1.STL]
[Err] [SystemPaths.cc:473] Could not resolve file [model://hexapod_description/mesh/link1.STL]
[Err] [MeshManager.cc:173] Unable to find file[model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [SystemPaths.cc:378] Unable to find file with URI [model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [SystemPaths.cc:473] Could not resolve file [model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [MeshManager.cc:173] Unable to find file[model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [MeshDescriptor.cc:56] Mesh manager can't find mesh named [model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [Ogre2MeshFactory.cc:562] Cannot load null mesh [model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [Ogre2MeshFactory.cc:125] Failed to get Ogre item for [model://hexapod_description/mesh/link1.STL]
[GUI] [Err] [SceneManager.cc:404] Failed to load geometry for visual: link1_visual

I can load it up on Gazebo Fortress, but it cannot be visually seen. Here is my sdf file:
<sdf version='1.7'>
  <model name='hexapod'>
    <link name='link1'>
      <inertial>
        <pose>0 0 1 0 -0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>0.334167</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.334167</iyy>
          <iyz>0</iyz>
          <izz>0.00166667</izz>
        </inertia>
      </inertial>
      <collision name='link1_collision'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://hexapod_description/mesh/link1.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='link1_visual'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://hexapod_description/mesh/link1.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
  </model>
</sdf>

Does anyone know why gazebo cannot load my STL file? I export it from Solidwork file and it works fine in RVIZ
UPDATE: I moved my STL file into the same folder with my SDF file. I now load without any error but still being invisible. Does anyone know what cause it?
Here is my new sdf file:
<sdf version='1.7'>
  <model name='hexapod'>
    <link name='link1'>
      <inertial>
        <pose>0 0 1 0 -0 0</pose>
        <mass>1</mass>
        <inertia>
          <ixx>0.334167</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.334167</iyy>
          <iyz>0</iyz>
          <izz>0.00166667</izz>
        </inertia>
      </inertial>
      <collision name='link1_collision'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>link1.STL</uri>
          </mesh>
        </geometry>
        <surface>
          <contact>
            <ode/>
          </contact>
          <friction>
            <ode/>
          </friction>
        </surface>
      </collision>
      <visual name='link1_visual'>
        <pose>0 0 0 0 -0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>link1.STL</uri>
          </mesh>
        </geometry>
        <material>
          <script>
            <name>Gazebo/Orange</name>
            <uri>file://media/materials/scripts/gazebo.material</uri>
          </script>
        </material>
      </visual>
    </link>
  </model>
</sdf>

SOLVED: I made a mistake in my IGN_GAZEBO_RESOURCE_PATH. Here is my correct one:
export IGN_GAZEBO_RESOURCE_PATH="$HOME/uchi/hexapod_ws/"
If you think your path is correct, make sure to source your workspace before running

A:

About your first problem:
I think you just have to delete model:// to be able to find your stl file:
<mesh>
  <scale>1 1 1</scale>
  <uri>hexapod_description/mesh/link1.STL</uri>
</mesh>

About your second problem with the invisibility:
Are your sure your model is invisible? Maybe it's a scaling problem and your imported model is just very small or very large. I faced the same problem while converting some meshes and it turned out there was a problem between US and EU decimal sepearation, so that my model was scaled up about 1000x and I had to zoom out very far to see it.


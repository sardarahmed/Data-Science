Q:

turtlebot gmapping with electric

Hi,
I upgraded to electric and the gmapping is not workind. I think that the problem is that the base_footprint is not conected to the odometry. I can see it in the RVIZ if I cheeck the TF, in Frames, /base_footprint doesn't have a parent.
Where can I find the code for this TF and change it?
Thanks.

Originally posted by apalomer on ROS Answers with karma: 318 on 2011-11-20
Post score: 0

Original comments
Comment by osuairt on 2011-12-06:
I've had the same issue. However, I compiled the Electric source. As I was doing the teleop around the room, I was getting error messages that kept saying that base_footprint wasn't getting mapped to the odom.
Comment by apalomer on 2011-11-27:
I haven't changed anything but the position of the kinect on the turtlebot and now it works.... I really don't understand!
Comment by mmwise on 2011-11-26:
can you please provide more information what version of the turtlebot software are you running? and can you run rosrun tf view_frames . this will create a pdf of your tf tree, can you please attach the pdf to this page so I can look at it.
Comment by apalomer on 2011-11-21:
Well, it's juts that the transform from the robot to the odometry is not there, and I want to add this part, but I don't know where the transform code is.
Comment by 130s on 2011-11-21:
Can you describe the phenomenon more?

A:

You need to run robot_pose_ekf to get the /odom frame in your tf tree. From what I can tell, in diamondback it was run whenever the robot was "brought up" ... but in electric, this seems to have been changed.
Example launch file:
<node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
  <param name="freq" value="10.0"/>
  <param name="sensor_timeout" value="1.0"/>
  <param name="publish_tf" value="true"/>
  <param name="odom_used" value="true"/>
  <param name="imu_used" value="true"/>
  <param name="vo_used" value="false"/>
  <param name="output_frame" value="odom"/>
  <remap from="imu_data" to="imu/data"/>
</node>

Originally posted by Nick Armstrong-Crews with karma: 481 on 2011-12-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by fergs on 2011-12-24:
In more recent releases, the ekf filter is launched with the robot minimal.launch so that odometry is always available.
Comment by Nick Armstrong-Crews on 2011-12-23:
oops, forgot   enclosing tags


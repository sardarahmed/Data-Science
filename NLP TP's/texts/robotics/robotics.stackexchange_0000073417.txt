Q:

republishing the data from publisher

Hi, I'm trying to subscribe the data from leddar/scan then publish it to rviz to compare after the median filtering the data will run off or not.
But after I collect it then publish it to rviz to visualize the data, it shows me a Vertical line compare to the leddar/scan visualize data. in the follow photo, the rainbow line is the leddar/scan and the white line is my collected then republish data.
My question is how to let the republish data become same display way with original data?
It's this due to I miss some parameter or my collect data way was wrong?
I can share the original cpp file with you by this link: https://drive.google.com/open?id=0B6JF01xXRuNbb1hNRXJrSll0cHc
inside the leddar.cpp was the original package src, the Readleddar.cpp was I writing to subscribe the data.

Originally posted by Zero on ROS Answers with karma: 104 on 2016-04-19
Post score: 0

A:

The angle information (angle_min, angle_max, angle_increment) in your republished message are all zero. Looking at the code that most likely happens because you have not specified the parameter fov correctly, so your internal variable field_of_view gets set to 0 per default.
/edit: You can compute the field_of_view from the data you already have:
msg.angle_min = angles::from_degrees(-field_of_view / 2.0);
msg.angle_max = angles::from_degrees(field_of_view / 2.0);
msg.angle_increment = angles::from_degrees(field_of_view / BEAM_COUNT);

For instance, we know that BEAM_COUNT is 16, so computing field_of_view is straightforward. Computing it from the other two statements is even easier.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-04-20
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Zero on 2016-04-20:
ok,thanks. let me try your method first.
Comment by Zero on 2016-04-20:
Hi, I had try to look through the leddar.cpp program and find out the field_of_view where it to get the data from but I cannot find it. therefore, I cannot to specified, so it's there any way can teach me how to find out ? I mean like let field_of_view equal to some value?
Comment by Stefan Kohlbrecher on 2016-04-20:
See updated answer.
Comment by Zero on 2016-04-20:
Thank you for your updated answer. Actually  yesterday I had tried some similar way, because I find the fov get the  value from launch file and the default value was 45. So i just simply initialize  the field_of_view  = 45, and it looks work for me.


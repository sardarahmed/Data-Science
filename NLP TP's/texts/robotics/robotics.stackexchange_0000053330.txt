Q:

ccny_openni_launch errors

Hello,
I am trying to use ccny_rgbd_tools capabilities with a Kinect to eventually make a map of my lab. I am running ROS groovy on Ubuntu 12.04 and I have installed and compiled PCL, OpenNi, Nite, the PrimeSensor modules for OpenNI (SensorKinect), and ccny_rgbd_tools. My problem occurs when I launch the following:
$ roslaunch ccny_openni_launch openni.launch
This returns:
... logging to /home/hyness/.ros/log/1f4919be-fde7-11e2-a4e7-e006e6c5d89/roslaunch-hyness-ThinkPad-X230-Tablet-3774.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server (link to server)

SUMMARY
========

PARAMETERS
 * /openni_driver/depth_camera_info_url
 * /openni_driver/depth_frame_id
 * /openni_driver/depth_mode
 * /openni_driver/device_id
 * /openni_driver/image_mode
 * /openni_driver/rgb_camera_info_url
 * /openni_driver/rgb_frame_id
 * /rgbd_image_proc/calib_path
 * /rgbd_image_proc/publish_cloud
 * /rgbd_image_proc/scale
 * /rgbd_image_proc/unwarp
 * /rgbd_image_proc/verbose
 * /rosdistro
 * /rosversion

NODES
  /
    camera_rgb_frame_tf (tf/static_transform_publisher)
    camera_rgb_optical_frame_tf (tf/static_transform_publisher)
    debayer (nodelet/nodelet)
    openni_driver (nodelet/nodelet)
    rgbd_image_proc (nodelet/nodelet)
    rgbd_manager (nodelet/nodelet)

auto-starting new master
process[master]: started with pid [3788]
ROS_MASTER_URI=(link to local host)

setting /run_id to 1f4919be-fde7-11e2-a4e7-e006e6c5d890
process[rosout-1]: started with pid [3801]
started core service [/rosout]
process[rgbd_manager-2]: started with pid [3813]
[ INFO] [1375717989.297346036]: Initializing nodelet with 4 worker threads.
process[openni_driver-3]: started with pid [3841]
[ INFO] [1375717989.466799157]: Loading nodelet /openni_driver of type openni_camera/driver to manager rgbd_manager with the following remappings:
[ INFO] [1375717989.466885953]: /depth -> /camera/depth
[ INFO] [1375717989.466919625]: /ir -> /camera/ir
[ INFO] [1375717989.466944499]: /rgb -> /camera/rgb
[ERROR] [1375717989.469689374]: Failed to load nodelet [/openni_driver] of type [openni_camera/driver]: According to the loaded plugin descriptions the class openni_camera/driver with base class type nodelet::Nodelet does not exist. Declared types are  ccny_rgbd/RGBDImageProcNodelet depth_image_proc/convert_metric depth_image_proc/disparity depth_image_proc/point_cloud_xyz depth_image_proc/point_cloud_xyzrgb depth_image_proc/register freenect_camera/driver image_proc/crop_decimate image_proc/debayer image_proc/rectify image_view/disparity image_view/image nodelet_tutorial_math/Plus pcl/BAGReader pcl/ExtractIndices pcl/NodeletDEMUX pcl/NodeletMUX pcl/PCDReader pcl/PCDWriter pcl/PassThrough pcl/PointCloudConcatenateDataSynchronizer pcl/PointCloudConcatenateFieldsSynchronizer pcl/ProjectInliers pcl/StatisticalOutlierRemoval pcl/VoxelGrid stereo_image_proc/disparity stereo_image_proc/point_cloud stereo_image_proc/point_cloud2
[FATAL] [1375717989.469843311]: Service call failed!
process[debayer-4]: started with pid [3855]
[openni_driver-3] process has died [pid 3841, exit code 255, cmd /opt/ros/groovy/lib/nodelet/nodelet load openni_camera/driver rgbd_manager ir:=camera/ir rgb:=camera/rgb depth:=camera/depth __name:=openni_driver __log:=/home/hyness/.ros/log/1f4919be-fde7-11e2-a4e7-e006e6c5d890/openni_driver-3.log].
log file: /home/hyness/.ros/log/1f4919be-fde7-11e2-a4e7-e006e6c5d890/openni_driver-3*.log
process[rgbd_image_proc-5]: started with pid [3908]
bool g2o::HyperGraphActionLibrary::registerAction(g2o::HyperGraphElementAction*): creating collection for "writeGnuplot"
bool g2o::HyperGraphActionLibrary::registerAction(g2o::HyperGraphElementAction*): creating collection for "draw"
[ INFO] [1375717990.082062318]: Initializing RGBD Image Proc Nodelet
process[camera_rgb_frame_tf-6]: started with pid [4004]
[ INFO] [1375717990.189188751]: Reading camera calibration files...
process[camera_rgb_optical_frame_tf-7]: started with pid [4077]
[ INFO] [1375717990.711179472]: Resampling scale set to 1.00

which doesn't return anything so I have to end it with Ctrl+C. Also, note that there are two openni_camera folders in the PCL package which contain an openni_driver.cpp file, and an openni_driver.h header file.
Any help or advice would really be appreciated! Thank you!

Originally posted by ishiguro on ROS Answers with karma: 11 on 2013-08-05
Post score: 1

Original comments
Comment by avalada on 2013-09-12:
Did you ever find a fix for this? Im having the same issue now. I installed openni-dev using apt-get
Comment by sigmaduarte on 2013-10-11:
I have the same exact problem. Did you ever find out how to fix it?
Comment by pinocchio on 2014-03-27:
@ishiguro @avalada @sigmaduarte Hi guys. I install the package on hydro and the same problem occurs. Do you find any solution now? Many thanks.

A:

see this question http://answers.ros.org/question/93386/lib_rgbdtools-failed/
Comments 2, it works!

Originally posted by xiongxiao with karma: 16 on 2014-02-23
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to handle OS Dependant manifest.xml?

Hi all,
I am working with a double gnulinux/xenomai system. The switch from one to the other is done like Orocos does with the "OROCOS_TARGET" env variable. But When I have a package depending of another, I need to define 2 different manifest, for exemple :
<export>
    <cpp cflags="-L${prefix}/lib -larp_core-gnulinux"/>
</export>

or
    <export>
    <cpp cflags="-L${prefix}/lib -larp_core-xenomai"/>
</export>

How could I handle this ?

Originally posted by Willy Lambert on ROS Answers with karma: 352 on 2011-11-08
Post score: 1

A:

You can restrict a specific set of flags using the os parameter of the <cpp> tag, like this:
<cpp os="osx" cflags="-I${prefix}/include" lflags="-L${prefix}/lib -Wl,-rpath,${prefix}/lib -lrosthread -framework CoreServices"/>

For more details, see the Manifest XML tags reference.

Originally posted by joq with karma: 25443 on 2011-11-08
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Willy Lambert on 2011-11-08:
thans for this usefull link. I tagged it preferred because it is the ROS way. But I'll be use the orocos one as my package is an orocos one :)
Comment by Willy Lambert on 2012-04-16:
do you know how ROS detects the current OS ? more precisely, how does he knows between gnulinux and xenomai the one to choose ?


Q:

UR5e + 2F_85 gripper moveit configuration

Hi everyone,
I am using the default setup of universal robots repo (calibration-devel branch of fmauch) and the ur_robot_driver (melodic branch) of Universal_Robots_ROS_Driver.
As I have an attached gripper (Robotiq 2f_85 model) to my robot and I need the robot to do some tasks with Inverse Kinematics, it would be perfect to have a moveit configuration with the merge of both robot and gripper.
I saw that universal robot repo doesnâ€™t provide any configuration like this unfortunately, can you please explain me how to do it properly or can you share an already existing package in case there is one?
Or do you know a way to modify properly the URDF file with a new frame for the gripper? In such a way that the IK works wrt to that frame instead of tool0?
Thank you very much!! I would appreciate a lot your help!!!

Originally posted by francirrapi on ROS Answers with karma: 18 on 2022-06-18
Post score: 0

A:

This repository uses two UR5e with Robotiq grippers to perform assembly tasks. You can check its moveit_config and description package to see how to connect the robot and gripper.
The steps in short:

Add the robot and gripper into a URDF scene
(Optional) In the URDF, define a frame called gripper_tip as a child of the robot's end-effector or flange link, offset it to where the tip of the gripper would be when closed. This is useful to define your IK chain later.
Run MoveIt Setup Assistant, following the tutorial and setting the end effector link to your gripper_tip frame

Originally posted by fvd with karma: 2180 on 2022-06-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by francirrapi on 2022-06-20:
Thank you very much for you answer @fvd!! I saw the files in this repo but did not understand very well how to add a TF frame called gripper_tip to the flange on my case. I saw the that there is a similar definition of this in line 564 of a_bot.urdf file, but did not understand how and if I have to create this file manually or it is generated automatically from moveit_setup_assistant after the 1) point of the steps you mentioned. Or this has to be done in the 1) point at the end of URDF scene with both robots?
Comment by fvd on 2022-06-20:
You need to add the frame to the URDF. When you run the Setup Assistant, you can set that frame as the end effector link or the tip of your IK chain.
Comment by zahid990170 on 2023-04-13:
Hi @fvd, thanks for your answer. I am currently facing the same issue. Considering that target pose, now, corresponds to the tip of the gripper instead of the flange of the UR5, does it also guarantee safety of gripper colliding with robot surfaces, the generated plans are safe by construction?


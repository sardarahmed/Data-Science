Q:

How to change covariance of IMU sensor

Hi,
I am working on robot localization by using a robot localization package. I am fusing Odometry data and IMU data. The covariance of the data coming from the IMU sensor itself is very low. But, I know that IMU sensor measurements are faulty and I want to increase the covariance of IMU data. So that, IMU data would be given less weight (or importance) during localization. I am wondering what are the ways I can change the covariance of the IMU sensor data. I really appreciate it if some one help me with the issue. I have attached the sample IMU sensor output where you can see covariance values are almost zero.

Originally posted by rcbot on ROS Answers with karma: 39 on 2021-11-06
Post score: 0

Original comments
Comment by gvdhoorn on 2021-11-07:
Sort-of a duplicate: #q388934.
Comment by rcbot on 2021-11-07:
Thank gvdhoorn, I will have a look at it.

A:

The easiest way is to insert your own ROS node between the IMU Node and the Robot_Localization Node. Your node will subscribe to the IMU data, and republish a modified message, one for one. Typically you want to remap the topic name that the IMU is publishing to, and your new node will begin publishing to the original IMU topic.
Alternately, if you have the source code for the IMU driver node, then create a modified driver. It's usually best to give your modified node a different node type so that in the future you don't get confused about which driver is being used.

Originally posted by Mike Scheutzow with karma: 4903 on 2021-11-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by rcbot on 2021-11-07:
Thank you for the info Mike. Can I ask one more question?. IMU should have absolute orientation data which will be used in navsat transform. But, If IMU provides only relative orientation data (it will set zero which ever orientation it starts) can I still use that IMU? IF yes, May I know how?
Comment by Mike Scheutzow on 2021-11-08:
I don't have a confident answer for your question. But my guess is that if GPS is the only source of absolute x,y position information for the robot, then fusing it with the relative Inertial data from the IMU isn't going to improve accuracy. However, if you also need to determine robot orientation, then of course the IMU can help with that, assuming you can provide an accurate initial orientation.


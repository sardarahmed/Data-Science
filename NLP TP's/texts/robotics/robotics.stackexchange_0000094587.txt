Q:

Odometry - 4ws quasiomnidirectional - covariance_matrix

Hallo,
I had my 4ws base-controller invert wheelspeed if steerangle was bigger then Pi/2 and adjust the steerangle of course. It should improve stability of the robot as well as be more efficient.
However my Odometry inverted reality when the robot was in a state where this function didnt execute for all four wheels. I asume it has to do with the covariance_matrix but Iam totally new to the covariance_matrix topic. Where can I find documentation etc. that might lead to a solution (the usual google search stuff I checked)? Or does anybody know if this might even work at all with a covariance matrix, and what would be the drawback to kicking out the covariance_matrix completly? Thanks.

Originally posted by Dragonslayer on ROS Answers with karma: 574 on 2020-02-02
Post score: 0

A:

SOLVED: Was an ugly mixup in the microcontrollers PID/drivers/serialinterface. For anybody else encountering such an issue I would suggest, measure the wheelspeeds/steerangles exact (not by ros but by external means). The right/left wheels were not doing what they should have. Because of friction, weight distribution and steeringangle, the base seemingly did what it should (although miserably bad, but I thought it was because of imperfect tuning). But in reality it was pure coincidence, at twist-Z the coincidence ended, that was the issue. Once more a case of changing the perspective, test setup, and tools was the solution.

Originally posted by Dragonslayer with karma: 574 on 2020-02-05
This answer was ACCEPTED on the original site
Post score: 0


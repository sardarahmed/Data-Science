Q:

robot_localization: Differential parameters and covariance

I'm trying to fuse visual odometry with an IMU sensor to get pose estimates.
Neither of these give covariance by default, so I am setting them myself.
My question is: Is at least one absolute position required for the covariance to converge? Is this expected behaviour or is something wrong?
For whatever values I try, unless I use the visual odometry with differential=False, the covariance increases forever. I have tried having very small covariance diagonals in the messages, slightly bigger in the noise, and large (but not huge) for the initial estimate.

Originally posted by cwalt on ROS Answers with karma: 18 on 2017-09-27
Post score: 0

A:

If you want the pose covariance to be constrained (i.e., to not grow without bound), yes, you need at least one absolute pose reference. Differential mode is currently handled by differentiating the pose and treating it as a velocity. I have a branch of r_l in the Locus Robotics fork that computes relative pose differently, but it assumes that the message covariance can be used directly.

Originally posted by Tom Moore with karma: 13689 on 2018-01-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by cwalt on 2018-01-03:
Thanks for the answer! It now seems reasonably intuitive. I have ended up using GPS with high covariance as the absolute source.


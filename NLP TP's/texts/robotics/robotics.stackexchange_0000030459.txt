Q:

rviz and stage tf timing issue in SimulatingOneRobot tutorial

When trying the SimulatingOneRobot tutorial for stageros there appears an error in RViz concerning the LaserScan Transform:
Transform [sender=/stageros]
For frame [base_laser_link]: No transform to fixed frame [/odom]. TF error: [You requested a transform that is 900.000 miliseconds in the past, but the most recent transform in the tf buffer is 1800.000 miliseconds old. ]
I have an Ubuntu 10.04 and the ROS diamondback Desktop-full installation.
Has anyone else come across this issue?

Originally posted by chcorbato on ROS Answers with karma: 202 on 2011-03-17
Post score: 1

Original comments
Comment by Sabrina on 2011-03-18:
Changing the fixed frame does not solve the problem itself. You can just use it to debug whether this is really only a tf problem. As you experience other problems they could have the same cause as the original problem.
Comment by chcorbato on 2011-03-18:
Unfortunately there seems to remain some issue with the LaserScan that when active makes RViz almost unresponsive, but that's another issue.
Comment by chcorbato on 2011-03-18:
Yes!! that made it. I changed the Fixed Frame to /base_laser_link in the RViz Global Options and the error dissapeared. You may post the answer to my question. Thank you very much Sabrina.
Comment by Sabrina on 2011-03-17:
Is the scan displayed without errors if you change the fixed frame of rviz to "/base_laser_link" ?
Comment by chcorbato on 2011-03-17:
I've tried the Reset button, then the LaserSacan becomes ok but just for a moment, then the error re-appears. And that state makes the RViz almost unresponsive. The tf_echo shows the requested tf is avaible with a periodicity of 1.000
Comment by Sabrina on 2011-03-17:
The reported error usually occurs when ROS time and Wall time don't match.. Did you try pressing rviz' "Reset" button? Sometimes this helps. Try running "rosrun tf tf_echo /base_laser_link /odom". This should show up the requested transform periodically - if available.
Comment by chcorbato on 2011-03-17:
Thank you for your ideas. I tried setting the /use_sim_time parameter to true, but unfortunately the issue remains. Do you know about rviz configuration? Somewhere it is expecting that tf each 900.000 and that is probably configurable
Comment by mkoval on 2011-03-17:
The parameter is actually use_sim_time. Be sure to set it (e.g. rosparam set /use_sim_time true) before you launch any nodes.
Comment by Sabrina on 2011-03-17:
Did you set the parameter "use_simtime" to "true"? You can check this be typing "rosparam get use_simtime" into a terminal.

A:

The problem is due to some issue with RViz and the Decay time for the Laser Scan display.
I solved it setting it to 0, so only the latests reading are shown. As soon as you increase that value, RViz goes slower, at least in my machine, and almost freezes for the value of 100 given in the RViz configuration file provided in the stageros package (the one used in the tutorial)

Originally posted by chcorbato with karma: 202 on 2011-03-26
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by chcorbato on 2011-03-26:
I'm using a VMWare virtual machine on a MacBook Pro with two i5 2.53GHz CPU's  dedicated and a NVIDIA GeForce GT 330M
Comment by tfoote on 2011-03-26:
This sounds like your machine can't keep up.  For reference what is your CPU and graphics card?


Q:

cross-compile diamondback ROS for Nao 1.10 issues

Trying to follow instructions at http://www.ros.org/wiki/nao/Tutorials/Cross-Compiling#A1.10.2B-_and_Diamondback
Not exactly sure how to interleave 1.10 instructions with original instructions... that might be the issue.
In addition to some minor obstacles (detailed below), I was ultimately stymied by not being able to build apr-util (could not link to crti.o)
Help!
Thanks,
-Nick

Setup is Ubuntu 10.10, Nao H25 and nao-cross-toolchain 1.10.52  ( note to others: toolchain is not in the SDK, and is hard to find on new web page, but here's a link: http://users.aldebaran-robotics.com/index.php?option=com_docman&task=cat_view&gid=50 )
Notes:

needed libmpfr1ldbl package as a prerequisite ( sudo apt-get install libmpfr1ldbl )
(9.4) Get rosinstall file:
sudo easy_install -U rosinstall
wget "http://packages.ros.org/cgi-bin/gen_rosinstall.py?rosdistro=diamondback&variant=ros-base&overlay=no" -O diamondback.rosinstall
(as per http://www.ros.org/wiki/diamondback/Installation/rosinstall )
(9.7) Patch rosbuild - with what patch?
(9.8) Compile ROS - doesn't this require apr, etc. to be built first? my build complained...
(4) Cross-compiling of non-ROS modules:
apr and apr-util have new versions; I just grabbed the latest ones listed at http://www.powertech.no/apache/dist/apr/
As predicted, upon building apr-util, I got error: "cross/geode/bin/../lib/gcc/i586-linux/4.3.3/../../../../i586-linux/bin/ld: crti.o: No such file: No such file or directory" ; however, copying files into /home/opennao/opennao-1-4-x/build/tmp/ did not work. I noticed (via grep) that the nao cross toolchain referred to 1-9-x, so I tried that path instead, but to no avail.

Originally posted by Nick Armstrong-Crews on ROS Answers with karma: 481 on 2011-08-17
Post score: 0

A:

Hi!
The patch is under attachments, I added a link to the wiki page.
You should not need to mix the old instructions with the new ones. The main focus of the old tutorial was to get apr and log4cxx running. This is not necessary anymore with newer naoqi releases as it comes with apr precompiled.
The hack with copying the toolchain to /home/opennao-xxx is not necessary anymore (unless you want to compile apr,etc.).
What's the error when trying to build ROS?

Originally posted by daniel_maier with karma: 290 on 2011-08-17
This answer was ACCEPTED on the original site
Post score: 1


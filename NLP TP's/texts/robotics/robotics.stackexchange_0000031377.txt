Q:

wubble arm kinematics constraint ware fails to build

I'm trying to build the wubble arm_kinematics_constraint_aware node from the UA-ros _pkg but i get the following error
>     [ rosmake ] Last 40 linesbble_arm_kinematics_constraint_aware:
> 10.2 sec ]                                                                                                           [ 1 Active 63/64 Complete ]
> {-------------------------------------------------------------------------------   /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:
> In member function ‘void
> wubble_arm_kinematics::WubbleArmIKConstraintAware::initialPoseCheck(const
> KDL::JntArray&, const KDL::Frame&,
> motion_planning_msgs::ArmNavigationErrorCodes&)’:
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:273:
> error: ‘class
> planning_environment::PlanningMonitor’
> has no member named ‘getFrameId’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:311:
> error: ‘Link’ is not a member of
> ‘planning_models::KinematicModel’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:311:
> error: ‘end_effector_link’ was not
> declared in this scope  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:311:
> error: ‘class
> planning_models::KinematicModel’ has
> no member named ‘getLink’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:321:
> error: ‘class
> planning_models::KinematicModel’ has
> no member named ‘lock’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:323:
> error: ‘class
> planning_environment::PlanningMonitor’
> has no member named
> ‘setJointStateAndComputeTransforms’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:333:
> error: no matching function for call
> to
> ‘collision_space::EnvironmentModel::updateRobotModel()’
> /opt/ros/diamondback/stacks/motion_planning_common/collision_space/include/collision_space/environment.h:166:
> note: candidates are: virtual void
> collision_space::EnvironmentModel::updateRobotModel(const
> planning_models::KinematicState*)  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:360:
> error: ‘class
> planning_models::KinematicModel’ has
> no member named ‘unlock’  
> /opt/ros/diamondback/stacks/motion_planning_common/planning_environment/include/planning_environment/monitors/collision_space_monitor.h:
> In member function ‘bool
> wubble_arm_kinematics::WubbleArmIKConstraintAware::setupCollisionEnvironment()’:
> /opt/ros/diamondback/stacks/motion_planning_common/planning_environment/include/planning_environment/monitors/collision_space_monitor.h:344:
> error: ‘bool
> planning_environment::CollisionSpaceMonitor::use_collision_map_’
> is protected  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:407:
> error: within this context  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:415:
> error: ‘class
> planning_models::KinematicModel’ has
> no member named ‘hasGroup’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:426:
> error: ‘Joint’ is not a member of
> ‘planning_models::KinematicModel’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:426:
> error: ‘Joint’ is not a member of
> ‘planning_models::KinematicModel’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:426:
> error: template argument 1 is invalid 
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:426:
> error: template argument 2 is invalid 
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:426:
> error: invalid type in declaration
> before ‘=’ token  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:426:
> error: ‘class
> planning_models::KinematicModel’ has
> no member named ‘getGroup’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:428:
> error: request for member ‘size’ in
> ‘p_joints’, which is of non-class type
> ‘int’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:430:
> error: invalid types ‘int[unsigned
> int]’ for array subscript  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:438:
> error: ‘Link’ is not a member of
> ‘planning_models::KinematicModel’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:438:
> error: ‘end_effector_link’ was not
> declared in this scope  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:438:
> error: ‘class
> planning_models::KinematicModel’ has
> no member named ‘getLink’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:
> In member function ‘void
> wubble_arm_kinematics::WubbleArmIKConstraintAware::contactFound(collision_space::EnvironmentModel::Contact&)’:
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:471:
> error: ‘const class
> planning_models::KinematicModel::LinkModel’
> has no member named ‘name’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:475:
> error: ‘const class
> planning_models::KinematicModel::LinkModel’
> has no member named ‘attachedBodies’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:481:
> error: ‘const class
> planning_models::KinematicModel::LinkModel’
> has no member named ‘attachedBodies’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:491:
> error: ‘const class
> planning_models::KinematicModel::LinkModel’
> has no member named ‘name’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:495:
> error: ‘const class
> planning_models::KinematicModel::LinkModel’
> has no member named ‘attachedBodies’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:501:
> error: ‘const class
> planning_models::KinematicModel::LinkModel’
> has no member named ‘attachedBodies’  
> /home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/src/wubble_arm_kinematics_constraint_aware.cpp:514:
> error: ‘class
> planning_environment::PlanningMonitor’
> has no member named ‘getFrameId’  
> make[3]: ***
> [CMakeFiles/wubble_arm_kinematics_constraint_aware_lib.dir/src/wubble_arm_kinematics_constraint_aware.o]
> Error 1   make[3]: Leaving directory
> `/home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/build'
> make[2]: ***
> [CMakeFiles/wubble_arm_kinematics_constraint_aware_lib.dir/all]
> Error 2   make[2]: Leaving directory
> `/home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/build'
> make[1]: *** [all] Error 2   make[1]:
> Leaving directory
> `/home/peter/ros/ua-ros-pkg/arrg/ua_controllers/wubble_arm_kinematics_constraint_aware/build'
> -------------------------------------------------------------------------------} [ rosmake ] Output from build of
> package
> wubble_arm_kinematics_constraint_aware
> written to: [ rosmake ]   
> /home/peter/.ros/rosmake/rosmake_output-20110502-165802/wubble_arm_kinematics_constraint_aware/build_output.log
> [rosmake-3] Finished <<<
> wubble_arm_kinematics_constraint_aware
> [FAIL] [ 10.26 seconds ]              
> [ rosmake ] Halting due to failure in
> package
> wubble_arm_kinematics_constraint_aware.
> [ rosmake ] Waiting for other threads
> to complete.                          
> [ rosmake ] Results:                  
> [ rosmake ] Cleaned 63 packages.      
> [ rosmake ] Built 64 packages with 1
> failures.                             
> [ rosmake ] Summary output to
> directory                             
> [ rosmake ]
> /home/peter/.ros/rosmake/rosmake_output-20110502-165802

Originally posted by Peter Heim on ROS Answers with karma: 215 on 2011-05-01
Post score: 0

A:

Did you try compiling it with CTurtle? In CTurtle, it compiles fine for me. With Diamondback, I get similar compilation errors. You can install CTurtle in parallel to your existing Diamondback installation, just source the correct setup.bash / setup.zsh.

Originally posted by Martin Günther with karma: 11816 on 2011-05-02
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by arebgun on 2011-05-02:
Right, I haven't made a switch to Diamondback yet, so some of my packages won't work if there were any API changes between. With that said I will probably update to Diamondback this month.


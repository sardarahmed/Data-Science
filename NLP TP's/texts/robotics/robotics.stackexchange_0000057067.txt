Q:

How to use a parameter file with a rosrun

Hi
I have a node like the laser_filter, amcl or move base with many parameters. Using a launch file allows me to store the parameters within a yaml file like:
  <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">   
    <rosparam file="$(find cfg_pkg)/cfg/common_costmap.yaml" command="load" ns="global_costmap" />
    <rosparam file="$(find cfg_pkg)/cfg/common_costmap.yaml" command="load" ns="local_costmap" />
    <rosparam file="$(find cfg_pkg)/cfg/global_costmap.yaml" command="load" />
    <rosparam file="$(find cfg_pkg)/cfg/local_costmap.yaml" command="load" />
    <rosparam file="$(find cfg_pkg)/cfg/base_local_planner.yaml" command="load" />
  </node>

But I like to start the node directly but how are the options to load parmater files?
Using the using the underline like with normal parameters are not working?
I am looking for something like:
rosrun move_base move_base _load:=????? #

Greetings

Originally posted by Markus Bader on ROS Answers with karma: 847 on 2014-02-04
Post score: 0

Original comments
Comment by dornhege on 2014-02-05:
Actually one simple trick depending on what you want to do is: Run the launch file once (that loads all parameters correctly like you set it up) and the just run the node. The parameters from the launch stay on the param server.

A:

rosrun itself doesn't load parameters. rosparam is the tool for that. Basically the command is the same like in the lauch file, you'd only need to take care of pushing things into the node's namespace, e.g.
<rosparam command="load" file="$(find cfg_pkg)/cfg/common_costmap.yaml" ns="global_costmap">

->
rosparam load $(rospack find cfg_pkg)/cfg/common_costmap.yaml my_node_name/global_costmap

Originally posted by dornhege with karma: 31395 on 2014-02-05
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Markus Bader on 2014-02-07:
Thanks I will try that


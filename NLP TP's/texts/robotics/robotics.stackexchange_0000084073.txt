Q:

epos_hardware example not running failed setECmotorparameters

Hey, I have Problems using epos_hardware. I am using Ubuntu 16.04 and ROS Kinetic. I have already set up the motor and able to detect the motor (serial number) using list_devices. However, when i try to run the example.launch it gives me the error and unable to initialize the motors. it would be kind if you can help me out with this. Below please find the terminal output of rosrun epos_hardware list_devices and roslaunch epos_hardware example.launch respectively.
Roslaunch example:
auto-starting new master
process[master]: started with pid [13988]
ROS_MASTER_URI=http://localhost:11311
setting /run_id to 568ad142-d240-11e7-8333-34f39a7bd49b
process[rosout-1]: started with pid [14001]
started core service [/rosout]
process[epos_hardware-2]: started with pid [14018]
process[controller_spawner-3]: started with pid [14019]
[INFO] [1511655943.940345]: Controller Spawner: Waiting for service controller_manager/load_controller
[INFO] [1511655943.943985]: Controller Spawner: Waiting for service controller_manager/switch_controller
[INFO] [1511655943.947150]: Controller Spawner: Waiting for service controller_manager/unload_controller
[INFO] [1511655943.950730]: Loading controller: joint_state_controller
[INFO] [1511655944.016919]: Loading controller: velocity_controller
[INFO] [1511655944.061915]: Controller Spawner: Loaded controllers: joint_state_controller, velocity_controller
[ERROR] [1511655945.223665076]: Failed to SetEcMotorParameter
[ERROR] [1511655945.223715819]: Could not configure motor: my_joint_actuator
[FATAL] [1511655945.223748170]: Failed to initialize motors
List_devices:
Listing Devices:
EPOS2
MAXON SERIAL V2

    USB

        USB0

            Baudrates:

                1000000

            Devices:

                Node Id: 1
        
        Serial Number: 0x602079025628

                    Hardware Version: 0x6220

                    Software Version: 0x2126

                    Application Number: 0x0

                    Application Version: 0x0

MAXON_RS232
    RS232
        Skipping RS232
CANopen

Could not get interface names: Bad Parameter
EPOS
MAXON_RS232
RS232
Skipping RS232
CANopen
Could not get interface names: Bad Parameter

Originally posted by alibinjunaid on ROS Answers with karma: 1 on 2017-11-25
Post score: 0

Original comments
Comment by Davidi on 2018-01-17:
Hi there, I'm curious if you managed to solve your problem. I am considering ROS for use in a Maxon+EPOS environment, so I'm keen to chat with people who had had some experience, found challenges, and any success
Comment by ndalmedico on 2018-02-22:
Plz, if you found a solution for this could you post for us? I have the same problem, everything was working normally but this week I started having this problem (could not find motor, even when list_devices can)

A:

Hi alibinjunaid,
I'm using maxon MCD EPOS, I copy here my .yaml configuration, hope this will be useful for you.
# Time in seconds
# Current in amps
# position, velocity, and acceleration in device units
operation_mode: 'profile_position'
clear_faults: true
halt_velocity: false
torque_constant: 3 #0.0263 Nm
communication_protocol: 'RS232' # or USB

motor:
  type: 10
  ec_motor:
    nominal_current: 2.6000
    max_output_current: 9.000
    thermal_time_constant: 2.7 # Maxon EPOS Getting Started pagina 12
    number_of_pole_pairs: 1

sensor:
  type: 1
  incremental_encoder:
    resolution: 1000
    inverted_polarity: false

safety:
  max_following_error: 20000
  max_profile_velocity: 8000
  #max_acceleration: 12000

#position_profile:
  #velocity: 10000
  #acceleration: 8000
  #deceleration: 3500

velocity_profile:
  acceleration: 8000
  deceleration: 3500

Please, let me know if you can run your motors correctly

Originally posted by jdeleon with karma: 133 on 2018-03-15
This answer was ACCEPTED on the original site
Post score: 0


Q:

problem compiling pr2_build_map_gazebo_demo

I am trying to follow the tutorial at:
(I guess my karma also isn't high enough to post links...) answers.ros.org/question/52608/pr2-move_base-how-to-get-map/
but when I run "rosmake pr2_build_map_gazebo_demo" I receive an error (attached).  Any help is appreciated.
Apparently I can't attach a file because my "karma" isn't high enough (thanks site admins!!)  so here's the ugly mess that I have to paste into here:
rosmake pr2_build_map_gazebo_demo
[ rosmake ] rosmake starting...
[ rosmake ] Packages requested are: ['pr2_build_map_gazebo_demo']
[ rosmake ] Logging to directory /home/emrysm/.ros/rosmake/rosmake_output-20130612-094759
[ rosmake ] Expanded args ['pr2_build_map_gazebo_demo'] to:
['pr2_build_map_gazebo_demo']
[rosmake-0] Starting >>> common_rosdeps [ make ]
[rosmake-1] Starting >>> std_msgs [ make ]
[rosmake-3] Starting >>> trajectory_msgs [ make ]
[rosmake-4] Starting >>> roslib [ make ]
[rosmake-2] Starting >>> geometry_msgs [ make ]
[rosmake-5] Starting >>> bullet [ make ]
[rosmake-0] Finished <<< common_rosdeps ROS_NOBUILD in package common_rosdeps
[rosmake-6] Starting >>> roslang [ make ]
[rosmake-0] Starting >>> ogre [ make ]
[rosmake-1] Finished <<< std_msgs  No Makefile in package std_msgs
[rosmake-7] Starting >>> colladadom [ make ]
[rosmake-4] Finished <<< roslib  No Makefile in package roslib
[rosmake-2] Finished <<< geometry_msgs  No Makefile in package geometry_msgs
[rosmake-1] Starting >>> urdf_interface [ make ]
[rosmake-2] Starting >>> sensor_msgs [ make ]
[rosmake-4] Starting >>> std_srvs [ make ]
[rosmake-5] Finished <<< bullet ROS_NOBUILD in package bullet
[rosmake-5] Starting >>> rosconsole [ make ]
[rosmake-3] Finished <<< trajectory_msgs  No Makefile in package trajectory_msgs
[rosmake-3] Starting >>> angles [ make ]
[rosmake-6] Finished <<< roslang  No Makefile in package roslang
[rosmake-0] Finished <<< ogre ROS_NOBUILD in package ogre
[rosmake-6] Starting >>> roscpp [ make ]
[rosmake-0] Starting >>> rospy [ make ]
[rosmake-4] Finished <<< std_srvs  No Makefile in package std_srvs
[rosmake-7] Finished <<< colladadom ROS_NOBUILD in package colladadom
[rosmake-1] Finished <<< urdf_interface ROS_NOBUILD in package urdf_interface
[rosmake-2] Finished <<< sensor_msgs  No Makefile in package sensor_msgs
[rosmake-7] Starting >>> rostest [ make ]
[rosmake-2] Starting >>> gazebo_msgs [ make ]
[rosmake-4] Starting >>> roswtf [ make ]
[rosmake-5] Finished <<< rosconsole  No Makefile in package rosconsole
[rosmake-5] Starting >>> rosgraph_msgs [ make ]
[rosmake-1] Starting >>> message_filters [ make ]
[rosmake-6] Finished <<< roscpp  No Makefile in package roscpp
[rosmake-3] Finished <<< angles ROS_NOBUILD in package angles
[rosmake-3] Starting >>> collada_parser [ make ]
[rosmake-6] Starting >>> urdf_parser [ make ]
[rosmake-0] Finished <<< rospy  No Makefile in package rospy
[rosmake-7] Finished <<< rostest  No Makefile in package rostest
[rosmake-5] Finished <<< rosgraph_msgs  No Makefile in package rosgraph_msgs
[rosmake-0] Starting >>> rosservice [ make ]
[rosmake-7] Starting >>> rosbuild [ make ]
[rosmake-3] Finished <<< collada_parser ROS_NOBUILD in package collada_parser
[rosmake-3] Starting >>> smclib [ make ]
[rosmake-2] Finished <<< gazebo_msgs ROS_NOBUILD in package gazebo_msgs
[rosmake-5] Starting >>> bond [ make ]
[rosmake-4] Finished <<< roswtf  No Makefile in package roswtf
[rosmake-2] Starting >>> nav_msgs [ make ]
[rosmake-6] Finished <<< urdf_parser ROS_NOBUILD in package urdf_parser
[rosmake-6] Starting >>> urdf [ make ]
[rosmake-1] Finished <<< message_filters  No Makefile in package message_filters
[rosmake-4] Starting >>> diagnostic_msgs [ make ]
[rosmake-1] Starting >>> tf [ make ]
[rosmake-7] Finished <<< rosbuild  No Makefile in package rosbuild
[rosmake-0] Finished <<< rosservice  No Makefile in package rosservice
[rosmake-0] Starting >>> dynamic_reconfigure [ make ]
[rosmake-5] Finished <<< bond ROS_NOBUILD in package bond
[rosmake-7] Starting >>> protobuf [ make ]
[rosmake-3] Finished <<< smclib ROS_NOBUILD in package smclib
[rosmake-2] Finished <<< nav_msgs  No Makefile in package nav_msgs
[rosmake-2] Starting >>> pluginlib [ make ]
[rosmake-3] Starting >>> rosbag [ make ]
[rosmake-6] Finished <<< urdf ROS_NOBUILD in package urdf
[rosmake-5] Starting >>> bondcpp [ make ]
[rosmake-1] Finished <<< tf ROS_NOBUILD in package tf
[rosmake-4] Finished <<< diagnostic_msgs  No Makefile in package diagnostic_msgs
[rosmake-4] Starting >>> diagnostic_updater [ make ]
[rosmake-6] Starting >>> flann [ make ]
[rosmake-0] Finished <<< dynamic_reconfigure ROS_NOBUILD in package dynamic_reconfigure
[rosmake-1] Starting >>> opende [ make ]
[rosmake-5] Finished <<< bondcpp ROS_NOBUILD in package bondcpp
[rosmake-0] Starting >>> opencv2 [ make ]
[rosmake-3] Finished <<< rosbag  No Makefile in package rosbag
[rosmake-7] Finished <<< protobuf ROS_NOBUILD in package protobuf
[rosmake-5] Starting >>> pr2_hardware_interface [ make ]
[rosmake-3] Starting >>> pr2_msgs [ make ]
[rosmake-2] Finished <<< pluginlib ROS_NOBUILD in package pluginlib
[rosmake-7] Starting >>> gazebo [ make ]
[rosmake-2] Starting >>> nodelet [ make ]
[rosmake-4] Finished <<< diagnostic_updater ROS_NOBUILD in package diagnostic_updater
[rosmake-4] Starting >>> self_test [ make ]
[rosmake-1] Finished <<< opende ROS_NOBUILD in package opende
[rosmake-0] Finished <<< opencv2 ROS_NOBUILD in package opencv2
[rosmake-1] Starting >>> image_transport [ make ]
[rosmake-0] Starting >>> cv_bridge [ make ]
[rosmake-5] Finished <<< pr2_hardware_interface ROS_NOBUILD in package pr2_hardware_interface
[rosmake-6] Finished <<< flann ROS_NOBUILD in package flann
[rosmake-5] Starting >>> orocos_kdl [ make ]
[rosmake-6] Starting >>> pcl [ make ]
[rosmake-3] Finished <<< pr2_msgs ROS_NOBUILD in package pr2_msgs
[rosmake-3] Starting >>> hardware_interface [ make ]
[rosmake-4] Finished <<< self_test ROS_NOBUILD in package self_test
[rosmake-2] Finished <<< nodelet ROS_NOBUILD in package nodelet
[rosmake-1] Finished <<< image_transport ROS_NOBUILD in package image_transport
[rosmake-5] Finished <<< orocos_kdl ROS_NOBUILD in package orocos_kdl
[rosmake-4] Starting >>> driver_base [ make ]
[rosmake-1] Starting >>> pr2_mechanism_msgs [ make ]
[rosmake-2] Starting >>> nodelet_topic_tools [ make ]
[rosmake-0] Finished <<< cv_bridge ROS_NOBUILD in package cv_bridge
[rosmake-5] Starting >>> python_orocos_kdl [ make ]
[rosmake-0] Starting >>> convex_decomposition [ make ]
[rosmake-6] Finished <<< pcl ROS_NOBUILD in package pcl
[rosmake-6] Starting >>> ivcon [ make ]
[rosmake-4] Finished <<< driver_base ROS_NOBUILD in package driver_base
[rosmake-4] Starting >>> xacro [ make ]
[rosmake-3] Finished <<< hardware_interface ROS_NOBUILD in package hardware_interface
[rosmake-5] Finished <<< python_orocos_kdl ROS_NOBUILD in package python_orocos_kdl
[rosmake-3] Starting >>> controller_interface [ make ]
[rosmake-0] Finished <<< convex_decomposition ROS_NOBUILD in package convex_decomposition
[rosmake-5] Starting >>> kdl [ make ]
[rosmake-1] Finished <<< pr2_mechanism_msgs ROS_NOBUILD in package pr2_mechanism_msgs
[rosmake-1] Starting >>> rosparam [ make ]
[rosmake-0] Starting >>> realtime_tools [ make ]
[rosmake-2] Finished <<< nodelet_topic_tools ROS_NOBUILD in package nodelet_topic_tools
[rosmake-4] Finished <<< xacro ROS_NOBUILD in package xacro
[rosmake-4] Starting >>> polled_camera [ make ]
[rosmake-2] Starting >>> pcl_ros [ make ]
[rosmake-3] Finished <<< controller_interface ROS_NOBUILD in package controller_interface
[rosmake-3] Starting >>> ogre_tools [ make ]
[rosmake-6] Finished <<< ivcon ROS_NOBUILD in package ivcon
[rosmake-5] Finished <<< kdl ROS_NOBUILD in package kdl
No Makefile in package kdl
[rosmake-6] Starting >>> pr2_description [ make ]
[rosmake-5] Starting >>> kdl_parser [ make ]
[rosmake-0] Finished <<< realtime_tools ROS_NOBUILD in package realtime_tools
[rosmake-1] Finished <<< rosparam  No Makefile in package rosparam
[rosmake-0] Starting >>> tf_conversions [ make ]
[rosmake-4] Finished <<< polled_camera ROS_NOBUILD in package polled_camera
[rosmake-1] Starting >>> xmlrpcpp [ make ]
[rosmake-4] Starting >>> pr2_dashboard_aggregator [ make ]
[rosmake-2] Finished <<< pcl_ros ROS_NOBUILD in package pcl_ros
[rosmake-2] Starting >>> actionlib_msgs [ make ]
[rosmake-6] Finished <<< pr2_description ROS_NOBUILD in package pr2_description
[rosmake-6] Starting >>> visualization_msgs [ make ]
[rosmake-0] Finished <<< tf_conversions ROS_NOBUILD in package tf_conversions
[rosmake-3] Finished <<< ogre_tools ROS_NOBUILD in package ogre_tools
[rosmake-3] Starting >>> eigen_conversions [ make ]
[rosmake-0] Starting >>> filters [ make ]
[rosmake-4] Finished <<< pr2_dashboard_aggregator ROS_NOBUILD in package pr2_dashboard_aggregator
No Makefile in package pr2_dashboard_aggregator
[rosmake-5] Finished <<< kdl_parser ROS_NOBUILD in package kdl_parser
[rosmake-6] Finished <<< visualization_msgs  No Makefile in package visualization_msgs
[rosmake-5] Starting >>> pr2_mechanism_model [ make ]
[rosmake-6] Starting >>> robot_state_publisher [ make ]
[rosmake-2] Finished <<< actionlib_msgs  No Makefile in package actionlib_msgs
[rosmake-1] Finished <<< xmlrpcpp  No Makefile in package xmlrpcpp
[rosmake-1] Starting >>> diagnostic_aggregator [ make ]
[rosmake-4] Starting >>> control_toolbox [ make ]
[rosmake-2] Starting >>> pr2_controllers_msgs [ make ]
[rosmake-3] Finished <<< eigen_conversions ROS_NOBUILD in package eigen_conversions
[rosmake-6] Finished <<< robot_state_publisher ROS_NOBUILD in package robot_state_publisher
[rosmake-3] Starting >>> actionlib [ make ]
[rosmake-5] Finished <<< pr2_mechanism_model ROS_NOBUILD in package pr2_mechanism_model
[rosmake-5] Starting >>> pr2_mechanism_diagnostics [ make ]
[rosmake-6] Starting >>> pr2_controller_interface [ make ]
[rosmake-4] Finished <<< control_toolbox ROS_NOBUILD in package control_toolbox
[rosmake-1] Finished <<< diagnostic_aggregator ROS_NOBUILD in package diagnostic_aggregator
[rosmake-4] Starting >>> control_msgs [ make ]
[rosmake-2] Finished <<< pr2_controllers_msgs ROS_NOBUILD in package pr2_controllers_msgs
[rosmake-2] Starting >>> camera_calibration_parsers [ make ]
[rosmake-1] Starting >>> image_geometry [ make ]
[rosmake-6] Finished <<< pr2_controller_interface ROS_NOBUILD in package pr2_controller_interface
[rosmake-3] Finished <<< actionlib  No Makefile in package actionlib
[rosmake-5] Finished <<< pr2_mechanism_diagnostics ROS_NOBUILD in package pr2_mechanism_diagnostics
[rosmake-6] Starting >>> stereo_msgs [ make ]
[rosmake-2] Finished <<< camera_calibration_parsers ROS_NOBUILD in package camera_calibration_parsers
[rosmake-1] Finished <<< image_geometry ROS_NOBUILD in package image_geometry
[rosmake-3] Starting >>> pr2_controller_manager [ make ]
[rosmake-5] Starting >>> single_joint_position_action [ make ]
[rosmake-4] Finished <<< control_msgs ROS_NOBUILD in package control_msgs
[rosmake-1] Starting >>> joint_trajectory_action [ make ]
[rosmake-2] Starting >>> pr2_head_action [ make ]
[rosmake-5] Finished <<< single_joint_position_action ROS_NOBUILD in package single_joint_position_action
[rosmake-4] Starting >>> image_proc [ make ]
[rosmake-2] Finished <<< pr2_head_action ROS_NOBUILD in package pr2_head_action
[rosmake-2] Starting >>> tf2_msgs [ make ]
[rosmake-5] Starting >>> bfl [ make ]
[rosmake-6] Finished <<< stereo_msgs  No Makefile in package stereo_msgs
[rosmake-3] Finished <<< pr2_controller_manager ROS_NOBUILD in package pr2_controller_manager
[rosmake-3] Starting >>> rosgraph [ make ]
[rosmake-6] Starting >>> topic_tools [ make ]
[rosmake-1] Finished <<< joint_trajectory_action ROS_NOBUILD in package joint_trajectory_action
[rosmake-3] Finished <<< rosgraph  No Makefile in package rosgraph
[rosmake-4] Finished <<< image_proc ROS_NOBUILD in package image_proc
[rosmake-2] Finished <<< tf2_msgs ROS_NOBUILD in package tf2_msgs
[rosmake-5] Finished <<< bfl ROS_NOBUILD in package bfl
[rosmake-1] Starting >>> stereo_image_proc [ make ]
[rosmake-6] Finished <<< topic_tools  No Makefile in package topic_tools
[rosmake-4] Starting >>> tf2 [ make ]
[rosmake-1] Finished <<< stereo_image_proc ROS_NOBUILD in package stereo_image_proc
[rosmake-2] Starting >>> fingertip_pressure [ make ]
[rosmake-3] Starting >>> robot_pose_ekf [ make ]
[rosmake-5] Starting >>> pr2_common_action_msgs [ make ]
[rosmake-6] Starting >>> python_qt_binding [ make ]
[rosmake-1] Starting >>> laser_geometry [ make ]
[rosmake-2] Finished <<< fingertip_pressure ROS_NOBUILD in package fingertip_pressure
[rosmake-4] Finished <<< tf2 ROS_NOBUILD in package tf2
[rosmake-2] Starting >>> resource_retriever [ make ]
[rosmake-3] Finished <<< robot_pose_ekf ROS_NOBUILD in package robot_pose_ekf
[rosmake-4] Starting >>> tf2_ros [ make ]
[rosmake-5] Finished <<< pr2_common_action_msgs ROS_NOBUILD in package pr2_common_action_msgs
[rosmake-6] Finished <<< python_qt_binding ROS_NOBUILD in package python_qt_binding
[rosmake-3] Starting >>> interactive_markers [ make ]
[rosmake-4] Finished <<< tf2_ros ROS_NOBUILD in package tf2_ros
[rosmake-5] Starting >>> pr2_tuck_arms_action [ make ]
[rosmake-6] Starting >>> map_server [ make ]
[rosmake-1] Finished <<< laser_geometry ROS_NOBUILD in package laser_geometry
[rosmake-4] Starting >>> pr2_teleop [ make ]
[rosmake-2] Finished <<< resource_retriever ROS_NOBUILD in package resource_retriever
[rosmake-5] Finished <<< pr2_tuck_arms_action ROS_NOBUILD in package pr2_tuck_arms_action
[rosmake-3] Finished <<< interactive_markers ROS_NOBUILD in package interactive_markers
[rosmake-6] Finished <<< map_server ROS_NOBUILD in package map_server
[rosmake-5] Starting >>> pr2_tuckarm [ make ]
[rosmake-5] Finished <<< pr2_tuckarm ROS_NOBUILD in package pr2_tuckarm
No Makefile in package pr2_tuckarm
[rosmake-4] Finished <<< pr2_teleop ROS_NOBUILD in package pr2_teleop
[rosmake-1] Starting >>> rviz [ make ]
[rosmake-6] Starting >>> gmapping [ make ]
[rosmake-6] Finished <<< gmapping ROS_NOBUILD in package gmapping
[rosmake-1] Finished <<< rviz ROS_NOBUILD in package rviz
[rosmake-0] Finished <<< filters ROS_NOBUILD in package filters
[rosmake-7] Finished <<< gazebo ROS_NOBUILD in package gazebo
[rosmake-0] Starting >>> robot_mechanism_controllers [ make ]
[rosmake-7] Starting >>> gazebo_plugins [ make ]
[rosmake-0] Finished <<< robot_mechanism_controllers ROS_NOBUILD in package robot_mechanism_controllers
[rosmake-0] Starting >>> gazebo_tools [ make ]
[rosmake-7] Finished <<< gazebo_plugins ROS_NOBUILD in package gazebo_plugins
[rosmake-7] Starting >>> pr2_ogre [ make ]
[rosmake-7] Finished <<< pr2_ogre ROS_NOBUILD in package pr2_ogre
[rosmake-0] Finished <<< gazebo_tools ROS_NOBUILD in package gazebo_tools
[rosmake-0] Starting >>> pr2_gazebo_plugins [ make ]
[rosmake-7] Starting >>> gazebo_worlds [ make ]
[rosmake-7] Finished <<< gazebo_worlds ROS_NOBUILD in package gazebo_worlds
[rosmake-0] Finished <<< pr2_gazebo_plugins ROS_NOBUILD in package pr2_gazebo_plugins
[rosmake-0] Starting >>> pr2_mechanism_controllers [ make ]
[rosmake-0] Finished <<< pr2_mechanism_controllers ROS_NOBUILD in package pr2_mechanism_controllers
[rosmake-0] Starting >>> pr2_gripper_action [ make ]
[rosmake-0] Finished <<< pr2_gripper_action ROS_NOBUILD in package pr2_gripper_action
[rosmake-0] Starting >>> pr2_controller_configuration_gazebo [ make ]
[rosmake-0] Finished <<< pr2_controller_configuration_gazebo ROS_NOBUILD in package pr2_controller_configuration_gazebo
[rosmake-0] Starting >>> pr2_gazebo [ make ]
[rosmake-0] Finished <<< pr2_gazebo ROS_NOBUILD in package pr2_gazebo
[rosmake-0] Starting >>> pr2_build_map_gazebo_demo [ make ]
[ rosmake ] All 31 linesr2_build_map_gazebo_demo: 1.1 sec ]               [ 1 Active 120/121 Complete ]
{-------------------------------------------------------------------------------
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=rospack find rosbuild/rostoolchain.cmake  ..
[rosbuild] Building package pr2_build_map_gazebo_demo
[rosbuild] Cached build flags older than manifests; calling rospack to get flags
Failed to invoke /opt/ros/fuerte/bin/rospack cflags-only-I;--deps-only pr2_build_map_gazebo_demo
[rospack] Warning: ignoring duplicate cpp tag in export block
[rospack] Warning: ignoring duplicate cpp tag in export block
CMake Error at /usr/lib/vtk-5.8/VTKTargets.cmake:16 (ADD_EXECUTABLE):
Command add_executable() is not scriptable
Call Stack (most recent call first):
/usr/lib/vtk-5.8/VTKConfig.cmake:231 (INCLUDE)
/usr/share/cmake-2.8/Modules/FindVTK.cmake:73 (FIND_PACKAGE)
/opt/ros/fuerte/stacks/perception_pcl/pcl/vtk_include.cmake:1 (find_package)
CMake Error at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:129 (message):
Failed to invoke rospack to get compile flags for package
'pr2_build_map_gazebo_demo'.  Look above for errors from rospack itself.
Aborting.  Please fix the broken dependency!

Call Stack (most recent call first):
/opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:227 (rosbuild_invoke_rospack)
CMakeLists.txt:12 (rosbuild_init)
-- Configuring incomplete, errors occurred!
[ rosmake ] Output from build of package pr2_build_map_gazebo_demo written to:
[ rosmake ]    /home/emrysm/.ros/rosmake/rosmake_output-20130612-094759/pr2_build_map_gazebo_demo/build_output.log
[rosmake-0] Finished <<< pr2_build_map_gazebo_demo [FAIL] [ 1.11 seconds ]
[ rosmake ] Halting due to failure in package pr2_build_map_gazebo_demo.
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:
[ rosmake ] Built 121 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /home/emrysm/.ros/rosmake/rosmake_output-20130612-094759

Originally posted by RigorMortis on ROS Answers with karma: 88 on 2013-06-12
Post score: 1

Original comments
Comment by CMC on 2013-06-13:
I'm having exactly the same problem, also using Fuerte and Ubuntu 12.04.
Comment by Georg Bartels on 2013-06-14:
I'm having a very similar problem compiling a newly-created package which just depends on gazebo_worlds. I''m using Fuerte and Ubuntu 12.04.

A:

The problem actually boils down to depending on package pcl under fuerte/precise. There is already a bigger question for this:
http://answers.ros.org/question/64501/pcl-error-in-ros-fuerte/
You can simulate the problem by creating a new package which just depends on pcl under fuerte/precise:
roscreate-pkg my_pkg pcl
rosmaking it will break with the same error as above. I also just tried doing the same thing under fuerte/oneiric and now error occured. So, if you happen to have access to such a system and just wanna try the tutorial then that could be a work-around.

Originally posted by Georg Bartels with karma: 157 on 2013-06-14
This answer was ACCEPTED on the original site
Post score: 0


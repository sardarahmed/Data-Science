Q:

rviz does not start, prints "GLXUnsupportedPrivateRequest"

When I try to run rviz, I get the following output:
[reuter@fahrsim04:~]$ rosrun rviz rviz                                                                                                                                                                             (07-13 17:48)
Xlib:  extension "NV-GLX" missing on display ":0.0".
[ INFO] [1310572108.380121383]: Loading general config from [/fzi/ids/reuter/.rviz/config]
[ INFO] [1310572108.380396700]: Loading display config from [/fzi/ids/reuter/.rviz/display_config]
The program 'rviz' received an X Window System error.
This probably reflects a bug in the program.
The error was 'GLXUnsupportedPrivateRequest'.
  (Details: serial 21 error_code 177 request_code 155 minor_code 16)
  (Note to programmers: normally, X errors are reported asynchronously;
   that is, you will receive the error a while after causing it.
   To debug your program, run it with the --sync command line
   option to change this behavior. You can then get a meaningful
   backtrace from your debugger if you break on the gdk_x_error() function.)
[reuter@fahrsim04:~]$

...and the program doesn't run.
Notes:
I get the message Xlib:  extension "NV-GLX" missing on display ":0.0". for every glx program I run. I have not been able to determine what is causing this, as this system is using an intel card with an intel driver. All the programs work fine, though, and glxinfo reports that direct rendering is enabled.
A google search about the error has not yielded a solution.
What can I do to get rviz to work?

Originally posted by JFReuter on ROS Answers with karma: 13 on 2011-07-13
Post score: 1

Original comments
Comment by JFReuter on 2011-07-14:
@Asomerville No, this is on a dedicated Kubuntu machine.
Comment by Asomerville on 2011-07-13:
are you running inside a virtual machine?

A:

Hi mate,
Xlib:  extension "GLX" missing on display ":0.0" is more linux related. Try:
sudo apt-get purge nvidia*
sudo apt-get install --reinstall xserver-xorg-video-intel  libgl1-mesa-glx libgl1-mesa-dri    server-xorg-core
sudo dpkg-reconfigure xserver-xorg
sudo update-alternatives --remove gl_conf /usr/lib/nvidia-current/ld.so.conf

(see https://theiszm.wordpress.com/2010/06/27/glx-missing-on-display/). Do not worry about removing ros packages. You can reinstall them afterwards.
Regards, Tobias

Originally posted by Tobias with karma: 156 on 2011-07-17
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by JFReuter on 2011-07-17:
That worked! Turns out the nvidia packages were interferring with the 3d acceleration. Now I do not have the error anymore and rviz works like a charm. You have some serious psychic debugging skills :-)


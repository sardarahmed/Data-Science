Q:

Simulate GPS sensor via ROS plugins (Hector_Plugins)

Hi,
I am new to ROS I'm trying to simulate some realistic sensors with noise, drift and bias on a DBW car.
I have used the following code to simulate an IMU .
<gazebo reference="${name}">
<gravity>true</gravity>
<sensor name="imu_sensor" type="imu">
  <always_on>true</always_on>
  <update_rate>100</update_rate>
  <visualize>true</visualize>
  <topic>__default_topic__</topic>
  <plugin filename="libgazebo_ros_imu_sensor.so" name="imu_plugin">
    <topicName>imu</topicName>
    <bodyName>imu_link</bodyName>
    <updateRateHZ>10.0</updateRateHZ>
    <gaussianNoise>0.0</gaussianNoise>
    <xyzOffset>0 0 0</xyzOffset>
    <rpyOffset>0 0 0</rpyOffset>
    <frameName>imu_link</frameName>
  </plugin> 

</sensor>
</gazebo>

and I'd be grateful if someone could help me out with GPS , I've already downloaded the Hector Plugins (http://wiki.ros.org/hector_gazebo_plugins)  but I'm not sure how to modify the code to use those plugins.
Thank You,
Sal.

Originally posted by Salahuddin_Khan on ROS Answers with karma: 50 on 2017-11-19
Post score: 0

A:

I tried hector gps too but i had some errors. But when i simply added this plugin in my URDF:
      <!-- GPS Sensor -->
  <gazebo>
    <plugin name="novatel_gps_sim" filename="libhector_gazebo_ros_gps.so">
      <alwaysOn>1</alwaysOn>
      <updateRate>10.0</updateRate>
      <bodyName>base_footprint</bodyName>
      <topicName>fix</topicName>
      <velocityTopicName>fix_velocity</velocityTopicName>
      <drift>5.0 5.0 5.0</drift>
      <gaussianNoise>0.1 0.1 0.1</gaussianNoise>
      <velocityDrift>0 0 0</velocityDrift>
      <velocityGaussianNoise>0.1 0.1 0.1</velocityGaussianNoise>
    </plugin>
  </gazebo>

my problem solved. Base_footprint is a link that the gps is attached to in this users
URDF file.
Hope this helps.

Originally posted by moshimojo with karma: 46 on 2017-12-10
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by siddharthcb on 2021-05-27:
I am working on hector gps too.. do you have a published journal or repo of your work?


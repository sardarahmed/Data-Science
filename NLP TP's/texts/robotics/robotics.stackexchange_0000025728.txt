Q:

Crash when starting depth camera

Hi There,
I'm experimenting with the 1.3 release of Gazebo that has just been included with Ros Groovy.  I am attempting to run a simulation of the new kobuki based turtlebot.  What I am finding is that with a little experimentation I have gotten the model to launch, but the simulator appears to crash when generating the depth camera for the Kinect sensor.

Warning [parser.cc:499] XML Attribute[range] in element[attenuation] not defined in SDF, ignoring.
Warning [parser.cc:499] XML Attribute[xyz] in element[direction] not defined in SDF, ignoring.
[New Thread 0x7fffdae56700 (LWP 10220)]
[New Thread 0x7fffda655700 (LWP 10221)]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffd9e54700 (LWP 10223)]
[New Thread 0x7fffd9653700 (LWP 10224)]
[New Thread 0x7fffd8e52700 (LWP 10225)]
[New Thread 0x7fffc3fff700 (LWP 10232)]
[New Thread 0x7fffc37fe700 (LWP 10233)]
[New Thread 0x7fffc2ffd700 (LWP 10234)]
[ INFO] [1359430250.570906834]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master
Msg Connected to gazebo master @ http://127.0.0.1:11345
Msg Publicized address: 129.96.183.176
Error [Rendering.cc:37] Failed to load the Rendering engine subsystem
unable to find OpenGL rendering system. OGRE is probably installed incorrectly. Double check the OGRE cmake output, and make sure OpenGL is enabled.
[New Thread 0x7fffc16fc700 (LWP 10266)]
[New Thread 0x7fffc0efb700 (LWP 10267)]
[New Thread 0x7fffabfff700 (LWP 10274)]
Warning [parser.cc:377] SDF has no  element in file[data-string]
Dbg [base_footprint] has no parent joint
Warning [parser.cc:314] parse from urdf.

Program received signal SIGSEGV, Segmentation fault.
0x00007ffff55f9838 in std::basic_string, std::allocator >::basic_string(std::string const&) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
(gdb) bt
#0  0x00007ffff55f9838 in std::basic_string, std::allocator >::basic_string(std::string const&) () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#1  0x00007ffff2048da4 in gazebo::rendering::Scene::CreateDepthCamera(std::string const&, bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_rendering.so.1
#2  0x00007ffff6b77eac in gazebo::sensors::DepthCameraSensor::Init() () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1
#3  0x00007ffff6b8d468 in gazebo::sensors::SensorManager::Update(bool) () from /opt/ros/groovy/stacks/simulator_gazebo/gazebo/gazebo/lib/libgazebo_sensors.so.1
#4  0x000000000042811f in gazebo::Server::Run() ()
#5  0x00000000004247af in main ()
(gdb) 

Commenting out the Kinect sensor in the robot description allows the simulation to launch.

[New Thread 0x7fffdae56700 (LWP 11532)]
[New Thread 0x7fffda655700 (LWP 11533)]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffd9e54700 (LWP 11535)]
[New Thread 0x7fffd9653700 (LWP 11536)]
[New Thread 0x7fffd8e52700 (LWP 11537)]
[New Thread 0x7fffc3fff700 (LWP 11544)]
[New Thread 0x7fffc37fe700 (LWP 11545)]
[New Thread 0x7fffc2ffd700 (LWP 11546)]
[ INFO] [1359430908.947420043]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master
Msg Connected to gazebo master @ http://127.0.0.1:11345
Msg Publicized address: 129.96.183.176
Error [Rendering.cc:37] Failed to load the Rendering engine subsystem
unable to find OpenGL rendering system. OGRE is probably installed incorrectly. Double check the OGRE cmake output, and make sure OpenGL is enabled.
[New Thread 0x7fffc16fc700 (LWP 11581)]
[New Thread 0x7fffc0efb700 (LWP 11584)]
[New Thread 0x7fffabfff700 (LWP 11588)]
Warning [parser.cc:377] SDF has no  element in file[data-string]
Dbg [base_footprint] has no parent joint
Warning [parser.cc:314] parse from urdf.
spawn status:  SpawnModel: successfully spawned model
Error [Plugin.hh:126] Failed to load plugin libgazebo_ros_kobuki.so: libgazebo_ros_kobuki.so: cannot open shared object file: No such file or directory
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[tcsetpgrp failed in terminal_inferior: Inappropriate ioctl for device]
[New Thread 0x7fffab7fe700 (LWP 11595)]
[ INFO] [1359430909.981870169, 0.023000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.
[ INFO] [1359430910.048695962, 0.073000000]: Starting to spin physics dynamic reconfigure node...

There appear to be errors in the robot description, but appears to be under development.

Originally posted by JonW on Gazebo Answers with karma: 11 on 2013-01-28
Post score: 1

A:

This error:
Error [Rendering.cc:37] Failed to load the Rendering engine subsystem unable to find OpenGL  rendering system. OGRE is probably installed incorrectly. Double check the OGRE cmake output, and make sure OpenGL is enabled.

indicates that Gazebo was unable to find OpenGL, which could mean that your machine doesn't have an opengl driver installed. This is required for the kinect style sensor.

Originally posted by nkoenig with karma: 7676 on 2013-07-24
This answer was ACCEPTED on the original site
Post score: 0


Q:

camera_calibration - override enough data check

Hi everybody,
I'd like to calibrate a stereo rig with the camera_calibration stereo node. I have a set of pre-recorded images that I publish using a simple ad-hoc player node and with some datasets it works pretty well. I followed stereo tutorial and if the number of images in my sequence is enough no problem arises. The problem is when I do not have enough frames and the calibrate button never lights.
Do you know how I can override the good enough check?
Thank you,
Augusto

Originally posted by Augusto Luis Ballardini on ROS Answers with karma: 430 on 2015-12-11
Post score: 0

A:

It looks like there is a magic number of 40:
self.goodenough = (len(self.db) >= 40) or all([p == 1.0 for p in progress])

https://github.com/ros-perception/image_pipeline/blob/indigo/camera_calibration/src/camera_calibration/calibrator.py#L311
Change it to zero or whatever you like (clone the the image_pipeline pipeline into your catkin_ws and catkin_make it, if devel or install is sourced it should take precedence over the unmodified image_pipeline elsewhere on your system when you rosrun/launch it).
You could also probably fake it by send the same images repeatedly until 40 is reached.

Originally posted by lucasw with karma: 8729 on 2015-12-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Augusto Luis Ballardini on 2015-12-14:
Thanks, it works like a charm ;-)


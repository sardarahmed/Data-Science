Q:

catkin_make: cannot find 'std_msg'

I'm still in the process of setting up my ROS, I am getting an error message when i run this command
catkin_make

The above command is at step 4 here
Then i get this error Message:
Base path: /home/dayo/catkin_ws
Source space: /home/dayo/catkin_ws/src
Build space: /home/dayo/catkin_ws/build
Devel space: /home/dayo/catkin_ws/devel
Install space: /home/dayo/catkin_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/dayo/catkin_ws/build"
####
-- Using CATKIN_DEVEL_PREFIX: /home/dayo/catkin_ws/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/kinetic
-- This workspace overlays: /opt/ros/kinetic
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Using Debian Python package layout
-- Using empy: /usr/bin/empy
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/dayo/catkin_ws/build/test_results
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.7.8
-- BUILD_SHARED_LIBS is on
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 1 packages in topological order:
-- ~~  - beginner_tutorials
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- +++ processing catkin package: 'beginner_tutorials'
-- ==> add_subdirectory(beginner_tutorials)
CMake Warning at /opt/ros/kinetic/share/catkin/cmake/catkinConfig.cmake:76 (find_package):
  Could not find a package configuration file provided by "std_msg" with any
  of the following names:
    std_msgConfig.cmake
    std_msg-config.cmake
  Add the installation prefix of "std_msg" to CMAKE_PREFIX_PATH or set
  "std_msg_DIR" to a directory containing one of the above files.  If
  "std_msg" provides a separate development package or SDK, be sure it has
  been installed.
Call Stack (most recent call first):
  beginner_tutorials/CMakeLists.txt:10 (find_package)
-- Could not find the required component 'std_msg'. The following CMake error indicates that you either need to install the package with the same name or change your environment so that it can be found.
CMake Error at /opt/ros/kinetic/share/catkin/cmake/catkinConfig.cmake:83 (find_package):
  Could not find a package configuration file provided by "std_msg" with any
  of the following names:
    std_msgConfig.cmake
    std_msg-config.cmake
  Add the installation prefix of "std_msg" to CMAKE_PREFIX_PATH or set
  "std_msg_DIR" to a directory containing one of the above files.  If
  "std_msg" provides a separate development package or SDK, be sure it has
  been installed.
Call Stack (most recent call first):
  beginner_tutorials/CMakeLists.txt:10 (find_package)
-- Configuring incomplete, errors occurred!
See also "/home/dayo/catkin_ws/build/CMakeFiles/CMakeOutput.log".
See also "/home/dayo/catkin_ws/build/CMakeFiles/CMakeError.log".
Makefile:290: recipe for target 'cmake_check_build_system' failed
make: *** [cmake_check_build_system] Error 1
Invoking "make cmake_check_build_system" failed*

This is the CMakeLists.txt :
cmake_minimum_required(VERSION 2.8.3)
project(beginner_tutorials)

find_package(catkin REQUIRED COMPONENTS
  roscpp
  rospy
  std_msgs
)  

catkin_package()

include_directories(
  ${catkin_INCLUDE_DIRS}
)

This is the Package.xml :
<?xml version="1.0"?>
<package format="2">
  <name>beginner_tutorials</name>
  <version>0.0.0</version>
  <description>The beginner_tutorials package</description>
  <maintainer email="dayo@todo.todo">dayo</maintainer>
  <license>TODO</license>

  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>roscpp</build_depend>
  <build_depend>rospy</build_depend>
  <build_depend>std_msgs</build_depend>
  <build_export_depend>roscpp</build_export_depend>
  <build_export_depend>rospy</build_export_depend>
  <build_export_depend>std_msgs</build_export_depend>
  <exec_depend>roscpp</exec_depend>
  <exec_depend>rospy</exec_depend>
  <exec_depend>std_msgs</exec_depend>

  <export>
  </export>
</package>

These are the outputs of the following commands:
dpkg -l | grep std-msgs
ii  ros-kinetic-std-msgs                         0.5.11-0xenial-20171104-175741-0800                   amd64        Standard ROS Messages including common message types representing primitive data types and other basic message constructs, such as multiarrays.

rospack find std_msgs
/opt/ros/kinetic/share/std_msgs

ls -al /opt/ros/kinetic/share/std_msgs
total 28
drwxr-xr-x   4 root root  4096 Feb  7 18:29 .
drwxr-xr-x 234 root root 12288 Feb  7 18:33 ..
drwxr-xr-x   2 root root  4096 Feb  7 18:29 cmake
drwxr-xr-x   2 root root  4096 Feb  7 18:29 msg
-rw-r--r--   1 root root  1005 Feb 15  2017 package.xml

which gcc
/usr/bin/gcc

new output for catkin_make :
Base path: /home/dayo/test_ws
Source space: /home/dayo/test_ws/src
Build space: /home/dayo/test_ws/build
Devel space: /home/dayo/test_ws/devel
Install space: /home/dayo/test_ws/install
Creating symlink "/home/dayo/test_ws/src/CMakeLists.txt" pointing to "/opt/ros/kinetic/share/catkin/cmake/toplevel.cmake"
####
#### Running command: "cmake /home/dayo/test_ws/src -DCATKIN_DEVEL_PREFIX=/home/dayo/test_ws/devel -DCMAKE_INSTALL_PREFIX=/home/dayo/test_ws/install -G Unix Makefiles" in "/home/dayo/test_ws/build"
####
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Using CATKIN_DEVEL_PREFIX: /home/dayo/test_ws/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/kinetic
-- This workspace overlays: /opt/ros/kinetic
-- Found PythonInterp: /usr/bin/python (found version "2.7.12") 
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Using Debian Python package layout
-- Using empy: /usr/bin/empy
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/dayo/test_ws/build/test_results
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.7.8
-- BUILD_SHARED_LIBS is on
-- Configuring done
-- Generating done
-- Build files have been written to: /home/dayo/test_ws/build
####
#### Running command: "make -j2 -l2" in "/home/dayo/test_ws/build"
####

Output of :  ls -al /home/dayo/catkin_ws
total 28
drwxrwxr-x  6 dayo dayo 4096 Feb  8 14:12 .
drwxr-xr-x 22 dayo dayo 4096 Feb 10 12:10 ..
drwxrwxr-x  4 dayo dayo 4096 Feb 10 02:57 beginner_tutorials
drwxrwxr-x  8 dayo dayo 4096 Feb  8 19:16 build
-rw-rw-r--  1 dayo dayo   98 Feb  7 19:52 .catkin_workspace
drwxrwxr-x  3 dayo dayo 4096 Feb  8 19:16 devel
drwxrwxr-x  3 dayo dayo 4096 Feb  8 13:06 src

Output of: ls -al /home/dayo/catkin_ws/src
total 12
drwxrwxr-x 3 dayo dayo 4096 Feb  8 13:06 .
drwxrwxr-x 6 dayo dayo 4096 Feb  8 14:12 ..
drwxrwxr-x 4 dayo dayo 4096 Feb  8 13:06 beginner_tutorials
lrwxrwxrwx 1 dayo dayo   50 Feb  7 19:51 CMakeLists.txt -> /opt/ros/kinetic/share/catkin/cmake/toplevel.cmake

new output of Catkin_make after deleting beginner_tutorial directory
Base path: /home/dayo/test_ws
Source space: /home/dayo/test_ws/src
Build space: /home/dayo/test_ws/build
Devel space: /home/dayo/test_ws/devel
Install space: /home/dayo/test_ws/install
####
#### Running command: "make cmake_check_build_system" in "/home/dayo/test_ws/build"
####
####
#### Running command: "make -j2 -l2" in "/home/dayo/test_ws/build"
####

updated output of catkin_make after deleting beginner_tutorial folder in src
Base path: /home/dayo/catkin_ws
Source space: /home/dayo/catkin_ws/src
Build space: /home/dayo/catkin_ws/build
Devel space: /home/dayo/catkin_ws/devel
Install space: /home/dayo/catkin_ws/install
####
#### Running command: "cmake /home/dayo/catkin_ws/src -DCATKIN_DEVEL_PREFIX=/home/dayo/catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/home/dayo/catkin_ws/install -G Unix Makefiles" in "/home/dayo/catkin_ws/build"
####
-- Using CATKIN_DEVEL_PREFIX: /home/dayo/catkin_ws/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/kinetic
-- This workspace overlays: /opt/ros/kinetic
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Using Debian Python package layout
-- Using empy: /usr/bin/empy
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/dayo/catkin_ws/build/test_results
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.7.8
-- BUILD_SHARED_LIBS is on
-- Configuring done
-- Generating done
-- Build files have been written to: /home/dayo/catkin_ws/build
####
#### Running command: "make -j2 -l2" in "/home/dayo/catkin_ws/build"
####

output after deleting build, devel and install:
Base path: /home/dayo/catkin_ws
Source space: /home/dayo/catkin_ws/src
Build space: /home/dayo/catkin_ws/build
Devel space: /home/dayo/catkin_ws/devel
Install space: /home/dayo/catkin_ws/install
####
#### Running command: "cmake /home/dayo/catkin_ws/src -DCATKIN_DEVEL_PREFIX=/home/dayo/catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/home/dayo/catkin_ws/install -G Unix Makefiles" in "/home/dayo/catkin_ws/build"
####
-- The C compiler identification is GNU 5.4.0
-- The CXX compiler identification is GNU 5.4.0
-- Check for working C compiler: /usr/bin/cc
-- Check for working C compiler: /usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Using CATKIN_DEVEL_PREFIX: /home/dayo/catkin_ws/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/kinetic
-- This workspace overlays: /opt/ros/kinetic
-- Found PythonInterp: /usr/bin/python (found version "2.7.12") 
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Using Debian Python package layout
-- Using empy: /usr/bin/empy
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/dayo/catkin_ws/build/test_results
-- Looking for pthread.h
-- Looking for pthread.h - found
-- Looking for pthread_create
-- Looking for pthread_create - not found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.7.8
-- BUILD_SHARED_LIBS is on
-- Configuring done
-- Generating done
-- Build files have been written to: /home/dayo/catkin_ws/build
####
#### Running command: "make -j2 -l2" in "/home/dayo/catkin_ws/build"
####

Please help

Originally posted by dayogeorge on ROS Answers with karma: 13 on 2018-02-08
Post score: 1

Original comments
Comment by lucasw on 2018-02-08:
#q208679 has the same error message, they were able to debug it with additional catkin output and contents of the package CMakeLists.txt
Comment by jayess on 2018-02-08:
Please update your question with the entire terminal output. There isn't enough information to figure out what's going on here.
Comment by jayess on 2018-02-08:
Can you post your package.xml and CMakeLists.txt?
Comment by dayogeorge on 2018-02-08:
i've updated the terminal output, pls check it out
Comment by dayogeorge on 2018-02-08:
please check the package.xml and CMakeLists.text
Comment by jayess on 2018-02-08:
Can you please copy and paste those files again using the preformatted text (101010) button? The current formatting makes the contents of those files are unreadable. And please remove any comments to shorten the length of them too.
Comment by dayogeorge on 2018-02-08:
i have done that
Comment by jayess on 2018-02-08:
It looks the same
Comment by dayogeorge on 2018-02-08:
i reposted the question while trying to effect the change you suggested but its still the same, maybe there is something i'm not getting. i'm new here. what else can i do
Comment by jayess on 2018-02-08:
See #q270918 for how to use the preformatted text button
Comment by dayogeorge on 2018-02-08:
it says the page has been deleted
Comment by jayess on 2018-02-08:
Sorry, #q270916
Comment by dayogeorge on 2018-02-08:
ok so i tried the post here but it was not working so i reposted the question and it is better. Please check for it
Comment by jayess on 2018-02-08:
Please don't create a new question just to format your text. Open your CMakeLists.txt, copy the text, paste it into the editor here, then highlight the text, then click the preformatted text (101010) button. Then do the same with your package.xml file.
Comment by gvdhoorn on 2018-02-09:
I've fixed the formatting of the CMakeLists.txt, but the package.xml is a wall of text.
@dayogeorge: please copy-paste your package.xml again into your question, select the text you just pasted, and click on the Preformattext Text button (or use ctrl+k).
Comment by gvdhoorn on 2018-02-09:
@dayogeorge: how did you install ROS?
Could not find a package configuration file provided by "std_msg" [..]

std_msgs is part of the core of ROS. It would be really strange for it not to be installed.
Comment by lagankapoor on 2018-02-09:
@dayogeorge may you try one trick because that help for me always , save your CMakeList.txt file first then go to your Src directory delete your CMakeList.txt and then use Catkin_make it will help you
Comment by jayess on 2018-02-09:
@dayogeorge I removed the comments in your CMakeLists.txt file so that it's shorter but your package.xml file is still unreadable. Can you please copy and paste it again? This time please make sure that it's readable (properly indented, etc.).
Comment by dayogeorge on 2018-02-09:
thanks guys.
Please check the package,xml now.
So how should I proceed? I'm still at step 4 on this page: http://wiki.ros.org/ROS/Tutorials/CreatingPackage
Comment by jayess on 2018-02-09:
@dayogeorge How did you install ROS? Like @gvdhoorn said, std_msgs should have been installed with ROS.
Comment by dayogeorge on 2018-02-09:
i followed the steps on ros.org
what do you suggest i do?
Comment by jayess on 2018-02-09:
What steps? We don't know what platform you are using.
Comment by dayogeorge on 2018-02-10:
i'm trying to installing kinetic on ubuntu.
Amd i'm following the steps here
Comment by gvdhoorn on 2018-02-10:
Can you tell us the exact command you used to install ROS?
And please link to all tutorials you followed for the installation.
Reason we keep asking about this is that std_msgs should definitely be there, and we're trying to make sure it's not an installation issue before checking other things.
Comment by dayogeorge on 2018-02-10:
i used this command:
sudo apt-get install ros-kinetic-desktop-full

And it can be foundhere
I basically just followed all the step highlighted in the link above
Comment by gvdhoorn on 2018-02-10:
Ok. Please do this:

open a new terminal
source /opt/ros/kinetic/setup.bash
dpkg -l | grep std-msgs
rospack find std_msgs
ls -al /opt/ros/kinetic/share/std_msgs

add the output of the last three commands to your OP (edit it).
Comment by gvdhoorn on 2018-02-10:
Also: what is the output of which gcc?
Comment by dayogeorge on 2018-02-10:
Please check my edited post for the output of the commands above
Comment by gvdhoorn on 2018-02-10:
That all looks ok. But there is something strange looking at the catkin_make output that you included in your OP: I don't see any mention of compilers or pthread. Even with an empty workspace catkin_make prints lines about that for me.
Can you remove any source ... lines from your ..
Comment by gvdhoorn on 2018-02-10:
.. .bashrc file (if you have any), save it, and do the following:

open a new terminal
mkdir -p $HOME/test_ws/src
cd $HOME/test_ws
source /opt/ros/kinetic/setup.bash
catkin_make

then copy-paste the whole output of catkin_make into your OP.
Comment by gvdhoorn on 2018-02-10:
And just making sure: your OS is Ubuntu 16.04 or Ubuntu Xenial, correct? lsb_release -a shows Ubuntu 16.04 and xenial?
Comment by dayogeorge on 2018-02-10:
yes my ubuntun is 16.04.3 LTS xenial.
pls how do i access the .bashrc file?
Comment by gvdhoorn on 2018-02-10:
It's in your home directory. Something like gedit $HOME/.bashrc should open it.
Look at the end. If there are lines like source /opt/ros/kinetic/setup.bash or source ~/catkin_ws/devel/setup.bash remove them. Save, close, follow steps in previous comment.
Comment by dayogeorge on 2018-02-10:
thanks a lot bro.
I removed the source and then i ran the commands.
check the output of catkin_make in my edited post.
Looks like it is done right?
Comment by gvdhoorn on 2018-02-10:
I do not see any update.
Comment by gvdhoorn on 2018-02-10:
Re: new run of catkin_make: yes, that looks a lot better.
Can you now do:

ls -al /home/dayo/catkin_ws
ls -al /home/dayo/catkin_ws/src

and add the output to your OP?
It's good that things are now ok, but without knowing what caused the problems initially, it's hard to avoid it.
Comment by dayogeorge on 2018-02-10:
you mean updates in terms of std_msgs?
Comment by gvdhoorn on 2018-02-10:
No I meant that you had posted your comment "I've edited my post", but I did not see an updated post.
Comment by dayogeorge on 2018-02-10:
pls check for all the outputs
Comment by dayogeorge on 2018-02-10:
they are towards the end of my edited post
Comment by gvdhoorn on 2018-02-10:
ah. Please delete (rm -r) the beginner_tutorials directory in /home/dayo/catkin_ws.
Catkin packages should be stored only in the source space of your workspace. Not in the root.
After you've removed it, try catkin_make again.
Comment by dayogeorge on 2018-02-10:
please i didnt get your last message...you men i should delete the beginner_tutorials file in this directory /home/dayo/catkin_ws ?
what is rm -r ?
I'm sorry for the multiple questions pls.
Comment by gvdhoorn on 2018-02-10:\

I'm sorry for the multiple questions pls.

please stop writing 'please' everywhere. We already know that you post here because you want help.
Comment by gvdhoorn on 2018-02-10:\

what is rm -r ?

that is how you delete directories in Linux on the command line ..

you men i should delete the beginner_tutorials file in this directory /home/dayo/catkin_ws

/home/dayo/catkin_ws/beginner_tutorials is a directory, but yes, you should remove it.
Comment by dayogeorge on 2018-02-10:
lol,,ok ..no more please.
So check my edited post for the new catkin_make output
Comment by gvdhoorn on 2018-02-10:\

new output of Catkin_make after deleting beginner_tutorial directory

after deleting the beginner_package from the src space of your old workspace, you should probably have tried catkin_make with your old workspace, not your new workspace ....
Comment by dayogeorge on 2018-02-10:
output looks good now..check it out in my updated edited post...what do you think?
I need to understand why the beginner_tutorial was the hindrance?
Also, in the updated output, i can't see any message implying that std_msg is present.
Comment by gvdhoorn on 2018-02-11:\

I need to understand why the beginner_tutorial was the hindrance?

exactly. That is what we're trying to do.
I'm not sure, but perhaps your CMakeLists.txt contained some error that caused it to fail.
In general though: package go into the source space (ie: src) of your workspace.
Comment by gvdhoorn on 2018-02-11:
One final thing to do:

open a new terminal
source /opt/ros/kinetic/setup.bash
rm -rf /home/dayo/catkin_ws/{build,devel,install}
cd /home/dayo/catkin_ws
catkin_make

If that all still works, then you're ok.
Comment by dayogeorge on 2018-02-11:
check for the output, is it ok?
Comment by gvdhoorn on 2018-02-11:
That looks alright, yes.
It didn't build any packages (such as beginner_tutorials) though. But that is probably because src/beginners_tutorials is not a ROS package (yet).
I'd say you can now continue with the tutorial (or restart, because you probably need to (re)create the pkg).
Comment by dayogeorge on 2018-02-11:
Yes..thanks.
What is meant by the statement "source your environment"?
It is usually this command: source /opt/ros/kinetic/setup.bash
Comment by Haadi_Cool on 2023-02-09:
Can someone help me out? I have checked the CMakeLists.txt and also in package.xml, everything is same, I have also done the corrections, I am still encountering the same error, can someone please help me out too?
Comment by jayess on 2023-02-21:
@Haadi_Cool you should create a new question instead of leaving a comment on a 4 year old question. This will get you more visibility

A:

To state the obvious (and answer the question): the catkin_build output refers to std_msg instead of std_msgs. The revised CMakeLists.txt and package.xml in the question are correct. It should build now.

Originally posted by clyde with karma: 1247 on 2018-02-11
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2018-02-12:
That would seem to be the actual answer, however, the initial CMakeLists.txt posted by @dayogeorge (rev7) already has this:
find_package(catkin REQUIRED COMPONENTS roscpp rospy std_msgs )

so either that is the CMakeLists.txt of a different pkg, or @dayogeorge forgot to tell us something.
Comment by dayogeorge on 2018-02-12:
there is nothing more i'm not telling you..i followed the steps in the tutorials and i post the outputs
Comment by Teyhan on 2019-06-04:
Did you find any solution for this problem? There is same problem for me.


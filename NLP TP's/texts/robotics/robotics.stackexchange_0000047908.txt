Q:

Building hector_quadrotor failed

I have installed ROS and Gazebo and I tried to build this project:

http://www.ros.org/wiki/hector_quadrotor/Tutorials/Quadrotor%20indoor%20SLAM%20demo

After I executing

rosmake hector_quadrotor_demo

All things work well unless I meet these errors:

......
{-------------------------------------------------------------------------------
mkdir -p bin
cd build && cmake -Wdev
-DCMAKE_TOOLCHAIN_FILE=/opt/ros/groovy/share/ros/core/rosbuild/rostoolchain.cmake
..
-- The C compiler identification is
GNU
-- The CXX compiler identification
is GNU
-- Check for working C compiler:
/usr/bin/gcc
-- Check for working C compiler:
/usr/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info -
done
-- Check for working CXX compiler:
/usr/bin/c++
-- Check for working CXX compiler:
/usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info -
done
-- Found PythonInterp:
/usr/bin/python (found version
"2.7.3")
[rosbuild] Building package
hector_quadrotor_gazebo_plugins
Failed to invoke
/opt/ros/groovy/bin/rospack
deps-manifests
hector_quadrotor_gazebo_plugins
[rospack] Error: package/stack
'hector_quadrotor_gazebo_plugins'
depends on non-existent package
'hector_gazebo_plugins' and rosdep
claims that it is not a system
dependency. Check the ROS_PACKAGE_PATH
or try calling 'rosdep update'
CMake Error at
/opt/ros/groovy/share/ros/core/rosbuild/public.cmake:129
(message):
Failed to invoke rospack to get compile flags for package

'hector_quadrotor_gazebo_plugins'.  Look above for errors from rospack

itself.  Aborting.  Please fix the broken dependency!

Call Stack (most recent call first):
/opt/ros/groovy/share/ros/core/rosbuild/public.cmake:203

(rosbuild_invoke_rospack)
CMakeLists.txt:12 (rosbuild_init)

-- Configuring incomplete, errors
occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of
package
hector_quadrotor_gazebo_plugins
written to:
[ rosmake ]
/home/hongbo-miao/.ros/rosmake/rosmake_output-20130203-101443/hector_quadrotor_gazebo_plugins/build_output.log
[rosmake-1] Finished <<<
hector_quadrotor_gazebo_plugins [FAIL]
[ 2.95 seconds ]
[ rosmake ] Halting due to failure in
package
hector_quadrotor_gazebo_plugins.
[ rosmake ] Waiting for other threads
to complete.
[rosmake-0] Finished <<<
hector_uav_msgs [PASS] [ 112.02
seconds ]
[ rosmake ] Results:
[ rosmake ] Built 69 packages with 1
failures.
[ rosmake ] Summary output to
directory
[ rosmake ]
/home/hongbo-miao/.ros/rosmake/rosmake_output-20130203-101443

If I continue executing

roslaunch hector_quadrotor_demo
indoor_slam_gazebo.launch

I will get this error:

cannot locate
[indoor_slam_gazebo.launch] in package
[hector_quadrotor_demo]

Any idea? Thanks!

Originally posted by Hongbo Miao on ROS Answers with karma: 70 on 2013-02-03
Post score: 1

A:

It seems that you only installed the hector_quadrotor stack without its dependencies. For compiling the hector_quadrotor stack, you need at least hector_gazebo, hector_models and hector_common (if you want to publish tf). Make sure to have them in your ROS_PACKAGE_PATH or, for fuerte, install them as Ubuntu package with the sudo apt-get install ros-fuerte-hector-quadrotor command. We are going to release hector_quadrotor for groovy soon.
The hector_quadrotor_demo package has been moved to a separate stack, namely hector_quadrotor_apps some time ago. For running the demos with SLAM, you will also need the hector_slam package.
Information about required stacks was indeed incomplete in the tutorials. I have added the missing stacks in the prerequisites section. Thanks for reporting!
Note to me: Probably it would be best to provide a rosinstall file containing all stacks required to run the demo, so that you can checkout them with a single command.

Originally posted by Johannes Meyer with karma: 1266 on 2013-02-03
This answer was ACCEPTED on the original site
Post score: 2


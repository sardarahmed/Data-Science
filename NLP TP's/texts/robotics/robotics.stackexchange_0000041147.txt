Q:

image_view giving glib errors and not displaying a window

When I try to launch image_view no window is display and I get these errors on stderr.
(process:8973): GLib-GObject-CRITICAL **: gtype.c:2715: You forgot to call g_type_init()

(process:8973): GLib-CRITICAL **: g_once_init_leave: assertion `initialization_value != 0' failed

(process:8973): GLib-GObject-CRITICAL **: gtype.c:2715: You forgot to call g_type_init()

(process:8973): GLib-GObject-CRITICAL **: gtype.c:2715: You forgot to call g_type_init()

(process:8973): GLib-GObject-CRITICAL **: gtype.c:2715: You forgot to call g_type_init()

(process:8973): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion `G_TYPE_IS_INSTANTIATABLE (instance_type)' failed

(process:8973): GLib-GObject-CRITICAL **: gtype.c:2715: You forgot to call g_type_init()

(process:8973): GLib-GObject-CRITICAL **: g_type_interface_add_prerequisite: assertion `G_TYPE_IS_INTERFACE (interface_type)' failed

(process:8973): GLib-CRITICAL **: g_once_init_leave: assertion `initialization_value != 0' failed

(process:8973): GLib-GObject-CRITICAL **: g_type_add_interface_static: assertion `G_TYPE_IS_INSTANTIATABLE (instance_type)' failed

(process:8973): GLib-GObject-WARNING **: invalid uninstantiatable type `(null)' in cast to `<invalid>'

(process:8973): GLib-GObject-WARNING **: instance of invalid non-instantiatable type `(null)'

(process:8973): GLib-GObject-CRITICAL **: g_signal_connect_data: assertion `G_TYPE_CHECK_INSTANCE (instance)' failed

What could be causing this? I'm running Gentoo and have installed ROS manually. On other systems I have not had problems and have not seen these error messages.

Originally posted by Shum on ROS Answers with karma: 1 on 2012-06-05
Post score: 2

A:

I guess on Gentoo you have a much more recent version of glib. You will have to patch image_view manually. Did you try adding a call to g_type_init() somewhere in image_view as the error message suggests?

Originally posted by Lorenz with karma: 22731 on 2012-06-06
This answer was ACCEPTED on the original site
Post score: 1


Q:

Transform listener can't find base_link

Hello all,
I'm trying to read values from base_link frame in order to get my robot's coordinates with the following code:
tf::TransformListener listener;
tf::StampedTransform transform;
try {
        listener.lookupTransform("/base_link", "/odom", ros::Time(0),
                transform);
    } catch (tf::TransformException ex) {
        ROS_ERROR("%s", ex.what());
    }

However, all I get is an error.

[ERROR] [1394401426.907398394,
36.516000000]: Frame id /base_link does not exist! Frames (1)

I can visualize base_link in rviz or read it's values on terminal using rostopic echo so I'm pretty sure it exists.
Any help is much appreciated.

Originally posted by SpiderRico on ROS Answers with karma: 35 on 2014-03-09
Post score: 0

A:

Adding this line solved the problem:
listener.waitForTransform("base_link", "odom", ros::Time(0),
            ros::Duration(3.0));

so the final code is:
try {

    listener.waitForTransform("base_link", "odom", ros::Time(0),
            ros::Duration(3.0));
    listener.lookupTransform("/base_link", "/odom", ros::Time(0),
            transform);
} catch (tf::TransformException ex) {
    ROS_ERROR("%s", ex.what());
}

Originally posted by SpiderRico with karma: 35 on 2014-03-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by BennyRe on 2014-03-09:
Please mark your own answer as correct if it is.
Comment by SpiderRico on 2014-03-11:
It says I need more than 25 points for that.
Comment by BennyRe on 2014-03-11:
Now you have 25 karma.


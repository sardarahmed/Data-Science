Q:

Ar_track_alvar bundle with differents markers size

Hi everyone,
I am working with ar_track_alvar package. I would like to use the node "findMarkerBundlesNoKinect"  to detect multiple bundles, but in each bundle the master tag's  size is different from the others. Is it possible?
The bundle it's similar the image bellow. The master tag is the beggest on the center.

Another issue is that I tried to modify the marker_size, max_new_marker_error and  max_track_error parameters in the bundle launch file, but it didn't affect nothing. So, what is necessary to these parameters work?

Originally posted by JoaoPedro on ROS Answers with karma: 33 on 2016-06-16
Post score: 0

Original comments
Comment by jayson on 2016-09-05:
Have you figured out this? Did you figured out how to use marker_size parameter? Please share it. thanks.

A:

By default ALVAR markers have a size of 1. What this means is that the width and height of the marker including the margins, or the "outer dimensions of the black box" is set to 1 unit. When you detect a marker and compute its pose relative to the camera, the position will be given in these units.
This is normally fine for generic augmentations but if you want to know the pose in real-world coordinates you need to specify a size for the marker. This is done by printing the marker, measuring its size in millimetres with a ruler and using that as marker_size. The position of the pose will then be given in millimetres. Of course you can use meters or any other scale that you prefer.
This is even more important if you are trying to track markers of multiple size. In this case, you do have to specify their sizes relative to each other. In SampleMultiMarker, we set the smaller markers to 4 cm and the larger one to 8 cm. You should adjust these numbers if your printer printed markers with different sizes.
This version of ALVAR is quite old and I can't remember if there was a problem with SampleMultiMarker due to the fact that it used markers of different sizes. You could try creating a new multi maker with markers of the same size. You can do this by manually adjusting lines 56-64 of SampleMultiMarker or using SampleMultiMarkerBundle to generate a mmarker.xml file.

Originally posted by ROSkinect with karma: 751 on 2017-06-08
This answer was ACCEPTED on the original site
Post score: 1


Q:

How to measure realtime delay when using multiple machines

Hi
I am currently dealing with multiple machines to control an actual vehicle using ros1.
My question is, is there any nice method to measure the latency when the control signal is sent (ex/ synchronizing rostime or referring to time of GPS)
however, if I refer to the GPS, my concern lies on commercial GPS only allows access to the time about 10~20Hz
which is I think still a bit discrete.
conditions

Master side) 5G modem#1 - ros machine#1 - controlling device

Slave side  ) 5G modem#2 - ros machine#2 - vehicle interface

Any ideas?

Originally posted by Kim_3957 on ROS Answers with karma: 7 on 2021-09-27
Post score: 0

A:

round-trip time is much easier and more reliable than absolute sync, get a remote node to repeat a message back.
NTP (system time) will get you closer than raw GPS messages, usually within 10ms
If you can get identical GPS hardware at both ends and a GPS pulse-per-second (PPS) kernel driver, you can realistically get within 20uS sync between system clocks
Raspberry pi supports PPS out of the box, and a lot of cheap commercial GPS modules have at least a blinkenlight on the PPS line
Without more context, I wouldn't bother going more complex than round-trip-time

Originally posted by BrettRD with karma: 86 on 2021-09-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Kim_3957 on 2021-09-27:
Thank you for the answer.
For our application, the round trip delay has no meaning. What we really want is the one-way delay which might be solved by the GPS synchronization you addressed.
We will try to sync the two machines using the same GPS hardware. Thanks.


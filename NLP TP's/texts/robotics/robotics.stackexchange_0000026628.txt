Q:

Installing Gazebo 1.9 and gazebo_ros_pkgs from source (missing package cmake_modules)

Hi all,
after having some problems with my already working gazebo ros plugins and the new
gazebo_ros_pkgs (see my question 3557) I tried to reinstall all components (ros groovy, Gazebo
and gazebo_ros_pkgs - all Gazebo parts from source) following the tutorials http://gazebosim.org/wiki/1.9/install and http://gazebosim.org/wiki/Tutorials/1.9/Installing_gazebo_ros_Packages. At the point where I had to build
the gazebo_ros_pkgs (with catkin_make) I got the following error message:
CMake Error at /opt/ros/groovy/share/catkin/cmake/catkinConfig.cmake:72 (find_package):
  Could not find a configuration file for package cmake_modules.

  Set cmake_modules_DIR to the directory containing a CMake configuration
  file for cmake_modules.  The file will have one of the following names:

    cmake_modulesConfig.cmake
    cmake_modules-config.cmake

Call Stack (most recent call first):
  ros_control/transmission_interface/CMakeLists.txt:31 (find_package)

CMake Error at ros_control/transmission_interface/CMakeLists.txt:37 (find_package):
  Could not find module FindTinyXML.cmake or a configuration file for package
  TinyXML.

  Adjust CMAKE_MODULE_PATH to find FindTinyXML.cmake or set TinyXML_DIR to
  the directory containing a CMake configuration file for TinyXML.  The file
  will have one of the following names:

    TinyXMLConfig.cmake
    tinyxml-config.cmake

CMake Error at /opt/ros/groovy/share/catkin/cmake/catkin_package.cmake:156 (message):
  catkin_package() DEPENDS on 'TinyXML' which must be find_package()-ed
  before.  If it is a catkin package it can be declared as CATKIN_DEPENDS
  instead without find_package()-ing it.
Call Stack (most recent call first):
  /opt/ros/groovy/share/catkin/cmake/catkin_package.cmake:98 (_catkin_package)
  ros_control/transmission_interface/CMakeLists.txt:40 (catkin_package)

-- Configuring incomplete, errors occurred!
Invoking "cmake" failed

It seemed to me, that I got this error message before as I tried another way of reinstalling gazebo with the pre-compiled binaries. And I am not sure if I am the only one with this error.
I'll directly post my solution.
Cheers, Christoph

Originally posted by Christoph on Gazebo Answers with karma: 141 on 2013-08-01
Post score: 0

Original comments
Comment by Arn-O on 2013-08-01:
Did you install all components from the source or only gazeb_ros_pkgs?
Comment by Christoph on 2013-08-01:
@_ArnO_ : I updated my question. This time I installed all components from source. I tried mixed versions like described in the tutorials before. With the same or different errors.

A:

What I did:
cloning the missing package into my catkin_workspace/src folder like
git clone https://github.com/ros/cmake_modules.git
Then run catkin_make again. This time there weren't errors anymore.
After adding the missing package the topics and services listed in the tutorials are all there and
my old gazebo ros plugins seem to work again.
As said before, I am not sure if I am the only one who got that error or if it is a common error and that information maybe belongs to the wiki.

Originally posted by Christoph with karma: 141 on 2013-08-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by mwd on 2013-08-01:
I also got this error and this also fixed it for me. Thanks so much.
Comment by Cdrwolfe on 2013-08-01:
This worked for me as well
Comment by davetcoleman on 2013-08-01:
My apologies on this issue, we added the cmake_modules dependency because we thought it was already released into Groovy, but actually it is waiting for the next update of debian into Groovy from the build farm - this should fix itself in the next couple days but you hit the error now. I've temporarily updated the documentation.
Comment by rguzman on 2013-08-07:
Thanks, it also worked for me.
Comment by Cdrwolfe on 2013-09-02:
Problem still exist when trying to install ros_control hydro from source, though the above answer still solves the problem
Comment by atp on 2014-01-22:
Thanks. It also worked for me.


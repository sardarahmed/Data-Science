Q:

ROS2 - Cannot build examples

Hi,
I am trying to build the examples from the tutorials
I did precisely this
mkdir -p ros2_ws/src
cd ros2_ws
git clone https://github.com/ros2/examples src/examples -b foxy
cd src
colcon build --symlink-install

I get this
pi@ros-pi:~/WORK/ros2_ws$ colcon build --symlink-install
Starting >>> examples_rclcpp_async_client
Starting >>> examples_rclcpp_cbg_executor
Starting >>> examples_rclcpp_minimal_action_client
Starting >>> examples_rclcpp_minimal_action_server                                                                
--- stderr: examples_rclcpp_minimal_action_client                                                                             
CMake Error at CMakeLists.txt:14 (find_package):
  By not providing "Findexample_interfaces.cmake" in CMAKE_MODULE_PATH this
  project has asked CMake to find a package configuration file provided by
  "example_interfaces", but CMake did not find one.

  Could not find a package configuration file provided by
  "example_interfaces" with any of the following names:

    example_interfacesConfig.cmake
    example_interfaces-config.cmake

  Add the installation prefix of "example_interfaces" to CMAKE_PREFIX_PATH or
  set "example_interfaces_DIR" to a directory containing one of the above
  files.  If "example_interfaces" provides a separate development package or
  SDK, be sure it has been installed.

---
Failed   <<< examples_rclcpp_minimal_action_client [4.11s, exited with code 1]
Aborted  <<< examples_rclcpp_minimal_action_server [4.08s]
Aborted  <<< examples_rclcpp_async_client [4.18s]
Aborted  <<< examples_rclcpp_cbg_executor [8.65s]                            

Summary: 0 packages finished [9.83s]
  1 package failed: examples_rclcpp_minimal_action_client
  3 packages aborted: examples_rclcpp_async_client examples_rclcpp_cbg_executor examples_rclcpp_minimal_action_server
  3 packages had stderr output: examples_rclcpp_async_client examples_rclcpp_minimal_action_client examples_rclcpp_minimal_action_server
  18 packages not processed

Originally posted by phil123456 on ROS Answers with karma: 51 on 2023-07-27
Post score: 0

A:

I typically install source code within the SCR folder and run COLON from the ROS2_WS folder. Looks like you did the opposite.
You also tagged HUMBLE in the question but downloaded FOXY examples. Make sure your examples match the version of the ROS2 being used.

Originally posted by billy with karma: 1850 on 2023-07-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by phil123456 on 2023-07-27:
I also tried building them in my home folder, does not help (why is my reply limited now ?)
pi@ros-pi:~/ros2_ws$ git clone https://github.com/ros2/examples src/examples -b humble
pi@ros-pi:~/ros2_ws$ colcon build --symlink-install
Starting >>> examples_rclcpp_async_client
Starting >>> examples_rclcpp_cbg_executor
Starting >>> examples_rclcpp_minimal_action_client                                                            
Starting >>> examples_rclcpp_minimal_action_server
--- stderr: examples_rclcpp_minimal_action_server                                                                             
CMake Error at CMakeLists.txt:14 (find_package):
  By not providing "Findexample_interfaces.cmake" in CMAKE_MODULE_PATH this
...

Comment by phil123456 on 2023-07-27:
thanks, I missed that foxy part
but it does not work, also the dir structure looks nothing like the one in the example
pi@ros-pi:~/WORK/ros2_ws$ git clone https://github.com/ros2/examples src/examples -b humble
pi@ros-pi:~/WORK/ros2_ws$ tree
.
??? src
    ??? examples
        ??? CONTRIBUTING.md
        ??? launch_testing
        ?   ??? launch_testing_examples
        ?       ??? CHANGELOG.rst
        ?       ??? launch_testing_examples
        ?       ?   ??? check_msgs_launch_test.py
        ?       ?   ??? check_multiple_nodes_launch_test.py
        ?       ?   ??? check_node_launch_test.py
        ?       ?   ??? hello_world_launch_test.py
        ?       ?   ??? __init__.py
        ?       ?   ??? record_rosbag_launch_test.py
        ?       ?   ??? set_param_launch_test.py
        ?       ??? package.xml
        ?       ??? README.md

Comment by phil123456 on 2023-07-27:
here
https://answers.ros.org/question/331633/ros2-colcon-build-fails-on-demo-pkg-docker/
it says I have to install a git repo
https://github.com/ros2/example_interfaces
where ? how ?
Comment by billy on 2023-07-27:
Is there a reason you are not cloning into the SRC folder as instructed in the tutorials? I suggest you delete the entire ROS2_WS folder and start again. Once you try to COLCON BUILD with files in the wrong place, things get messed up,
And in case you think you don't need to source the environment as often as the tutorials tell you to, you do need to. Get in the habit of sourcing. Anything goes wrong, your first thing should be to verify you're sourcing as shown in tutorials.
Comment by phil123456 on 2023-07-27:\

the tutorial does not say anything, there is no cd instruction, you just have to guess
as mentioned, I tried putting the workspace in my home folder
I also tried launching colcon in the src folder

as I just mentioned, someone had the same issue, and mas missing that git repo
but where do I clone it ?
pi@ros-pi:~/ros2_ws$ git clone https://github.com/ros2/examples_interfaces src/examples -b humble
fatal: destination path 'src/examples' already exists and is not an empty directory.

Comment by phil123456 on 2023-07-27:
same issue here
https://answers.ros.org/question/327356/colcon-tutorial-on-dashing-does-not-build/
Comment by billy on 2023-07-27:
There are very extensive and complete examples and tutorials on the ROS.ORG website. https://docs.ros.org/en/humble/Tutorials.html
If you haven't gone through those step by step you will have a very long and frustrating ROS2 experience. Do not try to learn ROS2 from github. That is hopeless.
As I suggested before, delete the entire ROS2_WS folder and start again. Clone the examples into the SCR folder and run COLCON BUILD from the ROS2_WS folder. It will not work any other way. And it won't work at all if you're not sourcing the environment.
Comment by phil123456 on 2023-07-27:\

I am actually following these very tutorials, hence the title of this post
I finally managed to make it work, that git repo was indeed missing and nothing is mentioned anywhere about it

I also put links to other people having the same issue
Comment by billy on 2023-07-27:
I just created a new workspace and cloned and built that repository to show you you just need to follow instructions. It took 60 seconds and no errors. Follow the tutorials.
b@bu22-desktop:~$ mkdir ros2_test_ws
b@bu22-desktop:~$ cd ros2_test_ws
b@bu22-desktop:~/ros2_test_ws$ source /opt/ros/humble/setup.bash
b@bu22-desktop:~/ros2_test_ws$ mkdir -p ~/ros2_test_ws/src
b@bu22-desktop:~/ros2_test_ws$ cd ~/ros2_test_ws/src
b@bu22-desktop:~/ros2_test_ws/src$ git clone https://github.com/ros2/examples src/examples -b humble
Cloning into 'src/examples'...
.....
Resolving deltas: 100% (5534/5534), done.
b@bu22-desktop:~/ros2_test_ws/src$ cd ..
b@bu22-desktop:~/ros2_test_ws$ rosdep install -i --from-path src --rosdistro humble -y
#All required rosdeps installed successfully
b@bu22-desktop:~/ros2_test_ws$ colcon build
.....

Summary: 22 packages finished [52.2s]
.....
b@bu22-desktop:~/ros2_test_ws$

Comment by phil123456 on 2023-07-28:
no idea why the exact same procedure does not work for others


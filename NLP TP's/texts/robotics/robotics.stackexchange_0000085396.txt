Q:

Creating pointers in rosmsg

Hey,
I want to know that, can I create pointers in ros messages as we do in simple c++. I want to create a structure for a property of a node.
struct proper_int{
    string title;
    int value;
    **proper_int *next;**
};

can i do this in a rosmsg or any way to do this?

Originally posted by Gringoos on ROS Answers with karma: 1 on 2018-02-19
Post score: 0

Original comments
Comment by gvdhoorn on 2018-02-19:
Your example structure looks like it models a linked list. Would using a simple unbounded array in your msg not work?
Comment by Gringoos on 2018-02-19:
I am creating a graph structure in which node has unlimited properties, for I am trying to connect each property in a chain. Question is can I establish a link between two messages that a message calls itself to create another property. if we can then how?

A:

Syntactically, the answer would be yes.
A pointer is either a 32bit or 64bit (un)signed value, so a field of type (u)int32 or (u)int64 would be able to store that and the ROS IDL supports those types (wiki/msg).
However, all the same restrictions wrt exchanging pointers between different processes apply: pointers only point to valid addresses inside a single process. If you are planning to exchange these messages with other nodes, you'll have to use something like a shared memory segment accessible to all those nodes (and the pointers will have to point to memory inside that shared segment), or the pointers will be unusable anywhere outside the publishing process.
If you can tell us why you want to do this, we might be able to propose some alternative (wiki/nodelets fi exchange pointers already, which has many benefits, but comes with some drawbacks as well).

Originally posted by gvdhoorn with karma: 86574 on 2018-02-19
This answer was ACCEPTED on the original site
Post score: 0


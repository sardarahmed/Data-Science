Q:

TF transformation with move_base

I am trying to run the code from Learning ROS for robotic programming (code) .
I am trying to run the code to use the navigation stack in chapter 9.
I first run,
roslaunch chapter9_tutorials chapter9_configuration_gazebo.launch

and I get this error, but it still brings up Rviz and gazebo
WARNING: [/home/nathaniel/Desktop/catkin_ws/src/Learning_ROS_for_Robotics_Programming_2nd_edition/chapter9_tutorials/launch/chapter9_configuration_gazebo.launch] unknown <include> attribute 'args'

I then run in another terminal this
roslaunch chapter9_tutorials move_base.launch

and I get the following output and I cannot set nav_goal
[ INFO] [1452891660.578951021]: Requesting the map...
[ WARN] [1452891660.579428957]: Request for map failed; trying again...
[ INFO] [1452891660.725584980]: Read a 4000 X 4000 map @ 0.050 m/cell
[ INFO] [1452891661.092120645]: Sending map
[ INFO] [1452891661.116882014]: Received a 4000 X 4000 map @ 0.050 m/pix

[ INFO] [1452891661.287410863]: Initializing likelihood field model; this can take some time on large maps...
[ INFO] [1452891661.415541021]: Done initializing likelihood field model.
[ WARN] [1452891665.706081307]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101058 timeout was 0.1.
[ WARN] [1452891670.765391786]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.100715 timeout was 0.1.
[ WARN] [1452891675.810640770]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101084 timeout was 0.1.
[ WARN] [1452891676.518616416]: No laser scan received (and thus no pose updates have been published) for 1452891676.518504 seconds.  Verify that data is being published on the /scan topic.
[ WARN] [1452891680.863702773]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101096 timeout was 0.1.
[ WARN] [1452891685.922265047]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.100973 timeout was 0.1.
[ WARN] [1452891690.972636769]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.100894 timeout was 0.1.
[ WARN] [1452891691.518436760]: No laser scan received (and thus no pose updates have been published) for 1452891691.518333 seconds.  Verify that data is being published on the /scan topic.
[ WARN] [1452891696.022488241]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.100835 timeout was 0.1.
[ WARN] [1452891701.072917128]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.100919 timeout was 0.1.
[ WARN] [1452891706.131551787]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101107 timeout was 0.1.
[ WARN] [1452891706.517966566]: No laser scan received (and thus no pose updates have been published) for 1452891706.517833 seconds.  Verify that data is being published on the /scan topic.
[ WARN] [1452891711.185206478]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.100958 timeout was 0.1.
[ WARN] [1452891716.241206650]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101173 timeout was 0.1.
[ WARN] [1452891721.296439222]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101055 timeout was 0.1.
[ WARN] [1452891721.518776814]: No laser scan received (and thus no pose updates have been published) for 1452891721.518661 seconds.  Verify that data is being published on the /scan topic.
[ WARN] [1452891726.346815147]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101115 timeout was 0.1.
[ WARN] [1452891731.398148683]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101019 timeout was 0.1.
[ WARN] [1452891736.456936463]: Timed out waiting for transform from base_footprint to map to become available before running costmap, tf error: . canTransform returned after 0.101092 timeout was 0.1.
[ WARN] [1452891736.518637054]: No laser scan received (and thus no pose updates have been published) for 1452891736.518569 seconds.  Verify that data is being published on the /scan topic.

What is causing this error? I want to use this code for an example for my own robot.
Here is my TF tree
frames.png

Originally posted by ngoldfarb on ROS Answers with karma: 127 on 2016-01-15
Post score: 1

Original comments
Comment by KFBIT on 2016-01-22:
ngoldfarb: hello,I am a ros beginner,I am studying this book in chapter 9.I met the same problem with you,but I don't know how to deal with it.Could you tell me how you deal with this question in detail?I will very thankful for your help.thank you.

A:

It turns out that the problem was in the URDF. it was the wrong <robotBaseFrame>It is now working.

Originally posted by ngoldfarb with karma: 127 on 2016-01-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Akif on 2016-01-16:
Glad you figured it out!
Comment by Enrique on 2016-01-23:
@ngoldfarb , I didn't have to touch the URDF, so I don't think this was the problem.
See https://github.com/AaronMR/Learning_ROS_for_Robotics_Programming_2nd_edition/pull/18


Q:

How to convert pointcloud2 to separate depth and rgb image messages

I'm wanting to convert a filtered pointcloud2 message into separate depth and rgb image messages.  RGBDSLAM requires an input of a RBG image topic as well as a depth image topic.  I have tried to just pass in the filtered pointcloud2 message into "config/topic_points", but no frames are captured. Any ideas?
System: Ubuntu, Fuerte, Precise

Originally posted by ee.cornwell on ROS Answers with karma: 108 on 2013-02-22
Post score: 0

Original comments
Comment by ee.cornwell on 2013-02-22:
RGBDSLAM requires "sensor_msgs:Image" whereas my filtered message is "sensor_msgs:Pointcloud2".  Looks as though I will have to break my filter into two parts: one for depth, one for rgbd so I can publish two separate filtered image messages.
Comment by Hansg91 on 2013-02-22:
Was this comment meant for my post? If so, you can also acquire depth and rgb images separately, which sounds exactly like what you need.
Comment by ee.cornwell on 2013-02-22:
Yes, I realized I should break up the filter.  I think I might run into pcl issues involving fromROSmsg() because I am trying to grab the data from a sensor_msg::Image and not a sensor_msg::Pointcloud2.  I'll make those changes and post an update.

A:

I assume you are using a Kinect, so then my question is why you would want to convert this? Originally the images received from the Kinect are depth images and RGB images already, the two are just combined to form a pointcloud with RGB data in one matrix. Splitting combined images seems a bit redundant then
In other words, I would advice you to retrieve RGB and depth images instead, from their own respective frames.

Originally posted by Hansg91 with karma: 1909 on 2013-02-22
This answer was ACCEPTED on the original site
Post score: 2


Q:

Problem launching pointcloud to laserscan

I am not able to launch the pointcloud to laserscan. I did this following steps:
1)launched the openni_camera
by typing roslaunch openni_camera openni_node.launch
2)launched the pointcloud to laserscan
by typing roslaunch pointcloud_to_laserscan kinect_laser.launch
3)ran rviz
by typing rosrun rviz rviz
I am able to see the point cloud but I am not able to see the laser_scan. I was referring to this question,http://answers.ros.org/question/417/how-to-setup-pointcloud_to_laserscan.
I am supposed to see /scan topic but i am not able to see it.
Am i supposed to change /openni_depth_frame?
Or what steps i shld take? Any suggestions?
Just like to check with you all.. is this sometime like this i should get?C:\fakepath\Screenshot-RViz-1.png

Originally posted by lakshmen on ROS Answers with karma: 101 on 2011-07-14
Post score: 0

Original comments
Comment by lakshmen on 2011-07-21:
what i am supposed to get is a set of points not a laser scan(or a plane).Am i right to say that?
Comment by Bemfica on 2011-07-21:
yep this is what pointcloud_to_laserscan should do. If with "don't get the whole plane" you mean construct a map using the laser scan information you'lll like to read the gmapping tutorials.

A:

You need to create a launch file which could look like this:
<launch>
  <!-- kinect nodes -->
  <include file="$(find openni_camera)/launch/openni_node.launch"/>
 
  <!-- openni_manager -->
  <node pkg="nodelet" type="nodelet" name="openni_manager" output="screen" respawn="true" args="manager"/>
 
  <!-- throttling -->
  <node pkg="nodelet" type="nodelet" name="pointcloud_throttle" args="load pointcloud_to_laserscan/CloudThrottle openni_manager">
    <param name="max_rate" value="2"/>
    <remap from="cloud_in" to="/camera/depth/points"/>
    <remap from="cloud_out" to="cloud_throttled"/>
  </node>
 
  <!-- fake laser -->
  <node pkg="nodelet" type="nodelet" name="kinect_laser" args="load pointcloud_to_laserscan/CloudToScan openni_manager">
    <param name="output_frame_id" value="/openni_depth_frame"/>
    <remap from="cloud" to="cloud_throttled"/>
  </node>
</launch>

save as test.launch and roslaunch it. Then open rviz, set the fixed frame to /openni_depth_frame and add a 'Laser Scan' display. You will see the /scan topic. Just select it and should work fine.

Originally posted by Bemfica with karma: 482 on 2011-07-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by lakshmen on 2011-07-17:
thanks i got it... but it is only a few dots... dun get the whole plane...


Q:

Problem with laser sensor and heigthmap

Hi!
I'm working in a simulation that includes a laser sensor (the Hokuyo model) and a heigthmap. I have found a problem , and in some places of my heigthmaps, it seems that the laser is going through the model. In this picture you can see the effect:

Has anyone have a similar problem?Any idea how this can be solve? I use Gazebo 7 in Ubuntu 16.04.

Originally posted by Mansan on Gazebo Answers with karma: 68 on 2018-08-18
Post score: 0

A:

This is a known bug. I've had a similar problem with objects falling through the heightmap. See here: http://answers.gazebosim.org/question/18088/gazebo-8-heightmap-objects-clipping-through-collision/
And here's the bitbucket issue: https://bitbucket.org/osrf/gazebo/issues/245/heightmap-visual-is-offset-from-collision
Until this issue is solved, you'll have to come up with a workaround. One possible way would be to create a 3D model (in Blender for example) of your terrain and insert that into your world. However, that would probably be very tedious and I haven't actually tested if the collision of 3D models is accurate.

Originally posted by Raskkii with karma: 376 on 2018-08-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Mansan on 2018-08-21:
Thanks!
I actually was able to create the heigthmap as a model in blender  following this tutorial http://stevemarti.com/from-2d-to-3d-turning-images-into-objects/ and I think the problem is solved. Now I have to find a way to make this new heightmap fixed (like the one that Gazebo creates) so i don't accidentally move it when I try to place and move things on top of it.
Comment by josephcoombe on 2018-08-21:
As Raskkii says, default Gazebo height map isn't great. Look at the default empty .world's ground plane model. That should be a good reference as to how to configure your custom heightmap.
link: https://bitbucket.org/osrf/gazebo/src/default/models/ground_plane/model.sdf
You'll want to set the model's static flag to true: http://sdformat.org/spec?ver=1.6&elem=model#model_static


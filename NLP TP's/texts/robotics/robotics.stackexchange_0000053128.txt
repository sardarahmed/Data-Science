Q:

catkin and dynamic_reconfigure: Could not run dynamic reconfigure file

Hi everyone!
I'm currently migrating package per package all the nodes and stacks we've created and I'm having some trouble with catkin and dynamic reconfigure in package camera1394stereo.
I've re-followed the dynamic_reconfigure tutorials in catkin mode in ros.org, but they did not help.
I have a node and a nodelet inside a package, with its corresponding "cfg" folder in it. In the CMakeLists I have
generate_dynamic_reconfigure_options(cfg/Camera1394Stereo.cfg)

before the 'catkin_package()' line, as well as the dynamic_reconfigure dependencies in both CMakeLists and package.xml.
In my machine and in the other machines we have here at work, this package compiles and works. However, when I send my package to the build farm using bloom, this is the error I get:
CMake Error at /opt/ros/groovy/share/dynamic_reconfigure/cmake/extras.cmake:47 (message):
  Could not run dynamic reconfigure file 'cfg/Camera1394Stereo.cfg': the
  rosdep view is empty: call 'sudo rosdep init' and 'rosdep update'
Call Stack (most recent call first):
CMakeLists.txt:31 (generate_dynamic_reconfigure_options)

The output of the buildfarm is here
http://jenkins.willowgarage.com:8080/job/ros-groovy-camera1394stereo_sourcedeb/
I have already made some changes in the cfg file, such as removing the roslib dependecies, and I have re-checked the CMakeLists.txt, but I could not solve this. Has anyone faced this problem?

Originally posted by Miquel Massot on ROS Answers with karma: 1471 on 2013-07-29
Post score: 1

Original comments
Comment by William on 2013-07-29:
@Dirk Thomas is this a missing dependency?

A:

The file in the repo (https://github.com/srv/camera1394stereo/blob/groovy/cfg/Camera1394Stereo.cfg#L36) indicates that it imports the old version of dynamic reconfigure intended to be used only with rosbuild:
from dynamic_reconfigure.parameter_generator import *

Please take a look at the tutorial http://www.ros.org/wiki/dynamic_reconfigure/Tutorials/HowToWriteYourFirstCfgFile describing how to write the cfg file (watch out to select catkin at the top, not rosbuild). For catkin based packages the import line is subtly different:
from dynamic_reconfigure.parameter_generator_catkin import *

Originally posted by Dirk Thomas with karma: 16276 on 2013-07-29
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Miquel Massot on 2013-07-29:
Thank you! I did not notice the '_catkin' end. I've now sent a pull request with this change. It was finally built!


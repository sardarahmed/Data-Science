Q:

MoveIt End Effector positioning

Hi!
My question is that how can I move the end-effector forward. (Say, go forward by 0.05 m on Y-axis)?
My current status is the following:
I made my robot to move to a given position using rviz, so the robot position is not in the "center".
After this I want to make the end effector to move by 0.05 m forward on Y-axis (as if i would like to push a button with my finger:) )
  geometry_msgs::Pose target_pose1 = group.getCurrentPose().pose;
  target_pose1.position.y -= 0.05;
  group.setPoseTarget(target_pose1);
  success = group.plan(my_plan);
  if (success) {
     group.execute(my_plan);
  }

But this does not work, because target_pose1.position.y -= 0.05; refers to the world coordinates not to the end-effector coordinates.

Originally posted by Joska213 on ROS Answers with karma: 36 on 2016-03-04
Post score: 1

A:

Solution was:
const Eigen::Affine3d &end_effector_state = kinematic_state->getGlobalLinkTransform("eef_link");
geometry_msgs::Pose pose;
tf::poseEigenToMsg(end_effector_state, pose);
pose.position.y -= 0.05;
group.setPoseTarget(pose);   

Originally posted by Joska213 with karma: 36 on 2016-03-08
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Arowana on 2016-03-08:
What happen if you take a empty geometry_msgs::PoseStamped, use identity quaternion as orientation. Then add your translation, frame_id should be your end effector. It looks cleaner to me.
Comment by fvd on 2020-05-18:
Then you will constrain your end effector to that neutral orientation, which is not generally what you want. For many robot arms in their default configuration, a neutral orientation in their base coordinate system means pointing upwards.


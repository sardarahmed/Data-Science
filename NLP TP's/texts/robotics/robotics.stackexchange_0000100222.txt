Q:

Drawing PointCloud2 in the World Coordinate System by Rviz

I'm drawing PointCloud2 with rviz on melodic.
They are superimposed based on a long decay and a tf based on the exact sensor position (with about 200hz).
However, there was something wrong on this drawing after an update the other day.
All points during the decay period are drawn based on the latest tf now, so sensor movement is not considered.
This only happens in PointCloud2 and LaserScan is correct as before the update.
(It remains in the correct world coordinate system because it is drawn based on the tf of the corresponding timestamp.)
This is happening in every PointCloud2 and is normal in every LaserScan.
Did any recent updates cause any bugs?

Originally posted by Q on ROS Answers with karma: 16 on 2021-10-01
Post score: 0

A:

I found the cause.
I checked the source code and there was no problem with Rviz built from the latest code.
This issue was maybe resolved by the following revert:
https://github.com/ros-visualization/rviz/commit/84fcce3cd2e56568097c4fedf599b500388bcf8a
of the following change:
https://github.com/ros-visualization/rviz/commit/7bdbeeacd4a939876162f1f10eba323ee00e88dd

Originally posted by Q with karma: 16 on 2021-10-11
This answer was ACCEPTED on the original site
Post score: 0


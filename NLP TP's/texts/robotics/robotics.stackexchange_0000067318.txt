Q:

publish array velocities in a topic?

Hi Ros users!
I have just done a .cpp wich publish velocities in a opic (p3dx/cmd_vel)
Here it is:
int main(int argc, char **argv)
{
  ros::init(argc, argv, "lanzando_vel");
  ros::NodeHandle n;
  ros::Publisher vel_pub_ = n.advertise<geometry_msgs::Twist>("p3dx/cmd_vel", 1);
  
  while (ros::ok())
  {
  geometry_msgs::Twist cmd;
  cmd.linear.x = 0;
  cmd.linear.y = 0;
  cmd.linear.z = 0;

  cmd.angular.x = 0;
  cmd.angular.y = 0;
  cmd.angular.z = 0;
    vel_pub_.publish(cmd);
  }
    return 0;
}

I would like to publish an array velocities, for example:
at 1seg ==> cmd.linear.x=1
at 3 seg==> cmd.linear.x=4
.
.
.
how can I do that?
Thank you so much!

Originally posted by Alvaro Salcedo on ROS Answers with karma: 149 on 2015-04-29
Post score: 1

A:

Hi,
You can create your own message Velocity array.
Then you fill your array with twist messages.
Finally you publish it.
You have an example in python in this answer.

Originally posted by marguedas with karma: 3606 on 2015-04-29
This answer was ACCEPTED on the original site
Post score: 2


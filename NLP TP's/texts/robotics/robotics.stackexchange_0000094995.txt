Q:

Why are my packages linked to the underlay workspace, rather than my catkin workspace? Problem with catkin install space

I am using the MoveIt master-source Docker container with the official script and have an issue with sourcing packages: When I source devel/setup.bash in /root/ws_moveit, it is the binaries in /opt/ros/melodic/share/ that are linked, and not the packages that were built in the workspace. The workspace setting is Install Space Layout: merged.
If I set catkin config --no-install and rebuild the workspace, sourcing the packages works as I expect it. When I execute rospack list, the packages point to /root/ws_moveit/src/.
Am I doing something wrong when sourcing the workspace with an install space?  How can I source the packages correctly?
I found this answer relating to the "install" setting in catkin, but it doesn't answer my question concretely.

Originally posted by fvd on ROS Answers with karma: 2180 on 2020-03-07
Post score: 0

A:

This looks like a known issue of catkin_tools: https://github.com/catkin/catkin_tools/issues/577

Am I doing something wrong when sourcing the workspace with an install space?

as this does not happen is you build with e.g. catkin_make install, I think it's a bug in catkin_tools and not you doing anything wrong.
The simplest workaround I can think of is to source the install space and not the devel space. This allows you to not have to rebuild that entire moveit ws.

To avoid user confusion, maybe the moveit image should be modified to source the right workspace for you when you enter the container. This way no need to source by hand or to have to find the right file to source.

Originally posted by marguedas with karma: 3606 on 2020-03-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by fvd on 2020-03-07:
Thanks! I guess it's best solved in catkin_tools, but I think that's not maintained anymore.


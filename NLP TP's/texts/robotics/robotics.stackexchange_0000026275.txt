Q:

DRC Sim crashes post installation for 2.4 onwards

Hi,
I have been facing crash of DRC Sim ever since the new versions were launched.
DRC Sim 2.4 onwards installing on clean 64 bit Ubuntu Quantal and on running the launch file gives the error below: I did solve it last time by installing the libraries but crashed and the same thing started again.
 * /multisense_sl/camera/stereo_proc/approximate_sync
 * /multisense_sl/camera/stereo_proc/disparity_range
 * /multisense_sl_robot_state_publisher/publish_frequency
 * /robot_description
 * /rosdistro
 * /rosversion
 * /tf2_buffer_server/buffer_size
 * /use_sim_time

NODES
  /multisense_sl/camera/
    stereo_proc (stereo_image_proc/stereo_image_proc)
  /
    atlas_robot_state_publisher (robot_state_publisher/state_publisher)
    gazebo (atlas_utils/run_gazebo)
    multisense_sl_robot_state_publisher (robot_state_publisher/state_publisher)
    tf2_buffer_server (tf2_ros/buffer_server)

auto-starting new master
process[master]: started with pid [28022]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 5709e55c-acb8-11e2-931b-4c809313301c
process[rosout-1]: started with pid [28035]
started core service [/rosout]
process[gazebo-2]: started with pid [28049]
process[atlas_robot_state_publisher-3]: started with pid [28051]
process[multisense_sl_robot_state_publisher-4]: started with pid [28052]
process[tf2_buffer_server-5]: started with pid [28068]
[ WARN] [1366791852.298208300]: You've passed in true for auto_start for the C++ action server at [/tf2_buffer_server]. You should always pass in false to avoid race conditions.
process[multisense_sl/camera/stereo_proc-6]: started with pid [28121]
Gazebo multi-robot simulator, version 1.7.1
Copyright (C) 2013 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.7.1
Copyright (C) 2013 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

Msg Waiting for master.Warning [parser.cc:361] Converting a deprecated SDF source[/usr/share/drcsim-2.5/worlds/atlas.world].
Warning [Converter.cc:58]   Version[1.2] to Version[1.4]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [ModelDatabase.cc:299] Getting models from[http://gazebosim.org/models/]. This may take a few seconds.
[rospack] Error: the rosdep view is empty: call 'sudo rosdep init' and 'rosdep update'
[librospack]: error while executing command
terminate called after throwing an instance of 'pluginlib::LibraryLoadException'
  what():  rospack could not find the nodelet package containing nodelet::Nodelet
......[multisense_sl/camera/stereo_proc-6] process has died [pid 28121, exit code -6, cmd /opt/ros/groovy/lib/stereo_image_proc/stereo_image_proc __name:=stereo_proc __log:=/home/sudip/.ros/log/5709e55c-acb8-11e2-931b-4c809313301c/multisense_sl-camera-stereo_proc-6.log].
log file: /home/sudip/.ros/log/5709e55c-acb8-11e2-931b-4c809313301c/multisense_sl-camera-stereo_proc-6*.log
...............Warning [parser.cc:377] SDF has no <sdf> element in file[/usr/share/drcsim-2.5/gazebo_models/atlas_description/atlas/atlas.urdf]
Dbg [pelvis] has no parent joint
Warning [parser_urdf.cc:1158] urdf2gazebo: link[left_camera_optical_frame] has no inertia, parent joint [left_camera_optical_frame_joint] ignored
.Warning [parser_urdf.cc:1163] urdf2gazebo: link[left_camera_optical_frame] has no inertia, not modeled in gazebo
Warning [parser_urdf.cc:1158] urdf2gazebo: link[right_camera_optical_frame] has no inertia, parent joint [right_camera_optical_frame_joint] ignored
.Warning [parser_urdf.cc:1163] urdf2gazebo: link[right_camera_optical_frame] has no inertia, not modeled in gazebo
Warning [parser.cc:286] parse from urdf file [/usr/share/drcsim-2.5/gazebo_models/atlas_description/atlas/atlas.urdf].
Msg Waiting for master
Msg Connected to gazebo master @ http://127.0.0.1:11345
Msg Publicized address: 192.168.0.11
^C[tf2_buffer_server-5] killing on exit
[multisense_sl_robot_state_publisher-4] killing on exit
[atlas_robot_state_publisher-3] killing on exit
[gazebo-2] killing on exit

Error [ConnectionManager.cc:88] Connection Manager is not running
Dbg camera(0) name [default::left(0)]
Dbg camera(1) name [default::right(1)]
[ INFO] [1366791874.427791633]: Camera plugin missing <CxPrime>, defaults to 0
[ INFO] [1366791874.428154895]: Camera plugin missing <Cx>, defaults to 0
[ INFO] [1366791874.428204684]: Camera plugin missing <Cy>, defaults to 0
[ INFO] [1366791874.428267610]: Camera plugin missing <focalLength>, defaults to 0
[ INFO] [1366791874.428430757]: Camera plugin missing <CxPrime>, defaults to 0
[ INFO] [1366791874.428464401]: Camera plugin missing <Cx>, defaults to 0
[ INFO] [1366791874.428493780]: Camera plugin missing <Cy>, defaults to 0
[ INFO] [1366791874.428522076]: Camera plugin missing <focalLength>, defaults to 0
Error [VRCScoringPlugin.cc:68] VRCScoringPlugin: unknown world name "default"; not scoring.[ INFO] [1366791874.668447491]: drc vehicle not found.
[ INFO] [1366791874.668932526]: fire_hose_model [fire_hose] not found
[ INFO] [1366791874.670371270]: atlas/startup_mode not specified, default bdi_stand that  takes 2.000000 seconds to finish.
[ INFO] [1366791874.677349557]: set robot configuration done
starting RT Setup
trying to create VMC.
Constructing joint controllers
Finished RT setup
[ INFO] [1366791874.998219106]: p3d plugin missing <frameName>, defaults to world
[ INFO] [1366791874.998401944]: p3d plugin missing <xyzOffset>, defaults to 0s
[ INFO] [1366791874.998507696]: p3d plugin missing <rpyOffset>, defaults to 0s
[ INFO] [1366791874.998622019]: p3d plugin missing <gaussianNoise>, defaults to 0.0
[ INFO] [1366791875.007328958]: Loading MultiSense ROS node.
[rospack] Error: the rosdep view is empty: call 'sudo rosdep init' and 'rosdep update'
[librospack]: error while executing command
terminate called after throwing an instance of 'pluginlib::LibraryLoadException'
  what():  rospack could not find the image_transport package containing image_transport::PublisherPlugin
^CWarning [gazebo_main.cc:57] escalating to SIGKILL on server
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

Originally posted by Sudip_Gupta on Gazebo Answers with karma: 21 on 2013-04-24
Post score: 0

A:

I haven't seen that problem, perhaps because we're testing primarily on Precise, not Quantal.  I would first try what is recommended in the console output:
[rospack] Error: the rosdep view is empty: call 'sudo rosdep init' and 'rosdep update'

I.e., do this:
sudo rosdep init
rosdep update

Then try launching again.

Originally posted by gerkey with karma: 1414 on 2013-04-26
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to check if my call back function works

void poseCallback(const mera::lonaConstPtr &msg){  
        int i;  

        static tf::TransformBroadcaster br;
        tf::Transform transform;   
        transform.setOrigin( tf::Vector3(0,0,0));
        transform.setRotation( tf::Quaternion(1,1,1));
        br.sendTransform(tf::StampedTransform(transform, ros::Time::now(), "world", "madar_link"));       
    

How do I know if this works. Are there any commands which can help me to know if this will work

Originally posted by Bodgan Mircu on ROS Answers with karma: 5 on 2013-08-08
Post score: 1

Original comments
Comment by TommyP on 2013-08-08:
ROS_ERROR? Or any other print function?
Comment by Bodgan Mircu on 2013-08-08:
@TommyP can you please elaborate on this? Should I just put something like ROS_INFO("See if it works"); insite my poseCallback function to check if its printing or something like that. I dont know how does ROS_ERROR works. Thanks
Comment by dPackard on 2013-08-09:
To check if your function callback "works" is slightly different than checking if the function callback is "being executed" ;)  - but yes, add ROS_INFO("Executing poseCallback"); as the very first line of your function. If that function is being executed, you will see it in the log messages.
Comment by Bodgan Mircu on 2013-08-11:
@dPackard I tried to do this but I cannot visualise my log messages. The only way to visualise log message is via rqt_console? Am I right. When I try to check it via rqt_console nothing appears. I cannot see any messages
Comment by TommyP on 2013-08-11:
The printout is also in the shell from where you started the program. If you start with launch file give the --screen flag to roslaunch otherwis you will not see all printouts (ROS_ERROR you will see without --screen)..

A:

If you've included a ROS_INFO statement in your callback, and that message doesn't show up in rosconsole or the terminal where you started the node, then your cb is not being executed.
There are a few possible reasons that your callback would not be executed... but I'm going to guess at a couple likely reasons since you don't run into any build errors. I'm guessing that this is a callback for a subscribed topic. The callback for a subscribed topic is only executed when new data is published to the topic you've subscribed to.
This suggests  that A) no data is being published to the topic you are subscribed to, or B) you are subscribed to a topic that doesn't exist
The rostopic and rqt_graph tools can help you investigate these possibilities.

http://www.ros.org/wiki/rostopic
http://www.ros.org/wiki/rqt_graph
http://www.ros.org/wiki/ROS/Tutorials/UnderstandingTopics

Originally posted by dPackard with karma: 115 on 2013-08-12
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by dPackard on 2013-08-12:
If this didn't help, please update your question with more details describing your exact situation (e.g. how you registered the callback in your code, what is the output of rostopic echo <topic name>, of rosnode info <node name>, etc), and maybe someone can help you find an exact solution
Comment by Bodgan Mircu on 2013-08-12:
@dPackard first of all, thanks for such a detailed answer. After some debugging I have figured out that the call back function does not work for me. However its not because of the 2 reasons you mentioned above [(A) no data is being published to the topic you are subscribed to, or B) you are subscribed to a topic that doesn't exist)] . Becuase when I do rostopic echo /mytopic then I can see information on the console which shows information is being published on the topic. Also when I subscribe I use the same topic /mytopic. I will try to debug my code further and try to figure it out. Thanks
Comment by dPackard on 2013-08-12:
Good luck! It sounds like you are on your way to figuring it out :D


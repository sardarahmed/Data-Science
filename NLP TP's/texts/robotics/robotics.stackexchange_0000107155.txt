Q:

Using standalone gazebo 11, and no gui will spawn

I am trying to use gazebo through c++ (without calling from command line).
I have a main.cpp file something like following
#include <gazebo/gazebo.hh>
#include <gazebo/common/common.hh>
#include <gazebo/physics/physics.hh>

int main(int _argc, char **_argv)
{
  // Initialize gazebo.
  gazebo::setupServer(_argc, _argv);

  // Load a world
  gazebo::physics::WorldPtr world = gazebo::loadWorld("simple_world.world");

  gazebo::physics::ModelPtr robot = world->ModelByName("robot");

  while (true)
  {
    gazebo::runWorld(world, 1);
  }

  // Close everything.
  gazebo::shutdown();
}

However no gui will spawn by running this but the robot will move around if I set velocity to the robot. I can spawn gazebo gui if I use command line tools gazebo simple_world.world.
Does anyone know if I missed anything here? I would really appreciate any help here. Thank you

A:

The gazebo-classic simulator is implemented using two applications which work together: gzserver and gzclient. The gui part is handled by gzclient.
The job of /usr/bin/gazebo is to launch gzserver and gzclient. All of this code is open source, so you can easily see what the developers did to perform this task. IIRC, the src file is gazebo/gazebo_main.cc.
https://github.com/gazebosim/gazebo-classic


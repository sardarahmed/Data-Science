Q:

Implementation of header files?

Hi everyone,
I was searching for the implementation of header files like MultiRayShape.hh, RaySensor.hh, but i didn't found it in any folder, do anyone have any idea where these files are implemented. you in find these header files in ../ros/diamondback/stacks/simulator_gazebo/gazebo/gazebo/include/gazebo/,,

Originally posted by SAK on ROS Answers with karma: 94 on 2011-07-26
Post score: 0

A:

The file MultiRayShape.cc is in simulator_gazebo/gazebo/build/gazebo/server/physics.
Please note that the files you are seeking are not present in /opt/ros/diamondback. The debian build process removes the build subdirectory when creating the debian archives. That means you need to check out the stack gazebo_simulation from source. It is also important that you first call rosmake gazebo to actually download and extract the gazebo sources.
To do so, the easiest way is to use rosinstall and create an overlay and then check out the source. The following steps should work.
source /opt/ros/diamondback/setup.bash
sudo apt-get install python-setuptools
sudo easy_install rosinstall
mkdir -p ~/ros-gazebo/workspace
rosinstall ~/ros-gazebo /opt/ros/diamondback ~/ros-gazebo/workspace
cd ~/ros-gazebo/workspace
svn co https://code.ros.org/svn/ros-pkg/stacks/simulator_gazebo/tags/diamondback simulator_gazebo
source ~/ros-gazebo/setup.bash
rosmake gazebo_worlds

Now you should be able to find the sources you want in ~/ros-gazebo/workspace/simulator_gazebo/gazebo/build/gazebo/server/physics

Originally posted by Lorenz with karma: 22731 on 2011-07-26
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Lorenz on 2011-08-04:
Please read over the links I posted above to understand what rosinstall does and how to work with it. In short, with rosinstall you get a second ros "installation" with gazebo checked out from source. You switch between installations with the "source ~/ros-gazebo/setup.bash" command. You need to execute it of course in every shell you use gazebo. Recompilation means "rosmake gazebo" and friends.
Comment by SAK on 2011-08-04:
i have two shells, one for gazebo_simulator, one for pr2 loading, so you want me to run the above command in pr2 shell. also what do you mean by recompilation.
Comment by Lorenz on 2011-08-04:
As I said, let rosinstall maintain the package path for you. When you execute 'source ~/ros-gazebo/setup.bash', the package path gets overwritten and set correctly to run your gazebo instance from ~/ros-gazebo/workspace/simulator_gazebo. Of course, you need to recompile after you executed the command.
Comment by SAK on 2011-08-04:
Now the problem is that the original simulator_gazebo also contains the libgazebo_server.so. if i place the ~/ros-gazebo first in the path then it gives the error but if i place the other path first then changes will not be depicted..
Comment by SAK on 2011-08-04:
What i want to do.. i want to modify the files in ~/ros-gazebo/workspace/simulator_gazebo/gazebo/build/gazebo/server and use it in gazebo simulator. for example i will change IRSensor.cc then 'make' it and use the libgazebo_server.so in gazebo simulator.
Comment by Lorenz on 2011-08-04:
Don't put them into the first element of your ros package path. Just enter the following line in your shell: source ~/ros-gazebo/setup.bash
Comment by SAK on 2011-08-04:
/home/student/ros-gazebo/workspace/simulator_gazebo/gazebo/build/gazebo/build/server/gazebo: error while loading shared libraries: libparallel_quickstep.so: cannot open shared object file: No such file or directory............ this is the error.
Comment by SAK on 2011-08-04:
the problem is when is put the ~/ros-gazebo as my first element in the ROS_PACKAGE_PATH i am not able to run gazebo simulator and i get the error show in  the next comment. i want to modify the .cc files and compile it so that it can be used in gazebo simulator
Comment by Lorenz on 2011-08-03:
Look at these links: http://answers.ros.org/question/181/how-exactly-does-rosinstall-work, http://answers.ros.org/question/1571/installing-ros-packages-from-source and http://ros.org/wiki/rosinstall
Comment by SAK on 2011-08-03:
hi... can you please tell me that what rosinstall ~/ros-gazebo /opt/ros/diamondback ~/ros-gazebo/workspace line is doing.
Comment by SAK on 2011-07-26:
Thanks you save alot of time of mine..  you are reallly genious
Comment by Lorenz on 2011-07-26:
There was a step missing. You need to source setup.bash. I updated the instructions accordingly. After the rosmake step, the build directory should be present.
Comment by SAK on 2011-07-26:
you are genius.. thanks for your help, but i didnt find  the build directory.. can you check the commands again in your comments.
Comment by SAK on 2011-07-26:
rosinstall ~/ros-gazebo /opt/ros/diamondback ~/ros-gazebo/workspace,,,, gives error..    'i'import site' failed; use -v for traceback
Traceback (most recent call last):
File "/usr/local/bin/rosinstall", line 4, in 
import pkg_resources
ImportError: No module named pkg_resources
Comment by SAK on 2011-07-26:
Thanks your knowledge is now helping me out. i search the full directory but unfortunately i didn't find anything in the given link or on INTERNET. please can you guide me to the direct source. it will be quite nice. after implementing ir, my next step is to make sonar sensor,that will from scratch.
Comment by Lorenz on 2011-07-26:
If you install ros in Ubuntu, you normally use debian packages. Willow garage builds them, but removes the directory that contains the files you are interested in. You need to check the code with svn co https://code.ros.org/svn/ros-pkg/stacks/simulator_gazebo/tags/diamondback simulator_gazebo
Comment by SAK on 2011-07-26:
this is the link to the file .https://kforge.ros.org/gazebo/trac/browser#server/physics but the problem for me is that i want to know where it is implemented in ros, because i can find the header files only, not the other .cc or .cpp files for there implementation.
Comment by SAK on 2011-07-26:
i didnt understood the part debian build process removes the build subdirectory when creating the debian archives. please can you clearify in more detail. and also if the files are not present in /opt/ros/diamondback then where i can find it. basically i want to make an ir sensor.


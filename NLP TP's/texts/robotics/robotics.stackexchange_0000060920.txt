Q:

Subscribing to topic periodically?

Hi,
I'm a bit new to ROS.
I want to subscribe to a topic that is being published continuously. But I only want to read the message once in a while. And I want to read the most recent message at that time.
Is it best to use a pub-sub and get the subscriber node to only obtain the messages at a certain time? Or is the better alternative to define a rosservice?
Thank you.

Originally posted by 2ROS0 on ROS Answers with karma: 1133 on 2014-07-17
Post score: 0

Original comments
Comment by bvbdort on 2014-07-17:
look into TimeSequencer http://docs.ros.org/api/message_filters/html/c++/classmessage__filters_1_1TimeSequencer.html

A:

rosservice is the recommended way of doing this. That link will help understand when to use each.
That being said, sometimes if I'm just trying to hack something together quick and am not worried about overhead, and if a node that I want to get info from is already setup as a topic publisher, I'll just subscribe to the topic. An easy way to do this and only poll it periodically, is to have the subscriber's callback funciton simply copy the data to a member variable if you're using a class (or a global varible, which is messy). That way, elsewhere in your application, you can just poll your member variable when ever you need the info, and it will always have the most recent value.
Hope that helps.

Originally posted by Airuno2L with karma: 3460 on 2014-07-17
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by 2ROS0 on 2014-07-24:
That helps, thank you! I'm implementing your second option for now but long term I'll switch to a service.
Comment by Airuno2L on 2014-08-05:
If that answers your question, please select this as the answer :)


Q:

Blocked on the install tutorial : naoqi_driver not found

Hi,
I have followed those tutorials :
http://wiki.ros.org/action/show/nao/Tutorials/Installation?action=show&redirect=nao%2FInstallation
http://wiki.ros.org/nao/Installation/remote
in order to install NaoQI on a remote PC.
I work on Ubuntu 12.04 with ROS hydro. NaoQI version is 1.14.3 and pynaoqi is 1.12.5 on linux 64 bits.
I have chosen the Ubuntu-packages method and have installed ros-hydro-nao-robot. All was going well but the command LD_LIBRARY_PATH=/home/devtools/naoqi-sdk-1.14.3-linux64/lib:$LD_LIBRARY_PATH NAO_IP=127.0.0.1 roslaunch nao_driver nao_driver_sim.launch returns

[nao_driver_sim.launch] is neither a
launch file in package [nao_driver]
nor is [nao_driver] a launch file name

I think this problem is linked to an error I get when launching roslaunch nao_bringup nao.launch and which returns

ERROR: cannot launch node of type [naoqi_driver/naoqi_joint_states_cpp]: can't locate node [naoqi_joint_states_cpp] > in package [naoqi_driver]

I didn't find any answer to my problem on the forum (even if some are really close).
Do you have an idea of what to do to solve this problem ?
Thank you very much,

Originally posted by P-A on ROS Answers with karma: 13 on 2015-02-03
Post score: 1

Original comments
Comment by evenmarbles on 2015-02-04:
I am running into the exact same issue. However, I am running on Ubuntu 14.04 with ROS indigo and NaoQi 1.14.5 on linux 64 bits.
Interestingly enough when I change nao_driver to naoqi_driver and nao_driver_sim.launch to naoqi_driver_sim.launch I am getting the error:
ERROR: cannot launch node of type [naoqi_driver/naoqi_joint_states_cpp]: can't locate node [naoqi_joint_states_cpp] in package [naoqi_driver]

A:

So I think I may have actually figured something out.
First of all, as is stated here the Getting Started page is pretty outdated. So is apparently the documentation of naoqi_driver.  Interesting to note is that the repositories shown at http://wiki.ros.org/nao/Installation/remote when compiling from source are actually different ones. Where the one given in the sample (https://github.com/ros-nao/nao_robot) which is outdated. When you follow that link you will see that it is to be deleted. So the binaries are actually pulled from this repository: https://github.com/ros-naoqi/nao_robot. When you dig a little in the code you will see that quite a lot has changed. So there is no more nao_driver_sim.launch for example but instead only a naoqi_driver.launch.
As mentioned in my comment earlier when using naoqi_driver.launch I would get the following error:
ERROR: cannot launch node of type [naoqi_driver/naoqi_joint_states_cpp]: can't locate node [naoqi_joint_states_cpp] in package [naoqi_driver]

I was able to get around this error by attaching force_python:=true to the whole command:
$ LD_LIBRARY_PATH=~/naoqi/naoqi-sdk-1.14.5-linux64/lib:$LD_LIBRARY_PATH NAO_IP=127.0.0.1 roslaunch nao_bringup nao_full.launch **force_python:=true**

This here works as well, but you get more nodes running with the previous call:
$ LD_LIBRARY_PATH=~/naoqi/naoqi-sdk-1.14.5-linux64/lib:$LD_LIBRARY_PATH NAO_IP=127.0.0.1 roslaunch naoqi_driver naoqi_driver.launch force_python:=true

When you call rosnode list you will see the nodes running are different now. BTW, I found the nao_walker under nao_apps. So you would have to call that separately. It would be nice if someone who actually knows what they are doing could document that properly (today was my first day messing around with ROS... with all these issues a pretty steep curve).
One more thing: with my "fix" there seems to be some problems with the ALAudioDevice proxy. It couldn't be created. I wonder if that has to do with the fact that I am running it in simulation rather than on the real robot...
Well I hope that will help you. I am by no means no expert in all things concerning ROS. And maybe someone with ROS experience has some more insight of what is going on.

Originally posted by evenmarbles with karma: 111 on 2015-02-04
This answer was ACCEPTED on the original site
Post score: 2


Q:

Jenkins_tool run_chroot_local doesn't work

Hi guys,
I am trying to run the command "run_chroot_local" from the jenkins_tool-package (http://www.ros.org/wiki/jenkins_tools) and get an error.
I run the example for the run_chroot_local command:
Command:
run_chroot_local precise amd64 /home/kuj1pal/workspace prerelease groovy common_msgs

Output:
...
...
apt-show-versions is already the newest version.
The following packages were automatically installed and are no longer required:
  libaccess-bridge-java python-qt4-gl libaccess-bridge-java-jni gnash-common python-opengl
Use 'apt-get autoremove' to remove them.
0 upgraded, 0 newly installed, 0 to remove and 75 not upgraded.
++ apt-show-versions python-jenkins-tools
++ awk '{for (i = 0; i < 10; i++)  if ( !match($i, " ") && match($i, "[0-9].[0-9]") ) print $i}'
+ REPOSTAMP='0.0.26-1
0.0.30-1'
+ /bin/echo 'Repo stamp is 0.0.26-1
0.0.30-1'
Repo stamp is 0.0.26-1
0.0.30-1
+ '[' 0.0.26-1 0.0.30-1 '!=' 0.0.26-1 0.0.30-1 ']'
**/usr/bin/chroot_create.sh: line 37: [: too many arguments**
+ /bin/echo '^^^^^^^^^^^^^^^^^^  create_chroot.sh ^^^^^^^^^^^^^^^^^^^^'
^^^^^^^^^^^^^^^^^^  create_chroot.sh ^^^^^^^^^^^^^^^^^^^^
++ cat /tmp/tmp.naNf4IHMNd/basetgz
+ basetgz=/var/cache/pbuilder/jenkins_tools.precise.amd64-0.4.1.tgz
+ rm -rf /tmp/tmp.naNf4IHMNd
+ sudo pbuilder execute --basetgz /var/cache/pbuilder/jenkins_tools.precise.amd64-0.4.1.tgz --bindmounts '/var/cache/pbuilder/ccache /home/kuj1pal/workspace /home/kuj1pal/.ssh' --inputfile /home/kuj1pal/workspace/jenkins_scripts/prerelease -- /home/kuj1pal/workspace/pbuilder-env.sh prerelease
**W: /home/kuj1pal/.pbuilderrc does not exist**
I: Building the build Environment
I: extracting base tarball [/var/cache/pbuilder/jenkins_tools.precise.amd64-0.4.1.tgz]

gzip: stdin: unexpected end of file
tar: Child returned status 1
tar: Exiting with failure status due to previous errors
**E: failed to extract /var/cache/pbuilder/jenkins_tools.precise.amd64-0.4.1.tgz to /var/cache/pbuilder/build//22098**

I checked the jenkins_tools.precise.amd64-0.4.1.tgz file and it's empty.
Any ideas?
Cheers,
Johannes

Originally posted by JohannesK on ROS Answers with karma: 38 on 2012-11-12
Post score: 1

A:

I figured it out. The problem was a bug in pbuilder (under lucid) so that the tar-file wasn't create correctly. You can fix it by downloading the appropriate patch.

Originally posted by JohannesK with karma: 38 on 2013-01-09
This answer was ACCEPTED on the original site
Post score: 1


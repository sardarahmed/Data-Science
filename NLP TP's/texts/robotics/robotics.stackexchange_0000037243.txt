Q:

differences in simulation from gazebo and Matlab

Dear,
I have a simple urdf model and have tried to control the model using some nonlinear controller. To verify the controller, I tested it in Matlab simulation.
The designed controller worked well in the Matlab environment, but the c++ coded controller has not worked in gazebo. So I made open loop test both in ROS and Matlab, for example, applied unit force and moment to the model and checked the outputs of positions and velocities. The values from the gazebo simulation is far smaller than those from Matlab. What should I modify or check in gazebo simulation ?
I checked mass properties, put viscous damping (modeled using feedback velocity), used the time from ros::Time::now().toSec().
Is this problem related to time in gazebo?

Originally posted by maruchi on ROS Answers with karma: 157 on 2012-01-23
Post score: 1

Original comments
Comment by maruchi on 2012-01-23:
If you mean reproducing in matlab, I made a model and designed a controller in matlab/simulink. To verify that the model in matlab/simulink is same as the model in gazebo, I did open loop test such as step response test and see those responses are same each other.
Comment by hsu on 2012-01-23:
Hi Maruchi, can you post instructions on how to reproduce the results?  thanks. John

A:

Stefan, I was able to correct the problem of inconsistency between the model in matlab/simulink  and gazebo by using the same frequency in the ODE and publishing force and moment in gazebo.

Originally posted by maruchi with karma: 157 on 2012-01-23
This answer was ACCEPTED on the original site
Post score: 0


Q:

Transforming pose to be relative to map

Hello,
I'm currently trying to use April Tags to localization my robot, but I have run into trouble with the pose I'm getting when a tag is detected. When the robot sees a tag, I get back a pose from the camera relative to the tag on the wall. Using this pose, I need to transform it to be get a pose relative to the map (fixed frame).
In figuring out how to do this, I have run into two issues:

The pose my camera frame is receiving is relative to the tag, and this needs to be transformed relative to the fixed frame.
The pose is using the camera frame, which is not used to navigate. If I get a pose relative to the fixed frame using this camera frame, there will still be inaccuracies because the camera is not the frame used to navigate. This transform needs to be from the navigation frame and relative to the fixed frame.

Here is a visual of my tree (in black) and what is happening / the goal of this issue (in red). I have < 5 points so need to use a link: https://pasteboard.co/HhSRqvx.png
Note: The APRIL_TAG frame is being published via one of my nodes, and the position is measured and hardcoded in relative to the origin. All other frames are built in to the TurtleBot 2 I am using.

Originally posted by AlecR on ROS Answers with karma: 21 on 2018-04-22
Post score: 1

Original comments
Comment by gvdhoorn on 2019-07-10:\

I have < 5 points so need to use a link: https://pasteboard.co/HhSRqvx.png

please attach your image directly to the question. I've given you sufficient karma for that.

A:

To get the transform of the tag relative to the fixed frame(i.e: Base of the robot) will be
the transform fixedFrame_to_cameraFrame multiplied by  the transform cameraFrame_to_target

Originally posted by jclinton830 with karma: 91 on 2019-07-09
This answer was ACCEPTED on the original site
Post score: 0


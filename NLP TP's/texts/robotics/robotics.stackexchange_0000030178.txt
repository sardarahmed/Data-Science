Q:

rviz segfaults on load

I'm not sure if this is the right place to submit this. Maybe it should be a bugreport? I had trouble locating the correct bug tracker.
This is an up-to-date gentoo system with this video card:
01:00.0 VGA compatible controller: ATI Technologies Inc RV620 [FirePro 2260]
and this driver: x11-drivers/xf86-video-ati 6.14.0

$ rosrun rviz rviz
/home/murph/ros/visualization/rviz/bin/rviz
[ INFO] [1299620555.461087042]: Loading general config from [/home/murph/.rviz/config]
[ INFO] [1299620555.461230088]: Loading display config from [/home/murph/.rviz/display_config]
IRQ's not enabled, falling back to busy waits: 2 0
Segmentation fault

gdb ~/ros/visualization/rviz/bin/rviz 
GNU gdb (Gentoo 7.2 p1) 7.2
Copyright (C) 2010 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later 
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-pc-linux-gnu".
For bug reporting instructions, please see:
...
Reading symbols from /home/murph/ros/visualization/rviz/bin/rviz...done.
(gdb) run
Starting program: /home/murph/ros/visualization/rviz/bin/rviz 
[Thread debugging using libthread_db enabled]
[New Thread 0x7fffe416c700 (LWP 15772)]
[New Thread 0x7fffe396b700 (LWP 15774)]
[New Thread 0x7fffe316a700 (LWP 15775)]
[New Thread 0x7fffe2969700 (LWP 15776)]
[New Thread 0x7fffe2168700 (LWP 15781)]
[ INFO] [1299620571.053097075]: Loading general config from [/home/murph/.rviz/config]
[ INFO] [1299620571.053281038]: Loading display config from [/home/murph/.rviz/display_config]
IRQ's not enabled, falling back to busy waits: 2 0
[New Thread 0x7fffc7996700 (LWP 15782)]
[New Thread 0x7fffc7195700 (LWP 15783)]
[New Thread 0x7fffc6994700 (LWP 15784)]
[New Thread 0x7fffc6193700 (LWP 15785)]
[New Thread 0x7fffc5992700 (LWP 15786)]
[New Thread 0x7fffc5191700 (LWP 15787)]
[New Thread 0x7fffc4990700 (LWP 15788)]
[New Thread 0x7fffc418f700 (LWP 15789)]
[New Thread 0x7fffc202b700 (LWP 15794)]

Program received signal SIGSEGV, Segmentation fault.
0x0000000000000000 in ?? ()
(gdb) bt  
#0  0x0000000000000000 in ?? ()
#1  0x00007fffe09fa802 in Ogre::GLXPBuffer::GLXPBuffer (this=0xe3eba0, glsupport=0x6f2900, format=, width=, 
    height=) at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/GLX/OgreGLXRenderTexture.cpp:133
#2  0x00007fffe09f1b0a in Ogre::GLXGLSupport::createPBuffer (this=0x6f2900, format=Ogre::PCT_BYTE, width=1024, height=1024)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/GLX/OgreGLXGLSupport.cpp:387
#3  0x00007fffe09a71ad in Ogre::GLPBRTTManager::requestPBuffer (this=0xba0f00, ctype=Ogre::PCT_BYTE, width=140737488335264, height=7386320)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/OgreGLPBRenderTexture.cpp:136
#4  0x00007fffe09a7649 in Ogre::GLPBRenderTexture::GLPBRenderTexture (this=0x7ffff7ebcc08, manager=0xba0f00, name=, target=..., 
    writeGamma=, fsaa=)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/OgreGLPBRenderTexture.cpp:56
#5  0x00007fffe09a76cc in Ogre::GLPBRTTManager::createRenderTexture (this=0xba0f00, name=..., target=..., writeGamma=false, fsaa=0)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/OgreGLPBRenderTexture.cpp:97
#6  0x00007fffe09a3059 in Ogre::GLTextureBuffer::GLTextureBuffer (this=0x7ffff7eec7b8, baseName=, target=, 
    id=, face=, level=, usage=513, crappyCard=false, writeGamma=208, fsaa=0)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/OgreGLHardwarePixelBuffer.cpp:272
#7  0x00007fffe09bc4df in Ogre::GLTexture::_createSurfaceList (this=0x7ffff7eec5a8)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/OgreGLTexture.cpp:394
#8  0x00007fffe09bcf10 in Ogre::GLTexture::createInternalResourcesImpl (this=0x7ffff7eec5a8)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/RenderSystems/GL/src/OgreGLTexture.cpp:253
#9  0x00007ffff75247e9 in Ogre::Texture::createInternalResources (this=0x7ffff7eec5a8)
    at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/OgreMain/src/OgreTexture.cpp:340
#10 0x00007ffff75280d0 in Ogre::TextureManager::createManual (this=0x7ffff7ea3fe8, name=, group=, texType=Ogre::TEX_TYPE_2D, 
    width=, height=, depth=, numMipmaps=0, format=Ogre::PF_R8G8B8, usage=513, loader=0x0, 
    hwGamma=, fsaa=0, fsaaHint=...) at /home/murph/ros/visualization_common/ogre/build/ogre_src_v1-7-1/OgreMain/src/OgreTextureManager.cpp:158
#11 0x00007ffff1e4b1a2 in createManual (this=0xe1efa0) at /home/murph/ros/visualization_common/ogre/ogre/include/OGRE/OgreTextureManager.h:337
#12 rviz::SelectionManager::initialize (this=0xe1efa0) at /home/murph/ros/visualization/rviz/src/rviz/selection/selection_manager.cpp:294
#13 0x00007ffff1e07769 in rviz::VisualizationManager::initialize (this=0xe19ba0, cb=)
    at /home/murph/ros/visualization/rviz/src/rviz/visualization_manager.cpp:229
#14 0x00007ffff1e1f84c in rviz::VisualizationFrame::initialize (this=0x7c9200, display_config_file=, fixed_frame=, 
    target_frame=) at /home/murph/ros/visualization/rviz/src/rviz/visualization_frame.cpp:213
#15 0x000000000041c9fb in rviz::VisualizerApp::OnInit (this=0x6a1720) at /home/murph/ros/visualization/rviz/src/rviz/visualizer_app.cpp:234
#16 0x00007ffff1436264 in wxEntry(int&, wchar_t**) () from /usr/lib/libwx_baseu-2.8.so.0
#17 0x0000000000414c72 in main (argc=1, argv=0x0) at /home/murph/ros/visualization/rviz/src/rviz/visualizer_app.cpp:321
(gdb)

Originally posted by Murph on ROS Answers with karma: 1033 on 2011-03-08
Post score: 0

Original comments
Comment by Eric Perko on 2011-03-08:
Are those the "official" ATI drivers or an open-source ATI driver, not the one provided by AMD? (E.g. the diff between the Nouveau drivers for Nvidia versus the binaries Nvidia provides)

A:

As for where to file the bug report, I believe you want to file it in the ros-pkg Trac, with 'visualization' as the component. (Click the "report bugs" link at the bottom of the visualization stack wiki page)
BTW, I have a segfault-on-startup bug filed for rviz, though with different video hardware: #4830

Originally posted by Patrick Bouffard with karma: 2264 on 2011-03-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Murph on 2011-03-09:
Thanks! I've created my bug report: #4865


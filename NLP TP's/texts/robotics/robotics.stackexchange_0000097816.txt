Q:

controller_manager and controller library on different machines

I have a 2-machine ROS setup.
M1 is connected to the robot, and runs the node that starts controller_manager (franka_control_node from franka_control).
I developed a new controller on M2. For example, something copied from franka_example_controllers.
Is it possible that the controller_manager running on M1 can run the controller from M2?
Currently I get the error Failed to load <controller_name>. Running rosservice call /controller_manager/list_controller_types does not show the new controller.
Everything works if I move the controller code to M1 and build it there.

Originally posted by samarth.robo on ROS Answers with karma: 33 on 2020-12-11
Post score: 0

A:

This is not possible. When a controller_manager loads a controller, it will use pluginlib to load the requested controller (which is simply a correctly exported library) into its own process. This pluginlib lookup will (naturally) only be able to look for this library on its current system. This is why you won't be able to get around moving/copying your controller over to M2.
More generally, it often helps to remind oneself that ros_control looks like a whole bunch of components working together, but at the end of the day they will all run in one node/process through dynamic library loading. My workflow in similar situations mostly consisted of developing a controller on M1 (including small tests in simulation), and then just moving it over using scp/git or similar.

Originally posted by RobertWilbrandt with karma: 176 on 2020-12-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by samarth.robo on 2020-12-14:
That makes sense, thank you!


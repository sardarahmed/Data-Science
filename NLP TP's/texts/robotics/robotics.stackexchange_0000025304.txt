Q:

Ode "world" VS "quick" method in Gazebo ROS Fuerte

Hi all,
I have a really weird situation. I created both a quadrotor model and mobile robot one.
My problem is that if I use the method "quick" it does not work with my position quadrotor controller since it follows on ground (while if I set the "world" one it works perfectly). On the contrary, if I set the "world" method when I use the ground robot, it follows on the ground and the simulation crashes. Alternatevely, it crashes when the simulation starts.
My opinion is that there is something strange during the contact ground-robot.
Every suggestion is welcome,
Neostek
P.S. In the following my world file:
    <?xml version="1.0"?> 
    <gazebo version="1.0">
      <world name="default">
        <scene>
          <ambient rgba="0.5 0.5 0.5 1"/>
          <background rgba="0.5 0.5 0.5 1"/>
          <shadows enabled="false"/>
        </scene>

        <physics type="ode">
          <gravity xyz="0 0 -9.8"/>
          <ode>
            <solver type="world" dt="0.001" iters="10" sor="1.3"/>
            <constraints cfm="0.0" erp="0.2" contact_max_correcting_vel="100.0" contact_surface_layer="0.001"/>
          </ode>
        </physics>

        <!-- Ground Plane -->
        <model name="plane1_model" static="true">
          <link name="body">
            <collision name="geom_1">
              <geometry>
                <plane normal="0 0 1"/>
              </geometry>
              <surface>
                <friction>
                  <ode mu="10.0" mu2="10.0" fdir1="0 0 0" slip1="0" slip2="0"/>
                </friction>
                <bounce restitution_coefficient="0" threshold="1000000.0"/>
                <contact>
                  <ode soft_cfm="0" soft_erp="0.2" kp="1e10" kd="1" max_vel="100.0" min_depth="0.0001"/>
                </contact>
              </surface>
            </collision>

            <visual name="visual_1" cast_shadows="false">
              <geometry>
                <plane normal="0 0 1"/>
              </geometry>
              <material script="Gazebo/Grey"/>
            </visual>
          </link>
        </model>

        <light type="directional" name="my_light" cast_shadows="false">
          <origin pose="0 0 30 0 0 0"/>
          <diffuse rgba=".9 .9 .9 1"/>
          <specular rgba=".1 .1 .1 1"/>
          <attenuation range="20"/>
          <direction xyz="0 0 -1"/>
        </light>
        <plugin name="joint_trajectory_plugin" filename="libgazebo_ros_joint_trajectory.so"/>
      </world>
    </gazebo>

Originally posted by Neostek on Gazebo Answers with karma: 21 on 2012-10-24
Post score: 1

Original comments
Comment by nkoenig on 2013-01-11:
Could you please try your setup with Gazebo 1.3, it has become much more stable.
Comment by peshala on 2014-05-19:
I experience the same with a simple box on the ground; Gazebo 1.9 crashes. Cannot figure out why. https://bitbucket.org/osrf/gazebo/issue/351/opende-with-solver-type-world-contacts seems still open

A:

Applying forces to an nonarticulated object without contact should yield the same results in "quick" and "world" solvers, so the difference is puzzling, could be a bug in gazebo or the controller mechanism.  Please elaborate on the controller mechanism you are using to simulate lift.

Originally posted by hsu with karma: 1873 on 2013-01-11
This answer was ACCEPTED on the original site
Post score: 0


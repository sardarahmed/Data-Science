Q:

Writing multi-process Python tests in ROS2

I have a large number of tests in ROS2 in Python I would like to write that are essentially

Publish a message

Subscribe and do something

Check what happens during the "do something"

I can do this by creating the publisher and subscriber in the same piece of code. However, it's closer to what happens "for real" if I publish in one process and subscribe in another. But that doesn't fit in well with pytest. Is there a ROS2 "way" to do this - something like the equivalent of ROS1's rostest?
Thanks!

A:

In addition to the aforementioned launch_testing of the launch project whose goal is to provide "tools for launching multiple processes and for writing tests involving multiple processes" there is the launch_testing_ros of the launch_ros project. This is about "tools for launching ROS nodes and for writing tests involving ROS nodes".
So as long as you don't combine multiple nodes into a single process launch_testing_ros is probably the best solution for testing node interactions based on topics.


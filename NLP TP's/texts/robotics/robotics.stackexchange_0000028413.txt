Q:

contact sensor is not working in Gazebo8 ,Gazebo9 and Gazebo10

In gazebo8 ,gazebo9 and gazebo10 (install from source), the contact atrribute in ContactSensor class is Not work. When I get a ContactSensor by contacts =this->ContactSensor->Contacts(),
Then the results of contacts.contact_size(),contacts.contact(0).position_size() and other related values are all zero or empty.

But method like this->ContactSensor->IsActive(), this->ContactSensor->GetCollisionName(0) , this->ContactSensor->UpdateRate() and this->ContactSensor->Id() is work.
Why?

By the way, gazebo4 and gazebo7 is OK.

Problem Solved.It was the name of the collision cause the problem.I had named my contact link in xacro file like this
  <link name="simple">
...
     <collision name="simple_collision">
...
  </link>

and use it like this
 <gazebo reference="simple">
...
      <contact>
        <collision>simple_collision</collision>
        <topic>/simple_contact</topic>
      </contact>
...
</gazebo>

It would Not work in this case. I should Not  add a <collision name="simple_collision"> in xacro file. Just use <collision> in xacro file, it will gives you linkname+_collisionautomaticlly.

Originally posted by longwoo on Gazebo Answers with karma: 27 on 2018-02-10
Post score: 0

Original comments
Comment by chapulina on 2018-02-25:
It would help if you shared some minimum example which someone can compile to reproduce the error
Comment by longwoo on 2018-02-26:
Thank you. You really give me a good idea to debug my code. And I solved it by simplify the model into a box. And find that it was the name of collusion cause the problem.
Comment by Dougie DeRosa on 2019-09-25:
Hey Thanks! Huge help - I was stuck on this for a little. Would you mind discussing a little bit how you figured this out?

A:

If your contact sensor is attached to a link connected to another link via a fixed joint, then the problem could be related with a name change in how the merged collision volume is called:
https://bitbucket.org/osrf/sdformat/pull-requests/235/collision_blobs-for-sdf3-branch/activity#comment-11990222
Check the name of the collision you want to attach your sensor to by generating the SDF file from your Xacro, or check the collision properties directly from Gazebo.

Originally posted by mark_vision with karma: 106 on 2018-02-26
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by longwoo on 2018-02-26:
Thank you. It was the name of the collision cause the problem.
Comment by Dougie DeRosa on 2019-09-25:
Correct, you can not use the contact sensor on a fixed joint UNLESS you use the  tag on said joint.


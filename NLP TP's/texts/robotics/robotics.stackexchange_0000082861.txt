Q:

how to visualize 3d Map in RViz using Octomap?

hello I am learning octomap to create 3d maps . I cloned this link into my system and used these steps:

rosbag play

cloned link

Edited launch file to change remap <cloud_in> to <>
     <!-- fixed map frame (set to 'map' if SLAM or localization running!) -->
     <param name="frame_id" type="string" value="odom_combined" />

     <!-- maximum range to integrate (speedup!) -->
     <param name="sensor_model/max_range" value="5.0" />

     <!-- data source to integrate (PointCloud2) -->
     <remap from="cloud_in" to="/sensor_msgs/PointCloud2" />

 </node>

catkin_make

roslaunch octomap_server octomap_mapping.launch
It ran successfully but no output.

Now, i want to see my map created using point cloud data into Rviz.
How can i do that ?
SOlutions tried:
Installed rviz-plugin
rostopic echo /sensor_msgs/PoinCloud2
WARNING: topic [/sensor_msgs/PoinCloud2] does not appear to be published yet

after launching file I checked topics list
rostopic list available
/free_cells_vis_array
/occupied_cells_vis_array
/octomap_binary
/octomap_full
/octomap_point_cloud_centers
/octomap_server/parameter_descriptions
/octomap_server/parameter_updates
/projected_map
/rosout
/rosout_agg
/sensor_msgs/PointCloud2
/tf
/tf_static

in my launch file I remapped cloud_in to /octomap_point_cloud_centers then also it was not working
then I tried /sensor_msgs/PointCloud2

Originally posted by Eyshika on ROS Answers with karma: 1 on 2017-09-16
Post score: 0

A:

Hi,
you need to install the octomap plugin for RViz. Here is the link.

Originally posted by l4ncelot with karma: 826 on 2017-09-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Eyshika on 2017-09-19:
I tried to clone this rviz code into my folder but it didnt work do I need to launch both separately ? or should i add this code in same directory ?
Comment by l4ncelot on 2017-09-20:
You don't need to do it manually. Just install the package using sudo apt-get install ros-kinetic-octomap-rviz-plugins (for kinetic).
Comment by Eyshika on 2017-09-20:
Do I need to install octomap-server too for launching octomap_mapping or the steps I need are correct I mean cloning octomap_server ?
Comment by l4ncelot on 2017-09-20:
I think you don't need to install it. It's just another ROS package so build it with catkin_make command although I'm not sure about that. But if you're not planning to edit their code it's easier to just install it with sudo apt-get install ros-kinetic-octomap ros-kinetic-octomap-mapping.
Comment by Eyshika on 2017-09-23:
Hi ! I installed octomap-mapping and also octomap-rviz-plugin, but still after launching octomap_mapping file it doesn't show any output. what is the reason behind this ? How can i see map ?
Comment by l4ncelot on 2017-09-24:
Can you edit your question and give us your .launch file? Also check your topic using rostopic echo if there's some data or not.
Comment by Eyshika on 2017-09-24:
I have updated my question with launch file and rostopic echo
Comment by l4ncelot on 2017-09-25:
Have you checked if your pointcloud is published to /sensor_msgs/PointCloud2 topic? Also try to increase the range of your sensor, maybe there's no obstacle within 5m.
Comment by l4ncelot on 2017-09-25:
Also check with RVIZ if you have frame named odom_combined. This is the default frame but I'm not sure if it's published. If you can't see odom_combined frame change it to e.g. world or your other frame.
Comment by Eyshika on 2017-09-25:
How can I check if my point cloud is published to /sensor_msgs/PointCloud 2 or not ? Do I need to write tf broadcaster for this , because when I opened rviz separately it shoed no tf data available ? I did open octomap display in Rviz, now how do I check the frames ?
Comment by l4ncelot on 2017-09-25:
You can check the topic with rostopic echo /sensor_msgs/PointCloud2 command. For the frames either run rosrun tf view_frames which will save the tf tree to frames.pdf. Or in RViz there's fixed frame option in global options. Try to find some available frame there.
Comment by Eyshika on 2017-10-08:
I did check it's showing nothing. If this is not the right topic then how will I know which topic I should use.
Comment by l4ncelot on 2017-10-09:
How do you generate your pointcloud? Can you see your pointcloud in RVIZ (I guess not because there's not one being published)? You need to publish pointcloud to octomap_server to be able to create octomap from it.


Q:

Help With ROS2 Installation Locations (Ubuntu 20.04)

I've got everything installed and working decently and am underway, but one thing that isn't quite clear is where the ROS installation is supposed to be located.
Following the install tutorial (https://docs.ros.org/en/foxy/Installation/Ubuntu-Install-Binary.html#), I downloaded the tarball and extracted it to ROS2 in the home directory: ~/ros2_foxy. I sourced the setup file and everything worked fine.
Later on I was going through a Nav2 tutorial (https://navigation.ros.org/setup_guides/urdf/setup_urdf.html) about URDF which required installations of joint state publisher and xacro. When I ran the apt commands to install these, they got placed in /opt/ros/foxy, not the home location mentioned previously. So when trying to run it was complaining about not finding these newly installed packages. I changed .bashrc to source in /opt/ros/foxy/setup.bash instead and got it working. I'm just not sure that's the best permanent fix as there seems to be some items in ~/ros2_foxy that are still needed and not present in /opt/ros/foxy.
So the question is what is the difference between these two ROS install locations? Do you need both or one or the other? If ~/ros2_foxy is indeed the preferred location, how do I install new packages like joint state publisher or xacro into this directory rather than /opt/ros/foxy?
Thanks for the help,
-Gavin

Originally posted by gr1p_coding on ROS Answers with karma: 3 on 2021-09-26
Post score: 0

A:

If you're running Ubuntu -- and an Ubuntu version supported by the buildfarm / the ROS 2 version you're looking to use: use apt to install ROS. Unless you have a specific reason to do so, the binary archives ("fat archive" or "tarball") is not going to be the most convenient way to install ROS 2 on Ubuntu.
For apt based installs, everything will be in /opt/ros. The archive you downloaded can go 'anywhere', that's up to you.
Mixing-and-matching those two (or even three: if you'd include a from-source installation as well) is not a good idea -- and certainly not recommended.
The Nav2 tutorials essentially assume you've used apt to install ROS, hence the commands shown to you to install additional packages.
My advice would be to use apt and remove what you have in $HOME/ros2_foxy (unless you have a reason for using the archive-based install you haven't told us).

Originally posted by gvdhoorn with karma: 86574 on 2021-09-26
This answer was ACCEPTED on the original site
Post score: 2


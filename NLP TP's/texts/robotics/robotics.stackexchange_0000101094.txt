Q:

roscpp: Node doesn't stop totally

Hello everyone,
I am trying to exit my C++ node correctly but the process doesn't exit totally, here's the log I get :
SUMMARY
========

PARAMETERS
 * /rosdistro: melodic
 * /rosversion: 1.14.12
 * /sekonix_camera_ut/calib_dir_path: /home/nvidia/cros...
 * /sekonix_camera_ut/config_path: /home/nvidia/cros...
 * /sekonix_camera_ut/framerate: 30

NODES
  /
    sekonix_camera_ut (sekonix_camera_ut/sekonix_camera_ut_node)

auto-starting new master
process[master]: started with pid [11422]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to 8ad859d8-7c5a-11ec-8688-00044bf6558a
process[rosout-1]: started with pid [11441]
started core service [/rosout]
process[sekonix_camera_ut-2]: started with pid [11444]
[sekonix_camera_ut-2] process has finished cleanly
log file: /home/nvidia/.ros/log/8ad859d8-7c5a-11ec-8688-00044bf6558a/sekonix_camera_ut-2*.log

And after that the process hangs and doesn't exit.
And here's the C++ code :
int main(int argc, char** argv)
{
  ros::init(argc, argv, "sekonix_camera_ut");
  ros::NodeHandle nh("~");
  return 0;
}

Any idea why the node hangs and doesn't exit ?
Thanks !

Originally posted by Mackou on ROS Answers with karma: 196 on 2022-01-23
Post score: 0

A:

Thanks to @gvdhoorn for finding the solution.
I used roslaunch to start the node without required="true" which means that roslaunch` did not exit.

Originally posted by Mackou with karma: 196 on 2022-01-24
This answer was ACCEPTED on the original site
Post score: 1


Q:

MoveIt joint_state_publisher not publishing to robot_state_publisher

I am working on a 7-DOF manipulator with MoveIt and have calculated a series of joint vectors. I want to publish these joint vectors to the joint states topic so as to see the visualization in Rviz. However, after the implementation I did see the visualization in Rviz but there were "jumping backs" to the original manipulator configuration from time to time. I went into the problem and found that the correct messages were being published to the joint states topic, but robot_state_publisher was not receiving these messages, so no new tfs were updated (the manipulator still stayed at the original configuration, I think this is why there were "jumping backs") .
As a test, I used the joint_state_publisher GUI to publish messages to the joint states topic and I did see tf updates from robot state publisher. So what I do not understand is why publishing using GUI results in new tfs but publishing using codes does not.
I checked and ensured there were joint_state_publisher and robot_state_publisher nodes running and robot_state_publisher node did subscribe to the joint states topic.
Any ideas would be greatly appreciated!

Originally posted by Huitan on ROS Answers with karma: 63 on 2015-04-23
Post score: 0

A:

Publishing JointState messages under the topic "/move_group/fake_controller_joint_states" instead of "joint_states" solved the problem. Joint state publisher rebroadcasts the messages so robot state publisher gets the new messages and updates the tfs.

Originally posted by Huitan with karma: 63 on 2015-04-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by edote on 2020-09-16:
Hello,
I know this is old but how did you change the topic from joint_statess to fake_controller_joint states ?
I have the same issue, and I didn't find where the topic is defined in all the launch files of the moveit config package.
Best


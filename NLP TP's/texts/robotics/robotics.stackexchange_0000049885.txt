Q:

released a bloom package to Groovy, how do I release it to Hydro?

Trying to follow the relevant bloom tutorial.
Step 1:
$ bloom-release --ros-distro hydro --new-track camera_info_manager_py hydro
Specified repository 'camera_info_manager_py' is not in the distro file located at 'https://raw.github.com/ros/rosdistro/master/releases/hydro.yaml'

This is true. Adding the package to that file is part of step 3, which links to notifying the build farm.
Maybe I just need to do that part first. If so, I will update the tutorial accordingly. But, I am not sure that would be correct.

Doesn't the rosdistro update tell Jenkins to start building?

Shouldn't the GBP release repo be updated before that?

Is there a chicken-and-egg problem here?

Originally posted by joq on ROS Answers with karma: 25443 on 2013-03-29
Post score: 3

A:

There is a chicken-egg problem here. bloom-release clones the release repository (gbp) for you by looking in the rosdistro file for the release repository url. If you haven't released into hydro before, there will be no entry for your repository yet.
When we "forked" the hydro files from the groovy ones we simply set the version for each entry to null, this way the build farm would skip it and so that bloom can still find the release repository for things released into groovy before the fork.
Since your repository does not have an entry in the hydro.yaml rosdistro file bloom does not know where to find it. You can resolve this by adding a rosdistro entry with a version set to null.
The nice thing for bloom to do here would be to have you specify the location of the gbp, so it could continue and then edit the rosdistro file for you at the end, adding your repository's entry using the gbp you specified at the beginning.
UPDATE: I have added a note the wiki tutorial here:
http://ros.org/wiki/bloom/Tutorials/ReleasingForANewROSDistro
UPDATE: I have added an issue for this on github:
https://github.com/ros-infrastructure/bloom/issues/125
Hopefully I will get this implemented/tested today and out with the 0.3.3 release of bloom (also today).

Originally posted by William with karma: 17335 on 2013-03-29
This answer was ACCEPTED on the original site
Post score: 3


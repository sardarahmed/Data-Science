Q:

call nodeHandle->advertiseService

Hi,
i try to advertise my service, but i am not able to compile.
Here is my msg file:
string sourceRobot
float64 x
float64 y

My srv file:
map_merger/pointFromRobot inputPoint
---
map_merger/pointFromRobot outputPoint

And here are the cpp parts according to the Service:
in map_merger.h:
 map_merger::pointFromRobot transformPoint(map_merger::transformPoint::Request req);

in map_merger.cpp:
 map_merger::pointFromRobot transformPoint(map_merger::transformPoint::Request req)
 {
     map_merger::pointFromRobot returnValue;
    return returnValue;
}

in the Constructor the advertiseService is called (that does not work), here is the code:
 nodeHandle = new ros::NodeHandle("~");
    ros::ServiceServer service = nodeHandle->advertiseService("transformPoint",&MapMerger::transformPoint,this);
  

regard peter

Originally posted by pkohout on ROS Answers with karma: 336 on 2014-04-09
Post score: 0

A:

If you have compile errors, you should always post them along with your question.
It appears you are not using the correct signature for the callback function, as described in Writing a Simple Service and Client (C++), it should have two arguments (one for the request, one for the response).

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-04-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by pkohout on 2014-04-11:
i will post the error in future questions. I had to change the method to:
bool transformPoint(map_merger::transformPoint::Request &req,
                    map_merger::transformPoint::Response &res);


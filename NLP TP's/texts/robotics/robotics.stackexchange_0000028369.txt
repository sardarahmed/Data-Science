Q:

Problems with catkin_make after installing from source

Hi,
I've been trying to fix errors that occur when using the gym_gazebo package, and the solution to one of my problems was to uninstall gazebo and install it from source, and I followed the instructions that are contained here, however now when I try to run catkin_make, i get the following message. Did I make a mistake during the installation?
[  3%] Building CXX object gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_projector.dir/src/gazebo_ros_projector.cpp.o
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp: In destructor ‘virtual gazebo::GazeboRosVacuumGripper::~GazeboRosVacuumGripper()’:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:47:3: error: ‘DisconnectWorldUpdateBegin’ is not a member of ‘gazebo::event::Events’
   event::Events::DisconnectWorldUpdateBegin(update_connection_);
   ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp: In member function ‘virtual void gazebo::GazeboRosVacuumGripper::UpdateChild()’:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:182:3: error: ‘math’ has not been declared
   math::Pose parent_pose = link_->GetWorldPose();
   ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:183:37: error: ‘class gazebo::physics::World’ has no member named ‘GetModels’
   physics::Model_V models = world_->GetModels();
                                     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:192:7: error: ‘math’ has not been declared
       math::Pose link_pose = links[j]->GetWorldPose();
       ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:193:7: error: ‘math’ has not been declared
       math::Pose diff = parent_pose - link_pose;
       ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:194:21: error: ‘diff’ was not declared in this scope
       double norm = diff.pos.GetLength();
                     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:196:41: error: ‘class gazebo::physics::Link’ has no member named ‘GetWorldLinearAccel’
         links[j]->SetLinearAccel(link_->GetWorldLinearAccel());
                                         ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:197:42: error: ‘class gazebo::physics::Link’ has no member named ‘GetWorldAngularAccel’
         links[j]->SetAngularAccel(link_->GetWorldAngularAccel());
                                          ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:198:39: error: ‘class gazebo::physics::Link’ has no member named ‘GetWorldLinearVel’
         links[j]->SetLinearVel(link_->GetWorldLinearVel());
                                       ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:199:40: error: ‘class gazebo::physics::Link’ has no member named ‘GetWorldAngularVel’
         links[j]->SetAngularVel(link_->GetWorldAngularVel());
                                        ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:204:11: error: ‘link_pose’ was not declared in this scope
           link_pose.Set(parent_pose.pos, link_pose.rot);
           ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:204:25: error: ‘parent_pose’ was not declared in this scope
           link_pose.Set(parent_pose.pos, link_pose.rot);
                         ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:210:9: error: ‘math’ has not been declared
         math::Vector3 force = norm_force * diff.pos.Normalize();
         ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_vacuum_gripper.cpp:211:28: error: ‘force’ was not declared in this scope
         links[j]->AddForce(force);
                            ^
In file included from /home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:25:0:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/include/gazebo_plugins/gazebo_ros_planar_move.h:93:7: error: ‘math’ does not name a type
       math::Pose last_odom_pose_;
       ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp: In member function ‘virtual void gazebo::GazeboRosPlanarMove::Load(gazebo::physics::ModelPtr, sdf::ElementPtr)’:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:115:52: error: ‘class gazebo::physics::World’ has no member named ‘GetSimTime’
     last_odom_publish_time_ = parent_->GetWorld()->GetSimTime();
                                                    ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:116:5: error: ‘last_odom_pose_’ was not declared in this scope
     last_odom_pose_ = parent_->GetWorldPose();
     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:116:32: error: ‘class gazebo::physics::Model’ has no member named ‘GetWorldPose’
     last_odom_pose_ = parent_->GetWorldPose();
                                ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp: In member function ‘virtual void gazebo::GazeboRosPlanarMove::UpdateChild()’:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:163:5: error: ‘math’ has not been declared
     math::Pose pose = parent_->GetWorldPose();
     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:164:17: error: ‘pose’ was not declared in this scope
     float yaw = pose.rot.GetYaw();
                 ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:165:27: error: ‘math’ has not been declared
     parent_->SetLinearVel(math::Vector3(
                           ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:169:28: error: ‘math’ has not been declared
     parent_->SetAngularVel(math::Vector3(0, 0, rot_));
                            ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:171:56: error: ‘class gazebo::physics::World’ has no member named ‘GetSimTime’
       common::Time current_time = parent_->GetWorld()->GetSimTime();
                                                        ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp: In member function ‘void gazebo::GazeboRosPlanarMove::publishOdometry(double)’:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:217:5: error: ‘math’ has not been declared
     math::Pose pose = this->parent_->GetWorldPose();
     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:219:23: error: ‘pose’ was not declared in this scope
     tf::Quaternion qt(pose.rot.x, pose.rot.y, pose.rot.z, pose.rot.w);
                       ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:243:5: error: ‘math’ has not been declared
     math::Vector3 linear;
     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:244:5: error: ‘linear’ was not declared in this scope
     linear.x = (pose.pos.x - last_odom_pose_.pos.x) / step_time;
     ^
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_planar_move.cpp:244:30: error: ‘last_odom_pose_’ was not declared in this scope
     linear.x = (pose.pos.x - last_odom_pose_.pos.x) / step_time;
                              ^
gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_vacuum_gripper.dir/build.make:62: recipe for target 'gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_vacuum_gripper.dir/src/gazebo_ros_vacuum_gripper.cpp.o' failed
make[2]: *** [gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_vacuum_gripper.dir/src/gazebo_ros_vacuum_gripper.cpp.o] Error 1
CMakeFiles/Makefile2:4586: recipe for target 'gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_vacuum_gripper.dir/all' failed
make[1]: *** [gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_vacuum_gripper.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_planar_move.dir/build.make:62: recipe for target 'gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_planar_move.dir/src/gazebo_ros_planar_move.cpp.o' failed
make[2]: *** [gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_planar_move.dir/src/gazebo_ros_planar_move.cpp.o] Error 1
CMakeFiles/Makefile2:4874: recipe for target 'gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_planar_move.dir/all' failed
make[1]: *** [gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_planar_move.dir/all] Error 2
[  3%] Linking CXX shared library /home/username/catkin_ws/devel/lib/libgazebo_ros_utils.so
[  3%] Built target gazebo_ros_utils
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_projector.cpp: In member function ‘virtual void gazebo::GazeboRosProjector::Load(gazebo::physics::ModelPtr, sdf::ElementPtr)’:
/home/username/catkin_ws/src/gazebo_ros_pkgs/gazebo_plugins/src/gazebo_ros_projector.cpp:85:35: error: ‘class gazebo::physics::World’ has no member named ‘GetName’
   this->node_->Init(this->world_->GetName());
                                   ^
gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_projector.dir/build.make:62: recipe for target 'gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_projector.dir/src/gazebo_ros_projector.cpp.o' failed
make[2]: *** [gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_projector.dir/src/gazebo_ros_projector.cpp.o] Error 1
CMakeFiles/Makefile2:4948: recipe for target 'gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_projector.dir/all' failed
make[1]: *** [gazebo_ros_pkgs/gazebo_plugins/CMakeFiles/gazebo_ros_projector.dir/all] Error 2
Makefile:138: recipe for target 'all' failed
make: *** [all] Error 2
Invoking "make -j4 -l4" failed

Originally posted by Fiddle on Gazebo Answers with karma: 35 on 2017-12-07
Post score: 0

A:

You should build a branch of Gazebo which is compatible with your Gazebo ROS pkgs and related packages. It looks like the ROS stuff you're building expects an older Gazebo version, probably Gazebo 7, but you've built a newer version, probably 8 or default (9).

Originally posted by chapulina with karma: 7504 on 2017-12-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Fiddle on 2017-12-08:
Thanks, that was the case!


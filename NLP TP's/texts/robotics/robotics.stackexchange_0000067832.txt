Q:

How to run ros::spin in the background

Hi,
I have a qt application and which has many Callbacks. As I dont have and infinite loop, I can't write ros::spin(). I would like to have ros::spin() or spinonce() in the background. How can i achieve using multi-threading.  Any help would be highly appreciated
Thanks,
Arjun

Originally posted by arjunsurendrans on ROS Answers with karma: 3 on 2015-05-30
Post score: 0

A:

ROS, spin() and multi-threading has been asked a few times already. Some earlier questions & answers:

ROS callbacks, threads and spinning
Multi-threading in ROS nodes and MultiThreadedSpinner and AsyncSpinner
Multiple Threads in Single ROS Node

And just for completeness, the authoritative source roscpp/Overview/Callbacks and Spinning.
In your case an AsyncSpinner is probably a good option (from roscpp/Overview/Callbacks and Spinning - Multi-threaded Spinning):
ros::AsyncSpinner spinner(4); // Use 4 threads
spinner.start();

Originally posted by gvdhoorn with karma: 86574 on 2015-05-30
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by arjunsurendrans on 2015-06-01:
Thank you for your quick reply
Comment by zzzZuo on 2015-12-30:
I read these links, and I do it in the same way,but it doesn't work in my pro.
1.I run spin() in boost::thread,and subscribe in Goal::Goal()(ie:    ros::Subscriber sub = nh_.subscribe<actionlib_msgs::GoalStatusArray>("/move_base/status",100,fun_cb);)
but the thread also block my GUI.Thanks your help


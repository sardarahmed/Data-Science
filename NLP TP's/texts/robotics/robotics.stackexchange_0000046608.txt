Q:

Kinect not working

Hello,
I am trying to get the kinect to work on ROS fuerte and Ubuntu 12.04, I have installed the openni drivers by typing the command:
sudo apt-get install ros-fuerte-openni-launch
and then in a new terminal:
roslaunch openni_launch openni.launch
I get the following errors:

... logging to /home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/roslaunch-samme-Latitude-E6320-14241.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.
started roslaunch server http://samme-Latitude-E6320:49615/
SUMMARY
PARAMETERS

/camera/depth/rectify_depth/interpolation
/camera/depth_registered/rectify_depth/interpolation
/camera/disparity_depth/max_range
/camera/disparity_depth/min_range
/camera/disparity_depth_registered/max_range
/camera/disparity_depth_registered/min_range
/camera/driver/depth_camera_info_url
/camera/driver/depth_frame_id
/camera/driver/depth_registration
/camera/driver/device_id
/camera/driver/rgb_camera_info_url
/camera/driver/rgb_frame_id
/rosdistro
/rosversion

NODES
/camera/depth/
metric (nodelet/nodelet)
metric_rect (nodelet/nodelet)
points (nodelet/nodelet)
rectify_depth (nodelet/nodelet)
/camera/rgb/
debayer (nodelet/nodelet)
rectify_color (nodelet/nodelet)
rectify_mono (nodelet/nodelet)
/
camera_base_link (tf/static_transform_publisher)
camera_base_link1 (tf/static_transform_publisher)
camera_base_link2 (tf/static_transform_publisher)
camera_base_link3 (tf/static_transform_publisher)
camera_nodelet_manager (nodelet/nodelet)
/camera/
disparity_depth (nodelet/nodelet)
disparity_depth_registered (nodelet/nodelet)
driver (nodelet/nodelet)
points_xyzrgb_depth_rgb (nodelet/nodelet)
register_depth_rgb (nodelet/nodelet)
/camera/ir/
rectify_ir (nodelet/nodelet)
/camera/depth_registered/
metric (nodelet/nodelet)
metric_rect (nodelet/nodelet)
rectify_depth (nodelet/nodelet)
ROS_MASTER_URI=http://localhost:11311
core service [/rosout] found
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera_nodelet_manager-1]: started with pid [14261]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/driver-2]: started with pid [14262]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
[ INFO] [1355633764.981600886]: Initializing nodelet with 4 worker threads.
process[camera/rgb/debayer-3]: started with pid [14293]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/rgb/rectify_mono-4]: started with pid [14321]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/rgb/rectify_color-5]: started with pid [14343]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/ir/rectify_ir-6]: started with pid [14361]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth/rectify_depth-7]: started with pid [14383]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth/metric_rect-8]: started with pid [14410]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth/metric-9]: started with pid [14462]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth/points-10]: started with pid [14532]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/register_depth_rgb-11]: started with pid [14552]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth_registered/rectify_depth-12]: started with pid [14573]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth_registered/metric_rect-13]: started with pid [14596]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/depth_registered/metric-14]: started with pid [14629]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/points_xyzrgb_depth_rgb-15]: started with pid [14675]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera/disparity_depth-16]: started with pid [14694]
[ INFO] [1355633765.519999168]: Number devices connected: 1
[ INFO] [1355633765.520141073]: 1. device on bus 002:17 is a Xbox NUI Camera (2ae) from Microsoft (45e) with serial id 'A00364W09309202A'
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
[ INFO] [1355633765.522199263]: Searching for device with index = 1
nodelet: /usr/include/boost/smart_ptr/shared_ptr.hpp:412: boost::shared_ptr::reference boost::shared_ptr::operator*() const [with T = xn::NodeInfo, boost::shared_ptr::reference = xn::NodeInfo&]: Assertion `px != 0' failed.
process[camera/disparity_depth_registered-17]: started with pid [14712]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera_base_link-18]: started with pid [14729]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera_base_link1-19]: started with pid [14741]
[FATAL] [1355633765.606262650]: Service call failed!
[FATAL] [1355633765.606262684]: Service call failed!
[FATAL] [1355633765.606262664]: Service call failed!
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera_base_link2-20]: started with pid [14753]
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[camera_base_link3-21]: started with pid [14765]
[camera_nodelet_manager-1] process has died [pid 14261, exit code -6, cmd /opt/ros/fuerte/stacks/nodelet_core/nodelet/bin/nodelet manager __name:=camera_nodelet_manager __log:=/home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera_nodelet_manager-1.log].
log file: /home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera_nodelet_manager-1*.log
[camera/points_xyzrgb_depth_rgb-15] process has died [pid 14675, exit code 255, cmd /opt/ros/fuerte/stacks/nodelet_core/nodelet/bin/nodelet load depth_image_proc/point_cloud_xyzrgb /camera_nodelet_manager --no-bond rgb/image_rect_color:=rgb/image_rect_color rgb/camera_info:=rgb/camera_info depth_registered/image_rect:=depth_registered/image_rect_raw depth_registered/points:=depth_registered/points __name:=points_xyzrgb_depth_rgb __log:=/home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera-points_xyzrgb_depth_rgb-15.log].
log file: /home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera-points_xyzrgb_depth_rgb-15*.log
[camera/depth_registered/metric-14] process has died [pid 14629, exit code 255, cmd /opt/ros/fuerte/stacks/nodelet_core/nodelet/bin/nodelet load depth_image_proc/convert_metric /camera_nodelet_manager --no-bond __name:=metric __log:=/home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera-depth_registered-metric-14.log].
log file: /home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera-depth_registered-metric-14*.log
[camera/disparity_depth-16] process has died [pid 14694, exit code 255, cmd /opt/ros/fuerte/stacks/nodelet_core/nodelet/bin/nodelet load depth_image_proc/disparity /camera_nodelet_manager --no-bond left/image_rect:=depth/image_rect_raw right:=projector left/disparity:=depth/disparity __name:=disparity_depth __log:=/home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera-disparity_depth-16.log].
log file: /home/samme/.ros/log/ccef1f80-4728-11e2-bace-60672021cf54/camera-disparity_depth-16*.log
Note: In the ROSGui, I can see only the nodes and no topics.
Thanks in advance for your help.
Regards
Khalid Yousif

Originally posted by K_Yousif on ROS Answers with karma: 735 on 2012-12-15
Post score: 0

A:

ctrl + c in the terminal where the the oppenni is launched and then run the command:
killall XnSensorServer
and launch again: roslaunch openni_launch openni.launch. You will still get some errors and warnings but it should work. to see test if it works run:
rosrun image_view image_view image:=/camera/rgb/image_color
Regards,
Khalid

Originally posted by K_Yousif with karma: 735 on 2012-12-17
This answer was ACCEPTED on the original site
Post score: 0


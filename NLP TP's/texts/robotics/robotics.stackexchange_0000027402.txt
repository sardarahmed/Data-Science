Q:

How to install ros-indigo-gazebo-ros-control with Gazebo 5

I'm trying to follow this tutorial to build a myrobot_gazebo package for Indigo with Gazebo 5.
I create my package with:
catkin_create_pkg myrobot_gazebo gazebo_msgs gazebo_plugins gazebo_ros gazebo_ros_control myrobot_description

then, when I try to update my dependencies with:
rosdep update
rosdep install --from-paths . --ignore-src --rosdistro indigo

I get the error:
Some packages could not be installed. This may mean that you have
requested an impossible situation or if you are using the unstable
distribution that some required packages have not yet been created
or been moved out of Incoming.
The following information may help to resolve the situation:

The following packages have unmet dependencies:
 ros-indigo-gazebo-ros-control : Depends: gazebo2 but it is not going to be installed
                                 Depends: libsdformat1 but it is not going to be installed
                                 Depends: ros-indigo-gazebo-ros but it is not going to be installed
E: Unable to correct problems, you have held broken packages.
ERROR: the following rosdeps failed to install
  apt: command [sudo -H apt-get install ros-indigo-gazebo-ros-control] failed

I also tried building my package with the explicit gazebo5 dependencies with:
catkin_create_pkg cheetahbot_gazebo gazebo5_msgs gazebo5_plugins gazebo5_ros gazebo5_ros_control cheetahbot_description

but that results in a similar error, with rosdep being unable to locate "gazebo5_ros_control".
I'm assuming this is because I'm using Indigo, which is built for the old Gazebo 2, while I'm using Gazebo 5. How do I fix this?
I saw this page in the Gazebo tutorials that make a brief mention to this problem:

I need to use gazebo4/gazebo5 and ROS
Indigo, what can I do?
Warning!: Using this option, you won't
be able to use any ROS Indigo package
related to Gazebo from ROS deb
repository. The way to go is to build
them from source. Thanks to catkin
workspaces this is quite easy to do.
If you need some features only present
in version 4.x or 5.x of Gazebo, there
is a way of installing gazebo4 or
gazebo5 and ROS Indigo. Please follow
the instructions about how to use ROS
with gazebo4 package or gazebo5 which
are in this same docuement.

However, I can't find any clear instructions about how to use ROS with gazebo5 in that document. They mention installing the ros-indigo-gazebo5-ros-pkgs package, but I already have that installed.
A similar question, "how to use Gazebo 3.* with Indigo is mentioned, and it links to here, but that's just a landing page and there are no instructions on how to make it work with Indigo.

Originally posted by Cerin on Gazebo Answers with karma: 75 on 2015-04-25
Post score: 1

A:

I have already installed gazebo5 and ROS indigo and works well. Here is what I have done:

If you want to use gazebo5 instead, you should first remove gazebo2.0 in indigo.

Install gazebo5 from the official website.

install ros-indigo-gazebo5-ros-pkgs and ros-indigo-gazebo5-ros-control
sudo apt-get install ros-indigo-gazebo5-ros-pkgs ros-indigo-gazebo5-ros-control
therefore gazebo5 can connect to ROS.

Hope it helps.

Originally posted by winston with karma: 449 on 2015-04-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Filippo Sanfilippo on 2016-05-06:
Hi, thank you for your comment. However, I am unable to solve the dependences for ros-indigo-gazebo5-ros-pkgs and ros-indigo-gazebo5-ros-control. Here is my output.
E: Unable to locate package ros-indigo-gazebo5-ros-pkgs
E: Unable to locate package ros-indigo-gazebo5-ros-controlsudo
E: Unable to locate package apt-get
E: Unable to locate package install
E: Unable to locate package ros-indigo-gazebo5-ros-pkgs
E: Unable to locate package ros-indigo-gazebo5-ros-control.
Any suggestions?


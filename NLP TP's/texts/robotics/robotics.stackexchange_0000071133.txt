Q:

problem with MoveIt/ rviz + joystick_control.launch

I want to jog an industrial 6-axis robot in MoveIt/ rviz via a xbox 360 wireless controller.
I have created a MoveIt package as described here and started the demo.launch. Next, I installed MoveIt from source in the workspace and followed this instruction to start the joystick_control.launch.
Starting joystick_control.launch leads to
benjamin@benjamin:~/moveit$ roslaunch irb2400_moveit_cfg joystick_control.launch 
... logging to /home/benjamin/.ros/log/c348c3e0-b148-11e5-96a0-8c2937e5b4fe/roslaunch-benjamin-18627.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://benjamin:48251/

SUMMARY
========

PARAMETERS
 * /joy/autorepeat_rate: 40
 * /joy/coalesce_interval: 0.025
 * /joy/deadzone: 0.2
 * /joy/dev: /dev/input/js0
 * /rosdistro: indigo
 * /rosversion: 1.11.16

NODES
  /
    joy (joy/joy_node)
    moveit_joy (moveit_ros_visualization/moveit_joy.py)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
process[joy-1]: started with pid [18647]
process[moveit_joy-2]: started with pid [18653]
[ INFO] [1451737269.241626212]: Loading robot model 'abb_irb2400'...
[ INFO] [1451737270.145544577]: Loading robot model 'abb_irb2400'...
Traceback (most recent call last):
  File "/home/benjamin/moveit/src/moveit_ros/visualization/python/moveit_ros_visualization/moveit_joy.py", line 609, in <module>
    app = MoveitJoy()
  File "/home/benjamin/moveit/src/moveit_ros/visualization/python/moveit_ros_visualization/moveit_joy.py", line 380, in __init__
    self.updatePlanningGroup(0)
  File "/home/benjamin/moveit/src/moveit_ros/visualization/python/moveit_ros_visualization/moveit_joy.py", line 398, in updatePlanningGroup
    next_planning_group = self.planning_groups_keys[self.current_planning_group_index]
IndexError: list index out of range
terminate called after throwing an instance of 'class_loader::LibraryUnloadException'
  what():  Attempt to unload library that class_loader is unaware of.
[moveit_joy-2] process has died [pid 18653, exit code -6, cmd /home/benjamin/moveit/src/moveit_ros/visualization/python/moveit_ros_visualization/moveit_joy.py __name:=moveit_joy __log:=/home/benjamin/.ros/log/c348c3e0-b148-11e5-96a0-8c2937e5b4fe/moveit_joy-2.log].
log file: /home/benjamin/.ros/log/c348c3e0-b148-11e5-96a0-8c2937e5b4fe/moveit_joy-2*.log

this are the log files. I can't figure out the problem.
Can someone please help me?

Originally posted by RockOn_23 on ROS Answers with karma: 43 on 2016-01-02
Post score: 3

Original comments
Comment by gvdhoorn on 2016-01-03:
From a quick look this looks like a bug. Could you report this to ros-planning/moveit_ros/issues? Please also refer to this question in your issue.
Comment by RockOn_23 on 2016-01-17:
https://github.com/ros-planning/moveit_ros/issues/637
Comment by Chickenman on 2016-04-14:
Hi guys
I have the same problem but my move group is running properly. Could you give me some hints. Thank you for your time
Comment by AustinWhitesell on 2016-05-06:
I am also having this problem. When I run rqt_graph I can see that move_group is running and that joint_state_publisher is interacting with it, but joy is subscribed to nothing and is publishing nowhere

A:

Most likely you're not running any movegroups yet. I had the same error, but after I roslaunched a launch that includes move_group.launch, this launch moved forward.
Indeed better error handling is necessary, but hope you can work around your immediate issue by this.

Originally posted by 130s with karma: 10937 on 2016-01-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Airuno2L on 2016-04-28:
I had the same problem and made sure a movegroup was running and still have the same problem.
Comment by danielsnider on 2017-02-09:
I have the same problem even when move_group.launch is running. Any suggestions?
Comment by gvdhoorn on 2017-02-10:
If this is a still a problem, please report it at the MoveIt issue tracker so we can take a look at it.


Q:

Catkin_make Error in ros-drivers / velodyne

OS and Version: Ubuntu 18.04
ROS Version: melodic

Hello guys,
I tried to install velodyne package following these steps
http://wiki.ros.org/velodyne/Tutorials/Getting%20Started%20with%20the%20Velodyne%20VLP16
but I have the following error
$rosdep install --from-paths src --ignore-src --rosdistro melodic -y

error the following packages/stacks could not have their rosdep keys resolved to system dependencies:
lio_sam: Cannot locate rosdep definition for [GTSAM]
rslidar_driver:Cannot locate rosdep definition for [rslidar_input]

Can anyone help me to solve this ?
Thanks in advance!
EDIT
If i catkin_make without velodyne's repo catkin_make works perfectly
Im trying to understand if the error above is the reason that i have the error in the catkin_make or not.
CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:11 (add_library):
  add_library cannot create target "driver_nodelet" because another target
  with the same name already exists.  The existing target is a shared library
  created in source directory
  "/home/geo/catkin_ws/src/ros_rslidar/rslidar_driver/src".  See
  documentation for policy CMP0002 for more details.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "velodyne_input" to target "driver_nodelet"
  which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libdiagnostic_updater.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/opt/ros/melodic/lib/libdynamic_reconfigure_config_init_mutex.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libnodeletlib.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libbondcpp.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libuuid.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libclass_loader.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/libPocoFoundation.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libdl.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libroslib.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/librospack.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libpython2.7.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/usr/lib/x86_64-linux-gnu/libboost_program_options.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libtinyxml2.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libtf.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libtf2_ros.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libactionlib.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libmessage_filters.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libroscpp.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/usr/lib/x86_64-linux-gnu/libboost_filesystem.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libxmlrpcpp.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libtf2.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/librosconsole.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/librosconsole_log4cxx.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/opt/ros/melodic/lib/librosconsole_backend_interface.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/liblog4cxx.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libboost_regex.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/opt/ros/melodic/lib/libroscpp_serialization.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/librostime.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/opt/ros/melodic/lib/libcpp_common.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libboost_system.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libboost_thread.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libboost_chrono.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/usr/lib/x86_64-linux-gnu/libboost_date_time.so" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libboost_atomic.so"
  to target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "/usr/lib/x86_64-linux-gnu/libpthread.so" to
  target "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library
  "/usr/lib/x86_64-linux-gnu/libconsole_bridge.so.0.4" to target
  "driver_nodelet" which is not built in this directory.

CMake Error at velodyne/velodyne_driver/src/driver/CMakeLists.txt:13 (target_link_libraries):
  Attempt to add link library "-lpcap" to target "driver_nodelet" which is
  not built in this directory.

CMake Error at /opt/ros/melodic/share/catkin/cmake/custom_install.cmake:13 (_install):
  _install TARGETS given target "driver_nodelet" which does not exist in this
  directory.
Call Stack (most recent call first):
  velodyne/velodyne_driver/src/driver/CMakeLists.txt:24 (install)

Originally posted by ManChrys on ROS Answers with karma: 5 on 2021-06-23
Post score: 0

Original comments
Comment by 404RobotNotFound on 2021-06-23:
While I haven't pulled down the repo to get a better look, are you building anything extra inside of the catkin_ws that isn't from the velodyne repository? Those don't look like velodyne packages that are causing issues
Comment by mgruhler on 2021-06-24:
I second @404RobotNotFound this seems unrelated to velodyne, as the error message is from other packages (lio_sam and rslidar_driver to be specific). They are depending on other packages where there is no registered rosdep key, so you'd need those as source pacakges in your workspace.
Comment by ManChrys on 2021-06-24:
Hello @404RobotNotFound,
yeah, of course I have more packages inside, because I work in more than one projects and with more than one lidars. It's first time though that I have that error when i catkin_make the workspace. Probably they have something common or something else, because until i git velodyne's repo catkin_make works perfectly.
Comment by ManChrys on 2021-06-24:
@mgruhler hello my friend,
is there any way this error be the reason for the catkin_make fail ?

A:

There are two unrelated errors:

the rosdep install error:
This is due to the packages lio_sam and rslidar_driver that exist in your workspace. The rosdep command will (most probably) also fail even without the velodyne repo in your workspace. The cause is that there are dependencies specified in the package.xml of those packages that are neither released ROS packages nor packages in your local workspace (i.e. GTSAM and rslidar_input).
the CMake error:
catkin builds everything in the same CMake context. Within one context, no two targets (added with add_executable, add_library or add_custom_target) can share the same name. You do have a target with same name in the velodyne package as well as in rslidar_driver, namely driver_nodelet (pretty obvious from the first cmake error message, the rest of the error messages is caused by the first). Possible solutions:
build the workspace in isolation (using either catkin_make_isolated or catkin-tools)
rename on of the targets such that there is no more nameclash

Originally posted by mgruhler with karma: 12390 on 2021-06-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ManChrys on 2021-06-24:
hmmm ok i see !!! Thank you my friend for the explanation!!


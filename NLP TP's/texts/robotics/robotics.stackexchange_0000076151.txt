Q:

catkin_make vs catkin build

Hi,
I was reading about the moveit package and I tried to install from source. My problem was that the catkin build command didn't work. So I did apt-get install catkin_tools and then I was able to install the moveit package.
Then I cloned another package in my workspace and ran catkin_make but it didn't work. This is the error I'm getting :
Built target moveit_robot_interaction
[ 80%] Built target moveit_move_group_capabilities_base 
make[2]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir                    /src/planning_scene_storage.cpp.o] Error 1
make[2]: *** Waiting for unfinished jobs....
In file included from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit /warehouse/planning_scene_world_storage.h:40:0,
             from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/src/planning_scene_world_storage.cpp:37:
/home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit/warehouse    /moveit_message_storage.h:40:47: fatal error: warehouse_ros/database_connection.h: No such file or directory
 #include <warehouse_ros/database_connection.h>
                                           ^
compilation terminated.
In file included from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit   /warehouse/constraints_storage.h:40:0,
                 from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse /src/constraints_storage.cpp:37:
/home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit/warehouse    /moveit_message_storage.h:40:47: fatal error: warehouse_ros/database_connection.h: No such file or directory
#include <warehouse_ros/database_connection.h>
                                           ^
compilation terminated.
[ 80%] make[2]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir /src/moveit_message_storage.cpp.o] Error 1
In file included from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit /warehouse/trajectory_constraints_storage.h:40:0,
                 from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse    /src/trajectory_constraints_storage.cpp:37:
/home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit/warehouse   /moveit_message_storage.h:40:47: fatal error: warehouse_ros/database_connection.h: No such file or directory
#include <warehouse_ros/database_connection.h>
                                           ^
compilation terminated.
Building CXX object moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir    /src/state_storage.cpp.o
make[2]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir /src/planning_scene_world_storage.cpp.o] Error 1
In file included from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit/warehouse/state_storage.h:40:0,
             from /home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/src/state_storage.cpp:37:
/home/sbr/first_workspace/src/moveit/moveit_ros/warehouse/warehouse/include/moveit/warehouse/moveit_message_storage.h:40:47: fatal error: warehouse_ros/database_connection.h: No such file or directory
 #include <warehouse_ros/database_connection.h>
                                           ^
compilation terminated.
make[2]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir/src/constraints_storage.cpp.o] Error 1
make[2]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir/src/trajectory_constraints_storage.cpp.o] Error 1
[ 80%] Built target move_group
make[2]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir/src/state_storage.cpp.o] Error 1
make[1]: *** [moveit/moveit_ros/warehouse/warehouse/CMakeFiles/moveit_warehouse.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
[ 83%] Built target moveit_ompl_interface
[ 84%] Built target moveit_pick_place_planner
[ 85%] Built target moveit_move_group_default_capabilities 
make: *** [all] Error 2
Invoking "make -j8 -l8" failed

What is the issue in using catkin_make and catkin build simultaneously?

Originally posted by R.Mehra on ROS Answers with karma: 49 on 2016-09-06
Post score: 3

Original comments
Comment by spmaniato on 2016-09-06:
They may overwrite each other's devel/setup.bash script
Comment by R.Mehra on 2016-09-08:
So if I am building a workspace with catkin build, I should never use that workspace to host other packages and run catkin_make to build those packages, right?
Comment by spmaniato on 2016-09-08:
I think so. The catkin build command is like a more modern catkin_make I've migrated to that (meaning catkin_tools) completely. See http://catkin-tools.readthedocs.io/en/latest/migration.html

A:

Do not combine the two build tools in the same workspace at the same time. Their build artifacts are incompatible.
If you run catkin config, it will tell you which toolset is currently in use. If you wish to switch to catkin build, run catkin clean -bdy first.

Originally posted by joq with karma: 25443 on 2016-09-08
This answer was ACCEPTED on the original site
Post score: 6


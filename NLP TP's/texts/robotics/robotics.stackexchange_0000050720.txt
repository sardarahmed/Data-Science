Q:

What determines size of interactive markers in RViz?

As per the title: how does the size of interactive markers get calculated in RViz? In particular the markers for revolute joints and the large interactive marker in the planning_components_visualiser or planning_scene_warehouse_viewer instances of RViz.
Some of my robots get large diameter markers (for their joints), while others seem to have significantly smaller markers. I haven't been able to find any real pattern to this, or relation to something like min/max joint angles or speeds, but my sampling space could just be too small.

Originally posted by ipso on ROS Answers with karma: 1416 on 2013-04-28
Post score: 1

A:

It looks to me like the markers are generated inside planning_components_visualizer.cpp in the move_arm package:
Joint Markers:
Look in createSelectableJointMarker.  In particular, the scale is set using the maxDimension parameter.  For joints with mesh geometry, this is calculated based on the mesh vertex location with some odd assumptions.  For other joints (with cylinder/box geometry), the scale is set to a fixed value.  It looks like all markers should have a scale in the range of 0.15 to 0.5.
End-Effector Marker:
It's a little less clear how the end-effector marker is generated.  I believe this is also created in the same file.  It looks like it's related to the PlanningComponentsVisualizer::EndEffectorControl type and the makeInteractive6DOFMarker topic.  Perhaps this marker is always created with a fixed size of 0.225.
Hope this helps!

Originally posted by Jeremy Zoss with karma: 4976 on 2013-04-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ipso on 2013-06-19:
Good enough, must say that markers do really tend to be too small sometimes though. But that's another problem :). Thanks.


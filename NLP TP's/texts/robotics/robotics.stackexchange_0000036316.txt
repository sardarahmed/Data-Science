Q:

terminate & launch other node from code

Is there a ROS way to terminate and launch another node from one node's code?
For launching example in python, it's possible by doing something like this w/o using ROS:
import os
os.system('roslaunch turtlebot_navigation_ours amcl_customized.launch')

Any way to do the same in an official way in ROS?
How about terminating as well? If a node run as "respawn = true" receives "shutdown" msg/service request then shuts down itself? Better idea?

Update) I thought I'd better describe a situation when I need this...There is a node that gets to consume higher CPU in a process of time (eventually CPU load reaches 12.0 or above although it's not supposed to do so). And I found that restarting makes it stay calmer and still functions. Besides debugging that node itself, it would be nicer if I can just work around the issue for now by restarting the node.

Update-2) Found similar QA thread and roslaunch.scriptapi might be good as well for launching from python (I'm sure the argument for ROSLaunch.launch is roslaunch.core.Node instead of roslaunch.Node as in API doc).

Originally posted by 130s on ROS Answers with karma: 10937 on 2011-12-07
Post score: 3

A:

Yes, of course, you can start a node from another node using your favorite process management API.
In ROS, you also have rosspawn which will provide this kind of service.
However, it seems to me that what you want to achieve does not really fit well with the ROS framework. When using component oriented frameworks, the general idea is to start all the services at the beginning (using a roslaunch file for instance) and stating nodes relations and configurations using the ROS parameters.
Then no nodes should be killed before the whole system is shutdown.
Then monitoring tools and/or interactive tools should just be launched from outside, using rosrun.

Originally posted by Thomas with karma: 4478 on 2011-12-07
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Asomerville on 2011-12-08:
@Thomas, If I understand him correctly I think he just want's to periodically restart a node that is leaking resources. And if that part of his system that he's restarting is stateless/part of a pipeline (e.g. an edge detector node) there should be no ill effects other than the restart delay AFAICT.
Comment by Thomas on 2011-12-08:
Sorry, my post probably was not clear enough: all the roslaunch files I have seen so far are launching services without having, at any moment, to restart or stop them. Having to do that proably means that your code is not reentrant which is something one should avoid, that's all ;)
Comment by 130s on 2011-12-08:
@Thomas thanks. rosspawn seems good and now I'm giving a shot at it. Meanwhile do you think of any source about component oriented frameworks requires all services begin at the same time? I'm just curious to know more about the concept.
Comment by Asomerville on 2011-12-08:
Sounds like rosspawn will do exactly what he wants. (I'm not sure I understand the comment that what he want's to do doesn't fit well.)
Comment by vinay_kumar28 on 2017-02-20:
can you tell me how it will be done in rosjava? i mean which api in rosjava is used to run another node?
Comment by 130s on 2017-02-20:
@vinay_kumar28 please don't use comment section to ask a whole new question. Open a new one.
Comment by distro on 2021-12-20:
@Asomerville Does rosspawn allow for nodes(ran via launch files)to be autonomously killed and restarted when certain conditions are met?
Comment by 130s on 2021-12-20:
@distro please don't use comment section to ask a new question. To the worst, your question in the comment section doesn't get attention.


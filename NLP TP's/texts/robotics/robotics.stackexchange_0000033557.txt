Q:

camera_prosilica: setting whitebalance_red/blue fails

Hi there
I've a fresh install of ROS (desktop-full) with camera drivers. I successfully can stream from a Prosilica GC655C and set/get parameters with, e.g., dynamic_reconfigure. The only parameter I can't set is 'whitebalance_red' and 'whitebalance_blue'. Of course, 'auto_whitebalance' is set to off.
setting the whitebalance values directly with the SampleViewer it works, but not trough ROS. Even setting the parameter by rosparam doesn't work.
Do you have an idea how to make it work?
Best,
Dani

Originally posted by Daniel Eberli on ROS Answers with karma: 91 on 2011-08-09
Post score: 0

A:

I found the solution to the problem:
in the prosilica library (prosilica.cpp) in function Camera::setWhiteBalance the test, whether manual whitebalance is available
PvAttrIsAvailable(handle_, "WhitebalValueBlue")
returns 0 (ePvErrSuccess) if manual whitebalance for blue is available. since the whitebal check is
if (isauto == Manual && PvAttrIsAvailable(handle_, "WhitebalValueBlue"))
it will FAIL if the PvAttrIsAvailable returns ePvErrSuccess.
if (isauto == Manual && ePvErrSuccess == PvAttrIsAvailable(handle_, "WhitebalValueBlue"))
will solve the problem.

Originally posted by Daniel Eberli with karma: 91 on 2011-08-10
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Patrick Mihelich on 2011-08-11:
Thanks Daniel. Could you please open a ticket (go to http://www.ros.org/wiki/camera_drivers and click the "report bugs" link at the bottom) to make sure this issue doesn't get lost.


Q:

Getting Error in OrganizedMultiPlaneSegmentation

I tried to use use OrganizedMultiPlaneSegmentation, but I got an error. Error msg is like "error C2664: 'void pcl::OrganizedMultiPlaneSegmentation<PointT,PointNT,PointLT>::segmentAndRefine(std::vector<_Ty,_Ax> &)' : cannot convert parameter 1 from 'std::vector<_Ty>' to 'std::vector<_Ty,_Ax> &'"
Here is my sample code. Your advice is most appreciable. Thanx in advance.
int main(..) 
{ 
//Load point cloud. 

pcl::PointCloud<pcl::Normal>::Ptr normals (new pcl::PointCloud<pcl::Normal>); 
pcl::NormalEstimation<pcl::PointXYZ, pcl::Normal> ne; 
ne.setInputCloud (cloud.makeShared()); 
pcl::search::KdTree<pcl::PointXYZ>::Ptr tree (new pcl::search::KdTree<pcl::PointXYZ> ()); 
ne.setSearchMethod (tree); 
int k=3; 
ne.setKSearch(k); 
ne.compute (*normals); 

pcl::OrganizedMultiPlaneSegmentation<pcl::PointXYZ,pcl::Normal,pcl::Label>mps; //Error 
mps.setMinInliers(1000); 
mps.setAngularThreshold(0.017453*2.0); 
mps.setDistanceThreshold(0.02); 
mps.setInputNormals(normals); 
mps.setInputCloud(cloud.makeShared()); 
std::vector<pcl::PlanarRegion<pcl::PointXYZ>>regions;//Error 
mps.segmentAndRefine(regions); //Error 
}

Originally posted by Nihad on ROS Answers with karma: 22 on 2013-05-06
Post score: 0

A:

This is pretty old, but since I was looking for an answer on a similar topic, here is your solution.
std::vector<pcl::PlanarRegion<PointT>, Eigen::aligned_allocator<pcl::PlanarRegion<PointT> > > regions;

The regions are not actual points but only sort of a boundary. If you want XYZ you need to use the other overload of the segmentAndRefine option.

Originally posted by Amir Shantia with karma: 86 on 2015-03-31
This answer was ACCEPTED on the original site
Post score: 0


Q:

Unable to detect AprilTag using ROS

Hi,
I was looking on the internet regarding resources to set-up ROS for detecting AprilTags. I came upon a write-up at https://cmumrsdproject.wikispaces.com/AprilTags_ROS about the same.
My background: I am a novice in ROS and is working on detecting apriltags using ROS. I have followed the tutorials and have the launch files, both for my camera driver(same as the usb_cam mentioned in the link) and apriltags_ros. I have caliberated the camera and have the needed .yaml file. I can view the raw and rectified images from my camera but can't read the apriltags, I am using tag36h11.
After reading the write-up( of the link) I believe, I don't have the correct set of code in my launch file as a part of roslaunch apriltag_ros [launchfilename].launch.  I am attaching the code of my launch file.
<launch>
  <node pkg="apriltags_ros" type="apriltag_detector_node" name="apriltag_detector" output="screen">
   <!-- Remap topic required by the node to custom topics -->
     <remap from="image_rect" to="image_rect" />
     <remap from="camera_info" to="camera_info" />
 
     <param name="/image_rect" type="string" value="/camera/image_rect"/>
     <param name="/camera_info" type="string"  value="/camera/camera_info"/>
 
     <!-- Select the tag family: 16h5, 25h7, 25h9, 36h9, or 36h11(default) -->
     <param name="tag_family" type="str" value="36h11" />
  
     <!-- Enable projected optical measurements for more accurate tag transformations -->
     <!-- This exists for backwards compatability and should be left true  for new setups -->
     <param name="projected_optics" type="bool" value="true" />
 
     <!-- Describe the tags -->
     <rosparam param="tag_descriptions">[
       {id: 0, size: 0.02},
       {id: 1, size: 0.163513, frame_id: a_frame},
       {id: 2, size: 0.163513},
       {id: 3, size: 0.163513},
       {id: 4, size: 0.163513},
       {id: 5, size: 0.163513}]
     </rosparam>
  </node>
</launch

I am using tag36h11, id=0. The width of the block is 2cm and hence the change in id=0 in the above code. Can someone please help me understand as to what is possibly wrong?
Also, after launching the two launch files (apriltags_ros/launch/my.launch and bluefox2-master/launch/my_cam.launch), if I direct my camera on the april tag (I am using tag36h11), shouldn't I be seeing some values in the terminal?
When I launch my camera driver launch file, I get this:

/camera/aec: False
/camera/agc: False
/camera/calib_url: file:///home/sris...
/camera/camera_name: camera
/camera/cbm: 0
/camera/ctm: 1
/camera/dcfm: 0
/camera/expose_us: 20000
/camera/fps: 30.0
/camera/frame_id: camera
/camera/gain_db: 0.0
/camera/hdr: False
/camera/identifier: 26805690
/camera/idpf: 2
/camera/image_raw/compressed/jpeg_quality: 80
/camera/mm: 0
/camera/request: 0
/camera/wbp: -1
/rosdistro: kinetic
/rosversion: 1.12.7

:NODES   /camera/

image_proc (image_proc/image_proc)

viewer (image_view/image_view)   /

camera (bluefox2/bluefox2_single_node)

Originally posted by Sulphur on ROS Answers with karma: 3 on 2017-08-23
Post score: 0

A:

You need to put frame_ids for your tags, like the tag with id 1.

Originally posted by vkee with karma: 127 on 2017-08-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Sulphur on 2017-08-23:
Can you explain me the "frame_id" thing? as in how to put them? Something like:
id: 0, size: 0.02,frame_id: a_frame?
Comment by vkee on 2017-08-23:
They just need to be unique. If I remember correctly (it was awhile since I worked with AprilTags), they will correspond to their tf frames.
Comment by Sulphur on 2017-08-24:
@vkee I am sorry but I still don't get it. Is "a_frame"/tf frame a number? If yes, then how will i get it?
Comment by vkee on 2017-08-24:
No, it is just a label. You can set them to anything - they just need to be unique. The detected AprilTags will appear with those tf labels in RVIZ. Here's a link to an AprilTag launch file I used successfully before (https://github.com/vkee/slam/blob/master/launch/run_apriltag_detection.launch).
Comment by Sulphur on 2017-08-24:
@vkee I added few details details to the question above. See if that info helps.
Comment by Sulphur on 2017-08-24:
@vkee Okay, My file seems similar to yours except the

part  and tag ID thing.
Comment by Sulphur on 2017-08-24:
@vkee One more thing, what is axis1 and axis/camera/info? Is this some path? I am sorry I am bugging so much but I am farely new to it. I did read the remap function but dint understand it much.
Comment by Sulphur on 2017-08-24:
@vkee Alright!  I made the file changes and did the following steps:

roslaunch bluefox2 my_cam.launch ( image_raw is set TRUE)
roslaunch apriltags_ros my.launch
When I aim my camera at the Apriltag, nothing works!!
I aint using RVIZ. I just want to see the co-ordinates it returns in terminal.

Comment by vkee on 2017-08-24:
You should be able to do "rostopic echo /tf" and see those frames if that AprilTag is entered in the launch file. I would recommend trying to use RVIZ to see if the camera is working properly.
Comment by Sulphur on 2017-08-24:
@vkee I did do echo /tf previously. It was blank.
Comment by vkee on 2017-08-24:
Is the camera working? I would try and contact the developer on the link you posted to see if you are missing anything.
Comment by Sulphur on 2017-09-05:
@vkee Sorry for the delay. Thanks for all the help. It is working. There was problem in the remap function in the launch file. Thank you for all the help.


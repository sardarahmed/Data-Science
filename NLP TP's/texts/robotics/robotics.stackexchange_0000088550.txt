Q:

is it necessary to have URDF model for diff_drive_controller

Hello,
I am building a differential drive robot and trying to exploit the power of ros_control by using the diff_drive_controller into my project
I have found that I have to fulfill some hardware requirements to the controller in order to be able to use it  and that's what I have done but due to my limited knowledge in URDF and TF I can't understand the part of the left_wheel_joint and right_wheel_joint in the configuration of the controller
shall I first make a URDF model of my robot to be able to use the diff_drive_controller or I can just make a TF to use or it's not possible?
what shall I write in the following parameters?
left_wheel
right_wheel

I will appreciate your help

Originally posted by ShehabAldeen on ROS Answers with karma: 97 on 2018-08-16
Post score: 1

Original comments
Comment by gvdhoorn on 2018-08-16:
Please change the title of your question.
The title makes it seem like you want to know whether urdf is required for TF in general, but your question text appears to be asking whether a urdf is needed for use with diff_drive_controller.
Those are two different things.
Comment by ShehabAldeen on 2018-08-16:
Yes I missed that sorry

A:

Yes, it's necessary to have a URDF. The parameters left_wheel and right_wheel need to be set to the joint names from the URDF.
In your URDF, you also need a transmission for that joint. If you want to look at an example, in my mir_robot stack I use the diff_drive_controller (but only in Gazebo, not on the real robot). I have converted the xacro to a URDF (using xacro --inorder mir.urdf.xacro > mir.urdf) and deleted a couple of things that are not relevant to your question. The result is here:
https://gist.github.com/mintar/5d8e60a145ec80643d3ea82544c2c233
You can see that there is one joint for each wheel and a transmission for both. There are also four caster wheels; you don't need them of course if your robot doesn't have them. Note that you need to run sudo apt install ros-kinetic-mir-description if you want to try the URDF.

Originally posted by Martin Günther with karma: 11816 on 2018-08-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ShehabAldeen on 2018-08-17:
Thank you for your help and for sure I will use your URDF code as a reference to write my own
Thank you for your time
Comment by ShehabAldeen on 2018-08-17:
I have another question, is it necessary to have URDF model even if I will not simulate the robot I just want to interface it directly to hardware?
Comment by Martin Günther on 2018-08-17:
Yes. I had already removed everything from the URDF that is only necessary for simulation. But your URDF could even be much simpler than my example; for example, the caster wheels could be deleted. Also you don't even need the visual and collision tags for your purpose.
Comment by ShehabAldeen on 2018-08-17:
Thanks a ton


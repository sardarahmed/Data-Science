Q:

building opencv3 with ros kinetic

Hi,
I have the default ros kinetic installed from the package manager. I get the following error when I try to compile my nodes with imgproc and highgui include.
Here is the relevant parts of my CMakeLists.txt file
find_package(OpenCV 3 REQUIRED)
add_executable(cv_qt_ros 
    src/cv_qt_ros.cpp
)
target_link_libraries(cv_qt_ros
  ${catkin_LIBRARIES} 
  ${OpenCV_LIBS}
  ${OpenCV_LIBRARIES}
)

Here is the compilation error: No rule to make target 'opencv_calib3d-NOTFOUND', needed by '../devel/lib/cv_pose/cv_qt_ros'.  Stop.
This is the output of the cmake variables:
-- OpenCV include directories /opt/ros/kinetic/include/opencv-3.3.1;/opt/ros/kinetic/include/opencv-3.3.1/opencv
-- OpenCV libraries opencv_calib3d;opencv_core;opencv_dnn;opencv_features2d;opencv_flann;opencv_highgui;opencv_imgcodecs;opencv_imgproc;opencv_ml;opencv_objdetect;opencv_photo;opencv_shape;opencv_stitching;opencv_superres;opencv_video;opencv_videoio;opencv_videostab;opencv_viz;opencv_aruco;opencv_bgsegm;opencv_bioinspired;opencv_ccalib;opencv_cvv;opencv_datasets;opencv_dpm;opencv_face;opencv_fuzzy;opencv_hdf;opencv_img_hash;opencv_line_descriptor;opencv_optflow;opencv_phase_unwrapping;opencv_plot;opencv_reg;opencv_rgbd;opencv_saliency;opencv_stereo;opencv_structured_light;opencv_surface_matching;opencv_text;opencv_tracking;opencv_xfeatures2d;opencv_ximgproc;opencv_xobjdetect;opencv_xphoto;opencv_calib3d;opencv_core;opencv_dnn;opencv_features2d;opencv_flann;opencv_highgui;opencv_imgcodecs;opencv_imgproc;opencv_ml;opencv_objdetect;opencv_photo;opencv_shape;opencv_stitching;opencv_superres;opencv_video;opencv_videoio;opencv_videostab;opencv_viz;opencv_aruco;opencv_bgsegm;opencv_bioinspired;opencv_ccalib;opencv_cvv;opencv_datasets;opencv_dpm;opencv_face;opencv_fuzzy;opencv_hdf;opencv_img_hash;opencv_line_descriptor;opencv_optflow;opencv_phase_unwrapping;opencv_plot;opencv_reg;opencv_rgbd;opencv_saliency;opencv_stereo;opencv_structured_light;opencv_surface_matching;opencv_text;opencv_tracking;opencv_xfeatures2d;opencv_ximgproc;opencv_xobjdetect;opencv_xphoto

There are some similar questions but they do not address this specific case:
question1, question2

Originally posted by 2ROS0 on ROS Answers with karma: 1133 on 2018-02-06
Post score: 0

A:

Seems like something is broken on the OpenCV end. Here is the ROS discourse thread started couple months back: https://discourse.ros.org/t/opencv-3-3-1-is-breaking-builds-in-kinetic/3384?u=tfoote
And here are some temporary solutions on the github issue page: https://github.com/ros-perception/vision_opencv/issues/193
I just used one of those solutions. I haven't dug into the details of why the problem exists. When I do, I will update this answer.

Originally posted by 2ROS0 with karma: 1133 on 2018-02-07
This answer was ACCEPTED on the original site
Post score: 0


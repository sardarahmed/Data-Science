Q:

What type of message will I receive for a event from libSimEventsPlugin.so?

    <plugin

>         <filename="libSimEventsPlugin.so"
>         <name="event_plugin">
>         <region>
>         <name>Region1</name>
>         <volume>
>         <min> 0 0 0 </min>
>         <max> 1 1 1 </max> 
>         </volume>
>         </region>
>         <event>
>         <name>region1_event</name>
>         <type>occupied</type>
>         <region>Region1</region>
>         <topic>~/elevator</topic>
>         <msg_data>received message CONGRATS </msg_data>
>         </event> 
>         </plugin>

My callback function is like this:
void cb(ConstSimEventPtr &msg);

I've also tried as in the following link:
void cb(ConstWorldStatisticsPtr &_msg)

The problem is that when I spawn my model in the specified region, the application crashes with the following message:
gzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:734: typename boost::detail::sp_member_access<T>::type boost::shared_ptr<T>::operator->() const [with T = const gazebo::msgs::WorldStatistics; typename boost::detail::sp_member_access<T>::type = const gazebo::msgs::WorldStatistics*]: Assertion `px != 0' failed.
Aborted (core dumped)

My question is: what data type is the msg that I have to receive from the plugin?
Thanks in advance!

Originally posted by dragobette on Gazebo Answers with karma: 1 on 2020-09-14
Post score: 0

A:

it is a ConstGzStringPtr , and the error means that a null pointer was stored in a shared pointer that was dereferenced specifically a boost::shared_ptr<gazebo::msgs::WorldStatistics>.

Originally posted by dragobette with karma: 1 on 2020-09-14
This answer was ACCEPTED on the original site
Post score: 0


Q:

Rviz shows robot in a "crippled way" using MotionPlanning

Anytime I run Rviz and use Motionplanning the robot is not shown the way it should be... Right now I am trying to follow this tutorial: https://www.youtube.com/watch?v=j6bBxfD_bYs
and as soon as I run the created launch file rviz pops up and shows me a strange representation of my ur5. It looks like every single link is connected to the base link. I had the same issue when I tried the moveit Panda Tutorial. If I only add the robot model it looks fine, but as soon as I add the MotionPlanning it gets weird. Execution from there almost never works...

2 erros I see in the bash (dunno if they are responsible for the behaviour):
[ERROR] [1553171470.019237215, 407.916000000]: Could not find the planner configuration 'None' on the param server
[ WARN] [1553171477.355538521, 413.008000000]: Waiting for arm_contoller/follow_joint_trajectory to come up
[ INFO] [1553171481.580805297, 416.272000000]: Failed to call service get_planning_scene, have you launched move_group? at /tmp/binarydeb/ros-melodic-moveit-ros-planning-0.10.8/planning_scene_monitor/src/planning_scene_monitor.cpp:495
[ INFO] [1553171482.618004378, 416.826000000]: Constructing new MoveGroup connection for group 'manipulator' in namespace ''
[ WARN] [1553171487.914143567, 419.010000000]: Waiting for arm_contoller/follow_joint_trajectory to come up
[ERROR] [1553171496.372846748, 425.010000000]: Action client not connected: arm_contoller/follow_joint_trajectory

I would be glad if you can explain in the easiest way, since I am new to everything (linux, Ros, C++).
Thanks,
Joel
Edit: Output locale: (sorry that it doesn't look pretty with a grey background, no idea how to paste it that way)
LANG=de_DE.UTF-8
LANGUAGE=
LC_CTYPE="de_DE.UTF-8"
LC_NUMERIC=en_US.UTF-8
LC_TIME="de_DE.UTF-8"
LC_COLLATE="de_DE.UTF-8"
LC_MONETARY="de_DE.UTF-8"
LC_MESSAGES="de_DE.UTF-8"
LC_PAPER="de_DE.UTF-8"
LC_NAME="de_DE.UTF-8"
LC_ADDRESS="de_DE.UTF-8"
LC_TELEPHONE="de_DE.UTF-8"
LC_MEASUREMENT="de_DE.UTF-8"
LC_IDENTIFICATION="de_DE.UTF-8"
LC_ALL=

Originally posted by Joel1394 on ROS Answers with karma: 13 on 2019-03-21
Post score: 0

Original comments
Comment by Joel1394 on 2019-03-21:
I don't know if I am getting it right. So I just copied this line now into my terminal:
export LC_NUMERIC="en_US.UTF-8"
nothing happens. Problem remains, also after reboot.
Comment by gvdhoorn on 2019-03-21:
A reboot would have reset everything to the default situation, so that would be expected.
Can you show us the output of locale (run it in a terminal, copy-paste the output)?
And please attach a screenshot of RViz to your question. Use the edit button to add it to your original question text.
Comment by gvdhoorn on 2019-03-21:
This could still be #q272692.
But first: can you show us a screenshot of rqt_graph when you have everything running?
And which launch files do you use?
Just adding the MoveIt RViz plugin without having the correct parameters and nodes loaded will not work.

As to the potential locale problem: you can test that by switching your machine to use the en_US.UTF-8 locale globally. This will (temporarily) turn your machine to English, but you can switch that back later. To switch it, use the Region & Language section of the System Settings panel.
Switch it to English (US), confirm the change, save and log out and then log in.
Now try again.
Comment by Joel1394 on 2019-03-22:
Thanks! Changing the language to english (US) and afterwards executing the code I used earlier (havn't checked yet if the code is really necessary), made the robot look all pretty now. Apparently  I can plan, but now it tells me the following errors
[ERROR] [1553260867.318809360]: Unable to identify any set of controllers that can actuate the specified joints: [ elbow_joint shoulder_lift_joint shoulder_pan_joint wrist_1_joint wrist_2_joint wrist_3_joint ]
[ERROR] [1553260867.318866162]: Known controllers and their joints:

[ERROR] [1553260867.318920173]: Apparently trajectory initialization failed

I checked the files in the config data but the joints are always named as listed in the error... I am not sure if I had this error before, but I believe I didn't...
Comment by gvdhoorn on 2019-03-22:
Ok, so it was the locale issue then.
It would seem the comment by @RikTonnaer was actually correct.
I'll convert that into an answer for you to accept.
As to your new/other problem: please post a new question for that. Posting follow-up questions in comments like that is not a good practice.

A:

Hi Joel, this looks like the same problem as in #q272692. Can you try if the solution mentioned there also works for you?

Originally posted by RikTonnaer with karma: 36 on 2019-03-21
This answer was ACCEPTED on the original site
Post score: 1


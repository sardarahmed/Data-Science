Q:

A launcher for program.c++ that launches roscore

Hi, I have a question. I´m use ROS Hydro in Ubuntu 12.04.  I have a program in C++ that launch ros --> roscore and others nodes, as are: hokuyo_node or hector_slam.
I want launch this program.c++ with double-click.
If I launch this program in a ubuntu-terminal, the program run is OK, but I can´t do a launcher for this program. I try:

gnome-desktop-item-edit {ubication} --create-new  ---> In order, I write the program.c++ path and select terminal aplication. The window terminal open with this launcher said:

sh: 1: rosnode: not found

gnome-desktop-item-edit {ubication} --create-new  ---> In order, I write the program.c++ path and select aplication. The launcher not do nothing.

I do a script for launch the program.c++ :
#!/bin/sh
cd
cd /home/lab18/terese3_adq/data/principal
./mainexecut > mainbash.log &
disown -h %1
bg 1

mainexecut = program.c++ and  "/home/lab18/terese3_adq/data/principal" is the path to is this program.
The result is similar, if I launch this script in a terminal, the program run is Ok, but if I do a launcher or launch with double-click on the script, the result is:

sh: 1: rosnode: not found

I do other script for launch the program.c++ :
#!/bin/sh
gnome-terminal -e "bash -c "cd; cd /home/lab18/terese3_adq/data/principal/; ./mainexecut; exec bash""

This script has the same result.
I haven't idea from where is the error, or the possible solution.
I thank for some idea.

Originally posted by alex.filgueira on ROS Answers with karma: 62 on 2014-08-12
Post score: 0

A:

As stated before, the issue is with the environment variables not being set properly. Your errors show that the 'sh' shell is being used, but you're likely setting up ROS using 'bash' shell.
If you follow this link, you can create a 'mainexecut.desktop' and modify the 'Exec=...' with 'Exec=bash -i -c /path/to/mainexecut'. This is how IDEs are suggested to be configured, as documented here. This solution works for me.
If you're not using Unity, there must be something along those lines for Gnome (or KDE).
Mind you, the user's workspace and '/opt/ros/hydro/setup.bash' must be sourced upon loading your .bashrc.
I hope it helps!

Originally posted by Murilo F. M. with karma: 806 on 2014-08-14
This answer was ACCEPTED on the original site
Post score: 0


Q:

"roslaunch pi_tracker skeleton.launch" Fails

... logging to /home/geeko/.ros/log/5e3bf648-4dca-11e0-a040-001d92bb2297/roslaunch-geeko-MS-7312-12457.log Checking log directory for disk usage. This may take awhile. Press Ctrl-C to interrupt Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://geeko-MS-7312:53390/

SUMMARY
========

PARAMETERS  * /use_sim_time  * /skeleton_tracker/fixed_frame  * /skeleton_tracker/load_filepath  * /skeleton_tracker/holonomic  * /skeleton_tracker/skel_to_joint_map/right_shoulder
* /skeleton_tracker/tracking_rate  * /skeleton_tracker/skel_to_joint_map/right_hip
* /skeleton_tracker/command_rate  * /skeleton_tracker/skel_to_joint_map/left_foot
* /skeleton_tracker/skel_to_joint_map/left_elbow
* /skeleton_tracker/skel_to_joint_map/right_foot
* /skeleton_tracker/use_real_robot  * /skeleton_tracker/skel_to_joint_map/right_knee
* /skeleton_tracker/skel_to_joint_map/left_shoulder
* /skeleton_tracker/scale_drive_speed  * /skeleton_tracker/base_controller_rate
* /skeleton_tracker/skel_to_joint_map/left_knee
* /skeleton_tracker/base_control_side  * /rosdistro  * /robot_description  * /skeleton_tracker/skel_to_joint_map/head
* /skeleton_tracker/max_rotation_speed  * /rosversion  * /skeleton_tracker/skel_to_joint_map/torso
* /skeleton_tracker/skel_to_joint_map/right_hand
* /skeleton_tracker/skel_to_joint_map/right_elbow  * /skeleton_tracker/default_joint_speed 
* /skeleton_tracker/max_drive_speed  * /skeleton_tracker/scale_rotation_speed
* /robot_state_publisher/publish_frequency
* /skeleton_tracker/reverse_rotation  * /skeleton_tracker/skel_to_joint_map/neck
* /skeleton_tracker/skel_to_joint_map/left_hand
* /skeleton_tracker/joint_controller_rate
* /skeleton_tracker/skel_to_joint_map/left_hip

NODES   /
    robot_state_publisher (robot_state_publisher/state_publisher)
    kinect_base_link (tf/static_transform_publisher)
    kinect_base_link1 (tf/static_transform_publisher)
    kinect_base_link2 (tf/static_transform_publisher)
    kinect_base_link3 (tf/static_transform_publisher)
    skeleton_tracker (pi_tracker/skeleton_tracker)
    base_world_broadcaster (tf/static_transform_publisher)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found 
process[robot_state_publisher-1]: started with pid [12478] 
process[kinect_base_link-2]: started with pid [12479] 
process[kinect_base_link1-3]: started with pid [12480] 
process[kinect_base_link2-4]: started with pid [12482] 
process[kinect_base_link3-5]: started with pid [12495] 
process[skeleton_tracker-6]: started with pid [12505]
process[base_world_broadcaster-7]: started with pid [12512] 
[skeleton_tracker-6] process has died [pid 12505, exit code -11]. log files: /home/geeko/.ros/log/5e3bf648-4dca-11e0-a040-001d92bb2297/skeleton_tracker-6*.log

Originally posted by GeniusGeeko on ROS Answers with karma: 299 on 2011-03-13
Post score: 0

A:

Hi GeniusGeeko,
Looks like the SamplesConfig.xml file disappeared in the new openni_kinect package recently released.  As a quick fix, I have copied the SamplesConfig.xml file from the ni stack into the pi_tracker params directory and modified the skeleton.launch file accordingly.  If you do a "svn update" in the pi_tracker directory, hopefully the launch will then work OK.
--patrick
P.S. I just noticed that even though the above update fixed the problem on my machine, the skeleton_tracker process can sometimes die on the first attempt.  If that occurs, type Ctrl-C in the launch window to kill all the nodes, then try the launch again.  I think I have seen this before with other Kinect applications.  Perhaps some kind of "wait for openni topic" is required in my skeleton_tracker.cpp file...
UPDATE:  If you haven't already, roscd into pi_tracker, then run a "make clean" followed by "make" to rebuild the skeleton_tracker binary.
If this still doesn't work, can you please provide a little more info about your setup?  Helpful information would include.  Are you successfully running other ROS packages with your Kinect?  Are you using Cturtle or Diamondback?  Debian packages or SVN?  Ubuntu or other OS?  The NI stack from http://www.ros.org/wiki/ni (which is now officially depreciated) or the newer openni_kinect stack?  (And if the latter, the Debian package or the latest from the repository?)
Also, can you include whether or not your machine supports SSE3?  On Ubuntu, you can use the command "cat /proc/cpuinfo | grep sse3" to see if appears among the flags.
Finally, can you run the following modified launch file that will fire up the gdb debugger which should tell us the error that is causing the process to die?  When you launch this file, a separate xterm will pop up with a gdb prompt.  When you get the prompt, enter the command "run" and then copy and paste any output that results.  To close the gdb window, type the "quit" command:
<launch>    
    <param name="robot_description" command="$(find xacro)/xacro.py '$(find pi_tracker)/urdf/pi_robot.urdf.xacro'" />
    <param name="/use_sim_time" value="False" />
 
    <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher">
        <param name="publish_frequency" value="20.0"/>
    </node>
    
    <include file="$(find openni_camera)/launch/kinect_frames.launch" />

    <node launch-prefix="xterm -e gdb --args" name="skeleton_tracker" pkg="pi_tracker" type="skeleton_tracker">
        <param name="load_filepath" value="$(find pi_tracker)/params/SamplesConfig.xml" />
        <rosparam command="load" file="$(find pi_tracker)/params/tracker_params.yaml" />
    </node>

    <node pkg="tf" type="static_transform_publisher" name="base_world_broadcaster" args="0 0 0 0 0 0 /base_link /world 100" />
</launch>

Originally posted by Pi Robot with karma: 4046 on 2011-03-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Pi Robot on 2011-03-16:
Cool!  Looking forward to your improvements.
Comment by GeniusGeeko on 2011-03-16:
I read a little more on the wiki, I'm throwing a full overhaul on your teleoperation sections. I'm trying to make them a little more generic for other users. I am however running into troubles getting rviz simulation to work properly. It just shoots out thousands of errors.
Comment by Pi Robot on 2011-03-16:
Glad to hear it's working!  Alas, I don't using IM (I can barely get enough done as it is) and I really like this forum since other users get to see the questions and answers.
Comment by GeniusGeeko on 2011-03-16:
For the people that are wondering, my processor didn't support SSE3 just SSE2.
Comment by GeniusGeeko on 2011-03-15:
Awesome it works perfectly now, do you have a IMing service we could use for further discussion?
Comment by Pi Robot on 2011-03-14:
Please see the "Update" at the bottom of my answer above.
Comment by GeniusGeeko on 2011-03-14:
Can I get some more help here?
Comment by GeniusGeeko on 2011-03-13:
Now I am getting.. [skeleton_tracker-6] process has died [pid 5930, exit code -4].
log files: /home/geeko/.ros/log/1e7cb524-4de8-11e0-9638-001d92bb2297/skeleton_tracker-6*.log


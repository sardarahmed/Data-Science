Q:

How to use protobuf with ros?

Hello everyone,
I have been searching for hours but I couldn't find any documentation about how to use protobuf with ros.
I really don't know how to create a message with protobuf.
If anyone could help me I would be glad.

Originally posted by clepz on ROS Answers with karma: 15 on 2019-11-25
Post score: 1

Original comments
Comment by gvdhoorn on 2019-11-25:
A bit pedantic maybe, but:

what does "use with ROS" mean exactly? Are you looking to have the ROS middleware communicate using Protobuf, or do you have a Protobuf message that you'd like to be compiled?
ROS does not affect anything here, as Protobuf is just-another-library. How would you do this with CMake? Please realise: Catkin is a thin convenience layer over CMake.

Comment by clepz on 2019-11-25:
http://wiki.ros.org/sig/NextGenerationROS/MessageFormats
I want to publish my proto message. I tried few things but I couldn't succeed.

A:

http://wiki.ros.org/sig/NextGenerationROS/MessageFormats

The page you link to is very old (note the "last edited 2013-06-11" at the bottom right).
It is a page with notes from the very earliest beginnings of ROS 2, where multiple different middleware and (de)serialisation libraries and frameworks were being investigated (edit: I've updated the page to clearly state this: diff).
The current design of ROS 2 is (at a high-level) documented on design.ros2.org. The wiki page you link to probably was in the end used to write ROS on ZeroMQ and Friends and ROS on DDS.

I want to publish my proto message. I tried few things but I couldn't succeed.

Protobuf is not used in ROS 1, nor in ROS 2.
There is no official support for Protobuf messages in either ROS version.
There is a(n ongoing) discussion about this over in ros/ros_comm/issues/1085, but personally I don't see this happening in ROS 1. Some of the comments on that issue point to user-created extensions or packages that enable the use of Protobuf, perhaps you could take a look at them.

Originally posted by gvdhoorn with karma: 86574 on 2019-11-25
This answer was ACCEPTED on the original site
Post score: 1


Q:

Ant problem when building rosjava

Hello all,
I following the instructions on the rosjava welcome page http://code.google.com/p/rosjava/wiki/Welcome.
Everything goes fine until I try to build rosjava.jar.
At first, the result of the "ant dist" instruction was that it was unable to find the sdk.dir folder, so I decided to hardcode the path of my Android sdk installation. If I write the command "android" in the shell, I can see how the AVD manager starts.
Now, the problem is that the build fails because it's unable to find com.android.ant.SetupTask
See the error trace below:
BUILD FAILED
/myfolder/rosjava/rosjava/build.xml:5: The following error occurred while executing this line:
/myfolder/rosjava/rosjava/build-common.xml:16: The following error occurred while executing this line:
/myfolder/rosjava/rosjava/dependencies.xml:20: The following error occurred while executing this line:
/myfolder/rosjava/rosjava/android/build.xml:6: The following error occurred while executing this line:
/myfolder/rosjava/rosjava/android/library/build.xml:38: The following error occurred while executing this line:
/myfolder/android-sdk-linux_x86/tools/ant/pre_setup.xml:13: taskdef class com.android.ant.SetupTask cannot be found
 using the classloader AntClassLoader[]

Someone asked if I have the anttasks.jar under the /myfolder/android-sdk-linux_x86/tools/lib folder, and yes, I do.
What can be happening?
Thanks in advance!

Originally posted by Oryonym on ROS Answers with karma: 1 on 2011-06-06
Post score: 0

Original comments
Comment by kwc on 2011-06-07:
what do you mean by 'hardcode the path of my Android sdk installation'? The only setup I did was to add the Android SDK to my path.  For the rest, I use the "android update project --path .' to generate the local.properties file.

A:

Possibly this?
http://blog.klacansky.com/matter-code/ant-taskdef-class-com-android-ant-setuptask-cannot-be-found
Or this? (search for "SetupTask")
http://wiki.phonegap.com/w/page/16494774/Getting-started-with-Android-PhoneGap-in-Eclipse

Originally posted by damonkohler with karma: 3838 on 2011-06-07
This answer was ACCEPTED on the original site
Post score: 1


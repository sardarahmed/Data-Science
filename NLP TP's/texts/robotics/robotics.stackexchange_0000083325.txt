Q:

robot_localization NaN output

Hi all,
When I execute the robot_localization with the differential mode for odometry data, I received nan value in the /odometry/filtered topic. When I turn on debug mode, I see the following texts. Could you please guide me how to start debugging?
Previous message time was 1507875840.235904932, current message time is 1507875840.269231081, delta is 0.03332614898681640625, velocity is (vX, vY, vZ): (0, 0, 0)
(vRoll, vPitch, vYaw): (0, -0, 0)
Previous measurement covariance:

Transformed covariance is
[-nan        -nan        -nan        -nan        -nan        -nan
-nan        -nan        -nan        -nan        -nan        -nan
-nan        -nan        -nan        -nan        -nan        -nan
-nan        -nan        -nan        -nan        -nan        -nan
-nan        -nan        -nan        -nan        -nan        -nan
-nan        -nan        -nan        -nan        -nan        -nan        ]

Originally posted by MIN LATT on ROS Answers with karma: 51 on 2017-10-16
Post score: 0

A:

I suspect your very high measurement variances are causing singularities in the Kalman filter. Make sure the input covariances are reasonable (see http://docs.ros.org/lunar/api/robot_localization/html/preparing_sensor_data.html).

Originally posted by Ed Venator with karma: 1185 on 2017-11-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by MIN LATT on 2017-11-09:
Hi Ed Venator,
Thanks a lot for your answer. I changed the variances and it works.


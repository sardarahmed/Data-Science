Q:

revolute joint not working in gazebo

I'm trying to simulate a door in gazebo but the revolute joint does not seem to work. Could someone take a look at my urdf file and see what might be possibly wrong with it
<robot name="door2">
  <link name="wall">
    <inertial>
      <origin xyz="0 0 1.2" /> 
      <mass value="100.0" />
      <inertia  ixx="1.0" ixy="0"  ixz="0"  iyy="1.0"  iyz="0"  izz="1.0" />
    </inertial>
    <visual>
      <origin xyz="0 0 1.2"/>
      <geometry>
        <box size="0.2 2.4 2.4" />
      </geometry>
    </visual>
    <collision>
      <origin xyz="0 0 1.2"/>
      <geometry>
        <box size="0.2 2.4 2.4" />
      </geometry>
    </collision>
  </link>
  
  <link name="door">
    <inertial>
      <origin xyz="-0.1 0.6 0" /> 
      <mass value="1.0" />
      <inertia  ixx="1.0" ixy="0"  ixz="0"  iyy="1.0"  iyz="0"  izz="1.0" />
    </inertial>
    <visual>
      <origin xyz="-0.1 0.6 0"/>
      <geometry>
        <box size="0.2 1.2 2.4" />
      </geometry>
    </visual>
    <collision>
      <origin xyz="-0.1 0.6 0"/>
      <geometry>
        <box size="0.2 1.2 2.4" />
      </geometry>
    </collision>
  </link>
  
  <joint name="hinge" type="revolute">
    <limit upper="0" lower="-1.57" velocity="10" effort="1"/>
    <origin xyz="0.1 1.2 1.2"/>
    <axis xyz="0 0 1" />
    <parent link="wall"/>
    <child link="door"/>
  </joint>   
  
  <gazebo reference="wall">
    <material>Gazebo/Blue</material>
    <static>true</static>
  </gazebo>
</robot>

This is the link the video I took http://www.youtube.com/watch?v=iCwonqFniqA&feature=youtu.be
I'm running Fuerte, Ubuntu 12.04
Thank you
EDIT: I tried a second time but this time with an extra block to prevent the thing from toppling: http://www.youtube.com/watch?v=l3gPdSxkyCU&feature=youtu.be
The door managed to open but with much difficulty, have to move pr2 very slowly. Does anyone know how to make the joint more smooth?
*my velocity and effort for the revolute joint was 1000 and 10000 respectively for the second video if that makes any difference

Originally posted by ccm on ROS Answers with karma: 226 on 2012-11-21
Post score: 2

A:

One thing to think about: your inertia tags have to match your mass. The mass you specified (100 kg and 1 kg) only tells the simulation the gravitational force. What you want is inertia: the wall should be much harder to move than the door (at the moment, they are the same). Also see Wikipedia's List of moment of inertia tensors.
For a mass of 1 kg, the door should have something like this if my calculations are right:
ixx = 1/3 * m * (y^2 + z^2) = 1/3 * 1 * (1.2^2 + 2.4^2) = 2.4
iyy = 1/3 * m * (x^2 + z^2) = 1/3 * 1 * (0.2^2 + 2.4^2) = 1.933333
izz = 1/3 * m * (x^2 + y^2) = 1/3 * 1 * (0.2^2 + 1.2^2) = 0.493333

So your door inertia was in the right ballpark. The wall should have 100 times that.
On the other hand, you may also want to change some other joint properties (damping or such?) to make the door swing more lightly. I remember there was one guy on this answer board who had the opposite problem (the door would never stop swinging) a while ago.

Originally posted by Martin GÃ¼nther with karma: 11816 on 2012-11-22
This answer was ACCEPTED on the original site
Post score: 2


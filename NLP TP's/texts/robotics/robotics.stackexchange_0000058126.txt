Q:

why do I get an error when building my pakage?

Hi,
I'm using ubuntu 13.04 an I have created a package using catkin_create_pkg tutorial_opencv image_transport roscpp std_msgs opencv2 cv_bridge uvc_camera.There is c++ program in my package called DisplayImage.The pkg is in my catkin workspace .When I built it I had an  error 
CMake Error at /opt/ros/hydro/share/catkin/cmake/catkinConfig.cmake:72 (find_package):
Could not find a package configuration file provided by "opencv2" with any
of the following names:
opencv2Config.cmake 
opencv2-config.cmake
I included in the CMakelist.txt

" FIND_PACKAGE(OpenCV REQUIRED)
include_directories( ${catkin_INCLUDE_DIRS} ${OpenCV_INCLUDE_DIRS})
add_executable( DisplayImage DisplayImage.cpp )
TARGET_LINK_LIBRARIES(DisplayImage ${OpenCV_LIBS}<br>
${catkin_LIBRARIES})"

Here is the full content of my **CMakelist.txt** plus the output of "**VERBOSE=1 catkin_make -j1** "
https://gist.github.com/Leyonce/9731649
I am supposing the problem has to do with the fact that thoses files don't exsit in the opencv2 package and In my utmost arrogant opinion they don't exist at all.What I see is the **OpenCvConfig.cmake** file and the **OpenCVConfig-version.cmake** file 
in the OPENCV directory which is supposed to be a library.
Can anyone help?

Originally posted by Leyonce on ROS Answers with karma: 97 on 2014-03-21
Post score: 0

Original comments
Comment by demmeln on 2014-03-23:
the link to the gist is dead
Comment by Leyonce on 2014-03-23:
I've made a new one.Thanks for your patience.I'm really grateful.

A:

Hi there,
OpenCV is no longer packed inside ROS, instead now it is a system dependency. I guess that the information on the tutorials that you mention is outdated. You should remove all references to opencv2 in your CMakeList.txt.
The correct way to link your node to opencv is by adding the following to CMakeList.txt :
find_package(OpenCV REQUIRED)
add_executable(my_cool_node src/my_cool_node.cpp)
target_link_libraries(my_cool_node ${catkin_LIBRARIES} ${OpenCV_LIBRARIES})

I hope this helps you.

Originally posted by Martin Peris with karma: 5625 on 2014-03-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Leyonce on 2014-03-30:
@Martin, Thanks.Could you point me to the where I can find the updated info?
Comment by Martin Peris on 2014-03-31:
Hi Leonce, I am glad the answer was useful. You can find the updated information here: http://wiki.ros.org/vision_opencv
Comment by Leyonce on 2014-04-01:
Thanks @Martin but I think there's an error in the link,the page doesn't exist yet.
Comment by Martin Peris on 2014-04-01:
Sorry, I don't know why there was a "</p>" attached to the end of the link... just remove it and you should be fine


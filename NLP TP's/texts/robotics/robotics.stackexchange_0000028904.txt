Q:

Cannot start Gazebo (no Gui)

I am new to Gazebo and Ubuntu.
I have just installed Ubuntu 18.04 and Gazebo 10.0.
When I start Gazebo entering command $ gazebo --verbose no Gui show up...the message I get are:

[Msg] Waiting for master. Gazebo
multi-robot simulator, version 9.11.0
Copyright (C) 2012 Open Source
Robotics Foundation. Released under
the Apache 2 License.
http://gazebosim.org
[Msg] Connected to gazebo master @
http://127.0.0.1:11345 [Msg]
Publicized address: 192.168.1.139
[Msg] Waiting for master. [Msg]
Connected to gazebo master @
http://127.0.0.1:11345 [Msg]
Publicized address: 192.168.1.139

$ gzserver --verbose

[Msg] Waiting for master.
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 192.168.1.139
Segmentation fault (core dumped)

$ gzclient --verbose

[Msg] Waiting for master.
[Err] [ConnectionManager.cc:119] Failed to connect to master in 30 seconds.
[Err] [gazebo_shared.cc:83] Unable to initialize transport.
[Err] [gazebo_client.cc:62] Unable to setup Gazebo

Thanks for your suggestions!
Paolo

Originally posted by paolob on Gazebo Answers with karma: 16 on 2020-01-07
Post score: 0

Original comments
Comment by Jose Luis Rivero on 2020-01-23:
Could you please try running gzserver --verbose in one shell and gzclient --verbose in other shell and see if the logs display something different?
Comment by paolob on 2020-01-23:
Thanks Jose Luis this is what i get:
gzserver messages:
[Msg] Waiting for master.
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 192.168.1.139
Segmentation fault (core dumped)
gzclient messages:
[Msg] Waiting for master.
[Err] [ConnectionManager.cc:119] Failed to connect to master in 30 seconds.
[Err] [gazebo_shared.cc:83] Unable to initialize transport.
[Err] [gazebo_client.cc:62] Unable to setup Gazebo
Comment by Jose Luis Rivero on 2020-01-23:
Segfaulting booting Gazebo. What kind of graphic card do you have? Which is the output of lspci  | grep VGA ?
Comment by paolob on 2020-01-23:
paolo@paolo-Inspiron-9300:~$ lspci|grep VGA
01:00.0 VGA compatible controller: NVIDIA Corporation NV41M [GeForce Go 6800] (rev a2)
Comment by Jose Luis Rivero on 2020-01-27:
If the nvidia support is enabled (install mesa-utils and run glxinfo | grep direct), next step would be to look into the logs ~/.gazebo/logs/ to see if there is an error message in there.
Comment by paolob on 2020-01-29:
This is what Iget:
paolo@paolo-Inspiron-9300:~$ glxinfo |grep direct
direct rendering: Yes
paolo@paolo-Inspiron-9300:~$ ls .gazebo
client-11345  gui.ini  ogre.log  server-11345
paolo@paolo-Inspiron-9300:~$
No log directory under .gazebo!
I am discouraged....
Comment by Jose Luis Rivero on 2020-01-30:
You will find log files inside .gazebo/client-11345 and .gazebo/server-11345. There could be some hint there about what is failing. Also give a look into ogre.log. Check for errors.
Comment by paolob on 2020-01-31:
only ogre.log contain some info.
Comment by paolob on 2020-01-31:
Sorry I dont know how to attach the file........
Comment by Jose Luis Rivero on 2020-02-03:
edit the answer and include the relevant error lines please
Comment by paolob on 2020-02-05:
I dont see any error ...these are few lines:
4:50:24:  *   CPU ID: GenuineIntel: Intel(R) Pentium(R) M processor 2.00GHz
14:50:24:  *      SSE: yes
14:50:24:  *     SSE2: yes
14:50:24:  *     SSE3: no
14:50:24:  *      MMX: yes
14:50:24:  *   MMXEXT: yes
14:50:24:  *    3DNOW: no
14:50:24:  * 3DNOWEXT: no
14:50:24:  *     CMOV: yes
14:50:24:  *      TSC: yes
14:50:24:  *      FPU: yes
14:50:24:  *      PRO: no
14:50:24:  *       HT: no
14:50:24: -------------------------
14:50:24: *************
Comment by paolob on 2020-02-05:
it stop after:
14:50:24: GL_VERSION = 2.1 Mesa 19.0.2
14:50:24: GL_VENDOR = nouveau
14:50:24: GL_RENDERER = NV42
14:50:24: GL_EXTENSIONS = GL_ARB_multisample GL_EXT_abgr GL_EXT_bgra GL_EXT_blend_color GL_EXT_blend_minmax GL_EXT_blend_subtract GL_EXT_copy_texture GL_EXT_subtexture GL_EXT_texture_object GL_EXT_vertex_array GL_EXT_compiled_vertex_array GL_EXT_texture GL_EXT_texture3D GL_IBM_rasterpos_clip GL_ARB_point_parameters GL_EXT_draw_range_elements GL_EXT_packed_pixels GL_EXT_point_parameter
Comment by Jose Luis Rivero on 2020-02-05:
GL_VENDOR = nouveau <- this could be the problem. If running glxinfo  | grep "server glx vendor"  returns Nouveau that your graphic card driver is not the Nvidia official vendor but the open source Nouveau. Please check internet about how to install the proprietary nvidia driver and check the run again.

A:

SOLVED!!!
After several trial, i succeed to install a nvidia driver....
Now the screen has a lower resolution, but gazebo start and show the Gui screen....
I hope that i can continue without additional problems.......
Thanks!!!

Originally posted by paolob with karma: 16 on 2020-02-13
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by paolob on 2020-03-13:
Unfortunately this did not solve my problems.....
I noticed a lower resolution but what is worse is that display do not use GPU acceleration, this is because my graphic cards is no more supported on Ubuntu 19.04. So or I use the Ubuntu driver "nouveau" or I have to get back to Ubuntu 16.04 or older.
There is any way the nouveau driver can be used?
I need to use gazebo with Ardupilot SITL and I am afraid it could not be compatible with previous Ubuntu versions.


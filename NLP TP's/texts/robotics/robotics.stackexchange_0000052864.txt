Q:

Strange distortion in rectified image (stereo_image_proc)

Hi all, I'm new here (and new to ROS), so let me know if I'm doing anything wrong.
Our underwater submarine team is having some difficulty getting stereo_image_proc to produce any stereo information. When I run stereo_view, I get an error saying that there are not enough synched triplets (in fact I can see that there are 0 disparity images), and even when I run with a huge queue_size and approximate_sync=True, I see no left image, no right image, and no disparity image. I can image_view the left and right image separately, but stereo_view doesn't like them, I just get grey boxes.
That same sync error says to rostopic info stereo_view_[131...], and doing so reports no connection, but the documentation isn't clear on what this implies.
This led me to check my stereo/left/image_rect topic, and I was met with a strangely distorted image. I don't understand why my image is being rectified like this, but I think if I knew, I might be closer to fixing this problem.
http://imgur(dot)com/a/rE0CU here is a picture of what we're seeing from stereo/left/image_rect
Here is what I think I might be doing wrong, let me know if any of these stand out:
To begin with, our stereo cameras are two separate flea3 USB cameras mounted in water-tight enclosures about a foot apart. We have them centered at about 8 feet, although this is imperfectly done at best.
Secondly, we are transporting information over USB 2.0 because our wet-matable plugs are not rated for USB 3.
Third, the images are coming it at a pretty high resolution, and apart from compressing and republishing them, I don't think there is a way that I can reduce the resolution (pgr_camera_driver doesn't natively support low resolutions on the flea3, I guess)
I am running ROS fuerte on linux, let me know if there is any more info you need. Thanks so much, really appreciate the help.

Originally posted by Gabriel on ROS Answers with karma: 1 on 2013-07-17
Post score: 0

Original comments
Comment by jcc on 2013-07-18:
What did you do to get to that point?
You should calibrate each camera (intrinsics) first, and then do the calibration between cameras (extrisinc)
Comment by Gabriel on 2013-07-18:
@jcc, I haven't yet calibrated anything! I thought I read through the documentation pretty thoroughly, but again I'm kind of winging it here. Our team's vision person is busy at his new job, and I'm having to learn this stuff quickly. :)
I am assuming that you mean calibrate w/ camera_callibration?

A:

yes, i would start from there.
Do this tutorial and check the output of the camera.
http://www.ros.org/wiki/camera_calibration/Tutorials/MonocularCalibration
if its ok go to the stereo calibration.
Also, if i understood you are using a enclosure. It could be the culprit on the distortion

Originally posted by jcc with karma: 200 on 2013-07-22
This answer was ACCEPTED on the original site
Post score: 0


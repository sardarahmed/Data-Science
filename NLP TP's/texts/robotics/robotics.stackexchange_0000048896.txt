Q:

Saving Arm Trajectory and Replaying it

Hello
How can I save PR2 arm trajectory and then replay the same trajectory at a later time?
One way I can think of it is by writing trajectory_msg::JointTrajectory to a file and then reading the trajectory from the file whenever I need to reproduce the trajectory. But if I follow this method then I am not sure how to save "duration time_to_start" (which have many attributes) and "Header header".
Does anyone knows of any neater way for saving/replaying trajectories?
Thanks!!!

Originally posted by Ashesh on ROS Answers with karma: 16 on 2013-03-02
Post score: 0

Original comments
Comment by RosRos on 2013-03-14:
How can i write trajectory_msg::JointTrajectory to a file?

A:

Hi Ashesh
Apart from using stdio.h to write code to read a file of strings formatted like trajectory_msgs::JointTrajectory. You could try writing rostopic messages to your node. Or write your own YAML file that contains the information about your trajectory and upload it to the parameter server. Then using a node to read the parameter server and format a JointTrajectory msgs from the information and publishing it.
As for converting an integer or float to a duration type you can save your duration as a float or integer and use:
ros::Duration(24*60*60);

with the time in seconds in the brackets. And your stamp values in your header you just use:
header.stamp = ros::Time::now();

before you publish it.
hope it helps

Originally posted by PeterMilani with karma: 1493 on 2013-03-03
This answer was ACCEPTED on the original site
Post score: 1


Q:

Rosbag Record Buffer

Hi,
I am using rosbag for recording 2 kinects pointcloud (with RGB, without 2d-image) for duration around 10 minutes.
I am recording in the same machine to which the kinects are attached.
When recording, usually it happens:
rosbag record buffer exceeded. Dropping oldest queued message.
Then, I set the record buffer to like 40 Gigabyte. It helps, but still I found on one or two videos while recording, the buffer exceeded ocassionally.
I am running on Debian Squeeze machine, 4 processor @3.1 GHz. Memory: 7.8GiB.
My questions are:
What does actually the buffer do?
and is there some solutions for the recording problem?
Best,
kang

Originally posted by kang on ROS Answers with karma: 79 on 2011-10-12
Post score: 2

A:

Hi Kang,
I cannot tell you what the buffer does, but I can offer a workaround - you can just record the 2D images, and let the driver assemble the pointclouds afterwards. It cuts down on the diskspace, and makes recording much more consistent.
I had a thread about it before, and provided some launch files. The launch files were written back when the driver was called openni_camera_unstable, so if you're running electric, you will have to modify them to point to openni_launch instead.
Hope this helps.

Originally posted by Ivan Dryanovski with karma: 4954 on 2011-10-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Ivan Dryanovski on 2011-10-14:
Yes, the launch file provides the depth and rgb image topics. If you check out openni_record.launch, it calls openni_record_bag.launch, which in turn starts rosbag record. The bags are saved to ~/ros/bags (the directory has to exist or it fails)
Comment by kang on 2011-10-13:
Hi ivan,Thanks for the suggestion.As far as I understand, you suggest for recording the 2D rgb image and depth image (lie 2D image), then build the pointcloud afterwards.So, does your launch file also provide the depth image topic? And how did you record the data? is it rosbag? Btw, I on diamondback


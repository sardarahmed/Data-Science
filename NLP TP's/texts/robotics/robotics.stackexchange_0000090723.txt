Q:

Qt5 & ROS: colcon build fails with "File (source) cannot be opened: "set""": No such file or directory [C:\dev\ros2\build\ros2gui\publisher.vcxproj]"

Hey folks,
I have the strange issue, that (only sometimes!) colcon build Fails with the above stated error. This is no strerr output though, I got it from stdout_sterr.log ! (otherwise it only Fails to build with Code 1, no error message).
What is strange is, that sometimes it will build, and then without even changing the source code or anything it will succeed the next time. Does someone know what can cause this? Btw, "ros2gui" is my own package that I created…
Do I need to delete anything before building, to get a "clean" environment and update everything properly?

Originally posted by uPrizZ on ROS Answers with karma: 31 on 2019-03-02
Post score: 0

A:

Answer was to change some entries in the CMakeLists.txt. Here is what I changed:
I removed this part (which was unnecessary though I think):
set (CMAKE_CXX_STANDARD 14)
if(NOT WIN32)
 set(CMAKE_CXX_FLAGS “${CMAKE_CXX_FLAGS} -std=c++14 -Wall -Wextra -fPIC”)
endif()
IF (NOT DEFINED BUILD_VERSION)
 SET(BUILD_VERSION “not set”)
ENDIF()
ADD_DEFINITIONS(-DBUILD_VERSION=”${BUILD_VERSION}”)

And added the .ui files to my source list (which I think is what solved the problem). So if you have a Qt5 project with GUI make sure to also add the ui files!
set(PUBLISHER_SOURCE
    src_publisher/main.cpp
    src_publisher/publishergui.cpp
    src_publisher/publishergui.ui      # added this line
    src_publisher/Talker.cpp
)

Originally posted by uPrizZ with karma: 31 on 2019-03-14
This answer was ACCEPTED on the original site
Post score: 0


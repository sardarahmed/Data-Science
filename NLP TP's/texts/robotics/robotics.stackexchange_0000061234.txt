Q:

Parameters for the new range_sensor_layer

Hi,
Can someone please give an example of how to set the costmap parameters for the range_sensor_layer, recently added in Hydro ? (as of now, I am using IR sensors converted into a single cloud, but facing problems as the obstacles are not clearing up)
Thanks!

Originally posted by adreno on ROS Answers with karma: 253 on 2014-07-28
Post score: 0

A:

An example configuration. Assuming you have, let's say, 3 sonars publishing sensor_msgs/Range messages on /mobile_base/sensors/sonars/sonar1, /mobile_base/sensors/sonars/sonar2 and /mobile_base/sensors/sonars/sonar3:
costmap_common_params.yaml
robot_radius: 0.18

inflation_layer:
...
obstacle_layer:
...

range_sensor_layer:
  clear_threshold:    0.46
  mark_threshold:     0.98
  no_readings_timeout: 2.0
  ns:     /mobile_base/sensors/sonars
  topics: ["sonar1", "sonar2", "sonar3"]

and in local_costmap_params.yaml (and global_costmap_params.yaml, if you want to use the sonars also in the global costmap):
...
plugins:
  - {name: range_sensor_layer, type: "range_sensor_layer::RangeSensorLayer"}
     .... # any other plugins you use, typically:
  - {name: obstacle_layer,     type: "costmap_2d::VoxelLayer"}
  - {name: inflation_layer,    type: "costmap_2d::InflationLayer"}
  - {name: footprint_layer,    type: "costmap_2d::FootprintLayer"}

Hope this helps.

Originally posted by jorge with karma: 2284 on 2014-07-30
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by adreno on 2014-07-31:
Thanks..it is helpful!
Comment by jorge on 2014-07-31:
Cool. Please set the question as correctly answered so it gets more informative for other people


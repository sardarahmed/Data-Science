Q:

How to save static transforms in bag files?

How do I save a static transform in a bag file so I get a self contaned bag file that can be replayed?
Not it seems like for example rviz do not understand a static transform in a bag file.

Originally posted by TommyP on ROS Answers with karma: 1339 on 2015-04-21
Post score: 6

Original comments
Comment by lucasw on 2016-06-02:
https://github.com/ros/ros_comm/issues/706 is a related issue- the tf_static is only recorded in the first bag when splitting bags.

A:

Finally a nice option exists a few years later :)
This is covered by this issue on Github. The corresponding PR has been merged over a year ago and Noetic is shipped with the feature. It does so by repeating the latched topics (e.g. static TFs) for each bag.
The option you are looking for while recording is --repeat-latched, so e.g.:
 rosbag record -a --repeat-latched --duration 5 --split

Cheers

Originally posted by ticotico with karma: 212 on 2022-01-17
This answer was ACCEPTED on the original site
Post score: 2


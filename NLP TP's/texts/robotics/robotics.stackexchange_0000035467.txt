Q:

How to count depth images from kinect

I'm using a Kinect with depth_viewer.  I'm able to view depth images, but  I'd like to be able to view and store a fixed number of them (say, 100).  If I put a counter in my main program, it does not increment.  If I put the same counter in the subscriber callback function to openni_camera, it does not increment (I'm guessing it gets reset on every received message).
I would think this is easy... but I'm not sure how to approach it.  Any help would be appreciated.
Thanks,
Paul

Originally posted by Paul0nc on ROS Answers with karma: 271 on 2011-11-05
Post score: 0

A:

You should use a global variable to store the number.

Originally posted by lucascoelho with karma: 497 on 2011-11-05
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by lucascoelho on 2011-11-05:
You can use more than 1 arguments. To know how to do it, please see that page: http://www.ros.org/wiki/roscpp/Overview/Publishers%20and%20Subscribers . A static variable is not deleted if your program go out of the function. So it will have the previous value if the function is called again.
Comment by Paul0nc on 2011-11-05:
Declaring the local variable in the callback function to be a 'static int' solved the problem.
Comment by Paul0nc on 2011-11-05:
The callback argument is the depth image from the kinect.  Can I add any other arguments?
Comment by lucascoelho on 2011-11-05:
That's strange because we don't need to define a global variable again inside the callback function. What arguments are your callback function using?
Comment by Paul0nc on 2011-11-05:
I tried this.  It yielded a compilation error that the variable was not defined within the scope of the callback function.


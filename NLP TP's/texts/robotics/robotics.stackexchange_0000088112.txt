Q:

How does ROS2 select the default QoS profile?

I have a ROS2 based python code, which mentions nothing about the QoS Settings. I assume that it must be taking some default profile.
How can I view this default profile ? I mean where is the source of this profile ? Is it xml based ? Can I also edit it ?

Originally posted by aks on ROS Answers with karma: 667 on 2018-07-25
Post score: 0

A:

The defaults are defined here in rmw, and are described here. The default profiles are wrapped accordingly in rclpy (example), or you can customise the QoS settings like this. Some RMW implementations support xml file configuration in which case the rmw_qos_profile_system_default profile can be used to pass through to that configuration.

Originally posted by dhood with karma: 621 on 2018-07-25
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by aks on 2018-07-25:
Thanks for the quick explanation @dhood.
One question : If nothing at all is mentioned in the code(about QoS settings), e.g. talker.py, does it always use the default QoS or does it mean that it doesnt use any QoS in this case ?
Comment by dhood on 2018-07-25:
without it being specified, pub/sub will use the profile rmw_qos_profile_default, services will use rmw_qos_profile_services_default, etc.
Comment by morten on 2021-10-22:
which doers rviz use? I am assuming rmw_qos_profile_default, I have a lidar for example where the points are invisible unless i manually change the QoS to best effort.


Q:

Should $(find package) evaluate on remote machine's environment?

I have a master launch file that includes two other launch files, one of which is contained inside a group like this:
<group>
  <machine name="machine1" address="hostname1" user="root" env-loader=/root/rosws/devel/env.sh" />
  <include file="/path/to/my/launchfile.launch" />
</group>

Inside launchfile.launch, I have another include like this:
<include file="/path/to/another/launchfile.launch">
  <arg name="myfile" value="$(find somepackage)/filepath/file.yaml" />
</include>

When I launch this system, the $(find somepackage) seems to be evaluated on the host machine, giving the wrong path for the package on the remote machine. I feel like any node launched within the group with that machine should find packages within that machine tag's specified environment. Is there a way to do that, or am I going to have to live listing the absolute path?

Originally posted by seanarm on ROS Answers with karma: 753 on 2017-12-05
Post score: 1

Original comments
Comment by jayess on 2017-12-05:
Have you tried putting the <machine> tag before your <group> tag?

A:

From @gvdhoorn:

In addition to this:
When I launch this system, the $(find somepackage) seems to be evaluated on the host machine, 
giving the wrong path for the package on the remote machine."

roslaunch always evaluates everything
on the local machine, not on the
remote one.

Originally posted by seanarm with karma: 753 on 2018-01-24
This answer was ACCEPTED on the original site
Post score: 1


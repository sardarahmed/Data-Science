Q:

gmapping Detected jump back in time of. Clearing TF buffer

Hi everyone
I am running gmapping with my own bag (in which I drive turtlebot with turtlebot_telop node, drive the robot go around the simulation environment.)
Then I start roscore, set use_sim_time true, run gmapping, play the bag file.
The gmapping works, but terminal sometimes outputs

[ WARN] [1583861539.918718206, 587.563370629]: Detected jump back in time of 0.000629371s. Clearing TF buffer.

It seems like there was a jump in the timestamp?
It is the problem with my bag file of the gamapping settings?
Thank you!
------updates-----
I set the /use_sim_time to 0.1, now it works fine without warning.

Originally posted by sinsinsinsin on ROS Answers with karma: 28 on 2020-03-10
Post score: 0

Original comments
Comment by gvdhoorn on 2020-03-10:
Are you running rosbag play with the --clock option?
Comment by sinsinsinsin on 2020-03-10:
yes I did. I guess the problem is /use_sim_true. I set it to 0.1 then warning disappeared.
Comment by gvdhoorn on 2020-03-10:
0.1 is not a legal value for use_sim_time. It's supposed to be a boolean. Not a float.
Comment by sinsinsinsin on 2020-04-02:
Yes, I understand it is a boolean. I can't remember in which slam system, I get the /use_sim_time, got a result of 0.1.  But you are right, it is a boolean.

A:

You’re fine.
What that means is that the clock is switching from real to simulated so the timestamp is jumping.
You can solve this by starting roscore, setting sim time before launching a node since the nodes won’t be up yet to experience the jumps.
You’ll see this message as well if you run a bag twice since the stamps will jump on the rerun to the beginning.
As long as things are working, don’t worry about the message.

Originally posted by stevemacenski with karma: 8272 on 2020-03-11
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by sinsinsinsin on 2020-04-02:
Hi, Thank you for answering.
Is that right if the message jumps out during playing a bag file.
If i understand is correct, The clock shouldn't frequently switching during the system running.
for example, I run roscore, set the sim time true, roslaunch SLAM, play --clock bag.
At the beginning, there will be some clock jump message. Okay, maybe the system need few seconds to adjust the clock.
But what if the message frequently shows up?
Comment by stevemacenski on 2020-04-02:
That is correct. It should not show up frequently or else you have something else also resetting the clock or not all your nodes are using the same clock.
Comment by sinsinsinsin on 2020-04-02:
Oh, sounds not good.
I just roscore, set /use_sim_time true,
roslaunch turtlebot3_slam turtlebot3_slam slam_methods:=gmapping,
rosbag play --clock mybag.
the bag was recorded by record all.
I guess this will cost a lot of time to find out.


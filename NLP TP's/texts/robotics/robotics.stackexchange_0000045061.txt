Q:

Reg: Subscribing to Depth and rgb image at the same time

Hi,
I am new in ROS. I wanted to get both the depth and rgb image of an object at the same time and use it in the callback function. if I use it as mentioned below. It works for me.
void imageCallback(const sensor_msgs::ImageConstPtr& kinect_image)
image_transport::Subscriber sub = it.subscribe("camera/rgb/image_color", 1, imageCallback);
or
image_transport::Subscriber sub = it.subscribe("camera/depth/image", 1, imageCallback);
I dont know how can I get both the rgb and depth image in the callback funtion. The below way doesn't work.
void imageCallback(const sensor_msgs::ImageConstPtr& kinect_image,const sensor_msgs::ImageConstPtr& depth_image)
image_transport::Subscriber sub = it.subscribe("camera/rgb/image_color","camera/depth/image", 1, imageCallback);
I know, may be the question sounds very naive. But, I would really be grateful if someone can guide me.

Originally posted by Subhasis on ROS Answers with karma: 31 on 2012-10-18
Post score: 0

A:

The simplest solution is to create two different image callbacks as methods of a class and store the images in member variables when they are received.
A better solution is to use a synchronizer provided by the message_filters package. Have a look at the TimeSynchronizer example.

Originally posted by Lorenz with karma: 22731 on 2012-10-19
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by aguadopd on 2016-03-08:
If anyone reads this...Do we need to sync if the images are from the same device, say a kinect?
Comment by aguadopd on 2016-05-09:
Well, we needed indeed. After synchronising, offeset became lower. ROS Indigo Node for saving color and depth images from a Kinect


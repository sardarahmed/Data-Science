Q:

How can I use rosbuild_check_for_display in catkin?

rosbuild_check_for_display in catkin
Hi,
I am trying to catkinize a robuild package. It has a testing section that needs to differ between beeing called with simulation or on a robot. Therefor the rosbuild_check_for_display function in the CMakeLists is used. It will run the simulation if a display is present.
Is there a possibilty to do this in catkin?
Thanks for your time

Originally posted by ct2034 on ROS Answers with karma: 862 on 2014-05-30
Post score: 0

A:

Catkin provides no built-in equivalent. You'll need to code it yourself using CMake commands.
Maybe something like this would work:
if (CATKIN_ENABLE_TESTING)
  find_package(rostest REQUIRED)
  if (DEFINED ENV{DISPLAY})
    add_rostest(tests/simulation.test)
  else()
    add_rostest(tests/robot.test)
  endif()
endif()

Originally posted by joq with karma: 25443 on 2014-05-30
This answer was ACCEPTED on the original site
Post score: 2


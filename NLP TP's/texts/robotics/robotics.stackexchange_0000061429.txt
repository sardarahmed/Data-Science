Q:

Android Tutlebot Teleop Source Code Structure (Hydro)

Hi guys.
i'm working on the code structure of the teleop of turtlebot (hydro).
Is there anyway possible to find out what code is being sent out when i shift the joystick up, down, left, etc?
I understand that the joystick it self is being imported from:

import
org.ros.android.view.VirtualJoystickView;

From the best of my knowledge, I can't really figure out which part of the whole source code actually has the code that I'm looking for
I would like to play around with GUI itself. Well, let's say just inserting a 4 directional buttons (up, down, left, right) to move to the turtlebot instead of the virtual joystick.
What is the code that is needed to be sent out here for each buttons?
How may i go about doing this?
Any help will be greatly appreciated. Thank you! :)

Originally posted by syaz nyp fyp on ROS Answers with karma: 167 on 2014-08-03
Post score: 2

A:

Not sure, if you are looking for this ?
You have to publish twist messages with veloctiy info after detecting touch of buttons. Here is some code extract
refer this code for futhurinfo
              import org.ros.message.geometry_msgs.Twist;
              import org.ros.node.topic.Publisher;
                
              private Publisher<org.ros.message.geometry_msgs.Twist> publisher;
              private org.ros.message.geometry_msgs.Twist currentVelocityCommand =
                      new org.ros.message.geometry_msgs.Twist();
    
              public boolean onTouchEvent(MotionEvent event) {
    
                      // other stuff
        
              case MotionEvent.ACTION_UP:        
            
                {
                        currentVelocityCommand.linear.x = linearV; // 
                        currentVelocityCommand.linear.y = 0;
                        currentVelocityCommand.linear.z = 0;
                        currentVelocityCommand.angular.x = 0;
                        currentVelocityCommand.angular.y = 0;
                        currentVelocityCommand.angular.z = -angularV; //
                    
                    publisher.publish(currentVelocityCommand);
                }
             }

Originally posted by bvbdort with karma: 3034 on 2014-08-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by syaz nyp fyp on 2014-08-04:
@bvbdort, your invaluable help eventually led me to this.. (which was what i was looking for) :
http://docs.ros.org/hydro/api/android_core/html/VirtualJoystickView_8java.html
http://docs.ros.org/hydro/api/android_core/html/VirtualJoystickView_8java_source.html
thank you so much for the help :)


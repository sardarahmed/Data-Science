Q:

intialpose is in what reference?

What frame is the initialPose generated by setPose from navigation panel. Should I not do a translation to base_link first before using it. I am guessing the odom. So I would translate base_link -> odom before publishing tf and odometry.

Originally posted by rnunziata on ROS Answers with karma: 713 on 2013-09-21
Post score: 2

A:

amcl subscribes to initialpose topic and initial pose estimates are accepted in the global frame. You can see some part of the code inside initialPoseReceived function from amcl_node.cpp
  else if(tf_->resolve(msg->header.frame_id) != tf_->resolve(global_frame_id_))
  {
    ROS_WARN("Ignoring initial pose in frame \"%s\"; initial poses must be in the global frame, \"%s\"",
             msg->header.frame_id.c_str(),
             global_frame_id_.c_str());
    return;
  }

by default amcl sets global frame id to map
for more details check out here

Originally posted by cagatay with karma: 1850 on 2013-09-21
This answer was ACCEPTED on the original site
Post score: 1


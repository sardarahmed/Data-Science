Q:

How to use dwa_local_planner in move_base?

hello, everyone, I am trying to use DWA local planner in my project. I want to use the one in dwa_local_planner, not the one in base_local_planner.  Parts of my launch file are listed below.
However, I found that the source code in dwa_planner_ros.cpp is not run, i.e. the functions like " DWAPlannerROS::dwaComputeVelocityCommands" in dwa_planner_ros.cpp is not implemented when running move_base node.
<node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
      <rosparam command="load" file="$(find simulator)/move_base_config/costmap_common_params.yaml" ns="global_costmap" />
      <rosparam command="load" file="$(find simulator)/move_base_config/costmap_common_params.yaml" ns="local_costmap"/>
      <rosparam command="load" file="$(find simulator)/move_base_config/local_costmap_params.yaml"/>
      <rosparam command="load" file="$(find simulator)/move_base_config/global_costmap_params.yaml"/>
      <!--rosparam command="load" file="$(find simulator)/move_base_config/base_local_planner_params.yaml"/-->
      <rosparam command="load" file="$(find simulator)/move_base_config/dwa_local_planner_params.yaml"/>
      
      <remap from = "map" to ="/map"/>
      <param name= "controller_frequency" value="10" type="double"/>  </node>

The content of dwa_local_planner_params.yaml is listed below:
DWAPlannerROS: 
  acc_lim_th: 3.2 
  acc_lim_x: 2.5 
  acc_lim_y: 2.5 

 
  max_vel_x: 0.65 
   min_vel_x: 0.0 
 
   max_vel_y: 0.1 
   min_vel_y: -0.1 

   max_trans_vel: 0.65 
   min_trans_vel: 0.1 
   max_rot_vel: 1.0 
   min_rot_vel: 0.4 
   sim_time: 1.7 
   sim_granularity: 0.025 
   goal_distance_bias: 32.0 
   path_distance_bias: 24.0 
   occdist_scale: 0.01 
   stop_time_buffer: 0.2 
   oscillation_reset_dist: 0.05 
   forward_point_distance: 0.325 
   scaling_speed: 0.25 
   max_scaling_factor: 0.2 
   vx_samples: 3 
   vy_samples: 10 
   vtheta_samples: 20 
   sim_period: 0.1 
   xy_goal_tolerance: 0.2 
   yaw_goal_tolerance: 0.17 
    rot_stopped_vel: 0.01 
   trans_stopped_vel: 0.01 

Could someone tell me why ? Thank you!

Originally posted by scopus on ROS Answers with karma: 279 on 2015-05-18
Post score: 0

Original comments
Comment by Naman on 2015-05-18:
Is the dwa parameter in your base_local_planner_params.yaml true?

A:

You need to set the parameter /move_base/base_local_planner  to dwa_local_planner/DWAPlannerROS
 <param name="base_local_planner" value="dwa_local_planner/DWAPlannerROS" />

Originally posted by David Lu with karma: 10932 on 2015-05-18
This answer was ACCEPTED on the original site
Post score: 6


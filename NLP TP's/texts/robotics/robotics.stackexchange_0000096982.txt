Q:

No definition of [gazebo] for OS version [melodic]

I have a Ubuntu 18.04 docker image/container with ROS melodic and Gazebo 9 installed. When I try to run from the console within the docker container,
source devel/setup.bash && \
    rosdep fix-permissions && \
    rosdep update && \
    rosdep install --from-paths src --ignore-src -r --rosdistro=${ROS_DISTRO} -y --os=ubuntu:melodic

rosdep complains with,
[some package]: No definition of [gazebo] for OS version [melodic]

for a handful of packages.
I can successfully launch gazebo and load models but for some reason the 'rosdep install' step is failing to find gazebo.
Any ideas why?

Originally posted by joehays on ROS Answers with karma: 23 on 2020-08-31
Post score: 0

A:

I have a Ubuntu 18.04 docker image/container with ROS melodic

is this the official ros:melodic or osrf/ros:melodic-desktop-full container, or something custom?
In the end it doesn't really matter, as I believe the issue is this:

rosdep install --from-paths src --ignore-src -r --rosdistro=${ROS_DISTRO} -y --os=ubuntu:melodic

melodic is not a codename for any Ubuntu release, but a ROS version, so ubuntu:melodic is not a legal value for --os.
You probably want to use ubuntu:bionic instead.
But since your container is based on 18.04 already, there wouldn't seem to be a need to explicitly spec the --os.

Originally posted by gvdhoorn with karma: 86574 on 2020-09-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joehays on 2020-09-01:
<sheepish grin>
changing --os=ubuntu:melodic to --os=ubuntu:bionic seemed to do it.
Thanks for catching that!
BTW: this is a custom container.


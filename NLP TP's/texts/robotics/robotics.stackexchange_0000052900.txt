Q:

Weird make eclipse-project after Groovy update

Hi,
today I updated ROS from Fuerte to Groovy and now I want to generate an Eclipse project from one of my packages in my rosbuild workspace. Running make eclipse-project after a "rosmake" results in this error:
<user>@precise:~/rosbuild_ws/ROS-LfD-LAT/fake_or$ make eclipse-project 
mv Makefile Makefile.ros
if ! (cmake -G"Eclipse CDT4 - Unix Makefiles" -Wno-dev . && rm Makefile && rm CMakeCache.txt && rm -rf CMakeFiles); then mv Makefile.ros Makefile && echo "**ERROR building Eclipse project!**" && false; fi
-- The C compiler identification is GNU
-- The CXX compiler identification is GNU
-- Could not determine Eclipse version, assuming at least 3.6 (Helios). Adjust CMAKE_ECLIPSE_VERSION if this is wrong.
-- Check for working C compiler: /usr/bin/gcc
-- Check for working C compiler: /usr/bin/gcc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Check for working CXX compiler: /usr/bin/c++
-- Check for working CXX compiler: /usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Found PythonInterp: /usr/bin/python (found version "2.7.3")
[rosbuild] Building package fake_or
[rosbuild] Cached build flags older than manifests; calling rospack to get flags
-- Using CATKIN_DEVEL_PREFIX: /home/benny/rosbuild_ws/ROS-LfD-LAT/fake_or/devel
-- Using CMAKE_PREFIX_PATH: /home/<user>/catkin_ws/devel;/opt/ros/groovy
-- This workspace overlays: /home/<user>/catkin_ws/devel;/opt/ros/groovy
-- Looking for include files CMAKE_HAVE_PTHREAD_H
-- Looking for include files CMAKE_HAVE_PTHREAD_H - found
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE 
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using CATKIN_TEST_RESULTS_DIR: /home/<user>/rosbuild_ws/ROS-LfD-LAT/fake_or/test_results
-- catkin 0.5.65
[rosbuild] Including /opt/ros/groovy/share/roscpp/rosbuild/roscpp.cmake
[rosbuild] Including /opt/ros/groovy/share/rospy/rosbuild/rospy.cmake
-- Configuring done
-- Generating done
-- Build files have been written to: /home/<user>/rosbuild_ws/ROS-LfD-LAT/fake_or
mv Makefile.ros Makefile
mv .project .project-cmake
awk -f /opt/ros/groovy/share/mk/eclipse.awk .project-cmake > .project
rm .project-cmake
python /opt/ros/groovy/share/mk/make_pydev_project.py
Creating pydev project for package 'fake_or'
Traceback (most recent call last):
  File "/opt/ros/groovy/share/mk/make_pydev_project.py", line 39, in <module>
    import roslib; roslib.load_manifest(PKG)
  File "/opt/ros/groovy/lib/python2.7/dist-packages/roslib/launcher.py", line 62, in load_manifest
    sys.path = _generate_python_path(package_name, _rospack) + sys.path
  File "/opt/ros/groovy/lib/python2.7/dist-packages/roslib/launcher.py", line 93, in _generate_python_path
    m = rospack.get_manifest(pkg)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 136, in get_manifest
    return self._load_manifest(name)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 175, in _load_manifest
    retval = self._manifests[name] = parse_manifest_file(self.get_path(name), self._manifest_name)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 167, in get_path
    raise ResourceNotFound(name, ros_paths=self._ros_paths)
rospkg.common.ResourceNotFound: fake_or
ROS path [0]=/opt/ros/groovy/share/ros
ROS path [1]=/home/<user>/rosbuild_ws/ROS-LfD-LAT
ROS path [2]=/home/<user>/rosbuild_ws/ar_kinect
ROS path [3]=/home/<user>/rosbuild_ws/ar_tools
ROS path [4]=/home/<user>/rosbuild_ws/katana_driver
ROS path [5]=/home/<user>/catkin_ws/src
ROS path [6]=/opt/ros/groovy/share
ROS path [7]=/opt/ros/groovy/stacks
make: *** [eclipse-project] Error 1

After running this command these directories and files occurred in the package: catkin catkin_generated CATKIN_IGNORE gtest devel test_results. I did not define any tests in this package.
The Eclipse project file is generated but not the pydev one.
I tried the method from this answer

http:// answers.ros.org/question/49143/problems-with-rqt-groovy-ubuntu/?answer=49153#post-id-49153

but there was no ros* stuff in this directory. Nevertheless, I reinstalled these things using apt-get.
Makefile:
include $(shell rospack find mk)/cmake.mk

Has someone an idea what's wrong?
Thanks

Originally posted by BennyRe on ROS Answers with karma: 2949 on 2013-07-18
Post score: 1

A:

The files and directories you mention are generated by the build system (rosbuild) in packages which have not been migrated to catkin yet. For packages under version control I add those to my svn:ignore (or similar).
As for the make eclipse-project error: see rospkg/issues/39 and ros/issues/20. In summary: older versions of the eclipse-project target generated some files in the package root -- CATKIN_IGNORE to be precise -- which caused rospack to subsequently ignore those directories. The updates to catkin and ros/mk (see answer by Dirk Thomas on 'rosmake does not find my package') should fix this.
In the meantime just removing the generated CATKIN_IGNORE file should at least allow you to build the package again.

Originally posted by gvdhoorn with karma: 86574 on 2013-07-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by BennyRe on 2013-07-19:
Thank you. These issues describe exactly what I observed. Sorry I did not find these issues by myself. I though I made somewhere a mistake.
Comment by BennyRe on 2013-07-22:
Everything is fine now. After installing these updates CATKIN_IGNORE does not occur anymore.


Q:

How to check xacro syntax like check_urdf?

Hello!
I would like to do a command line syntax check of an Xacro robot model similar to the one used for non-xacro files which is:
$ rosrun urdf check_urdf model.urdf
I know I can generate a temporary URDF file from my Xacro file using:
$ rosrun xacro xacro.py model.urdf.xacro > tmp.urdf
and then run 'rosrun urdf check_urdf' on that file.  But for some reason I can't figure out how to simply pipe the two commands together into one command.  Can it be done?
Thanks!
patrick

Originally posted by Pi Robot on ROS Answers with karma: 4046 on 2011-02-25
Post score: 5

A:

Unfortunately, this is not possible at the moment. It would be nice if one could do something like:
xacro model.urdf.xacro | check_urdf -

... and have check_urdf read stdin instead of a file, but tinyxml (which is used internally by check_urdf) expects a filename, and nothing can be done about that without changing the code of tinyxml (which would be quite easy). Of course you could just write your two lines into one, but that would be cheating, wouldn't it? :-)
xacro model.urdf.xacro > tmp.urdf && check_urdf tmp.urdf && rm tmp.urdf

Update 07/2018: Since people still seem to be reading this question 7 years later, here's a nicer way to do it in one line:
check_urdf <(xacro model.urdf.xacro)

Originally posted by Martin Günther with karma: 11816 on 2011-02-26
This answer was ACCEPTED on the original site
Post score: 18

Original comments
Comment by Pi Robot on 2011-02-27:
Thanks Martin.  It's at least good to know that I wasn't just forgetting how to do pipes correctly!  I submitted a feature request ticket on ros.org to enable piping or to create a separate check_xacro node https://code.ros.org/trac/ros-pkg/ticket/4829
Comment by circusmonkey on 2018-07-09:
Newbie here: I modified your command a little to suit later versions of ROS: xacro --inorder model.urdf.xacro > tmp.urdf && check_urdf tmp.urdf
Comment by Martin Günther on 2018-07-10:
Thanks @circusmonkey, I've updated my answer!
Comment by Oscar Lima on 2021-03-01:
A 2020 update would be nice ; ) . --inorder became default since Melodic, it can be dropped
Comment by Martin Günther on 2021-03-04:
Ok, I've dropped --inorder.


Q:

Hooks to install files outside of /opt/ros in Debian packages?

We have a driver package that requires adding udev rules to ensure the system device files have proper permissions. Rather than having some manual step(s) documented, I'd like to have the ROS package just install the required file.
Are there any hooks that are available to have the ROS build farm add install rules for files outside of the /opt/ros hierarchy? Specifically I'd like to install a file in /etc/udev/rules.d/
I've notice that packages put docs in /usr/share/doc/ros--/changelog.Debian.gz, but I don't see what rule added the change log to this location.
Also, is there any support for maintainer scripts? Future drivers may require building loadable kernel modules and I was hoping to use the postinst maintainer script to run DKMS to build the required modules if the kernel is not already patched.

Originally posted by mdhorn on ROS Answers with karma: 67 on 2016-07-20
Post score: 1

Original comments
Comment by Humpelstilzchen on 2016-07-22:
Maybe check the Debian packages (from Debian repos).they don't use /opt at all. E.g package python-gencpp contains /etc/ros/genmsg/gencpp.
Comment by mdhorn on 2016-07-22:
I could manually create rules to accomplish my goal, but I wondering if there are hooks available so that I can have a package built in the ROS build farm implement this.

A:

In general it's a bad idea to do this, because then packages from two different ROS distributions will be installing conflicting files. For example, if you release your package for both Indigo and Jade, then the binary deb's for your packages on those distributions will not be installable at the same time, which defeats the whole point of having things installed to /opt/ros/<distro>.
You can use a debian hook if you want. If there is a debian folder in a package, then bloom will leave the files there and only add the rules, control, etc files. See:

https://github.com/ros-infrastructure/bloom/commit/1ac0f59fa5c0f163f2a36d1f3df5a8adc6701a8a
https://github.com/ros-infrastructure/bloom/issues/146

For example, the pointgrey camera driver package installs udev rules:

https://github.com/ros-drivers/pointgrey_camera_driver/tree/master/pointgrey_camera_driver/debian

Originally posted by William with karma: 17335 on 2016-07-22
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by mdhorn on 2016-07-25:
This exactly what I need to know. Thank you.


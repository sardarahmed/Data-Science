Q:

Close Rqt Plugin from a button

Hello everyone
I want to know how I can close my rqt plugin when I push a button on it.
I tried with exit(0) but it close the plugin like if it was an error in a thread (My plugin doesn't use threads) and the last thing I tried was widget.close() but this one close the widget but rqt main window continues running.
I will appreciate any help.Thanks

Originally posted by Kuro9206 on ROS Answers with karma: 48 on 2017-02-24
Post score: 0

A:

You might want to try calling the method shutdown_plugin on the plugin instance.

Originally posted by Dirk Thomas with karma: 16276 on 2017-02-24
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Kuro9206 on 2017-02-24:
Hello Dirk Thomas
I connect the button with shutdown_plugin() but it doesn't work. Freeze the plugin and seconds later the terminal show the following [FATAL] [1487975743.765361534]: ASSERTION FAILED
file = /opt/ros/indigo/include/ros/publisher.h
line = 102
cond = false
message = [FATAL] [..]..
Comment by Dirk Thomas on 2017-02-24:
Since the error message is truncated I can't say much but it looks a lot like that your plugin is actually trying to close but does something wrong during that. Maybe it doesn't close all handles correctly?
Comment by Kuro9206 on 2017-02-27:
Hello  Dirk Thomas, I remove the subscribers in the shutdown function and it works.
Thank you for your help
Comment by Dirk Thomas on 2017-02-27:
Great, please mark the answer as "correct" so that others can easily find the question / answer.


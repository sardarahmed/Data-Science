Q:

Multiple subscribed topics in one callback

Hi, I'm new to ROS and PCL as well so please excuse my trivial question.
I need to process a PointCloud topic and CameraInfo topic (project the cloud using the camera info). What is the best way to do that? I can see that I cannot have multiple topics as arguments in one callback, I found I can use the function "bind" but I am not sure if it is the right way for me...
Thanks in advance,
jp

Originally posted by jpo on ROS Answers with karma: 57 on 2014-03-04
Post score: 4

A:

In general, if you want to synchronize the input from two topics and process them in the same callback, you can use the message_filters time synchronizer API.
If you're looking specifically to receive a camera_info message and use the data in it for processing a camera image, it may be better to subscribe to the two topics separately and just save the most recent CameraInfo for use when processing images. This relaxes the timing requirements pretty significantly and means you don't have to run a complex synchronization filter.
You may also find the documentation on the CameraInfo message useful.
For typical uses you should be able to extract XYZ from a structured RGB Point cloud without resorting to CameraInfo.

Originally posted by ahendrix with karma: 47576 on 2014-03-04
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by shrini96 on 2023-05-23:
Somehow the rospy version of this API does not seem does not seem to be working. The execution never really reaches the callback function (based on the example they have shown there). I wanted it for synchronizing odometry and laser scan messages. But well, I am going to look for a different solution than trying to make this work, or else this could have been a separate question on its own.
Comment by shrini96 on 2023-06-04:
So just for anyone else having the same problem, the solution is to use message_filters.ApproximateTimeSynchronizer instead of the tutorial suggested message_filters.TimeSynchronizer. I got this idea from this SE post.


Q:

Using slam_gmapping for an extern simulator

Hi,
I have my own simulator and I would like to use slam_gmapping package. I understood that I have to publish to two topics /scan and /tf.
I understood the data sent to /scan, but /tf is a transformation, I understood how tf works with the ros tutorial but what data, transformation are expected ? a frame_id and a child_frame_id are requiered for each message. How can I decide which frame I need ? How to build the tree ?
I saw that may be a basic tree is map -> odom -> base_link but which correspond to what ?
I tried to publish to /scan and /tf but the gmapping doesn't initialize at all and answers me with a warning :
[ WARN] [1433385884.267084755, 109.725132801]: MessageFilter [target=odom]: Dropped 100.00% of messages so far. Please turn the [ros.gmapping.message_notifier] rosconsole logger to DEBUG for more information.
I tried to figure it out, but I am a little desperate now. What did I miss ?
Thank you,

Originally posted by GG31 on ROS Answers with karma: 16 on 2015-06-12
Post score: 0

A:

To answer to myself, slam_gmapping works with the clock, that means you have to publish to /clock, if not, nothing happens.
Now, /tf of /map->/odom publishes 000 and 0001 for the rotation, but when I use slam_gmapping, it publishes nan values only. I think it is related to the first frame who has nan values :
update ld=-nan ad=nan
Laser Pose= -nan -nan -nan
But I don't know why.
What is ld? Laser Pose? How can I change this values?

Originally posted by GG31 with karma: 16 on 2015-06-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dornhege on 2015-06-16:
You do not have to publish the clock! This is supposed to be the real time of the system and only published by simulation.


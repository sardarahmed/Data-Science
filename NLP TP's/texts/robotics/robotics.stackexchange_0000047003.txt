Q:

How can I get nearest occupied point from map?

Hi,
I am trying to write simple node of particle filter for Gazebo model of robot with diff drive and sonar sensors.
I use map_server node to load map. I need method (or node) to get nearest occupied point from map to defined direction. It means, I would like model of sonar sensor on map.
Is there such possibility in ROS?
Best Regards,
Alex

Originally posted by Alexandr Buyval on ROS Answers with karma: 641 on 2013-01-07
Post score: 0

A:

You will have to create your own node that subscribes to the map (OccupancyGrid) from the map_server, on topic /map. Once you have that you can find out which cells in the map are occupied.

Originally posted by HammyG with karma: 51 on 2013-02-08
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Johannes Meyer on 2013-02-08:
The hector_map_server package from the hector_slam stack contains a node, that advertises a service to retrieve the distance to the nearest obstacle, given a source frame_id and point to specify the direction. You can use it directly or take it as an example.
Comment by HammyG on 2013-02-09:
Awesome! That will come in handy for me.


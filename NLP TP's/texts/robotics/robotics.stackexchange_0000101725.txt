Q:

[ROS2_Matlab]RTPS_TRANSPORT_SHM Error

Hi there
I'm using ROStoolbox and ROS2 foxy, Ubuntu20.04LTS, Matlab 2022a.
I want to see my internal node and Matlab node in the Terminal.
So I have set the same ROS_DOMAIN_ID and RMWImplements for both nodes.
But when I type the line 'ros2 node list' to check my nodes It gives me an error.
2022-05-16 01:01:53.009 [RTPS_TRANSPORT_SHM Error] Failed init_port fastrtps_port8164: open_and_lock_file failed -> Function open_port_internal
2022-05-16 01:01:53.009 [RTPS_TRANSPORT_SHM Error] Failed init_port fastrtps_port8164: open_and_lock_file failed -> Function open_port_internal
2022-05-16 01:01:53.009 [RTPS_TRANSPORT_SHM Error] Failed init_port fastrtps_port8163: open_and_lock_file failed -> Function open_port_internal
2022-05-16 01:01:53.009 [RTPS_TRANSPORT_SHM Error] Failed init_port fastrtps_port8165: open_and_lock_file failed -> Function open_port_internal

I was expect that command 'ros2 node list' will show me an iternalROS node and the Matlab node.
How can i solve this problem?
Thank you for reading my error log and If there are someone who know about this, It will be helpful to me.

Originally posted by Robobo on ROS Answers with karma: 36 on 2022-05-15
Post score: 0

A:

I had received a message from staff of Matlab.
This issue is observed when trying to communicate MATLAB R2022a ROS Toolbox with other version of FastDDS in ROS2 Foxy terminal.
So, the first step is
ros2 daemon stop

the next,
export RMW_IMPLEMENTATION=rmw_cyclonedds_cpp

finally
ros2 node list

If you encounter an below error,
RMW implementation not installed

You need to install rmw_cyclonedds_cpp.
sudo apt-get update
sudo apt-get install -y ros-<your_ROS_version>-rmw-cyclonedds-cpp

Thank you : >

Originally posted by Robobo with karma: 36 on 2022-05-16
This answer was ACCEPTED on the original site
Post score: 0


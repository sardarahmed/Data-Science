Q:

Why Gazebo 1.3 so slow?

I have tried the Gazebo which came together with ROS Fuerte(I guess version 1.0) and I now installed Gazebo 1.3, which has a different UI and is terribly slow.
Is it expected that the newer Gazebo takes so much more resources (uses full virtual core of my i7 processor)? Rotating, zooming and panning the world is extreamly slow.

Originally posted by r0nald on Gazebo Answers with karma: 62 on 2013-01-09
Post score: 0

Original comments
Comment by hsu on 2013-01-09:
Is this a problem with the UI being sluggish or physics update?  What does the "Real Time Factor:" window near the bottom say?
Comment by r0nald on 2013-01-09:
The standard UI elements outside the world view are ok. But changing the view in the world is very slow, even when the simulation paused. "Real Time Factor" changes between 0.99 and 1.0.
I inserted the robot model from Gazebo tutorial, made it move and it isn't moving smoothly.
Comment by hsu on 2013-01-09:
sounds like your gui might be using software acceleration.  Can you post the outputs of glxinfo?  and if one of the lines says:  "client glx vendor string: Mesa Project and SGI", then it's not doing hardware acceleration.
Comment by r0nald on 2013-01-09:
Output of the flxinfo : http://nopaste.info/34e477319d.html
Yes, it does say "client glx vendor string: Mesa Project and SGI"
Comment by hsu on 2013-01-09:
that means you're not using your gpu's hardware acceleration, mesa software acceleration is expected to be cpu intensive and slow (I've seen upwards of 6 cores on my i7).  To take advantage of your gpu, make sure you have the right driver installed.

A:

Gazebo client GUI performance suffers with software rendering when glx supported GPU hardware & driver is absent.  To fix this, enable hardware acceleration by finding and installing a working GPU driver.

Originally posted by hsu with karma: 1873 on 2013-01-11
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by r0nald on 2013-01-12:
There seems to be a common bug in Ubuntu which affects the Intel graphics of my Thinkpad X220 ( https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bug/999493 ).
Is there a way to turn off some 3D rendering features of Gazebo to trade detailed graphics for better performance?
Comment by r0nald on 2013-01-12:
I don't know exactly what package needed to be updated, but I got the performance improved now.
The string "client glx vendor string: Mesa Project and SGI" is still there, but what changed was :
"OpenGL vendor string: Tungsten Graphics, Inc" to "OpenGL vendor string: Intel Open Source Technolog
Comment by hsu on 2013-01-12:
try and see if you can tell what package installed your system's working libGL.so
Comment by r0nald on 2013-01-13:
lrwxrwxrwx 1 root root 13 Jan 10 19:21 /usr/lib/i386-linux-gnu/libGL.so -> mesa/libGL.so
Comment by r0nald on 2013-01-14:
Although the Gazebo UI became more usable, heightmap textures are still black, similarly to the bug described here:
https://bitbucket.org/osrf/gazebo/issue/70/drc-terrain-is-completely-black-on-intel
If I zoom very far from the terrain, then it becomes visible.


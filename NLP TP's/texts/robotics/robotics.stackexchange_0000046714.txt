Q:

ROS Answers SE migration: Broken tf tree

Hi, I encountered a problem while adding a continuous joint between 2 links, the base_scan_link and the trial_camera_link. The tf transformation between the 2 links works when the joint type is "fixed", but when I changed it to "continuous" or "revolute", the tf transformation broke down (see the /trial_camera_link -> /trial_optical_frame).

However, when I check my urdf using the command line tool "check_urdf", it shows that the links are joined.
chengxiang@ubuntu:~$ rosrun urdf check_urdf /tmp/erratic.urdfrobot name is: 
erratic
---------- Successfully Parsed XML ---------------
root Link: base_footprint has 1 child(ren)
    child(1):  base_link
        child(1):  base_caster_support_link
            child(1):  caster_wheel_link
        child(2):  base_link_left_wheel_link
        child(3):  base_link_right_wheel_link
        child(4):  computer_link
        child(5):  laser_base_link
            child(1):  base_scan_link
                child(1):  trial_camera_link
                    child(1):  trial_optical_frame

This is the joint tag, did I miss something?
<joint name="camera_joint" type="continuous">
      <origin xyz="0 0 0" rpy="0 0 0" />
      <axis xyz="0 1 0"/>
      <parent link="base_scan_link" />
      <child link="trial_camera_link"/>
  
      </joint>

Can anyone point out what is my mistake? Thank you.
Updates:
This is the msg I get after running rostopic echo on /joint_states
header: 
  seq: 1685
  stamp: 
  secs: 16
nsecs: 881000000
  frame_id: ''
name: ['base_caster_support_joint', 'caster_wheel_joint',  
'base_link_left_wheel_joint', 'base_link_right_wheel_joint']
position: [-0.014502582708889378, -0.6869539514585625, -0.00398788157537755, 
-0.007454428248815148]
velocity: [0.051682059495132174, -0.009866431261450204, 0.0022585278517509577, 
-0.004541821383680124]
effort: [0.0, 0.0, 0.0, 0.0]

Originally posted by ChengXiang on ROS Answers with karma: 201 on 2012-12-20
Post score: 2

A:

I suspect that you might not have any senders that supply /joint_states for this link. For a joint that is not fixed to have some valid transformation, someone needs to supply the current angle of that joint.

Originally posted by dornhege with karma: 31395 on 2012-12-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ChengXiang on 2012-12-20:
Hi. The gazebo is sending out the /joint_states msg. But it seems that the joint I defined is not included in the name.


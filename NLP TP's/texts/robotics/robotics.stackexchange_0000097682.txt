Q:

Confused about python versions

I am incorporating a package (py_trees for behavior trees) in my ROS program. Unfortunately,  py_trees does not support python2. I am using ROS melodic on Ubuntu 18.04 from what I can tell, ROS python source file often require python2.
My question is: How do I set ROS up to allow me to call a Pythion 3 only package?
Thanks!

Originally posted by pitosalas on ROS Answers with karma: 628 on 2020-11-25
Post score: 0

Original comments
Comment by stevemacenski on 2020-11-25:
This doesn't seem to be a "ROS" question as much as a python2 and python3 compatibility question. You might find better resources under that premise.
Comment by pitosalas on 2020-11-25:
@stevemacenski - I didn't explain it well the first time; can you take a look again?

A:

Officially, Melodic does not support Python 3. So the official answer would be: you can't.
There are ways to build just enough of Melodic with Python 3 to do this though, and an alternative could be using something like catkin_virtualenv, which does support Python 3.
However, I'm confused: py_trees_ros supports ROS Melodic (it has even been released there). Could you not use that?

Originally posted by gvdhoorn with karma: 86574 on 2020-11-26
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pitosalas on 2020-11-26:
I built my code outside of ROS with py_trees. Never looked closely at py_trees_ros but it looks like its a slightly different API. Anyway your answer is what I requirer - melodic doesn't support py3 directly. I will look at py_trees_ros, and I assume that will solve my problem. If you promote your comment to an answer I will check it off.
Comment by pitosalas on 2020-11-26:
What about this: https://medium.com/@beta_b0t/how-to-setup-ros-with-python-3-44a69ca36674 instructions for writing nodes in py3 on melodic?
Comment by gvdhoorn on 2020-11-26:
As I wrote, it's all possible. Just depends on how complicated you want to make things for yourself.
Comment by gvdhoorn on 2020-11-27:
If you absolutely don't want to use py_trees_ros I would actually recommend to look a catkin_virtualenv instead of building Melodic with Python 3. catkin_virtualenv supports Python 3 "natively".


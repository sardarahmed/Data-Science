Q:

How to add external libraries to ROS cpp file?

Hello,
Could someone explain the proper way how to link external libraries to ros cpp node in the cmake. For example I want to use libserial in my node to control the driver. Fro that I have installed the lib by using this commands:
sudo apt install libserial-dev
And now I have to link that lib in the cmake
Thanks in advance!

Originally posted by Yehor on ROS Answers with karma: 166 on 2020-01-15
Post score: 0

Original comments
Comment by Solrac3589 on 2020-01-15:
Maybe it's outdated but you could try this https://answers.ros.org/question/127866/how-to-utilize-libserial-with-ros-ubuntu-1204-hydro/

A:

I want to answer my own question, to clarify which way I found and what is the proper as I consider.
Basically, you have to add folder with header files and the library itself. You can do it with find_package, or manually.
The header files you have to include in "include_libraries" like I did:
include_directories(
${catkin_INCLUDE_DIRS}
  ${Qt5Core_INCLUDE_DIRS}
${Qt5WebSockets_INCLUDE_DIRS}
/usr/include
)
And the library itself, you can add with "target_link_libraries", like this:
add_executable(driver src/driver_node.cpp)
target_link_libraries(driver ${catkin_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT} /usr/lib/aarch64-linux-gnu/libserial.so)

Originally posted by Yehor with karma: 166 on 2020-02-12
This answer was ACCEPTED on the original site
Post score: 0


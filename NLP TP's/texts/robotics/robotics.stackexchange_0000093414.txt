Q:

how to organize my project ROS package

dear all,
i am sorry in advance for my question, but really i got confused with ROS nodes, so what i have currently is an acquisition Xmega256 board, it reads different data, ultrasonic data, GPS, and IMU with compass, then this board must send a frame with that data in known rate but the frame is raw sensor data and it needs some processing in ROS and some type of fusion
Does i need to create ROS node for each sensor data?
Can i create a ROS node to receive the full frame from xmega board? if yes please an example in C++
thank you

Originally posted by MjdKassem on ROS Answers with karma: 13 on 2019-09-26
Post score: 0

A:

You probably will need to communicate with this board with a serial port, so I guess it will be better to use only one node. You can read the serial port with only one process, and it will allow you to do the "fusion" more easily. If you need to publish that raw data to ROS, some of this information have messages implemented:

Ultrasonic data: http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Range.html
GPS: http://docs.ros.org/api/geographic_msgs/html/msg/GeoPoint.html
IMU: http://docs.ros.org/melodic/api/sensor_msgs/html/msg/Imu.html

Originally posted by lucascoelho with karma: 497 on 2019-09-26
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by MjdKassem on 2019-09-27:
so you mean that i need serial node first that receive the frame and extract each sensor data, then this node should send the data to corresponding  processing node, i mean (GPS node, IMU node and ultrasonic node ..) isn't it?
Comment by lucascoelho on 2019-09-27:
Well, I think that one node that gets the serial data, organizes the data and publishes it separately in topics, then other subsequent nodes to process the topics information would be a good design.
Comment by MjdKassem on 2019-09-28:
good, that means, from serial node i can publish a different messages with different types and each corresponding node will recognize the topic with the same data type
Comment by lucascoelho on 2019-10-01:
Yes, that should work


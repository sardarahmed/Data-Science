Q:

Gazebo Real Time Factor going down

Hi, I have a problem with the use of Gazebo
I'm running an autonomous car simulator into gazebo and another node that I made for ground removal of the lidar sensor
When I run this node the real time factor of gazebo is dropping down to 0.3 from 1. I understand that this could be because of the load on the CPU but the fact is that none of the CPU cores is on full load and the global cpu utilization is around 20%, I can run other more heavy processes without bringing it down.
Is there a way to keep this up or force the real time factor to 1?
Thank you

Originally posted by manderino on ROS Answers with karma: 11 on 2020-05-19
Post score: 1

A:

Hi @manderino,
The main problem is not (almost) Gazebo but the bottleneck generated by the pointclouds generation. I am sure you are using a ray plugin instead of a gpu_ray. The ray plugin is forcing Gazebo to generate the pointclouds with the CPU and that is a very slow tasks.
Change the Gazebo plugin to use a gpu_ray and you will maintaint the real time factor near 1.
The velodyne_simulator package contains an implementation of a gpu_ray lidar plugin.

Originally posted by Weasfas with karma: 1695 on 2020-06-09
This answer was ACCEPTED on the original site
Post score: 0


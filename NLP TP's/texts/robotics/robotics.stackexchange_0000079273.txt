Q:

sensor_msg:Imu format specification

Hi,
I was confused by what data should go into the sensor_msg::Imu message.  It has a field called linear_acceleration. The existing users and provider assume that it takes acceleration containing the gravity vector, and thus it doesn't actually correspond to a linear movement. I found this terminology surprising, expecting to find a gravity-subtracted acceleration.  I also noticed that it doesn't appear to be documented whether orientation corresponds to a rotation from the body to some fixed frame or the opposite, and similar considerations for the other fields.  A long discussion of the coordinate frame conventions can be found here https://groups.google.com/forum/#!topic/ros-sig-drivers/Fb4cxdRqjlU
My question is: is there any specification of the expected contents?
Cheers
ps I ran into this when trying the ROS driver for my employer's LPMS IMUs which can be found here https://github.com/larics/lpms_imu I made a blog post on my experience using it here: https://www.lp-research.com/ros-and-lp-research-imus-simple/

Originally posted by tobi_s on ROS Answers with karma: 3 on 2017-03-01
Post score: 0

Original comments
Comment by gvdhoorn on 2017-03-01:
This appears to be a duplicate of #q255865. Could you please decide which one you'd like to keep and close / delete the other one?
Comment by tobi_s on 2017-03-01:
Thanks.  After writing the first attempt, I was led through the login / account creation process. When I finished this my post appeared to have vanished with not mention of moderation. Not knowing about this, I wrote it anew. Sorry about the extra work for you.
Comment by gvdhoorn on 2017-03-01:
No problem. I just couldn't decide which one was more 'correct', so I thought I'd leave the choice to you.

A:

I think the current best / accepted practices are summarised in ros-infrastructure/rep#95, which is a PR that would add a REP (145 tentatively) entitled: Conventions for IMU Sensor Drivers.
I don't know what it's current status is though, you could perhaps post a comment on the PR.

Originally posted by gvdhoorn with karma: 86574 on 2017-03-01
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by tobi_s on 2017-03-02:
Thanks, that is very useful! I added a comment, hoping that this would accelerate the path towards becoming official.
Comment by gvdhoorn on 2017-03-03:
I've seen your comment. You might want to point back to your ROS Answers post, and provide a bit more context / background. I think input from a mfg of IMUs would be very welcome.
Comment by tobi_s on 2017-03-05:
Thanks for the encouragement. I think what is described in REP-145 is perfectly reasonable. I'm not familiar enough with ROS to decide whether it's a good idea to post imu messages with potentially different frames (ENU vs NED) in the same topic.
Comment by tobi_s on 2017-03-05:
The frame of the orientation quaternion will drift over time. W/out magnetometer, this will happen because of the lack of reference about the vertical axis, w/ magnetometer movement relative to nearby ferromagnets or electrical motors will affect the field, so the constant world frame is fictitious.
Comment by gvdhoorn on 2017-03-06:
I'm not an expert, but I think in ROS we like to delegate those kind of things to other entities within your ROS node graph (ie: robot_localization fi).
Comment by tobi_s on 2017-03-06:
Seeing this again: just to be clear, my previous two comments refer to two different issues, but the lack of space in the comments made me not write clearly enough.
Thanks for the pointer to robot_localization, will have a look.


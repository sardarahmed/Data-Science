Q:

synchronize between publisher and subscriber

I am working on test program which subscribes to one topic published by main program. There is only single message on this topic published by main program. Now it might happen that my subscriber is not alive when publisher is publishing a message and it will get lost. One way to avoid it is put while inside main program till numsubcribers are not zero. but I cannot put while inside my main program. How do i achieve it?

Originally posted by debonair on ROS Answers with karma: 17 on 2018-08-29
Post score: 0

A:

You could latch the topic in publisher. For latched topics, last message published is sent to any new subscriber. You create topic as below:
ros::Publisher chatter_pub = n.advertise<std_msgs::String>("topic_name", 1, true);

Third parameter defines if topic should be latched. You can find more info in documentation.

Originally posted by luk.mitka with karma: 26 on 2018-08-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2018-08-30:
This is a good suggestion, but note that technically this is not the same as only publishing when you're sure that there is a subscriber.


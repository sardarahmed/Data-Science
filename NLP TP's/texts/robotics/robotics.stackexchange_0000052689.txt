Q:

How to depend on pr2_controllers_msgs

I want to write a program to directly control the controllers on pr2 (in gazebo) following the tutorial in pr2_controllers.
But it depends on pr2_controllers_msgs, which seems to be a rosbuild package.
Therefore when I catkin_make, I got:
CMake Error at /opt/ros/groovy/share/catkin/cmake/catkinConfig.cmake:72 (find_package):
  Could not find a configuration file for package pr2_controllers_msgs.

  Set pr2_controllers_msgs_DIR to the directory containing a CMake
  configuration file for pr2_controllers_msgs.  The file will have one of the
  following names:

    pr2_controllers_msgsConfig.cmake
    pr2_controllers_msgs-config.cmake

Why is that the pre-build package in Grovvy is in the form of rosbuild, not catkin? Is there any way to depend on this package and use the msg defined inside?
My purpose is to control the head and the gripper. I wonder if there is a better way to control these parts?

Originally posted by Albert K on ROS Answers with karma: 301 on 2013-07-11
Post score: 1

Original comments
Comment by joq on 2013-07-11:
That rosbuild package looks out of date to me. While it could easily be converted to catkin, I suspect there is something newer that replaces it. Unfortunately, I don't know what. Have you looked at MoveIt?
Comment by Albert K on 2013-07-11:
I've tried MoveIt, but I would like to learn about motion planning from scratch. Thanks to fergs, I'll try control_msgs.

A:

You cannot depend on rosbuild packages from Catkin. Instead of using pr2_controller_msgs try using control_msgs, the new pr2-agnostic replacement. I'm pretty certain the PR2 was updated to work with control_msgs/FollowJointTrajectory in Groovy, not sure about the other control_msgs, so depending on which tutorial you are trying to do, control_msgs might work for you.

Originally posted by fergs with karma: 13902 on 2013-07-11
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Albert K on 2013-07-11:
OK! I'll try this.
Comment by Albert K on 2013-07-13:
I just tried the PointHead to move the head, but it failed. It failed when cleint.waitForServer(). Look like that it can never connect to the server. If I comment out the waitForServer line, and call client.sendGoal directly, the client.waitForResult return true but the head won't move.
Comment by Albert K on 2013-07-13:
Here is my code : http://notepad.cc/xunaisna58 I just modified the code that worked on Fuerte and changed the pr2_controller_msgs to control_msgs.
Comment by mathpati.nikhil on 2015-12-01:
Hi Albert, We are trying the same thing to replace pr2_controllers_msgs by control_msgs. But we are facing the same issue as mentioned in this post. We tried to look at your modified code, but we are not able to locate/download your file.  Kindly share it again or mail at nikhil.mm@tataelxsi.co.in


Q:

Configuration of the Navigation Stack on a Robot-Topic missing

Hello everyone,
I am trying to follow the Configuration of the Navigation Stack on a Robot and at the end I didn't have what I am suppose to have.
http://wiki.ros.org/navigation/Tutorials/Using%20rviz%20with%20the%20Navigation%20Stack#Setting_Up_rviz_for_the_Navigation_Stack
When I try to configure my RViz for some feature I do not have the right topic, their are missing, I mean their are not selectable in the list of topic.
it concern :
Robot Footprint
Obstacles
Inflated Obstacles
Unknown Space
Global Plan
Local Plan
Planner Plan
Using rostopic list I find that /move_base/local_costmap/footprint is publish but I ca not select it in the topic list for Robot Footprint.
It is a part of an assignment whose is the description :
Navigate the map using rviz and path planning algorithms
 Copy the FirstnameLastnameSlamSim.rviz to FirstnameLastnamePlanSim.rviz (for example, by using linux's "cp" command or ROS's roscp command)
    Create a FirstnameLastnamePlanSim.launch file to:
        Set global parameter "use_sim_time" to "true"
        Run stageros node with worlds/test.world configuration file from the tut_ibx0020 package (simulation) and the following topic remappings for stageros topics:
            Robot odometry should be published to "/odometry"
            Ideal odometry should be published to "/ground_truth"
            Laser should be published to "/laser"
        Run rviz node from rviz package and load FirstnameLastnameSlamSim.rviz display profile.
        Run map_server node from the map_server package with proper parameters to load previously created FirstnameLastnameSim.pgm and FirstnameLastnameSim.yaml files as a map
        Run amcl node from the amcl package to localize your robot using the map with proper parameters and topic remappings, if needed.
    Run move_base node from the move_base package to Navigate your robot by sending commands to stageros using localization from amcl and map from map_server.
        Set proper parameters and topic remappings, if needed. Create and load parameter files (see the RobotSetup for the Navigation stack for details). Robots' base frame id is "base_link", while laser's frame id is "base_laser_link". You global frame id should be "map", not "odom".
            costmap_common_params.yaml
-Set proper topic name for laser, and put correct frame_id to laser_scan_sensor's sensor_frame.
-Set "footprint" (four points outlining shape of the robot - cube with a size of 0.5) or "robot_radius" (square can also be approximated by a circle).
            local_costmap_params.yaml
            global_costmap_params.yaml
            base_local_planner_params.yaml
                Keep in mind, that the robot in simulation is differential-drive robot

And this is my launch file :
<launch>
    <param name="use_sim_time" value="true"  type="boolean"/>
    <node name="stageros" pkg="stage_ros" type="stageros"
    args=" --dataPath  $(find tut_ibx0020)/worlds/  --configfile $(find tut_ibx0020)/worlds/test.world " >
    <remap from="odom" to="odometry" />
    <remap from="base_pose_ground_truth" to="ground_truth" />
    <remap from="base_scan" to="laser" />
   </node>
 <node name="slam" pkg="gmapping" type="slam_gmapping" args="scan:=/laser">
   <param name="xmin" value="0" />
   <param name="xmax" value="30.0" />
   <param name="ymin" value="0" />
   <param name="ymax" value="30.0" />
   <param name="delta" value="0.05" />
 </node>
<node name="rviz" pkg="rviz" type="rviz" args=" --display-config $(find ibx0020_control)/QuentinMOUTYPlanSim.rviz" />  
  <!-- Run the map server -->
  <node name="map_server" pkg="map_server" type="map_server" args="$(find ibx0020_control)/QuentinMOUTYSim.yaml"/>
  <!--- Run AMCL -->
 <node name="amcl_node" pkg="amcl" type="amcl" args="scan:=laser"/>
  <node pkg="move_base" type="move_base" respawn="false" name="move_base" output="screen">
    <rosparam file="$(find ibx0020_control)/costmap_common_params.yaml" command="load" ns="global_costmap" />
    <rosparam file="$(find ibx0020_control)/costmap_common_params.yaml" command="load" ns="local_costmap" />
    <rosparam file="$(find ibx0020_control)/local_costmap_params.yaml" command="load" />
    <rosparam file="$(find ibx0020_control)/global_costmap_params.yaml" command="load" />
    <rosparam file="$(find ibx0020_control)/base_local_planner_params.yaml" command="load" />
  </node>
</launch>

If someone as an idea it will be really great full :)
EDIT :
Ok I didn't know I will edit this one now.
The thing is I can not subscribe to any topic for obstacle ,the different grid and I do not know why. The topic available are same that I post before.
rosnode list :

user@IBX0020-2014:~$ rosnode list
/amcl_node
/map_server
/move_base
/rosout
/rviz
/slam
/stageros

rostopic list:

user@IBX0020-2014:~$ rostopic list
/amcl_node/parameter_descriptions
/amcl_node/parameter_updates
/amcl_pose
/camera_info
/clicked_point
/clock
/cmd_vel
/depth
/ground_truth
/image
/initialpose
/laser
/map
/map_metadata
/map_updates
/move_base/NavfnROS/plan
/move_base/current_goal
/move_base/global_costmap/costmap
/move_base/global_costmap/costmap_updates
/move_base/global_costmap/footprint
/move_base/global_costmap/inflation_layer/parameter_descriptions
/move_base/global_costmap/inflation_layer/parameter_updates
/move_base/global_costmap/obstacle_layer/parameter_descriptions
/move_base/global_costmap/obstacle_layer/parameter_updates
/move_base/global_costmap/obstacle_layer_footprint/footprint_stamped
/move_base/global_costmap/obstacle_layer_footprint/parameter_descriptions
/move_base/global_costmap/obstacle_layer_footprint/parameter_updates
/move_base/global_costmap/parameter_descriptions
/move_base/global_costmap/parameter_updates
/move_base/global_costmap/static_layer/parameter_descriptions
/move_base/global_costmap/static_layer/parameter_updates
/move_base/goal
/move_base/local_costmap/costmap
/move_base/local_costmap/costmap_updates
/move_base/local_costmap/footprint
/move_base/local_costmap/inflation_layer/parameter_descriptions
/move_base/local_costmap/inflation_layer/parameter_updates
/move_base/local_costmap/obstacle_layer/parameter_descriptions
/move_base/local_costmap/obstacle_layer/parameter_updates
/move_base/local_costmap/obstacle_layer_footprint/footprint_stamped
/move_base/local_costmap/obstacle_layer_footprint/parameter_descriptions
/move_base/local_costmap/obstacle_layer_footprint/parameter_updates
/move_base/local_costmap/parameter_descriptions
/move_base/local_costmap/parameter_updates
/move_base/local_costmap/static_layer/parameter_descriptions
/move_base/local_costmap/static_layer/parameter_updates
/move_base_simple/goal
/odom
/odometry
/particlecloud
/rosout
/rosout_agg
/slam/entropy
/tf
/tf_static

EDIT: Ok I understand that the topic name changed but the thing is that before all the topic came from local costmap.
local_costmap/obstacles
local_costmap/inflated_obstacles
local_costmap/unknown_space
So I don't know what they have become ?
Moreover when I try to add something in RViz by topic I don't have any Grid type.
EDIT:
Ok finally I find the problem, the turorial I should follow was really unclear so I used the wrong thing for RViz , grid wasn't needed and the topic for some feature have a new name.
Thank you for your help.

Originally posted by azfboom on ROS Answers with karma: 3 on 2015-11-08
Post score: 0

Original comments
Comment by Akif on 2015-11-08:
It can help if you can post output of rostopic list and rosnode list
Comment by Akif on 2015-11-12:
For your second edit in self answer, can you write topic names you subscribe for obstacles in rviz. Also it is a better practice to edit your original question for additional informations.
Comment by Akif on 2015-11-12:
@azfboom, I updated my answer for obstacles.

A:

Topic names are changing with new releases. The tutorial you point out has some outdated information for new releases like Indigo. For footprint you can check this answer: http://answers.ros.org/question/216152/footprint-in-rviz-issue/?answer=216216#post-id-216216
You may try adding components "by topic" in rviz if it will be easier without thinking about their types.
By the way, your assignment tells about a config file for rviz FirstnameLastnameSlamSim.rviz. If it is properly configured it should be enough just to load it in rviz.
Update:
For visualization of obstacles, we use costmaps. You can subscribe to /move_base/local_costmap/costmap which is a type of nav_msgs/OccupancyGrid . For global costmap it is /move_base/global_costmap/costmap

Originally posted by Akif with karma: 3561 on 2015-11-08
This answer was ACCEPTED on the original site
Post score: 1


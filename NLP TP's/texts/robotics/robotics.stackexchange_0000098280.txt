Q:

How to prevent the second publisher to publish on the same topic?

Hello everyone,
I am working with ROS2 in my project and I know ROS/ROS2 is capable to handle multiple publishers and subscribers on the same topic. Due to some limitations in my project, I would like to prevent the second publisher to publish on the same topic. It needs to be kind of one publisher for one topic.
Basically, is it something doable in the ROS environment? If so, is there any option or notification infrastructure that notifies the first publisher or any other node?
Thanks in advance.

Originally posted by ali ekber celik on ROS Answers with karma: 114 on 2021-02-11
Post score: 1

Original comments
Comment by mgruhler on 2021-02-12:
an observation: you tagged this question as ROS1 and ROS2, spanning multiple distros (noetic&melodic vs. foxy&eloquent). Anything specific this refers to?
Comment by skpro19 on 2021-02-12:
twist_mux package does something similar for geometry_msgs::Twist messages.

A:

No, the intent of the Publish-Subscrib-Pattern is to allow that. See also the ROS1 wiki and the ROS2 wiki for background information.
Note that you could work around that with using the (getNumPublishers function)[http://docs.ros.org/en/noetic/api/roscpp/html/classros_1_1Subscriber.html#ac98e5ff9790e8e5cc11453948ea128ee] of subscribers (in ROS1 at least) to check if this is actually fine. Even though that would then not allow you to do a rostopic pub for testing purposes...
You need to make sure manually, that this requirement is met.

Originally posted by mgruhler with karma: 12390 on 2021-02-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ali ekber celik on 2021-02-12:
Thanks for your answer. I will take look at rclcpp API more and probably the method you told will help me somehow.
Comment by ali ekber celik on 2021-02-15:
By the way, the corresponding method of getNumPublishers() in ROS2 is count_publishers()
Comment by variable on 2022-01-06:
does count_publishers() get the total publishers of a topic, or the number of publishers for a node?


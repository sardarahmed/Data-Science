Q:

How to extract XYZ data from .pcap file

Hello, I am a complete freshman on Linux, ROS so, don't be mad :). I have a Velodyne VLP16 and the list that I want to with this laser is:

Acquire raw data (.pcap)
Visualize it using 3D viewer
Extract XYZ and Intensity data from acquired raw data

What I accomplished so far is only No.2 using commands below (I downloaded .pcap file from velodyne website):
$ roslaunch velodyne_pointcloud VPL16_points.launch pcap:=/home/soowon/Documents/County_Fair.pcap

$ rosrun velodyne_pointcloud cloud_node _calibration:=/home/soowon/catkin_ws/src/velodyne-master/velodyne_pointcloud/params/VLP16db.yaml

$ rosrun rviz rviz -f velodyne

$ Add -> By topic -> /velodyne_points -> PointCloud2

By commands above, I was able to see pointcloud using RViz. Now here's my questions:

I followed tutorial (http://wiki.ros.org/velodyne/Tutorials/Getting%20Started%20with%20the%20HDL-32E) to establish connection using command below,
$ sudo ifconfig eth0 192.168.3.100
$ sudo route add 192.168.XX.YY eth0

however, according to wireshark, connection wasn't established at all.

Now I can see (gladly) the pointcloud, I really want to extract X,Y, and Z coordinates with intensity from .pcap file. I found some great sources to start (https://github.com/PointCloudLibrary/pcl), but I am not sure whether I can pull this off by myself :(

Any advice would be superb!! Thank you :)

Originally posted by Soowon on ROS Answers with karma: 23 on 2016-02-23
Post score: 1

Original comments
Comment by joq on 2016-02-24:
The VPL16_points.launch script will run the cloud nodelet for you, so the rosrun velodyne_pointcloud cloud_node is unnecessary.
Comment by joq on 2016-02-24:
Since you seem to be able to view the point cloud, I am uncertain what your exact question is. Are you asking about how to do the connection? Or, are you wondering how to write a ROS node that processes the data?
Comment by siaca on 2016-10-12:
I would be really interested in the second question you mention.. how to write a ROS node that processes the data?

A:

Here is a fairly simple package that processes Velodyne data into a height map.
The source code is here: https://github.com/jack-oquin/velodyne_height_map
Despite its simplicity, it's fairly robust at detecting obstacles, although it is sometimes subject to false positives due to things like overhanging tree branches.

Originally posted by joq with karma: 25443 on 2016-10-13
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Farid on 2018-09-24:
This package is only for Indigo! :(


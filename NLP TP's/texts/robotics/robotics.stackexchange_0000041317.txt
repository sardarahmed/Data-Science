Q:

ROS Answers SE migration: Hector Slam

I am having issues compiling hector slam. I am running fuerte. How is the compatibility for it?

Here's my error:
allenh1@muri-pc7:~/ros/hector_slam/hector_geotiff$ rosdep install hector_geotiffERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
hector_geotiff: Cannot locate rosdep definition for [qt4]

So I synaptic installed a bunch of Qt4 libraries, and hector_geotiff compiles; however, I am having trouble with  hector_imu_attitude_to_tf:
allenh1@muri-pc7:~/ros/hector_slam/hector_imu_attitude_to_tf$ rosdep install hector_slam
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
hector_geotiff: Cannot locate rosdep definition for [qt4]
allenh1@muri-pc7:~/ros/hector_slam/hector_imu_attitude_to_tf$ rosmake
[ rosmake ] rosmake starting...                                                 
[ rosmake ] No package selected and the current directory is not the correct path for package 'hector_imu_attitude_to_tf'.
[ rosmake ] Packages requested are: []                                          
[ rosmake ] Logging to directory /home/allenh1/.ros/rosmake/rosmake_output-20120613-094132
[ rosmake ] Expanded args [] to:
[]                                             
[ rosmake ] ERROR: No arguments could be parsed into valid package or stack names.
allenh1@muri-pc7:~/ros/hector_slam/hector_imu_attitude_to_tf$ rosmake hector_imu_attitude_to_tf 
[ rosmake ] rosmake starting...                                                 
[ rosmake ] Packages requested are: ['hector_imu_attitude_to_tf']               
[ rosmake ] Logging to directory /home/allenh1/.ros/rosmake/rosmake_output-20120613-094138
[ rosmake ] Expanded args ['hector_imu_attitude_to_tf'] to:
['hector_imu_attitude_to_tf']
[rosmake-0] Starting >>> roslang [ make ]                                       
[rosmake-1] Starting >>> bullet [ make ]                                        
[rosmake-2] Starting >>> geometry_msgs [ make ]                                 
[rosmake-3] Starting >>> rosconsole [ make ]                                    
[rosmake-0] Finished <<< roslang ROS_NOBUILD in package roslang
 No Makefile in package roslang
[rosmake-2] Finished <<< geometry_msgs ROS_NOBUILD in package geometry_msgs
 No Makefile in package geometry_msgs
[rosmake-4] Starting >>> angles [ make ]                                        
[rosmake-0] Starting >>> roscpp [ make ]                                        
[rosmake-5] Starting >>> rospy [ make ]                                         
[rosmake-6] Starting >>> rostest [ make ]                                       
[rosmake-1] Finished <<< bullet ROS_NOBUILD in package bullet                   
[rosmake-3] Finished <<< rosconsole ROS_NOBUILD in package rosconsole
 No Makefile in package rosconsole
[rosmake-0] Finished <<< roscpp ROS_NOBUILD in package roscpp
 No Makefile in package roscpp
[rosmake-2] Starting >>> sensor_msgs [ make ]                                   
[rosmake-1] Starting >>> roswtf [ make ]                                        
[rosmake-4] Finished <<< angles ROS_NOBUILD in package angles                   
[rosmake-4] Starting >>> message_filters [ make ]                               
[rosmake-6] Finished <<< rostest ROS_NOBUILD in package rostest
 No Makefile in package rostest
[rosmake-5] Finished <<< rospy ROS_NOBUILD in package rospy
 No Makefile in package rospy
[rosmake-4] Finished <<< message_filters ROS_NOBUILD in package message_filters
 No Makefile in package message_filters
[rosmake-2] Finished <<< sensor_msgs ROS_NOBUILD in package sensor_msgs
 No Makefile in package sensor_msgs
[rosmake-1] Finished <<< roswtf ROS_NOBUILD in package roswtf
 No Makefile in package roswtf
[rosmake-2] Starting >>> tf [ make ]                                            
[rosmake-2] Finished <<< tf ROS_NOBUILD in package tf                           
[rosmake-4] Starting >>> hector_imu_attitude_to_tf [ make ]                     
[ rosmake ] Last 40 linesctor_imu_attitude_to_tf:... [ 1 Active 12/13 Complete ]
{-------------------------------------------------------------------------------
  -- Configuring done
  -- Generating done
  CMake Warning:
    Manually-specified variables were not used by the project:
  
      CMAKE_TOOLCHAIN_FILE
  
  
  -- Build files have been written to: /home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build
  cd build && make -l8
  make[1]: Entering directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[2]: Entering directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[3]: Entering directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[3]: Leaving directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  [  0%] Built target rospack_genmsg_libexe
  make[3]: Entering directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[3]: Leaving directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  [  0%] Built target rosbuild_precompile
  make[3]: Entering directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[3]: Leaving directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[3]: Entering directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  [100%] Building CXX object CMakeFiles/imu_attitude_to_tf_node.dir/src/imu_attitude_to_tf_node.o
  /home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/src/imu_attitude_to_tf_node.cpp: In function ‘void imuMsgCallback(const Imu&)’:
  /home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/src/imu_attitude_to_tf_node.cpp:45:19: error: no matching function for call to ‘btMatrix3x3::btMatrix3x3(tf::Quaternion&)’
  /home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/src/imu_attitude_to_tf_node.cpp:45:19: note: candidates are:
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:61:20: note: btMatrix3x3::btMatrix3x3(const btMatrix3x3&)
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:61:20: note:   no known conversion for argument 1 from ‘tf::Quaternion’ to ‘const btMatrix3x3&’
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:52:2: note: btMatrix3x3::btMatrix3x3(const btScalar&, const btScalar&, const btScalar&, const btScalar&, const btScalar&, const btScalar&, const btScalar&, const btScalar&, const btScalar&)
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:52:2: note:   candidate expects 9 arguments, 1 provided
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:43:11: note: btMatrix3x3::btMatrix3x3(const btQuaternion&)
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:43:11: note:   no known conversion for argument 1 from ‘tf::Quaternion’ to ‘const btQuaternion&’
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:38:2: note: btMatrix3x3::btMatrix3x3()
  /opt/ros/fuerte/stacks/bullet/include/LinearMath/btMatrix3x3.h:38:2: note:   candidate expects 0 arguments, 1 provided
  make[3]: *** [CMakeFiles/imu_attitude_to_tf_node.dir/src/imu_attitude_to_tf_node.o] Error 1
  make[3]: Leaving directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[2]: *** [CMakeFiles/imu_attitude_to_tf_node.dir/all] Error 2
  make[2]: Leaving directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
  make[1]: *** [all] Error 2
  make[1]: Leaving directory `/home/allenh1/ros/fuerte/hector_slam/hector_imu_attitude_to_tf/build'
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package hector_imu_attitude_to_tf written to:
[ rosmake ]    /home/allenh1/.ros/rosmake/rosmake_output-20120613-094138/hector_imu_attitude_to_tf/build_output.log
[rosmake-4] Finished <<< hector_imu_attitude_to_tf [FAIL] [ 2.36 seconds ]      
[ rosmake ] Halting due to failure in package hector_imu_attitude_to_tf. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:                                                            
[ rosmake ] Built 13 packages with 1 failures.                                  
[ rosmake ] Summary output to directory                                         
[ rosmake ] /home/allenh1/.ros/rosmake/rosmake_output-20120613-094138 

Originally posted by allenh1 on ROS Answers with karma: 3055 on 2012-06-12
Post score: 2

A:

The fuerte branch:
https://tu-darmstadt-ros-pkg.googlecode.com/svn/branches/fuerte
should work. Due to other commitments, we haven't been able to do the transition (and release packages) officially yet.
/edit: "rosmake hector_slam" should work without compile errors using fuerte now.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2012-06-12
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by allenh1 on 2012-06-13:
Won't compile hector_imu_attitude_to_tf
Comment by Stefan Kohlbrecher on 2012-06-13:
Fixed now, please update.


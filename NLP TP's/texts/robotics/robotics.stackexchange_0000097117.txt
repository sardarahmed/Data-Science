Q:

unable to build ur_robot_driver

A previous commit of the ur_driver was working fine for me, but after pulling the latest changes I am now unable to catkin_make my workspace. Can anyone advise how to proceed? The last commit i tested is quite old ( a926789adc0cefc616beb0fda15793cdcd65831b )
 shu@shu-laptop:~$ cd catkin_ws/
shu@shu-laptop:~/catkin_ws$ catkin_make
Base path: /home/shu/catkin_ws
Source space: /home/shu/catkin_ws/src
Build space: /home/shu/catkin_ws/build
Devel space: /home/shu/catkin_ws/devel
Install space: /home/shu/catkin_ws/install
WARNING: Package name "Socket" does not follow the naming conventions. It should start with a lower case letter and only contain lower case letters, digits, underscores, and dashes.
####
#### Running command: "make cmake_check_build_system" in "/home/shu/catkin_ws/build"
####
####
#### Running command: "make -j8 -l8" in "/home/shu/catkin_ws/build"
####
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_RobotMode
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeActionGoal
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_GetRobotMode
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_GetProgramState
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeActionResult
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_ProgramState
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_RawRequest
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeResult
[  0%] Built target actionlib_msgs_generate_messages_eus
[  0%] Built target std_msgs_generate_messages_eus
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_Load
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeAction
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SafetyMode
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_GetSafetyMode
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_Popup
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_IsProgramRunning
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_GetLoadedProgram
[  0%] Built target actionlib_msgs_generate_messages_nodejs
[  0%] Built target std_msgs_generate_messages_nodejs
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_AddToLog
[  0%] Built target actionlib_msgs_generate_messages_py
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeActionFeedback
[  0%] Built target std_msgs_generate_messages_py
[  0%] Built target std_msgs_generate_messages_cpp
[  0%] Built target actionlib_msgs_generate_messages_cpp
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeGoal
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_IsProgramSaved
[  0%] Built target _ur_dashboard_msgs_generate_messages_check_deps_SetModeFeedback
[  0%] Built target actionlib_msgs_generate_messages_lisp
[  0%] Built target std_msgs_generate_messages_lisp
[  0%] Built target _ur_msgs_generate_messages_check_deps_Digital
[  0%] Built target _ur_msgs_generate_messages_check_deps_MasterboardDataMsg
[  0%] Built target _ur_msgs_generate_messages_check_deps_ToolDataMsg
[  0%] Built target _ur_msgs_generate_messages_check_deps_IOStates
[  0%] Built target _ur_msgs_generate_messages_check_deps_SetIO
[  0%] Built target _ur_msgs_generate_messages_check_deps_SetSpeedSliderFraction
[  0%] Built target _ur_msgs_generate_messages_check_deps_RobotStateRTMsg
[  0%] Built target _ur_msgs_generate_messages_check_deps_RobotModeDataMsg
[  0%] Built target controller_manager_msgs_generate_messages_cpp
[  0%] Built target roscpp_generate_messages_lisp
[  0%] Built target Socket_node
[  0%] Built target roscpp_generate_messages_nodejs
[  0%] Built target roscpp_generate_messages_eus
[  0%] Built target roscpp_generate_messages_cpp
[  0%] Built target rosgraph_msgs_generate_messages_nodejs
[  0%] Built target rosgraph_msgs_generate_messages_eus
[  0%] Built target _ur_msgs_generate_messages_check_deps_SetPayload
[  0%] Built target roscpp_generate_messages_py
[  0%] Built target rosgraph_msgs_generate_messages_cpp
[  0%] Built target _ur_msgs_generate_messages_check_deps_Analog
[  0%] Built target rosgraph_msgs_generate_messages_lisp
[  0%] Built target rosgraph_msgs_generate_messages_py
[  0%] Built target controller_manager_msgs_generate_messages_eus
[  0%] Built target controller_manager_msgs_generate_messages_py
[  0%] Built target controller_manager_msgs_generate_messages_nodejs
[  0%] Built target controller_manager_msgs_generate_messages_lisp
[  0%] Built target ur_driver_gencfg
[  0%] Built target contour_vision_node
[  0%] Built target _catkin_empty_exported_target
[  0%] Built target geometry_msgs_generate_messages_nodejs
[  0%] Built target gazebo_disable_link_plugin
[  0%] Built target _exercise_2_2_generate_messages_check_deps_Age
[  1%] Built target ur_hardware_interface
[  2%] Built target gazebo_mimic_joint_plugin
[  2%] Built target geometry_msgs_generate_messages_eus
[  2%] Built target actionlib_generate_messages_cpp
[  2%] Built target sensor_msgs_generate_messages_cpp
[  2%] Built target tf_generate_messages_nodejs
[  2%] Built target tf_generate_messages_eus
[  2%] Built target geometry_msgs_generate_messages_lisp
[  2%] Built target actionlib_generate_messages_nodejs
[  2%] Built target tf_generate_messages_py
[  2%] Built target tf2_msgs_generate_messages_nodejs
[  2%] Built target geometry_msgs_generate_messages_py
[  2%] Built target tf_generate_messages_lisp
[  2%] Built target sensor_msgs_generate_messages_eus
[  2%] Built target actionlib_generate_messages_lisp
[  2%] Built target actionlib_generate_messages_eus
[  2%] Built target tf_generate_messages_cpp
[  2%] Built target tf2_msgs_generate_messages_cpp
[  2%] Built target geometry_msgs_generate_messages_cpp
[  2%] Built target sensor_msgs_generate_messages_lisp
[  2%] Built target tf2_msgs_generate_messages_lisp
[  2%] Built target sensor_msgs_generate_messages_nodejs
[  2%] Built target sensor_msgs_generate_messages_py
[  2%] Built target actionlib_generate_messages_py
[  2%] Built target tf2_msgs_generate_messages_py
[  2%] Built target control_msgs_generate_messages_py
[  2%] Built target tf2_msgs_generate_messages_eus
[  2%] Built target control_msgs_generate_messages_eus
[  2%] Built target control_msgs_generate_messages_nodejs
[  2%] Built target control_msgs_generate_messages_cpp
[  2%] Built target std_srvs_generate_messages_cpp
[  2%] Built target trajectory_msgs_generate_messages_nodejs
[  2%] Built target std_srvs_generate_messages_nodejs
[  2%] Built target std_srvs_generate_messages_py
[  2%] Built target control_msgs_generate_messages_lisp
[  2%] Built target trajectory_msgs_generate_messages_eus
[  2%] Built target std_srvs_generate_messages_lisp
[  2%] Built target std_srvs_generate_messages_eus
[  2%] Built target trajectory_msgs_generate_messages_lisp
[  2%] Built target trajectory_msgs_generate_messages_cpp
[  2%] Built target trajectory_msgs_generate_messages_py
[  2%] Built target industrial_msgs_generate_messages_nodejs
[  2%] Built target industrial_msgs_generate_messages_eus
[  2%] Built target industrial_msgs_generate_messages_lisp
[  2%] Built target industrial_msgs_generate_messages_cpp
[  2%] Built target industrial_msgs_generate_messages_py
[  3%] Built target ur5_kin
[  3%] Built target ur10_kin
[  3%] Built target ur5_exp_support_xacro_generated_to_devel_space_
[  3%] Built target control_toolbox_generate_messages_lisp
[  4%] Built target ur3_kin
[  4%] Built target control_toolbox_gencfg
[  4%] Built target dynamic_reconfigure_generate_messages_eus
[  4%] Built target control_toolbox_generate_messages_cpp
[  4%] Built target control_toolbox_generate_messages_nodejs
[  4%] Built target dynamic_reconfigure_generate_messages_nodejs
[  4%] Built target control_toolbox_generate_messages_py
[  4%] Built target dynamic_reconfigure_generate_messages_lisp
[  4%] Built target dynamic_reconfigure_generate_messages_cpp
[  4%] Built target dynamic_reconfigure_generate_messages_py
[  4%] Built target control_toolbox_generate_messages_eus
[  4%] Built target dynamic_reconfigure_gencfg
[  4%] Built target moveit_ros_manipulation_gencfg
[  4%] Built target moveit_ros_planning_gencfg
[  4%] Built target octomap_msgs_generate_messages_nodejs
[  4%] Built target octomap_msgs_generate_messages_lisp
[  4%] Built target shape_msgs_generate_messages_eus
[  4%] Built target moveit_msgs_generate_messages_py
[  4%] Built target octomap_msgs_generate_messages_eus
[  4%] Built target shape_msgs_generate_messages_lisp
[  4%] Built target visualization_msgs_generate_messages_nodejs
[  4%] Built target visualization_msgs_generate_messages_eus
[  4%] Built target visualization_msgs_generate_messages_cpp
[  4%] Built target visualization_msgs_generate_messages_py
[  4%] Built target shape_msgs_generate_messages_py
[  4%] Built target moveit_msgs_generate_messages_nodejs
[  4%] Built target shape_msgs_generate_messages_cpp
[  4%] Built target shape_msgs_generate_messages_nodejs
[  4%] Built target moveit_msgs_generate_messages_cpp
[  4%] Built target object_recognition_msgs_generate_messages_py
[  4%] Built target visualization_msgs_generate_messages_lisp
[  4%] Built target moveit_msgs_generate_messages_eus
[  4%] Built target object_recognition_msgs_generate_messages_cpp
[  4%] Built target octomap_msgs_generate_messages_py
[  4%] Built target object_recognition_msgs_generate_messages_eus
[  4%] Built target moveit_msgs_generate_messages_lisp
[  4%] Built target object_recognition_msgs_generate_messages_lisp
[  4%] Built target object_recognition_msgs_generate_messages_nodejs
[  4%] Built target graph_msgs_generate_messages_lisp
[  4%] Built target octomap_msgs_generate_messages_cpp
[  4%] Built target graph_msgs_generate_messages_nodejs
[  4%] Built target graph_msgs_generate_messages_cpp
[  4%] Built target graph_msgs_generate_messages_py
[ 12%] Built target ur_dashboard_msgs_generate_messages_eus
[ 12%] Built target graph_msgs_generate_messages_eus
[ 19%] Built target ur_dashboard_msgs_generate_messages_cpp
[ 27%] Built target ur_dashboard_msgs_generate_messages_py
[ 35%] Built target ur_dashboard_msgs_generate_messages_nodejs
[ 43%] Built target ur_dashboard_msgs_generate_messages_lisp
[ 47%] Built target ur_msgs_generate_messages_py
[ 51%] Built target ur_msgs_generate_messages_lisp
[ 54%] Built target ur_msgs_generate_messages_nodejs
[ 57%] Built target ur_msgs_generate_messages_cpp
[ 62%] Built target ur_msgs_generate_messages_eus
[ 62%] Built target exercise_2_2_generate_messages_eus
[ 63%] Built target exercise_2_2_generate_messages_py
[ 64%] Built target controller_stopper_node
[ 64%] Built target _towel_pick_place_generate_messages_check_deps_RequestFrank
[ 65%] Built target exercise_2_2_generate_messages_cpp
[ 67%] Built target exercise_2_2_generate_messages_lisp
[ 67%] Built target exercise_2_2_generate_messages_nodejs
[ 67%] Built target ur_dashboard_msgs_generate_messages
[ 67%] Built target ur_msgs_generate_messages
[ 68%] Built target ur5_moveit_plugin
[ 69%] Built target ur10_moveit_plugin
[ 70%] Built target ur_controllers
[ 70%] Built target towel_pick_place_generate_messages_nodejs
[ 70%] Built target ur3_moveit_plugin
[ 71%] Built target towel_pick_place_generate_messages_py
[ 72%] Built target towel_pick_place_generate_messages_lisp
[ 72%] Built target towel_pick_place_generate_messages_eus
[ 73%] Built target towel_pick_place_generate_messages_cpp
[ 73%] Built target exercise_2_2_generate_messages
[ 80%] Built target ur_driver
[ 80%] Built target towel_pick_place_generate_messages
[ 89%] Built target ur_robot_driver
[ 92%] Built target robot_state_helper
[ 92%] Built target dashboard_client
[ 92%] Building CXX object Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/src/ros/hardware_interface.cpp.o
[ 93%] Building CXX object Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_node.dir/src/ros/hardware_interface.cpp.o
In file included from /opt/ros/kinetic/include/hardware_interface/robot_hw.h:35:0,
                 from /home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/include/ur_robot_driver/ros/hardware_interface.h:30,
                 from /home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:28:
/opt/ros/kinetic/include/hardware_interface/internal/interface_manager.h:69:85: warning: type qualifiers ignored on function return type [-Wignored-qualifiers]
   static const void callConcatManagers(typename std::vector<T*>& managers, T* result)
                                                                                     ^
In file included from /opt/ros/kinetic/include/hardware_interface/robot_hw.h:35:0,
                 from /home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/include/ur_robot_driver/ros/hardware_interface.h:30,
                 from /home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:28:
/opt/ros/kinetic/include/hardware_interface/internal/interface_manager.h:69:85: warning: type qualifiers ignored on function return type [-Wignored-qualifiers]
   static const void callConcatManagers(typename std::vector<T*>& managers, T* result)
                                                                                     ^
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp: In lambda function:
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:394:63: error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’
             << " set_payload(" << req.payload << ", [" << req.center_of_gravity.x << ", " << req.center_of_gravity.y
                                                               ^
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:394:98: error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’
             << " set_payload(" << req.payload << ", [" << req.center_of_gravity.x << ", " << req.center_of_gravity.y
                                                                                                  ^
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:395:28: error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’
             << ", " << req.center_of_gravity.z << "])" << std::endl
                            ^
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp: In lambda function:
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:394:63: error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’
             << " set_payload(" << req.payload << ", [" << req.center_of_gravity.x << ", " << req.center_of_gravity.y
                                                               ^
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:394:98: error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’
             << " set_payload(" << req.payload << ", [" << req.center_of_gravity.x << ", " << req.center_of_gravity.y
                                                                                                  ^
/home/shu/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/ros/hardware_interface.cpp:395:28: error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’
             << ", " << req.center_of_gravity.z << "])" << std::endl
                            ^
Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/build.make:86: recipe for target 'Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/src/ros/hardware_interface.cpp.o' failed
make[2]: *** [Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/src/ros/hardware_interface.cpp.o] Error 1
CMakeFiles/Makefile2:10716: recipe for target 'Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/all' failed
make[1]: *** [Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/all] Error 2
make[1]: *** Waiting for unfinished jobs....
Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_node.dir/build.make:86: recipe for target 'Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_node.dir/src/ros/hardware_interface.cpp.o' failed
make[2]: *** [Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_node.dir/src/ros/hardware_interface.cpp.o] Error 1
CMakeFiles/Makefile2:10906: recipe for target 'Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_node.dir/all' failed
make[1]: *** [Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_node.dir/all] Error 2
Makefile:138: recipe for target 'all' failed
make: *** [all] Error 2
Invoking "make -j8 -l8" failed

Originally posted by shu on ROS Answers with karma: 64 on 2020-09-16
Post score: 1

A:

error: ‘ur_msgs::SetPayload::Request {aka struct ur_msgs::SetPayloadRequest_<std::allocator<void> >}’ has no member named ‘center_of_gravity’

It is likely you are using an old version of a dependency (in this case: ur_msgs).
See UniversalRobots/Universal_Robots_ROS_Driver#235.
Note btw: development focuses on Bionic+Melodic and newer.
Xenial+Kinetic are not necessarily actively tested, so there is a chance this will stop working.

Originally posted by gvdhoorn with karma: 86574 on 2020-09-16
This answer was ACCEPTED on the original site
Post score: 1


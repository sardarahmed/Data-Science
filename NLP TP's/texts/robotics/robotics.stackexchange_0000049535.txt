Q:

rosmake fails on selfmade package

For some reason, rosmake fails whenever i try to make any packages that i created with roscreate-pkg with the same error:
desktop:~/ros/learning_actionlib$ rosmake learning_actionlib 
[ rosmake ] rosmake starting...                                                  
[ rosmake ] Packages requested are: ['learning_actionlib']                       
[ rosmake ] Logging to directory /home/xhab/.ros/rosmake/rosmake_output-20130319-140107
[ rosmake ] Expanded args ['learning_actionlib'] to:
['learning_actionlib']      
[rosmake-0] Starting >>> actionlib [ make ]                                      
[rosmake-1] Starting >>> roscpp [ make ]                                         
[rosmake-2] Starting >>> rospy [ make ]                                          
[rosmake-3] Starting >>> roslib [ make ]                                         
[rosmake-4] Starting >>> std_msgs [ make ]                                       
[rosmake-5] Starting >>> actionlib_msgs [ make ]                                 
[rosmake-2] Finished <<< rospy  No Makefile in package rospy                     
[rosmake-1] Finished <<< roscpp  No Makefile in package roscpp                   
[rosmake-0] Finished <<< actionlib  No Makefile in package actionlib             
[rosmake-3] Finished <<< roslib  No Makefile in package roslib                   
[rosmake-4] Finished <<< std_msgs  No Makefile in package std_msgs               
[rosmake-5] Finished <<< actionlib_msgs  No Makefile in package actionlib_msgs   
[rosmake-5] Starting >>> learning_actionlib [ make ]                             
[ rosmake ] All 32 linesearning_actionlib: 9.7 sec ]    [ 1 Active 6/7 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=/opt/ros/groovy/share/ros/core/rosbuild/rostoolchain.cmake  ..
  -- Action Files:Fibonacci.action
  -- Generating Messages for ActionFibonacci.action
  -- Using CATKIN_DEVEL_PREFIX: /home/xhab/ros/learning_actionlib/build/devel
  -- Using CMAKE_PREFIX_PATH: /home/xhab/ros/clam_catkin/devel;/opt/ros/groovy
  -- This workspace overlays: /home/xhab/ros/clam_catkin/devel;/opt/ros/groovy
  -- Found gtest sources under '/usr/src/gtest': gtests will be built
  -- catkin 0.5.63
  -- /home/xhab/ros/learning_actionlib/msg/FibonacciAction.msg
  [rosbuild] Building package learning_actionlib
  [rosbuild] Cached build flags older than manifests; calling rospack to get flags
  Failed to invoke /opt/ros/groovy/bin/rospack cflags-only-I;--deps-only learning_actionlib
  ImportError: No module named rospack
  terminate called after throwing an instance of 'rospack::Exception'
    what():  could not find python module 'catkin_pkg.rospack'. is catkin_pkg up-to-date (at least 0.1.8)?
  
  
  CMake Error at /opt/ros/groovy/share/ros/core/rosbuild/public.cmake:129 (message):
    
  
    Failed to invoke rospack to get compile flags for package
    'learning_actionlib'.  Look above for errors from rospack itself.
    Aborting.  Please fix the broken dependency!
  
  Call Stack (most recent call first):
    /opt/ros/groovy/share/ros/core/rosbuild/public.cmake:227 (rosbuild_invoke_rospack)
    CMakeLists.txt:14 (rosbuild_init)
  
  
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package learning_actionlib written to:
[ rosmake ]    /home/xhab/.ros/rosmake/rosmake_output-20130319-140107/learning_actionlib/build_output.log
[rosmake-5] Finished <<< learning_actionlib [FAIL] [ 9.82 seconds ]              
[ rosmake ] Halting due to failure in package learning_actionlib. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:                                                             
[ rosmake ] Built 7 packages with 1 failures.                                    
[ rosmake ] Summary output to directory                                          
[ rosmake ] /home/xhab/.ros/rosmake/rosmake_output-20130319-140107   

Any help would be very appreciated.
Thanks

Originally posted by smishra on ROS Answers with karma: 13 on 2013-03-19
Post score: 0

A:

I think the error here is not with the learning_actionlib package, but with the core ros tool "rospack".  See this snippet from your log:
Failed to invoke /opt/ros/groovy/bin/rospack cflags-only-I;--deps-only learning_actionlib
ImportError: No module named rospack
terminate called after throwing an instance of 'rospack::Exception'
what():  could not find python module 'catkin_pkg.rospack'. is catkin_pkg up-to-date (at least 0.1.8)?

Check to see if rospack is available on your system: which rospack.  Then, check the version installed: rospack --version.  You could also check to see whether the debian package ros-groovy-rospack is installed on your system.
If all of those look correct, I have seen similar errors before when there is a conflict between older versions of the ros python tools installed using pip or easyinstall and the newer versions installed using debian packages.  See here for details on how to remove the older versions of the python tools.

Originally posted by Jeremy Zoss with karma: 4976 on 2013-03-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by smishra on 2013-03-21:
Thanks a lot, it was a problem with having an older version of th python tools, I followed the link you posted and now rosmake works fine.


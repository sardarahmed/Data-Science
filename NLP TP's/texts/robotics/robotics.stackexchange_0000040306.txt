Q:

dynamic_reconfigure headers re-generated

Hello guys,
I'm experiencing a small but irritating problem with dynamic_reconfigure.
Every single time I run make or rosmake all the reconf header files get re-generated so it causes all my nodes that use them to be re-compiled even though I did not modify any of them.
At first I thought that the problem is with the end .cfg file:
exit(gen.generate(PACKAGE, "dynamic_tutorials", "Tutorials"))

So I made sure that they are all correct but they still get regenerated every single time.
I'm running on Ubuntu 10.04 and ROS Electric.
Anyone faced this problem before?

Originally posted by Bence Magyar on ROS Answers with karma: 358 on 2012-05-08
Post score: 2

Original comments
Comment by joq on 2012-05-09:
Is this with Fuerte or Electric? What operating system?
Comment by Mac on 2012-05-09:
I've had this problem in electric. I never did get around to figuring it out, or filing a bug.
Comment by Bence Magyar on 2012-05-09:
Sorry for the trivial mistake, updated post with info.

A:

Hi,
I'm experiencing the same issue. I solved it by adding a guard to the beginning of the .cfg file, which checks whether the *Config.h file was generated after the last modification of the .cfg file. If this is the case the script is terminated without generating any files.
It looks like:
import os

me = os.path.realpath(__file__)
cpp_header = os.path.realpath(os.path.join(os.path.dirname(me), "cpp", "dynamic_tutorials", "TutorialsConfig.h"))

if os.path.exists(cpp_header) and os.path.getmtime(me) < os.path.getmtime(cpp_header):
  exit(0)

Originally posted by christiank with karma: 113 on 2012-07-02
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Bence Magyar on 2012-07-04:
Please contact the authors so they can apply this patch to the next version of dynamic_reconfigure.
http://www.ros.org/wiki/dynamic_reconfigure
Comment by christiank on 2012-07-05:
ok, corresponding ticket is here: https://kforge.ros.org/dynamicreconfig/trac/ticket/5
Comment by klapow on 2012-07-07:
Thanks for the ticket, this will be fixed in the upcoming release of dynamic_reconfigure, if you want you can get it now at https://kforge.ros.org/dynamicreconfig/hg


Q:

Autoware LGSVL fork docker build failed due to "unauthenticated packages"

The error message is as below:
E: There were unauthenticated packages and -y was used without --allow-unauthenticated
The command '/bin/sh -c apt-get update && apt-get install -y ros-kinetic-desktop-full ros-kinetic-nmea-msgs ros-kinetic-nmea-navsat-driver ros-kinetic-sound-play ros-kinetic-jsk-visualization ros-kinetic-grid-map ros-kinetic-gps-common' returned a non-zero code: 100

My environment is

Ubuntu 16/04
ROS Kinetic
Autoware lgsvl fork: https://github.com/lgsvl/Autoware.git

Originally posted by xpharry on ROS Answers with karma: 5 on 2019-06-18
Post score: 0

A:

You're likely running into #q325039.
Please follow the steps there, run sudo apt update and then try again.

Edit: seeing as this is a Docker build: the author/maintainer of lgsvl/Autoware is not basing his builds on the official OSRF docker images. He's importing the repository keys himself (here fi), which requires updates to the Dockerfiles to use the new key
Note that upstream (ie: autowarefoundation/autoware) has already changed things significantly and might not have this problem (these files).

Originally posted by gvdhoorn with karma: 86574 on 2019-06-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by xpharry on 2019-06-18:
I replaced Line 46 in Dockerfile.kinetic with
RUN apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654

It seems to be building well now. They should update it.
Thanks!
Comment by gvdhoorn on 2019-06-18:\

They should update it.

you can always submit a pull request.
If you're using the software, it may be nice to do that.
Comment by xpharry on 2019-06-18:
Will do. Thanks.


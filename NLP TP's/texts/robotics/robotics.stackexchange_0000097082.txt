Q:

How to enable Gazebo gui/system plugin when using roslaunch and urdf?

I am running the turtlebot3 in gazebo environment using  roslaunch. I want to use a custom gazebo gui plugin but on the gazebo tutorial it stated that gui plugin can't be referenced through a URDF file. Is there a way I can use the gui plugin?
Maybe I can try passing the argument -g <plugin.so> or -s <plugin.so> inside the launch file but I am not sure how to do that properly.

Originally posted by Alt0216 on ROS Answers with karma: 3 on 2020-09-13
Post score: 0

A:

@Alt0216 For this to work you will need to copy the content of the empty_world.launch file from gazebo_ros package since you will need to ajust your extra args for the gazebo client.
In the line 51, the gazebo client is launched and it is where you need to add your extra arguments, so you can:
  <group if="$(arg gui)">
    <node name="gazebo_gui" pkg="gazebo_ros" type="gzclient" respawn="false" output="$(arg output)" args="$(arg command_arg3) --verbose -g yourlib.so"
    required="$(arg gui_required)"/>
  </group>

Furthermore, take into account that you can change this to be more clean like adding and extra launch param like:
<arg name="extra_gazebo_client_args" default="--verbose -g yourlib.so"/>

<group if="$(arg gui)">
 <node name="gazebo_gui" pkg="gazebo_ros" type="gzclient" respawn="false" output="$(arg output)" args="$(arg command_arg3) $(arg extra_gazebo_client_args)" required="$(arg gui_required)"/>
</group>

But this is depending on what you want. Also remember to add properly your plugin path to GAZEBO_PLUGIN_PATH enviroment variable.
Hope this solve your problem.
Regards.

Originally posted by Weasfas with karma: 1695 on 2020-09-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Alt0216 on 2020-09-15:
adding extra args for the gazebo client on the launch file worked! This is very helpful, thanks.


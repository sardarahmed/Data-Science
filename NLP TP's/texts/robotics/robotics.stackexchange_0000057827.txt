Q:

What is the proper way to obtain the fixed-axis covariance matrix from quaternions?

REP 103 defines the standard for rotation representation as quaternions, but the covariance matrix associated to it is given in terms of fixed axis rotations. In my work, I use quaternions directly for attitude estimation and obtain covariances in terms of the quaternion parameters.
How can I convert these covariances to the convention used by ROS, so they can be published appropriately?
PS: I have searched ROS Answers and found a few discussions briefly addressing this topic, but usually referring to external documents or additional packages. I think it would be useful to have a single definitive reference for this here, so that implementations don't depend on the reader's interpretation of what is expected.

Originally posted by georgebrindeiro on ROS Answers with karma: 1264 on 2014-03-11
Post score: 3

Original comments
Comment by georgebrindeiro on 2014-04-27:
@tfoote @William, any chance you guys could help me out with this one?

A:

This answer links to a thesis that discusses how to convert the covariances.
http://answers.ros.org/question/9446/how-do-i-compute-the-covariance-matrix-for-an-orientation-sensor/

Originally posted by Chad Rockey with karma: 4541 on 2014-05-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by georgebrindeiro on 2014-05-22:
thanks, Chad. your answer was actually the second link in my post. I just wanted to make sure that this method corresponds with all the ROS conventions. as far as I'm concerned, this is the kind of info that should be part of the standards. I would go as far as including conversion functions :)


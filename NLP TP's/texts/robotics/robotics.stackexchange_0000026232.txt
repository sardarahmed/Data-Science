Q:

SDF Model falls completely apart (couldn't find parent link) after todays update (15.04. - gazebo_1.6.2-1~precise_amd64.deb)

Hi everyone!
Today I installed a Gazebo update package trough the Ubuntu update manager (see extract from the term.log below) and after that my sdf model isn't working anymore.
term.log extract
Preparing to replace gazebo 1.6.1-2~precise (using .../gazebo_1.6.2-1~precise_amd64.deb) ...
Unpacking replacement gazebo ...
Processing triggers for desktop-file-utils ...
Setting up gazebo (1.6.2-1~precise) ...
Processing triggers for libc-bin ...
ldconfig deferred processing now taking place
Log ended: 2013-04-15  12:21:46

When I start Gazebo it says that standard files like empty.world are deprecated.
Warning [parser.cc:361] Converting a deprecated SDF source[/usr/share/gazebo-1.6/worlds/empty.world].
Warning [Converter.cc:61]   Version[1.3] to Version[1.4]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [parser.cc:361] Converting a deprecated SDF source[/home/christoph/.gazebo/models/sun/model.sdf].
Set SDF value
Warning [Converter.cc:61]   Version[1.2] to Version[1.4]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [parser.cc:361] Converting a deprecated SDF source[/home/christoph/.gazebo/models/ground_plane/model.sdf].
Set SDF value
Warning [Converter.cc:61]   Version[1.2] to Version[1.4]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]

When I load my sdf file the model falls completely apart with the following messages.
Warning [parser.cc:361] Converting a deprecated SDF source[/home/christoph/.gazebo/models/scitos/model.sdf].
Warning [Converter.cc:61]   Version[1.3] to Version[1.4]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Warning [parser.cc:361] Converting a deprecated SDF source[/home/christoph/.gazebo/models/scitos_arm/model.sdf].
Warning [Converter.cc:61]   Version[1.3] to Version[1.4]
  Please use the gzsdf tool to update your SDF files.
    $ gzsdf convert [sdf_file]
Error [SDF.cc:993] Unable to find value for key[link_name]
Error [SDF.cc:993] Unable to find value for key[link_name]
Exception [Joint.cc:125] Couldn't Find Parent Link[]

Error [Model.cc:153] LoadJoint Failed
Error [SDF.cc:993] Unable to find value for key[link_name]
Error [SDF.cc:993] Unable to find value for key[link_name]
Exception [Joint.cc:125] Couldn't Find Parent Link[]

Error [Model.cc:153] LoadJoint Failed
Error [SDF.cc:993] Unable to find value for key[link_name]
Error [SDF.cc:993] Unable to find value for key[link_name]
Exception [Joint.cc:125] Couldn't Find Parent Link[]

Error [Model.cc:153] LoadJoint Failed
Error [SDF.cc:993] Unable to find value for key[link_name]
Error [SDF.cc:993] Unable to find value for key[link_name]
Exception [Joint.cc:125] Couldn't Find Parent Link[]

Since sdf 1.4 isn't live, I don't know why it wants my model in sdf 1.4 format. I then tried the gzsdf convert (with success) but the only thing that got changed were the version number and that ' were replaced by ".
But that didn't change the problem and I also manually added "link_name" to the joint parent and child tags. Starting the changed sdf file I got this error message. Because the new tags I used aren't from sdf 1.3 these error messages seem to be right. But that doesn't change my problem.
Error [parser.cc:719] XML Element[link_name], child of element[parent] not defined in SDF. Ignoring.[parent]
Error [parser.cc:710] Error reading element <parent>
Error [parser.cc:710] Error reading element <joint>
Error [parser.cc:710] Error reading element <model>
Error [parser.cc:369] Unable to read element <sdf>
Error:   Could not find the 'robot' element in the xml file
         at line 61 in /tmp/buildd/ros-fuerte-urdfdom-0.2.3-3precise-20130312-1500/urdf_parser/src/model.cpp
Error [parser_urdf.cc:1686] Unable to call parseURDF on robot model
Warning [parser.cc:377] SDF has no <sdf> element in file[urdf file]
Error [parser.cc:291] parse as old deprecated model file failed.
Error [ModelMaker.cc:123] Unable to load file[/home/christoph/.gazebo/models/scitos_sdf4/model.sdf]

Tia,
Christoph

Originally posted by Christoph on Gazebo Answers with karma: 141 on 2013-04-15
Post score: 1

A:

See http://answers.gazebosim.org/question/2387/drcsim-sdf-bug-prevents-roslaunch-from-working/
That question has link to ticket posted on bitbucket

Originally posted by dcconner with karma: 298 on 2013-04-15
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dcconner on 2013-04-15:
Your issue not drcsim specific, but I suspect they are related
Comment by Christoph on 2013-04-16:
After todays update (gazebo 1.6.3-1~precise) everything seems to work fine again. Thx guys!


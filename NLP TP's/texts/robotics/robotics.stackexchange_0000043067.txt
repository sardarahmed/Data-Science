Q:

URDF using mimic joints and conversion to OpenRAVE format

How is the current state of support for the "mimic" tag for joints in URDF files? On electric, it appears that I can set the tags, but they seem to be ignored by the joint state publisher (and gazebo, from looking at Q/A discussions from the past). Are they used by any ROS tools at all?
What I'm most interested in at the moment is converting the urdf with mimic tags to the OpenRAVE COLLADA format (to generate ikfast in the end). The mimic tags seem to get lost in the conversion process, however. There seems to be code for the conversion in collada_urdf, so is this a bug?
Example portion of the URDF file:
  <joint name="joint_j1" type="revolute">
    <parent link="connectorj01"/>
    <child link="link1"/>
    <origin xyz="0 0.0933 0.0302" rpy="${M_PI_H} 0 ${3*M_PI_H}" />
    <axis xyz="0 0 1" />        
    <limit  lower="-1.5708" upper="1.5708" effort="10.0" velocity="1.5708" />
    <dynamics damping="1.0" friction="1.0"/>            
  </joint>      

  <joint name="joint_j1m" type="revolute">
    <parent link="link1"/>
    <child link="connectorj2"/>
    <origin xyz="0.253 0.003 0" rpy="0 0 0" />
    <axis xyz="0 0 1" />
    <limit  lower="-1.5708" upper="1.5708" effort="10.0" velocity="1.5708" />
    <mimic joint="joint_j1" multiplier="-1" offset="0"/> 
    <dynamics damping="1.0" friction="1.0"/>
  </joint>
      

The OpenRAVE COLLADA model generated from this urdf does not contain any mimic tags (and manually adding them doesn't trivially work either, but that's probably more a topic for the OpenRAVE mailing list)
I'm aware of previous discussions like this or this, but those do not help with the mentioned problems.

Originally posted by Stefan Kohlbrecher on ROS Answers with karma: 24361 on 2012-08-08
Post score: 1

A:

I'm on the same project as Stefan, but I have far less experience with ROS and OpenRAVE.  From Rosen's response, I now know that the COLLADA model that was generated does in fact include the mimic tags properly, and when I run
openrave-robot.py newarmdae.dae --info joints

I get the same output that Rosen's second response displays. 5 DOF arm, one fixed joint, two mimic joints.
IKfast apparently doesn't support mimic joints. I unfortunately do not have experience generating inverse kinematics with anything besides IKfast, and I'm not sure what other methods there are to choose from. Here are the steps I am using to generate IK after I generate the COLLADA model and create the OpenRAVE scene description; would anybody tell me what I need to change or what different steps I need to follow to generate IK with the mimic tags included?
roscd openrave/bin

export PYTHONPATH=$PYTHONPATH:`./openrave-config --python-dir`

./openrave.py --database inversekinematics --robot=/home/myusername/rosext/.../urdf/newarm.xml --iktype=TranslationDirection5D

Originally posted by lauras with karma: 56 on 2012-08-10
This answer was ACCEPTED on the original site
Post score: 0


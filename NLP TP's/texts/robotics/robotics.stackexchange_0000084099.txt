Q:

ByteMultiArray publish fails if data > 10 bytes

I have next code:
data = file.read()  
arr = ByteMultiArray()  
arr.data = list(bytearray(data))  
arr.layout.dim.append(MultiArrayDimension())  
arr.layout.dim[0].label = "soundfile"  
arr.layout.dim[0].size = len(arr.data)  
arr.layout.dim[0].stride = len(arr.data)  
arr.layout.data_offset = 0  
pub.publish(arr)

When data 10 and less publish succeed
When data > 10 I have
rospy.exceptions.ROSSerializationException: field data[] exceeds specified width [byte]

Originally posted by fpgamcu on ROS Answers with karma: 21 on 2017-11-27
Post score: 2

Original comments
Comment by daydreamhippo on 2023-02-23:
Yeah! I met the same problem. Did you fixed it?

A:

At first glance the problem looks like the stride value you are giving it. The stride is the number of bytes for each element in the array in this case 1, it definitely shouldn't be the array length. Try setting the stride to 1 and see if that fixes the problem.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2017-11-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by fpgamcu on 2017-11-29:
With stride = 1 still same error.


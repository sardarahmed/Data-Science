Q:

ROS remote master: can see topics but no data

Hi there,
I have got a question about running ROS on several machines. I currently have 4 systems:
Robot: 192.168.1.1
PC1: 192.168.1.2
PC2: 192.168.1.3
PC3: 192.168.1.4
Roscore/Rosmaster is running on the Robot and on all PCs I have set "export ROS_MASTER_URI=http://192.168.1.1:11311". Further more, all PCs can ping each other and it is possible to establish ssh connections.
Here comes the strange thing I do not understand: I can enter "rostopic list" on each PC, and I can see the topics that are running in the roscore on the robot. But when I enter "rostopic echo /someTopic", it only works for PC2. On PC1 and PC3 I don't receive any data. Why can I see the topics but can't receive/send messages?
The tutorial about ROS remote says, that it is only necessary that the PCs can ping each other and that nothing else except "ROS_MASTER_URI" needs to be configured.
Does anyone know why this is happening?
regards
psei

Originally posted by psei on ROS Answers with karma: 318 on 2013-10-14
Post score: 5

A:

The actual problem here is network resolution. Seeing the topics only shows you one direction of communication. Every computer needs to be able to talk to (test e.g. by ping) each other (from/to) using whatever name this is known by to ROS. That's what the ROS_IP settings are for.

Originally posted by dornhege with karma: 31395 on 2013-10-14
This answer was ACCEPTED on the original site
Post score: 7

Original comments
Comment by tfoote on 2013-10-14:
Take a look at: http://wiki.ros.org/ROS/NetworkSetup
Comment by autonomy on 2013-10-15:
I've run into the same issue and every time it was caused by messed up /etc/hosts file and/or lack of the ROS_IP export. If one does not export ROS_IP on the publishing PC, it should be possible to list the topics but you won't be able to establish a connection. This should be the answer.
Comment by evk02 on 2014-03-15:
I'm sorry, but I had the same issue and ROS_IP was set properly, it didn't make a difference. What made a difference is the /etc/hosts file on the remote PC having the hostname and ip of the master PC.
Comment by pfontana96 on 2021-06-09:
I know this is an old post, but I'm facing kind of the same problem. I'm completely sure the machines can communicate with each other as I can subscribe to simple topics. For example running this on the robot board:
rostopic pub /robot/str std_msgs/String "Hello there"

I can retrieve the message on my PC with:
rostopic echo /robot/str

The problem arises when the topics are of type sensor_msgs/Image. I have a stereo camera that publishes a RGB image as well as a depth one. If I run rviz within the robot (I have to connect a monitor to it), I'm able to see both. However, when I try to visualize them from my remote PC, I'm not able to (I keep receiving as if there is no data).
Thank you all!


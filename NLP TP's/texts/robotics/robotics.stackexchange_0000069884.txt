Q:

How to ROS_*_THROTTLE inside objects?

I have a vector of objects of a custom class.  In one function of my class, I am trying to include a ROS_*_THROTTLE macro. At some point, I iterate through the vector, calling my function.  I would like for the message to get printed once for each object, but instead the message only gets called for the very first object, leading me to believe the throttle isn't based on the message content or the context, but rather the line number or something like that. Am I correct on this?
If so, is there any existing way to throttle messages per object or per message content? I tried using named loggers, too, but still I only get the one message.

Originally posted by thebyohazard on ROS Answers with karma: 3562 on 2015-10-07
Post score: 1

A:

For anyone else trying to find the answer to this in the future: it doesn't appear to be possible, but there's a workaround.
The ROS_LOG_THROTTLE macro statically defines last_hit, so there's only one timer per invocation of that line (regardless of whether you try a ROS_*_THROTTLE_NAMED call as well).
My suggestion would be to manually throttle it using ROS_*_COND instead. It's unsatisfactory, but it seems to be the best solution.

Originally posted by nckswt with karma: 539 on 2018-04-20
This answer was ACCEPTED on the original site
Post score: 0


Q:

Arm striked the ground while using moveit

I am using xarm6 (https://github.com/xArm-Developer/xarm_ros/issues/129) when I am using moveit to plan a random  path sometimes it reaches below the base (ground) and plans the path there, hence strikes the ground when execute on real robot. Please advice what should I do to avoid it ?

Originally posted by akumar3.1428 on ROS Answers with karma: 61 on 2022-10-24
Post score: 0

Original comments
Comment by gvdhoorn on 2022-10-25:
Two questions:

did you model "the ground", or is your robot alone, floating in space, with no other geometry?
did you plan to a random, valid joint pose, or just a random one?

Comment by akumar3.1428 on 2022-10-25:\

I am using the specified pakage of xarm to move the real arm, so I am not sure about the answer to your question, however in moveit  it seems like it's fixed from the base.
I did random valid.

Comment by gvdhoorn on 2022-10-25:\

I am using the specified pakage of xarm to move the real arm, so I am not sure about the answer to your question, however in moveit it seems like it's fixed from the base.

then the answer is most likely: "no, there is no ground plane modelled".
In that case MoveIt did exactly as I would expect: it doesn't know anything about your scene, so no "ground" or ground plane. It only knows about your robot, hanging there in completely empty space. It will assume it's free to move the robot through all that empty space. Including the space occupied by the ground or table your robot is standing on.
Comment by akumar3.1428 on 2022-10-25:
Hi ! Thank you for your response, any suggestions in how can I fix it without creating a new moveit package?

A:

For future users, this issue can be easily resolved adding box in the urdf file . I used the following code
<link name="ground_plane_box">
    <visual>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
            <box size="1.0 1.0 0.5"/> 
        </geometry>
        <material name="Grey">
            <color rgba="0.7 0.7 0.7 1.0"/>
        </material>
    </visual>
    <collision>
        <origin xyz="0 0 0" rpy="0 0 0"/>
        <geometry>
            <box size="1.0 1.0 0.5"/> 
        </geometry>
    </collision>
</link>

<joint name="ground_plane_box" type="fixed">
    <parent link="world" />
    <child link="ground_plane_box" />
    <origin xyz="0 0 -0.25" rpy="0 0 0" />
</joint>

Originally posted by akumar3.1428 with karma: 61 on 2022-10-26
This answer was ACCEPTED on the original site
Post score: 0


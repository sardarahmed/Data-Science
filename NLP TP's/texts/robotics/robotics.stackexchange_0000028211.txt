Q:

Robot wabbles in gazebo

I have been working on a robot, and have got it to move in gazebo. Unfortunately, the robot does not go straight when given the command:
rostopic pub /cmd_vel geometry_msgs/Twist "linear: x: 1.0 y: 0.0 z: 0.0 angular: x: 0.0 y: 0.0 z: 0.0"
it makes the robot move forward in a wabble or teetering way that seems like one wheel is moving at a time.
The files are located here: https://github.com/matrhint/src
A video is posted here with just joints being shown: https://youtu.be/Z8d7ynoP_RQ
A video is posted here with joints, collisions, and contacts being shown: https://youtu.be/Ye9SlvWYKrw
It appears that there may be some Issues with the wheels being off center of the joint (one higher on one side and one lower on the other), thus leading to the one stopping while the other is free to turn. I am uncertain on how to make this perfectly center. I believe this is my issue but I think I might have to resize the wheel, re-measure it, or just change the xacro file to have a more precise radius for the joint (I may have rounded it too much-- and shouldn't have rounded at all).
I found that the wheels were (slightly) oval in shape an not perfect circle. I remade the wheels and still have the same symptom. I have also tried to change the location of the wheel joints.
Thanks in advance for any help.

Originally posted by matrhint on Gazebo Answers with karma: 1 on 2017-06-29
Post score: 0

Original comments
Comment by SorinV on 2017-06-30:
Let the x,y,z of the wheel be set up only in the joint; so your joint will position your wheel relative to the chasis. Also take a look into friction parameters mu, mu2 and fdir
Comment by matrhint on 2017-07-03:
Thanks for checking it out, but it was the model being used for collision data that messed it up.

A:

I changed the collision geometry from the STL file to a cylinder and defined the radius to be the same as the wheel.

Originally posted by matrhint with karma: 1 on 2017-07-03
This answer was ACCEPTED on the original site
Post score: 0


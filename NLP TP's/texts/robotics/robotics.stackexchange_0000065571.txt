Q:

Gazebo + ros_control

I have been trying to get the LWR KUKA robot to be controlled in Gazebo through ROS (simulation only at this stage).
I have been following this tutorial gazebo_ros_control which achieves
the wanted effect with the rrbot. The controller in the tutorial is an effort_controllers/JointPositionController.
I have reproduced the same steps of the tutorial on my own KUKA model, but the results differ and I am unable to have
to robot maintain a specific joint configuration (I have also tried to change the pid gains, but with no success).
I have uploaded my KUKA package on git.
I can move the robot with little difficulty in Rviz with Moveit but I have been running into difficulties with Gazebo control
for some time. I am not sure if I have to write my own control plugin for gazebo or what I should do. The documentation
on the web is at some times quite overwhelming.
Any help to get a position control working on my Gazebo + ROS KUKA model would be very welcome.

Originally posted by gpldecha on ROS Answers with karma: 285 on 2015-02-02
Post score: 0

Original comments
Comment by gpldecha on 2015-02-03:
I have found another post in which the problem seems to be similar to mine: Controllers are unable to fight gravity in Gazebo simulation
Comment by gvdhoorn on 2015-02-03:
@gpldecha: I don't think so: the UR5 in that question was using EffortControllers, while you are using JointPositionControllers. Low limits on EffortControllers can result in the issue the OP was seeing in the question you linked. Sorry, misread your question.
Comment by gpldecha on 2015-02-03:
@gvdhoorn yes looks like the "effort_controllers/JointEffortController" instead of effort_controllers/JointPositionController. Thanks for the link to the repository I will check it out.

A:

Not a real answer, but you might be interested in the CentroEPiaggio/kuka-lwr repository.

Originally posted by gvdhoorn with karma: 86574 on 2015-02-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gpldecha on 2015-02-03:
I will be using the package from CentroEPiaggio/kuka-lwr it seems to be much more complete and tested with the real KUKA robot.
Comment by Adolfo Rodriguez T on 2015-02-03:
If your question is answered, please mark it as such for future reference.


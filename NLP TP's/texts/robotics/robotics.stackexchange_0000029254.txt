Q:

Services calls [/shadow_caster_material_name] and [/shadow_caster_render_back_faces] timed out, cannot use Gazebo

Setup: Ubuntu 20.04, ROS 2 Galactic, Gazebo (11.10.1-1~focal)
With the update to the gazebo11 (ver 11.10.1) in the last ROS 2 Galactic sync my launch files and Gazebo overall stopped working correctly (services are timed out).
After starting gazebo --verbose I got:
~$ gazebo --verbose
Gazebo multi-robot simulator, version 11.10.1
Copyright (C) 2012 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

[Msg] Waiting for master.
Gazebo multi-robot simulator, version 11.10.1
Copyright (C) 2012 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

[Msg] Waiting for master.
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 192.168.10.103
[Msg] Loading world file [/usr/share/gazebo-11/worlds/empty.world]
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 192.168.10.103
[Err] [Scene.cc:227] Service call[/shadow_caster_material_name] timed out
[Err] [Scene.cc:249] Service call[/shadow_caster_render_back_faces] timed out
[Wrn] [Scene.cc:462] Ignition transport [/scene_info] service call failed, falling back to gazebo transport [scene_info] request.

Reverting to the old version of Gazebo packages didn't help, but I am not sure if I did it correctly too (maybe I have missed some dependent ROS packages). I have used:
sudo apt-get install gazebo11=11.9.0-1~focal gazebo11-common=11.9.0-1~focal gazebo11-plugin-base=11.9.0-1~focal libgazebo11=11.9.0-1~focal libgazebo11-dev=11.9.0-1~focal 

Gazebo and launcher still won't work even after that. I tried to reinstall everything, Gazebo, ROS2, my GPU drivers (latest recommended nvidia-driver-510).
It starts with empty.world scene, but any launcher (mine or from Nav2 repository and nav2_bringup package, branch" galactic, commit: 4bfedb8) cannot call any services.
When starting gzserver --verbose I am getting standard output, gzclient --verbose gives me every time the same timed-out error.
What is exactly happening? Does anybody have encountered this problem before? How can I solve it? Everything was working before...
I put this issue there already + I haven't found anything more than some  issues of the problems with Ogre3d about this kind of services timing out...

https://github.com/osrf/gazebo/issues/2700
https://githubmemory.com/index.php/repo/lopsided98/nix-ros-overlay/issues/161
https://github.com/conda-forge/libignition-gazebo-feedstock/issues/6

There is my ogre.log too: https://controlc.com/9061c918

Originally posted by ljaniec on Gazebo Answers with karma: 1 on 2022-02-16
Post score: 0

A:

There was an update to the Gazebo 11 and luckily I found out what a solution - I had to reset the Firewall settings in Ubuntu 20.04 because even ros2 topic list started to not working correctly.
Then I tried to run gazebo --verbose and it didn't hanged, I could add TB3 to the empty world and see it's topics etc. I think the firewall was disabling the ign-services in the background and they timed-out every time..? Or something similar.

Originally posted by ljaniec with karma: 1 on 2022-03-20
This answer was ACCEPTED on the original site
Post score: 0


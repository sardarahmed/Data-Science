Q:

using the latest message in a service

I have looked at a bunch of tutorials and read a bunch of similar question about this but am still struggling to figure it out and I would appreciate some insight.
I am running a bunch of programs together and I would like to synchronize everything as best as I can. My application involves solving an optimization that takes about 0.5 seconds to solve and then  using this data to guide finer control of the system during the 0.5 second intervals where I am waiting for the optimization to solve. I am also publishing data that informs the optimization much faster than this to a message. Just before I solve the optimization I want to grab the most recent data available, what I was thinking about doing was creating a service that basically echos the latest message that got published to my topic of interest. Are there any examples of something like this?
I also was thinking about making a subscriber node that has a callback function that is constantly updating ros parameters, but not only does this seem wasteful, it seems dangerous because I might try to use one of the parameters when they are being written to.

Originally posted by huckl3b3rry87 on ROS Answers with karma: 11 on 2017-08-02
Post score: 0

Original comments
Comment by Procópio on 2017-08-02:
Why do you want to echo the latest message published in your topic of interest instead of using that topic directly?

A:

I would go with having a subscriber constantly updating a variable through a callback. You may see that as wasteful, but that is basically how ROS works. When you need them, you can make a copy of the the updatable vars, so they won't change on the fly.

Originally posted by Procópio with karma: 4402 on 2017-08-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by huckl3b3rry87 on 2017-08-02:
Thank you for your quick response! So, should I use ROS parameters to do this? Also, the variables are the data about an obstacle, x and y position, radius and x and y velocity ( so they are related ). I can imagine that if I have them as separate variables that as I am actually copying them some
Comment by huckl3b3rry87 on 2017-08-02:
Some of them may actually be overwritten. Should I try to put them into a single ros parameter?
Comment by jayess on 2017-08-02:
@huckl3b3rry87 do you mean message?
Comment by huckl3b3rry87 on 2017-08-06:
@jayess, yes. Sorry I just saw your comment


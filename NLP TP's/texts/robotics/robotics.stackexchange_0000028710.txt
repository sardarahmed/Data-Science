Q:

Velocity controllers and missing P gain

I am using the VelocityJointController from velocity_controllers to control a robot loaded in Gazebo simulation. I specify PID gains in a .yaml file. However when I launch the simulation, the error pops out
[ERROR] [1546601044.601198350, 0.165000000]: No p gain specified for pid.  Namespace: /robot/gazebo_ros_control/pid_gains/joint_rear_left_wheel

And no metter what PID gains I set, the robot behaves always the same. The PID gains set in .yaml configuration file has no effect on the simulation.
my transmission:
<transmission name="tran_rear_left_wheel">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint_rear_left_wheel">
        <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
    </joint>
    <actuator name="motor_rear_left_wheel">
        <hardwareInterface>hardware_interface/VelocityJointInterface</hardwareInterface>
        <mechanicalReduction>1</mechanicalReduction>
    </actuator>
</transmission>

control yaml
imow:
  # Publish all joint states -----------------------------------
  joint_state_controller:
    type: joint_state_controller/JointStateController
    publish_rate: 50  

  # Velocity Controllers -----------------------------------------
  joint_rear_left_wheel_controller:
    type: velocity_controllers/JointVelocityController
    joint: joint_rear_left_wheel
    pid: {p: 1, i: 1, d: 1}

What is happening?

Originally posted by kumpakri on Gazebo Answers with karma: 755 on 2019-01-04
Post score: 0

A:

Since Weasfas brought this old question up, I can tell now, that velocity_controllers does not use PID for commanding velocity, because the input already is the velocity. It uses PID for controlling positions, however. So if I had controller of type velocity_controllers/JointPositionController, I would need to specify PID parameters and the behavior of the robot would depend on those values.

Originally posted by kumpakri with karma: 755 on 2019-10-24
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by CroCo on 2022-05-20:
not sure how this answers the question. From Control systems perspective, you are right the position part is not needed but how to fix this in Gazebo?


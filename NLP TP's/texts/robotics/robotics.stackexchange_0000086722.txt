Q:

cmd_vel topic from navigation stage not sending to raspberry robot

Hello
I have some problem with navigation stage module. I have a robot with raspberry pi and hokuyo lidar mount on it and base station for mapping calculation.
The standard way to run the ROS on two machine is: 1. start roscore 2. start scan streaming 3. start reading cmd_vel on robot 4. start tf publisher 5. start rf2o 6. start hector_slam 7. start navigation_stage 8. start frontier_exploration
And my problem is when I try to set 2d Nav point somewhere in the room and in the same team run echo on cmd_vel topic I can see that navigation stage is publishing some velocity data. But when I run cmd_vel echo on RPi there is no data.
The more interesting thing is that I wrote my manual control topic which is publishing to cmd_vel and this is working correctly and robot is moving.
It seems that for some reason when  running navigation_stage data is only visible on local PC and not on RPi.
Can you help finding solution for that problem ?

Originally posted by bjurek5 on ROS Answers with karma: 3 on 2018-04-22
Post score: 0

A:

As @Rodolfo8 said it's probably a networking configuration problem. You have to make sure you've correctly configured the ROS_MASTER_URI variable from your PC and Raspberry.
Try echo $ROS_MASTER_URI from your PC and from the Raspberry. Do it from every terminal you are using to be sure they all share the same master.
Another thing is that by default you should have ROS_MASTER_URI=http://localhost:11311/ or something similar, but you should change it to http://192.168.1.XX:11311/ (the IP adress of the raspberry or the PC) and then run export ROS_MASTER_URI=http://192.168.1.XX:11311/ from all your terminals.
Finally, you should also set the variable ROS_HOSTNAME to the corresponding IP adress.

Originally posted by Delb with karma: 3907 on 2018-04-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gvdhoorn on 2018-04-23:\

set the variable ROS_HOSTNAME to the corresponding IP adress.

I'd recommend sticking to hostnames for ROS_HOSTNAME, and use ROS_IP for IPs.
The former can exploit the flexibility that DNS provides (but you need a working DNS).
Comment by bjurek5 on 2018-04-23:
I will check in afternoon where I have configured IP's and where not. Does the console running roscore also need to have configured  ROS_MASTER_URI before ?
Comment by Delb on 2018-04-23:
Yes, every console must have the same ROS_MASTER_URI
Comment by bjurek5 on 2018-05-07:
I added on host PC export ROS_MASTER_URI to .bashrc file, and the second thing where I had problem earlier was to have in virtualbox configuration only one bridged network card, for some reason I had two activated, after disabling everything runs well, thanks for support


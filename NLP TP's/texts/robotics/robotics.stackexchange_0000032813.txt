Q:

frames and tf with robot_pose_ekf

Hi,
I'm trying to use a compass to improve the odometry information of my robot, so I'm fusing it as an Imu message with the robot odometry using the robot_pose_ekf node. I have problems with the /odom frame published by my robot odometry and the /odom_combined frame published by robot_pose_ekf.
Could anyone help me understand how robot_pose_ekf should be integrated with the already extant frames and transformations?
Thank you

Originally posted by chcorbato on ROS Answers with karma: 202 on 2011-07-07
Post score: 1

A:

What you are trying to do is not really supported in the robot_pose_ekf. According to the documentation for the imu input to the robot_pose_ekf: "The Roll and Pitch angles are interpreted as absolute angles (because an IMU sensor has a gravity reference), and the Yaw angle is interpreted as a relative angle". What you are trying to do is to provide a Yaw angle from a compass, which is an absolute measurement, not a relative measurement. Although the robot_pose_ekf can give you a reasonable result, you will still see drift on your robot's Yaw angle because of this.

Originally posted by Wim with karma: 2915 on 2011-07-07
This answer was ACCEPTED on the original site
Post score: 2


Q:

tf2 transformPose in C++

I'm used to the transformPose() method and similar from tf. However, the tf listener was apparently missing some static poses so I switched to tf2. Now I can get the TransformStamped but I'm struggling to actually apply it to a pose. So, how do you apply a TransformStamped to a PoseStamped?
The tf2 tutorials don't seem to cover this crucial aspect. (they should) Apologies if there's an obvious answer that I missed.
The Python version of this question

Originally posted by AndyZe on ROS Answers with karma: 2331 on 2017-05-09
Post score: 6

A:

Thanks to @dhood's answer on this question, I dug through tf2_geometry_msgs and found doTransform(). I'll probably edit the tf2 tutorials to mention this. Here's the gist of getting a TransformStamped and applying it to a PoseStamped with tf2:
   #include <tf2_geometry_msgs/tf2_geometry_msgs.h>

   #include <tf2_ros/transform_listener.h>

.
.
.
tf2_ros::Buffer tf_buffer;
tf2_ros::TransformListener tf2_listener(tf_buffer);
geometry_msgs::TransformStamped base_link_to_leap_motion; // My frames are named "base_link" and "leap_motion"

base_link_to_leap_motion = tf_buffer.lookupTransform("leap_motion", "base_link", ros::Time(0), ros::Duration(1.0) );

tf2::doTransform(robot_pose, robot_pose, base_link_to_leap_motion); // robot_pose is the PoseStamped I want to transform

Originally posted by AndyZe with karma: 2331 on 2017-05-10
This answer was ACCEPTED on the original site
Post score: 8

Original comments
Comment by AndyZe on 2017-05-11:
And a more in-depth tutorial.


Q:

Running Gazebo without being superuser

Hello everyone, I am going to run Gazebo7 on Ubuntu 16.04. I installed it with ros-kinetic-desktop-full.
The command 'sudo gazebo' works without problems.
The command 'gazebo' returns: gzserver: error while loading shared libraries: libsdformat.so.6: cannot open shared object file: No such file or directory.
Running ldd on gazebo (and on gzserver) I discovered that there is not a dependency on libsdformat.so.6 but only libsdformat.so.4. And I have it. So I really do not understand why he is complaining on libsdformat.so.6.
Moreover, doing:
sudo updatedb
locate libsdformat.so.6

I have no results, while doing locate libsdformat.so.4 it returns the path of the library: /home/tobi/.local/lib/libsdformat.so.4
So, my .bashrc file is:
export LD_LIBRARY_PATH=/home/tobi/.local/lib/local/lib:$LD_LIBRARY_PATH
export PATH=/home/tobi/.local/lib/local/bin:$PATH
export PKG_CONFIG_PATH=/home/tobi/.local/lib/local/lib/pkgconfig:$PKG_CONFIG_PATH
source /home/tobi/.local/share/gazebo/setup.sh

And my setup.sh file is:
export GAZEBO_MASTER_URI=http://localhost:11345
export GAZEBO_MODEL_DATABASE_URI=http://models.gazebosim.org
export GAZEBO_RESOURCE_PATH=/home/tobi/.local/share/gazebo-10:${GAZEBO_RESOURCE_PATH}
export GAZEBO_PLUGIN_PATH=/home/tobi/.local/lib/gazebo-10/plugins:${GAZEBO_PLUGIN_PATH}
export GAZEBO_MODEL_PATH=/home/tobi/.local/share/gazebo-10/models:${GAZEBO_MODEL_PATH}
export LD_LIBRARY_PATH=${LD_LIBRARY_PATH}:/home/tobi/.local/lib/gazebo-10/plugins
export OGRE_RESOURCE_PATH=/usr/lib/x86_64-linux-gnu/OGRE-1.9.0

I have also a folder named gazebo-10 with an identical content. This question and This one did not solve my problem.
Any advice, please? Thanks!

Originally posted by Tobi92 on Gazebo Answers with karma: 5 on 2018-11-25
Post score: 0

Original comments
Comment by Sietse on 2018-11-26:
As a side note: why the sudo? I don't think that's advisable.

A:

It looks like you've installed more than one version (Gazebo 7 + SDF 4 / Gazebo 10 + SDF 6) and they're getting mixed up.
I recommend you uninstall all of the Gazebo, SDF and Ignition versions and reinstall only the version you want to use.

Originally posted by chapulina with karma: 7504 on 2018-11-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Tobi92 on 2018-11-29:
Thank you, I did in such way.
Honestly, I had the same problems installing in Ubuntu 16.04 ros-kinetic-desktop-full OR ros-kinetic-gazebo-9. With one among the two, two versions of gazebo are installed.
So, I uninstalled everything, I removed all the related files that were not touch by the apt remove / apt purge, like: gzserver executable, etc.
Then I first of all installed the version of gazebo I liked more: gazebo7, gazebo7-common, libgazebo7 (cont.)
Comment by Tobi92 on 2018-11-29:
Second part of the comment:
Then I separately installed ros: ros-kinetic-desktop (not desktop-full). Then the integration with gazebo: ros-kinetic-gazebo-X , X =dev, msgs, plugins, ros, ros-pkgs
Then I installed python-rosinstall
And it worked


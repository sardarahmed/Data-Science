Q:

How do you add new frames to the tf tree of a Jackal robot?

I have a Jackal robot that is running ubuntu 14.04 with ROS indigo installed. I have attached a Hokuyo UTM 30lx laser to the jackal robot so I am trying to modify the jackal.urdf.xacro file to include the hokuyo laser so I can use the laser scans to do gmapping. I have got the system working in simulation, I was able to add the hokuyo laser to the jackal in gazebo and use the scans to do autonomous navigation. When I have copied over the jackal.urdf.xacro file onto the real robot, I am unable to see the hokuyo_base_link and the front_laser (hokuyo laser) link in the tf tree, and thus when I visualize the robot in Rviz I get an error on LaserScan saying: "Transform [sender=unknown_publisher] for frame [front_laser]: frame [front_laser] does not exist." I can attach my jackal.urdf.xacro file if needed. Please could someone help me and explain how I need to modify my files to get the hokuyo laser working on the real robot? Thank you very much.

Originally posted by dkrivet on ROS Answers with karma: 19 on 2018-07-16
Post score: 0

Original comments
Comment by adamconkey on 2018-07-16:
I think it would be helpful to see your xacro file (and anything else related to generating your tf tree, e.g. if you're publishing any static transforms).

A:

Assuming your new urdf file does indeed define the frames, you need to reload the robot_description parameter and relaunch the robot_state_publisher in order for any changes you've made to the urdf to take effect. On the Jackal you could do this with

rosnode kill robot_state_publisher && roslaunch jackal_description description.launch

Alternatively you could just restart ROS or the robot itself.

Originally posted by bmastay with karma: 16 on 2018-07-30
This answer was ACCEPTED on the original site
Post score: 0


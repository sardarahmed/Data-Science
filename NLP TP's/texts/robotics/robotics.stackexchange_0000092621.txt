Q:

Will the snapshot repo provide Debian Stretch packages for Melodic?

I'm migrating some docker images to use the ROS snapshot repository to ensure consistent builds.
Some distributions provide Debian packages (e.g. Kinetic) but some others don't (e.g. Melodic).
Will the Debian Stretch debs for ROS Melodic be added to the snapshot repos in future syncs?
@nuclearsandwich

Originally posted by marguedas on ROS Answers with karma: 3606 on 2019-07-17
Post score: 0

A:

Short answer: without a policy change, not until Melodic goes end-of-support.
The snapshot repositories currently serve two functions:

Supplying "final" archival snapshots of unsupported rosdistros, initially motivated by the build farm compromise.

Providing snapshots of each ROS (1) LTS and ROS 2 sync on their primary platform, in all cases so far the Ubuntu LTS release that they target.

In the first case we tried to archive everything since we were going to be removing the packages from the primary ROS repositories. For the regular snapshots we started with just the Ubuntu LTS release that each LTS rosdistro targets and the recurring sync snapshots scripts actually have the assumption of one rosdistro :: one distro baked into the current snapshot generation scripts. I've dodged the issue for the final snapshots by doing them all by hand which has been fine since you only do a final snapshot once but it'd be too much for every new sync.
The snapshot repositories are still in "beta" state. They've become somewhat solidified by the fact that we're using some of the same infrastructure for the package archive but that was a decision made in a time sensitive situation rather than one where we had the luxury of looking out at the horizon.

Originally posted by nuclearsandwich with karma: 906 on 2019-07-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by marguedas on 2019-07-18:
Thanks for the detailed answer.

not until Melodic goes end-of-support

Just to make sure, do you mean when Melodic goes EOL or when Debian Stretch goes EOL ?
I'll use the snapshot repos only for EOL distros then and will keep tracking packages.ros.org for the active distros :+1:
Comment by nuclearsandwich on 2019-07-19:
I mean whenever we stop producing Melodic debs for Stretch. In this case we know Melodic will outlast Stretch but for the sake of completion:
If Stretch support were to end during Melodic's lifetime, the last Melodic sync that supported Stretch will be pushed as the final sync for Stretch. If Stretch was still going when Melodic ends then the last sync of Melodic for Stretch (and all other platforms) would get deployed as final.
Comment by marguedas on 2019-07-19:
Sounds good! thanks for clarifying


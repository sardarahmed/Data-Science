Q:

How to command velocity in MoveIt!

Hello,
I'm trying to command an arm in MoveIt! using a 3D mouse. I'm not working with real hardware, or gazebo, its all using MoveIt!
So far I am able to get the current joint positions of the robot, then whenever I get input from the 3D mouse I use that as input for a KDL inverse kinematics velocity solver. From that, I am able to generate an array of joint velocities. Now my problem that I've been stumped on for a couple days is, what can I do with that velocity array to make the robot model move in RViz? I thought I could use robot_state.setVariableVelocity() for each of the joints but that doesn't work. I've tried robot_state.integrateVariableVelocity() and a number of other things, but no luck. Maybe I'm missing something simple but I've stared at the documentation for hours and can't figure out how this is suppose to be done.
Ultimately I want be able to command the arm with the mouse and have the system stop me before colliding with obstacles, but right now I'm really just trying to figure out how to tele-op an arm in moveit! using velocity control.
Any help would be appreciated,
Thanks,

Originally posted by Airuno2L on ROS Answers with karma: 3460 on 2016-01-21
Post score: 0

A:

Not a complete answer though, there's a few ways to manipulate scaling factor for velocity and acceleration.
I don't know if there's a way to pass joint velocity.

Originally posted by 130s with karma: 10937 on 2017-03-29
This answer was ACCEPTED on the original site
Post score: 1


Q:

xacro arg to xacro:property, or math on xacro args?

Should it be possible to set a xacro property with a value passed in as an argument?
<xacro:property name="length" value=$(arg length_arg)" />

Right now I get:
ValueError: could not convert string to float: $(arg chassis_length_arg)

I'd like to be able to do math on xacro arguments, but
${$(arg length_arg) / 2} 

also doesn't work so there appears to be no way to do it other than precomputing the right values and passing them in as args.

Originally posted by lucasw on ROS Answers with karma: 8729 on 2014-01-06
Post score: 0

A:

It just now occurred to me that the solution is to make a xacro macro wrap all the math on the arguments and the call to the macro reference the arg:
 <xacro:macro name="foo" params="chassis_length" >
     ... do something with ${chassis_length/2}
 <xacro::macro>

 <xacro:foo chassis_length="$(arg chassis_length)">

Originally posted by lucasw with karma: 8729 on 2014-01-07
This answer was ACCEPTED on the original site
Post score: 2


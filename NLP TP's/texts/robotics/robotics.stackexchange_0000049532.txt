Q:

Chaining catkin workspaces on Windows

I'm been able to install ROS Groovy on Windows using the win_ros instructions (thanks to the win_ros guys for all the great work on that recently!).  I'm having trouble building my own catkin packages though.  How do you set up a chained catkin workspace on Windows?  Is this even a feature that is supported yet?
I have my main ROS workspace in c:\win_ros\src, c:\win_ros\devel, and c:\win_ros\build.  Everything built properly and the tutorial apps work.  I'm trying to create a new workspace for my catkinized packages in c:\my_ws in the same way I do on Linux but without success.  I've tried the following:
 c:\win_ros\devel\setup.bat
 cd\my_ws
 winros_init_workspace ./
 winros_init_build
 winros_make

Cmake is unable to find catkin and gives the following error:
CMake Error at CMakeLists.txt:47 (message):
  find_package(catkin) failed.  catkin was neither found in the workspace nor
  in the CMAKE_PREFIX_PATH.  One reason may be that no ROS setup.sh was
  sourced before.

-- Configuring incomplete, errors occurred!

Executing nmake in the root build directory

Any suggestions?  Thanks.

Originally posted by david.hodo on ROS Answers with karma: 395 on 2013-03-19
Post score: 1

Original comments
Comment by William on 2013-03-19:
Can you post the environment before and after you run c:\win_ros\devel\setup.bat?

A:

Nothing like finally posting a question to make you immediately figure it out.
From looking at the scripts at: https://github.com/ros-windows/win_ros/blob/groovy-devel/rosdeps/win_python_build_tools/scripts/winros_init_build.py  you can add an "underlay" when setting up the workspace:
winros_init_build -u c:/opt/ros/groovy/x86

That added a Cmake prefix variable to the config.cmake that winros_init_build makes that allowed it to find the main ros workspace and everything built correctly afterwards.

Originally posted by david.hodo with karma: 395 on 2013-03-19
This answer was ACCEPTED on the original site
Post score: 0


Q:

Loading 2 yaml's to same parameter namespace

I want to load 2 sets of parameters from 2 different yamls to the same namespace from a launch file, like this:
YAML1:
- id: foo1
  waypoints:
    - type: foo1

YAML2:
- id: foo2
  waypoints:
    - type: foo2

Launch file:
    <node name="foo" pkg="foo"
          type="foo" required="true">

          <!-- Common config, applicable to all robot types -->
          <rosparam file="$(arg common_maintenance_config)" command="load" ns="maintenance_motions"/>
          <!-- Configuration specific to this robot -->
          <rosparam file="$(arg robot_specific_maintenance_config)" command="load" ns="maintenance_motions"/>
   </node>

Seems pretty straight-forward, right? In practice, I find that the second set of parameters overwrites the first. So if I do rosparam get /maintenance_motions the result is:
- id: foo2
  waypoints:
    - type: foo2

So the second yaml overwrote the first one. What is the least janky workaround? I've already tried loading all parameters in the global namespace.

Originally posted by AndyZe on ROS Answers with karma: 2331 on 2023-05-28
Post score: 0

Original comments
Comment by AndyZe on 2023-05-28:
Kinda-related question:  https://answers.ros.org/question/199608/roslaunch-order-of-rosparams/
Possible answer involving a Python script here:  https://answers.ros.org/question/361582/ros-launch-get-param-in-launch-file-to-append-to-param-from-config-file/?answer=397388#post-id-397388

A:

I ended up writing a simple Python script which concatenates the two yaml files together into one yaml file, then loads that one. Like this:  https://www.geeksforgeeks.org/python-program-to-merge-two-files-into-a-third-file/

Originally posted by AndyZe with karma: 2331 on 2023-05-28
This answer was ACCEPTED on the original site
Post score: 1


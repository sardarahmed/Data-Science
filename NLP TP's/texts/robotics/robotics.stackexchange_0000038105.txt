Q:

how to migrate bag file containing roslib/Log and visualization_msgs/MarkerArray

Hi!
I want to migrate a bag file containing recorded with Diamondback to Electric.
The bag contains roslib/Log messages which seem to be missing in Electric, plus visualization_msgs/MarkerArray for which there are no migration rules.
So I run rosbag fix xxx.bag xxx-fixed.bag and after a while I am confronted with the message:
* From: roslib/Log [acffd30cd6b6de30f120938c17c593fb]
   To:   Unknown
    1 rules missing:
     * From: roslib/Log [acffd30cd6b6de30f120938c17c593fb]
       To:   Unknown
 * From: visualization_msgs/MarkerArray [f10fe193d6fac1bf68fad5d31da421a7]
   To:   visualization_msgs/MarkerArray [90da67007c26525f655c1c269094e39f]
    1 rules missing:
     * From: visualization_msgs/Marker [bc7602ad2ba78f4cbe1c23250683bdc0]
       To:   visualization_msgs/Marker [18326976df9d29249efc939e00342cde]
Try running 'rosbag check' to create the necessary rule files or run 'rosbag fix' with the '--force' option.

So I do as it wishes and run rosbag check  2011-06-24-19-30-36.bag -g myRule.bmr which results in:
WARNING: Within rule [GENERATED.update_visualization_msgs_MarkerArray_f10fe193d6fac1bf68fad5d31da421a7] cannot migrate from subtype [Marker] to [Marker]..
The following migrations need to occur:
 * From: roslib/Log [acffd30cd6b6de30f120938c17c593fb]
   To:   Unknown
    1 rules missing:
     * From: roslib/Log [acffd30cd6b6de30f120938c17c593fb]
       To:   Unknown
 * From: visualization_msgs/MarkerArray [f10fe193d6fac1bf68fad5d31da421a7]
   To:   visualization_msgs/MarkerArray [90da67007c26525f655c1c269094e39f]
    1 rules missing:
     * From: visualization_msgs/Marker [bc7602ad2ba78f4cbe1c23250683bdc0]
       To:   visualization_msgs/Marker [18326976df9d29249efc939e00342cde]
The message type roslib/Log appears to have moved.  Please enter the type to migrate it to.
>

What am I supposed to do now? And does anyone have a migration rule for the MarkerArrays or know how to auto-generate them?

Originally posted by daniel_maier on ROS Answers with karma: 290 on 2012-02-21
Post score: 1

A:

roslib/Log migrations to rosgraph_msgs/Log
I don't know how to migrate the Marker.  It may be the case that auto-rule generator just works on it.  (Make sure to backup your data before you give it a go)

Originally posted by kwc with karma: 12244 on 2012-02-22
This answer was ACCEPTED on the original site
Post score: 1


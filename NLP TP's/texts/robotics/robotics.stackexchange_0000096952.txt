Q:

ira_laser_tools merger node is not subscribing lidar topics

Hi,
I am trying to merge 3 lidar feed. Lidar point cloud topics are working fine. When I tried to run ira_laser_tool node it is working but it is not subscribing to my lidar topis? I have add rostopic list, rosnode info. Also, asking for other tools like laser_merger?
rostopic list:
rostopic list
/laserscan_multi_merger/parameter_descriptions
/laserscan_multi_merger/parameter_updates
/merged_cloud
/rosout
/rosout_agg
/scan_multi
/sensor1/points
/sensor2/points
/sensor3/points
/tf
/tf_static

rosnode info:
rosnode info /laserscan_multi_merger 
--------------------------------------------------------------------------------
Node [/laserscan_multi_merger]
Publications: 
 * /laserscan_multi_merger/parameter_descriptions [dynamic_reconfigure/ConfigDescription]
 * /laserscan_multi_merger/parameter_updates [dynamic_reconfigure/Config]
 * /merged_cloud [sensor_msgs/PointCloud2]
 * /rosout [rosgraph_msgs/Log]
 * /scan_multi [sensor_msgs/LaserScan]

Subscriptions: 
 * /tf [unknown type]
 * /tf_static [unknown type]

Services: 
 * /laserscan_multi_merger/get_loggers
 * /laserscan_multi_merger/set_logger_level
 * /laserscan_multi_merger/set_parameters

contacting node http://******-***002:******/ ...
Pid: 9156
Connections:
 * topic: /rosout
    * to: /rosout
    * direction: outbound
    * transport: TCPROS

when Node is working:
roslaunch ira_laser_tools laserscan_multi_merger.launch 
... logging to /home/bchan/.ros/log/d6143206-e867-11ea-8f07-10653056d93e/roslaunch-*****-*****-*****.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://***PC-******:*****/

SUMMARY
========

PARAMETERS
 * /laserscan_multi_merger/angle_increment: 0.0058
 * /laserscan_multi_merger/angle_max: 2.0
 * /laserscan_multi_merger/angle_min: -2.0
 * /laserscan_multi_merger/cloud_destination_topic: /merged_cloud
 * /laserscan_multi_merger/destination_frame: Lidar_merge
 * /laserscan_multi_merger/laserscan_topics: /sensor_1/points ...
 * /laserscan_multi_merger/range_max: 50.0
 * /laserscan_multi_merger/range_min: 0.3
 * /laserscan_multi_merger/scan_destination_topic: /scan_multi
 * /laserscan_multi_merger/scan_time: 0.0333333
 * /rosdistro: kinetic
 * /rosversion: 1.12.14

NODES
  /
    laserscan_multi_merger (ira_laser_tools/laserscan_multi_merger)

Thanks for help in advance!!!!
If there any other options available like ira_merger tool.

Originally posted by p18dhavan on ROS Answers with karma: 3 on 2020-08-27
Post score: 0

A:

It seems provided topic names in launch file does not match existing topic names:
provided in config topic: /laserscan_multi_merger/laserscan_topics: /sensor_1/points
existing topic:  /sensor1/points
So "sensor_1" does not match "sensor1".
Based on module source code this module works only with sensor_msgs/LaserScan. Please make sure you are trying to merge laserscans but not point clouds.
The module makes validation of data types before subscription and existence of topics by provided names. It's not quite usual design in ros modules and allows this module to wait for correct topics silently (you don't see subscriptions in ros node info output).

Originally posted by dtyugin with karma: 121 on 2020-08-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by p18dhavan on 2020-08-27:
Thank you for your suggestion. Do you have any recommendation for point cloud lidar merger?
Comment by dtyugin on 2020-08-28:
Well, you can try point cloud merger from autoware. I don't use it but looking into source code there are no autoware specific dependencies, so you can take only merger node from the whole project. Or you can build the whole autoware project and run this node.


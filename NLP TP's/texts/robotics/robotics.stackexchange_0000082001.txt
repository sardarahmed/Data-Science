Q:

ERROR: Model Parsing the xml failed

Hello,
I am trying to create urdf file for the UR5 arm with the Barrett Hand end-effector.
I have created this file:
<?xml version="1.0"?>
<robot xmlns:xacro="http://wiki.ros.org/xacro" name="ur5_bh" >
  <!-- include urdfs -->
  <xacro:include filename="$(find ur_description)/urdf/ur5.urdf.xacro"/>
  <xacro:include filename="$(find barret_hand_description)/urdf/bh280.urdf.xacro" />

  <!-- create the robot + bh combo itself as a macro -->
  <xacro:macro name="ur5_with_bh" params="prefix">
 
    <!-- instantiate -->
    <xacro:ur5 prefix="${prefix}robot_" />
    <xacro:bh      prefix="${prefix}ee_" />
 
    <!-- attach eef to M-10iA model -->
    <!-- Note: this assumes that the 'bh' macro defines a 'base_link'
        link which is the start of it's kinematic chain (if any) -->
      <!-- tool0 frame -->
  <link name="tool0" />
  <joint name="ee_tool" type="fixed">
    <parent link="_base_link"/>
    <child link="tool0"/>
    <origin xyz="0.0 0.0 0.0205" rpy="0.0 ${-pi/2} 0.0"/>
  </joint>
 
  </xacro:macro>
</robot>
 

When I run "check_urdf /home/ros/cats_ws/src/universal_robot/ur_bh/src/ur5_barret.urdf.xacro"
It return this error:
Error:   No link elements found in urdf file
         at line 180 in /build/buildd/urdfdom-0.2.10+dfsg/urdf_parser/src/model.cpp
ERROR: Model Parsing the xml faile

Does anybody know how to solve this problem?

Originally posted by raf4343 on ROS Answers with karma: 20 on 2017-07-26
Post score: 0

A:

Your xacro file only defines a macro, it never instantiates it.
So xacro evaluates your file, and since no macro is ever called, it is empty.
This is also hinted at in the tutorial you got this from (here):

By wrapping the new composite structure itself in a macro, it can be instantiated in much the same way as the original M-10iA macro.

Originally posted by gvdhoorn with karma: 86574 on 2017-07-26
This answer was ACCEPTED on the original site
Post score: 0


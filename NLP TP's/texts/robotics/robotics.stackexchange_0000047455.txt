Q:

Groovy Source Install "rosmake -a" Build Error - map server

Building groovy from source, following the OSX Homebrew instructions on OSX 10.8, fails at step 2.2.3 building "rosbuild packages" when I do command rosbuild -a. Everything starts off fine and then fails at map server. It complains about not finding common_rosdeps. The error message is shown below:
No Makefile in package visualization_msgs
[rosmake-0] Starting >>> topic_tools [ make ]                                   
[rosmake-0] Finished <<< topic_tools ROS_NOBUILD in package topic_tools
 No Makefile in package topic_tools
[rosmake-0] Starting >>> rosbag [ make ]                                        
[rosmake-0] Finished <<< rosbag ROS_NOBUILD in package rosbag
 No Makefile in package rosbag
[rosmake-0] Starting >>> map_server [ make ]                                    
[ rosmake ] All 32 linesf2: 40.9 sec ] [ map_ser... [ 2 Active 45/136 Complete ]
{-------------------------------------------------------------------------------
  mkdir -p bin
  cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=/opt/ros/groovy/share/ros/core/rosbuild/rostoolchain.cmake  ..
  -- The C compiler identification is Clang 4.1.0
  -- The CXX compiler identification is Clang 4.1.0
  -- Check for working C compiler: /usr/bin/cc
  -- Check for working C compiler: /usr/bin/cc -- works
  -- Detecting C compiler ABI info
  -- Detecting C compiler ABI info - done
  -- Check for working CXX compiler: /usr/bin/c++
  -- Check for working CXX compiler: /usr/bin/c++ -- works
  -- Detecting CXX compiler ABI info
  -- Detecting CXX compiler ABI info - done
  -- Found PythonInterp: /usr/bin/python (found version "2.7.2") 
  [rosbuild] Building package map_server
  Failed to invoke /opt/ros/groovy/bin/rospack deps-manifests map_server
  [rospack] Error: package/stack 'map_server' depends on non-existent package 'common_rosdeps' and rosdep claims that it is not a system dependency. Check the ROS_PACKAGE_PATH or try calling 'rosdep update'
  
  
  CMake Error at /opt/ros/groovy/share/ros/core/rosbuild/public.cmake:129 (message):
    
  
    Failed to invoke rospack to get compile flags for package 'map_server'.
    Look above for errors from rospack itself.  Aborting.  Please fix the
    broken dependency!
  
  Call Stack (most recent call first):
    /opt/ros/groovy/share/ros/core/rosbuild/public.cmake:203 (rosbuild_invoke_rospack)
    CMakeLists.txt:3 (rosbuild_init)
  
  
  -- Configuring incomplete, errors occurred!
-------------------------------------------------------------------------------}
[ rosmake ] Output from build of package map_server written to:
[ rosmake ]    /Users/kevin/.ros/rosmake/rosmake_output-20130120-081910/map_server/build_output.log
[rosmake-0] Finished <<< map_server [FAIL] [ 5.30 seconds ]                     
[ rosmake ] Halting due to failure in package map_server. 
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Output from build of package tf2 written to:Active 45/136 Complete ]
[ rosmake ]    /Users/kevin/.ros/rosmake/rosmake_output-20130120-081910/tf2/build_output.log
[rosmake-1] Finished <<< tf2 [PASS] [ 55.68 seconds ] -- WARNING: 5 compiler warnings
[ rosmake ] Results:                                                            
[ rosmake ] Built 47 packages with 1 failures.                                  
[ rosmake ] Summary output to directory                                         
[ rosmake ] /Users/kevin/.ros/rosmake/rosmake_output-20130120-081910            
[kevin@tardis groovy]$ 

Now I have successfully built the catkin packages in the previous steps and installed them to /opt/ros/groovy. I setup my work space for the rosbuild packages by:
rosws init . /opt/ros/groovy

I assume the common_rosdeps are located somewhere in /opt/ros/groovy.

Originally posted by Kevin on ROS Answers with karma: 2962 on 2013-01-20
Post score: 0

A:

I asked the question a little too quickly. Just go into manifest.xml in the map server package and comment out or delete this line:
<depend package="common_rosdeps" />

Originally posted by Kevin with karma: 2962 on 2013-01-20
This answer was ACCEPTED on the original site
Post score: 0


Q:

Kinect + Gazebo

I would like to create a standalone Kinect camera in a gazebo simulation (in electric) but am having trouble finding a simple tutorial that explains how to do so. I would like the entire model to be rendered as well. Any help to point me in the right direction is greatly appreciated!

Originally posted by rtoris288 on ROS Answers with karma: 1173 on 2012-02-15
Post score: 1

A:

A good start is having a look at the turtlebot_description package, as this provides a simulated Kinect with only a little bit of overhead - the turtlebot ;) Getting rid of the robot model or copying only the relevant parts should be pretty straightforward.
An example launch file for launching the turtlebot in gazebo can be found in the turtlebot_gazebo package and launched by executing
roslaunch turtlebot_gazebo  turtlebot_empty_world.launch

/Update:
The simulated kinect rgb image is then published on the "/camera/image_raw" topic and the point cloud is published on the "/camera/depth/points" topic. These topic names are set in the turtlebot_description/urdf/gazebo.urdf.xacro xacro macro and can be changed when you setup your own simulated kinect. Note that the simulated Kinect currently does not provide RGB data for the point cloud.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2012-02-15
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by rtoris288 on 2012-02-15:
After running the above launch file, I can see the Kinect rendered in simulation; however, I do not see any of the Kinect's images being published after checking with rxgraph
Comment by Stefan Kohlbrecher on 2012-02-15:
Hi, see updated post above.
Comment by John Hoare on 2012-02-23:
Hello, I have launched the turtlebot in gazebo but I do not see the PointCloud being published. I do, however see a laser scan being published. What do I need to do to get at a PointCloud?
Comment by Stefan Kohlbrecher on 2012-02-23:
The laser scan normally is generated from the point cloud on the turtlebot using the pointcloud_to_laserscan node. So if there's a laser scan, there definitely should be a pointcloud published, too. You should probably open a new question with further information on the problem.
Comment by Yannis on 2012-07-03:
When trying to display the /camera/depth/points in Rviz, the only thing displayed is a flat PointCloud, approximately at 1meter from the robot. Any idea what would be the cause ? It is the same as pointed out on this issue: http://answers.ros.org/question/36801/flat-pointcloud-with-turtlebot-simulat


Q:

groovy rosmake error

I tried to build my code using rosmake on groovy, but got these:
[ rosmake ] rosmake starting...
[ rosmake ] No package specified.  Building ['test']
[ rosmake ] Packages requested are: ['test']
[ rosmake ] Logging to directory /home/cyoukan/.ros/rosmake/rosmake_output-20130110-100212
[ rosmake ] Expanded args ['test'] to:
['test']
Traceback (most recent call last):
  File "/opt/ros/groovy/bin/rosmake", line 55, in <module>
    if rma.main():
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/engine.py", line 783, in main
    self.build_or_recurse(p)
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/engine.py", line 315, in build_or_recurse
    self.build_or_recurse(d)
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/engine.py", line 314, in build_or_recurse
    for d in self.dependency_tracker.get_deps_1(p):
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/parallel_build.py", line 100, in get_deps_1
    potential_dependencies = self.rospack.get_depends(package, implicit=False)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 188, in get_depends
    m = self.get_manifest(name)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 133, in get_manifest
    return self._load_manifest(name)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 172, in _load_manifest
    retval = self._manifests[name] = parse_manifest_file(self.get_path(name), self._manifest_name)
  File "/usr/lib/pymodules/python2.7/rospkg/manifest.py", line 376, in parse_manifest_file
    _static_rosdep_view = init_rospack_interface()
  File "/usr/lib/pymodules/python2.7/rosdep2/rospack.py", line 55, in init_rospack_interface
    lookup = _get_default_RosdepLookup(Options())
  File "/usr/lib/pymodules/python2.7/rosdep2/main.py", line 108, in _get_default_RosdepLookup
    lookup = RosdepLookup.create_from_rospkg(sources_loader=sources_loader)
  File "/usr/lib/pymodules/python2.7/rosdep2/lookup.py", line 319, in create_from_rospkg
    lookup._load_all_views(loader=sources_loader)
  File "/usr/lib/pymodules/python2.7/rosdep2/lookup.py", line 464, in _load_all_views
    self._load_view_dependencies(resource_name, loader)
  File "/usr/lib/pymodules/python2.7/rosdep2/lookup.py", line 486, in _load_view_dependencies
    loader.load_view(view_key, db, verbose=self.verbose)
  File "/usr/lib/pymodules/python2.7/rosdep2/sources_list.py", line 525, in load_view
    rosdep_db.set_view_data(view_name, source.rosdep_data, view_dependencies, view_name)
  File "/usr/lib/pymodules/python2.7/rosdep2/model.py", line 89, in set_view_data
    self._rosdep_db[view_name] = RosdepDatabaseEntry(rosdep_data.copy(), view_dependencies, origin)
AttributeError: 'NoneType' object has no attribute 'copy'
Traceback (most recent call last):
  File "/opt/ros/groovy/bin/rosmake", line 55, in <module>
    if rma.main():
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/engine.py", line 783, in main
    self.build_or_recurse(p)
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/engine.py", line 315, in build_or_recurse
    self.build_or_recurse(d)
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/engine.py", line 314, in build_or_recurse
    for d in self.dependency_tracker.get_deps_1(p):
  File "/opt/ros/groovy/lib/python2.7/dist-packages/rosmake/parallel_build.py", line 100, in get_deps_1
    potential_dependencies = self.rospack.get_depends(package, implicit=False)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 188, in get_depends
    m = self.get_manifest(name)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 133, in get_manifest
    return self._load_manifest(name)
  File "/usr/lib/pymodules/python2.7/rospkg/rospack.py", line 172, in _load_manifest
    retval = self._manifests[name] = parse_manifest_file(self.get_path(name), self._manifest_name)
  File "/usr/lib/pymodules/python2.7/rospkg/manifest.py", line 376, in parse_manifest_file
    _static_rosdep_view = init_rospack_interface()
  File "/usr/lib/pymodules/python2.7/rosdep2/rospack.py", line 55, in init_rospack_interface
    lookup = _get_default_RosdepLookup(Options())
  File "/usr/lib/pymodules/python2.7/rosdep2/main.py", line 108, in _get_default_RosdepLookup
    lookup = RosdepLookup.create_from_rospkg(sources_loader=sources_loader)
  File "/usr/lib/pymodules/python2.7/rosdep2/lookup.py", line 319, in create_from_rospkg
    lookup._load_all_views(loader=sources_loader)
  File "/usr/lib/pymodules/python2.7/rosdep2/lookup.py", line 464, in _load_all_views
    self._load_view_dependencies(resource_name, loader)
  File "/usr/lib/pymodules/python2.7/rosdep2/lookup.py", line 486, in _load_view_dependencies
    loader.load_view(view_key, db, verbose=self.verbose)
  File "/usr/lib/pymodules/python2.7/rosdep2/sources_list.py", line 525, in load_view
    rosdep_db.set_view_data(view_name, source.rosdep_data, view_dependencies, view_name)
  File "/usr/lib/pymodules/python2.7/rosdep2/model.py", line 89, in set_view_data
    self._rosdep_db[view_name] = RosdepDatabaseEntry(rosdep_data.copy(), view_dependencies, origin)
AttributeError: 'NoneType' object has no attribute 'copy'

Does anyone have the same problem?

Originally posted by Kent on ROS Answers with karma: 140 on 2013-01-09
Post score: 1

A:

This looks like a bug, please create a ticket at: https://github.com/ros/rosdep
include the files at ./ros/rosdep because they might be valuable to reproduce the bug.
Possibly you can backup ./ros/rosdep for the bug report, then delete it and run your command agin.

Originally posted by KruseT with karma: 7848 on 2013-01-09
This answer was ACCEPTED on the original site
Post score: 0


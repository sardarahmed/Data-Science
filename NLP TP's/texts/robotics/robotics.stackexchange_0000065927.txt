Q:

return value in action server

Hi, I'm following this tutorial  http://wiki.ros.org/actionlib , and my question is,
The server can return a value to the client? How can I do?
thanks!!

Originally posted by rcj1986 on ROS Answers with karma: 121 on 2015-02-19
Post score: 1

A:

There's a short snippet sn section 5 of the page you linked:
# Define the goal
uint32 dishwasher_id  # Specify which dishwasher we want to use
---
# Define the result
uint32 total_dishes_cleaned
---
# Define a feedback message
float32 percent_complete

See the line with # Define the result? The return type of this action is uint32 and the name of the return value is total_dishes_cleaned.
To set this return value have a look at the setSucceeded() signature found here:
void actionlib::SimpleActionServer< ActionSpec >::setSucceeded(const Result &   result = Result(),
    const std::string &     
    text = std::string("") 
)

You can call setSucceeded() with a result as parameter. In this result object you can set the return members.
In Python it works the same.

Originally posted by BennyRe with karma: 2949 on 2015-02-20
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by rcj1986 on 2015-02-20:
Thank you for your reply.
Do you know if it's possible declare the result like a geometry_msgs::Pose or only the "normal" type of variables (float, int, etc)?
Comment by BennyRe on 2015-02-20:
Yes this works. Just do package_name/MessageName


Q:

turtlebot3 low battery beeping

Hello! To preface, I am running ros on a turtlebot3 using Ubuntu 16.02. I am wondering where I can change the turtlebot's source code so that it does not beep when the battery is low. Thanks!

Originally posted by AmateurHour on ROS Answers with karma: 95 on 2018-07-03
Post score: 0

A:

Hi @AmateurHour,
The buzzer you mentioned is equipped with OpenCR, the main controller of TurtleBot3. OpenCR checks the voltage of the battery and when the voltage is below 11V, the buzzer sounds. If you do not want to use it, you can modify the turtlebot3_diagnosis.cpp part of OpenCR. The related code is the link below.
https://github.com/ROBOTIS-GIT/OpenCR/blob/df6f6dcfacc6f400083210495a8f944728bf70d6/arduino/opencr_arduino/opencr/libraries/turtlebot3/src/turtlebot3/turtlebot3_diagnosis.cpp#L259-L288
Please refer to the link below for the information needed for this modification. :)

Setting the Arduino IDE for OpenCR
http://emanual.robotis.com/docs/en/platform/turtlebot3/opencr_setup/#arduino-ide

How to modify ROS library code (OpenCR)
http://emanual.robotis.com/docs/en/platform/turtlebot3/appendix_opencr1_0/#how-to-modify-ros-library-code

Originally posted by Pyo with karma: 358 on 2018-07-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by AmateurHour on 2018-07-03:
Fantastic, thank you!!
Comment by rodrigo55 on 2021-10-04:
Hi @Pyo,
I am also interested in making this modification. My Arduino IDE is setup for OpenCR already, and I have found the file I'm supposed to modify according to the last link:
In my case, the path is
~/.arduino15/packages/OpenCR/hardware/OpenCR/1.4.18/libraries/turtlebot3/src/turtlebot3/turtlebot3_diagnosis.cpp
I have made the changes in the code to stop the low voltage alarm, but how do I sent the modified file to the OpenCR? Do I need to upload it somehow? Run the bootloader?
I can't just use arduino to upload it to the board because it is a .cpp file
Please help! Thanks.
Comment by Will Son on 2021-10-14:
You could use Arduino IDE to upload the modified firmware.
https://github.com/ROBOTIS-GIT/OpenCR/issues/286#issuecomment-943874988


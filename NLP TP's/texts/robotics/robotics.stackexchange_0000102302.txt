Q:

is it possible increase the maximum speed of a simulated equivalent of a real life robot in gazebo

is it possible increase the maximum speed of a simulated equivalent of a real life robot in gazebo?For instance a real life turtlebot3 has a max speed of 0.22m/s. The simulted turtlebot3 is set to have a max speed of 0.22m/s, is there a way to modify some files to increase the speed of the simulated turtlebot3?
Edit:I modified the turtlebot_drive.h script, and the DWA_localplanner yaml file. Not sure which one did it but it worked!

Originally posted by distro on ROS Answers with karma: 167 on 2022-08-23
Post score: 0

A:

You can try to modify these values in the turtlebot3_simulations header turtlebot3_drive.h:
https://github.com/ROBOTIS-GIT/turtlebot3_simulations/blob/ac7298dfa215d3f05580520d6a938c3dabb53bad/turtlebot3_gazebo/include/turtlebot3_gazebo/turtlebot3_drive.h#L35
It is used in the control loop in the source file:
https://github.com/ROBOTIS-GIT/turtlebot3_simulations/blob/ac7298dfa215d3f05580520d6a938c3dabb53bad/turtlebot3_gazebo/src/turtlebot3_drive.cpp#L100

Originally posted by ljaniec with karma: 3064 on 2022-08-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by distro on 2022-08-23:
@ljaniec Has you tried it yourself?
Comment by ljaniec on 2022-08-23:
No, because I have a real TB in the lab, so it would be irresponsible - I want to have the same setup IRL and in simulation. If you use the standard simulation in Gazebo with Turtlebot and teleop connected, you can check with the keyboard that you can accelerate from TB to higher speeds. There is no filter/damping on the speed input in the simulated TB robot. This way you can avoid changing the source code.
Comment by distro on 2022-08-23:
@ljaniec do you happen to use turtlebot2's by any chance? I posted another question about that
Comment by ljaniec on 2022-08-24:
Yes, you can link it. I modded it to ROS2 though but maybe I can check it anyway
Comment by distro on 2022-08-24:
@ljaniec This is it here
Comment by distro on 2022-08-28:
@ljaniec I git cloned the turtlebot3_simulations to my workspace and modified turtlebot3_drive.h
#define LINEAR_VELOCITY  0.44 //0.3
#define ANGULAR_VELOCITY 2.2  //1.5

It did not seem to work. When I teleop, the linear velocity still remains at 0.22m/s.
Comment by ljaniec on 2022-08-29:
If you check it with turtlebot3_teleop_key, you can read here: https://github.com/ROBOTIS-GIT/turtlebot3/issues/897 that it has another set of "limits" (e.g. https://github.com/ROBOTIS-GIT/turtlebot3/blob/9867e2f1f5c9ed54d2b41998a77a9c8eb42ebafd/turtlebot3_teleop/nodes/turtlebot3_teleop_key#L38 and https://github.com/ROBOTIS-GIT/turtlebot3/blob/9867e2f1f5c9ed54d2b41998a77a9c8eb42ebafd/turtlebot3_teleop/nodes/turtlebot3_teleop_key#L184)
You should check now two things:

a modification of the turtlebot3_teleop_key package to your needs with manual tests with teleop_key
a modification of the turtlebot3_simulations package with test with simple TestCmdVelPublisher node (for moving the TB2 in Gazebo)

Comment by distro on 2022-08-31:
@ljaniec sorry I had though I replied to this. I also wish for the max velocity to be higher when I use 2D Nav Goal, so when I'm not manually driving the robot. Do you know what files I might need to change for that?
Comment by ljaniec on 2022-09-05:
In general, you should review the code of the PR2 controller used in the TB2 URDF model - maybe somewhere here you can see if some ifs there have any speed restrictions specified/implemented
Comment by distro on 2022-09-05:
@ljaniec Would you mind leaving a link? Not sure which codes you are talking about.
Comment by ljaniec on 2022-09-07:
https://github.com/ROBOTIS-GIT/turtlebot3/blob/melodic-devel/turtlebot3_navigation/param/base_local_planner_params.yaml - YAML with parameters (tuning guide is here) used in the XML launch file. My previous comment was unclear, sorry. I didn't find any other places where you can modify these speed parameters (links here + mentioned above in other comments). Other links: https://github.com/ROBOTIS-GIT/turtlebot3/issues/615 https://github.com/ROBOTIS-GIT/turtlebot3/issues/451
Comment by distro on 2022-09-10:
@ljaniec I modiffied the turtlebot_drive.h, and the DWA_planner yaml file. Not sure which one did it but it worked! I need help woth more turtlebot stuff if you have the time, here and here
Comment by ljaniec on 2022-09-11:
You are welcome! You can upvote and accept this as an answer - please, describe your modification in the edit of the question for future readers, you can see that this topic of speed modification comes quite often. I think you should share your knowledge and experience :)
Comment by distro on 2022-09-20:
@ljaniec please take a look at this other problem I am having with turtlebot2 recently. here


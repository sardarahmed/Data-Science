Q:

Is there something like TransformWithCovarianceStamped?

I'm using a tf::StampedTransform message to add some odometric measurements to a factor graph, and I'd like to initialize the noise model for the measurement using the covariance from the ROS package thats publishing the TF.
I had thought there was a transform message that included covariance, but perhaps I was thinking of PoseWithCovarianceStamped, as I do not see an equivalent TransformWithCovarianceStamped among the geometry message types. I guess what I'm asking is in general, how one might one refactor this to incorporate covariance information, is there perhaps a pose listener lookup? I'm using a tf_listener to look up the transform between two times, but now I also need to look up the connivance for it as well.
Details:
I'm using a tf listener to grab the relative pose between time stamps like so:
tf_pose_plugin.cpp#L38
And svo for visual radiometry is publishing the tf like so: visualizer.cpp#L208
but svo also publishes PoseWithCovarianceStamped here: visualizer.cpp#L196

Originally posted by ruffsl on ROS Answers with karma: 1094 on 2015-09-01
Post score: 0

A:

Dealing with uncertainty in tf is definitely a problem. There are issues with representation of uncertainty to start with. Followed by how to chain uncertainty, as well as how to interpolate uncertainty.
You can probably write a method for interpolating your PoseWitthCovarianceStamped however I recommend keeping everything in the same coordinate frame otherwise you will also need to solve the covariance chaining problem.
The other reason covariance is not in the standard tf streams is that is a lot of information compared to just the core data.

Originally posted by tfoote with karma: 58457 on 2015-09-01
This answer was ACCEPTED on the original site
Post score: 1


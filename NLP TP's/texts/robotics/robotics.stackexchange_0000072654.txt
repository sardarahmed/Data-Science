Q:

exclude some topics from rosbag play

I have a bag file with a bunch of topics inside of it, is it possible to exclude some topics from being played back?
For example, the bag file might have:
topics:      /camera/depth/image            150 msgs    : sensor_msgs/Image          
             /camera/rgb/image_color        150 msgs    : sensor_msgs/Image          
             /joint_states                 2500 msgs    : sensor_msgs/JointState     
             /rosout                         35 msgs    : rosgraph_msgs/Log          
             /rosout_agg                     35 msgs    : rosgraph_msgs/Log          
             /tf                           7697 msgs    : tf2_msgs/TFMessage

And I might be interested in playing back everything except the /tf topic.
Is there a shorter way than rosbag play file.bag --topics <topic> with all topics?

Originally posted by Felix Duvallet on ROS Answers with karma: 539 on 2016-03-10
Post score: 4

A:

If you don't mind having to create a new bag, then perhaps you could use the filter command.
To end up with a new bag file that excludes the /tf topic would be something like:
$ rosbag filter file.bag file-no-tf.bag "topic != '/tf'"

Originally posted by gvdhoorn with karma: 86574 on 2016-03-10
This answer was ACCEPTED on the original site
Post score: 7

Original comments
Comment by lucasw on 2017-01-05:
On my system this is taking about 10 minutes per gigabyte, also the bags were 10 minutes in duration- I'm not sure if that is a coincidence.
Comment by Pototo on 2022-03-16:
Thanks for the answer. How do we filter several topics?
Comment by labude on 2022-10-28:
Have a look at this question:
https://answers.ros.org/question/191003/can-rosbag-filter-create-a-new-bag-file-with-multiple-topics-within-it/
You can use "topic != 'topic1' and topic != 'topic2' and ... "


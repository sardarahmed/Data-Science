Q:

RViz gets Moveit setup assistant's poses wrong

Hi,
I have created a Moveit config package using the moveit_setup_assistant, containing several poses for my 6dof arm. However, when executing these poses using:
roslaunch simple6dofarm_config demo.launch rviz_tutorial:=true

The poses are wrong, as can be seen on these two comparisons for example:

vs

And

vs

What's going on ?

Originally posted by argargreg on ROS Answers with karma: 15 on 2020-01-23
Post score: 0

Original comments
Comment by gvdhoorn on 2020-01-23:
And please attach your screenshots to the question directly. I've given you sufficient karma for that.

A:

There's a chance this could be a locale issue. Note how in the MSA, decimals are separated by a . (ie: dot). But in RViz, it's , (ie: comma). In your terminal, it's dots again.
I don't know whether this is the cause, but it might be worth checking.

Originally posted by gvdhoorn with karma: 86574 on 2020-01-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by argargreg on 2020-01-23:
Thanks for your answer - and for enabling me to upload the pictures. That's a great idea, however wouldn't the elbow position be 1.77 rad instead of 1 (1560 modulo pi) ? Also, in a python shell float("0,6") generates an error while float("0.6") does not :/ (but if I'm missing something, how to change RViz's locale?)
Comment by gvdhoorn on 2020-01-24:
I'm not sure what you mean with the modulo comment: if locale is incorrectly configured, floating nrs will just get truncated (at best). There is no (intelligent) rounding.

how to change RViz's locale?

You could export LC_NUMERIC=en_US.UTF-8 in a terminal and then start RViz / your launch file from that same terminal. But as I wrote: I'm not sure this is a locale issue. I just noticed the different decimal separators.
Comment by argargreg on 2020-01-27:
Eagle eye! That worked like a charm. Thanks a lot for your help, add that comment to an answer, I'll accept it gladly :)


Q:

URDF Joint Mimic Tag Not Functioning

I am using the new mimic tag that is included in the urdf/XML/joint element, like so (this is xacro):
  <joint name="gripper_finger_joint" type="revolute">
    <parent link="gripper_roll_link"/>
    <child link="gripper_finger_link"/>
    <origin xyz="0.026 .017 0" rpy="${1.04*M_PI} ${M_PI/2} ${34.58*M_PI/180}" />
    <axis xyz="1 0 0" />
    <limit effort="300" velocity="1" lower="${-53*M_PI/180}" upper="${0*M_PI/180}"/>
    <dynamics damping="50" friction="1"/>
  </joint>

  ...

  <joint name="r_gripper_aft_joint" type="revolute">
    <parent link="gripper_roll_link"/>
    <child link="r_gripper_aft_link"/>
    <origin xyz="0.026 -0.011  0" rpy="${1.345*M_PI} ${M_PI/2} ${34.58*M_PI/180}" />
    <axis xyz="1 0 0" />
    <limit effort="300" velocity="1" lower="-3.14" upper="3.14" />
    <mimic joint="gripper_finger_joint" multiplier="-1.0" offset="0.0" />
    <dynamics damping="50" friction="1"/>
  </joint>

However, in Rviz the mimic joints are not working with the Rviz RobotModel plugin. What could I be missing?
The entire urdf is available here.

Originally posted by Dave Coleman on ROS Answers with karma: 1396 on 2013-04-16
Post score: 2

A:

What are you using to visualize the robot? Can you try the RobotModel as well as the MoveIt! MotionPlanningDisplay ?  Is there a difference?

Originally posted by isucan with karma: 1055 on 2013-04-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Dave Coleman on 2013-04-18:
Ah, yes, mimic joint does work in the MoveIt! MotionPlanningDisplay. However, it does not work using the RobotModel plugin, which seems like an issue since the mimic joint is part of URDF, a non-MoveIt specific component.
Comment by Dave Coleman on 2013-04-18:
Additionally, it seems like the RobotState MoveIt plugin works too, but I don't know what to put in the "Robot State Topic" to make it reflect the current published TFs from the controllers.
Comment by isucan on 2013-04-18:
Alright. Does your system publish the value of the mimic joints on /joint_states ? I expect not. This is redundant information, but I believe it is what the robot_state_publisher uses. I guess the robot_state_publisher needs to be updated to 'fill in the blanks', where the blanks are mimic joints.
Comment by Dave Coleman on 2013-04-18:
Currently David Lu!!!'s joint state publisher does that, but I was assuming it had already been integrated into robot_state_publisher when I heard that mimic tags were officially supported.
Comment by isucan on 2013-04-18:
Please assign a ticket to robot_state_publisher and we'll continue the discussion there.
Comment by Dave Coleman on 2013-04-18:
Ticket posted: https://github.com/ros/robot_state_publisher/issues/1


Q:

Length of the ranges array in a LaserScan msg

Hi,
I'm having this programming problem: I'm cycling through the ranges array in LaserScan messages and accessing its values. I'm using just this simple for cycle:
for (int i = 0; i < sizeof(scan->ranges)/sizeof(scan->ranges[0]); i++)

But the expression for getting the array length returns the value of 6, although  the scan contains many more values (seen them through rostopic echo). What am I doing wrong? Isn't this the normal way of obtaining the length of an array in C++?

Originally posted by sykatch on ROS Answers with karma: 109 on 2017-10-07
Post score: 1

A:

Isn't this the normal way of obtaining the length of an array in C++?

No. What you show is one approach that you could use in C.

I'm cycling through the ranges array in LaserScan messages [..]

Note that unbounded arrays in ROS msgs are mapped onto std::vector in C++.
If you want to use an old style for-loop, you can use std::vector::size(). Otherwise an iterator is a bit more "C++-y".

Refer to wiki/msg for more information on how ROS msg IDL is mapped onto C++ types.

Originally posted by gvdhoorn with karma: 86574 on 2017-10-07
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by sykatch on 2017-10-07:
Oh, it's a vector. I thought it's a normal array. Thanks, now I get it.


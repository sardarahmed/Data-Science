Q:

GPS antenna not in the center

Hi.
To put it simply, I want robot_localization's / odometry / gps to start at (x, y, z) = (0, 0.3, 0) instead of (0, 0, 0).
I'm trying to get the robot to estimate its position.
It worked generally well, but there is only one problem.
The robot I'm using cannot be structurally fitted with a GPS antenna in the center of the robot, the antenna is fitted 30 cm to the right.
In robot_localization, the read latitude and longitude are set to (x, y) = (0,0), so the positional relationship with other sensors is broken, and self-position estimation is performed with this error included.
I have already created a node that calculates the orientation of the robot and outputs new /odometry shifted from the antenna position to the center of the robot.
Does anyone know how to solve this?

Originally posted by Awt on ROS Answers with karma: 3 on 2022-01-31
Post score: 0

A:

You should include your full EKF and navsat_transform_node config, a sample input message from every sensor input, and the value of any static transforms.
navsat_transform_node will account for the GPS sensor's offset from base_link, as it is defined in your transform tree. If you want to force some initial state for the EKF, you can use the initial_state parameter.

Originally posted by Tom Moore with karma: 13689 on 2022-02-25
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Awt on 2022-03-17:
Thanks, Mr. Moore.
I try to do this.


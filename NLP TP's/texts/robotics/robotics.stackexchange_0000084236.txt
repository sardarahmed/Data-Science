Q:

getting the tf between camera and markers

I'm preety new to ROS and python. I'm using the ar_track_alvar pkg and i need to get the tf from camera to marker. Supposeaddly it's given by the package so i thought to create a listener to get it but i have no idea how to do it

Originally posted by fil on ROS Answers with karma: 11 on 2017-12-05
Post score: 1

Original comments
Comment by jayess on 2017-12-07:
Take a look at http://wiki.ros.org/tf2/Tutorials

A:

Hi, you can use the following piece of code to publish tf between two frames. For example tf between "base_link" to "scans" in 2D -> [x,y,theta]
import tf

def handle_transform(parent, child, tr):
    br.sendTransform((tr[0], tr[1], 0), tf.transformations.quaternion_from_euler(0, 0, tr[2]), rospy.Time.now(), child,parent)

if __name__ == "__main__":
    
    rospy.init_node('main', anonymous=True) #make node 
    rate = rospy.Rate(5) # 5hz  
    br = tf.TransformBroadcaster() 
        
    while not rospy.is_shutdown():
                    
        handle_transform("base_link", "scans", [0,0,0])
        rate.sleep()

Originally posted by Gayan Brahmanage with karma: 929 on 2017-12-07
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by PeteBlackerThe3rd on 2017-12-07:
The OP is asking how to query the TF system, not publish to it


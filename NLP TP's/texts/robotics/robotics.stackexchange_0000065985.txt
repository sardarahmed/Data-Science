Q:

rostopic hz output more than real frequency

Hi All,
I have a callback function that takes point clouds from a openni device at a frequency of 30 Hz.
Inside that function I do some computations with it and then I publish the outcome of my computations using the time of the cloud I received, because the result is related to that specific cloud.
Since the computation is sometimes slow, I expect that the frequency of publication is lower than 30 Hz, but actually when I run rostopic hz on the topic I get 30 Hz, even though when I print the time inside the callback and I count the prints within a second I get around 20.
How is it possible?

Originally posted by mark_vision on ROS Answers with karma: 275 on 2015-02-23
Post score: 2

Original comments
Comment by 130s on 2015-04-07:
Looks similar http://answers.ros.org/question/206493/rostopic-hz-inaccurate/

A:

Perhaps your issue is nodelet related?  I'm new to nodelets and point clouds, but my understanding is that serialization performance on point clouds is so horrible you shouln't even attempt using them except between nodelets.  And furthermore, several of the ros tools to not work well with nodelets. i.e. I do not see connections between nodes and nodelets in rqt_graph in indigo. So perhaps a nodelet-related bug in rostopic hz?  Try to reproduce on a minimal example?

Originally posted by drewm1980 with karma: 258 on 2015-10-20
This answer was ACCEPTED on the original site
Post score: 0


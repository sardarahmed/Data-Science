Q:

What does marker.lifetime = rospy.Duration() do?

Simple question :
What effect does marker.lifetime = rospy.Duration() have to a marker?

Originally posted by John999991 on ROS Answers with karma: 37 on 2020-02-22
Post score: 0

A:

As it is stated in the msg definition:
"How long the object should last before being automatically deleted.  0 means forever"
Basically is the amount of time the marker will last.

Originally posted by Weasfas with karma: 1695 on 2020-02-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by skpro19 on 2021-05-14:
Consider the following piece of code -
ros::Publisher vis_pub = nh.advertise<visualization_msgs::Marker>( "visualization_markers", 10 );
vis_pub.publish(marker);

Since the above mentioned bit of code is not inside a while loop ( while (ros::ok()) { .... publish ... } ), the publisher would publish just once on the topic viualisation_markers.
Assume that the marker object has the lifetime attribute set to 0. Would that mean that Rviz would continue to display the marker?
Comment by Weasfas on 2021-05-14:
@skpro19 Indeed, One thing is the publishing time and another thing is the life time of the marker displayed on Rviz. Basically, in the hypothetical case you proposed, even if the marker is published once, Rviz will continue displaying the same marker with the same state, until you force a marker deletion, GUI Reset or clean the topic (by enabling/disabling the topic with the check mark), in that cases the marker item will be recycled by Rviz by deleting it from screen.


Q:

/world frame in stage simulation

Hi, i'm new to tf and rviz. I have a simulation in stage with an array of lasers and robots. I want to see all laser scans in rviz but, as far as i know, i need to have a correct tree of frames (related between them), but simulating that, i have frame for every position model, but don't have a /world frame in which other frames can be related and connected.
Is there a way in which i could add a /world frame and parent it with another frames?
EDIT:
these are the frames I get: frames.pdf

Originally posted by gustavo.velascoh on ROS Answers with karma: 756 on 2013-02-22
Post score: 0

A:

What transforms are you getting?
$ rosrun tf tf_monitor

Stage should be providing transforms to the /odom frame.
Can rviz display them in /odom?
EDIT: I see stage is providing separate /robot_N/odom frames. That is actually reasonable, since neither is presumed to be exact.
If you wish to display them as if the odom frames were ground truth, you can define static transforms from /map to /robot_N/odom:
$ rosrun tf static_transform_publisher 0 0 0 0 0 0 /map /robot_0/odom 1000
$ rosrun tf static_transform_publisher 0 0 0 0 0 0 /map /robot_1/odom 1000

That is not really correct, since there should be a certain amount of noise added to your simulated odometry. But it should work well enough for viewing in the /map frame.
A more accurate solution would involve writing your own transform broadcaster that subscribes to the stage base_pose_ground_truth topic, broadcasting the exact pose in some convenient frame of reference. That may be tricky to get working.

Originally posted by joq with karma: 25443 on 2013-02-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by gustavo.velascoh on 2013-02-22:
I have transforms /robot_0/odom through /robot_n/odom
Comment by gustavo.velascoh on 2013-02-23:
Thanks Jack!


Q:

No camera message received with tum_simulator

I am running tum_simulator in ros kinetic ubuntu 16.04
when i run $ roslaunch cvg_sim_gazebo ardrone_testworld.launch
i get the following warning,
xacro: Traditional processing is deprecated. Switch to --inorder processing!
To check for compatibility of your document, use option --check-order.
For more infos, see http://wiki.ros.org/xacro#Processing_Order
inconsistent namespace redefinitions for xmlns:xacro:
old: http://playerstage.sourceforge.net/gazebo/xmlschema/#interface
new: http://ros.org/wiki/xacro (/home/dyana/catkin_make/src/cvg_sim_gazebo/urdf/quadrotor_base.urdf.xacro)
inconsistent namespace redefinitions for xmlns:xacro:
old: http://playerstage.sourceforge.net/gazebo/xmlschema/#interface
new: http://ros.org/wiki/xacro (/home/dyana/catkin_make/src/cvg_sim_gazebo/urdf/sensors/sonar_sensor.urdf.xacro)
inconsistent namespace redefinitions for xmlns:xacro:
old: http://playerstage.sourceforge.net/gazebo/xmlschema/#interface
new: http://ros.org/wiki/xacro (/home/dyana/catkin_make/src/cvg_sim_gazebo/urdf/sensors/generic_camera.urdf.xacro)
inconsistent namespace redefinitions for xmlns:xacro:
old: http://playerstage.sourceforge.net/gazebo/xmlschema/#interface
new: http://ros.org/wiki/xacro (/home/dyana/catkin_make/src/cvg_sim_gazebo/urdf/sensors/generic_camera.urdf.xacro)
redefining global property: pi
when processing file: /home/dyana/catkin_make/src/cvg_sim_gazebo/urdf/quadrotor_sensors.urdf.xacro
xacro.py is deprecated; please use xacro instead

and when I
$ rostopic echo /ardrone/front/camera_info
WARNING: no messages received and simulated time is active.
Is /clock being published?

I get the above message.
Is it because the camera xacro is not loaded properly?
I did not have such issues while running with ros indigo. I get this issue after I moved to kinetic and gazebo7.14
How do i resolve this?
UPDATE:
I was trying to run tum_ardrone with tum_simulator and the drone camera feed window in tum_ardrone did not open. When I searched for possible reasons, I found that without the camera topic, the drone camera feed window will not open.
And when I checked the camera topic published by tum_simulator, there were no messages.
The output of,
$ rostopic list
/altimeter
/ardrone/bottom/camera_info
/ardrone/bottom/image_raw
/ardrone/camera_info
/ardrone/front/camera_info
/ardrone/front/image_raw
/ardrone/image_raw
/ardrone/imu
/ardrone/land
/ardrone/navdata
/ardrone/reset
/ardrone/takeoff
/clock
/cmd_vel
/fix
/fix_velocity
/gazebo/link_states
/gazebo/model_states
/gazebo/parameter_descriptions
/gazebo/parameter_updates
/gazebo/set_link_state
/gazebo/set_model_state
/gazebo_gui/parameter_descriptions
/gazebo_gui/parameter_updates
/ground_truth/state
/joint_states
/magnetic
/pressure_height
/rosout
/rosout_agg
/sonar_height
/tf
/tf_static

when i check for the camera topic info, it shows there are no publishers.
$ rostopic info /ardrone/front/image_raw
Type: sensor_msgs/Image

Publishers: None

Subscribers: 
 * /gazebo (http://dyana-Inspiron-3542:35595/)

I wonder why? while working with indigo I was launching the same launch files,
$ roslaunch cvg_sim_gazebo ardrone_testworld.launch
with
$ roslaunch tum_ardrone tum_ardrone.launch
and I would get drone camera feed opened by tum_ardrone

Also when launching tum_simulator for the first time, i got the following error,
/opt/ros/kinetic/lib/image_proc/image_proc: symbol lookup error: /home/dyana/catkin_make/devel/lib/libimage_geometry.so: undefined symbol: _ZTVN2cv12_OutputArrayE
[ardrone/front/image_proc-2] process has died [pid 5698, exit code 127, cmd /opt/ros/kinetic/lib/image_proc/image_proc __name:=image_proc __log:=/home/dyana/.ros/log/339ec7d6-e4de-11e8-ba23-c03896420cbf/ardrone-front-image_proc-2.log].
log file: /home/dyana/.ros/log/339ec7d6-e4de-11e8-ba23-c03896420cbf/ardrone-front-image_proc-2*.log

I deleted vision-opencv and image-geometry in ~/catkin_make/src
and deleted build and devel folder in ~/catkin_make
ran,
sudo apt-get install ros-kinetic-image-proc
sudo apt-get install ros-kinetic-image-geometry
sudo apt-get install ros-kinetic-vision-opencv

catkin_make

after that I did not get the error.
Does it have to do anything with the camera topic not being published? or am i missing some gazebo plugin that is required to publish camera images?

Originally posted by boon on ROS Answers with karma: 111 on 2018-11-12
Post score: 0

Original comments
Comment by PeteBlackerThe3rd on 2018-11-12:
Yes this is caused by the xacro errors. The error messages give you several instructions how to solve them have you tried them? Have you looked at http://wiki.ros.org/xacro#Processing_Order ?
Comment by boon on 2018-11-13:
I found a tum_simulator ported to ros kinetic, https://github.com/angelsantamaria/tum_simulator
Now, i don't get any warning related to xacro, but still I don't get any messages in camera topic.
$ rostopic echo /ardrone/front/image_raw
WARNING: no messages received and simulated time is active.
Comment by PeteBlackerThe3rd on 2018-11-13:
Can you show us the output of rostopic list it's possible the name of the camera image topic has simply changed.
Comment by PeteBlackerThe3rd on 2018-11-13:
Okay, now run rostopic info /ardrone/front/image_raw and it will  display info about any publishers of or subscribers to that topic. I moved your response into your original question, can you post any further updates in there.
Comment by boon on 2018-11-15:
Thanks for the help @PeterBlackerThe3rd

A:

i was missing gazebo_ros_pkgs, and I installed them,
sudo apt-get install ros-kinetic-gazebo-ros-pkgs ros-kinetic-gazebo-ros-control
Now, the camera topics are getting published.
$ rostopic info /ardrone/front/image_raw
Type: sensor_msgs/Image

Publishers: 
 * /gazebo (http://dyana-Inspiron-3542:39613/)

Subscribers:

/gazebo (http://dyana-Inspiron-3542:39613/)

Originally posted by boon with karma: 111 on 2018-11-15
This answer was ACCEPTED on the original site
Post score: 0


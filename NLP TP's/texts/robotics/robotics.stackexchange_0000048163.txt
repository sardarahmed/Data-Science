Q:

Unable to communicate with Gazebo service

I am trying to get the angle of a joint in Gazebo, with the get_joint_properties service.
rosservice call gazebo/get_joint_properties '{joint_name: arm_base_joint }'
ERROR: Unable to communicate with service [/gazebo/get_joint_properties], address [rosrpc://Flaptop:33666]

 rosservice call gazebo/get_joint_properties '{joint_name: arm_base_joint }'
ERROR: service [/gazebo/get_joint_properties] responded with an error: 

rosservice call gazebo/get_joint_properties '{joint_name: arm_base_joint }'
ERROR: Unable to communicate with service [/gazebo/get_joint_properties], address [rosrpc://Flaptop:45950]

The service is running:
 rosservice info /gazebo/get_joint_properties
    Node: /gazebo
    URI: rosrpc://Flaptop:45950
    Type: gazebo_msgs/GetJointProperties
    Args: joint_name

If I look in rxconsole I can see that the request is made. But why does it not respond? Should there be something extra in the model file?
TCPROS received a connection from [127.0.0.1:45196]

Connection: Creating ServiceClientLink for service [/gazebo/get_joint_properties] connected to [callerid=[/rosservice] address=[TCPROS connection to [127.0.0.1:45196 on socket 53]]]

Service client [/rosservice] wants service [/gazebo/get_joint_properties] with md5sum [*]

Socket [53] received 0/4 bytes, closing

TCP socket [53] closed

Connection::drop(0)

Connection::drop(2)

Connection::drop(2)

Accepted connection on socket [11], new socket [53]

TCPROS received a connection from [127.0.0.1:45204]

Connection: Creating ServiceClientLink for service [/gazebo/get_joint_properties] connected to [callerid=[/rosservice_26050_1360430129445] address=[TCPROS connection to [127.0.0.1:45204 on socket 53]]]

Service client [/rosservice_26050_1360430129445] wants service [/gazebo/get_joint_properties] with md5sum [7b30be900f50aa21efec4a0ec92d91c9]

Connection::drop(2)

TCP socket [53] closed

Connection::drop(0)

Connection::drop(2)

Connection::drop(2)

Originally posted by davinci on ROS Answers with karma: 2573 on 2013-02-09
Post score: 0

A:

This could be the same problem as in
http://answers.ros.org/question/39869/rosservice-call-gazebo-get_link_properties-fails-responded-with-an-error-or-crashes-gzserver/
In that case, you could try to recompile with the patch pointed to there, or alternatively try to work around the problem by using the link_states topic. This won't give you a joint angle, but you could get that from the link pose.

Originally posted by wcaarls with karma: 76 on 2013-02-10
This answer was ACCEPTED on the original site
Post score: 1


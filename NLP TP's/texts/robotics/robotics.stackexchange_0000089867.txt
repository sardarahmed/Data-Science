Q:

run_id on parameter server does not match declared run_id

I have set up several roslaunch files to be launched at system startup using systemd. However at the startup they show the above error and fail. When I set the systemd services to be restarted on failure, launch files are relaunched when failed and work fine. What might I be doing wrong here? Declared run_id for each roslaunch seems to be different from each other at the first launch.
The error is in the following format
run_id on parameter server does not match declared run_id: 686cb5dc-01cf-11e9-ab7c-b10995016401 vs 68b27f9a-01cf-11e9-ab7c-b10995016401

Here's a sample script that runs a launch file
#!/bin/bash
sleep 1
source /opt/ros/kinetic/setup.bash
source /my/workspace/path/devel/setup.bash
roslaunch /launch/file/path/myfile.launch

Here's the format of the systemd services I use
[Unit]
Description=Unit description
Wants=roscore.service
BindsTo=roscore.service

[Service]
User=username
ExecStart=/script/that/runs/the/launch/file.sh
Restart=on-failure
RestartSec=1

[Install]
WantedBy=multi-user.target

roscore.service starts a roscore. I am using kinetic on Ubuntu 16.04.

Originally posted by teshansj on ROS Answers with karma: 168 on 2018-12-17
Post score: 5

A:

Hi!
With this you only reduce the likelihood of things going wrong. A better solution in my opinion would be to add --wait to the roslaunch commands as documented here:
http://wiki.ros.org/roslaunch/Commandline%20Tools#Launch_syntax
This way roslaunch will wait until it detects a roscore (as configured per ROS_MASTER_URI) and you avoid the less clean "sleep solution".

Originally posted by t-low with karma: 56 on 2019-08-30
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by chfritz on 2020-06-17:
This should be the accepted answer.
Comment by rjosodtssp on 2020-07-14:
very useful


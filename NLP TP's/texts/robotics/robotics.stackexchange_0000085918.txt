Q:

error using Kinect on ROS kinetic. Fails openni_launch

Hi all;
These days I am moving from Indigo in Ubuntu 14.04 x64, to Kinetic in Ubuntu 16.04 x64
Previously, in Indigo, I was able to connect to the Kinect for Windows sensor, using openni_launch package.
I am following the same procedure in Kinetic, and I obtain the following error, seems as if two devices are detected....
Warning: USB events thread - failed to set priority. This might cause loss of data...
[ INFO] [1521120808.129426429]: Number devices connected: 2
[ INFO] [1521120808.230229232]: 1. device on bus 003:09 is a SensorKinect (2ae) from PrimeSense (45e) with serial id '0'
[ INFO] [1521120808.230307097]: 2. device on bus 003:09 is a SensorV2 (2ae) from PrimeSense (45e) with serial id 'A00365902855051A'
[ INFO] [1521120808.231676619]: Searching for device with index = 1
[camera/camera_nodelet_manager-2] process has died [pid 14561, exit code -11, cmd /opt/ros/kinetic/lib/nodelet/nodelet manager __name:=camera_nodelet_manager __log:=/home/alberto/.ros/log/7032977c-2855-11e8-b3f0-18037327f24f/camera-camera_nodelet_manager-2.log].
log file: /home/alberto/.ros/log/7032977c-2855-11e8-b3f0-18037327f24f/camera-camera_nodelet_manager-2*.log
[FATAL] [1521120819.713280135]: Failed to load nodelet '/camera/disparity_registered_hw` of type `depth_image_proc/disparity` to manager `camera_nodelet_manager'
[FATAL] [1521120819.713345091]: Failed to load nodelet '/camera/depth_registered_hw_metric_rect` of type `depth_image_proc/convert_metric` to manager `camera_nodelet_manager'
[FATAL] [1521120819.713353593]: Failed to load nodelet '/camera/depth_registered_sw_metric_rect` of type `depth_image_proc/convert_metric` to manager `camera_nodelet_manager'
[FATAL] [1521120819.713760971]: Failed to load nodelet '/camera/depth_points` of type `depth_image_proc/point_cloud_xyz` to manager `camera_nodelet_manager'
[FATAL] [1521120819.713890690]: Failed to load nodelet '/camera/depth_metric` of type `depth_image_proc/convert_metric` to manager `camera_nodelet_manager'
[FATAL] [1521120819.714187902]: Failed to load nodelet '/camera/points_xyzrgb_sw_registered` of type `depth_image_proc/point_cloud_xyzrgb` to manager `camera_nodelet_manager'
[FATAL] [1521120819.714494417]: Failed to load nodelet '/camera/depth_registered_rectify_depth` of type `image_proc/rectify` to manager `camera_nodelet_manager'
[FATAL] [1521120819.714619623]: Failed to load nodelet '/camera/depth_metric_rect` of type `depth_image_proc/convert_metric` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715057229]: Failed to load nodelet '/camera/driver` of type `openni_camera/driver` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715102275]: Failed to load nodelet '/camera/ir_rectify_ir` of type `image_proc/rectify` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715428190]: Failed to load nodelet '/camera/register_depth_rgb` of type `depth_image_proc/register` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715529292]: Failed to load nodelet '/camera/depth_rectify_depth` of type `image_proc/rectify` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715764746]: Failed to load nodelet '/camera/depth_registered_metric` of type `depth_image_proc/convert_metric` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715841546]: Failed to load nodelet '/camera/disparity_registered_sw` of type `depth_image_proc/disparity` to manager `camera_nodelet_manager'
[FATAL] [1521120819.715924068]: Failed to load nodelet '/camera/disparity_depth` of type `depth_image_proc/disparity` to manager `camera_nodelet_manager'
[FATAL] [1521120819.716004873]: Failed to load nodelet '/camera/points_xyzrgb_hw_registered` of type `depth_image_proc/point_cloud_xyzrgb` to manager `camera_nodelet_manager'
[camera/driver-3] process has died [pid 14562, exit code 255, cmd /opt/ros/kinetic/lib/nodelet/nodelet load openni_camera/driver camera_nodelet_manager --no-bond ir:=ir rgb:=rgb depth:=depth depth_registered:=depth_registered projector:=projector __name:=driver __log:=/home/alberto/.ros/log/7032977c-2855-11e8-b3f0-18037327f24f/camera-driver-3.log].

and continues...
The Kinect works ok, I can connect to it using openni_tracker, for example.
THe lsusb command returns the following output:
alberto@alberto-OptiPlex-9010:~$ lsusb
Bus 002 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 002 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 001 Device 004: ID 413c:2107 Dell Computer Corp. 
Bus 001 Device 003: ID 046d:c077 Logitech, Inc. M105 Optical Mouse
Bus 001 Device 002: ID 8087:0024 Intel Corp. Integrated Rate Matching Hub
Bus 001 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
Bus 004 Device 001: ID 1d6b:0003 Linux Foundation 3.0 root hub
Bus 003 Device 003: ID 047f:aa14 Plantronics, Inc. 
Bus 003 Device 002: ID 0424:2514 Standard Microsystems Corp. USB 2.0 Hub
Bus 003 Device 009: ID 045e:02ae Microsoft Corp. Xbox NUI Camera
Bus 003 Device 007: ID 045e:02b0 Microsoft Corp. Xbox NUI Motor
Bus 003 Device 008: ID 045e:02ad Microsoft Corp. Xbox NUI Audio
Bus 003 Device 006: ID 0409:005a NEC Corp. HighSpeed Hub
Bus 003 Device 001: ID 1d6b:0002 Linux Foundation 2.0 root hub
alberto@alberto-OptiPlex-9010:~$ 

Does anyone have a clue about what could have changed in the update from indigo to kinetic?
Thank you very much in advance,
Best,
Alberto

Originally posted by altella on ROS Answers with karma: 149 on 2018-03-15
Post score: 1

A:

Solved....
Now it is necessary to specify the device number to connect to. In my case:
roslaunch openni_launch openni.launch device_id:=#2
And...it works.

Originally posted by altella with karma: 149 on 2018-03-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by shannon112 on 2018-10-31:
Thank a lot!!!


Q:

Hi everyone, i am new to ROS and i want to make a 3D map using a lidar and a kinect. Is it possible?

 https://www.youtube.com/watch?v=jgNFeDH3qFk
like the video above, they have used a hokuyo lidar to 2D map the environment using the hector_slam package and then generate an octomap using a kinect sensor i guess. I am not sure how can i do this? lets suppose i have generated the 2D map and octomap separately then how can i combine both like in the video
thanks in advance!

Originally posted by hashim on ROS Answers with karma: 53 on 2016-01-13
Post score: 0

A:

Well this obviously is possible, because otherwise the video wouldn't be available ;)
The hector_slam setup is following the conventions laid out in the SettingUpForYourRobot tutorial. The octomap is created by feeding Kinect data to a octomap generator node. This part is using tf data generated from SLAM+IMU and essentially performs mapping with known poses.
To reproduce what is shown in your video, you'll want to get SLAM working and have a proper robot model (i.e. have the Kinect mounted correctly on your model and a complete tf tree). Generating the octomap then boils down to feeding the Kinect data to a octomap generator node. The underlying ROS tools (tf, octomap) then will do their magic and create a map.
These slides provide a brief overview.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-01-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by hashim on 2016-01-15:
Do i need to integrate the IMU and encoder data to get the hector_elevation, octomap working ?
Comment by hashim on 2016-05-18:
Hi @stefan, i have successfully build a 3D map using hector_slam and octomaps and hector_localization. But there is just one issue which is after some time my robot looses its position and the map goes to infinity :P
Comment by hashim on 2016-05-18:
As in you slides you have mentioned that localization and slam node must be loosely coupled and localization node must subscribe to imu, magnetometer, gps and poseupdate(from slam node) and must sent back the orientation, turn rate and velocity.
Comment by hashim on 2016-05-18:
@stefan the problem is here, how can i feed orientation, velocity and turn rate to scanmathcer ?
Comment by hashim on 2016-05-18:
Added the photo above for reference


Q:

I want one ROS app to communicate multiple ROS controllers. Example?

I want one ROS  app to communicate multiple ROS controllers. Need example since I am sure someone has already done this.
Basic ros::init (argc,argv,name,options) seems to read the environment flag for ROS_MASTER_URI.
So the other ros::init API must solve the problem, but can I get a complete example of special remappings like __name, __master, __ns, etc.  that would handle multiple ROS masters? After each init I would then cache the node handle.  And, what is this remapping list ?
And could I pass the ROS_MASTER_URI. as a remapping without calling the basic ros::init and relying on the shell environment variables?
TIA.

Originally posted by rosnutsbolts on ROS Answers with karma: 3 on 2017-09-26
Post score: 0

A:

No, afaik this is not possible: there is a 1-to-1 mapping between nodes and processes in ROS1 as most important data structures are singletons / global.
Invoking ros::init(..) multiple times will not do what you want it to.
In ROS 2 this is different (ie: multiple nodes in a single process is expressly supported), but even there it will most likely require some magic with partitioning and other tricks.

Edit: could you maybe clarify what it is that you want to exactly? I'm not sure I understand what "I want one ROS app to communicate multiple ROS controllers" means.
It sounds like you're implying a client-server relationship between the master and any ROS nodes, but that doesn't exist.

Originally posted by gvdhoorn with karma: 86574 on 2017-09-27
This answer was ACCEPTED on the original site
Post score: 0


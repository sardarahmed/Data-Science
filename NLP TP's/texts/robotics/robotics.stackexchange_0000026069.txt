Q:

problem with including a model

When I try to include a model in my world file, I get the following error in ROS-fuerte.
Error [SystemPaths.cc:262] cannot load file [models/angen_empty.model]in GAZEBO_RESOURCE_PATH[/home/angenuser/ros_workspace/angen_gazebo/Media/models]
Warning [parser.cc:348] Gazebo SDF has no gazebo element
Entity: line 2: parser error : Start tag expected, '<' not found

^
Error [parser_deprecated.cc:1365] Could not parse the xml
Entity: line 2: parser error : Start tag expected, '<' not found

^
Error [parser_deprecated.cc:1307] Could not parse the xml
Error [parser.cc:263] parse as old deprecated model file failed.
Error [parser.cc:500] Unable to read file[]
Error [parser.cc:557] Error reading element
Error [parser.cc:557] Error reading element
Error [parser.cc:340] Unable to parse sdf element[gazebo]
Error [parser.cc:263] parse as old deprecated model file failed.
Error [Server.cc:196] Unable to read sdf file[/home/angenuser/ros_workspace/angen_cognitive_environment/angen_gazebo/worlds/try.world]
[gazebo-2] process has died [pid 6314, exit code 255, cmd /opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gazebo -u /home/angenuser/ros_workspace/angen_cognitive_environment/angen_gazebo/worlds/try.world __name:=gazebo __log:=/home/angenuser/.ros/log/dfdc436c-909c-11e2-9418-dc0ea13f6144/gazebo-2.log].
log file: /home/angenuser/.ros/log/dfdc436c-909c-11e2-9418-dc0ea13f6144/gazebo-2*.log

I attached the following code to the empty.world
<model name='angen_model' static='1'>
      <origin pose='0 0 0 0 0 0'/>
      <include filename='angen_empty.model'/>
</model>

I recently converted the .model file I am using to the new format using gzsdf recently. I works well as .world file but when I remove the world tags and use just the model, I get the errors.
Is this the problem with gazebo or am I doing a mistake ? Can someone tell a proper way to add a .model file to a world.
Thanks,
Prasanna

Originally posted by prasanna.kumar on Gazebo Answers with karma: 21 on 2013-03-19
Post score: 0

Original comments
Comment by prasad on 2016-12-28:
For people who are looking for information, I had to convert my xacro file to URDF (using xacro.py) and include it as mentioned in this answer.

A:

Hi
You did not load the model correctly, try it like this in your .world file:
<world>
...
    <include>
        <uri>model://my_model</uri>
        <pose>0.3 0.5 0.9 0 0 0</pose>
    </include>
</world>

If it doesn't work, make sure that you have your GAZEBO PATHS set correctly. Or just add the .model file to ~/.gazebo/models folder.
If you still have trouble ask for more info.
UPDATE!!!
an example of setting the paths (plugin, model, resource):
export GAZEBO_PLUGIN_PATH=~/<path>/my_package_example/lib:${GAZEBO_PLUGIN_PATH}

export GAZEBO_MODEL_PATH=~/<path>/my_package_example/models:${GAZEBO_MODEL_PATH}

export GAZEBO_RESOURCE_PATH=~/<path>/my_package_example/models:${GAZEBO_RESOURCE_PATH}

Cheers, Andrei

Originally posted by AndreiHaidu with karma: 2108 on 2013-03-19
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Ben B on 2013-04-30:
Hey Andrei, have you gotten this to work for models outside the ~/.gazebo/models folder?  My model is being recognized by Gazebo -- I can insert it from the "insert" menu.  But trying to  it in a world file produces:
Error [ModelDatabase.cc:373] Unable to download model[model://iri_wam]
Error [ModelDatabase.cc:373] Unable to download model[model://iri_wam]
Error [parser.cc:544] Unable to find uri[model://iri_wam]
Comment by AndreiHaidu on 2013-04-30:
Hey Ben, you get the error because you did not have the paths set to your models outside of the .gazebo folder. Check the updated answer I wrote some examples of how to set them, just add those lines to the ~/.bashrc file and don't forget to source it after. Hope it works, Cheers
Comment by Ben B on 2013-04-30:
I'm pretty sure my paths are set correctly because I can insert the model from within Gazebo. Should the  include any indication of the database name, or just the model, or a path to the model?
Comment by AndreiHaidu on 2013-05-01:
It is weird that by drag and drop it works and the other way it does not. In my world file I have like  just as in the answer: model://my_model . In which version of gazebo are you getting this error? Do you also have your model.config file set right? Maybe that also plays a role?
Comment by Ben B on 2013-05-01:
Is your my_model in a the ~/.gazebo directory or elsewhere?
Comment by AndreiHaidu on 2013-05-02:
it is elsewhere
Comment by Ben B on 2013-05-02:
Is your database.config in models or my_package_example?
Also, are you storing your plugin .so files in the database lib directory, or in a separate directory for each model?
Comment by AndreiHaidu on 2013-05-04:
I did not find any database.config file, or you meant the models .config file, I have that for every model in a separate folder, ex: my_package/models/model1/model.config ,  my_package/models/model2/model.config, the plugins library files are all in the my_package/lib folder
Comment by Ben B on 2013-05-06:
Ah. Got it.  The problem was that I was assuming my_model corresponded to the model name in the model.config file.  Instead, as you probably know, it refers to the folder that the model resides in.
Comment by Ben B on 2013-05-06:
BTW, the database.config file is now "suggested" in the user manual.  I'm not too sure what, if anything, it does. http://gazebosim.org/user_guide/started__models__database.html
Comment by Kurt Leucht on 2014-07-02:
Wow.  I was using the "model name" tag defined inside the SDF file, but I needed to use the folder name.  That was not obvious.  What does the SDF file even contain the "model name" tag if it is not used?


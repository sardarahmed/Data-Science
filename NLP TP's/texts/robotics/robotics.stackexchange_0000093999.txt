Q:

How to use/link meson build Gstreamer in ROS Package?

E.g
To use Gstreamer, I meson built new version with following commands.
meson --prefix=/media/jai/Entertainment/Software/gstreamer/gst-build-installed --reconfigure build/  
ninja -C build/  
meson install -C build/

Now I have this directory

And it has pkg-configs also

What changes I have to make in Cmakelist.txt & package.xml to link this Gstreamer?

Originally posted by JeyP4 on ROS Answers with karma: 62 on 2019-12-05
Post score: 0

Original comments
Comment by Choco93 on 2019-12-05:
You can take a look here.
Comment by JeyP4 on 2019-12-26:
@Choco93, Thanks
Comment by JeyP4 on 2019-12-30:
I have tried below changes. But no luck till now.
Cmakelist.txt
SET(ENV{PKG_CONFIG_PATH} "/media/jai/Entertainment/Software/gstreamer/gst-build-installed/lib/x86_64-linux-gnu/pkgconfig" $ENV{PKG_CONFIG_PATH})

find_package(PkgConfig REQUIRED)
pkg_check_modules(GST1.0 REQUIRED gstreamer-1.0)
catkin_package(CATKIN_DEPENDS roscpp
    DEPENDS Boost GST1.0
    INCLUDE_DIRS include
    LIBRARIES mypkg)
include_directories(include ${catkin_INCLUDE_DIRS} ${Boost_INCLUDE_DIRS} ${GST1.0_INCLUDE_DIRS})
target_link_libraries(mypkg ${catkin_LIBRARIES} ${GST1.0_LIBRARIES} ${Boost_LIBRARIES})

package.xml
<build_depend>pkg-config</build_depend>

After all above modification, package is still using stock gstreamer instead of new one.
I doubt it might be able to access include files but not LIBS.

A:

Answered at
How to use/link meson build Gstreamer in ROS Package?

Originally posted by JeyP4 with karma: 62 on 2020-01-01
This answer was ACCEPTED on the original site
Post score: 0


Q:

[SOLVED] Problem sourcing my workspace setup.bash via SSH

Dear ROS community,
I have a problem working with ROS via SSH: I'm using ROS Indigo and Ubuntu 14.04.
Initially I found that launching some ROS commands (like rosrun) via SSH results in command not found. After a quick search on this site I found that the
source /opt/ros/indigo/setup.bash

must be moved at the beginning of my .bashrc fine instead, as I did, at the end. After this change commands become available again.
Now I have the same problem when sourcing setup.bash of my development workspace: also moving it at beginning of .bashrc file some ROS command results in unknown command.
Any helps will be appreciated!
Ale

Originally posted by afranceson on ROS Answers with karma: 497 on 2017-02-22
Post score: 0

A:

Finally I solved!
My SSH was not using bash as shell.
For other users this can be simply verified starting SSH and typing
echo $0

the result should be
-bash

if bash is used. If you are using another shell type you change it editing /etc/passwd following this sample
john:x:1000:1000:john,,,:/home/john:/bin/bash
(john is a fake user, you should have your username here ;-) ). The /bin/bash specify the shell type.
In my case a rebuild of the workspace (clean and make) was needed too to make it working...

Originally posted by afranceson with karma: 497 on 2017-03-15
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2017-03-15:
I may be misunderstanding you, bu isn't that exactly what I wrote in my answer?

[..] .bashrc is not loaded (as bash is not started)

btw, the env-loader script is meant to make editing /etc/passwd unnecessary, and is probably a bit more maintainable.
Comment by gvdhoorn on 2017-03-15:
If you feel you have answered your own question, please just accept your own answer by ticking the checkmark to the left of it. Closing questions is something we rarely do here on ROS Answers.
Comment by afranceson on 2017-03-16:
Dear gvchoorn,
you are right: the cause of my problem was that bash was not started.
Anyway your solution is perfect for starting nodes but fixing the shell type in /etc/passwd allow me to run also other ROS command (like rostopic etc...) in terminal and this is useful for me in debugging phase.


Q:

ERROR: invalid message type: face_recognition/FRClientGoal

Hi everyone,
I am trying to move the face recognition package to catkin. Itried with http://wiki.ros.org/catkin/migrating_from_rosbuild but it doesn't work. So I create a new catkin workspace and I tried to add every folder one by one as if it was a new project. When I try to do a catkin_make I have this message :
ERROR: invalid message type: face_recognition/FRClientGoal.
If this is a valid message type, perhaps you need to type 'rosmake face_recognition'

I tried to do a rosmake but I still have this error.
My Cmakelist.txt is like this:
cmake_minimum_required(VERSION 2.8.3)
project(face_recognition)
find_package(catkin REQUIRED COMPONENTS
actionlib
  actionlib_msgs
  cv_bridge
  image_transport
  #opencv2
  roscpp
  roslib
  rospy
  std_msgs
)
 add_message_files(
    FILES
    #FaceRecognitionAction.msg
    #FaceRecognitionActionFeedback.msg
    #FaceRecognitionActionGoal.msg
    #FaceRecognitionActionResult.msg
    #FaceRecognitionFeedback.msg
    #FaceRecognitionGoal.msg
    #FaceRecognitionResult.msg
    FRClientGoal.msg
 )

 find_package( OpenCV REQUIRED )

   add_action_files(
      FILES
      FaceRecognition.action
    )

   ## Generate added messages and services with any dependencies listed here
   generate_messages(
     DEPENDENCIES
     actionlib_msgs
     std_msgs
    )
     include_directories(  ${catkin_INCLUDE_DIRS}  ${OpenCV_INCLUDE_DIRS} )
     add_executable(Fserver src/face_recognition.cpp)
     add_executable(Fclient src/face_rec_client.cpp)
     add_dependencies(Fserver ${face_recognition_EXPORTED_TARGETS})
     add_dependencies(Fclient ${face_recognition_EXPORTED_TARGETS})
      target_link_libraries(Fserver
       ${catkin_LIBRARIES}
      )
      target_link_libraries(Fclient
       ${catkin_LIBRARIES}
      )

and my package.xml is like this :
      <?xml version="1.0"?>
      <package>
       <name>face_recognition</name>
       <version>0.0.0</version>
       <description>The face_recognition package</description>
      <maintainer email="www@todo.todo">www</maintainer>
      <license>TODO</license>
      <buildtool_depend>catkin</buildtool_depend>
        <build_depend>actionlib</build_depend>
        <build_depend>actionlib_msgs</build_depend>
        <build_depend>cv_bridge</build_depend>
        <build_depend>image_transport</build_depend>
        <!-- <build_depend>opencv2</build_depend> -->
        <build_depend>roscpp</build_depend>
        <build_depend>roslib</build_depend>
        <build_depend>rospy</build_depend>
        <build_depend>std_msgs</build_depend>
        <run_depend>actionlib</run_depend>
        <run_depend>actionlib_msgs</run_depend>
        <run_depend>cv_bridge</run_depend>
        <run_depend>image_transport</run_depend>
        <!-- <run_depend>opencv2</run_depend> -->
        <run_depend>roscpp</run_depend>
        <run_depend>roslib</run_depend>
        <run_depend>rospy</run_depend>
        <run_depend>std_msgs</run_depend>
      <export>
        </export>
      </package>
      
      
      
      

I already had some poblems that I tried to manage, see http://answers.ros.org/question/187981/cmake-error-attempt-to-add-a-custom-rule-to-output/ but I seams that it still doesn't work.
Can somebody help me please?
thank you

Originally posted by RosFaceNoob on ROS Answers with karma: 42 on 2014-08-04
Post score: 0

Original comments
Comment by Mehdi. on 2014-08-04:
That is weird, I use FRClientGoal.msg and FaceRecognition.action in my project and they just compile fine using catkin and ROS Indigo. Maybe you forgot to copy something when you did the copy folder by folder? Try cloning the face_recognition project directly into your catkin_workspace and just modify the CMakeLists.txt and the manifest.xml with your newer version (manifest.xml will become package.xml)
Comment by RosFaceNoob on 2014-08-04:
When you use the FaceRecognition.action did it automatically generate the FRClientgoal? because in my case it did'nt and I copy and plaste the old one. Maybe that's why it's not working.
Comment by Mehdi. on 2014-08-04:
FRClientGoal is not supposed to be generated, it is already defined in the /msg folder in the Git repository. The only messages that will be generated are messages starting with FaceRecognition...  Just try git clone https://github.com/procrob/procrob_functional.git and put the folder face_recognition in your workspace replacing only the CMakeFiles.txt and Manifest.xml which are inside of it.
Comment by RosFaceNoob on 2014-08-04:
I have the same error
Comment by Mehdi. on 2014-08-04:
What happens if you delete the devel and build folders and catkin_make twice again?
Comment by BennyRe on 2014-08-04:
Is your code open source? If so, please post the URL of your repository. With the complete code we can help you better.
Comment by RosFaceNoob on 2014-08-04:
If I delete the folder, they are built again and I hav the same error.
I use this https://github.com/procrob/procrob_functional/tree/master/face_recognition
Comment by BennyRe on 2014-08-04:
I meant your code. Does catkin really prompt you to use a rosmake command?
Comment by BennyRe on 2014-08-04:
Your package.xml misses these dependecies: <build_depend>message_generation</build_depend>
<run_depend>message_runtime</run_depend>
Comment by RosFaceNoob on 2014-08-04:
I use the code on github. i didn' modify it. I was jsut trying to migrate it to catkin
Comment by RosFaceNoob on 2014-08-04:
I add the dependecies and it worked once and now it doen't work anymore...

A:

The face recognition package has been recently catkinized. please see http://wiki.ros.org/face_recognition

Originally posted by Pouyan with karma: 143 on 2014-10-11
This answer was ACCEPTED on the original site
Post score: 1


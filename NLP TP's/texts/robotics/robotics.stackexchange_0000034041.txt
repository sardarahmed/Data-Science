Q:

Converting laser_scan_matcher demo to use hokuyo node input

Hi,
I have a hokuyo Lidar compatible with hokuyo_node package and can run it fine.  And, I've also run the default laser_scan_matcher demo executed from roslaunch.
My goal is to see the same demo but using live laser scan messages.  I'm new to ROS so I'm sure I'm missing something.
I've taken the default demo.launch file and cut out the rosbag part and started a hokuyo_node instead, but I don't appear to see anything the rvis.  I've used rxgraph to compare the to and the only piece I don't understand is the purpose and necessity of the "clock" topic from rosbag to laser_scan_matcher. It's not mentioned in the scarce documentation.
Would someone please offer direction on how to substitude the laser scans from rosbag to a hokuyo_node.
Thanks

Originally posted by Tim C on ROS Answers with karma: 21 on 2011-09-01
Post score: 0

Original comments
Comment by Jister on 2015-05-23:
Hi, I also have the same question, have you solved it yet?

A:

Here is a launch file that should work:
<launch>
  <node pkg="hokuyo_node" type="hokuyo_node" name="hokuyo_node"/>
  
  <node pkg="laser_scan_matcher" type="laser_scan_matcher_node"
    name="laser_scan_matcher_node" output="screen">
    <param name="use_alpha_beta" value="true"/>
    <param name="max_iterations" value="10"/>
  </node>
  
  <node pkg="tf" type="static_transform_publisher" name="base_link_to_laser"
    args="0.0 0.0 0.0 0.0 0.0 0.0 /base_link /laser 40" />
   
</launch>

The first node launches the hokuyo_node driver, the second one launches the laser_scan_matcher, and the third one provides the neccessary tf from the base_link to the laser frame.
The parameters in the laser_scan_matcher aren't required, but tweaking them will probably improve performance. Check the documentation to see what the parameter options are and to find out what works best for you.
EDIT
The clock parameter is documented here.

Originally posted by Ivan Dryanovski with karma: 4954 on 2011-09-02
This answer was ACCEPTED on the original site
Post score: 1


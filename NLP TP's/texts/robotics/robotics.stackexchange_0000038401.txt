Q:

Problem with sr_hand launch file

Hi,
I'm trying to execute launch file of sr_hand package:
roslaunch sr_hand sr_arm_motor.launch
but since, I think, I updated, always I get an error:
core service [/rosout] found
process[shadowarm-1]: started with pid [3961]
process[robot_state_publisher_pos_arm-2]: started with pid [3962]
process[robot_state_publisher_target_arm-3]: started with pid [3963]
process[shadowhand-4]: started with pid [3964]
process[srh_robot_state_publisher_pos-5]: started with pid [3965]
process[srh_robot_state_publisher_target-6]: started with pid [3966]
process[fixed_frame_pos_pub_arm-7]: started with pid [3968]
process[fixed_frame_target_pub_arm-8]: started with pid [3978]
process[link_hand_arm_pos-9]: started with pid [3984]
process[link_hand_arm_target-10]: started with pid [3989]
process[ordered_position_joint_states_merger-11]: started with pid [3994]
process[ordered_target_joint_states_merger-12]: started with pid [4003]
process[sr_diagnostic_aggregator-13]: started with pid [4010]
[ERROR] [1330675983.196615526]: [registerPublisher] Failed to contact master at
 [localhost:11311].  Retrying...

Never contact with master and I don't know why happen this because master should be active. I try execute roscore but obviously don't work because sr_arm_motor.launch try to launch its own master.
Update:
Also, I try to follow next tutorial (http://www.ros.org/wiki/sr_hand/Tutorials/Getting%20Started%3A%20running%20the%20hand%20and%20arm%20interface) but nothing work. Always I receive once of this errors:
[ERROR] [1330682782.955981987]: [registerPublisher] Failed to contact master at
 [localhost:11311].  Retrying...

or
cannot resolve host address for machine [napoleon]

If someone can help me, I appreciate.
Thanks.
Raúl Pérula

Originally posted by raul.perula on ROS Answers with karma: 71 on 2012-03-01
Post score: 0

Original comments
Comment by Ugo on 2012-03-02:
Hi Raul,
Sorry about that, we're in the process of cleaning our code and some things are not entirely stable yet.
Which branch of our code did you use to do your update?
What happens when you start roscore first? (if a roscore is running, then roslaunch doesn't start its own roscore).
Comment by raul.perula on 2012-03-02:
Hi Ugo,
I use general latest repositories of ROS for Ubuntu (deb http://packages.ros.org/ros/ubuntu lucid main).
Latest week that code work fine, but this week doesn't work. I'm working with Nico Burrus in UC3M and we are trying to incorporate our robot arm, done in openrave, in ROS nodes of shadow.
Comment by raul.perula on 2012-03-02:
If I start roscore first, it happen the same error. But, If I start roscore after roslaunch, roscore show me this:
roscore cannot run as another roscore/master is already running.
Please kill other roscore/master processes before relaunching.
The ROS_MASTER_URI is http://raul-laptop:11311/

A:

It may be a config error in your ROS setup. Are you able to start other packages happily?
Could you check a few things? What are the outputs of:
> echo ${ROS_MASTER_URI}

> echo ${ROS_IP}

> echo ${ROS_HOSTNAME}

> roscd shadow_robot ; pwd

ROS_IP should be your pc ip address, ROS_HOSTNAME should be your pc hostname (raul-laptop I guess)
Edited:
It was due to using the wrong branches: make sure you're using lp:sr-ros-interface/stable for the shadow_robot stack.

Originally posted by Ugo with karma: 1620 on 2012-03-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by raul.perula on 2012-03-04:
Hi Ugo,
These are my outputs:
$ echo ${ROS_MASTER_URI}
http://localhost:11311
$ echo ${ROS_IP}
127.0.0.1
$ echo ${ROS_HOSTNAME}
raul-laptop
$ roscd shadow_robot/; pwd
/home/raul/workspace_ros/manipulation/shadow_robot
I try changing ROS_IP by other but it doesn't work. Always show me the error.
Comment by raul.perula on 2012-03-04:
The rest of packages work fine. The only one that doesn't work is sr_hand.
Comment by Ugo on 2012-03-04:
Ok, thanks. So you're not using the shadow_robot stack from the ubuntu repo. Can you do: "roscd shadow_robot; bzr info" ? (I'm trying to understand which version of the code you have to be able to help you).
Comment by raul.perula on 2012-03-04:
Here is the info:
Related branches:
parent branch: http://bazaar.launchpad.net/~ugocupcic/sr-ros-interface/manipulation/
I have this in my ".rosintall" file:

bzr: {local-name: manipulation, uri: 'lp:~ugocupcic/sr-ros-interface/manipulation'}

Comment by Ugo on 2012-03-04:
Ok, this branch is deprecated (even closed on launchpad). Did you do any work on the branch? If you have nothing to save, pull and overwrite the stable branch: "bzr pull --overwrite lp:sr-ros-interface/stable".


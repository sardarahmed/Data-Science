Q:

Hokuyo Map Generation

When using the Laser_Pipeline node along with the Hokuyo_node how do you take in the tilting angle that the Hokuyo laser is at when creating a 3D map? Would it be solved by simply changing the frame the laser data is read in or do you have to operate the Servo to retrieve the tilting angle? Also, where is tilt angle saved? Is it in the bag file or somewhere else.

Originally posted by tyler258 on ROS Answers with karma: 93 on 2011-11-14
Post score: 0

Original comments
Comment by tyler258 on 2011-11-16:
It seems RViz will use the angle generated by the encoder and information read in from the laser scanner to generate the map correct? Am I on the right track here?
Comment by tyler258 on 2011-11-16:
I've looked at several implementations that are very similar (Georgia tech's healthcare robotics lab and cal poly). It seems that it is necessary to somehow generate the angle information from the servo (by use of an encoder?).
Comment by tyler258 on 2011-11-16:
Currently we are using a parallax #900-00005, just a standard futaba servo on a parallax mount that is for this specific servo. We will however be upgrading it to a dynamixel ax-12a with a custom made mount.
Comment by Mac on 2011-11-14:
We're going to need more details. Describe your system to us: it sounds like you've built a tilt-mount Hokuyo. (Or are you on a PR2?)

A:

If I understand your question correctly (from the comments above), you want to know how to correctly turn a tilting 2D laser into a "3D" laser. In short, you'll need the tilt angle, plus some geometry, so that you can describe the 3D rays the laser is casting as it tilts. Any servo with an encoder (like, say, the AX=12+ you mention) can provide this information directly.
You'll still need to do the calibration by hand (for example, how far above the axle of your servo is your laser's center of projection?), but then you can describe the whole thing to ROS by way of a set of tf frames and it can figure the rest out for you.

Originally posted by Mac with karma: 4119 on 2011-11-16
This answer was ACCEPTED on the original site
Post score: 1


Q:

Linking problem when building apriltag_ros package

Hello,
I'm trying to build this project (http://wiki.ros.org/apriltag_ros) in Ubuntu 18.04 and ROS-melodic.
I just did:
(i) cd catkin_ws/src/
(ii) git clone https://github.com/AprilRobotics/apriltag_ros.git
(iii) cd catkin_ws/ & catkin_make
I'm getting a linking problem against a very basic ROS library:
[ 96%] Linking CXX executable /home/das/catkin_ws/devel/lib/apriltag_ros/apriltag_ros_single_image_client_node
CMakeFiles/apriltag_ros_single_image_client_node.dir/src/apriltag_ros_single_image_client_node.cpp.o: In function `main':
apriltag_ros_single_image_client_node.cpp:(.text.startup+0x101): undefined reference to `ros::NodeHandle::NodeHandle(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__debug::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&)'
apriltag_ros_single_image_client_node.cpp:(.text.startup+0x1b0): undefined reference to `ros::NodeHandle::NodeHandle(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const&, std::__debug::map<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, std::less<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > >, std::allocator<std::pair<std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > const, std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> > > > > const&)'
collect2: error: ld returned 1 exit status

Any idea why?

Originally posted by dasanche on ROS Answers with karma: 83 on 2019-06-01
Post score: 0

Original comments
Comment by jayess on 2019-06-01:
Please don't crosspost. It wastes the effort of people on both sites.

A:

Solved by removing the .catkin_tools, .private, build, devel, logs directories in the root of the workspace manually.
Initializing again (catkin config --init )

Originally posted by dasanche with karma: 83 on 2019-06-03
This answer was ACCEPTED on the original site
Post score: 0


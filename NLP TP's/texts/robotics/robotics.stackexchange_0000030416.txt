Q:

Loading a prior map with gmapping

Is it possible to load a previously saved map (pgm/yaml) into gmapping, such that the map is initially populated with the robot situated at a defined starting pose?

Originally posted by JediHamster on ROS Answers with karma: 995 on 2011-03-16
Post score: 4

A:

No, it's not.  The occupancy grid representation of the map (for example, the pgm bitmap) doesn't contain enough state to resume mapping.  Internally, gmapping is estimating a distribution over maps and robot trajectories, using a particle filter.  To resume mapping, you'd have to save all of that internal state.  In principle, it's possible to do that, but it's not currently implemented, and I would guess it would take quite a bit of work.

Originally posted by Brian Gerkey with karma: 2916 on 2011-03-16
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by Nick Armstrong-Crews on 2011-12-29:
the new version of Karto will do this for you; they provide a ROS package interface, but it ain't free... (except for trial license)
Comment by Brian Gerkey on 2011-03-16:
For long-term mapping, including pause-and-resume abilities, I'd go for a constraint-graph SLAM algorithm, instead of a particle filter algorithm.  I don't know whether it's implemented yet, but the graph_mapping stack should eventually be able to do this.
Comment by JediHamster on 2011-03-16:
Ok, I thought that might be the case.  It would be nice to have a life-long learning approach to building maps, so that any changes in the environment can be accommodated.  Saving the particle filter state might be something I could work on.
Comment by RB on 2014-04-07:
Hi, according to the tutorial http://wiki.ros.org/navigation/Tutorials/Using%20rviz%20with%20the%20Navigation%20Stack,
it is possible to load a static map into rviz. But I am also unable to load the static map? Anyone solve this issue?
Comment by kwiesz91 on 2015-09-15:
@RB rviz is used to display the static map, not load it.  To load it, check out map_server.  Also, your question is almost completely unrelated to this question, so you should have posted this as a different question.
Comment by Avonic on 2016-03-01:
Is it possible that we have a solution by getting the current location to resume gmapping?
I suggest comparing the current view for the sight sensors to the old map & see where is this current robot.
Any luck on this? In fact I m working on somthing similar, anyone with solutions to this solution?
Comment by Dino on 2016-10-30:
I am interested in this with a few handy (I believe) constraints. Imagine a robot that maps, then docks to recharge. The dock is at the same location as the start of previous mapping. How to restart from known origin and orientation, then?


Q:

How to create "parameters" inside launch files in ROS?

Hello all,
I am a little stuck, so some help be very appreciated very much.
I would like to create a list of parameters/variables in the beginning of my launch file, in such a way, that it will available for the user to change the "contents" of the variables, but the rest of the launch file will not change!
Examples:
Nowadays I have the next line in my launch file:
<node pkg="rosbag" type="rosbag" name="rosbag1" args="play -l $(find guiPackageParametersToCallback)/BagFiles/2011-12-05-10-55-01.bag" required="true"/>

But the name of the recorded bag file can change so I want to do something like that:
filename = 2011-12-05-10-55-01.bag
<node pkg="rosbag" type="rosbag" name="rosbag1" args="play -l $(find guiPackageParametersToCallback)/BagFiles/filename" required="true"/>

Or in the next case:
 <node name="republish1" type="republish" pkg="image_transport" output="screen" args="compressed in:=/bb2/left/image_rect raw out:=leftCameraTopic" required="true" />

I would like to something:
inputTopic = /bb2/left/image_rect
    <node name="republish1" type="republish" pkg="image_transport" output="screen" args="compressed in:=inputTopic raw out:=leftCameraTopic" required="true" />

Since I am interested to do it in the limits of the launch file itself, I am not sure that "remap" will solve the case here.
Thanks in advance,
Felix.

Originally posted by Felix Tr on ROS Answers with karma: 378 on 2011-12-09
Post score: 0

A:

The easiest way to do that is with the env tag. So, your code would look like this:
<node pkg="rosbag" type="rosbag" name="rosbag1" args="play -l $(find guiPackageParametersToCallback)/BagFiles/$(env BAG)" required="true"/>

At the command line, you would then type:
export BAG="2011-12-05-10-55-01.bag"; roslaunch your_package your_launchfile.launch

Originally posted by DimitriProsser with karma: 11163 on 2011-12-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by dornhege on 2011-12-09:
Yes, arg is intended for your use case.
Comment by Felix Tr on 2011-12-09:
Hi Dmitri, thank you for your answer, but your way is not useful for many parameters. Anyway I have found a good way to do what I want, and this is using "arg" :)


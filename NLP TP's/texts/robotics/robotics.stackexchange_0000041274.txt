Q:

tf from one month ago

Hi,
I'm trying to use tf between my Pandaboard, which controls the robot, and my laptop, which does some additional calculations. The stamp my Pandaboard gives to the transforms seems to be way off however, so the laptop claims it can't extrapolate the transforms. If I run 'rosrun tf tf_monitor' on my Pandaboard, I get the following :
All Broadcasters:
Node: /HeadMotorHandler 50.2458 Hz, Average Delay: 0.00213946 Max Delay: 0.00610352
Node: /base_to_head 10.1741 Hz, Average Delay: -0.0980132 Max Delay: 0
Node: /head_to_arm 10.1743 Hz, Average Delay: -0.0976757 Max Delay: 0
Node: /kinect_normal_axis_to_kinect 10.1766 Hz, Average Delay: -0.097822 Max Delay: 0

(notice the average delay and max delay)
If I run the same thing on my laptop, it gives me :
All Broadcasters:
Node: /HeadMotorHandler 50.2697 Hz, Average Delay: 1.83153e+06 Max Delay: 1.83153e+06
Node: /base_to_head 10.1984 Hz, Average Delay: 1.83153e+06 Max Delay: 1.83153e+06
Node: /head_to_arm 10.1998 Hz, Average Delay: 1.83153e+06 Max Delay: 1.83153e+06
Node: /kinect_normal_axis_to_kinect 10.1955 Hz, Average Delay: 1.83153e+06 Max Delay: 1.83153e+06

(notice again the delays)
Running 'date' on the Pandaboard gives :
Mon May 21 12:26:38 CEST 2012
And on the laptop:
Mon Jun 11 17:12:06 CEST 2012
So I assume this is the issue? I don't want to update the time on my Pandaboard, I don't think that will help much as when the power is removed from the Pandaboard, the time will start to mismatch again.
Is there a way for my laptop to tell it to use the ros::Time::now() from the roscore ? Which is ran on the Pandaboard.
Thanks in advance!

Originally posted by Hansg91 on ROS Answers with karma: 1909 on 2012-06-11
Post score: 0

A:

Using TF requires synchronized clocks between all computers. You should set the clock on your pandaboard correctly and probably run something like chrony to keep the clocks synchronized.

Originally posted by Lorenz with karma: 22731 on 2012-06-11
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by tfoote on 2012-06-11:
It is possible to publish time as if you were in a simulator, but on running systems it is not recommended.  It will either be very low resolution or eat up a lot of bandwidth. And the performance will never match syncronized clocks.
Comment by Hansg91 on 2012-06-13:
Thank you, this does appear to be what I'm looking for, but I'm having some problems getting it to work. I installed chrony (using sudo apt-get) on both systems and followed this 'guide' http://code.google.com/p/rosbee/wiki/chrony , however my time does not appear to be synced...
Comment by Hansg91 on 2012-06-13:
Also when I run chronyc and try settime, sources, clients and probably more, I get the message "506 Cannot talk to daemon", a google search did not help me.. Any ideas? Both my chronyc and chronyd have the same version number. Should I make this a new question ?


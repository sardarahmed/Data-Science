Q:

Running a Universal Robot Urp or Script file from ROS PC

Hello,
Is it possible to run a Universal Robot Urp file or Script file from ROS PC to control a UR robot in the simulator(rviz/Gazebo)? The use case is that:
I have a program (URP file) that is used to move the robot without collision to the home position during a process. And now I want it to test this program for its functionality from anywhere in the work space.  My idea is to make a ros visualization in rviz or gazebo and to initially move the robot to a random point in the work space and call the safety program from ros pc to detect any collision in the simulator. I can record all those points where a collision is detected and I can later correct the program if I want to prevent the collision in future.
Is it possible to do this. Please let me know your suggestions. Thanks.

Originally posted by npa on ROS Answers with karma: 5 on 2017-11-13
Post score: 0

A:

Is it possible to run a Universal Robot Urp file or Script file from ROS PC to control a UR robot in the simulator(rviz/Gazebo)

No, that is not (directly) possible, as URScript (and the binary representation of it, urp) is proprietary to UR, and Gazebo (note: RViz is not a simulator, but a visualisation tool) has no support for it.
You could perhaps see whether ur-sim in combination with some other tool could be of use.
Another option: write a parser for URScript (it's very close to Python), extract the motion commands (movej, movel, etc) and then use Gazebo to do what you initially intended to do, but have a separate node command motions based on the motion statements you've extracted from the URScript file.

Originally posted by gvdhoorn with karma: 86574 on 2017-11-13
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by npa on 2017-11-13:
Thanks a lot for your answer. I guess your second option is doable easily. But i didn't understood what you meant by " but have a separate node command motions based on the motion statements ". What do you mean by this?
Comment by gvdhoorn on 2017-11-13:
Gazebo wouldn't 'load' or 'execute' or 'run' the URScript file directly, but a separate ROS node would parse it and construct JointTrajectory msgs or action goals and submit those.
Comment by npa on 2017-11-13:
Ok. Got it. Thanks :)


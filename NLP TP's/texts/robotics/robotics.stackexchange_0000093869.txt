Q:

Unable to use opencv with ROS

I am trying to follow along this tutorial: http://wiki.ros.org/cv_bridge/Tutorials/ConvertingBetweenROSImagesAndOpenCVImagesPython
I am getting this error while running the above program:
ImportError: dynamic module does not define module export function (PyInit_cv_bridge_boost)```

I am using multiple versions of python, the one getting used seems to be: `/opt/ros/melodic/lib/python2.7/` since it is in the traceback: `/opt/ros/melodic/lib/python2.7/dist-packages/cv_bridge/core.py`

`echo $PYTHONPATH` gives `/home/kringata/catkin_ws/devel/lib/python2.7/dist-packages:/opt/ros/melodic/lib/python2.7/dist-packages`

I am using ROS Melodic on Ubuntu18.04

---

[Originally posted](https://answers.ros.org/question/338035/unable-to-use-opencv-with-ros/) by [khansaadbinhasan](https://answers.ros.org/users/33367/khansaadbinhasan/) on ROS Answers with karma: 94 on 2019-11-19

Post score: 0

A:

This seems to be a python problem., I was able to use cv_bridge to convert cv2 image to ROS message but wasn't able to do the opposite which doesn't make much sense as a problem of which python I was using.
The python being used seems to be the one provided by anaconda(it wasn't mentioned nowhere in traceback), so I changed the python being used and opted for system python with /usr/bin/python and it resolved the issue.

Originally posted by khansaadbinhasan with karma: 94 on 2019-11-19
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to arm or set quadcopter (Iris+) mode while running ArduCopter SITL with ROS/Gazebo?

I am referring to http://dev.ardupilot.com/wiki/using-rosgazebo-simulator-with-sitl/
Based on the code, the following is my understanding of what's happening -

You receive input to ROS (mavros) via UDP socket as motor_speeds. These inputs are received from the SITL and ArduCopter code.
You publish these motor speeds to the corresponding topic for Gazebo simulation.
Data from the simulated vehicle is then send back to SITL code, over the UDP socket.

However, I still don't know how I can use Mavros alongside with SITL to be able to send commands to arm, disarm, takeoff, or change the mode over the socket. Any guidance regarding this would be appreciated!
(Please let me know if any clarification is required)

Originally posted by nemesis on ROS Answers with karma: 237 on 2015-11-20
Post score: 0

A:

There's a pull request for a plugin that talks to SITL using SIM_Gazebo:
https://bitbucket.org/osrf/gazebo/pull-requests/2010/aerodynamics-plugin-and-arducopter-sitl/diff
A short instruction is here, here's what it looks like
and we'll add a tutorial down the road.

Originally posted by hsu with karma: 5780 on 2015-11-23
This answer was ACCEPTED on the original site
Post score: 0


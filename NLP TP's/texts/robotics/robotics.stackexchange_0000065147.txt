Q:

Computing Robot_position of robot using Robot_localization

I am using Robot_localization package for getting robot position.
I am using Firebird VI Robot (basic robot) which is not compatible with ROS. But i want to use for getting robot position.
What I have

I can get encoder count of wheel (odometry data)

I can get accelerometer, mgnetometer,gyroscope data, using Serial Communication, (after some time interval)

I want to fuse it to get actual position from ROS.
Q1. What are the prerequisite for this complete set up. Robot_localization is using 3-4 node,
I am interested in ekf only, Is it possible to get position from ekf node of robot_localization.
Q2. How to write publisher for odometry and IMU data. I know the requirements but not sure how to write it in code.Specially for Imu_data message.
/Odom can I use this one in my work??
Correct me If i am wrong.
Suggest me in good direction.

Originally posted by KDROS on ROS Answers with karma: 67 on 2015-01-14
Post score: 0

A:

robot_localization, like many ROS packages, contains multiple nodes, but you certainly don't need to use them all. As of this writing, it contains an EKF implementation (ekf_localization_node), a UKF implementation (ukf_localization_node), and a node that aids users in working with GPS data (navsat_transform_node). To answer Q1, yes, you can just use ekf_localization_node.
For Q2, @Anas Alhashimi posted a good link. What you really need to know is (a) the data and units required for the Odometry and Imu messages, and (b) a way of converting your raw data into the format required by those messages. For calculating odometry in (a), this looks like a good article. My guess is that your IMU will give you information about the data it produces; it may be a straightforward process of just filling out the data fields of the message and publishing it. Be careful, though. robot_localization makes some assumptions about your IMU data. See this post for more information.

Originally posted by Tom Moore with karma: 13689 on 2015-01-14
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by KDROS on 2015-01-14:
for just testing, I am thinking to write IMU n odom data publisher, and run ekf_node. I am thinking correct?
what should I change in launch file. U have contributed in this package. You can give me best answer.
Comment by Tom Moore on 2015-01-14:
Let's cross that bridge when we come to it. The best path would be for you to put together your IMU and wheel encoder odometry nodes, and then make sure they're producing the correct data. After that, you can post a new question about how to configure ekf_localization_node for your setup.
Comment by KDROS on 2015-01-14:
Is it possible to calculate pose without writting /tf.?? If no, then tell me basic /tf file required for this particular task.
Comment by KDROS on 2015-01-14:
Ok Tom, I am doing that, I am writting dummy publisher, then Soon I will post new question.
Comment by Tom Moore on 2015-01-14:
Yes, messages and tf transforms are two separate things. You don't need to output a tf transform for a wheel odometry node.


Q:

Why doesn't costmap clear the old obstacles outside the scanner scope?

I can't upload the snapshot. So hopfully I can make the issue clear.
When I was using turtlebot to navigate along the known map, the costmap would inflate the static map which is fairly well. The XTion scanner found the obstacles marked as yellow which was removed  after a while. The scanner was not aware of this new situation because was outside the scanner scope at the moment. I setup a new destination on the map but ROS reported Failed to find the route on the map. It was caused by those obstacles who were in the way minutes ago.
I wonder why costmap doesnâ€™t remove the out of date obstacles in a given period? In this situation how to make the ROS navigation stack figure out a route?

Originally posted by Dragon Qu on ROS Answers with karma: 73 on 2015-08-07
Post score: 1

A:

Sidd is correct. The costmap aims to keep the map up to date with the most recent information it got. If it sees obstacles and then moves away without clearing them, it will keep that information forever (or until new sensor data clears the obstacles).
If this causes no path to be found, the recovery behaviors should trigger to clear the obstacles.
If you wish not to remember this data at all, you can remove the obstacles layer from your global costmap, and the obstacle layer in the local costmap will keep you from hitting obstacles.

Originally posted by David Lu with karma: 10932 on 2015-08-11
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by jackiescay on 2017-09-27:
David, thanks for answering this. Could you possibly give more specifics for how to remove the obstacles layer from the global costmap? For example, what files do I need to modify/how?
New to ROS- thanks so much.
Comment by vpradeep on 2018-06-06:
FYI - I just submitted a PR that adds an obstacle_timeout parameter to voxel_layer, which removes obstacles from the voxel grid, using a timeout based on each voxel's insertion time.
https://github.com/ros-planning/navigation/pull/740


Q:

RViz does not show robot appearance (RViz tutorials: building from scratch)

I follow examples from URDF Tutorial
/opt/ros/melodic/share/urdf_tutorial$ roslaunch urdf_tutorial display.launch model:=urdf/01-myfirst.urdf
... logging to /home/loic/.ros/log/e042da92-b408-11e8-943d-0800271f9a30/roslaunch-duneton-1649.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

xacro.py is deprecated; please use xacro instead
started roslaunch server http://duneton:36715/

SUMMARY
========

PARAMETERS
 * /robot_description: <?xml version="1....
 * /rosdistro: melodic
 * /rosversion: 1.14.3
 * /use_gui: True

NODES
  /
    joint_state_publisher (joint_state_publisher/joint_state_publisher)
    robot_state_publisher (robot_state_publisher/state_publisher)
    rviz (rviz/rviz)

ROS_MASTER_URI=http://localhost:11311

process[joint_state_publisher-1]: started with pid [1668]
process[robot_state_publisher-2]: started with pid [1669]
process[rviz-3]: started with pid [1670]
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile
libpng warning: iCCP: known incorrect sRGB profile

But no cylinder appears in RViz.
I check with all examples of the tutorials. I have never surfaces, only axes (3 colors). Here with second example :
image description http://ldayot.free.fr/CaptureDu2018-09-09_10-53-41.png
I attempted on raspbian or debian (in virtualbox) both on stretch with melodic.
Here result of rviz -l :

This code block was moved to the following github gist:
https://gist.github.com/answers-se-migration-openrobotics/5f32cbe57cdf31fb4478b5e1ace8e038

Originally posted by loic on ROS Answers with karma: 18 on 2018-09-09
Post score: 0

A:

Can you show us the output of echo $LC_NUMERIC?

Edit:

Empty : $ echo $LC_NUMERIC

Can you do this in a terminal and then try RViz again (from the same terminal)?
export LC_NUMERIC="en_US.UTF-8"

If this 'solves' it then please see ros/urdfdom_headers#41 and ros/urdfdom_headers#45.
You may need to add support for en_US to your locale configuration.

Originally posted by gvdhoorn with karma: 86574 on 2018-09-09
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by loic on 2018-09-09:
Empty :
$ echo $LC_NUMERIC
Comment by loic on 2018-09-09:
I had to reconfigure locales to add en_US.UTF-8. After export command, rviz displays surfaces. Thanks you.
What may I do to mark resolved the issue?
Comment by gvdhoorn on 2018-09-09:
Just turned my comment into a proper answer you can accept.
Comment by gvdhoorn on 2018-09-09:
Could you please make some noise (ie: post a comment) on ros/urdfdom_headers#45? The more people complain, the earlier we can get this fixed upstream.
Please include a link to this ROS Answers Q&A if you do.
Thanks.


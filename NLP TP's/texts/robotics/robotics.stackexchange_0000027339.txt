Q:

 tag in ROS plugin un-supported

I follow the ROS plugin here. And when I catkin_make, the error outputs is:

Invalid package manifest
"/home/winston/catkin_ws/src/gazebo_ros_plugin/package.xml":
Error(s) in
/home/winston/catkin_ws/src/gazebo_ros_plugin/package.xml:

The manifest (with format version 1) must not contain the following tags:
gazebo_ros

So the problem is the <gazebo_ros> tag in the package.xml file. This is my package.xml file:
<?xml version="1.0"?>
<package>
  <name>gazebo_ros_plugin</name>
  <version>0.0.0</version>
  <description>The gazebo_ros_plugin package</description>
  <maintainer email="winston@todo.todo">winston</maintainer>
  <license>TODO</license>

  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>gazebo_ros</build_depend>
  <build_depend>roscpp</build_depend>
  <run_depend>gazebo_ros</run_depend>
  <run_depend>roscpp</run_depend>

  <gazebo_ros plugin_path="${prefix}/lib" gazebo_media_path="${prefix}" />

  <export>
   </export>
</package>

However, if I put the <gazebo_ros> tag inside <export> tag, this error disappears but new errors occur:

In file included from /home/winston/catkin_ws/src/gazebo_ros_plugin/src/simple_world_plugin.cpp:1:0:
/usr/include/gazebo-5.0/gazebo/common/Plugin.hh:367:3:
error: expected ‘}’ at end of input
}
^
/home/winston/catkin_ws/src/gazebo_ros_plugin/src/simple_world_plugin.cpp:26:1:
note: in expansion of macro
‘GZ_REGISTER_WORLD_PLUGIN’
GZ_REGISTER_WORLD_PLUGIN(WorldPluginTutorial)
^

Any suggestions?

Originally posted by winston on Gazebo Answers with karma: 449 on 2015-03-11
Post score: 0

Original comments
Comment by Ratnesh Madaan on 2015-03-12:
class VisualPlugin : public PluginT
{
public: VisualPlugin()
{this->type = VISUAL_PLUGIN;}   (This is lined 367 in Plugin.hh)

A:

I have found out the answer to my question. Hope it  is useful to anyone else.

It is correct to put <gazebo_ros> inside <export> tag. That is :

FYI,  there is another relevant answer.

The build error occurs because I have left out a bracket "}" at the end of my source file.

Originally posted by winston with karma: 449 on 2015-03-14
This answer was ACCEPTED on the original site
Post score: 1


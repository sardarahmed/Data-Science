Q:

path planning exceeding velocity limits of ur5

Hi,
I am using moveit for path planning of a ur5. After finding a valid path, I want to execute it to the real robot (which is connected and communicating properly) but I always receive an error message like:
[ERROR] [WallTime: 1412925263.358047] Received a goal with velocities that are higher than 2.000000

the controller reports:
[INFO][ ... ]: Received new trajectory execution service request...
[WARNING][ ... ]: Controller handle reports status FAILED
[INFO][ ... ]: Execution completed: FAILED

any ideas how to fix that ?

Originally posted by psfa_fz on ROS Answers with karma: 36 on 2014-10-10
Post score: 0

A:

[ERROR] [WallTime: 1412925263.358047] Received a goal with velocities that are higher than 2.000000

The error you are seeing is not caused by exceeding a real, actual velocity limit, but rather by a check in ur_driver that compares the requested velocities against a (private) parameter called max_velocity. The idea behind the check was most likely to be able to enforce a maximum velocity over a trajectory. This is currently not (very well) documented.
This parameter has a default of 2 rad/s (this is in joint space).
You can do two things:

add a max_velocity parameter to the ur_driver node element in ur_bringup/launch/ur_common.launch, like so:
<node name="ur_driver" pkg="ur_driver" type="driver.py" args="...">
    <param name="max_velocity" type="double" value="YOUR_MAX_SPEED" />
</node>

edit ur_driver/src/ur_driver/driver.py, and increase the default value for the max_velocity parameter.

For now, I'd recommend you use option 1 on a source checkout of the universal_robot repository. Option 2 is really not a good idea.
I'll open a ticket on the github repository asking for this to be documented better.

Edit: for reference, see universal_robot/issues/124.

Originally posted by gvdhoorn with karma: 86574 on 2014-10-10
This answer was ACCEPTED on the original site
Post score: 1


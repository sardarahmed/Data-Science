Q:

Dependency error while installing TIAGo

Hi!!
I have recently installed ROS indigo on my VM and have had no issues so far. I have then tried to install the TIAGo robot but I seem to get an error when trying to set up dependency with the following command:
rosdep install --from-paths src --ignore-src --rosdistro indigo --skip-keys="opencv2 opencv2-nonfree pal_laser_filters speed_limit sensor_to_cloud"

ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
pal_hardware_gazebo: Cannot locate rosdep definition for [pal_hardware_interfaces]
temperature_sensor_controller: Cannot locate rosdep definition for [pal_hardware_interfaces]
mode_state_controller: Cannot locate rosdep definition for [pal_hardware_interfaces]

Any help would be appreciated as I am quite new to this!

Originally posted by hiteshmankani on ROS Answers with karma: 1 on 2018-02-27
Post score: 0

A:

This means something went wrong when you followed the install steps. The rosinstall command should have cloned the pal_hardware_interface package into your src/ directory, so rosdep shouldn't try to resolve it to a system dependency. If you follow the steps in the wiki page you've linked to exactly, everything should work.
I've verified that the following steps work on a fresh Ubuntu Trusty installation. They are basically the steps from the wiki page, I didn't adapt anything crucial.
sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu trusty main" > /etc/apt/sources.list.d/ros-latest.list'
wget http://packages.ros.org/ros.key -O - | sudo apt-key add -
sudo apt-get update
sudo apt-get install -y python-rosdep python-rosinstall python-catkin-tools git build-essential cmake
sudo rosdep init
rosdep update

sudo add-apt-repository --yes ppa:xqms/opencv-nonfree
sudo apt-get update
sudo apt-get install -y libopencv-nonfree-dev

# install ros-core, otherwise rosinstall complains that /opt/ros/indigo doesn't exist
sudo apt-get install -y ros-indigo-ros-core

mkdir ~/tiago_public_ws
cd ~/tiago_public_ws
wget https://raw.githubusercontent.com/pal-robotics/tiago_tutorials/master/tiago_public.rosinstall
rosinstall src /opt/ros/indigo tiago_public.rosinstall

# Use rosdep to install all dependencies
rosdep install --from-paths src --ignore-src -y --rosdistro indigo --skip-keys="opencv2 opencv2-nonfree pal_laser_filters speed_limit sensor_to_cloud"

source /opt/ros/indigo/setup.bash

# Init catkin workspace
catkin init
# Build packages
catkin build -DCMAKE_BUILD_TYPE=Release
source ~/tiago_public_ws/devel/setup.bash

Here is the Vagrantfile I've created to verify that the instructions work.

Originally posted by Martin G端nther with karma: 11816 on 2018-02-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by hiteshmankani on 2018-02-28:
Thanks a lot for your reply! I will try these steps again and let you know! Hopefully it works :D
Comment by hiteshmankani on 2018-02-28:
Hi, I seem to get this error when building the packages: https://jpst.it/1bwgA
Not sure how else to post it as it doesnt let me fit more characters. Thanks in advance!
Comment by hiteshmankani on 2018-03-02:
any help would be appreciated as this is the next error im getting while following the above steps: https://jpst.it/1bwgA
Comment by Martin G端nther on 2018-03-02:
The commands I've posted above are verified to work on a clean Ubuntu system. Something in your system seems to be really broken, so it's hard to help you. Please reinstall ROS; if that doesn't help, reinstall your system and try again.
Comment by hiteshmankani on 2018-03-02:
I have tested this on a ROS indigo with Ubuntu. Does this have any effect?
Comment by Martin G端nther on 2018-03-05:
ROS Indigo on Ubuntu is exactly right, that's also what I tested it under.
Comment by hiteshmankani on 2018-03-06:
Hi,  I have tried it in a freshly installed system and still got the same errors...
Comment by Martin G端nther on 2018-03-06:
You can install vagrant (sudo apt-get install vagrant), download the Vagrantfile from my answer and run "vagrant up" in the same directory as the Vagrantfile. That should at least give you a virtual machine with everything installed. I can't tell why it's working in the VM and not on your PC.
Comment by hiteshmankani on 2018-03-06:
it seems to have passed the part where it gave errors in my ubuntu system. its currently installing in my macos using vagrant which willl create a virtual machine.. is this vm ros with indigo?
Comment by hiteshmankani on 2018-03-07:
The vagrant is installed but the robot does not load... It says command not found when i run the vagrant machine... On another note, I downloaded my Ros indigo on ubunto preisntalled from here : https://nootrix.com/diy-tutos/ros-indigo-virtual-machine/ Does this have an issue?
Comment by hiteshmankani on 2018-03-07:
Thanks a lot for your help! If anyone stumbles upon this in the future, I did not use the ros with indigo pre installed. I installed it all by myself and it gave me no errors. Just have this one when opening the robot : https://pastebin.com/Ada2EFaW which takes time to load the robot


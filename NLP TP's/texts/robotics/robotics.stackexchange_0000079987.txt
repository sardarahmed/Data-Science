Q:

How to create a bond between two nodes using bondcpp

Hi,
I am running ros jade on ubuntu 14.04. I need to monitor node crashes.I think bondcpp can help me do that.However, I can't find the example code given to work
node A
#include <bondcpp/bond.h>

std::string id = generateUniqueId();
// Sends id to B using a service or action
bond::Bond bond("example_bond_topic", id);
bond.start();
if (!bond.waitUntilFormed(ros::Duration(1.0)))
{
    ROS_ERROR("ERROR!");
    return false;
}
// ... do things with B ...
bond.waitUntilBroken(ros::Duration(-1.0));

printf("B has broken the bond\n");

and another node -node B
#include <bondcpp/bond.h>

// Receives id from A using a service or action
bond::Bond bond("example_bond_topic", id);
bond.start();
// ... do things ...
bond.breakBond();

Node A never goes beyond that "ERROR!".
Any advice will be appreciated
Thanks

Originally posted by eesttaar on ROS Answers with karma: 26 on 2017-04-03
Post score: 0

Original comments
Comment by mohsen1989m on 2017-04-04:
if u wanna track where your node crashes why don't u just use gdb?
Comment by eesttaar on 2017-04-05:
More than where I am interested in when so that I can take subsequent actions like respawning or informing other nodes in the system that a particular node has crashed.

A:

If you're getting that "ERROR!" string the bond is not getting initialized within 1 second so is erroring.

Originally posted by tfoote with karma: 58457 on 2018-06-15
This answer was ACCEPTED on the original site
Post score: 0


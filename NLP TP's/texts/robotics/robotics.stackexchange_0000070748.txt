Q:

How do I publish gazebo position of a robot model on odometry topic

Hello,
I have a robot model that runs using teleop key, and I want to publish its position and velocity on odometry topic. How should I achieve this?
Thanks.

Originally posted by cybodroid on ROS Answers with karma: 234 on 2015-12-06
Post score: 2

A:

You can use the gazebo_ros_p3d plugin in your robot's URDF to directly publish (ground truth) odometry for your robot. Here's a usage example: tracker_chassis.gazebo.xacro.xml
For your use case (publishing directly to odom) it would probably look like this:
<plugin name="p3d_base_controller" filename="libgazebo_ros_p3d.so">
  <alwaysOn>true</alwaysOn>
  <updateRate>50.0</updateRate>
  <bodyName>base_link</bodyName>
  <topicName>odom</topicName>
  <gaussianNoise>0.01</gaussianNoise>
  <frameName>world</frameName>
  <xyzOffsets>0 0 0</xyzOffsets>
  <rpyOffsets>0 0 0</rpyOffsets>
</plugin>

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2017-10-09
This answer was ACCEPTED on the original site
Post score: 12

Original comments
Comment by Ankita on 2021-07-24:
Thanks, it worked for me. Now, I am able to get position data of my robot from the gazebo. Thanks a lot.


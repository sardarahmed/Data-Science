Q:

How to transform a PointStamped from a frame to another?

Hi,
I get a PoseStamped in a specific frame and I want to transform it to the coordinates of the point in my base_link frame. I tried to use the tf::Transformer::transformPoint. Is it correct? I still have errors when trying to use it because of the types of the inputs. So I used tf::pointStampedMsgToTF but it still not compile.
tf::Stamped<tf::Point> tf_point_stamped_in, tf_point_stamped_out;
tf::pointStampedMsgToTF(goal_stamped,*tf_point_stamped_in);
    
if (!tf::Transformer::transformPoint ("base_link", tf_point_stamped_in, tf_point_stamped_out))
{
    ROS_ERROR_STREAM ("Error converting stamped point from frame "<<goal_stamped->header.frame_id<<"to base_link");
    return;
}
tf::pointStampedTFToMsg(tf_point_stamped_out, goal_stamped_);

What is wrong? Thanks!

Originally posted by est_CEAR on ROS Answers with karma: 170 on 2015-08-09
Post score: 3

Original comments
Comment by NEngelhard on 2015-08-09:
What error messages do you get? What are the expected parameters of your functions?
Comment by est_CEAR on 2015-08-10:
Hi, thanks for your answer! I finally fixed it.

A:

Hi,
I finally found an example of code and it works:
tf::TransformListener listener(ros::Duration(10));
listener.transformPoint("base_link", *goal_stamped, goal_stamped_);

where goal_stamped is a const geometry_msgs::PointStamped::constPtr (subscribed from a topic) and goal_stamped_ is the geometry_msg::PointStamped that I want to use in my code, with frame_id="base_link" (it is the output of the transformPoint function.
Sorry, I hope it will help others!

Originally posted by est_CEAR with karma: 170 on 2015-08-10
This answer was ACCEPTED on the original site
Post score: 2


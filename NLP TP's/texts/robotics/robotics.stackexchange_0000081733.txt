Q:

Using GPS in RVIZ

Hi
I have a GPS that connected to Arduino and publish Fix msg for longitude and latitude, and then convert it to UTM system. I am trying to preform an outdoor navigation while avoiding obstacle.
I have the following questions:
1- What are the options of using the GPS with RVIZ  or any other tool, and is it necessary to convert longitude and latitude to UTM system.
2- If GPS is connected to a frame like base link and base link is provide The GPS data as an odometer after changing it to UTM then base link and odometer must be at the same  coordination. When I view it, but its not at the same coordination.
note that I am subscribing to odom and publish the GPS with IMU data as an odom1.
3- In Rviz if I put the fixed frame as an odom1 and the target frame as base link, and the base as axis I will see the axis in the space; this mean what is this mean  that the base link not on the same odometery frame? or its mean that the odometer is very big and the base link is small related to the odometer?
sorry if there is anything not clear.
I hope any one can provide me with tool or something to read regards to this point, thanks for help.
note: I am using GPS_common pkg to convert long and latt to UTM system
edit: clarifying the question in point 3.

Originally posted by ghaith on ROS Answers with karma: 89 on 2017-07-11
Post score: 1

A:

1- What are the options of using the GPS with RVIZ or any other tool, and is it necessary to convert longitude and latitude to UTM system.

Yes, you must use a cartesian coordinate system for transforms and therefore with rviz. UTM is a decent approximation for this and I've seen many people use it in the past.

2- If GPS is connected to a frame like base link and base link is provide The GPS data as an odometer after changing it to UTM then base link and odometer must be at the same coordination. When I view it, but its not at the same coordination. note that I am subscribing to odom and publish the GPS with IMU data as an odom1. but odom1 and odom not in the same x and y pose, I don't know why.

I don't understand what you're saying here.
Usually you pick an arbitrary origin (some pair of UTM coordinates) and use that as the origin for your /odom frame. That keeps the transforms small when the UTM coordinates are large (tens of thousands of meters or more). Then you use the difference of the current UTM coordinate and the arbitrary origin as the transform between /odom and /base_link. I don't understand how you're using the IMU data in this case. It is usually rendered separately in the robot's frame (or the IMU's frame if it is different) or it is integrated with the GPS solution separately.

3- If I use the RVIZ it will start viewing from 0,0 or from the base link coordination aka the GPS.

I don't think this is a question, but it might have something to do with using an arbitrary origin or you might just need to adjust your "target frame" which is the frame the view controller operates in.

Originally posted by William with karma: 17335 on 2017-07-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by ghaith on 2017-07-11:
First of all thanks for the answer
for the second point i mean like if i put the target frame in base_link , and the fixed frame as odom, the base link will be in the space not on the grid. So how i can make the base_link and  ododmetre start at the same coordination?
Thanks again for the answer.


Q:

[ INFO] [1345647384.436612487]: Still waiting on map

rosrun rviz rviz -d rospack find turtlebot_navigation/nav_rviz.vcg
When I ran this on my turtlebot, as directed here, the turtlebot kept repeating "Still waiting on map...". I then continued, and started rviz, with the command given on the webpage. When it started, the rviz screen was black, and no map was being shown. I tried teleoping it around the room to see if I could pick something up, but it still remained black. Any ideas on what the problem might be, or how to make a map using my turtlebot? Thanks!

Also, when i try to run
roslaunch turtlebot_calibration calibrate.launch
it says "Still waiting for scan"

Originally posted by buma676 on ROS Answers with karma: 91 on 2012-08-22
Post score: 1

A:

hello,
I C the Q is approx a month old, hope u have figured it out.
I was following the same tutorial, but for simulation (later I saw http://www.ros.org/wiki/turtlebot_simulator/Tutorials/Building%20a%20Map%20in%20TurtleBot%20Simulator),
But everything was exactly same except one parameter missing in tutlebot_gazebo/launch/robot.launch
I only needed to add :

<param name="output_frame" value="odom"/>

in the odometry estimator i.e., in the tag:-

 <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">

so now this node, in robot.launch looks like:-

  <!-- The odometry estimator -->

  <node pkg="robot_pose_ekf" type="robot_pose_ekf" name="robot_pose_ekf">
    <param name="freq" value="30.0"/>
    <param name="sensor_timeout" value="1.0"/>
    <param name="publish_tf" value="true"/>
    <param name="odom_used" value="true"/>
    <param name="imu_used" value="false"/>
    <param name="vo_used" value="false"/>
    <param name="output_frame" value="odom"/>     <!-- This is not present in tutrtlebot_gazebo's robot.launch -->
  </node>

Only with this modification I am now able to make the map correctly.
Hope it helps.

Originally posted by aknirala with karma: 339 on 2012-09-16
This answer was ACCEPTED on the original site
Post score: 0


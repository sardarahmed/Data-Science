Q:

Access to a world from GUI system plugin for gzclient

I have a GUI system plugin that is loaded by gzclient in the following manner:
gzclient -g libgazebo_plugin.so

After gzclient starts I can see my world with simulation running. However I am unable to get access to that world from the plugin - physics::get_world() generates exception:
Error [Physics.cc:71] Unable to find world by name in physics::get_world[default]

Here how it is invoked:
void Init() {
  ...
  this->world_name_ = gui::get_world(); // returns "default"
  this->world_ = physics::get_world(this->world_name_);
  ...
}

physics::get_world() without arguments gives error "no worlds".
Any thoughts?
P.S. I actually just need to get simulation time (world_->GetSimTime()), so maybe there is another way?
Thanks

Originally posted by Boris on Gazebo Answers with karma: 330 on 2013-05-13
Post score: 0

A:

Physics is done in the server, so the client has to subscribe to a published topic to get information about worlds and entities. You can use anything you see in gztopic list. The ~/world/stats topic may be useful to you, though it is only published at 5 Hz. You could write a world plugin on the server side to publish time more frequently so that you could get it in a system plugin from the client.

Originally posted by scpeters with karma: 2861 on 2013-05-13
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Boris on 2013-05-14:
Great! Thanks!


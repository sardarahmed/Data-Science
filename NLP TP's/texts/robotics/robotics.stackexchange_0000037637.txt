Q:

Input arguments for tf::Vector3() tf::Quaternion()

I would like to know the kind of input arguments passed both in the tf::Vector3() tf::Quaternion() as in the code below:
tf::Transform xform;
xform.setOrigin(tf::Vector3(pose3D_LDD.pose.position.x, pose3D_LDD.pose.position.y, pose3D_LDD.pose.position.z));
xform.setRotation(tf::Quaternion(pose3D_LDD.pose.orientation.x, pose3D_LDD.pose.orientation.y, pose3D_LDD.pose.orientation.z, pose3D_LDD.pose.orientation.w));

Specifically, I want to know, are they absolute or relative? By the way, those all those lines reside in a callback function. For a more detail version of the code snippet of it, kindly refer to the code snippet here.
I know that tf::Vector3() tf::Quaternion() refer to translation and rotation respectively but, should they be passed as absolute or relative in this regard?
Thanks in advance.

Originally posted by alfa_80 on ROS Answers with karma: 1053 on 2012-02-06
Post score: 0

A:

They should be passed in relative to the parent frame.
For example, you have base_link, located at (0, 0, 0) with a roll, pitch, and yaw of (0, 0, 0). Let's say that your sensor is located 1 meter in front of your robot, and it is inverted (upside down). Then, you would set the transform origin to (1, 0, 0) with RPY of (0, M_PI, 0).
tf::Transform xform;
xform.setOrigin(tf::Vector3(1.0, 0, 0));
xform.setRotation(tf::createQuaternionFromRPY(0, M_PI, 0));  

If the sensor were located behind the robot, it would be:
tf::Transform xform;
xform.setOrigin(tf::Vector3(-1.0, 0, 0));
xform.setRotation(tf::createQuaternionFromRPY(0, M_PI, 0));  

Originally posted by DimitriProsser with karma: 11163 on 2012-02-06
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by DimitriProsser on 2012-02-06:
You can do tf::transformPose() to transform the pose from the world frame to the same frame as the cloud.
Comment by alfa_80 on 2012-02-06:
pose3D_LDD represents absolute values for x, y and z.
Comment by alfa_80 on 2012-02-06:
cont'd: should have been written as [should have been written as [xform.setOrigin(tf::Vector3(previous_pose3D_LDD.pose.position.x-pose3D_LDD.pose.position.x, previous_pose3D_LDD.pose.position.y-pose3D_LDD.pose.position.y, previous_pose3D_LDD.pose.position.z-pose3D_LDD.pose.position.z));]
Comment by DimitriProsser on 2012-02-06:
I don't know what pose3D_LDD represents.
Comment by alfa_80 on 2012-02-06:
For instance, xform.setOrigin(tf::Vector3(pose3D_LDD.pose.position.x, pose3D_LDD.pose.position.y, pose3D_LDD.pose.position.z));
]
Comment by alfa_80 on 2012-02-06:
If it is relative, that means, I've to pass in the value, like (previousValueOfX - ValueOfX) for each of them correspondingly. Am i right?
Comment by alfa_80 on 2012-02-06:
With respect to the input values in my code snippet(that you once suggested that way), what was your assumption? relative or absolute?


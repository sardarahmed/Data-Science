Q:

When I try to do a client of a service of ROS, Matlab and ROS give me an error!

Hello! I'm trying to interface Matlab and ROS. I've a service in ROS and I want to do a client of this service in Matlab but when I do:
rosinit ('http://....:11311')
client = rossvcclient('/launch_by_service')

Matlab and ROS make me an error as this:
Failed to create a /launch_by_service service client.
[ERROR] ServiceClientHandshakeHandler - Service client handshake failed: client wants service /launch_by_service to have md5sum e1d8c050aed05957d504a68117eb0528, but it has 546971982e3fbbd5a41e60fb6432e357. Dropping connection.

When I do rosservice list from Matlab I see the service and the type. Can somebody help me? Thanks!

Originally posted by viola on ROS Answers with karma: 1 on 2016-05-03
Post score: 0

A:

There is a difference in the service specification of the different nodes. Is this on one or on two PCs? Custom service?
You should check the md5 sums of the services on the respective machines with rossrv md5 PACKAGE/SRV and if they are not the same, you need to figure out which one to update.

Originally posted by mgruhler with karma: 12390 on 2016-05-03
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by viola on 2016-05-04:
They are on a different computer. Matlab in on Mac and ROS on Ubuntu
Comment by s1839705 on 2016-10-18:
How do you update the md5sum? I am having the same problem.
Comment by mgruhler on 2016-10-18:
The service files need to be exactly the same. I.e. including comments (and probably whitespace).
This error means you are having a different version somewhere.
Comment by s1839705 on 2016-10-18:
After changing, still does not work. I am not interfacing MATLAB and ROS, I am using ROS across two different machines. It's weird, because if I run the command rossrv md5 <my.srv>, the output is exactly the same in both the computers. But when I try to use the server, the error still appears
Comment by s1839705 on 2016-11-19:
I recompiled using make. Thanks a lot :)
Comment by ccopot on 2016-12-15:
Hi, I have the same problem. Can you explain me how to update the MD5 (I am new in ROS). I have Matlab with Robotic toolbox (ROS also) and ROS installed on the same PC with Ubuntu. Note, I have installed MOVEit as well.
I recompile the catkin but still different MD5. Any idea how to solve this?
Comment by mgruhler on 2016-12-15:
as stated above. make sure the *.msg, *.srv file on the different machines is exactly the same. Then recompile. The md5 is deduced from the file itself.
Comment by ccopot on 2016-12-15:
I understood that. I found the *.msg files on ROS (/opt/ros/jade/share/control_msgs) but NOT on Matlab folder (there are only .m files). The robotics toolbox come with this message type but they are outdated. Do I have to downgrade my control_msgs? or to create other Matlab files using rosgenmsg?


Q:

astra_launch and astra_camera packages. Problems with RGB

Hello all;
I have recently purchased an Orbbec Astra Pro sensor as a substitute for the difficult to get Asus Xtion Pro Live.
I have installed astra_launch and astra_camera packages. As the sensor was not recognized, I have also run the install.sh script from the astra_camera source code in GitHub.
Now, when I run the sensor with roslaunch astra_launch astra.launch the sensor is recognized and in Rviz, I can see depth images, ir_images and pointclouds, but I do not receive RGB images.
The topics corresponding to the RGB images are present, but they are not publishing anything.
Is this problem known? Any way to solve it?
I would appreciate any kind of advise or help...
Best regards,
Alberto

Originally posted by altella on ROS Answers with karma: 149 on 2016-10-27
Post score: 1

Original comments
Comment by jljess01 on 2017-01-04:
Just purchased a Turtlebot 2 from Clearpath Robotics.  It came with the Astra sensor installed.  However, I too am having trouble with RGB images as described above.
When I use image_view I do not have an rgb image available.

A:

I had the same issue as astra pro is what came with my Turtlebot 2 that I ordered from Clearpath Robotics.
My setup: Ubuntu 14.04.2 LTS running ROS Indigo
The launch package that allowed me to have both depth and rgb is astra_pro.launch found here:  https://github.com/clearpathrobotics/ros_astra_launch/tree/upstream/launch
The help at clearpath was superb! Directions I received are as follows(You can edit the directories as you wish of course):
mkdir -p turtlebot_ws/src
cd turtlebot_ws/src
catkin_init_ws
git clone https://github.com/tonybaltovski/ros_astra_launch.git --branch upstream
git clone https://github.com/tonybaltovski/ros_astra_camera.git --branch upstream
cd ..
rosdep install --from-paths src --ignore-src --rosdistro=indigo -y
catkin_make
source devel/setup.bash
rosrun astra_camera create_udev_rules
(you may need to reboot here)
roslaunch astra_launch astra_pro.launch

Originally posted by surfertas with karma: 265 on 2017-05-02
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by surfertas on 2017-05-03:
In order for RViz to successfully subscribe to the RGB image topic, you need to take further steps to calibrate your camera, and generate a yaml file. Ive tried to document the steps here http://surfertas.github.io/rviz/turtlebot/2017/05/03/turtlebot-astrapro.html.


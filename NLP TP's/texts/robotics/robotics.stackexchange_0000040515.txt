Q:

rosdep package/name?

Hi,
In my previous question I have problem with rosmake complaining that it can not find the dependency, which was solved by changing:
<rosdep name="gsl"/>

to
<rosdep package="gsl"/>

however, I wanted to add dynamic_reconfigure but the building process failed with error, but when I changed rosdep back to name, it finishes but complain as before. The build error is:
load_module did not return. Unable to determine dependencies for file listed above.
  ***********************************************************************************
  Traceback (most recent call last):
    File "/opt/ros/electric/stacks/driver_common/dynamic_reconfigure/cmake/gendeps", line 64, in <module>
      imp.load_module("__main__", f, srcfile, ('.cfg', 'U', 1))
    File "/home/wagnelib/Source/ros_workspace/my_package/cfg/Wrinkledness.cfg", line 4, in <module>
      roslib.load_manifest(PACKAGE)
    File "/opt/ros/electric/ros/core/roslib/src/roslib/launcher.py", line 75, in load_manifest
      sys.path = prefix + _generate_python_path(package_name, [], os.environ) + sys.path
    File "/opt/ros/electric/ros/core/roslib/src/roslib/launcher.py", line 134, in _generate_python_path
      raise roslib.packages.InvalidROSPkgException("While loading package '%s': cannot load dependency '%s'\nLower level error was %s"%(pkg, d.package, traceback.format_exc()))
  roslib.packages.InvalidROSPkgException: While loading package 'clopema': cannot load dependency 'gsl'
  Lower level error was Traceback (most recent call last):
    File "/opt/ros/electric/ros/core/roslib/src/roslib/launcher.py", line 128, in _generate_python_path
      paths.extend(_generate_python_path(d.package, depends, env))
    File "/opt/ros/electric/ros/core/roslib/src/roslib/launcher.py", line 118, in _generate_python_path
      m = roslib.manifest.parse_file(manifest_file)
    File "/opt/ros/electric/ros/core/roslib/src/roslib/manifest.py", line 139, in parse_file
      return roslib.manifestlib.parse_file(Manifest(), file)
    File "/opt/ros/electric/ros/core/roslib/src/roslib/manifestlib.py", line 486, in parse_file
      return parse(m, text, file)
    File "/opt/ros/electric/ros/core/roslib/src/roslib/manifestlib.py", line 525, in parse
      m.rosdeps = check('rosdep')(p, filename)
    File "/opt/ros/electric/ros/core/roslib/src/roslib/manifestlib.py", line 149, in check
      names = [d['name'].value for d in rosdeps]
    File "/usr/lib/python2.6/xml/dom/minidom.py", line 530, in __getitem__
      return self._attrs[attname_or_tuple]
  KeyError: 'name'
  
  CMake Error at /opt/ros/electric/stacks/driver_common/dynamic_reconfigure/cmake/cfgbuild.cmake:65 (string):
    string sub-command REPLACE requires at least four arguments.
  Call Stack (most recent call first):
    /opt/ros/electric/stacks/driver_common/dynamic_reconfigure/cmake/cfgbuild.cmake:83 (gencfg_cpp)
    CMakeLists.txt:26 (include)
  
  
  -- Configuring incomplete, errors occurred!

Originally posted by liborw on ROS Answers with karma: 801 on 2012-05-15
Post score: 0

Original comments
Comment by joq on 2012-05-15:
Strange. I've been using  and  all along.
Comment by piyushk on 2012-05-15:
@joq I agree. I don't think rosdep supports the package attribute. http://www.ros.org/doc/api/rospkg/html/manifest_xml.html#manifest-rosdep-tag

A:

From @joq and @piyushk rosdep should only use the name attribute.

Originally posted by tfoote with karma: 58457 on 2012-06-25
This answer was ACCEPTED on the original site
Post score: 0


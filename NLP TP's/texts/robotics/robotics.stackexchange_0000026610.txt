Q:

Differences in paths between gazebo and rosrun gazebo_ros gzserver

Hi
I have my files in the following structure:
~/faster_dev/branches/yn/gazebo/plugin: mars.world
~/faster_dev/branches/yn/gazebo/models: model database, model.sdf files in subfolders
~/gazebo_source/catkin_ws/src/gazebo_ros_pkgs/gazebo_ros

My environment variables are set up as follows:

GAZEBO_MODEL_PATH=:/home/yn/faster_dev/branches/yn/gazebo/models:/home/yn/faster_dev/trunk/gazebo/models
GAZEBO_RESOURCE_PATH=/home/yn/local/share/gazebo-1.9:/home/yn/local/share/gazebo_models:/home/yn/faster_dev/branches/yn/gazebo/plugin:/home/yn/faster_dev/branches/yn/gazebo/models
GAZEBO_MASTER_URI=http://localhost:11345
GAZEBO_PLUGIN_PATH=/home/yn/local/lib/gazebo-1.9/plugins:/home/yn/faster_dev/branches/yn/gazebo/plugin/build:/home/yn/faster_dev/trunk/gazebo/plugin/build
GAZEBO_MODEL_DATABASE_URI=http://gazebosim.org/models

When I run "gazebo mars.world" from any location the world is loaded with all textures and models found, howvere 'rosrun gazebo_ros gzserver mars.world" can only find the world file if I run the command from folder containing the mars.world file, and in this case a number of resources (png for heightmap and textures) cannot be found.
Is there any difference in the paths or environment variables used by gazebo and gazebo_ros?
Yasho

Originally posted by ynevatia on Gazebo Answers with karma: 41 on 2013-07-27
Post score: 0

Original comments
Comment by ynevatia on 2013-07-30:
The problem lies with the scripts in gazebo_ros/scripts. These call the setup.sh from Gazebo, which was overwriting the environment variables I had set in my .bashrc with default values.

A:

I finally figured out the problem: it lies with a conflict in the scripts in gazebo_ros/scripts and the way I setup the environment variables. the gazebo_ros scripts call the setup.sh from Gazebo, which was overwriting the environment variables I had set in my .bashrc with default values. without changing how I saw the environment variables outside the execution.
By commenting out the relevant lines in gazebo_ros/scripts/gazebo and building it again (for safety), roslaunch gazebo_ros mars_world.launch works.

Originally posted by ynevatia with karma: 41 on 2013-07-30
This answer was ACCEPTED on the original site
Post score: 1


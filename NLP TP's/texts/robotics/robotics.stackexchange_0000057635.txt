Q:

*** glibc detected *** /opt/ros/groovy/lib/rviz/rviz: free(): invalid next size (normal): 0x000000000526d7f0 ***

Hi,
Would like to check if rviz is incompatible with groovy now? I am currently using ubuntu 12.04 and groovy.
i am managed to run the original rviz with minimal settings. however, for example, when i try to add in the laser scan data from the hokuyo node. it clashes and show the following errors. can anyone help me please? Thank you.
The error message shows
rosrun rviz rviz -d `rospack find rbx1_nav`/nav.rviz
[ INFO] [1393839197.213827908]: rviz version 1.9.34
[ INFO] [1393839197.213970839]: compiled against OGRE version 1.7.4 (Cthugha)
[ INFO] [1393839197.626062602]: OpenGl version: 4.4 (GLSL 4.4).
Segmentation fault (core dumped)

or
rosrun rviz rviz -d `rospack find rbx1_nav`/nav_test.rviz
[ INFO] [1393839262.349156655]: rviz version 1.9.34
[ INFO] [1393839262.349220165]: compiled against OGRE version 1.7.4 (Cthugha)
[ INFO] [1393839262.758079698]: OpenGl version: 4.4 (GLSL 4.4).
*** glibc detected *** /opt/ros/groovy/lib/rviz/rviz: free(): invalid next size (normal): 0x000000000526d7f0 ***
======= Backtrace: =========
/lib/x86_64-linux-gnu/libc.so.6(+0x7eb96)[0x7f88b7addb96]
/usr/lib/x86_64-linux-gnu/OGRE-1.7.4/RenderSystem_GL.so(_ZN4Ogre21GLHardwarePixelBuffer10freeBufferEv+0x1b)[0x7f887a0de39b]
/usr/lib/x86_64-linux-gnu/OGRE-1.7.4/RenderSystem_GL.so(_ZN4Ogre21GLHardwarePixelBuffer14blitFromMemoryERKNS_8PixelBoxERKNS_3BoxE+0x259)[0x7f887a0de939]
/usr/lib/x86_64-linux-gnu/OGRE-1.7.4/RenderSystem_GL.so(_ZN4Ogre15GLTextureBuffer14blitFromMemoryERKNS_8PixelBoxERKNS_3BoxE+0x34)[0x7f887a0dfd64]
/usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4(_ZN4Ogre7Texture11_loadImagesERKSt6vectorIPKNS_5ImageENS_12STLAllocatorIS4_NS_22CategorisedAllocPolicyILNS_14MemoryCategoryE0EEEEEE+0x81e)[0x7f88b4f1bf9e]
/usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4(_ZN4Ogre7Texture9loadImageERKNS_5ImageE+0x101)[0x7f88b4f1b541]
/usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4(_ZN4Ogre7Texture11loadRawDataERNS_9SharedPtrINS_10DataStreamEEEttNS_11PixelFormatE+0x79)[0x7f88b4f1a009]
/usr/lib/x86_64-linux-gnu/libOgreMain.so.1.7.4(_ZN4Ogre14TextureManager11loadRawDataERKSsS2_RNS_9SharedPtrINS_10DataStreamEEEttNS_11PixelFormatENS_11TextureTypeEifb+0x31c)[0x7f88b4f1e37c]
/opt/ros/groovy/lib/libdefault_plugin.so(_ZN4rviz10MapDisplay6updateEff+0x8e2)[0x7f8867c4b362]
/opt/ros/groovy/lib/librviz.so(_ZN4rviz12DisplayGroup6updateEff+0x81)[0x7f88b90d40b1]
/opt/ros/groovy/lib/librviz.so(_ZN4rviz20VisualizationManager8onUpdateEv+0x109)[0x7f88b917bd99]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN11QMetaObject8activateEP7QObjectPKS_iPPv+0x2b1)[0x7f88b4146281]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN7QObject5eventEP6QEvent+0x99)[0x7f88b414b179]
/usr/lib/x86_64-linux-gnu/libQtGui.so.4(_ZN19QApplicationPrivate13notify_helperEP7QObjectP6QEvent+0xb4)[0x7f88b8500894]
/usr/lib/x86_64-linux-gnu/libQtGui.so.4(_ZN12QApplication6notifyEP7QObjectP6QEvent+0x113)[0x7f88b8505713]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN16QCoreApplication14notifyInternalEP7QObjectP6QEvent+0x8c)[0x7f88b4131e9c]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(+0x1ac1f2)[0x7f88b41631f2]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(+0x1a9c0d)[0x7f88b4160c0d]
/lib/x86_64-linux-gnu/libglib-2.0.so.0(g_main_context_dispatch+0x133)[0x7f88b2eb6d13]
/lib/x86_64-linux-gnu/libglib-2.0.so.0(+0x48060)[0x7f88b2eb7060]
/lib/x86_64-linux-gnu/libglib-2.0.so.0(g_main_context_iteration+0x34)[0x7f88b2eb7124]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN20QEventDispatcherGlib13processEventsE6QFlagsIN10QEventLoop17ProcessEventsFlagEE+0x6f)[0x7f88b41613bf]
/usr/lib/x86_64-linux-gnu/libQtGui.so.4(+0x273d9e)[0x7f88b85a8d9e]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN10QEventLoop13processEventsE6QFlagsINS_17ProcessEventsFlagEE+0x32)[0x7f88b4130c82]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN10QEventLoop4execE6QFlagsINS_17ProcessEventsFlagEE+0xf7)[0x7f88b4130ed7]
/usr/lib/x86_64-linux-gnu/libQtCore.so.4(_ZN16QCoreApplication4execEv+0x87)[0x7f88b4135f67]
/opt/ros/groovy/lib/rviz/rviz(main+0x4c)[0x400b0c]
/lib/x86_64-linux-gnu/libc.so.6(__libc_start_main+0xed)[0x7f88b7a8076d]
/opt/ros/groovy/lib/rviz/rviz[0x400ba1]
======= Memory map: ========
00400000-00401000 r-xp 00000000 08:07 2368934                            /opt/ros/groovy/lib/rviz/rviz
00601000-00602000 r--p 00001000 08:07 2368934                            /opt/ros/groovy/lib/rviz/rviz
00602000-00603000 rw-p 00002000 08:07 2368934                            /opt/ros/groovy/lib/rviz/rviz
0143c000-0577e000 rw-p 00000000 00:00 0                                  [heap]
402da000-40378000 rw-p 00000000 00:00 0
40963000-40965000 r-xs 00000000 08:07 266350                             /tmp/glAhESiD (deleted)
41038000-410d6000 rw-p 00000000 00:00 0
41985000-41a23000 rw-p 00000000 00:00 0
7f8840000000-7f8840021000 rw-p 00000000 00:00 0
7f8840021000-7f8844000000 ---p 00000000 00:00 0
7f8846bed000-7f8846fff000 rw-s 00000000 00:04 3145730                    /SYSV00000000 (deleted)
7f8846fff000-7f88473ff000 rw-s 1cb760000 00:05 15963                     /dev/nvidia0
7f88473ff000-7f88477ff000 rw-s 1da5c0000 00:05 15963                     /dev/nvidia0
7f88477ff000-7f8847bff000 rw-s 1ce432000 00:05 15963                     /dev/nvidia0
7f8847df6000-7f8847dff000 r-xp 00000000 08:07 1311                       /usr/lib/x86_64-linux-gnu/qt4/plugins/iconengines/libqsvgicon.so
7f8847dff000-7f8847ffe000 ---p 00009000 08:07 1311                       /usr/lib/x86_64-linux-gnu/qt4/plugins/iconengines/libqsvgicon.so
7f8847ffe000-7f8847fff000 r--p 00008000 08:07 1311                       /usr/lib/x86_64-linux-gnu/qt4/plugins/iconengines/libqsvgicon.so
7f8847fff000-7f8848000000 rw-p 00009000 08:07 1311                       /usr/lib/x86_64-linux-gnu/qt4/plugins/iconengines/libqsvgicon.so
7f8848000000-7f8848021000 rw-p 00000000 00:00 0
7f8848021000-7f884c000000 ---p 00000000 00:00 0
7f884c000000-7f884c021000 rw-p 00000000 00:00 0
7f884c021000-7f8850000000 ---p 00000000 00:00 0
7f8850000000-7f8850021000 rw-p 00000000 00:00 0
7f8850021000-7f8854000000 ---p 00000000 00:00 0
7f8854000000-7f8854021000 rw-p 00000000 00:00 0
7f8854021000-7f8858000000 ---p 00000000 00:00 0
7f8858000000-7f8858021000 rw-p 00000000 00:00 0
7f8858021000-7f885c000000 ---p 00000000 00:00 0
7f885c000000-7f885c021000 rw-p 00000000 00:00 0
7f885c021000-7f8860000000 ---p 00000000 00:00 0
7f8860000000-7f8860021000 rw-p 00000000 00:00 0
7f8860021000-7f8864000000 ---p 00000000 00:00 0
7f88641e4000-7f8864244000 rw-s 00000000 00:04 3178499                    /SYSV00000000 (deleted)
7f8864244000-7f8864344000 rw-p 00000000 00:00 0
7f8864344000-7f8864744000 rw-s 1cb5e0000 00:05 15963                     /dev/nvidia0
7f8864744000-7f8864944000 rw-s 1ce46e000 00:05 15963                     /dev/nvidia0
7f8864964000-7f8864e45000 rw-p 00000000 00:00 0
7f8864e45000-7f8864e46000 ---p 00000000 00:00 0
7f8864e46000-7f8865646000 rw-p 00000000 00:00 0                          [stack:21792]
7f8865646000-7f8865647000 ---p 00000000 00:00 0
7f8865647000-7f8865e47000 rw-p 00000000 00:00 0                          [stack:21786]
7f8865e47000-7f8866047000 rw-s 1d68a2000 00:05 15963                     /dev/nvidia0
7f8866047000-7f8866198000 r-xp 00000000 08:07 3547283                    /usr/lib/x86_64-linux-gnu/libxml2.so.2.7.8
7f8866198000-7f8866398000 ---p 00151000 08:07 3547283                    /usr/lib/x86_64-linux-gnu/libxml2.so.2.7.8
7f8866398000-7f88663a0000 r--p 00151000 08:07 3547283                    /usr/lib/x86_64-linux-gnu/libxml2.so.2.7.8
7f88663a0000-7f88663a2000 rw-p 00159000 08:07 3547283                    /usr/lib/x86_64-linux-gnu/libxml2.so.2.7.8
7f88663a2000-7f88663a3000 rw-p 00000000 00:00 0 Aborted (core dumped)

Originally posted by chao on ROS Answers with karma: 153 on 2014-03-03
Post score: 0

A:

Current rviz for groovy from .debs crashing when displaying data like pointclouds or laser scans is a known issue, see also here, here and here
There are two ways around this:

Compiling rviz yourself

or

Using the fuerte or hydro versions
(the latter is recommended)

YouÂ´ll find info about those two in the links I posted.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-03-03
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by chao on 2014-03-03:
I have read the 1st link but not the latter two. Thanks alot :)


Q:

tabletop_segmentation fails (eigen error)

Hi,
using the customized object manipulation stack for sr_hand, with diamondback packages openni, household_object_database, tabletop_object_detector, object_manipulation, I ran into this error when asking to detect an object :
[ INFO] [1309279735.492363833]: Object detector: loading complete
[ INFO] [1309279735.499758174]: waitForService: Service [/tabletop_object_recognition] is now available.
[ INFO] [1309279735.504551066]: Tabletop complete node ready
[ INFO] [1309279881.128877336]: Tabletop detection service called; waiting for a point_cloud2 on topic /pcl_filters/fully_filtered
[ INFO] [1309279881.693557958]: Point cloud received; processing
[ INFO] [1309279881.696385938]: Input cloud converted to openni_camera frame
[ INFO] [1309279881.696465508]: Starting process on new cloud
[ INFO] [1309279881.696494434]: In frame openni_camera
[ INFO] [1309279881.698388688]: Step 1 done
**tabletop_segmentation: /opt/ros/diamondback/stacks/ geometry/eigen/include/Eigen/ src/Core/DenseStorage.h:69: Eigen::internal::plain_array< T, Size, MatrixOrArrayOptions, 16>::plain_array() [with T = float, int Size = 4, int MatrixOrArrayOptions = 0]: Assertion `(reinterpret_cast<size_t>( array) & 0xf) == 0 && "this assertion is explained here: " "http://eigen.tuxfamily.org/ dox/UnalignedArrayAssert.html" " **** READ THIS WEB PAGE !!! ****"' failed.
[ERROR] [1309279881.702883838]: Call to segmentation service failed
Not sure this is duplicate of "eigen-package-error-while-running-tod_detecting"
What should I do to get rid of this error ?
best regards,
Guillaume WALCK

Originally posted by GuiHome on ROS Answers with karma: 242 on 2011-06-29
Post score: 0

A:

HI,
Because that package is for 64 bit system, so you should change some commands. Change them to this stype
pcl::PointCloud::ConstPtr table_projected_ptr (new pcl::PointCloud(table_projected));

Originally posted by Nutan with karma: 96 on 2011-07-02
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by GuiHome on 2011-07-04:
Indeed, I am running a 32bit Ubuntu. Thanks a lot, appears it was the reason it failed. I changed several such lines in tabletop_segmentation.cpp and I have no more issues. As soon as I get a 64bit version I will test again and come back if the changes are also required on 64bits.


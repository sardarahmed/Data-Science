Q:

Running Moveit on Indigo with UR5 fails

Installed Moveit (*sudo apt-get install ros-indigo-moveit-**), and UR from source (cd src/; git clone https://github.com/ros-industrial/universal_robot; catkin_make;).
This is what I'm getting:
process[robot_state_publisher-4]: started with pid [27554]
ERROR: cannot launch node of type [pr2_mechanism_diagnostics/pr2_mechanism_diagnostics]: pr2_mechanism_diagnostics
  ROS path [0]=/opt/ros/indigo/share/ros
  ROS path [1]=/home/eyal/catkin_ws/src
  ROS path [2]=/opt/ros/indigo/share
  ROS path [3]=/opt/ros/indigo/stacks

[ INFO] [1418585530.820327835]: Finished loading Gazebo ROS API Plugin.
  Msg Waiting for master
[ INFO] [1418585530.829246008]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...

  Msg Connected to gazebo master @ http://127.0.0.1:11345 
  Msg Publicized address: 10.0.0.8 
  Msg Waiting for master
  Msg Connected to gazebo master @ http://127.0.0.1:11345
  Msg Publicized address: 10.0.0.8 

process[fake_joint_calibration-6]: started with pid [27614]
process[joint_state_controller_spawner-7]: started with pid [27617]
spawn_model script started process[arm_controller_spawner-8]: started with pid [27621]
Warning [gazebo.cc:215] Waited 1seconds for namespaces. 

[INFO] [WallTime:1418585532.092245] [0.000000] Loading model xml from ros parameter
[INFO] [WallTime: 1418585532.111116] [0.000000] Waiting for service /gazebo/spawn_urdf_model 
[ INFO] [1418585532.396360863, 0.022000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.
[INFO] [WallTime:1418585532.428830] [0.038000] Calling service /gazebo/spawn_urdf_model
[INFO] [WallTime: 1418585537.427728] [4.353000] Spawn status: SpawnModel: Successfully spawned model 
[ INFO] [1418585537.483659185, 4.353000000]: Physics dynamic reconfigure ready.
[spawn_gazebo_model-3] process has finished cleanly log file: /home/eyal/.ros/log/b769b19a-83c4-11e4-b6b6-00242bb0cf2e/spawn_gazebo_model-3*.log 
[ INFO] [1418585538.169698380, 4.353000000]: Loading gazebo_ros_control plugin 
[ INFO] [1418585538.170219815, 4.353000000]: Starting gazebo_ros_control plugin in namespace: /
[ INFO] [1418585538.172550559, 4.353000000]: gazebo_ros_control plugin is waiting for model URDF in parameter [robot_description] on the ROS param server.
[ERROR] [1418585538.277281754, 4.353000000]: No valid hardware interface element found in joint 'shoulder_pan_joint'.
[ERROR] [1418585538.278313449, 4.353000000]: Failed to load joints for transmission 'shoulder_pan_trans'.
[ERROR] [1418585538.279196313, 4.353000000]: No valid hardware interface element found in joint 'shoulder_lift_joint'.
[ERROR] [1418585538.279989430, 4.353000000]: Failed to load joints for transmission 'shoulder_lift_trans'.
[ERROR] [1418585538.280931031, 4.353000000]: No valid hardware interface element found in joint 'elbow_joint'.
[ERROR] [1418585538.281650396, 4.353000000]: Failed to load joints for transmission 'elbow_trans'.
[ERROR] [1418585538.282450498, 4.353000000]: No valid hardware interface element found in joint 'wrist_1_joint'.
[ERROR] [1418585538.283174123, 4.353000000]: Failed to load joints for transmission 'wrist_1_trans'.
[ERROR] [1418585538.283884479, 4.353000000]: No valid hardware interface element found in joint 'wrist_2_joint'.
[ERROR] [1418585538.284610269, 4.353000000]: Failed to load joints for transmission 'wrist_2_trans'.
[ERROR] [1418585538.285273762, 4.353000000]: No valid hardware interface element found in joint 'wrist_3_joint'.
[ERROR] [1418585538.286017432, 4.353000000]: Failed to load joints for transmission 'wrist_3_trans'. 
[ INFO] [1418585538.683446532, 4.353000000]: Loaded gazebo_ros_control.
[ERROR] [1418585539.442019602, 4.732000000]: Could not find joint 'shoulder_pan_joint' in 'hardware_interface::EffortJointInterface'.
[ERROR] [1418585539.443289037, 4.733000000]: Failed to initialize the controller
[ERROR] [1418585539.443702987, 4.733000000]: Initializing controller 'arm_controller' failed
[ERROR] [WallTime: 1418585540.452309] [5.530000] Failed to load arm_controller

Any idea why it fails to load the joints transmissions?

Originally posted by Eyal on ROS Answers with karma: 11 on 2014-12-14
Post score: 1

Original comments
Comment by gvdhoorn on 2014-12-15:
Please format your question properly in the future. Even after the edit by @130s your copy/paste of the console was unintelligible. After cleaning that up, the ERROR: .. line showed up immediately.

A:

Seeing as you installed from source, do you have all dependencies installed? This bit:
ERROR: cannot launch node of type [pr2_mechanism_diagnostics/pr2_mechanism_diagnostics]: pr2_mechanism_diagnostics

Seems to suggest you don't.
Just for completeness:
cd /path/to/catkin_ws
rosdep check --from-paths src --ignore-src --rosdistro indigo

Or if you prefer:
rosdep install --from-paths src --ignore-src --rosdistro indigo

Make sure you have sourced the appropriate setup.bash file before invoking rosdep.

Originally posted by gvdhoorn with karma: 86574 on 2014-12-15
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by 130s on 2014-12-15:
+1, particularly for introducing rosdep check, concise and useful option.


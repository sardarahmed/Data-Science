Q:

Getting model state via rospy

Hello there,
In my reinforcement learning simulation I am trying to get the pose of one of the models to use it for some calculations. Although I think I am using correct methods, the results are not what I want. Here is what the data for the model looks like in Gazebo:

Here what interests me is the model pose.
And when I use the rosservice call on this model to get the state, same as in the tutorial it returns the correct pose. But when I am trying to use rospy, I get the pose of a link, which stays the same. Here is the code that I use to do this:
self.model_coordinates = rospy.ServiceProxy( '/gazebo/get_model_state', GetModelState)
self.object_coordinates = self.model_coordinates("8115RC_V2", "8115RC_V2")
z_position = self.object_coordinates.pose.position.z
y_position = self.object_coordinates.pose.position.y
x_position = self.object_coordinates.pose.position.x

Originally posted by Fiddle on Gazebo Answers with karma: 35 on 2018-01-24
Post score: 0

A:

I've found an answer, the second parameter to model_coordinates needs to be an empty string.

Originally posted by Fiddle with karma: 35 on 2018-01-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ljburtz on 2020-06-18:
precision about the "empty string":
that second argument to the service client call (model_coordinates() in this case) represents the relative_entity_name
As the docs say :
"leave empty or "world" will use inertial world frame"
http://docs.ros.org/melodic/api/gazebo_msgs/html/srv/GetModelState.html


Q:

How to recieve information from a subscriber withouth executing a callback

I have the following code:
#!/usr/bin/env python
import rospy
from std_msgs.msg import  Float64
from random import randint
from time import sleep
from std_msgs.msg import Int64

def counter(msg):

        print msg.data

rospy.init_node('Arduino_hear_my_whispers')
pub = rospy.Publisher('your_topic', Float64, queue_size=10)
while not rospy.is_shutdown():
        rnd = 1.0
        print "the number is " + str(rnd)
        message=Float64(rnd)
        pub.publish(message)
        sleep(0.01)
        rnd = 2.0
        print "the number is " + str(rnd)
        message=Float64(rnd)
        pub.publish(message)
        sleep(0.01)
        sub = rospy.Subscriber('I_know', Int64, counter, queue_size=100)

rospy.spin()

I am using this code to receive some signals from Arduino. The signals are sended to the topic "I_know". Although the code is running properly, I wonder if there is a way to get the signals from the topic without executing the callback? Just assigning the values from the topic to a variable from the main program.

Originally posted by JollyRogers on ROS Answers with karma: 58 on 2018-01-16
Post score: 1

Original comments
Comment by jayess on 2018-01-16:
Why do you want to do this?
Comment by JollyRogers on 2018-01-16:
I am trying to make a LED blink and to count the number of times that it does. If the number of blinks reaches a determine value, I want the blinking to stop.
Also, I am wondering if it is possible.

A:

Not that I'm aware of.
By the way, you really shouldn't be creating a new subscriber during each iteration of your loop. You should do it before the loop.

Originally posted by jayess with karma: 6155 on 2018-01-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by JollyRogers on 2018-01-16:
Thank you, I will correct it.
Comment by jayess on 2018-01-16:
You should also use rospy's sleep() function vs the one from the time module. If you simulate you'll encounter issues with how you're currently sleeping
Comment by jayess on 2018-01-16:
@JollyRogers sorry, I accidentally deleted your comment (I'm on a phone). You'd want to actually use a Rate object's sleep method.


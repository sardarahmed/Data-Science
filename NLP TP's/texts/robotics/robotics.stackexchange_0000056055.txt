Q:

viso2_ros covariance matrix and robot_pose_ekf

Hi,
We want to use viso2_ros package with a Bumblebee camera to perform visual odometry and feed it to the robot_pose_ekf.
robot_pose_ekf requires covariance matrices to be published in the odometry it receives, giving an error if the input covariance is zero. In the documentation of viso2_ros it says that covariance matrices are not publised, so we are unsure if it will be possible to combine viso2_ros with robot_pose_ekf.
In other answer (answers.ros.org/question/34323/viso2_ros-and-robot_pose_ekf/), it is suggested to use it directly (publishing viso2_ros/odometry to robot_pose_ekf/vo), but according to documentation this shouldn't work, as viso2 doesn't publish covariance matrices and following coments in the answer are not conclusive on the results. We have been unable to test it ourselves yet since we are still setting up everithing.
Before continuing, we would like to know if anyone has used viso2_ros with robot_pose_ekf with success and how have they done it. Also, has anyone estimated the covariances for the viso2_ros process, to insert them manually in the published topic?
Thank you and best regards,
Ivan.

Originally posted by IvanV on ROS Answers with karma: 329 on 2013-12-11
Post score: 0

A:

libviso2 does not provide a covariance matrix in the code. In our wrapper we're publishing fixed value covariance matrices, but they've not been tested with robot_pose_ekf. Look here: https://github.com/srv/viso2/blob/fuerte/viso2_ros/src/stereo_odometer.cpp#L23

Originally posted by Miquel Massot with karma: 1471 on 2013-12-28
This answer was ACCEPTED on the original site
Post score: 2


Q:

ros_moveit planning from c++ source

I'm using a KUKA iiwa icw the iiwa_stack packages to interface with ROS indigo.
I'm able to visualize the robot in rviz and compute trajectories within the GUI using moveit.
However, when trying to use c++ command from a source file I get the error:
[ERROR] "unable to sample valid state for goal tree".
I've seen more people with this problem but nowhere a satisfactory answer.
I tried multiple planner engines, increasing plan time and various goal tolerances.
The headers are correct of the target pose and I initialize the start pose to the current one.
Again the GUI plans and executes fine, code does not.

Originally posted by VictorNL on ROS Answers with karma: 1 on 2016-06-29
Post score: 0

A:

Possible causes for this I've seen:

your goal state is in collision (or will put the robot in a collision)
you are asking the robot to move (whatever link you're planning for) to a pose it cannot reach (or at least: the specific planner deduced that that would be the case)

Again the GUI plans and executes fine, code does not.

While that is helpful, it doesn't really mean that much, as the RViz MoveIt plugin configures all sorts of things, which your code probably doesn't.

Originally posted by gvdhoorn with karma: 86574 on 2016-06-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by VictorNL on 2016-06-29:
I've tried multiple target poses, all deliberately placed inside the allowed workspace. Using the RTTConnect planner in both GUI and source. I'm assuming meters and radians. Ive explicitly defined the end effector as the link to plan for in the code. Will try more definitions in source tomorrow.


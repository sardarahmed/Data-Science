Q:

dd_robot2.urdf help

Hi I am reading "ROS ROBOTICS BY EXAMPLE SECOND EDITION " and I am stuck in chapter 2 , when it introduces the dd_robot2.urdf. What I am getting is the image blow

but the book has this instead:

I followed the book step by step and I cant figure out where I went wrong. Any help?
Thank you!
EDIT1:

EDIT 2:
Launch File:
<launch>
   <!-- values passed by command line input -->     
   <arg name="model" />
   <arg name="gui" default="False" />

   <!-- set these parameters on Parameter Server -->
   <param name="robot_description" textfile="$(find ros_robotics)/urdf/$(arg model)" />
   <param name="use_gui" value="$(arg gui)"/>

   <!-- Start 3 nodes: joint_state_publisher, robot_state_publisher and rviz -->
   <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" />

   <node name="robot_state_publisher" pkg="robot_state_publisher" type="state_publisher" />

   <node name="rviz" pkg="rviz" type="rviz" args="-d $(find ros_robotics)/urdf.rviz" required="true" />
   <!-- (required = "true") if rviz dies, entire roslaunch will be killed -->
</launch>

URDF File:
<?xml version='1.0'?>
<robot name="dd_robot">

  <!-- Base Link -->
  <link name="base_link">
    <visual>
      <origin xyz="0 0 0" rpy="0 0 0" />
      <geometry>
          <box size="0.5 0.5 0.25"/>
      </geometry>
    </visual>
  </link>

  <!-- Right Wheel -->
  <link name="right_wheel">
    <visual>
      <origin xyz="0 0 0" rpy="1.570795 0 0" />
      <geometry>
          <cylinder length="0.1" radius="0.2" />
      </geometry>
    </visual>
  </link>
  <joint name="joint_right_wheel" type="continuous">
    <parent link="base_link"/>
    <child link="right_wheel"/>
    <origin xyz="0 -0.30 0" rpy="0 0 0" /> 
    <axis xyz="0 1 0" />
  </joint>

  <!-- Left Wheel -->
  <link name="left_wheel">
    <visual>
      <origin xyz="0 0 0" rpy="1.570795 0 0" />
      <geometry>
          <cylinder length="0.1" radius="0.2" />
      </geometry>
    </visual>
  </link>
  <joint name="joint_left_wheel" type="continuous">
    <parent link="base_link"/>
    <child link="left_wheel"/>
    <origin xyz="0 0.30 0" rpy="0 0 0" /> 
    <axis xyz="0 1 0" />
  </joint>

</robot>

Command on terminal:
$ roslaunch ros_robotics ddrobot_rviz.launch model:=dd_robot2.urdf

Edit3:

Originally posted by MechLc on ROS Answers with karma: 41 on 2018-02-02
Post score: 0

Original comments
Comment by jayess on 2018-02-03:
RViz says that there's a tf problem. Can you update your question with a screen shot of your tf tree?
Comment by MechLc on 2018-02-03:
It has been updated in Edit1 screenshot
Comment by jayess on 2018-02-03:
That's a screen shot of RViz. I'm asking for your tf tree
Comment by jayess on 2018-02-03:
When I use your launch file (removing references to your ros_robotics package) everything loads fine and I can visualize the model just as in the book.
Comment by MechLc on 2018-02-04:
strange my doesnt load up like that. Let me screen shot my TF tree.
Comment by MechLc on 2018-02-04:
How do i run the TF Tree?
Comment by jayess on 2018-02-04:
It's in the tutorial I linked to in an earlier comment
Comment by MechLc on 2018-02-04:
I updated it with screenshot seems not work when i used rosrun tf view_frames
Comment by gvdhoorn on 2018-02-04:
Your last edit seems to suggest that you're mixing different Python interpreters. Do you have Anaconda installed by any chance? Or Python 2 and 3?
Comment by gvdhoorn on 2018-02-04:
Also: don't post screenshots of console text. It's just text. Copy-paste it into your question and format it using the Preformatted Text button (the one with 101010 on it).
Comment by gvdhoorn on 2018-02-04:
Do you get error msgs when starting the launch files at all? If robot_state_publisher or static_transform_publisher fail with the same error msgs as view_frames, that would explain your problems with RViz.
Comment by MechLc on 2018-02-04:
Yes I do have Anaconda install and Python 3. Got it thanks!
Comment by gvdhoorn on 2018-02-04:
For now: remove Anaconda and Python 3 from the $PATH and $PYTHONPATH. Then try again.
If it works, that's your problem.
If you want to continue using Anaconda, search for Anaconda related questions here on ROS Answers. There are many.

A:

It looks like you don't have a TF publisher running, or you don't have the right frame selected in rviz.
You should double-check your rviz settings and make sure the robot_state_publisher node is running to publish the TF transforms from your URDF.

Originally posted by ahendrix with karma: 47576 on 2018-02-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by MechLc on 2018-02-03:
I tried that and still doesnt seem to work. I ran the robot_state_publisher node did not fix the issue. take a look at my EDIT 1: screen shot to see if I missed anything.
Thanks for your time
Comment by ahendrix on 2018-02-03:
Your screenshot shows an rviz error "no TF data". Was robot_state_publisher still running when you took your screenshots?
Comment by MechLc on 2018-02-03:
I got this message when i ran it:
: Shutdown request received.
: Reason given for shutdown: [new node registered with same name]
Comment by ahendrix on 2018-02-03:
Do you have a launch file running that is running another copy of robot_state_publisher ? Nodes don't normally shut down like that unless there's another copy running somewhere.
Comment by ahendrix on 2018-02-03:
It seems like you've left some of the details out of your question. I'm not very familiar with the book you're using, and without all of the details about which other nodes you're running, it's difficult to help.
Comment by MechLc on 2018-02-03:
I added the launch file and URDF code up at the top for you to take a look at if i am missing anything?
The book is called "ROS ROBOTICS BY EXAMPLE SECOND EDITION" by  Carol Fairchild, Dr. Thomas L. Harman


Q:

publisher and subscriber in single node

Consider node 'x' publishes topic 'a' and 'b'. Now, I should create a node 'y' to subscribe a topic 'a'. Then the subscribed topic should be edited and published again in the name 'c'.
I tried,
// some part of the codes

void chattercallback(const .... )
{

.........

// edit or process the subscribed value<
//to publish the edited data

ros::Publisher d =......;

d.publish(..) ;

....}

int main (int argc, char **argv){

ros::init (..);

ros::Subscriber sub = .....(.. , .. , chattercallback);

....

}

But, the data is not published continuously. This node publishes data only when the topic 'a' is available i.e) only when the data is subscricbed. I need to change this codes such that data is to be published continuously i.e) even if the subscriber does not subscribe any data, it should publish the data according to the last subscribed one.
Is there any ideas for this problem?

I cannot find the option 'post a comment' below the answers. So I will post it here.
But the problem is how to access the value in topic 'a' for storing it to a variable?

Originally posted by chris_chris on ROS Answers with karma: 84 on 2012-10-14
Post score: 2

Original comments
Comment by chris_chris on 2012-10-14:
I cannot find the option 'post a comment' below the answers. So I will post it here.
But the problem is how to access the value in topic 'a' for storing it to a variable?
Comment by Lorenz on 2012-10-15:
Normally,publishers, subscribers and callbacks are implemented as class members. If you need to store a value, you just put it into a member variable so that e.g. a publisher can access it.

A:

Store the last value from topic a in a variable. In main, use an explicit spin loop. In that loop, after a timeout, publish on c.

Originally posted by KruseT with karma: 7848 on 2012-10-14
This answer was ACCEPTED on the original site
Post score: 7

Original comments
Comment by chris_chris on 2012-10-17:
I used callback function as a class member and store data from callback function into a data member. I do publishing in the main function within a while loop (loop has ros::spinOnce). But, I cannot understand what is explicit spin loop and where to put the spin loop in the main function.
Comment by dornhege on 2012-10-17:
Using spinOnce in a while loop is called an explicit spin loop.


Q:

How to build a world with real image as ground plane

I want to simulate a world where its ground has special pattern.
I decided to make a image file use Photoshop, and put this image into gazebo world as ground plane.
Can anyone tell me how to do this?
Thanks a lot!

Originally posted by Paul on Gazebo Answers with karma: 31 on 2013-10-17
Post score: 3

A:

Update: Also check out this tutorial.
You can create a material script, and then use that material script on a ground plane.

Create a new model directory:
mkdir ~/.gazebo/models/my_ground_plane

Create the materials directories:
mdkir -p ~/.gazebo/models/my_ground_plane/materials/textures
mdkir -p ~/.gazebo/models/my_ground_plane/materials/scripts

Create your material script file ~/.gazebo/models/my_ground_plane/materials/scripts/my_ground_plane.material with the following contents:

    material MyGroundPlane/Image
    {
      technique
      {
        pass
        {
          ambient 0.5 0.5 0.5 1.0
          diffuse 1.0 1.0 1.0 1.0
          specular 0.0 0.0 0.0 1.0 0.5
    
          texture_unit
          {
            texture MyImage.png
            filtering trilinear
          }
        }
      }
    }

Copy your image to ~/.gazebo/models/my_ground_plane/materials/textures/MyImage.png

Create a ~/.gazebo/models/my_ground_plane/model.sdf file with the following contents
 <?xml version="1.0"?>
 <sdf version="1.4">
 <model name="my_ground_plane">
   <static>true</static>
     <link name="link">
       <collision name="collision">
         <geometry>
           <plane>
             <normal>0 0 1</normal>
             <size>100 100</size>
           </plane>
         </geometry>
         <surface>
           <friction>
             <ode>
               <mu>100</mu>
               <mu2>50</mu2>
             </ode>
           </friction>
         </surface>
       </collision>
       <visual name="visual">
         <cast_shadows>false</cast_shadows>
         <geometry>
           <plane>
             <normal>0 0 1</normal>
             <size>100 100</size>
           </plane>
         </geometry>
         <material>
           <script>
             <uri>model://my_ground_plane/materials/scripts/my_ground_plane.material</uri>
             <name>MyGroundPlane/Image</name>
           </script>
         </material>
       </visual>
     </link>
   </model>
 </sdf>

Create a ~/.gazebo/models/my_ground_plane/model.config file with the following contents
     
   
     My Ground Plane
     1.0
     model.sdf
 <description>
   My textured ground plane.
 </description>

In your world SDF file, use your ground plane like so:
 <include>
   <uri>model://my_ground_plane</uri>
 </include>

Originally posted by nkoenig with karma: 7676 on 2013-10-17
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Paul on 2013-10-17:
Thank you so much for this detailed and concise reply!
Comment by Paul on 2013-10-18:
Hi nkoenig, can you tell me how to find the documentation of material. I don't know the meaning of ambient, diffuse and specular
Comment by Paul on 2013-10-18:
I found a bug in your post
Comment by Paul on 2013-10-18:
I found a bug in your post
Comment by kakcalu13 on 2021-09-17:
Does this apply to Ign Citadel as well too? I'm having no luck on that one and I'm hoping it's not a bug


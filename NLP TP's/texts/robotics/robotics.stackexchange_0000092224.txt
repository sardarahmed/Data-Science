Q:

Controlling a quadcopter in Gazebo

Hello.
I have created the following .xacro model for quadcopter: 2 cris cross arms (box geometry) and 4 propellers (box geometry) with the libLiftDrag plugin of gazebo for these propellers. The propellers are described as "JOINTS" of "CONTINUOUS" type, and thus, i would like to use \cmd_vel to control these 4 joints seperately.

Is there any plugin in Gazebo, that i can use to control a "SINGLE" joint, unlike the diff_drive plugin ? If it is not, should i go about creating a custom plugin for it?

Even if i am able to create a plugin that will publish \cmd_vel to single joint, can i publish 4 different \cmd_vel simultaneously to each of these four joints?

Please help me sort this issue out. Thank you.

Originally posted by Jarvis1997 on ROS Answers with karma: 81 on 2019-06-26
Post score: 0

A:

I found the solution to this problem.
I used transmission elements for the joints (i.e the BLDC motors are modelled as joints with transmission of type "continuous") and used the VelocityJointInterface as my hardwareInterface, and used velocity_controllers/JointGroupVelocityController in my .yaml file, to command all the motors SIMULTANEOUSLY .
I also used the libLiftDragPlugin.so from Gazebo aerodynamics, that generates thrust when my propellers (modelled as thin plate in my .urdf (or) .xacro file) rotate about the joints.
No need of writing complex plugins!
Hope this helps.
Thank you!

Originally posted by Jarvis1997 with karma: 81 on 2019-07-01
This answer was ACCEPTED on the original site
Post score: 1


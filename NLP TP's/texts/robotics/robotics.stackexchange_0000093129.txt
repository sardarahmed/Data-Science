Q:

Visualise point cloud in real-time

Hi
I'm new to ROS and testing out a cheap RGBD camera. The camera has the topic /camera/depth_registered/points for xyz rgb point cloud. I'm trying to visualise it using rviz by adding a new PointCloud2 display and setting Topic to /camera/depth_registered/points. However, the display is blank even when the camera node appears to be sending messages:
  6013211 VERBOSE    [FPS] IR: 0.00 Depth: 31.01 
  7029933 VERBOSE    [FPS] IR: 0.00 Depth: 30.11 
  8010593 VERBOSE    [FPS] IR: 0.00 Depth: 29.91 
  9003788 VERBOSE    [FPS] IR: 0.00 Depth: 29.76 
 10020535 VERBOSE    [FPS] IR: 0.00 Depth: 29.76 
 11004264 VERBOSE    [FPS] IR: 0.00 Depth: 29.73 
 12027005 VERBOSE    [FPS] IR: 0.00 Depth: 29.76

Anyone know why this is the case?

Originally posted by mun on ROS Answers with karma: 32 on 2019-08-27
Post score: 0

A:

Rviz shows that the fixed frame [map] does not exist. So either replace the fixed frame to the camera frame (Global Options>Fixed Frame>  replace map with the name of the frame the camera is in. Alternatively you could add a tf transform from the camera to the map. This way rviz knows how to transform the data published in the frame of the camera to the map frame and can then visualize it.

Originally posted by MCornelis with karma: 331 on 2019-08-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by mun on 2019-08-27:
I've tried selecting another value for 'Fixed Frame', but there's still not point cloud shown.
Comment by PeteBlackerThe3rd on 2019-08-27:
You need to set the fixed frame to the frame_id the rgb-d is using. Anything else and it will not be shown
Comment by mun on 2019-08-27:
@PeteBlackerThe3rd rostopic echo /camera/rgb/camera_info shows frame_id being camera_rgb_optical_frame and I've tried setting Global Options > Fixed Frame to camera_rgb_optical_frame. Still not point cloud though.


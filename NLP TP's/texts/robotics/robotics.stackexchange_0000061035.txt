Q:

call MoveBaseAction from within a recovery_behavior

I tried to call the move_base as a SimpleActionClient from within a recovery_behavior. The recovery_behavior starts as expected and the SimpleActionServer is connected (checked with client.isServerConnected()). I then cancel all existing goals with client.cancelAllGoals(). But after sending the new goal via client.sendGoal(goal), I only get the state PENDING from the SimpleActionServer and the goal is not getting executed.
So I was wondering if it is even possible to call a new goal from within a recovery_behavior or if the error is somewhere in my code.
Thanks for any help. If needed, I can of course provide some code snippets.
System: Hydro on Ubuntu 12.04

Originally posted by Luke_ROS on ROS Answers with karma: 116 on 2014-07-22
Post score: 0

Original comments
Comment by BennyRe on 2014-07-22:
Is this recovery behavior in the same node as the move_base action server?
Comment by Luke_ROS on 2014-07-22:
No. I implemented it in another node. Would that make a difference?

A:

Recovery Behaviors as they are usually implemented take full control of the robot and of move_base.
Basically move_base turns to the recovery behavior and waits until it is complete. It is not interleaved or continuously called or watched from move_base. Essentially you've created a dead-lock where you wait for move_base and move_base waits for you to complete.

Originally posted by dornhege with karma: 31395 on 2014-07-22
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Luke_ROS on 2014-07-22:
I was afraid of sth like that. Is there a possiblity to trick that? (like calling an external node calling the move_base from there)
Comment by dornhege on 2014-07-22:
It doesn't change anything if you're still waiting for that external node that waits for move_base.
Comment by Luke_ROS on 2014-07-22:
Yeah... It seems like I have to exit recovery_behavior first before steering the robot to the new pose... Thanks for your help!


Q:

Can a rosnode have a global state of it's own?

Hi,
I wish to create a statemachine for a rosnode. However I want the state machine to be broken into parts and execute these parts independently. E.g.
Initial State of the rosnode is A
A Service S1 is called
Then tranistion happens A->B. Now the global state of the node is B
Then when another service/action is called tranistion happens B->C , with the global state as C, and so on.
So over all my state machine is A->B->C. But the parts A->B, B->C are based on triggers for Services and Actions.
And also at a given point, the rosnode has a global state based on these transitions.
Can smach help me to get it done ?

Originally posted by amarbanerjee23 on ROS Answers with karma: 5 on 2017-09-13
Post score: 0

Original comments
Comment by amarbanerjee23 on 2017-09-14:
Hi @gvdhoorn @knxa !!
Sorry to pull you into this question. But as I really had some good comments from you, I thought I'll get you help over here too. What do think about this question ? A ros node can be seen as a controller node with a state. I am trying to get the node state at any moment.

A:

Can smach help me to get it done

I guess that is exactly what SMACH is. Or what SMACH_ROS is, since there you get SMACH states that wraps interaction to an action server or a service, so you can create arbitrary coordination of tasks, e.g.:
'A' must happen before 'B' and if 'A' fails then 'B' is not executed, etc...

Originally posted by knxa with karma: 811 on 2017-11-06
This answer was ACCEPTED on the original site
Post score: 0


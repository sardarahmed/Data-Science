Q:

Gazebo as a ROS node doesn't publish topics (odom, joint_state and tf) correctly

Hi Everyone,
I am running two turtlebots  from kobuki and hydro ROS(robot1 and robot2) and when I checked the rqt_graph (subscriber and publisher graph) I noticed that Gazebo as ROS node doesn’t publish or subscribe the /odom,  /join_states  and / tf topics based on their correspondence namespaces (robot1/odom and robot2/odom). Gazebo node just publishes or subscribes using the global names, /odom, /join_states and /tf.
I remapped some nodes to work properly with their correspondence namespace but I couldn’t figure out where to go to remap this “Gazebo node”
I installed the turtlebot from source and using Gazebo 1.9 with hydro ROS. Please, somebody can help me out with this issue.
Thanks a lot

Originally posted by Robert1 on ROS Answers with karma: 63 on 2014-04-29
Post score: 0

A:

This appears to be exactly the same problem that is described in this Q/A. The issue arises because apparently, the current version of the kobuki gazebo plugin does not support namespaces. Be sure to read all answers and comments, there are multiple options for solving the problem (some of which are hacky).

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-04-29
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Robert1 on 2014-04-30:
Thanks a lot Stefan! I will read the post carefully and let you know the result
Comment by Robert1 on 2014-05-02:
Hi Stefan,
I fixed my odom topic problem using Prima89's tip (modified the file kobuki_gazebo.urdf.xacro). I tried to use the other tips that involves compiling the turtlebot source code but nothing change. I have the turtlebot installed from source and Gazebo&Gazebo-Ros-pakgs installed from binaries and I think this mix causes a conflict between gazebo and turtlebot so Gazebo ignores any new recompiled library from turtlebot source. Anyway, thanks alot for your help!


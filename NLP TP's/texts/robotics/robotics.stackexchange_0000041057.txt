Q:

Displaying Velodyne - HDL 32E data in rviz

Hey,
I tried to display converted HDL 32E data in rviz.
According to the wiki there is a launchfile, that takes the raw data from ethernet packets and converts them to PCL2-data.
Till that point it seems to work, I can at least launch the file and take data from a *.pcap file and get no warnings or errors.
Actual problem is:
rxgraph displays two topics to subscribe(/velodyne_nodelet_manager/bond and /velodyne_packets) - but if I add a PCL2 Display in rviz and subscribe to either, all I get is this:

[ERROR] [1338812341.289971935]: Client
[/rviz_1338811589243214356] wants
topic /velodyne_packets to have
datatype/md5sum
[sensor_msgs/PointCloud2/1158d486dd51d683ce2f1be655c3c181],
but our version has
[velodyne_msgs/VelodyneScan/50804fc9533a0e579e6322c04ae70566].
Dropping connection.
[ERROR] [1338812407.808332750]: Client
[/rviz_1338811589243214356] wants
topic /velodyne_nodelet_manager/bond
to have datatype/md5sum
[sensor_msgs/PointCloud2/1158d486dd51d683ce2f1be655c3c181],
but our version has
[bond/Status/eacc84bf5d65b6777d4c50f463dfb9c8].
Dropping connection.

Basic question: Which is the topic to subscribe in rviz(where are the pcl2-msgs published) and is launchning the launchfile really all it takes to convert the raw data to pcl2-msgs?
Thanks a lot...

Originally posted by Flowers on ROS Answers with karma: 342 on 2012-06-04
Post score: 1

Original comments
Comment by dornhege on 2012-06-04:
My suspicion is that you are missing something that builds pointclouds out of VelodyneScans.

A:

As you see, the velodyne_driver publishes /velodyne_packets, a device-dependent data stream that rviz does not understand.
As @dornhege said, you need to run one of the velodyne_pointcloud nodes or nodelets. They will convert the raw Velodyne packets into sensor_msgs/PointCloud2, which rviz can display. That wiki page gives some launch file examples you may find helpful.
UPDATE: version 0.9.1 with the 32e_points.launch file has just been released. You can either check out the new version and build it from source, or wait for the Debian packages to be updated (probably a few days).

Originally posted by joq with karma: 25443 on 2012-06-04
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by joq on 2012-06-04:
I added a paragraph to the driver overview, in an effort to make this clearer.
Comment by Flowers on 2012-06-04:
I've tried " $ roslaunch velodyne_pointcloud 32e_points.launch"(and the *.pcap-file version) but still,there is no topic that publishes pcl2 data?
Comment by joq on 2012-06-05:
That launch file was not in the 0.9.0 release. It will be in 0.9.1, coming out today.


Q:

Defining Custom Message Types for Rosjava Android

Hello!
I am writing an android app in JellyBean to subscribe to a rostopic. I am publishing a custom message type from an ubuntu virtual machine using groovy. I have successfully published and subscribed to the message between 2 VMs, but have issues when receiving the message type on my tablet.
I correctly configured the .msg files in my ros package, but am unsure how to define classes within my app as descriptors for ros messages.
Does anyone have information on configuration and declaration of custom messages in an android app using rosjava?
Thanks!

Originally posted by Srogacki on ROS Answers with karma: 74 on 2013-02-11
Post score: 0

A:

After you have correctly made your .msg files in your package, you will need to rebuild at least rosjava with ./gradle as shown in the documentation.
This will automatically include your custom message in the javalibrary, rosjava_messages-0.0.0-SNAPSHOT.jar, which will need to be included into your Java project.
Be careful as if you include a java library file directly in your /libs folder of your project it will conflict with other copies of that file, such as can be the case if the gingerbread_mr2 library is also referenced. If you are developing in java to use android core, then I suggest that you should also rebuild android_core as per the documentation, and just reference the gingerbread_mr2 project as a library in the project_properties->android_settings tab (if using eclipse)
You can them import them into your code like any other message. Just use:
import my_msg_pkg.msg
replacing "my_msg_pkg" with the package your message is defined in and "msg" as your message type.

Originally posted by PeterMilani with karma: 1493 on 2013-02-11
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Srogacki on 2013-02-15:
awesome! thanks.
Comment by Anis on 2015-02-14:
Hello
I am having the same issue as I successfully built my messages in my rosjava package, but now I am not able to link the rosjava package that contains the messages to my Android application. When I add
compile project (':my_package') it tells me that the package cannot be found. Any hint?


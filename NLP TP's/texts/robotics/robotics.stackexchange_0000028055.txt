Q:

SensorPlugin: how to enforce frame update rate?

The update_rate parameter of the gazebo camera sensor seems to be understood as the upper limit for the frame frequency and does not slow down the simulation time if the rate can not be provided.
For example, update_rate = 300 yields a message frequency of ~200 on my system. The measurement has been conducted with rostopic hz with update_rate = 0 for the ROS plugin (=> publish every frame).
How can I make sure that the sensor produces a fixed amount of frames per simulation time (without manually adapting the real time factor)?
Background
I am developing a custom sensor plugin which attempts to simulate a Dynamic Vision Sensor. The DVS is an event-based sensor, effectively reporting pixel change events when the pixel-value change exceeds a certain threshold. One of the main advantages of this sensor is the very low delay between system state change and visual feedback. As my simulation relies on inter-frame differences, I need a very high frame-rate to produce these small delays.

Originally posted by Michael H. on Gazebo Answers with karma: 13 on 2017-03-21
Post score: 1

A:

Is the plugin for a camera sensor? In that case, the gpu updates may be the bottleneck. There is an attempt to resolve this issue in this pull request but I have not tested it yet.

Originally posted by iche033 with karma: 1018 on 2017-03-21
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Michael H. on 2017-03-21:
Thanks for pointing me to this PR. This seems like exactly what I need. Too bad that it has not got merged yet. I will wait a few days for further answers, but I think this is the correct answer to my question.


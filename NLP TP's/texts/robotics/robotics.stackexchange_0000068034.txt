Q:

Mapping with Turtlebot and the stairways

Hi,
I am trying to generate a map of the second floor of my house. The problem is, that with the SLAM Mapping for Turtlebot, i can't  put a mark or something that says "Don't go there or you will fall down". I am able to the map but I don't know how to avoid the stairways. There is any way to add the danger zone, or the don't go there zone to the map?
PS: I want to use the map to make an map based navigation test.

Originally posted by pexison on ROS Answers with karma: 82 on 2015-06-12
Post score: 0

A:

So one easy and quick way you could do to mark of "danger zones" is to edit the created map in gimp and just "close" the opening by painting black pixels to create a barrier. You should not make a complete line, just 1 pixel every 20cm (depending on your map resolution), since a whole line could mess up your AMCL localization, since it would expect a whal where there is none.
That is of course a hack, and there is still a small chance that the robot drives through it, namely when it gets close and since the painted obstacles do not show up in the local costmap, the local planner might decide to drive through it. But  the global planner usually takes care that you do not drive too close to the zones when creating the path.
This of course only works if you create the map with gmapping and use it in AMCL at a later stage, not directly with gmapping.

Originally posted by daenny with karma: 376 on 2015-06-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pexison on 2015-06-12:
"This of course only works if you create the map with gmapping and use it in AMCL at a later stage, not directly with gmapping." So I am able to use the edited map with an client (ie. wrote on C++ or python) that sends goals to the navigation stack (and avoid the stairways)?
Comment by daenny on 2015-06-12:
Yes, so the steps are: Create the map with gmapping, save with map_saver (http://learn.turtlebot.com/2015/02/01/11/) and edit in gimp. Launch AMCL with edited map.  (http://learn.turtlebot.com/2015/02/01/12/) and try to send goals first from within RVIZ and later you can use your own client.


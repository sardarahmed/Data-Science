Q:

Time difference between sensors and transform?

Hi everyone,
I am experiencing a problem viewing my point cloud in RVIZ. I am using the package sick_scan and xsens_driver for my LIDAR and IMU, I am using the tf static transform publisher to publish transforms from the sensor frames to base_link. My issue is that I am receiving this message from the LIDAR
Transform [sender=unknown_publisher]
For frame [laser_link]: No transform to fixed frame [base_link]. TF error: [Lookup would require extrapolation into the future. Requested time 1563407610.392146348 but the latest data is at time 1563404409.628742959, when looking up transform from frame [laser_link] to frame [base_link]]

and this error for the IMU
Transform [sender=unknown_publisher]
Message removed because it is too old (frame=[/imu], stamp=[1563403329.521907091])

The launch file I am using is
<launch>

<node pkg="rosbag" type="play" name="player" output="screen" args="--clock /home/USER/testing.bag"/>

<!-- Transforms -->
<node pkg="tf" type="static_transform_publisher" name="laser_publisher" args="0.18 0 0 0 0 0 base_link laser_link 100"/>
<node pkg="tf" type="static_transform_publisher" name="imu_publisher" args="0 0 0 0 0 0 base_link imu 100"/>

</launch>

Does the problem come from my sensors or how I am publishing the transforms?

Originally posted by PG_GrantDare on ROS Answers with karma: 52 on 2019-07-17
Post score: 0

Original comments
Comment by gvdhoorn on 2019-07-18:
Regardless of your problem, I believe you want to use the static_transform_publisher from tf2_ros.
Additionally: the last nr in the args for the static_transform_publisher is the period, not the rate. So you're publishing at 10 Hz now, not 100. I don't know whether you did this on purpose, but when publishing these kind of semi-static transforms, publishing rate can have a big impact on whether listeners are able to look them up.

A:

The LIDAR node is publishing time stamps in the future. @gvdhoorn was correct that I should have been using tf2_ros however the problem goes deeper to the actual sick driver.

Originally posted by PG_GrantDare with karma: 52 on 2019-07-25
This answer was ACCEPTED on the original site
Post score: 0


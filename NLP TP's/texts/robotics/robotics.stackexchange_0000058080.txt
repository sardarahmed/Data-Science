Q:

Publishing virtual camera images from RVIZ

Hi Guys,
is it possible to define some kind of virtual camera model in the 3d world of rviz, where the video stream or single images can be published and therefore processed by successive ros nodes?
With best regards,
Marc

Originally posted by MZofka on ROS Answers with karma: 21 on 2014-03-20
Post score: 2

Original comments
Comment by dornhege on 2014-03-31:
Do you want to use that for visualization/presentation purposes or to run vision algorithms based on that?
Comment by MZofka on 2014-03-31:
Hi, thank you for your fast response. I want to run vision algorithms, like segmentation on that simulated camera view.
With best regards,
Marc
Comment by dornhege on 2014-03-31:
That sounds like you want a simulation like gazebo that does this.

A:

rviz_camera_stream publishes an image rendered in rviz.  It builds in jade at least, but likely works in hydro and indigo, and following the fork back leads to a pre-catkin version.
It needs an input camera_info to get camera intrinsics and resolution.  The distortion coefficients are ignored, but a image_proc like node that implements http://code.opencv.org/issues/1387 could address that downstream.  (Do gazebo cameras support distortion yet? http://gazebosim.org/tutorials?tut=camera_distortion says version 5.0 does)
The input camera_info topic and output image topic are set in the rviz plugin gui.
Old suggestion:
One hacky solution is to run a screen grab node http://wiki.ros.org/screengrab_ros and position the rviz window just so, though it would be very brittle and hard to automate with launch files.

Originally posted by lucasw with karma: 8729 on 2014-07-30
This answer was ACCEPTED on the original site
Post score: 2


Q:

How to return the controlling to default event handler?

Given that I had installed my own mouse event handler,
but how can I return the controlling to default/system  event handler?
Because after installing my own mouse event handler,
and I pressed toolbar to add a sphere/box/cylinder to world
it turned out that the sphere/box/cylinder could not be released and placed on the ground
becuase "Mouse Release Event" is handled by my own mouse handler,default/system  event handler cannot listen to this event
How can I deal with this problem?
Thank you~

Originally posted by Zheng yo chen on Gazebo Answers with karma: 80 on 2015-04-17
Post score: 1

A:

I'm assuming you added an event handler with AddReleaseFilter, like this for example:
MouseEventHandler::Instance()->AddReleaseFilter("my_plugin",
    boost::bind(&MyPlugin::OnMouseRelease, this, _1));

Your function returns a bool which indicates if the event was handled or not. So if you return false, the event will be propagated onwards. Return true to stop propagation.
bool MyPlugin::OnMouseRelease(const common::MouseEvent &_event)
{
  // Do what you want to do and decide if you want to propagate the event

  if (propagateEvent)
    return false;
  else
    return true;
}

Originally posted by chapulina with karma: 7504 on 2015-04-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Zheng yo chen on 2015-04-17:
thank you,but It did not work :( ;both OnMouseRelease and OnMousePress are return by false
Comment by Zheng yo chen on 2015-04-17:
and I have another question,why  I must use "glwidget" as the fisr parameter in AddPressFilter("glwidget"....)?
If I change to this  AddPressFilter("mysysgui"....), then my mouse handler can not be called
Comment by chapulina on 2015-04-20:
If you use "glwidget" as the first parameter, you're probably overriding the GLWidget's event handler, which is responsible for releasing shapes for example, so that's why this is not working for you. It should work with a custom string. Is your plugin a GUI Plugin?
Comment by Zheng yo chen on 2015-04-21:
Hi thank you,but if I change name other than "glwdiget", my mouse handler can not work.                   I am running gazebo 2.2 and use SystemPlugin,thank you~
Comment by chapulina on 2015-04-23:
I just confirmed this is an issue with System Plugins and created an issue. I also checked that it works as expected with GUI plugins, so meanwhile you could work around this using a GUI plugin at least just for the events.
Comment by Zheng yo chen on 2015-04-25:
so, in  conclusion ,there is no available solution for SystemPlugin? And, gazebo 2.2 doesn't have GUIplugin, my only choice is updatint to gazebo 5.0 or higher?Thanks~
Comment by chapulina on 2015-04-26:
Yes, I think so.
Comment by Zheng yo chen on 2015-04-28:
ok Thank you~


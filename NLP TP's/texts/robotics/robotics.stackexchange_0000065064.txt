Q:

changing value 0/nan to max distance (urg/hokuyo node)

Trying to map a quite big open space but some values returned from the node is 'nan' which i suspect are areas which has no obstacle or whatsoever at max distance. How can i turn this 'nan' into a defined value so gmapping can mark it as free space?

Originally posted by charkoteow on ROS Answers with karma: 121 on 2015-01-09
Post score: 1

A:

Are you using the urg_node or the hokuyo_node? The lasers send error codes telling what types of erroneous readings they are getting. The urg_node turns all error readings into NaN, but the hokuyo_node turns errors that are reported as "outside of max distance" into INF. Check out this chunk of code from the hokuyo_node to see where they are setting INF values. Having INF values will allow you to specifically know that there are no objects in range, then you could use a LaserScanRangeFilter to move all INF values to a max_range+1 value. Then you can use ~maxRange and ~maxUrange params in gmapping to properly handle these readings.
In summary, I've had much better luck with hokuyo_node than urg_node for specifically the reason you are describing.

Originally posted by jarvisschultz with karma: 9031 on 2015-01-09
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by charkoteow on 2015-01-09:
played with the filters. amazing. it's working now. thank you very much.
Comment by charkoteow on 2015-01-09:
edit: i was using the urg_node before. going to use hokuyo_node from now on since it can support the old uhg-08lx


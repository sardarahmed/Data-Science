Q:

pointcloud_to_laserscan with camera pointed downward

so, I have d435 intel realsense camera and it is mounted at 1.3 meters above the floor:

I've tried to use pointcloud_to_laserscan package and I've got laserscan data angled:

How can I get laserscan data parallel to the floor?

Originally posted by june2473 on ROS Answers with karma: 83 on 2019-09-12
Post score: 0

Original comments
Comment by june2473 on 2019-09-12:
similar question and not answered yet: https://answers.ros.org/question/268861/how-to-use-pointcloud_to_laserscan-with-an-angled-sensor/

A:

Your getting this problem because pointcloud_to_laserscan is using your RGB-D cameras frame of reference instead of a leveled one which compensates for it's angle.
You can use the ~target_frame parameter to reference a different TF frame which can fix this.
You'll need to use a static_transform_publisher to add a new frame to your robot with the z axis facing horizontally away from the base and y axis pointing down. Then set the ~target_frame parameter to this new frame.
Hope this helps.

Originally posted by PeteBlackerThe3rd with karma: 9529 on 2019-09-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by june2473 on 2019-09-12:
thanks, it helped
Comment by june2473 on 2019-09-12:
why new frame? can i just set it to base_footprint frame?
Comment by PeteBlackerThe3rd on 2019-09-12:
It depends if pointcloud_to_laserscan uses the optical frame convention instead of the standard ROS frame convention. So the base_footprint frame may be oriented the wrong way for this. But give it a try and let us know.


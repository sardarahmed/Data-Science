Q:

Gazebo crashes when sensors are added to ShadowHand

After adding the following section to model/hand_urdf/thumb/thdistal.urdf.xacro in the sr_hand package Gazebo crashes during startup.
<gazebo reference="thdistal">
  <sensor:contact name="thdistal_contact_sensor">
    <geom>distal_collision_geom</geom>    
    <updateRate>100.0</updateRate>    
    <controller:gazebo_ros_bumper name="thdistal_gazebo_ros_bumper_controller" plugin="libgazebo_ros_bumper.so">
      <alwaysOn>true</alwaysOn>    
      <updateRate>100.0</updateRate> 
      <frameName>thdistal</frameName>  
      <bumperTopicName>thdistal_bumper</bumperTopicName>
      <interface:bumper name="thdistal_gazebo_ros_bumper_iface" />
    </controller:gazebo_ros_bumper>    
  </sensor:contact>
  <material>Gazebo/Grey</material>
</gazebo>

If I comment out the  and the first  tags Gazebo starts, but no contact messages are published.
All log files indicate that everything should be fine.
Any idea what I'm doing wrong?

Originally posted by erikjber on ROS Answers with karma: 32 on 2011-03-08
Post score: 0

A:

Hi,
I faced a similar problem and found the following resolution to work: construct the geom tag by appending _geom to the link name.
In your case, since the link name is thdistal, changing
distal_collision_geom
to
thdistal_geom
should avoid crashing gazebo on launch and enable the contact messages.
The reason might have something to do with how the urdf is translated to the format understood by gazebo. (look at urdf2gazebo.cpp)
Also, as was mentioned in the previous answer, I found that contact messages were generated only when the link geometry is in contact.

Originally posted by rld with karma: 26 on 2011-03-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by erikjber on 2011-03-22:
That works! Thank you so very much!
Comment by erikjber on 2011-03-22:
I'll give it a try, thanks.


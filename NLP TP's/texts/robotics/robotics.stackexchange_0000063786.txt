Q:

How to rostest a single (entire) package in catkin workspace?

(I believe related to http://answers.ros.org/question/62583/how-do-i-only-run-tests-for-only-one-package/)
I have found through painful trial-and-error that when rostests are defined in a package's CMakeLists.txt, they will not build with the typical catkin_make run_tests_<package>:

catkin_make run_tests WORKS
catkin_make run_tests_<package> DOESN'T WORK

It is quite painful to not have the ability to run rostests from only one package at a time.
Is this expected behavior, and can anyone explain why?
hydro on 12.04

Originally posted by dsolomon on ROS Answers with karma: 253 on 2014-11-03
Post score: 2

A:

Are you referring to the compilation of your test executables, or the running of those tests? The build process separates these things into two separate build steps, with associated build targets.
The relevant build targets:

tests: Builds all of the test nodes. Does not run them.
run_tests_<package>: Runs the tests for a specific package. Does not build them.
run_tests: Depends on the tests target and all of the run_tests_<package> targets in the current workspace. Building this target causes all of the tests to be built and run.

Originally posted by ahendrix with karma: 47576 on 2014-11-03
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by gvdhoorn on 2014-11-04:
Also: be sure that CATKIN_ENABLE_TESTING is defined when building your workspace. Properly written CMakeLists.txt should not setup any test-related targets if CATKIN_ENABLE_TESTING is not defined. A normal catkin_make invocation should have that defined, but I thought I'd mention it.
Comment by dsolomon on 2015-02-12:
Don't know why I just saw this, but thanks guys! Is this behavior from cmake or catkin? And is there a any human-readable source for this information? Reading cmake documentation feels like reading the Rosetta stone: it only makes sense after you already figured it out.
Comment by ahendrix on 2015-02-13:
These targets are created by the test functions that come from rostest and catkin. I don't remember where to find the documentation anymore.
Comment by joq on 2015-02-13:
From the catkin howto: http://docs.ros.org/indigo/api/catkin/html/howto/format2/run_tests.html


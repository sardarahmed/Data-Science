Q:

robot_state_publisher segmentation fault when launching pr2

Hello,
On the pr2 we couldn't access to the /tf topic.
When launching the robot with robot.launch, we can see that :
[robot_state_publisher-4] process has died [pid 23074, exit code -11
( and we get a segmentation fault if we try to launch robot_state_publisher by ourselves)
We followed http://wiki.ros.org/robot_state_publisher/Troubleshooting  to try to see where the problem comes from:

rosparam get robot_description

don't give any errors
but

rosparam get robot_description_new

is not find. As the wiki is old we don't know wich one is supposed to be called.
The /tf was working properly some months ago : we were able to get the
pr2 model in Rviz and to display the laser sensors (that need to be
transformed in the relevant frame for display, in our understanding).
One possible cause of the absence of /tf may be that we tried to update
the pick and place demo (sudo apt-get install pr2-object-manipulation ;
here is the related question on the mailing list :
http://lists.willowgarage.com/pipermail/pr2-users/2014-January/001844.html
), which may have led to inconsistency between the updated dependancies
and the rest of the system.
Do you have any idea on what can be the cause, and of course, how to fix
the problem ?

Originally posted by scarlett on ROS Answers with karma: 170 on 2014-03-25
Post score: 1

A:

I think this is an ABI breakage in one of the dependencies used by robot_state_publisher. I've usually seen it show up when a dependency was due to installing a new package, but robot_state_publisher wasn't updated.
I've usually fixed this by running a dist-upgrade to upgrade all of the ROS packages on the system:
sudo apt-get dist-upgrade

Originally posted by ahendrix with karma: 47576 on 2014-03-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by scarlett on 2014-03-28:
It works fine now, thank you !


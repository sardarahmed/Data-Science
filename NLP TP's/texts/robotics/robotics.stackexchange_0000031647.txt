Q:

Why the SLAM have more than one maps in RVIZ?

When I'm using gmapping to be SLAM in rviz, with the robot running there will generate more than one maps in RVIZ?

Originally posted by gong on ROS Answers with karma: 164 on 2011-05-17
Post score: 1

Original comments
Comment by gong on 2011-05-17:
Additional, I published odometry  using the relative distance computed from odometry which provided by driver.  The odmetry was like that : x = (current_odometry - last_odometry)*cos(theta), y = (current_odometry - last_odometry)*sin(theta), the theta was absolute value provided by gyro.
Comment by gong on 2011-05-17:
Further more, I got an error message. Error:  m_distanceThesholdCheck overridden!!!    ...  the odometry has a big jump here. this is  probably a bug in the odometry/laser input. This error has been happened someday ago, I rewrite the odomety program to fix it. At that time, the formula was wrong.
Comment by gong on 2011-05-17:
I set the fixed frames to "/odom" and set the laser scan's "delay time" to 10 seconds. It seems that I do not get the "mostly consistent map", because when the robot is  running I cannot see the map in rviz until the robot is stoped.
Comment by Eric Perko on 2011-05-17:
I guess I wasn't clear about the "mostly consistent map". This would be without SLAM running, just using your odometry source to place the buffered laser scans into a mostly consistent reference frame.
Comment by gong on 2011-05-17:
as you can see from the  screenshot, the map is jumping from one place to another
Comment by Eric Perko on 2011-05-17:
How are you generating/publishing odometry (e.g. p2os or your own custom robot driver)? Is your odometry accurate? If you run the robot around with the fixed frame in rviz set to "/odom" and set the laser scan's "Decay time" to a large number, do you get a mostly consistent looking map?
Comment by Eric Perko on 2011-05-17:
Could you add the screenshot that you sent to the mailing list as well, since it helps to explain what you mean?

A:

I have been fix the problem. There is a mistake in my program about the odom computing. Thanks Eric and dornhege. Thank you so much!!

Originally posted by gong with karma: 164 on 2011-05-24
This answer was ACCEPTED on the original site
Post score: 0


Q:

Communicating between a Camera Plugin and a Model Plugin

My goal is to use the camera to plugin and develop a simple image processing program which finds a red ball in the frame and it determines the center position of the ball.
Once my camera determines these coordinates I need a model plugin to work based on the position of the ball. Basically determining the angle to turn.
Q1 ) How do i communicate between these two plugins ?
Q2 ) Are there tutorials for this ?
-Thanks
Bharadwaj

Originally posted by Bharadwaj Ramesh on Gazebo Answers with karma: 51 on 2013-05-02
Post score: 0

A:

You can communicate using gztopic messages using the gazebo::transport system. There are two example programs that use gazebo::transport, publisher and listener. You should be able to replicate this code in your plugins using gazebo's built-in protobuf message types to accomplish your goal. Feel free to keep asking if you need more guidance.

Originally posted by scpeters with karma: 2861 on 2013-05-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Bharadwaj Ramesh on 2013-05-03:
Hay scpeters : Thanks a lot ! THose are exactly the codes I am looking at. Thanks.
I will basically be sending a angular data from my camera plugin to my model plygin, which I would expect to be a float data. But I see an integer type of message but not float or double type of message sendable. Should I be creating a custom message for this ?
Comment by scpeters on 2013-05-03:
It would be easier to use a part of a Vector2d or Vector3d message.
Comment by Bharadwaj Ramesh on 2013-05-03:
I'm tryin to make a custom message using the following tutorial,but its not workin
https://bitbucket.org/osrf/gazebo/src/256f98f2318b/examples/plugins/custom_messages?at=default
I tried changing the main(the one that connects to the .cc file) CMakeLists.txt file to:
link_directories(${GAZEBO_LIBRARY_DIRS} ${CMAKE_CURRENT_BINARY_DIR}/msgs)
I did that change to CMake file from the following tutorial :
http://gazebosim.org/wiki/Tutorials/1.4/custom_messages
do you kno wats wrong
Comment by Bharadwaj Ramesh on 2013-05-04:
Hay cah you please check this post and help me with figuring what is wrong :
http://answers.gazebosim.org/question/2676/simple-subscribing-plugin/


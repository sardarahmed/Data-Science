Q:

Robot pose is improper in Gazebo & Rviz

I have launched the navigation stack in gazebo and Rviz, when i gave the initial 2D pose in rviz the robot appears in side ways. The left side of the robot is considered as front portion in Rviz and gazebo.

I have exported the model from Solidworks where my X-axis was aligned in side ways of the robot. Is that the problem here?
Then my localization is poor, does this pose error has anything to do with localization.
How to fix this, is there any possibility to edit the URDF to change the pose?
URDF
<?xml   version="1.0"?>
<robot
  name="jmbot1.2">
  <link
    name="base_link">
    <inertial>
      <origin
        xyz="4.37890354126393E-17 0.00236901195255572 6.55292757021008E-18"
        rpy="0 0 0" />
      <mass
        value="0.553388494231952" />
      <inertia
        ixx="0.0061380231979678"
        ixy="-7.4245754982948E-20"
        ixz="3.98664982078876E-19"
        iyy="0.0102825937754972"
        iyz="-3.90792618692798E-19"
        izz="0.00414996053647982" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/base_link.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.749019607843137 0.749019607843137 0.749019607843137 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/base_link.STL" />
      </geometry>
    </collision>
  </link>
  <link
    name="Wheel_L">
    <inertial>
      <origin
        xyz="-0.0394771489417549 -8.67361737988404E-19 5.20417042793042E-18"
        rpy="0 0 0" />
      <mass
        value="0.450643534719172" />
      <inertia
        ixx="0.000916081598048294"
        ixy="6.78545238432742E-22"
        ixz="5.25584106042723E-20"
        iyy="0.000533948766711723"
        iyz="-5.42101086242752E-20"
        izz="0.000533948766711723" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Wheel_L.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.749019607843137 0.749019607843137 0.749019607843137 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Wheel_L.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Wheel_L"
    type="continuous">
    <origin
      xyz="0.135 0 -0.0150000000000001"
      rpy="-2.71270653405672 1.43472398876874E-16 -3.14159265358979" />
    <parent
      link="base_link" />
    <child
      link="Wheel_L" />
    <axis
      xyz="1 0 0" />
  </joint>
  <link
    name="Wheel_R">
    <inertial>
      <origin
        xyz="-0.0394771489417549 8.67361737988404E-17 6.59194920871187E-17"
        rpy="0 0 0" />
      <mass
        value="0.450643534719172" />
      <inertia
        ixx="0.000916081598048294"
        ixy="2.5544898321056E-20"
        ixz="-2.19457985353437E-21"
        iyy="0.000533948766711724"
        iyz="-8.13151629364128E-20"
        izz="0.000533948766711723" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Wheel_R.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.749019607843137 0.749019607843137 0.749019607843137 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Wheel_R.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Wheel_R"
    type="continuous">
    <origin
      xyz="-0.135 0 -0.015"
      rpy="2.51202191489506 0 0" />
    <parent
      link="base_link" />
    <child
      link="Wheel_R" />
    <axis
      xyz="-1 0 0" />
  </joint>
  <link
    name="Castor_F">
    <inertial>
      <origin
        xyz="-5.55111512312578E-17 1.45716771982052E-16 0.0311642520583202"
        rpy="0 0 0" />
      <mass
        value="0.0565552012132997" />
      <inertia
        ixx="2.44755054701354E-05"
        ixy="0"
        ixz="-5.19674657761973E-21"
        iyy="2.44755054701354E-05"
        iyz="-1.16131199025338E-20"
        izz="7.43413937311511E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Castor_F.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Castor_F.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Castor_F"
    type="continuous">
    <origin
      xyz="0 0.15 0"
      rpy="3.14159265358979 -5.58421418663547E-17 -1.14813739025585" />
    <parent
      link="base_link" />
    <child
      link="Castor_F" />
    <axis
      xyz="0 0 1" />
  </joint>
  <link
    name="Castor_R">
    <inertial>
      <origin
        xyz="-1.38777878078145E-17 -1.38777878078145E-17 0.0311642520583202"
        rpy="0 0 0" />
      <mass
        value="0.0565552012132997" />
      <inertia
        ixx="2.44755054701354E-05"
        ixy="8.470329472543E-22"
        ixz="-9.17827047749453E-21"
        iyy="2.44755054701354E-05"
        iyz="2.51079430487427E-21"
        izz="7.43413937311511E-06" />
    </inertial>
    <visual>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Castor_R.STL" />
      </geometry>
      <material
        name="">
        <color
          rgba="0.752941176470588 0.752941176470588 0.752941176470588 1" />
      </material>
    </visual>
    <collision>
      <origin
        xyz="0 0 0"
        rpy="0 0 0" />
      <geometry>
        <mesh
          filename="package://jmbot2_description/meshes/Castor_R.STL" />
      </geometry>
    </collision>
  </link>
  <joint
    name="Castor_R"
    type="continuous">
    <origin
      xyz="0 -0.15 0"
      rpy="3.14159265358979 -5.28921694038317E-16 2.18096632212439" />
    <parent
      link="base_link" />
    <child
      link="Castor_R" />
    <axis
      xyz="0 0 1" />
  </joint>
  

<joint name="hokuyo_joint" type="fixed">
    <axis xyz="0 0 0" />
    <origin xyz="0 0 0.1" rpy="0 0 1.570796"/>
    <parent link="base_link"/>
    <child link="hokuyo_link"/>
  </joint>

  <!-- Hokuyo Laser -->
  <link name="hokuyo_link">
    <collision>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
    <mesh filename="package://jmbot1_description/meshes/hokuyo.dae"/>
      </geometry>
    </collision>

    <visual>
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <geometry>
        <mesh filename="package://jmbot1_description/meshes/hokuyo.dae"/>
      </geometry>
    </visual>

    <inertial>
      <mass value="1e-5" />
      <origin xyz="0 0 0" rpy="0 0 0"/>
      <inertia ixx="1e-6" ixy="0" ixz="0" iyy="1e-6" iyz="0" izz="1e-6" />
    </inertial>
  </link>

<gazebo>
<plugin name="differential_drive_controller"
    filename="libgazebo_ros_diff_drive.so">
    <leftJoint>Wheel_L</leftJoint>  
    <rightJoint>Wheel_R</rightJoint>
    <robotBaseFrame>base_link</robotBaseFrame>
    <wheelSeparation>0.235</wheelSeparation>
    <wheelDiameter>0.12</wheelDiameter>
    <torque>20</torque>
    <commandTopic>/cmd_vel</commandTopic>
    <odometryTopic>/odom</odometryTopic>
    <odometryFrame>/odom</odometryFrame>
    <publishWheelJointState>true</publishWheelJointState>
    </plugin>
</gazebo>

  <gazebo>
<plugin name="joint_state_publisher"
    filename="libgazebo_ros_joint_state_publisher.so">
    <jointName>Castor_R, Castor_F</jointName>
    </plugin>
    </gazebo>   

<gazebo reference="hokuyo_link">
    <sensor type="ray" name="head_hokuyo_sensor">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>40</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-1.570796</min_angle>
            <max_angle>1.570796</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.10</min>
          <max>30.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <!-- Noise parameters based on published spec for Hokuyo laser
               achieving "+-30mm" accuracy at range < 10m.  A mean of 0.0m and
               stddev of 0.01m will put 99.7% of samples within 0.03m of the true
               reading. -->
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin name="gazebo_ros_head_hokuyo_controller" filename="libgazebo_ros_laser.so">
        <topicName>/scan</topicName>
        <frameName>hokuyo_link</frameName>
      </plugin>
    </sensor>
  </gazebo>

 </robot>

Originally posted by Kishore Kumar on ROS Answers with karma: 173 on 2016-02-17
Post score: 0

A:

As discussed in detail in this Q/A the standard convention according to REP-103 is x axis forward, y axis left and z axis up. The issue you observe is indeed caused by not adhering to this convention.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2016-02-17
This answer was ACCEPTED on the original site
Post score: 0


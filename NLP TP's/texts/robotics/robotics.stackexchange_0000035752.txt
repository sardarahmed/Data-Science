Q:

Different dependencies depending on ROS version

Hi all,
I couldn't find a way of checking the ROS version in the manifest.xml: depending on whether we're using electric or older versions, one of my dependencies changes. Do I really have to have 2 branches or is there some trick which would allow me to have one branch, but slight differences depending on the ROS version against which the user compiles?

Originally posted by Ugo on ROS Answers with karma: 1620 on 2011-11-16
Post score: 3

A:

I was wondering the same some time ago, and came to the conclusion that there was no way around different branches. The next problem will arise in the includes if package names changed between distributions.

Originally posted by AHornung with karma: 5904 on 2011-11-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by joq on 2011-11-16:
I, too, would like a solution for manifest.xml and stack.xml version dependencies. As @dornhege said, the includes can use #ifdef.
Comment by dornhege on 2011-11-16:
The includes thing can be fixed. There are #defines for the ROS_VERSION_MAJOR, etc.
Comment by Ugo on 2011-11-16:
Yes. I wanted to define a flag during compile if it was possible to find out about the ros version. I'll go for separate branches then. Cheers.
Comment by StFS on 2012-06-12:
How can I get info about what ROS version is being used in my Python code? Can I access the #defines there somewhere?
Comment by joq on 2012-06-12:
Version-dependent Python code is worth asking as a separate question.
Comment by joq on 2012-06-12:
See also: http://answers.ros.org/question/9562/how-do-i-test-the-ros-version-in-c-code/


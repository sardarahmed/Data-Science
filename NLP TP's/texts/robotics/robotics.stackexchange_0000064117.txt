Q:

Gazebo systematically crashing and strange model display

Hello,
Under Ubuntu 12.04 and ROS Groovy, I have a very strange and annoying behaviour of Gazebo, which seems to be related to the recent ROS package update I made. Whatever launch file I roslaunch  tested pr2_empty_world, empty_world and a custom one that contains our lab model), Gazebo GUI crashes at first graphical interaction (trying to move the window, zoom/dezoom, rotate camera). The error is a segfault :
Segmentation fault (core dumped)
[gazebo_gui-2] process has died [pid 28617, exit code 139, cmd /opt/ros/groovy/stacks/simulator_gazebo/gazebo/scripts/gui __name:=gazebo_gui __log:=/home/renaudo/.ros/log/9e1d0ef6-700c-11e4-9551-002219119be4/gazebo_gui-2.log].
  log file: /home/renaudo/.ros/log/9e1d0ef6-700c-11e4-9551-002219119be4/gazebo_gui-2*.log

Related to that (the problem appeared at the same time), our lab model (urdf, that was perfectly fine) spawns as strange skewed black walls while it was a straight-phototextured-colorful model till now. Here is a screenshot of what I was able to see before I tried to interact and it crashes.
Gazebo_problems_simaroom_1.png
I know Groovy is close to be End Of Life, but as we are working with PR2, we need the distributions to be consistent to avoid any communication problems, and not being able to work in simulation is problematic. My colleagues also reported the problem with groovy.
Any advice is welcome,
Thanks for reading,
Erwan

Originally posted by Erwan R. on ROS Answers with karma: 697 on 2014-11-19
Post score: 0

A:

Hello !
After deeper investigation, the issue was from an inconsistency in nvidia API  :
Error: API mismatch: the NVIDIA kernel module has version xxx.yy.zz, but this NVIDIA driver component has version  xxx.yy.ww.  Please make sure that the kernel module and all NVIDIA driver components have the same version.

The solution is described here :
http://askubuntu.com/questions/50469/nvidia-api-mismatch
Now, RViz and Gazebo are working without crashing at first interaction, and models in urdf are displayed correctly in Gazebo.

Originally posted by Erwan R. with karma: 697 on 2014-11-24
This answer was ACCEPTED on the original site
Post score: 1


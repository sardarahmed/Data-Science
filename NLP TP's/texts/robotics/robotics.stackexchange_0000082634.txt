Q:

how to change map in map_server?

now  if i want to change a map , i need kill the map_server node now running,  then start it again with other map name.
is there another way to change map without restart the node?
so thankyou if anything help !

Originally posted by marine0131 on ROS Answers with karma: 48 on 2017-09-03
Post score: 2

A:

I explored this same question a while ago, see https://github.com/ros-planning/navigation/issues/279
As you point out, to load a new map with the current map_server implementation, you need to kill the node and reload it.
A possible solution, that doesn't require any changes in map_server  (as proposed by @david-lu), would be to load all your different maps in separate map_server instances renaming appropriately the /map topic on each instance (for example /map_1, /map_2, etc...) and use a multiplexer that subscribes to all your maps and publishes the topic /map depending on which map you want the multiplexer to select.
The other solution would be to modify the source code of  map_server and add a service to change the map on demand. Some work has been done, but it hasn't been released yet. If you read through navigation issue #279 you will find the code.
I hope this helps

Originally posted by Martin Peris with karma: 5625 on 2017-09-03
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by marine0131 on 2017-09-04:
thankyou so much , i will try the topic_tools/mux, then paste the result.
Comment by jayess on 2017-09-04:
This is a good solution. I like the idea of multiplexing the map topic for different maps.
Comment by uffe on 2018-11-24:
@marine0131 did you go for this option, how did you fare? can you share your solution
Comment by EFernandes on 2019-02-13:
Anyone tried this approach?
I've tried it, but although the map server is latched, when I select the topic with the mux there is no map. Only when I restart the map server...
Any thoughts on this?
Thank you
Comment by Martin Peris on 2019-02-27:
You are right, the map server is latched, but since the multiplexer subscribes only once to each topic (when you launch the multiplexer) the map will not be resent through the multiplexer when you select the topic you want to listen to.
Comment by Martin Peris on 2019-02-27:
Anyway, there seems to be progress on this, check out this PR: https://github.com/ros-planning/navigation/pull/461
Comment by jpmf on 2023-03-20:
I have the same problem. Has anyone been able to implement this solution? I tried following several suggestions and none worked for me.


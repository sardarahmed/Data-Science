Q:

contacs in gazebo, how can i get information?

Hello, i'm working with the shadow_hand and i need to report to rosserial when a collision is ocurs, i read the bumper topic of the shadow_hand and i got this when it collides:
header:  
  seq: 32213
  stamp: 
    secs: 323
    nsecs: 183000000
  frame_id: thdistal
states: 
  - 
    info: touched!    i:0      my geom:thdistal_geom   other geom:ffdistal_geom         time:0

    geom1_name: thdistal_geom
    geom2_name: ffdistal_geom
    wrenches: 
      - 
        force: 
          x: 4.3224521471
          y: 1.03446840909
          z: -4.10399759546
        torque: 
          x: 0.020471011108
          y: -0.0704609036724
          z: 0.00380004778994
      - 
        force: 
          x: 0.218667846282
          y: 0.0309026136255
          z: -0.0121754547746
        torque: 
          x: 0.000148457520029
          y: -0.00092394338305
          z: 0.000321188888893
      - 
        force: 
          x: 0.507403457155
          y: -0.273770831104
          z: 0.651734260347
        torque: 
          x: -0.00465900581856
          y: 0.00322243770582
          z: 0.00498087227518
      - 
        force: 
          x: 2.09702680594
          y: 2.17188347437
          z: 5.60188694761
        torque: 
          x: -0.00900784497789
          y: 0.0434630563714
          z: -0.0134788513589
      - 
        force: 
          x: 0.0720124172761
          y: 0.0334745991228
          z: -0.0159559391101
        torque: 
          x: 0.000225967252471
          y: -0.000490346770889
          z: -8.88155250662e-06
      - 
        force: 
          x: 3.2662882499
          y: 0.318637888692
          z: 0.714946180364
        torque: 
          x: 4.27054304811e-05
          y: -0.0203223290465
          z: 0.0088621716556
      - 
        force: 
          x: 0.680392560856
          y: 0.357548214436
          z: -0.783138309864
        torque: 
          x: 0.00600982609405
          y: -0.0140739668651
          z: -0.00120423269345
      - 
        force: 
          x: 0.0
          y: 0.0
          z: 0.0
        torque: 
          x: 0.0
          y: 0.0
          z: 0.0
      - 
        force: 
          x: 1.55918968855
          y: 0.98712114709
          z: -0.973108019467
        torque: 
          x: 0.0116720300575
          y: -0.0176844346929
          z: 0.000762741068342
      - 
        force: 
          x: 0.46194743699
          y: 0.362383244229
          z: 0.451829982357
        torque: 
          x: -0.000599976646105
          y: 0.00124312806077
          z: -0.000383620194539
      - 
        force: 
          x: -0.0586835618484
          y: 0.26589764374
          z: 1.09729838499
        torque: 
          x: -0.0059069979361
          y: 0.00997637611493
          z: -0.00273338466708
      - 
        force: 
          x: 2.36895693935
          y: -2.56130836999
          z: 3.05197056786
        torque: 
          x: -0.0380587131468
          y: 0.0111600774632
          z: 0.0389072731168
      - 
        force: 
          x: 0.0
          y: 0.0
          z: 0.0
        torque: 
          x: 0.0
          y: 0.0
          z: 0.0
      - 
        force: 
          x: 0.56934854374
          y: -0.17676679203
          z: -0.858212862599
        torque: 
          x: 0.003751591892
          y: -0.0125359753112
          z: 0.00507089524148
      - 
        force: 
          x: 1.28301576945
          y: 0.551718642647
          z: 0.64047026706
        torque: 
          x: 0.00181023379415
          y: -0.000367597434431
          z: -0.00330967455595
      - 
        force: 
          x: 1.14870859689
          y: 0.152724584719
          z: -0.136082267531
        torque: 
          x: 0.00108981350612
          y: -0.00768278607279
          z: 0.000577061453127
      - 
        force: 
          x: 0.0358387435776
          y: 0.0221442090706
          z: -0.00445491188319
        torque: 
          x: 0.000168238162743
          y: -0.00028679324501
          z: -7.21372748657e-05
      - 
        force: 
          x: 1.9632958016
          y: -2.58801057004
          z: -4.996901362
        torque: 
          x: 0.00130183684946
          y: -0.0606580206032
          z: 0.0319276843271
    total_wrench: 
      force: 
        x: 20.4958614428
        y: 0.689048107657
        z: 0.326109867906
      torque: 
        x: -0.0115408268584
        y: -0.136422021381
        z: 0.0740191535192
    contact_positions: 
      - 
        x: -0.0104273699182
        y: -0.00341480415094
        z: 0.00820062023106
      - 
        x: -0.0103267587404
        y: -0.00296201608504
        z: 0.0109240175366
      - 
        x: -0.0102857106122
        y: -0.00428225274012
        z: 0.00766292789126
      - 
        x: -0.00961456291088
        y: -0.00439229942925
        z: 0.00989537536603
      - 
        x: -0.0104734449257
        y: -0.00378451860515
        z: 0.00597461133379
      - 
        x: -0.00876281989568
        y: -0.00610283155787
        z: 0.00866518172029
      - 
        x: -0.00875702280711
        y: -0.00696405017931
        z: 0.00795938360499
      - 
        x: -0.00957378350457
        y: -0.00577850254721
        z: 0.00662090715845
      - 
        x: -0.00941668486142
        y: -0.00386016193527
        z: 0.00769475287357
      - 
        x: -0.00858323558603
        y: -0.00646348579979
        z: 0.00840580363011
      - 
        x: -0.010468149363
        y: -0.00374202602262
        z: 0.00623045436538
      - 
        x: -0.00970076395606
        y: -0.00395697421473
        z: 0.0056580595421
      - 
        x: -0.0104234347436
        y: -0.00338322757627
        z: 0.00839073921441
      - 
        x: -0.0103501089526
        y: -0.00295495693541
        z: 0.0109680490309
      - 
        x: -0.0100431206395
        y: -0.00456860691316
        z: 0.0107826424946
      - 
        x: -0.0104208833834
        y: -0.0041558352943
        z: 0.00482805716
      - 
        x: -0.0095072608508
        y: -0.00590593041556
        z: 0.00676169945777
      - 
        x: -0.0102361193805
        y: -0.00388351448728
        z: 0.00473926186494
    contact_normals: 
      - 
        x: 0.922165154155
        y: 0.374125630403
        z: 0.0981908403991
      - 
        x: 0.999738271001
        y: 0.00684448087565
        z: -0.0218298551734
      - 
        x: 0.926521161016
        y: 0.331186958015
        z: 0.178532173656
      - 
        x: 0.979923525908
        y: 0.192408149866
        z: -0.0522397093999
      - 
        x: 0.86951345987
        y: 0.486083904342
        z: -0.0875715766946
      - 
        x: 0.770086190144
        y: 0.6342306144
        z: -0.0686934313276
      - 
        x: 0.913898581371
        y: 0.201710476348
        z: 0.352281516261
      - 
        x: 0.910139099292
        y: 0.413952537473
        z: 0.0170328112867
      - 
        x: 0.896444157811
        y: 0.442558985714
        z: -0.023009043654
      - 
        x: 0.653043998543
        y: 0.75720619046
        z: -0.0131271130138
      - 
        x: 0.726029435106
        y: 0.57507330011
        z: -0.377056970311
      - 
        x: 0.979923525908
        y: 0.192408149866
        z: -0.0522397093999
      - 
        x: 0.84928397889
        y: 0.504756963102
        z: -0.154716293261
      - 
        x: 0.994284235669
        y: 0.100074543021
        z: -0.0372014050648
      - 
        x: 0.946550303186
        y: 0.320314797527
        z: -0.0379599002027
      - 
        x: 0.63462932333
        y: 0.620150492607
        z: -0.461149637849
      - 
        x: 0.84928397889
        y: 0.504756963102
        z: -0.154716293261
      - 
        x: 0.896444157811
        y: 0.442558985714
        z: -0.023009043654
    depths: [0.0007268906591089142, 4.423257548880066e-05, 0.0009790201778113738, 0.0005198771347447728, 0.0006157495467589147, 0.0005515213866575941, 0.00041705849758272295, 0.0009553741930402593, 0.0009651008733866373, 0.0004866609425284718, 0.0006493588852334309, 0.0007405229690049531, 0.0007219610338928817, 1.9975589775345082e-05, 1.9649760536699645e-05, 0.00032708445494278315, 0.0009651820560681035, 0.0002881917259719424]

this information i supouse that is the information of the coordinates of the collision, but i just need a value that sais to me that a collision ocurs, and this value sends to rosserial... how can i do that???

Originally posted by joseescobar60 on ROS Answers with karma: 172 on 2013-02-13
Post score: 0

A:

This is the default ROS message for a bumper. If you prefer to have a data that's easier to interpret, you can use the sr_tactile_sensors package.
You'll first need to compile the package for Gazebo:
GAZEBO=1 rosmake sr_tactile_sensors

Then you can launch the node (once gazebo is running):
roslaunch sr_tactile_sensors sr_tactile_gazebo.launch

This will provide you with 5 different topics: /sr_tactile/touch/ff, /sr_tactile/touch/mf, /sr_tactile/touch/rf, /sr_tactile/touch/lf, /sr_tactile/touch/th. They each contain a double that is proportional to the amount of force applied on the finger tip.

Originally posted by Ugo with karma: 1620 on 2013-02-18
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by joseescobar60 on 2013-02-19:
Well, thank's for the info, i did what you said, i run the firts line and it compiles good, but the topics doesn't appear.
Comment by Ugo on 2013-02-19:
sorry, corrected my answer: you need to launch the tactile node for gazebo once you have the hand running. My mistake.
Comment by joseescobar60 on 2013-02-19:
when i launch roslaunch sr_tactile_sensors sr_tactile_gazebo.launch it suppouse that charge the hand or just the topics?
Comment by joseescobar60 on 2013-02-19:
OK @Ugo i really thank you, it works very fine, thank you!
Comment by Ugo on 2013-02-19:
glad to help


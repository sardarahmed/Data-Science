Q:

Running robot_pose_ekf and amcl

We are trying to use the Leg Detector package on the Turtlebot to detect people and then send goals to the navigation stack to follow a person. Separately, running leg detection and amcl work fine. However, when you run them together there are problems. robot_pose_ekf, which the leg_detector needs, seems to interfere with amcl somehow. Can anyone explain why this happens and how I can get around it? I think it's problem some duplication in pose estimation, so maybe hopefully it's something easy that I'm missing.
Thanks,
Sarah

Originally posted by velveteenrobot on ROS Answers with karma: 136 on 2015-02-27
Post score: 0

A:

One possibility is that there are interfering published transforms. Did you try dumping the tf graph both with and without amcl running? E.g., rosrun tf view_frames. To debug this, you could try spawning the amcl with modified odom_frame_id, base_frame_id, and global_frame_id parameters. Confer http://wiki.ros.org/amcl#Parameters (near the bottom of the page).
You wrote that robot_pose_ekf is required by leg_detector. However, there is no indication of this in the package description. It is required to specify a reference frame (parameter fixed_frame), which could be provided by multiple packages, e.g., robot_pose_ekf or amcl.

Originally posted by slivingston with karma: 254 on 2015-02-27
This answer was ACCEPTED on the original site
Post score: 0


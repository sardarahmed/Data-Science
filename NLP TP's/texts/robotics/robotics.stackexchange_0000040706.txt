Q:

uvc_cam installation problem

Hi,
I am working on ubuntu and I am installing pi_face_tracker (http://www.ros.org/wiki/pi_face_tracker) but there is a problem with the Eric Perko's uvc_cam package. First off all, "rosdep install uvc_cam" worked well but after "rosmake" show me that :
[ rosmake ] rosmake starting...
[ rosmake ] No package specified.  Building ['uvc_cam']
[ rosmake ] Packages requested are: ['uvc_cam']
.
.
make[3]: Entering directory `/home/bsdrobotics/NFSServ/packageRos/uvc_cam/build'
Linking CXX executable ../bin/uvc_cam_node
CMakeFiles/uvc_cam_node.dir/src/uvc_cam_node.o: In function ~CvBridge': /opt/ros/fuerte/stacks/vision_opencv/cv_bridge/include/cv_bridge/CvBridge.h:75: undefined reference to cvReleaseImageHeader'
/opt/ros/fuerte/stacks/vision_opencv/cv_bridge/include/cv_bridge/CvBridge.h:80: undefined reference to `cvReleaseImage'
/opt/ros/fuerte/stacks/vision_opencv/cv_bridge/include/cv_bridge/CvBridge.h:75: undefined reference to `cvReleaseImageHeader'
/opt/ros/fuerte/stacks/vision_opencv/cv_bridge/include/cv_bridge/CvBridge.h:80: undefined reference to `cvReleaseImage'
CMakeFiles/uvc_cam_node.dir/src/uvc_cam_node.o: In function CvBridge': /opt/ros/fuerte/stacks/vision_opencv/cv_bridge/include/cv_bridge/CvBridge.h:69: undefined reference to cvCreateImageHeader'
CMakeFiles/uvc_cam_node.dir/src/uvc_cam_node.o: In function sensor_msgs::CvBridge::fromIpltoRosImage(_IplImage const*, sensor_msgs::Image_<std::allocator<void> >&, std::basic_string<char, std::char_traits<char>, std::allocator<char> >)': /opt/ros/fuerte/stacks/vision_opencv/cv_bridge/include/cv_bridge/CvBridge.h:314: undefined reference to cvGetMat'
CMakeFiles/uvc_cam_node.dir/src/uvc_cam_node.o: In function UVCCamNode::read()': /home/bsdrobotics/NFSServ/packageRos/uvc_cam/src/uvc_cam_node.cpp:196: undefined reference to cvCreateImageHeader'
/home/bsdrobotics/NFSServ/packageRos/uvc_cam/src/uvc_cam_node.cpp:223: undefined reference to cvReleaseImageHeader' collect2: ld returned 1 exit status make[3]: *** [../bin/uvc_cam_node] Error 1 make[3]: Leaving directory /home/bsdrobotics/NFSServ/packageRos/uvc_cam/build'
make[2]: *** [CMakeFiles/uvc_cam_node.dir/all] Error 2
make[2]: Leaving directory /home/bsdrobotics/NFSServ/packageRos/uvc_cam/build' make[1]: *** [all] Error 2 make[1]: Leaving directory /home/bsdrobotics/NFSServ/packageRos/uvc_cam/build'
[ rosmake ] Output from build of package uvc_cam written to:
[ rosmake ]    /home/bsdrobotics/.ros/rosmake/rosmake_output-20120522-103549/uvc_cam/build_output.log
[rosmake-1] Finished <<< uvc_cam [FAIL] [ 3.84 seconds ]
[ rosmake ] Halting due to failure in package uvc_cam.
[ rosmake ] Waiting for other threads to complete.
[ rosmake ] Results:
[ rosmake ] Built 29 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /home/bsdrobotics/.ros/rosmake/rosmake_output-20120522-103549
It seems there is a problem with CvBridge.h (linkage or something else) but i really don't know what is it.
Regards

Originally posted by Wiren on ROS Answers with karma: 11 on 2012-05-21
Post score: 1

A:

A couple of months ago, Eric Perko was kind enough to post an update to his uvc_cam code so that it would compile under Groovy. It now compiles fine for me know under Electric, Fuerte and Groovy. Move into your uvc_cam source directory then run:
$ git pull
$ rosmake --pre-clean

--patrick

Originally posted by Pi Robot with karma: 4046 on 2013-04-18
This answer was ACCEPTED on the original site
Post score: 0


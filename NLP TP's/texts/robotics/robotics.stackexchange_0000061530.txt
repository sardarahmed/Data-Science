Q:

rostopic pub multiarray

Quick question, how do I publish a multiarray? I use rostopic a lot, and its tremendously helpful. One thing I was never able to figure out, was how publish a multiarray(I also wasn't able to find a post on it).
This is the format it provides:
rostopic pub /topic_name std_msgs/Float32MultiArray "layout:
  dim:
  - label: ''
    size: 0
    stride: 0
  data_offset: 0
data:
- 0" 

That can publish a single element multiarray, but I couldn't figure out how to add another element on that array.
I've tried...
rostopic pub /topic_name std_msgs/Float32MultiArray "layout:
  dim:
  - label: ''
    size: 0
    stride: 0
  data_offset: 0
data:
- [0.0, 1.0]" 

and a bunch of other variants, but nothing works. If someone can help with the syntax, that would be appreciated!

Originally posted by pwong on ROS Answers with karma: 447 on 2014-08-05
Post score: 1

A:

See this answer:
$ rostopic pub /topic_name std_msgs/Float32MultiArray "layout:
dim:
  - label: ''
    size: 0
    stride: 0
  data_offset: 0
data: [0.0, 1.0, 2.0]"

Originally posted by BennyRe with karma: 2949 on 2014-08-06
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by pwong on 2014-08-07:
Thank you!
Comment by atomoclast on 2016-09-13:
Hello, I tried this a Int16MultiArray message and got this error out:
ERROR: No field name [dim]

Args are: [layout.dim layout.data_offset data]

Any idea what it could be?
Comment by Cerin on 2017-03-26:
@atomoclast: Your message is malformed. You need to put dim inside the layout key, like this answer shows. e.g. {layout: {dim: [...]}, ...}, not {dim: [...]}.


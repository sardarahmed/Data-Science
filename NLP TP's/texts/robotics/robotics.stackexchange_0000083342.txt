Q:

Trying to understand PointCloud2 msg

Hello,
Can someone please post a clear explanation of how to understand pointcloud2 message? I want to get x,y,z point from the message and I found a solution to do that, but I am not able to understand why there are so many numbers in data field?
Can someone please explain?
Thanks.

Originally posted by krishna43 on ROS Answers with karma: 63 on 2017-10-16
Post score: 0

Original comments
Comment by jayess on 2017-10-16:
What is the solution that you found? I think that people may have a hard time explaining it if they don't know what it is...
Comment by krishna43 on 2017-10-18:
https://answers.ros.org/question/202787/using-pointcloud2-data-getting-xy-points-in-python/
look at that question. that  helped me. @jayess
Comment by jayess on 2017-10-18:
So, do you not need an explanation any more?
Comment by krishna43 on 2017-10-18:
@jayess I need an explanation of PointCloud2 data format. I got the result i want by blindly copying the code snippet, but i don't know what it means.

A:

The data field of a PointCloud2 message contains the list of points encoded as a byte stream, where each point is a struct. The format of the points in an individual PointCloud2 message is defined by the fields, which is a list of sensor_msgs/PointField objects. In order to turn the data back into individual points, it has to be deserialized.  The PointCloud library has defined methods that do this automatically (in Python, you'd use pc2.read_points.) Under the hood, these methods use memory reinterpretation to transform the byte stream to a list of points (e.g. Python's struct.unpack() or reinterpret casting in C++).
The advantage of the byte stream representation is that it's a compact way to transport the data that is extremely flexible, allowing any arbitrary struct to be used for the points. The disadvantage is that the message unreadable without deserialization.

Originally posted by Ed Venator with karma: 1185 on 2017-11-04
This answer was ACCEPTED on the original site
Post score: 4


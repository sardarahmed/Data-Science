Q:

Several errors when using mavros

Hi,
I am using APM2.5 for localization. I configure the board on Mission Planar.
When rosrun, there are several warnings and errors. I mark them with bold and italic (three stars in code mode...).
I do not calibrate the RC, so the RC calibration error is reasonable. I also do not fix GPS, because I do not know how to do that in Mission Planar. It says that GPS will be fixed automatically when working outdoor. Is that the case?
Do anybody know the reason of other warning and errors?
$ rosrun mavros mavros_node _fcu_url:=/dev/ttyACM0:115200
[ INFO] [1446530857.030098436]: FCU URL: /dev/ttyACM0:115200
[ INFO] [1446530857.030279683]: serial0: device: /dev/ttyACM0 @ 115200 bps
[ INFO] [1446530857.030564486]: GCS URL: udp://@
[ INFO] [1446530857.030703395]: udp1: Bind address: 0.0.0.0:14555
[ INFO] [1446530857.077470574]: Plugin 3dr_radio loaded and initialized
[ INFO] [1446530857.080427771]: Plugin actuator_control loaded and initialized
[ INFO] [1446530857.135220977]: Plugin cam_imu_sync loaded and initialized
[ INFO] [1446530857.140441001]: Plugin command loaded and initialized
***[ WARN] [1446530857.141009865]: DS: plugin not configured!***
[ INFO] [1446530857.141044066]: Plugin distance_sensor loaded and initialized
[ INFO] [1446530857.148295538]: Plugin ftp loaded and initialized
[ INFO] [1446530857.154138666]: Plugin global_position loaded and initialized
[ INFO] [1446530857.384439549]: Plugin image_pub loaded and initialized
[ INFO] [1446530857.389446553]: Plugin imu_pub loaded and initialized
[ INFO] [1446530857.391764868]: Plugin local_position loaded and initialized
[ INFO] [1446530857.395401519]: Plugin mocap_pose_estimate loaded and initialized
[ INFO] [1446530857.398120073]: Plugin param loaded and initialized
[ INFO] [1446530857.401914841]: Plugin px4flow loaded and initialized
[ INFO] [1446530857.408439026]: Plugin rc_io loaded and initialized
[ INFO] [1446530857.415589143]: Plugin safety_area loaded and initialized
[ INFO] [1446530857.420306237]: Plugin setpoint_accel loaded and initialized
[ INFO] [1446530857.434266443]: Plugin setpoint_attitude loaded and initialized
[ INFO] [1446530857.440388770]: Plugin setpoint_position loaded and initialized
[ INFO] [1446530857.444310141]: Plugin setpoint_velocity loaded and initialized
[ INFO] [1446530857.454158086]: Plugin sys_status loaded and initialized
[ INFO] [1446530857.460930522]: Plugin sys_time loaded and initialized
[ INFO] [1446530857.462674694]: Plugin vfr_hud loaded and initialized
[ INFO] [1446530857.464196303]: Plugin vibration loaded and initialized
[ INFO] [1446530857.470365356]: Plugin vision_pose_estimate loaded and initialized
[ INFO] [1446530857.474941413]: Plugin vision_speed_estimate loaded and initialized
[ INFO] [1446530857.481248956]: Plugin waypoint loaded and initialized
[ INFO] [1446530857.481338302]: Built-in SIMD instructions: SSE, SSE2
[ INFO] [1446530857.481370633]: Built-in MAVLink dialect: ardupilotmega
[ INFO] [1446530857.481399770]: MAVROS started. MY ID [1, 240], TARGET ID [1, 1]
***[ERROR] [1446530858.922265927]: FCU: Calibrating barometer***
[ INFO] [1446530858.926077640]: CON: Got HEARTBEAT, connected.
[ INFO] [1446530860.476189857]: FCU: barometer calibration complete
[ INFO] [1446530860.480065136]: FCU: GROUND START
***[ WARN] [1446530860.931020588]: VER: broadcast request timeout, retries left 4
***[ WARN] [1446530861.678199421]: GP: No GPS fix
***[ WARN] [1446530861.715118840]: TM: Wrong FCU time.***
***[ WARN] [1446530861.930293016]: VER: broadcast request timeout, retries left 3***
***[ WARN] [1446530862.958350595]: VER: unicast request timeout, retries left 2***
***[ WARN] [1446530863.956153393]: VER: unicast request timeout, retries left 1***
***[ WARN] [1446530864.937501238]: VER: unicast request timeout, retries left 0***
***[ WARN] [1446530865.943520790]: VER: your FCU don't support AUTOPILOT_VERSION, switched to default*** capabilities******
[ INFO] [1446530868.948919839]: FCU: ArduCopter V3.2.1 (36b405fb)
[ INFO] [1446530868.952916440]: FCU: Frame: QUAD
[ INFO] [1446530873.933601727]: WP: mission received
***[ERROR] [1446530876.701961992]: FCU: PreArm: RC not calibrated***
[ INFO] [1446530881.138932841]: PR: parameters list received
***[ WARN] [1446530894.224488200]: GP: No GPS fix***

Originally posted by pinocchio on ROS Answers with karma: 101 on 2015-11-03
Post score: 0

A:

Messages starting from 'FCU:' - what autopilot sends to ground station/onboard controller.
Usable to find why autopilot won't arm (pre-arm check messages) or other informational/warnings etc. Such as uncalibrated sensors. Message level defined by firmware side.
VER: warnings - your firmware too old and not support that request. Not big problem because for now plugins do not check capabilities flags.
GP and TM - because you do not have GPS position (it is called FIX - e.g. sensor_msgs/NavSatFix).
So until your GPS receiver get it's coordinates there will be those warnings.
DS warning because you loaded distance_sensor plugin without configuration.
I recommend to use apm.launch for first time. It define plugin lists and configuration.
roslaunch mavros apm.launch fcu_url:=<url> gcs_url:=udp://@localhost

Originally posted by vooon with karma: 404 on 2015-11-04
This answer was ACCEPTED on the original site
Post score: 1


Q:

Error initializing UR3 with ur_robot_driver

Hello guys, I'm using ROS melodic on Ubuntu 18.04 with Kernel 5.3.0.59-generic a UR3 Robot
right now I'm trying to run ROS on a UR3. I've already installed the external Control on URCaps, and it's shown on the HMI.
(I havn't installed a realtime kernel right now, because I want to check if it works without, because the manual says it should work also. And I don't think that this is the reason for my problem)
I followed the guide from the "ur_robot_driver" (https://github.com/UniversalRobots/Universal_Robots_ROS_Driver) and it works until it gets to the Quick start:
if I run the code to start the robot driver :
roslaunch ur_robot_driver ur3_bringup.launch robot_ip:=131.246.xx.xxx

with the following Error:
... logging to /home/robo/.ros/log/f8a7351e-b15f-11ea-8f59-00e04c21794d/roslaunch-robo-ESPRIMO-P958-13814.log
Checking log directory for disk usage. This may take a while.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

xacro: in-order processing became default in ROS Melodic. You can drop the option.
started roslaunch server http://robo-ESPRIMO-P958:36795/

SUMMARY
========

PARAMETERS
 * /controller_stopper/consistent_controllers: ['joint_state_con...

 * /force_torque_sensor_controller/publish_rate: 125

 * /force_torque_sensor_controller/type: force_torque_sens...
 * /hardware_control_loop/loop_hz: 125
 * /hardware_interface/joints: ['shoulder_pan_jo...
 * /joint_group_vel_controller/joints: ['shoulder_pan_jo...
 * /joint_group_vel_controller/type: velocity_controll...
 * /joint_state_controller/publish_rate: 125
 * /joint_state_controller/type: joint_state_contr...
 * /pos_traj_controller/action_monitor_rate: 10
 * /pos_traj_controller/constraints/elbow_joint/goal: 0.1
 * /pos_traj_controller/constraints/elbow_joint/trajectory: 0.2
 * /pos_traj_controller/constraints/goal_time: 0.6
 * /pos_traj_controller/constraints/shoulder_lift_joint/goal: 0.1
 * /pos_traj_controller/constraints/shoulder_lift_joint/trajectory: 0.2
 * /pos_traj_controller/constraints/shoulder_pan_joint/goal: 0.1
 * /pos_traj_controller/constraints/shoulder_pan_joint/trajectory: 0.2
 * /pos_traj_controller/constraints/stopped_velocity_tolerance: 0.05
 * /pos_traj_controller/constraints/wrist_1_joint/goal: 0.1
 * /pos_traj_controller/constraints/wrist_1_joint/trajectory: 0.2
 * /pos_traj_controller/constraints/wrist_2_joint/goal: 0.1
 * /pos_traj_controller/constraints/wrist_2_joint/trajectory: 0.2
 * /pos_traj_controller/constraints/wrist_3_joint/goal: 0.1
 * /pos_traj_controller/constraints/wrist_3_joint/trajectory: 0.2
 * /pos_traj_controller/joints: ['shoulder_pan_jo...
 * /pos_traj_controller/state_publish_rate: 125
 * /pos_traj_controller/stop_trajectory_duration: 0.5
 * /pos_traj_controller/type: position_controll...
 * /robot_description: <?xml version="1....
 * /robot_status_controller/handle_name: industrial_robot_...
 * /robot_status_controller/publish_rate: 10
 * /robot_status_controller/type: industrial_robot_...
 * /rosdistro: melodic
 * /rosversion: 1.14.5
 * /scaled_pos_traj_controller/action_monitor_rate: 10
 * /scaled_pos_traj_controller/constraints/elbow_joint/goal: 0.1
 * /scaled_pos_traj_controller/constraints/elbow_joint/trajectory: 0.2
 * /scaled_pos_traj_controller/constraints/goal_time: 0.6
 * /scaled_pos_traj_controller/constraints/shoulder_lift_joint/goal: 0.1
 * /scaled_pos_traj_controller/constraints/shoulder_lift_joint/trajectory: 0.2
 * /scaled_pos_traj_controller/constraints/shoulder_pan_joint/goal: 0.1
 * /scaled_pos_traj_controller/constraints/shoulder_pan_joint/trajectory: 0.2
 * /scaled_pos_traj_controller/constraints/stopped_velocity_tolerance: 0.05
 * /scaled_pos_traj_controller/constraints/wrist_1_joint/goal: 0.1
 * /scaled_pos_traj_controller/constraints/wrist_1_joint/trajectory: 0.2
 * /scaled_pos_traj_controller/constraints/wrist_2_joint/goal: 0.1
 * /scaled_pos_traj_controller/constraints/wrist_2_joint/trajectory: 0.2
 * /scaled_pos_traj_controller/constraints/wrist_3_joint/goal: 0.1
 * /scaled_pos_traj_controller/constraints/wrist_3_joint/trajectory: 0.2
 * /scaled_pos_traj_controller/joints: ['shoulder_pan_jo...
 * /scaled_pos_traj_controller/state_publish_rate: 125
 * /scaled_pos_traj_controller/stop_trajectory_duration: 0.5
 * /scaled_pos_traj_controller/type: position_controll...
 * /scaled_vel_traj_controller/action_monitor_rate: 10
 * /scaled_vel_traj_controller/constraints/elbow_joint/goal: 0.1
 * /scaled_vel_traj_controller/constraints/elbow_joint/trajectory: 0.1
 * /scaled_vel_traj_controller/constraints/goal_time: 0.6
 * /scaled_vel_traj_controller/constraints/shoulder_lift_joint/goal: 0.1
 * /scaled_vel_traj_controller/constraints/shoulder_lift_joint/trajectory: 0.1
 * /scaled_vel_traj_controller/constraints/shoulder_pan_joint/goal: 0.1
 * /scaled_vel_traj_controller/constraints/shoulder_pan_joint/trajectory: 0.1
 * /scaled_vel_traj_controller/constraints/stopped_velocity_tolerance: 0.05
 * /scaled_vel_traj_controller/constraints/wrist_1_joint/goal: 0.1
 * /scaled_vel_traj_controller/constraints/wrist_1_joint/trajectory: 0.1
 * /scaled_vel_traj_controller/constraints/wrist_2_joint/goal: 0.1
 * /scaled_vel_traj_controller/constraints/wrist_2_joint/trajectory: 0.1
 * /scaled_vel_traj_controller/constraints/wrist_3_joint/goal: 0.1
 * /scaled_vel_traj_controller/constraints/wrist_3_joint/trajectory: 0.1
 * /scaled_vel_traj_controller/gains/elbow_joint/d: 0.1
 * /scaled_vel_traj_controller/gains/elbow_joint/i: 0.05
 * /scaled_vel_traj_controller/gains/elbow_joint/i_clamp: 1
 * /scaled_vel_traj_controller/gains/elbow_joint/p: 5.0
 * /scaled_vel_traj_controller/gains/shoulder_lift_joint/d: 0.1
 * /scaled_vel_traj_controller/gains/shoulder_lift_joint/i: 0.05
 * /scaled_vel_traj_controller/gains/shoulder_lift_joint/i_clamp: 1
 * /scaled_vel_traj_controller/gains/shoulder_lift_joint/p: 5.0
 * /scaled_vel_traj_controller/gains/shoulder_pan_joint/d: 0.1
 * /scaled_vel_traj_controller/gains/shoulder_pan_joint/i: 0.05
 * /scaled_vel_traj_controller/gains/shoulder_pan_joint/i_clamp: 1
 * /scaled_vel_traj_controller/gains/shoulder_pan_joint/p: 5.0
 * /scaled_vel_traj_controller/gains/wrist_1_joint/d: 0.1
 * /scaled_vel_traj_controller/gains/wrist_1_joint/i: 0.05
 * /scaled_vel_traj_controller/gains/wrist_1_joint/i_clamp: 1
 * /scaled_vel_traj_controller/gains/wrist_1_joint/p: 5.0
 * /scaled_vel_traj_controller/gains/wrist_2_joint/d: 0.1
 * /scaled_vel_traj_controller/gains/wrist_2_joint/i: 0.05
 * /scaled_vel_traj_controller/gains/wrist_2_joint/i_clamp: 1
 * /scaled_vel_traj_controller/gains/wrist_2_joint/p: 5.0
 * /scaled_vel_traj_controller/gains/wrist_3_joint/d: 0.1
 * /scaled_vel_traj_controller/gains/wrist_3_joint/i: 0.05
 * /scaled_vel_traj_controller/gains/wrist_3_joint/i_clamp: 1
 * /scaled_vel_traj_controller/gains/wrist_3_joint/p: 5.0
 * /scaled_vel_traj_controller/joints: ['shoulder_pan_jo...
 * /scaled_vel_traj_controller/state_publish_rate: 125
 * /scaled_vel_traj_controller/stop_trajectory_duration: 0.5
 * /scaled_vel_traj_controller/type: velocity_controll...
 * /scaled_vel_traj_controller/velocity_ff/elbow_joint: 1.0
 * /scaled_vel_traj_controller/velocity_ff/shoulder_lift_joint: 1.0
 * /scaled_vel_traj_controller/velocity_ff/shoulder_pan_joint: 1.0
 * /scaled_vel_traj_controller/velocity_ff/wrist_1_joint: 1.0
 * /scaled_vel_traj_controller/velocity_ff/wrist_2_joint: 1.0
 * /scaled_vel_traj_controller/velocity_ff/wrist_3_joint: 1.0
 * /speed_scaling_state_controller/publish_rate: 125
 * /speed_scaling_state_controller/type: ur_controllers/Sp...
 * /ur_hardware_interface/headless_mode: False
 * /ur_hardware_interface/input_recipe_file: /home/robo/catkin...
 * /ur_hardware_interface/kinematics/forearm/pitch: 0
 * /ur_hardware_interface/kinematics/forearm/roll: 0
 * /ur_hardware_interface/kinematics/forearm/x: -0.24365
 * /ur_hardware_interface/kinematics/forearm/y: 0
 * /ur_hardware_interface/kinematics/forearm/yaw: 0
 * /ur_hardware_interface/kinematics/forearm/z: 0
 * /ur_hardware_interface/kinematics/hash: calib_91220662696...
 * /ur_hardware_interface/kinematics/shoulder/pitch: 0
 * /ur_hardware_interface/kinematics/shoulder/roll: 0
 * /ur_hardware_interface/kinematics/shoulder/x: 0
 * /ur_hardware_interface/kinematics/shoulder/y: 0
 * /ur_hardware_interface/kinematics/shoulder/yaw: 0
 * /ur_hardware_interface/kinematics/shoulder/z: 0.1519
 * /ur_hardware_interface/kinematics/upper_arm/pitch: 0
 * /ur_hardware_interface/kinematics/upper_arm/roll: 1.570796327
 * /ur_hardware_interface/kinematics/upper_arm/x: 0
 * /ur_hardware_interface/kinematics/upper_arm/y: 0
 * /ur_hardware_interface/kinematics/upper_arm/yaw: 0
 * /ur_hardware_interface/kinematics/upper_arm/z: 0
 * /ur_hardware_interface/kinematics/wrist_1/pitch: 0
 * /ur_hardware_interface/kinematics/wrist_1/roll: 0
 * /ur_hardware_interface/kinematics/wrist_1/x: -0.21325
 * /ur_hardware_interface/kinematics/wrist_1/y: 0
 * /ur_hardware_interface/kinematics/wrist_1/yaw: 0
 * /ur_hardware_interface/kinematics/wrist_1/z: 0.11235
 * /ur_hardware_interface/kinematics/wrist_2/pitch: 0
 * /ur_hardware_interface/kinematics/wrist_2/roll: 1.570796327
 * /ur_hardware_interface/kinematics/wrist_2/x: 0
 * /ur_hardware_interface/kinematics/wrist_2/y: -0.08535
 * /ur_hardware_interface/kinematics/wrist_2/yaw: 0
 * /ur_hardware_interface/kinematics/wrist_2/z: -1.75055776238e-11
 * /ur_hardware_interface/kinematics/wrist_3/pitch: 3.14159265359
 * /ur_hardware_interface/kinematics/wrist_3/roll: 1.57079632659
 * /ur_hardware_interface/kinematics/wrist_3/x: 0
 * /ur_hardware_interface/kinematics/wrist_3/y: 0.0819
 * /ur_hardware_interface/kinematics/wrist_3/yaw: 3.14159265359
 * /ur_hardware_interface/kinematics/wrist_3/z: -1.67979707954e-11
 * /ur_hardware_interface/output_recipe_file: /home/robo/catkin...
 * /ur_hardware_interface/reverse_port: 50001
 * /ur_hardware_interface/robot_ip: 131.246.27.113
 * /ur_hardware_interface/script_file: /home/robo/catkin...
 * /ur_hardware_interface/script_sender_port: 50002
 * /ur_hardware_interface/tf_prefix: 
 * /ur_hardware_interface/tool_baud_rate: 115200
 * /ur_hardware_interface/tool_parity: 0
 * /ur_hardware_interface/tool_rx_idle_chars: 1.5
 * /ur_hardware_interface/tool_stop_bits: 1
 * /ur_hardware_interface/tool_tx_idle_chars: 3.5
 * /ur_hardware_interface/tool_voltage: 0
 * /ur_hardware_interface/use_tool_communication: False
 * /vel_traj_controller/action_monitor_rate: 10
 * /vel_traj_controller/constraints/elbow_joint/goal: 0.1
 * /vel_traj_controller/constraints/elbow_joint/trajectory: 0.1
 * /vel_traj_controller/constraints/goal_time: 0.6
 * /vel_traj_controller/constraints/shoulder_lift_joint/goal: 0.1
 * /vel_traj_controller/constraints/shoulder_lift_joint/trajectory: 0.1
 * /vel_traj_controller/constraints/shoulder_pan_joint/goal: 0.1
 * /vel_traj_controller/constraints/shoulder_pan_joint/trajectory: 0.1
 * /vel_traj_controller/constraints/stopped_velocity_tolerance: 0.05
 * /vel_traj_controller/constraints/wrist_1_joint/goal: 0.1
 * /vel_traj_controller/constraints/wrist_1_joint/trajectory: 0.1
 * /vel_traj_controller/constraints/wrist_2_joint/goal: 0.1
 * /vel_traj_controller/constraints/wrist_2_joint/trajectory: 0.1
 * /vel_traj_controller/constraints/wrist_3_joint/goal: 0.1
 * /vel_traj_controller/constraints/wrist_3_joint/trajectory: 0.1
 * /vel_traj_controller/gains/elbow_joint/d: 0.1
 * /vel_traj_controller/gains/elbow_joint/i: 0.05
 * /vel_traj_controller/gains/elbow_joint/i_clamp: 1
 * /vel_traj_controller/gains/elbow_joint/p: 5.0
 * /vel_traj_controller/gains/shoulder_lift_joint/d: 0.1
 * /vel_traj_controller/gains/shoulder_lift_joint/i: 0.05
 * /vel_traj_controller/gains/shoulder_lift_joint/i_clamp: 1
 * /vel_traj_controller/gains/shoulder_lift_joint/p: 5.0
 * /vel_traj_controller/gains/shoulder_pan_joint/d: 0.1
 * /vel_traj_controller/gains/shoulder_pan_joint/i: 0.05
 * /vel_traj_controller/gains/shoulder_pan_joint/i_clamp: 1
 * /vel_traj_controller/gains/shoulder_pan_joint/p: 5.0
 * /vel_traj_controller/gains/wrist_1_joint/d: 0.1
 * /vel_traj_controller/gains/wrist_1_joint/i: 0.05
 * /vel_traj_controller/gains/wrist_1_joint/i_clamp: 1
 * /vel_traj_controller/gains/wrist_1_joint/p: 5.0
 * /vel_traj_controller/gains/wrist_2_joint/d: 0.1
 * /vel_traj_controller/gains/wrist_2_joint/i: 0.05
 * /vel_traj_controller/gains/wrist_2_joint/i_clamp: 1
 * /vel_traj_controller/gains/wrist_2_joint/p: 5.0
 * /vel_traj_controller/gains/wrist_3_joint/d: 0.1
 * /vel_traj_controller/gains/wrist_3_joint/i: 0.05
 * /vel_traj_controller/gains/wrist_3_joint/i_clamp: 1
 * /vel_traj_controller/gains/wrist_3_joint/p: 5.0
 * /vel_traj_controller/joints: ['shoulder_pan_jo...
 * /vel_traj_controller/state_publish_rate: 125
 * /vel_traj_controller/stop_trajectory_duration: 0.5
 * /vel_traj_controller/type: velocity_controll...
 * /vel_traj_controller/velocity_ff/elbow_joint: 1.0
 * /vel_traj_controller/velocity_ff/shoulder_lift_joint: 1.0
 * /vel_traj_controller/velocity_ff/shoulder_pan_joint: 1.0
 * /vel_traj_controller/velocity_ff/wrist_1_joint: 1.0
 * /vel_traj_controller/velocity_ff/wrist_2_joint: 1.0
 * /vel_traj_controller/velocity_ff/wrist_3_joint: 1.0

NODES
  /
    controller_stopper (controller_stopper/node)
    robot_state_publisher (robot_state_publisher/robot_state_publisher)
    ros_control_controller_spawner (controller_manager/spawner)
    ros_control_stopped_spawner (controller_manager/spawner)
    ur_hardware_interface (ur_robot_driver/ur_robot_driver_node)
  /ur_hardware_interface/
    ur_robot_state_helper (ur_robot_driver/robot_state_helper)

auto-starting new master
process[master]: started with pid [13827]
ROS_MASTER_URI=http://localhost:11311

setting /run_id to f8a7351e-b15f-11ea-8f59-00e04c21794d
process[rosout-1]: started with pid [13838]
started core service [/rosout]
process[robot_state_publisher-2]: started with pid [13845]
process[ur_hardware_interface-3]: started with pid [13846]
process[ros_control_controller_spawner-4]: started with pid [13848]
process[ros_control_stopped_spawner-5]: started with pid [13854]

[ INFO] [1592483634.931846511]: Initializing dashboard client
process[controller_stopper-6]: started with pid [13862]

[ INFO] [1592483634.934160679]: Connected: Universal Robots Dashboard Server

process[ur_hardware_interface/ur_robot_state_helper-7]: started with pid [13863]

[ INFO] [1592483634.941908940]: Waiting for controller manager service to come up on /controller_manager/switch_controller

[ INFO] [1592483634.942994081]: waitForService: Service [/controller_manager/switch_controller] has not been advertised, waiting...

[ INFO] [1592483634.945785598]: Initializing urdriver

[ INFO] [1592483634.946554416]: Checking if calibration data matches connected robot.

[ WARN] [1592483634.947308071]: No realtime capabilities found. Consider using a realtime system for better performance
[INFO] [1592483635.191019]: Controller Spawner: Waiting for service controller_manager/load_controller

[INFO] [1592483635.195211]: Controller Spawner: Waiting for service controller_manager/load_controller

**[ERROR] [1592483635.278879524]: The calibration parameters of the connected robot don't match the ones from the given kinematics config file. Please be aware that this can lead to critical inaccuracies of tcp positions. Use the ur_calibration tool to extract the correct calibration from the robot and pass that into the description. See [https://github.com/UniversalRobots/Universal_Robots_ROS_Driver#extract-calibration-information] for details.**

[ WARN] [1592483635.981106061]: No realtime capabilities found. Consider using a realtime system for better performance
[ INFO] [1592483636.022102332]: Negotiated RTDE protocol version to 2.
[ INFO] [1592483636.022926995]: Setting up RTDE communication with frequency 125.000000

**[FATAL] [1592483637.038561317]: Variable 'speed_slider_mask' is currently controlled by another RTDE client. The input recipe can't be used as configured**

**[ERROR] [1592483637.038594598]: Could not correctly initialize robot. Exiting
================================================================================REQUIRED process [ur_hardware_interface-3] has died!
process has died [pid 13846, exit code 1, cmd /home/robo/catkin_ws/devel/lib/ur_robot_driver/ur_robot_driver_node __name:=ur_hardware_interface __log:=/home/robo/.ros/log/f8a7351e-b15f-11ea-8f59-00e04c21794d/ur_hardware_interface-3.log].
log file: /home/robo/.ros/log/f8a7351e-b15f-11ea-8f59-00e04c21794d/ur_hardware_interface-3*.log
Initiating shutdown!
================================================================================**
[ur_hardware_interface/ur_robot_state_helper-7] killing on exit
[controller_stopper-6] killing on exit
[ros_control_stopped_spawner-5] killing on exit
[ros_control_controller_spawner-4] killing on exit
[ur_hardware_interface-3] killing on exit
[robot_state_publisher-2] killing on exit
[WARN] [1592483637.456283]: Controller Spawner couldn't find the expected controller_manager ROS interface.
[WARN] [1592483637.488369]: Controller Spawner couldn't find the expected controller_manager ROS interface.
[controller_stopper-6] escalating to SIGTERM
[rosout-1] killing on exit
[master] killing on exit
shutting down processing monitor...
... shutting down processing monitor complete
done

I searched in answers.ros.org but wasn't able to find anything.
Could you give me a hint what I should do?
Kind regards

Originally posted by Eike2601 on ROS Answers with karma: 48 on 2020-06-18
Post score: 1

A:

Variable 'speed_slider_mask' is currently controlled by another RTDE client. The input recipe can't be used as configured

I searched in answers.ros.org but wasn't able to find anything.

it hasn't been reported on ROS Answers, but it is a known issue. See UniversalRobots/Universal_Robots_ROS_Driver#204 for instance.
Summarising: with certain versions of system software, there seems to be an incompatibility with the EtherNet/IP fieldbus on the controller when it's enabled.
If you don't need it, disable it and try again.
If that allows you to connect the driver, please post a comment on UniversalRobots/Universal_Robots_ROS_Driver#204 and provide details on your setup so we could include those in our diagnosis.

Originally posted by gvdhoorn with karma: 86574 on 2020-06-18
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by StewartHemm74 on 2020-09-01:
Did you discover a solution?
Comment by gvdhoorn on 2020-09-02:
@StewartHemm74: pelase check the linked issue: UniversalRobots/Universal_Robots_ROS_Driver#204.
It discusses the cause and possible work-arounds.


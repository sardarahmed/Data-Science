Q:

Still waiting on map

I am transitioning from simulation using stage and fake_localization to a real robot.  I am running the exact same map_server each time on the robot and move_base node with sbpl_lattice_planner off the robot (my laptop).  When I run the simulation, move_base receives the map and then everything else (robot footprint, obstacles, local plan, global plan, etc.).  But when I remove the stage_ros node and fake_localization, move_base tells me it is "Still waiting on map...".  I have tried to copy every possible message I can from simulation to the robot: all the tf's, amcl_pose, odom, particlecloud.  There are only two topics I am not sending, clock and base_scan.  But in costmap_common_params.yaml I don't request a base_scan (because I am sending a pointCloud instead), and I don't think that would hold up the map.  Should I implement my own clock?  I set the param use_sim_time to 0, so I didn't think I needed it.

Originally posted by jacobylarson on ROS Answers with karma: 21 on 2012-03-01
Post score: 0

A:

You will need to restart any process which has been started with use_sim_time true.  All nodes latch into waiting for simulated time if use_sim_time is set or if a clock message is received.  They will not transition back to using system time.

Originally posted by tfoote with karma: 58457 on 2012-03-01
This answer was ACCEPTED on the original site
Post score: 1


Q:

Trouble installing Indigo on Debian jessie (collada_parser build failure)

Following the directions at http://wiki.ros.org/indigo/Installation/Debian (yes I realize this is fro Wheezy, but stick with me), everything seems to be OK up until the point at which I try and compile the packages with
sudo ./src/catkin/bin/catkin_make_isolated --install -DCMAKE_BUILD_TYPE=Release --install-space /opt/ros/indigo

Building collada_parser fails:
==> make -j4 -l4 in '/home/laughlin/catkin_ws/build_isolated/collada_parser'
Scanning dependencies of target collada_parser
[ 50%] Building CXX object CMakeFiles/collada_parser.dir/src/collada_parser.cpp.o
Linking CXX shared library /home/laughlin/catkin_ws/devel_isolated/collada_parser/lib/libcollada_parser.so
/usr/bin/ld: cannot find -lcollada-dom2.4-dp
collect2: error: ld returned 1 exit status
CMakeFiles/collada_parser.dir/build.make:125: recipe for target '/home/laughlin/catkin_ws/devel_isolated/collada_parser/lib/libcollada_parser.so' failed
make[2]: *** [/home/laughlin/catkin_ws/devel_isolated/collada_parser/lib/libcollada_parser.so] Error 1
CMakeFiles/Makefile2:122: recipe for target 'CMakeFiles/collada_parser.dir/all' failed
make[1]: *** [CMakeFiles/collada_parser.dir/all] Error 2
Makefile:127: recipe for target 'all' failed
make: *** [all] Error 2
<== Failed to process package 'collada_parser': 
  Command '['/opt/ros/indigo/env.sh', 'make', '-j4', '-l4']' returned non-zero exit status 2

Reproduce this error by running:
==> cd /home/laughlin/catkin_ws/build_isolated/collada_parser && /opt/ros/indigo/env.sh make -j4 -l4

Doing a locate collada-dom2.4-dp I receive the following
/home/laughlin/catkin_ws/external_src/collada-dom-2.4.0/dom/libcollada-dom2.4-dp.so
/home/laughlin/catkin_ws/external_src/collada-dom-2.4.0/dom/libcollada-dom2.4-dp.so.0
/home/laughlin/catkin_ws/external_src/collada-dom-2.4.0/dom/libcollada-dom2.4-dp.so.2.4.0
/usr/local/lib/libcollada-dom2.4-dp.so.2.4.0

Because I'm new to CMake, and building anything of significance from source, I'm not sure where to even start on remedying this. I'm guessing it's looking for the file in /usr/local/lib, but can't find it, but I'm not sure.

Originally posted by Laughlin on ROS Answers with karma: 66 on 2016-02-10
Post score: 3

Original comments
Comment by jbohren on 2016-02-10:
Can you post the output of the following to a gist:
VERBOSE=1 cd /home/laughlin/catkin_ws/build_isolated/collada_parser && /opt/ros/indigo/env.sh make -j4 -l4

Comment by Laughlin on 2016-02-10:
Here: https://gist.github.com/anonymous/b6f4d580d211b4b2b66c
Comment by jbohren on 2016-02-10:
Sorry, try:
export VERBOSE=1 && cd /home/laughlin/catkin_ws/build_isolated/collada_parser && /opt/ros/indigo/env.sh make -j4 -l4

Comment by Laughlin on 2016-02-10:
Updated (thank you @jbohren!): https://gist.github.com/anonymous/4ca0e1bbe2c66479dafc#file-stdout-txt-L18
Comment by Humpelstilzchen on 2016-02-10:
After running checkinstall for collada you need to run ldconfig. Check if /usr/local/lib/libcollada-dom2.4-dp.so turns up in ldconfig -v and try again.
Comment by Laughlin on 2016-02-10:
Success! Thank you @Humpelstilzchen.
Comment by anosseir on 2016-09-26:
Hi all, I am still Stuck with the same error mentioned in this question (collada parser fails).
can you plz help me with detailed solution

( where/how exactly to run sudo ldconfig -v)
when i check the above mention destination, i find (libcollada-dom2.4-dp.so.2.4.0)
please help me

A:

Following advice from @Humpelstilzchen I got collada_parser built, and ROS installed. Removed  collada-com-dev (using dpkg worked fine), re-ran checkinstall, followed by
sudo ldconfig -v
(libcollada-dom2.4... did show up there)
ROS built cleanly and installed into appropriate directory thereafter.
Thanks for the help @jbohren and @Humpelstilzchen

Originally posted by Laughlin with karma: 66 on 2016-02-10
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Pratik Somaiya on 2016-07-04:
Worked for me!! Thanks all of you :)


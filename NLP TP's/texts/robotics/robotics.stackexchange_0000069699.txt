Q:

stage_ros indigo building error

Hi all,
I am trying to install ros on MacOs Yosemite and I have a problem with the stage_ros package. It fails when I try to compile it without any reason.
In the following, you can find the output:
[stage_ros] ==> '/Users/morpheus/ros_catkin_ws/build/stage_ros/build_env.sh /usr/local/bin/cmake /Users/morpheus/ros_catkin_ws/src/stage_ros -DCATKIN_DEVEL_PREFIX=/Users/morpheus/ros_catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/opt/ros/indigo -DCMAKE_BUILD_TYPE=Release -DPYTHON_LIBRARY=/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib -DPYTHON_INCLUDE_DIR=/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/include/python2.7' in '/Users/morpheus/ros_catkin_ws/build/stage_ros'
-- The C compiler identification is AppleClang 6.1.0.6020053
-- The CXX compiler identification is AppleClang 6.1.0.6020053
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc
-- Check for working C compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/cc -- works
-- Detecting C compiler ABI info
-- Detecting C compiler ABI info - done
-- Detecting C compile features
-- Detecting C compile features - done
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++
-- Check for working CXX compiler: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Using CATKIN_DEVEL_PREFIX: /Users/morpheus/ros_catkin_ws/devel
-- Using CMAKE_PREFIX_PATH: /opt/ros/indigo;/Users/morpheus/ros_catkin_ws/install_isolated
-- This workspace overlays: /opt/ros/indigo
-- Found PythonInterp: /usr/local/bin/python (found version "2.7.10")
-- Using PYTHON_EXECUTABLE: /usr/local/bin/python
-- Using default Python package layout
-- Found PY_em: /usr/local/lib/python2.7/site-packages/em.pyc
-- Using empy: /usr/local/lib/python2.7/site-packages/em.pyc
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /Users/morpheus/ros_catkin_ws/build/stage_ros/test_results
-- Found gtest: gtests will be built
-- Using Python nosetests: /usr/local/bin/nosetests-2.7
-- catkin 0.6.14
-- Using these message generators: gencpp;genlisp;genpy
-- Boost version: 1.58.0
-- Found the following Boost libraries:
--   system
--   thread
-- Configuring done
-- Generating done
CMake Warning:
  Manually-specified variables were not used by the project:

    PYTHON_INCLUDE_DIR
    PYTHON_LIBRARY

-- Build files have been written to: /Users/morpheus/ros_catkin_ws/build/stage_ros
[stage_ros] <== '/Users/morpheus/ros_catkin_ws/build/stage_ros/build_env.sh /usr/local/bin/cmake /Users/morpheus/ros_catkin_ws/src/stage_ros -DCATKIN_DEVEL_PREFIX=/Users/morpheus/ros_catkin_ws/devel -DCMAKE_INSTALL_PREFIX=/opt/ros/indigo -DCMAKE_BUILD_TYPE=Release -DPYTHON_LIBRARY=/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/lib/libpython2.7.dylib -DPYTHON_INCLUDE_DIR=/usr/local/Cellar/python/2.7.10_2/Frameworks/Python.framework/Versions/2.7/include/python2.7' finished with return code '0'
[stage_ros] ==> '/Users/morpheus/ros_catkin_ws/build/stage_ros/build_env.sh /usr/bin/make --jobserver-fds=3,4 -j' in '/Users/morpheus/ros_catkin_ws/build/stage_ros'
Scanning dependencies of target rosgraph_msgs_generate_messages_py
Scanning dependencies of target geometry_msgs_generate_messages_cpp
Scanning dependencies of target sensor_msgs_generate_messages_cpp
Scanning dependencies of target std_srvs_generate_messages_py
Scanning dependencies of target std_srvs_generate_messages_lisp
Scanning dependencies of target std_srvs_generate_messages_cpp
Scanning dependencies of target geometry_msgs_generate_messages_lisp
Scanning dependencies of target geometry_msgs_generate_messages_py
[  0%] Built target std_srvs_generate_messages_py
[  0%] Built target geometry_msgs_generate_messages_cpp
[  0%] Built target std_srvs_generate_messages_cpp
[  0%] Built target geometry_msgs_generate_messages_lisp
[  0%] Built target sensor_msgs_generate_messages_cpp
[  0%] Built target std_srvs_generate_messages_lisp
[  0%] Built target rosgraph_msgs_generate_messages_py
[  0%] Built target geometry_msgs_generate_messages_py
Scanning dependencies of target sensor_msgs_generate_messages_py
Scanning dependencies of target tf_generate_messages_lisp
Scanning dependencies of target sensor_msgs_generate_messages_lisp
Scanning dependencies of target nav_msgs_generate_messages_cpp
Scanning dependencies of target tf_generate_messages_cpp
Scanning dependencies of target nav_msgs_generate_messages_lisp
Scanning dependencies of target std_msgs_generate_messages_py
Scanning dependencies of target tf_generate_messages_py
[  0%] Built target tf_generate_messages_lisp
[  0%] Built target nav_msgs_generate_messages_cpp
[  0%] Built target sensor_msgs_generate_messages_py
[  0%] Built target sensor_msgs_generate_messages_lisp
[  0%] Built target std_msgs_generate_messages_py
[  0%] Built target tf_generate_messages_cpp
[  0%] Built target nav_msgs_generate_messages_lisp
[  0%] Built target tf_generate_messages_py
Scanning dependencies of target std_msgs_generate_messages_cpp
Scanning dependencies of target std_msgs_generate_messages_lisp
Scanning dependencies of target nav_msgs_generate_messages_py
Scanning dependencies of target actionlib_msgs_generate_messages_cpp
Scanning dependencies of target actionlib_msgs_generate_messages_lisp
Scanning dependencies of target tf2_msgs_generate_messages_cpp
Scanning dependencies of target actionlib_msgs_generate_messages_py
Scanning dependencies of target tf2_msgs_generate_messages_lisp
[  0%] Built target std_msgs_generate_messages_cpp
[  0%] Built target std_msgs_generate_messages_lisp
[  0%] Built target actionlib_msgs_generate_messages_cpp
[  0%] Built target nav_msgs_generate_messages_py
[  0%] Built target actionlib_msgs_generate_messages_lisp
[  0%] Built target tf2_msgs_generate_messages_lisp
[  0%] Built target tf2_msgs_generate_messages_cpp
[  0%] Built target actionlib_msgs_generate_messages_py
Scanning dependencies of target tf2_msgs_generate_messages_py
Scanning dependencies of target actionlib_generate_messages_lisp
Scanning dependencies of target actionlib_generate_messages_py
Scanning dependencies of target roscpp_generate_messages_cpp
Scanning dependencies of target rosgraph_msgs_generate_messages_cpp
Scanning dependencies of target roscpp_generate_messages_lisp
Scanning dependencies of target roscpp_generate_messages_py
Scanning dependencies of target actionlib_generate_messages_cpp
[  0%] Built target tf2_msgs_generate_messages_py
[  0%] Built target actionlib_generate_messages_py
[  0%] Built target actionlib_generate_messages_lisp
[  0%] Built target roscpp_generate_messages_cpp
[  0%] Built target roscpp_generate_messages_lisp
[  0%] Built target roscpp_generate_messages_py
[  0%] Built target actionlib_generate_messages_cpp
[  0%] Built target rosgraph_msgs_generate_messages_cpp
Scanning dependencies of target rosgraph_msgs_generate_messages_lisp
[  0%] Built target rosgraph_msgs_generate_messages_lisp
Scanning dependencies of target stageros
make[2]: *** No rule to make target `/opt/ros/indigo/lib/libstage.so', needed by `/Users/morpheus/ros_catkin_ws/devel/lib/stage_ros/stageros'.  Stop.
make[2]: *** Waiting for unfinished jobs....
[ 50%] Building CXX object CMakeFiles/stageros.dir/src/stageros.cpp.o
make[1]: *** [CMakeFiles/stageros.dir/all] Error 2
make: *** [all] Error 2
[stage_ros] <== '/Users/morpheus/ros_catkin_ws/build/stage_ros/build_env.sh /usr/bin/make --jobserver-fds=3,4 -j' failed with return code '2'

Can you help me?

Originally posted by Andrea on ROS Answers with karma: 21 on 2015-09-19
Post score: 0

Original comments
Comment by allenh1 on 2015-09-19:
Did you install stage first?

A:

This is a recently introduced bug in our version of Stage, see:
https://github.com/ros-simulation/stage_ros/issues/14#issuecomment-142087624
I've already got a patch that I've already tested on OS X and I'm testing it now on Linux before releasing the fix.
You should be able to fix the problem by doing this:
rm -rf /Users/morpheus/ros_catkin_ws/src/stage
rm -rf /Users/morpheus/ros_catkin_ws/build/stage
git clone https://github.com/ros-gbp/stage-release.git -b release/indigo/stage /Users/morpheus/ros_catkin_ws/src/stage
cd /Users/morpheus/ros_catkin_ws
# Rerun the command you used to build your workspace ...

Originally posted by William with karma: 17335 on 2015-09-21
This answer was ACCEPTED on the original site
Post score: 2


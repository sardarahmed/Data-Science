Q:

Setting environment variable 'TURTLEBOT_STAGE_MAP_FILE'

I'm trying to get the turtlebot stage simulator running from these instructions:
http://wiki.ros.org/turtlebot_stage/Tutorials/indigo/Bring%20up%20TurtleBot%20in%20stage
But, putting the first line in the terminal:
roslaunch turtlebot_stage turtlebot_in_stage.launch

gives this output:
... logging to /home/yaseen-14/.ros/log/0b120c28-319b-11e5-ac3b-685d4316eccf/roslaunch-yaseen14-HP-Pavilion-m6-Notebook-PC-11910.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

Invalid <arg> tag: environment variable 'TURTLEBOT_STAGE_MAP_FILE' is not set. 

Arg xml is <arg default=" $(env TURTLEBOT_STAGE_MAP_FILE)" name="map_file"/>
The traceback for the exception was written to the log file

Not sure why this is happening but would appreciate if anyone could help me out. Cheers!

Originally posted by ymn93 on ROS Answers with karma: 41 on 2015-07-23
Post score: 4

A:

I had this problem too, the next tutorial teaching you how to customise turtlebot_stage gives you some clues but when I tried to set the world and map files via the command line it still failed. Setting the environment variables in the terminal did work though.
(note: this may not be the best method, but it works and won't hurt anything)
You will find the required files in the turtlebot_stage directory, copy the map files to your home directory (you need to copy them to your home directory for permission reasons).
Note that your path may differ from mine e.g. I'm using ROS Indigo.
Copy this directory /opt/ros/indigo/share/turtlebot_stage/maps/ to something like ~/stageTurorial/maps/
Then set some environment variables from your terminal
export TURTLEBOT_STAGE_WORLD_FILE="~/stageTutorial/maps/stage/maze.world"
export TURTLEBOT_STAGE_MAP_FILE="~/stageTutorial/maps/maze.yaml"

Now launching turtlebot_stage should work
roslaunch turtlebot_stage turtlebot_in_stage.launch

Originally posted by Joelf with karma: 46 on 2015-08-31
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by jacksonkr_ on 2016-02-13:
this works for indigo on osx
Comment by necip on 2020-02-22:
for kinetic too, thanks a lot.
export TURTLEBOT_STAGE_WORLD_FILE="/opt/ros/kinetic/share/turtlebot_stage/maps/stage/maze.world"
export TURTLEBOT_STAGE_MAP_FILE="/opt/ros/kinetic/share/turtlebot_stage/maps/maze.yaml"
roslaunch turtlebot_stage turtlebot_in_stage.launch
worked for me.


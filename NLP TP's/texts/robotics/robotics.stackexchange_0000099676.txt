Q:

Problems installing UR driver on ROS kinetic

Hello! I'm having trouble installing the ur_robot_driver. I've followed all the steps for installing ROS kinetic and it installed alright and now that I am trying to install the drivers for UR robots an error appears whenever I try running the "rosdep install --from-paths src --ignore-src --rosdistro kinetic -y":
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
ur_kinematics: Cannot locate rosdep definition for [moveit_ros_planning]
ur10e_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
ur5e_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
ur10_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
ur_calibration: Cannot locate rosdep definition for [ur_client_library]
ur5_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
controller_stopper: Cannot locate rosdep definition for [controller_manager_msgs]
ur_gazebo: Cannot locate rosdep definition for [position_controllers] 
ur_robot_driver: Cannot locate rosdep definition for [ur_msgs]
ur_description: Cannot locate rosdep definition for [joint_state_publisher_gui]
ur3_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
ur16e_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
ur3e_moveit_config: Cannot locate rosdep definition for [moveit_simple_controller_manager]
ur_controllers: Cannot locate rosdep definition for [realtime_tools]

Does anyone know why I keep getting this error?

Originally posted by horvath.daniel on ROS Answers with karma: 15 on 2021-07-19
Post score: 0

A:

Kinetic ist EOL (End of Life). That means you have to run the following command before rosdep install:
rosdep update --include-eol-distros

Originally posted by Martin Günther with karma: 11816 on 2021-07-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by horvath.daniel on 2021-07-21:
Thanks! I tried that and the rosdep install command worked afterwards, but when I tried running the catkin_make command I got this:
Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/build.make:86: recipe for target 'Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/src/hardware_interface.cpp.o' failed
make[2]: *** [Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/src/hardware_interface.cpp.o] Error 1
CMakeFiles/Makefile2:8600: recipe for target 'Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/all' failed
make[1]: *** [Universal_Robots_ROS_Driver/ur_robot_driver/CMakeFiles/ur_robot_driver_plugin.dir/all] Error 2
Makefile:138: recipe for target 'all' failed
make: *** [all] Error 2
Invoking "make -j8 -l8" failed

The message was longer but I can't paste it in here entirely.
Comment by Martin Günther on 2021-07-21:
Please post the full error message somewhere, e.g. pastebin.com or github gist.
Comment by horvath.daniel on 2021-07-21:
Ok. Here it is: https://pastebin.com/i82L0kdr
Comment by Mike Scheutzow on 2021-07-21:
Here are the important lines:
In file included from /home/danielh/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/src/urcl_log_handler.cpp:32:0:
/home/danielh/catkin_ws/src/Universal_Robots_ROS_Driver/ur_robot_driver/include/ur_robot_driver/urcl_log_handler.h:43:31: error: ‘urcl’ has not been declared
 class UrclLogHandler : public urcl::LogHandler

Looks like you are trying to use a ros2 driver on ros1. That's not going to ever work.
Comment by fexner on 2021-07-22:
Nope, this looks like the ros1 driver. Note, that kinetic is not supported anymore by the driver, so it might not be possible to get it running on ROS kinetic.
Nevertheless, you will need the ur_client_library (urcl) for this driver to work. As it is not released for kinetic in recent versions, you might want to consider building that from source, as well, as described here.
Comment by horvath.daniel on 2021-07-22:
I tried building it from source and it gave me another error: https://pastebin.com/racxf8Kg
I'll try installing it on another version of ros. Is melodic supported by the driver?
Comment by Mike Scheutzow on 2021-07-22:
@fexner thank you for correction. I should not have guessed.


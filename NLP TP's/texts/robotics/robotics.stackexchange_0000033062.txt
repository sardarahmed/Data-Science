Q:

Why does rosinstall say my git repo is "not the current branch or commit"?

I cannot update git repositories using rosinstall. I do the first installation by running:
rosinstall ~/ros-test mytest.rosinstall

This completes without error. When I try to update by running:
rosinstall ~/ros-test

... I get:
The version  of repo http://kos.informatik.uni-osnabrueck.de/uos-ros-pkg.git 
requested to be checked out into /tmp/rosinstall-test/uos-ros-pkg is not the 
current branch or commit and cannot be blindly updated in place. 
(d)elete, (a)bort, (b)ackup, (s)kip: 

This is the rosinstall file I use:
- other:
    local-name: /opt/ros/diamondback/ros
- other:
    local-name: /opt/ros/diamondback/stacks
- git:
    uri: http://kos.informatik.uni-osnabrueck.de/uos-ros-pkg.git
    local-name: uos-ros-pkg

This only happens with git repositories, svn works just fine. We don't use any black magic such as submodules. I'm using rosinstall version 0.5.16. The repo is public, so you can reproduce the error. Any ideas? Should I file a ticket?

Originally posted by Martin Günther on ROS Answers with karma: 11816 on 2011-07-17
Post score: 2

A:

This is actually expected behavior. When using distributed version control systems, you need to specify a branch name, tag name or some other id to make rosinstall behave. Just have a look at the rosinstall wiki page here.
In your specific case, use:
- git:
    uri: http://kos.informatik.uni-osnabrueck.de/uos-ros-pkg.git
    local-name: uos-ros-pkg
    version: master

Originally posted by Lorenz with karma: 22731 on 2011-07-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Martin Günther on 2011-07-18:
Thanks, Lorenz! That did it.


Q:

How to fix "Invoking "make -j2 -l2"failed" creating rosjava packages (catkin style) in ros indigo?

Hello,
i'm trying to work with rosjava in ros indigo.
I'm following some tutorials to learn how rosjava works, specially with Eclipse like in "Robot Operating System - The Complete Reference - Volume 1" book (page 478).
When i tried to create a rosjava package like in the book i had some error. Than i tried to follow this tutorial: http://wiki.ros.org/rosjava_build_tools/Tutorials/indigo/Creating%20Rosjava%20Packages
and i had exactly this message in the terminal when execute "catkin_make" after created a ROSJAVA project (catkin_create_rosjava_project rosjava_gradle_subproject_a  step)
Base path: /home/robo/ws_rosjava
Source space: /home/robo/ws_rosjava/src
Build space: /home/robo/ws_rosjava/build
Devel space: /home/robo/ws_rosjava/devel
Install space: /home/robo/ws_rosjava/install
####
#### Running command: "make cmake_check_build_system" in "/home/robo/ws_rosjava/build"
####
-- Using CATKIN_DEVEL_PREFIX: /home/robo/ws_rosjava/devel
-- Using CMAKE_PREFIX_PATH: /home/robo/ws_rosjava/devel;/home/robo/rosjava/devel;/opt/ros/indigo
-- This workspace overlays: /home/robo/ws_rosjava/devel;/home/robo/rosjava/devel;/opt/ros/indigo
-- Using PYTHON_EXECUTABLE: /usr/bin/python
-- Using Debian Python package layout
-- Using empy: /usr/bin/empy
-- Using CATKIN_ENABLE_TESTING: ON
-- Call enable_testing()
-- Using CATKIN_TEST_RESULTS_DIR: /home/robo/ws_rosjava/build/test_results
-- Found gtest sources under '/usr/src/gtest': gtests will be built
-- Using Python nosetests: /usr/bin/nosetests-2.7
-- catkin 0.6.19
-- BUILD_SHARED_LIBS is on
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- ~~  traversing 2 packages in topological order:
-- ~~  - rosjava_catkin_package_a
-- ~~  - rosjava_catkin_package_b
-- ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
-- +++ processing catkin package: 'rosjava_catkin_package_a'
-- ==> add_subdirectory(rosjava_catkin_package_a)
-- +++ processing catkin package: 'rosjava_catkin_package_b'
-- ==> add_subdirectory(rosjava_catkin_package_b)
-- Configuring done
-- Generating done
-- Build files have been written to: /home/robo/ws_rosjava/build
####
#### Running command: "make -j2 -l2" in "/home/robo/ws_rosjava/build"
####
Scanning dependencies of target gradle-rosjava_catkin_package_a
[100%] Gradling tasks for rosjava_catkin_package_a
Downloading https://services.gradle.org/distributions/gradle-2.2.1-bin.zip

Exception in thread "main" javax.net.ssl.SSLException: java.security.ProviderException: java.security.InvalidKeyException: EC parameters error
    at sun.security.ssl.Alerts.getSSLException(Alerts.java:208)
    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1914)
    at sun.security.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1872)
    at sun.security.ssl.SSLSocketImpl.handleException(SSLSocketImpl.java:1855)
    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1376)
    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1353)
    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)
    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)
    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1348)
    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)
    at org.gradle.wrapper.Download.downloadInternal(Download.java:56)
    at org.gradle.wrapper.Download.download(Download.java:42)
    at org.gradle.wrapper.Install$1.call(Install.java:57)
    at org.gradle.wrapper.Install$1.call(Install.java:44)
    at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)
    at org.gradle.wrapper.Install.createDist(Install.java:44)
    at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:126)
    at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:56)
Caused by: java.security.ProviderException: java.security.InvalidKeyException: EC parameters error
    at sun.security.pkcs11.P11Key$P11ECPublicKey.getEncodedInternal(P11Key.java:1024)
    at sun.security.pkcs11.P11Key.equals(P11Key.java:158)
    at java.util.ArrayList.indexOf(ArrayList.java:298)
    at java.util.ArrayList.contains(ArrayList.java:281)
    at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:239)
    at sun.security.validator.Validator.validate(Validator.java:260)
    at sun.security.ssl.X509TrustManagerImpl.validate(X509TrustManagerImpl.java:326)
    at sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)
    at sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:126)
    at sun.security.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:1459)
    at sun.security.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:213)
    at sun.security.ssl.Handshaker.processLoop(Handshaker.java:961)
    at sun.security.ssl.Handshaker.process_record(Handshaker.java:897)
    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1033)
    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1342)
    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1369)
    ... 13 more
Caused by: java.security.InvalidKeyException: EC parameters error
    at sun.security.ec.ECParameters.getAlgorithmParameters(ECParameters.java:284)
    at sun.security.ec.ECPublicKeyImpl.<init>(ECPublicKeyImpl.java:59)
    at sun.security.pkcs11.P11Key$P11ECPublicKey.getEncodedInternal(P11Key.java:1021)
    ... 28 more
Caused by: java.security.NoSuchProviderException: no such provider: SunEC
    at sun.security.jca.GetInstance.getService(GetInstance.java:83)
    at sun.security.jca.GetInstance.getInstance(GetInstance.java:206)
    at java.security.Security.getImpl(Security.java:697)
    at java.security.AlgorithmParameters.getInstance(AlgorithmParameters.java:199)
    at sun.security.ec.ECParameters.getAlgorithmParameters(ECParameters.java:279)
    ... 30 more
make[2]: ** [rosjava_catkin_package_a/CMakeFiles/gradle-rosjava_catkin_package_a] Erro 1
make[1]: ** [rosjava_catkin_package_a/CMakeFiles/gradle-rosjava_catkin_package_a.dir/all] Erro 2
make: ** [all] Erro 2
Invoking "make -j2 -l2" failed

This is the same error when i try to create the package like the book's tutorial.
Can someone help me to solve that error???

Originally posted by eduardo_lasca on ROS Answers with karma: 11 on 2017-06-05
Post score: 1

A:

Install oracle Java 8, it worked for me then.

Originally posted by rhnbmpl with karma: 38 on 2017-06-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by hulkbv on 2017-06-28:
@rhnbmpl hey, I am wordering which version of Ubuntu are you using? I got the same error
Comment by rhnbmpl on 2017-06-28:
I'm using Ubuntu 14.04.1
Comment by hulkbv on 2017-06-28:
@rhnbmpl Thanks a lot for quick reply. But is there any conflict between Ubuntu 14.04 and jdk 8 since then. Do you remember the way to install it?
I install like this link but it still shows the same error.
[https://gist.github.com/ardyantohermawan/a716c93937830b7631fc3250d21d1bce]
Comment by rhnbmpl on 2017-06-28:
Install oracle-jdk8 not openjdk8. Here is the link to install it. There has been no conflict till now.
Comment by hulkbv on 2017-06-28:
@rhnbmpl installing  oracle-jdk8 definitely solves the above error. But I still struggle to build the android package. Do you have any tips how to build it? Here is the link I've followed
Comment by rhnbmpl on 2017-06-28:
I recommend first installing the ros environment. After making android core and android interactions, you can open those projects in android studio and make your project on top of those.
Comment by hulkbv on 2017-06-29:
thanks a lot, @rhnbmpl
Comment by hulkbv on 2017-07-01:
Hey @rhnbmpl, I have another error when add a new project into the android_core. It shows:
~/android_core/src/android_core/docs/build.gradle' line: 24

Could not find property 'compile' on configuration container.
Have you got this error before? Do you know how to fix it?
Cheers,
Comment by rhnbmpl on 2017-07-03:
@hulkbv Sorry, I haven't stared the android part yet. Try consulting android forums for the solution.


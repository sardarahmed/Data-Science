Q:

Pass parameters to xacro in launch file

Does anybody know how to pass parameters to a xacro file from a launch file? For example, if I want to run a xacro file five times in my launch file, each time with different parameter, is there any way of achieving that? Your help would be much appreciated.
Tom

Originally posted by TomWu on ROS Answers with karma: 143 on 2012-07-16
Post score: 14

A:

I had the same problem and solved it using the script but we found another way now. We use the following code to circumvent using tf_prefix because support has been dropped. I am not sure if this was added in hydro but we just tested the following code and it works. Please test with groovy and reply if it worked.
<param name="robot_description" command="$(find xacro)/xacro.py '$(find my_robot_description)/urdf/my_robot.urdf.xacro' prefix:=$(arg ns)" />

in the xacro file you can simply get the passed argument using $(arg prefix)

Originally posted by kalectro with karma: 1554 on 2013-10-18
This answer was ACCEPTED on the original site
Post score: 21

Original comments
Comment by Murilo F. M. on 2014-02-06:
Quick question: would you know the syntax to define a "default" value for the prefix argument in xacro? I can't run xacro.py to convert the xacro file to urdf because the argument is not set. Thanks for the tip anyway, it helped a lot!
Comment by Murilo F. M. on 2014-02-06:
Oh, I found a workaround, I can pass the argument on the command line, such as:
rosrun xacro xacro.py file.xacro > file.urdf prefix:=test
Comment by ChuiV on 2018-02-22:
Just to help anybody else who may be having an issue here. You have to define your variable as a xacro:arg instead of a xacro:property. Someone at https://github.com/ros/xacro/issues/176 gave an example that really helped.
Comment by Subodh Malgonde on 2018-08-14:
This ^ comment by @ChuiV is important for @kalectro 's answer to work.


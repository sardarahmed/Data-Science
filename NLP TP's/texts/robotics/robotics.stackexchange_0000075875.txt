Q:

Book: Mastering ROS for Robotics Programming, 2nd Edn; Chapter 2 - Working with 3D Robot Modeling in ROS

Hi,
I am facing a problem in running tutorials given in the book: Mastering ROS in Robotic Programming, Chapter 2.
I am using Ubuntu 16.04 with ROS Kinetic. In particular, when I run my launch file as
khan@khan:~/catkin_ws/src/mastering_ros_robot_description_pkg/launch$ roslaunch mastering_ros_robot_description_pkg view_arm.launch

The following error occurs.
unknown macro name: xacro:base 
XacroException(u'unknown macro name: xacro:base',)

I have checked the file again and again and there is nothing I changed. It is the tutorial files. I don't know why it is not running. Please, suggest any help. Thank you so much.

Originally posted by Abdul Mannan on ROS Answers with karma: 167 on 2016-08-19
Post score: 0

Original comments
Comment by gvdhoorn on 2016-08-20:
If this is the code you are referring to, then the readme explicitly states that:

The code is comaptible with ROS Jade and ROS Indigo

so it could well be that something doesn't work in Kinetic.
Comment by Abdul Mannan on 2016-08-30:
I have tried to run this file for ROS Indigo as well. I got the same error.
Comment by gvdhoorn on 2016-08-31:
I would suggest reporting this issue on the issue tracker of qboticslabs/mastering_ros.

A:

Hi, Dr Abdul Mannan
Maybe I know your problem. According to your terminal's warning informations, I think you use the distribution of ROS is Jade or Kinetic, and the problem is just on the distribution of ROS. Firstly, I am using the Indigo, and I use the following command no any problem.
$> roslaunch mastering_ros_robot_description_pkg view_arm.launch

So according to your error information, I find the following lines in the seven_dof_arm.xacro:

As mentioned by error, I also don't find the definition of macro base. For example, if you are coding by using C++, you need call a function, but the function is not defined and implemented yet, the compiler must report a error. So solution is commenting out these lines:

As for why indigo can run, I think  the checked mechanism of indigo's xacro is less than Jade or Kinetic.
In addition to the error, there are warning informations on the terminal. If you visit Xacro wiki, you can find the xacro of Jade or Kinetic has more enhanced functionality and more limits than that of Indigo. So for the cause of warning, you can get by running xacro with option --check-order on the terminal just like
 $> roscd mastering_ros_robot_description_pkg
 $> rosrun xacro xacro.py --check-order urdf/seven_dof_arm.xacro

Last, according to the warning informations, I think the solution is here: Deprecated Syntax

Originally posted by myyerol with karma: 36 on 2016-09-08
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Abdul Mannan on 2016-09-08:
Thank you so much myyerol for you response. That was so long waited problem. You have no idea how much you helped me. I owe you. I am coming to Tsinghua University for post doctorate. I shall be happy to catch you up there. Once again thank you so much.


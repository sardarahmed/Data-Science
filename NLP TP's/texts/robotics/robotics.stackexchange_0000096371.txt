Q:

How to check the moveit is ready for planning through API

Hello,
Before I run the manipulator motion node, I need to wait for the moveit to load completely, the load completed sign is shown in the output of the terminal:
********************************************************
* MoveGroup using: 
*     - ApplyPlanningSceneService
*     - ClearOctomapService
*     - CartesianPathService
*     - ExecuteTrajectoryAction
*     - GetPlanningSceneService
*     - KinematicsService
*     - MoveAction
*     - PickPlaceAction
*     - MotionPlanService
*     - QueryPlannersService
*     - StateValidationService
********************************************************

ros.moveit_ros_move_group: MoveGroup context using planning plugin ompl_interface/OMPLPlanner
ros.moveit_ros_move_group: MoveGroup context initialization complete

You can start planning now!

Is there an API through which I can check whether the moveit load completely?  Thanks!

Originally posted by TouchDeeper on ROS Answers with karma: 57 on 2020-06-26
Post score: 0

Original comments
Comment by gvdhoorn on 2020-06-26:
Please do not post screenshots of terminals. It's all text, so copy-paste the text from the terminal into your question.
If/when you fix this, we can re-open your question. Do not post a new one, edit your current question to replace the screenshot. Use the edit button/link for this.
Comment by TouchDeeper on 2020-06-26:
Thank you, I have modified my question description.

A:

Why do you feel the need to wait for move_group to initialize everything?
Usually you should only need to wait for the respective ROS interface you want to use to come up.
E.g., MoveGroupInterface proceeds that way:
https://github.com/ros-planning/moveit/blob/b8b57846650f7662a44106e0b7728e0c9ca36888/moveit_ros/planning_interface/move_group_interface/src/move_group_interface.cpp#L151
If you really want to wait for the You can start planning now! message, you will have to either

modify move_group around here to publish to a latched topic, e.g., move_group/initialized or
write a new MoveGroupCapability that polls MoveGroupContext::status() and publishes said topic if it returns true.

Originally posted by v4hn with karma: 2950 on 2020-06-27
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by TouchDeeper on 2020-06-27:
@v4hn Thanks for your answer. You are right, MoveGroupInterface will wait for the interface to come up. I don't need to program myself to realize the wait function.


Q:

Z Offset of the grid in gazebo

Hi all,
I just noticed that there is an z offset of the grid in gazebo. When a model is inserted this is clearly visible. 
When I get a laser pointcloud using a tilting laser there is a similar offset visible and the robot appears to be floating; I guess there is a connection between this and the above.
 This is from rviz in ROS.
Is this a bug?
+++++
Edit
+++++
world file
    <!-- ground plane -->
<include>
    <uri>model://ground_plane</uri>
</include>

    <!-- sun -->
<include>
    <uri>model://sun</uri>
</include>

    <!-- rover -->
<include>
    <uri>model://my_rover</uri>
</include>      

Originally posted by peshala on Gazebo Answers with karma: 197 on 2013-05-20
Post score: 1

Original comments
Comment by peshala on 2013-05-20:
I am using gazebo 1.7.1
Comment by nkoenig on 2013-05-20:
Can you verify that your rover is correct? Are all the dimensions specified correctly? You can try turning on collision visualization in the gazebo GUI (under the view menu). The orange shapes should match the textured shapes.

A:

The grid offset in gazebo is done on purpose. It's a hack to make sure the grid doesn't z-fight with the ground plane.
The grid in gazebo is not tied to the laser. What type of laser are you using (CPU or GPU)? It would also help to see your gazebo world file.

Originally posted by nkoenig with karma: 7676 on 2013-05-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by peshala on 2013-05-20:
Thank you for your answer. I am using CPU laser (ros laser plugin). Also, can I know this grid offset value so that I can check whether there is any connection between laser pointcloud plane and the robot wheel plane?
Comment by nkoenig on 2013-05-20:
The grid you see in gazebo is very separate from the grid in rviz. You can even disable the grid in gazebo using the following SDF within your world: false. The grid height offset is 0.015 meters.
Comment by peshala on 2013-05-21:
the rover moves on the grid in rviz but the pointcloud is below that. I will let you whether it matches with 0.015
Comment by peshala on 2013-06-04:
@nkoenig the reason for the pointcloud offset was due to an error of the laser plugin. I was using the laser plugin from simulator_gazebo (gazebo_ros_laser.cpp) and it was erroneous; gazebo_ros_laser.cpp from drcsim solved the problem.
Comment by anonymous on 2014-11-13:
Hi, I am also moving polaris on the grid of gazebo but pointcloud is below the grid of rviz. I am just using model plugin of gazebo .How do i solve it ? Any help would be appreciated. Thanks!


Q:

Problem with SDF and bottom camera

Hi
I use gazebo 2.2 with ROS package tum_simulator. This is a package with simulator of quadrotor AR Parrot Drone. Unfortunately I noticed that image from bottom camera don't display  ground but sky. (strange)
http://snag.gy/L5Riw.jpg
left image is a view from bottom camera :(
and right image view from front camera.
Black shape near window of the house is quadrotors' model.
I notice that when I run this node I got some errors, I hope that this is a reason of problems with camera.
Error [SDF.cc:788] Missing element description for [offset]
Error [SDF.cc:788] Missing element description for [drift]
Error [SDF.cc:788] Missing element description for [driftFrequency]
[ INFO] [1415319050.065958118, 659.736000000]: Camera Plugin (ns = /)  <tf_prefix_>, set to ""
[ INFO] [1415319050.244706409, 659.736000000]: Camera Plugin (ns = /)  <tf_prefix_>, set to ""
Error [SDF.cc:788] Missing element description for [accelOffset]
Error [SDF.cc:788] Missing element description for [accelDriftFrequency]
Error [SDF.cc:788] Missing element description for [rateOffset]
Error [SDF.cc:788] Missing element description for [rateDriftFrequency]
Error [SDF.cc:788] Missing element description for [headingOffset]
Error [SDF.cc:788] Missing element description for [headingDriftFrequency]
Error [SDF.cc:788] Missing element description for [driftFrequency]
Error [SDF.cc:788] Missing element description for [driftFrequency]
Error [SDF.cc:788] Missing element description for [offset]
Error [SDF.cc:788] Missing element description for [driftFrequency]
Error [SDF.cc:788] Missing element description for [velocityOffset]
Error [SDF.cc:788] Missing element description for [velocityDriftFrequency]
[ INFO] [1415319050.590175130, 659.736000000]: Using imu information on topic ardrone/imu as source of orientation and angular velocity.

According to this page I should update sdformat.
Now I'am using gazebo 2.2 and I have to stay with this version.
How to update this sdformat and don't brake Gazebo?
Does this solution works for me too?
I don't remember how I have installed Gazebo, but when I use locate Gazebo, I got:
/opt/ros/indigo/include/gazebo_plugins/GazeboRosCameraConfig.h
/opt/ros/indigo/include/gazebo_plugins/GazeboRosOpenniKinectConfig.h
/opt/ros/indigo/lib/python2.7/dist-packages/gazebo_plugins/cfg/GazeboRosCameraConfig.py
/opt/ros/indigo/lib/python2.7/dist-packages/gazebo_plugins/cfg/GazeboRosCameraConfig.pyc
/opt/ros/indigo/lib/python2.7/dist-packages/gazebo_plugins/cfg/GazeboRosOpenniKinectConfig.py
/opt/ros/indigo/lib/python2.7/dist-packages/gazebo_plugins/cfg/GazeboRosOpenniKinectConfig.pyc
/usr/share/gazebo-2.2/media/fonts/Gazebo.fontdef
/usr/share/gazebo-2.2/media/gui/imagesets/Gazebo.imageset
/usr/share/gazebo-2.2/media/gui/looknfeel/Gazebo.looknfeel
/usr/share/gazebo-2.2/media/gui/schemes/GazeboSkin.scheme

Please help me.

Originally posted by green96 on Gazebo Answers with karma: 13 on 2014-11-06
Post score: 0

Original comments
Comment by Jose Luis Rivero on 2014-11-11:
Which version of sdformat are you using?
Comment by green96 on 2014-11-11:
Problem with camera was solved, it was a bug in ROS package.
But still I have this errors SDF. Do this errors on start have any influence?
I am using version libsdformat-dev 1.4.11-1ubuntu0.1
I didn't try to install new version from source, because this command:
sudo apt-get remove 'libsdformat*' 'sdformat*'
will remove ROS
Comment by Jose Luis Rivero on 2014-11-13:
Ok, let's forgot about updating sdformat. Could you update your answer to include the errors related to sdformat and

A:

Let's review the whole situation:

If someone is using ROS Indigo, the gazebo expected version to work with all the ROS Indigo packages is gazebo-2.x. gazebo-2.x versions are using sdformat-1.x versions. From here we can infer that ROS Indigo packages are supposed to use sdformat-1.x.

The page that you are linking that is supposed to solve your problem is speaking about "spherical coordinates support" which I think that it is not related to your question, right? So you probably don't need to do  anything related to sdformat-2.x.

Probably the problem in in the sdformat code of the ROS package or, not so common, could be a bug in sdformat package not ported to the sdformat-1.x.

Originally posted by Jose Luis Rivero with karma: 1485 on 2014-11-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by green96 on 2014-11-16:
Ok, so I should ignore this errors.
Thanks for your answer.
Comment by Jose Luis Rivero on 2014-11-19:
Not really. You should not be getting those errors. The point is that you don't need to update sdformat to fix the errors you reported, they come from elsewhere. You can keep using gazebo-2.2 + sdformat1 and investigate where those errors come from.
Comment by green96 on 2014-11-20:
Thank you.
Comment by Pedro_85 on 2015-03-12:
Hi, Has there been any progress finding out what causes this?
Comment by Sergi Foix on 2016-04-18:
Hi, I've found out that the problem comes from the quadrotor_sensor.urdf.xacro file of the tum_simulator package. The package creates its own SensorModel plugins for IMU, baro, magnectic and gps. For every sensor you can configure offsets, drifts, driftsFrequencies and GaussianNoises. If you haven't defined into the URDF file, then Gazebo complains. But it is not a big deal because if the descriptions are not found, they should be initialized to 0 (hector_gazebo_plugins/sensor_model.h).
Comment by Sai Kishor Kothakota on 2017-04-21:
So, do we need to initialize them to zero manually?


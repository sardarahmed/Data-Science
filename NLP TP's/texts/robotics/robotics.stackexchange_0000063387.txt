Q:

ImportError package.msg

Hi I have created a package(pwm), that contains a custom message(signal.msg). It seem to be compiled correctly.
Because I can
ubuntu@arm:~/test/sandbox/pwm$ rosmsg show signal
[pwm/signal]:
uint8 freq
uint8 duty

ubuntu@arm:~/test/sandbox/pwm/msg$ ls
signal.msg

When i run a script which use the message i got an error.
ubuntu@arm:~$ rosrun pwm scripts/talker.py
Traceback (most recent call last):
  File "/home/ubuntu/test/sandbox/pwm/scripts/talker.py", line 4, in <module>
    from pwm.msg import signal
ImportError: No module named pwm.msg

Could you help me please ?
Here are some additional informations
CMakeLists.txt
ubuntu@arm:~/test/sandbox/pwm$ cat CMakeLists.txt 
cmake_minimum_required(VERSION 2.4.6)
include($ENV{ROS_ROOT}/core/rosbuild/rosbuild.cmake)

# Set the build type.  Options are:
#  Coverage       : w/ debug symbols, w/o optimization, w/ code-coverage
#  Debug          : w/ debug symbols, w/o optimization
#  Release        : w/o debug symbols, w/ optimization
#  RelWithDebInfo : w/ debug symbols, w/ optimization
#  MinSizeRel     : w/o debug symbols, w/ optimization, stripped binaries
#set(ROS_BUILD_TYPE RelWithDebInfo)

rosbuild_init()

#set the default path for built executables to the "bin" directory
set(EXECUTABLE_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/bin)
#set the default path for built libraries to the "lib" directory
set(LIBRARY_OUTPUT_PATH ${PROJECT_SOURCE_DIR}/lib)

#uncomment if you have defined messages
rosbuild_genmsg()
#uncomment if you have defined services
#rosbuild_gensrv()

#common commands for building c++ executables and libraries
#rosbuild_add_library(${PROJECT_NAME} src/example.cpp)
#target_link_libraries(${PROJECT_NAME} another_library)
#rosbuild_add_boost_directories()
#rosbuild_link_boost(${PROJECT_NAME} thread)
#rosbuild_add_executable(example examples/example.cpp)
#target_link_libraries(example ${PROJECT_NAME})

export
ubuntu@arm:~/test/sandbox/pwm/msg$ export | grep ROS
    declare -x ROSLISP_PACKAGE_DIRECTORIES="" 
    declare -x ROS_DISTRO="indigo" 
    declare -x ROS_ETC_DIR="/opt/ros/indigo/etc/ros"
    declare -x ROS_MASTER_URI="http://localhost:11311" 
    declare -x ROS_PACKAGE_PATH="/home/ubuntu/test/sandbox:/opt/ros/indigo/share:/opt/ros/indigo/stacks" 
    declare -x ROS_ROOT="/opt/ros/indigo/share/ros"
    declare -x ROS_WORKSPACE="/home/ubuntu/test"

Pythonpath
ubuntu@arm:~/test/sandbox/pwm/msg$ echo $PYTHONPATH 
/opt/ros/indigo/lib/python2.7/dist-packages

rosmake
ubuntu@arm:~/test/sandbox/pwm$ rosmake 
[ rosmake ] rosmake starting...                                                 
[ rosmake ] No package specified.  Building ['pwm']                             
[ rosmake ] Packages requested are: ['pwm']                                     
[ rosmake ] Logging to directory /home/ubuntu/.ros/rosmake/rosmake_output-20141015-233222
[ rosmake ] Expanded args ['pwm'] to:
['pwm']                                   
[rosmake-0] Starting >>> catkin [ make ]                                        
[rosmake-0] Finished <<< catkin ROS_NOBUILD in package catkin
 No Makefile in package catkin
[rosmake-0] Starting >>> genmsg [ make ]                                        
[rosmake-0] Finished <<< genmsg ROS_NOBUILD in package genmsg
 No Makefile in package genmsg
[rosmake-0] Starting >>> genlisp [ make ]                                       
[rosmake-0] Finished <<< genlisp ROS_NOBUILD in package genlisp
 No Makefile in package genlisp
[rosmake-0] Starting >>> genpy [ make ]                                         
[rosmake-0] Finished <<< genpy ROS_NOBUILD in package genpy
 No Makefile in package genpy
[rosmake-0] Starting >>> gencpp [ make ]                                        
[rosmake-0] Finished <<< gencpp ROS_NOBUILD in package gencppive 4/25 Complete ]
 No Makefile in package gencpp
[rosmake-0] Starting >>> message_generation [ make ]                            
[rosmake-0] Finished <<< message_generation ROS_NOBUILD in package message_generation
 No Makefile in package message_generation
[rosmake-0] Starting >>> cpp_common [ make ]                                    
[rosmake-0] Finished <<< cpp_common ROS_NOBUILD in package cpp_common
 No Makefile in package cpp_common
[rosmake-0] Starting >>> rostime [ make ]                                       
[rosmake-0] Finished <<< rostime ROS_NOBUILD in package rostime
 No Makefile in package rostime
[rosmake-0] Starting >>> roscpp_traits [ make ]                                 
[rosmake-0] Finished <<< roscpp_traits ROS_NOBUILD in package roscpp_traits
 No Makefile in package roscpp_traits
[rosmake-0] Starting >>> roscpp_serialization [ make ]                          
[rosmake-0] Finished <<< roscpp_serialization ROS_NOBUILD in package roscpp_serialization
 No Makefile in package roscpp_serialization
[rosmake-0] Starting >>> message_runtime [ make ]                               
[rosmake-0] Finished <<< message_runtime ROS_NOBUILD in package message_runtime
 No Makefile in package message_runtime
[rosmake-0] Starting >>> std_msgs [ make ]                                      
[rosmake-0] Finished <<< std_msgs ROS_NOBUILD in package std_msgs
 No Makefile in package std_msgs
[rosmake-0] Starting >>> rosgraph_msgs [ make ]                                 
[rosmake-0] Finished <<< rosgraph_msgs ROS_NOBUILD in package rosgraph_msgs
 No Makefile in package rosgraph_msgs
[rosmake-0] Starting >>> rosbuild [ make ]                                      
[rosmake-0] Finished <<< rosbuild ROS_NOBUILD in package rosbuild
 No Makefile in package rosbuild
[rosmake-0] Starting >>> cmake_modules [ make ]                                 
[rosmake-0] Finished <<< cmake_modules ROS_NOBUILD in package cmake_modules
 No Makefile in package cmake_modules
[rosmake-0] Starting >>> rospack [ make ]                                       
[rosmake-0] Finished <<< rospack ROS_NOBUILD in package rospack 15/25 Complete ]
 No Makefile in package rospack
[rosmake-0] Starting >>> roslib [ make ]                                        
[rosmake-0] Finished <<< roslib ROS_NOBUILD in package roslib
 No Makefile in package roslib
[rosmake-0] Starting >>> rosunit [ make ]                                       
[rosmake-0] Finished <<< rosunit ROS_NOBUILD in package rosunit
 No Makefile in package rosunit
[rosmake-0] Starting >>> rosconsole [ make ]                                    
[rosmake-0] Finished <<< rosconsole ROS_NOBUILD in package rosconsole
 No Makefile in package rosconsole
[rosmake-0] Starting >>> roslang [ make ]                                       
[rosmake-0] Finished <<< roslang ROS_NOBUILD in package roslang
 No Makefile in package roslang
[rosmake-0] Starting >>> xmlrpcpp [ make ]                                      
[rosmake-0] Finished <<< xmlrpcpp ROS_NOBUILD in package xmlrpcpp0/25 Complete ]
 No Makefile in package xmlrpcpp
[rosmake-0] Starting >>> roscpp [ make ]                                        
[rosmake-0] Finished <<< roscpp ROS_NOBUILD in package roscpp
 No Makefile in package roscpp
[rosmake-0] Starting >>> rosgraph [ make ]                                      
[rosmake-0] Finished <<< rosgraph ROS_NOBUILD in package rosgraph
 No Makefile in package rosgraph
[rosmake-0] Starting >>> rospy [ make ]                                         
[rosmake-0] Finished <<< rospy ROS_NOBUILD in package rospytive 23/25 Complete ]
 No Makefile in package rospy
[rosmake-0] Starting >>> pwm [ make ]                                           
[rosmake-0] Finished <<< pwm [PASS] [ 19.09 seconds ]                                                                                                                               [ rosmake ] Results:                                                                                                                                                                
[ rosmake ] Built 25 packages with 0 failures.                                                                                                                                      
[ rosmake ] Summary output to directory                                                                                                                                             
[ rosmake ] /home/ubuntu/.ros/rosmake/rosmake_output-20141015-233222                

Originally posted by laurent2101 on ROS Answers with karma: 3 on 2014-10-17
Post score: 0

A:

It seems you are using the old rosbuild build system. Is that on purpose?  If you are indeed running rosbuild on purpose, does your talker.py script properly "load the manifest" for your pwm package? See this question.

Originally posted by jarvisschultz with karma: 9031 on 2014-10-17
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by laurent2101 on 2014-10-17:
Yes, I used the old build system because the tutorials said it was simpler.
After loading the manifest, the script worked perfectly.
Thank you very much for your help.
Comment by jarvisschultz on 2014-10-17:
I'm unsure which tutorial you are referring to, but if you are developing new code, and you are on any version newer than Fuerte, you should definitely be using Catkin. It is a bit more complicated, but it is the current standard. No sense in learning a deprecated tool.


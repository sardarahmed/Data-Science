Q:

gazebo pr2 launch success but with tf errors

Hi,
I can run pr2 simulator on gazebo by following instructions:
roslaunch gazebo_worlds empty_world.launch
roslaunch pr2_gazebo pr2.launch
And I run pr2.launch I found some errors, but it showed pr2 successfully.
What happened to these errors?
Thank you~
I am using ubuntu10.04 32 bits system.
I install C-turtle version.
My installation method is following installing web page before.
sudo apt-get install ros-cturtle-pr2all
and my output is
 ...
 process[gripper_action_node-18]: started with pid [28460]
 process[point_head_action-19]: started with pid [28463]
 process[position_joint_action_node-20]: started with pid [28470]
 [ INFO] [1299486985.189930823, 408.246000000]: Starting to spin      camera_synchronizer at 100.000000 Hz...
 loading model xml from ros parameter
 attempting to spawn robot in simulation
 waiting for service spawn_urdf_model
 spawn status:  SpawnModel: successfully spawned model
 spawning success True
 [spawn_pr2_model-1] process has finished cleanly.
 log file:      /home/sam/.ros/log/4afaf726-47e6-11e0-a446-00016c6c22b3/spawn_pr2_model-1     *.log
 [ INFO] [1299486989.826762623, 413.999000000]: Initializing Imu sensor
 [ INFO] [1299486989.826994416, 414.000000000]: Imu sensor activated
 [INFO] 1299486990.125778: Loaded controllers: base_controller,      base_odometry, head_traj_controller, laser_tilt_controller, torso_controller,      r_gripper_controller, l_gripper_controller, r_arm_controller, l_arm_controller
 [INFO] 1299486990.130419: Started controllers: base_controller,      base_odometry, head_traj_controller, laser_tilt_controller, torso_controller,      r_gripper_controller, l_gripper_controller, r_arm_controller, l_arm_controller
 [ INFO] [1299486990.169672201, 414.305000000]: Initializing Odom sensor
 [ INFO] [1299486990.200292548, 414.330000000]: Odom sensor activated
 [ INFO] [1299486990.224780818, 414.350000000]: Kalman filter initialized with      odom measurement
 [ERROR] [1299486990.885054147, 414.967000000]: Could not transform imu      message from imu_link to base_footprint
 [ERROR] [1299486990.885386109, 414.967000000]: filter time older than imu      message buffer
 [ERROR] [1299486991.372882533, 415.470000000]: Could not transform imu      message from imu_link to base_footprint
 [ERROR] [1299486991.911049683, 415.974000000]: Could not transform imu      message from imu_link to base_footprint
 [ERROR] [1299486992.462257261, 416.557000000]: Could not transform imu      message from imu_link to base_footprint
 [ERROR] [1299486992.995029808, 417.102000000]: Could not transform imu      message from imu_link to base_footprint
 [ERROR] [1299486993.637068182, 417.749000000]: Could not transform imu      message from imu_link to base_footprint
 [ERROR] [1299486994.693781570, 418.869000000]: Could not transform imu      message from imu_link to base_footprint
 terminate called after throwing an instance of 'tf::ConnectivityException'
   what():  Could not find a connection between '/base_footprint' and      '/imu_link' because they are not part of the same tree.Tf has two or more      unconnected trees. When trying to transform between /imu_link and      /base_footprint.
 [robot_pose_ekf-12] process has died [pid 28454, exit code -6].
 log files: /home/sam/.ros/log/4afaf726-47e6-11e0-a446-00016c6c22b3/robot_pose_ekf-12*.log

Originally posted by sam on ROS Answers with karma: 2570 on 2011-03-06
Post score: 0

Original comments
Comment by tfoote on 2011-03-09:
Please update your question to say how you installed ROS and/or what versions of things you are running?  I checked on my machine and everything launched correctly in both cturtle and diamondback from debs.
Comment by sai on 2012-10-01:
I had the same problem, TF tree was connected but had the same error, Could not transform imu message from /base_imu to /base_footprint. It was solved by changing the frame id of IMU to /base_footprint............Thats it

A:

The errror you're seeing is a race condition between waitForTransform and lookupTransform. This is however not the underlying problem. You somehow have two unconnected tf trees. I would assume you are running two or more gazebo instances in parallel, and therefore have multiple definitions of time.  Before you run 'roslaunch gazebo_worlds empty_world.launch', can you run 'rostopic list' to make sure no other instance of gazebo is running already?

Originally posted by Wim with karma: 2915 on 2011-03-23
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by tfoote on 2011-03-28:
If you rebooted the computer, another instance somewhere else on the system would have been cleaned up.
Comment by sam on 2011-03-25:
I have checked that I only have one instance.But I found that this problem is disappeared...I guess when I reboot the system auto fixed that problem...Is that right?


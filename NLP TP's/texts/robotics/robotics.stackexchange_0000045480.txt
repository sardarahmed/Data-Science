Q:

diagnostic_msg/DiagnosticStatus should have "stale"?

I thought I ask this question before submitting ticket on github since I'm not yet sure 100%.
Why does msg type diagnostic_msg/DiagnosticStatus not have level of operations STALE?
DiagnosticStatus defines 3 levels of operations (from 0 to 2). But GenericAnalyzer in diagnostic_aggregator publishes level 3, or stale (I recognized this while running turtlebot_gazebo/launch/turtlebot_empty_world.launch).
Assuming it's recommended to extend GenericAnalyzer when implementing your own robot, the cleanest solution would to include stale in the msg format imho but how does this sound?

Originally posted by 130s on ROS Answers with karma: 10937 on 2012-11-04
Post score: 0

Original comments
Comment by joq on 2012-11-04:
I believe stale is when the message is not published at all, hence there is no code for it in the message, itself.
Comment by dornhege on 2012-11-04:
This is how it is implemented (last time I checked), so it is never send by the program the diagnostic originated from. The aggregator adds this.
Comment by jbohren on 2012-11-05:
It's never sent from the origin, but if we're designating "3" as "STALE" then we should still enumerate it.
Comment by dornhege on 2012-11-05:
If that is a quasi-standard, then yes, it should be in the message before it becomes commonly used differently. The only problem is that it does not make a lot of sense for a diagnostic component to set the status to STALE.
Comment by dornhege on 2012-11-05:
Missing data, etc. should be a WARN or ERROR. For a supervisor it does make sense. So this should be documented properly to not get confused, i.e. STALE is not sensor stale, but component/driver stale.
Comment by 130s on 2012-11-05:
@dornhege and all, looks like we've come to conclusion - to add appropriate document to avoid confusion (ie. no change to the msg type). But where? Analyzer's doc? Or msg type's?
Comment by jbohren on 2012-11-05:
@IsaacS, I do think it should go in the message type. Either that or to really fix this, diagnostic_aggregator should do something different with stale data. I don't think we should ever be setting an enumeration mode that isn't defined as such in the message type.
Comment by 130s on 2012-11-05:
@jbohren oh ok, so you're on "modifying msg type" side. Then I now feel this comment area isn't the best appropriate place to continue discussion. Is it ok to start a discussion on users' ML for such a small (but not trivial) change like this?
Comment by jbohren on 2012-11-05:
Well, since this is a change that will be completely backwards-compatible, it probably just merits adding the definition in a fork of common_msgs on github and then attaching it to an enhancement ticket with a link to this thread. Then the discussion can happen there with the maintainers.
Comment by dornhege on 2012-11-05:
+1 for putting it in the msg definition.

A:

That is odd. I wouldn't be surprised if it's just because a STALE status was an afterthought and never got put back into the message def. It seems ticket-worthy, i'd say report it.
Update:
I've reported it here (with a pull request): https://github.com/ros/common_msgs/pull/3

Originally posted by jbohren with karma: 5809 on 2012-11-04
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by 130s on 2012-11-06:
+1 for the report on behalf of me (thought I was responsible for it)


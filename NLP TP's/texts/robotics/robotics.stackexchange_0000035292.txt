Q:

Problems with laser_scan_mather sliding in dead-ends

Hi,
I'm using laser_scan_matcher to provide a /odom frame. I understand there are some situations where it will perform very badly, for example in a corridor, as it can be hard for it to detect the forward motion. But, I also have problems with it not being able to detect the forward motion when in a dead-end corridor.
To me, it seems like a dead-end corridor would be a perfect situation: the side walls will be used for detecting rotations, the end wall will be used to detected forward/backward motion. However, it only detects about a tenth of the forward motion, if even that. The robot is only moving forwards and backwards, not turning.
Is there some parameter that could help? Currently I'm more or less randomly changing them, trying to find something that will help. I was thinking that possibly 'outliers_maxPerc' was the culprit, as the corridor is not very wide, so there are few data points from the end wall, but setting it to 0.99 didn't help. I've also tried enabling the alpha-beta filter.
Regards,
Rasmus Ahlberg

Originally posted by raahlb on ROS Answers with karma: 317 on 2011-10-27
Post score: 1

A:

I had missed two parameters similar to 'outliers_maxPerc', namely 'outliers_adaptive_order' and 'outliers_adaptive_mul'. Instead of just removing a certain percentage, they remove all correspondences that have an error that is larger than a multiple of a certain percentile.
A large amount of the correspondences will have an extremely small error, because of the problem with the forward motion and the side walls. The default percentile is set to 70%, which I assume was low enough to actually pick one of these side wall correspondences, which leads all the end wall correspondences being discarded, as they will have a much larger error. That is, unless you have a very good velocity estimate.
When increasing the percentile value I got much better results, but that leads to more or less disabling that feature completely. If I add a velocity feedback from our position filter I might be able to use it again, but for now it's just causing too much trouble. Don't know how good the velocity estimate needs to be, either.

Originally posted by raahlb with karma: 317 on 2011-10-27
This answer was ACCEPTED on the original site
Post score: 1


Q:

Trigger code segments for ROS_DEBUG only

I'm wondering if there's a way to do the following in C++:
if(<my logger level is set to ROS_DEBUG>) 
{
  //execute a costly code block that I don't want to do for the sake of efficiency
  //unless my logger level is set to ROS_DEBUG.  
  ROS_DEBUG_STREAM("Some output based on the computation");
}

I need to do some computation to get useful output in DEBUG mode, but I don't want to do that computation in normal operation.

Originally posted by egiljones on ROS Answers with karma: 2031 on 2011-08-22
Post score: 3

A:

This is a little bit of a hack but would have the desired effect.
string costly_method_wrapper()
{
//Costly stuff in here
return std::string(); // or real debugging info here.
}
ROS_DEBUG_STREAM("my output is " << costly_method_wrapper() << " other debug info");

Originally posted by tfoote with karma: 58457 on 2011-08-22
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by egiljones on 2011-08-24:
I was hoping for something slightly more elegant, but this indeed will do.


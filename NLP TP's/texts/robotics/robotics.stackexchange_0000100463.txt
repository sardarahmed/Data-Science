Q:

How to get a marker to move with its reference frame?

Hi, I'm learning how to use markers in rviz, currently using ros noetic. I successfully created a marker and can get it to show in rviz just fine, but when I move my model the marker stays in the same place in the space, it doesn't follow its reference frame. Any idea on how to fix this and get the marker moving with its respective reference frame?

Originally posted by jasr on ROS Answers with karma: 3 on 2021-11-04
Post score: 0

A:

are you using the frame_locked parameter of the Marker msg?

Originally posted by mcevoyandy with karma: 235 on 2021-11-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by jasr on 2021-11-05:
Thanks, that's exactly what I needed!
Comment by jasr on 2021-11-05:
As the user mcevoyandy commented, al I needed to do is to add the frame_locked parameter, so with only this set as true, the marker moves keeping its position relative to its reference frame:

self.marker_object.frame_locked = True


Q:

Planning with moveit and collisions with the scene (moveit rviz plugin)

Hi all!
I have installed moveit! and I have now a little experience with the rviz plugin.
My aim is to compare some planning algorithms with two or three scenes, using the pr2 robot. I was able to spawn the pr2 following the tutorials and plan some motions, but after having imported a scene from the "Scene Object" pan, by clicking on the "Import from text" button (like in this tutorial http:\moveit.ros.org\wiki\Environment_Representation\Rviz, "Importing from Text Files" paragraph), I am not able to tell the planning algorithms to take into account of the collisions with the scene. The movements planned are going through the scene objects...
I didn't find anything in the tutorials, but maybe I wasn't looking the right pages.
Any help about making collisions work also with the environment?
Self-collision checking works perfectly...
Thanks in advance!

Originally posted by kir on ROS Answers with karma: 23 on 2013-07-24
Post score: 2

A:

Hey!
The problem is that the scene you are editing is actually the one in Rviz, not the one for the planning algorithm (which runs in a separate process).
You need to publish the scene you changed (imported geometry to) to the move_group node. This can be easily done by clicking the Publish Planning Scene button in the Context tab of the motion planning plugin frame.
From that point on, planning algorithms should use the updated geometry.
Ioan

Originally posted by isucan with karma: 1055 on 2013-07-26
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by kir on 2013-07-27:
Ok, it worked, thanks! :)
I think you can probably help me with another question about the same topic. Here: http://answers.ros.org/question/69397/moveit-benchmark-log-where-is-it/
Thanks a lot! I am really enjoying your work :)
Comment by Qiang on 2013-10-22:
great, This poster help me alot. I also have another question, how can I extract this obstacle information with C++ code, is there tutorial about that?
Qiang


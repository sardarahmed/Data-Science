Q:

How to export key frames and camera poses using RTABMAP automatically

Hi,
I am using RTABMAP for 3D mapping. But I need to write shell script to run the SLAM and export key frame images and poses. Is there any method to export them without using mouse click operation at the window?
Thanks ahead.

Originally posted by Cole on ROS Answers with karma: 61 on 2018-02-08
Post score: 0

A:

With ROS, you may create a node calling service /rtabmap/get_map_data (with parameters global:=true, optimized:=true and graphOnly:=false) to get the full map with image data rtabmap_ros/MapData. The graph will have all the optimized poses and nodes contain data for each node in the graph, including compressed images. The images were compressed using OpenCV cv::imencode(), so they can be decompressed using cv::imdecode() (it may also work in OpenCV Python).
For the standalone, if you are processing a directory of images, you may look at the console tool rtabmap-rgbd_dataset for example. The poses are exported in this example at the end. To extract images, we would have to modify the code to iterate over the signatures and get the compressed images.
cheers

Originally posted by matlabbe with karma: 6409 on 2018-02-09
This answer was ACCEPTED on the original site
Post score: 0


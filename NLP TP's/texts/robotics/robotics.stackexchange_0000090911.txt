Q:

how to maintain nav2 version compatibility with upstream ros2 repos?

I am trying to keep tracking the udpates in navigation2 repo. But the codes are developed so heavily that i faced dependency problem that nav2 would compile failed against upstream ros2 repos. The upstream ros2 repo is developing heavily as well and it is composed of many sub repos which make me even harder to fix version compatibility.
I don't know if there is an appropriate method to handle this problem.

Originally posted by huchaohong on ROS Answers with karma: 47 on 2019-03-14
Post score: 1

A:

It looks like the navigation2 repository is built against the latest ros2.repos every night (https://travis-ci.org/ros-planning/navigation2) so it "should always compile".
To know how to pull latest changes you can refer to the Maintaining-a-Source-Checkout documentation
Based on your use case several options are available:
Assuming you are using Ubuntu 18.04 or can run linux in docker:

In docker:

If you don't modify either ros2.repos not navigation code: use the navigation2 nightly docker image: rosplanning/navigation2:master

If you don't modify any code in ros2.repos but modify navigation2 code: use the nightly ros2 docker image osrf/ros2:nightly and build navigation2 and its dependencies from source

if you modify both ros2 and navigation2, you'll need to pull the changes from both and rebuild

Natively:

download the nightly ros2 archives (https://ci.ros2.org/view/packaging/job/packaging_linux/lastSuccessfulBuild/artifact/ws/ros2-package-linux-x86_64.tar.bz2)
build navigation2 dependencies https://raw.githubusercontent.com/ros-planning/navigation2/master/tools/ros2_dependencies.repos
build navigation2

I don't know the status of MacOS or Windows support but, if supported, something similar to the "natively" instructions above should work

Originally posted by marguedas with karma: 3606 on 2019-03-16
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by huchaohong on 2019-03-16:
Thanks. I finally understand how this works
Comment by marguedas on 2019-03-17:
Glad it helped. If this answers your question, please consider accepting the answer by clicking the checkmark next to the answer so that people know this is resolved


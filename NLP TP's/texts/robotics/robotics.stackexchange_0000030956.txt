Q:

Building ROS node with OpenCV2.2 includes

I am unsure how to use cmake build system properly. I need to use OpenCV2.2 headers from my code but receive errors:
[ 80%] Building C object CMakeFiles/phippi.dir/src/crunch.o
In file included from /home/tonu/tyros/phippi/ros/phippi/src/crunch.c:9:
/home/tonu/tyros/phippi/ros/phippi/src/robot.h:44:31: error: imgproc/imgproc_c.h: No such file or directory
/home/tonu/tyros/phippi/ros/phippi/src/robot.h:45:31: error: highgui/highgui_c.h: No such file or directory

CMakeLists.txt has needed entries I suppose
tonu@tonu-desktop:~/tyros/phippi/ros/phippi$ grep -i opencv CMakeLists.txt 
FIND_PACKAGE(OpenCV REQUIRED)
INCLUDE_DIRECTORIES(phippi ${OPENCV_INCLUDES})
tonu@tonu-desktop:~/tyros/phippi/ros/phippi$ 

Originally posted by TÃµnu Samuel on ROS Answers with karma: 161 on 2011-04-09
Post score: 0

A:

Instead of the opencv entries in CMakeLists.txt I have put the line
<depend package="opencv2"/>

in my manifest.xml. Then ros will generate the necessary inclusion and linkage flags for gcc automagically :-).
P.S: According to a comment in this thread, cturtle uses opencv 2.0, so you need to use diamondback for 2.2

Originally posted by Felix Endres with karma: 6468 on 2011-04-11
This answer was ACCEPTED on the original site
Post score: 2


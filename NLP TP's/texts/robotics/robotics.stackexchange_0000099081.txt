Q:

waitForMessage ROS2 equivalent?

In ROS1 there was the useful function ros::topic::waitForMessage(..). Is there an equivalent for ROS2 yet?
I have found the following question from a while ago: https://answers.ros.org/question/307370/ros2-whats-the-best-way-to-wait-for-a-new-message/
but maybe there is an easier solution available now.

Originally posted by bvaningen on ROS Answers with karma: 167 on 2021-05-20
Post score: 1

A:

In short: there is not. Looking at the latest rclcpp API, I can also confirm that there is no equivalent there https://docs.ros2.org/latest/api/rclcpp/classrclcpp_1_1Node.html.
While I'm not entirely confident to say that it would never be added, I find it highly unlikely that it would be added - though your link suggests it may be possible through the C API so perhaps it will be exposed at the C++ level at some point. Please create a subscriber as you ordinarily would. It would not be terribly difficult to create an object that contains a subscriber, a callback, and a getLatestMsg() function to get the latest message to have a similar effect.

Originally posted by stevemacenski with karma: 8272 on 2021-05-20
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by bvaningen on 2021-05-21:
all right, thanks for the clarification!


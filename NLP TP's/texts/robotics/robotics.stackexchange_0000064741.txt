Q:

How does gmapping detect loop closure?

I want to know the way to detect loop closure in gmapping package.
I couldn't find loop closing method in gmapping papers.

Originally posted by infiniti on ROS Answers with karma: 21 on 2014-12-18
Post score: 2

Original comments
Comment by AlexR on 2014-12-18:
Its through the ICP (iterative closest point) scan matching technique. Read [here].(http://en.wikipedia.org/wiki/Iterative_closest_point)
Comment by infiniti on 2014-12-19:
Thank you for your reply.
If loop closure is found, will all historical pose be recalculated?
I want to get recalculated pose data.
Is there a good method to do that?
Comment by Kislyy_homyak on 2021-11-21:
Hey! did you end up with loop closures? I can't activate it. set resampleThreshold equal to 1, all the same the new map is superimposed on the old one
Comment by hunterlineage1 on 2023-04-15:
@infiniti @AlexR @Kislyy_homyak
I am unable to get proper loop closure in gmapping slam, I set the resample Threshold equal to 0.8, were you able to solve this?

A:

gmappinp Parameter  resampleThreshold handles this.

~resampleThreshold (float, default:
0.5) The Neff based resampling threshold

Neff drops in case of loop closures.
gmapping does resampling based on  Neff threshold in case of loop closure.

Check rbpf slam tutorial . Pictures is from these slides.

Originally posted by bvbdort with karma: 3034 on 2014-12-19
This answer was ACCEPTED on the original site
Post score: 4

Original comments
Comment by Orl on 2022-07-07:
Doesn't seem to work well. What value of Neff do you think is ok?
Comment by hunterlineage1 on 2023-04-13:
I tried using a Neff value of 0.8 and it seemed to make things better in terms of updating the map. According to the slides:
"We only resample when Neff drops below a given threshold (N/2)" So setting resampleThreshold to 0.8 instead of 0.5 means resampling is done when fewer particles are needed to reach the sampling threshold.


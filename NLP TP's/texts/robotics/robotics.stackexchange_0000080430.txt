Q:

About the 'time stamps' error in ROS

Hello,I am doing some work on ROS  navigation,just at the start，and I encountered some problems.When I roslaunch the *.launch,there are a lot of erros like this:[ERROR] [1493084059.568174116]: Extrapolation Error: Lookup would require extrapolation into the future.  Requested time 1493084059.049999952 but the latest data is at time 1493084059.012892115, when looking up transform from frame [odom] to frame [map].It seems that time differences exist during the program running.How can I fix this error or how can I set the time to be the same during the program?

Originally posted by little_bob on ROS Answers with karma: 88 on 2017-04-24
Post score: 0

Original comments
Comment by Geoff on 2017-04-24:
What launch files are you running? Are you using a simulator or a real robot? What simulator or robot? Is your computer's clock set accurately?
Comment by little_bob on 2017-04-25:
not a real robot,but a small car based on arduino and raspberry Pi.the name of the launch file ishongrobot_configuration.launch,this may be a launch to set the nodes.Can I upload this file?
Comment by Geoff on 2017-04-25:
If you are using hardware, then you are using a real robot. Not all robots are made by Kuka! :)
Yes, upload the launch file and the rest of your source so we can check it for problems.
Comment by Geoff on 2017-04-25:
Are you using running nodes on any computers other than the Raspberry Pi? If you are, then you need to make sure their clocks are synchronised.
Comment by little_bob on 2017-04-25:
Let's put the file aside.Sorry to forget the details:I run nodes on the raspberrypi to manipulate the arduino to controll the little car and send data of laser_scanner  to a Vmware machine(Ubuntu 14.04,bridged to the physical machine) and generating maps with RVIZ.But these errors only happen on the
Comment by little_bob on 2017-04-25:
RaspberryPi's terminal and maps did exist on RVIZ,but not so correc、explicit.And the car can't be self-navigated.How can I sychronize the time of raspberrypi with the virtualmachine？I baidu and googled these things and doubt about the time.Should I change the codes or just run some commands in the
Comment by little_bob on 2017-04-25:
terminal?谢谢你的热心帮助。望回复。
Comment by little_bob on 2017-04-27:
remote           refid      st t when poll reach   delay   offset  jitter
*ntp1.flashdance 193.11.166.20    2 u   32   64  377  396.120  -29.788
8.509
+ec2-34-198-99-1 192.53.103.108   2 u   42   64  277  278.546  -36.187
8.326
Comment by little_bob on 2017-04-27:
+61-216-153-104. 62.161.56.158    3 u   30   64  367  208.137   22.236
9.779
-61-216-153-106. 62.161.56.158    3 u   37   64  377  207.653   21.762
7.686
Comment by little_bob on 2017-04-27:
upon is raspberrypi
Comment by little_bob on 2017-04-27:
remote           refid      st t when poll reach   delay   offset  jitter
61.161.155.29   202.118.1.46     2 u    6   64    1   43.822    7.451   0.000
Comment by little_bob on 2017-04-27:
darwin.kenyonra 127.67.113.92    2 u    5   64    1  195.455    1.015   0.000
dns1.synet.edu. 202.118.1.48     2 u    4   64    1   43.509    3.007   0.000
61-216-153-106. 211.22.103.157   3 u    4   64    1  205.772   57.655   0.000
Comment by little_bob on 2017-04-27:
golem.canonical 193.79.237.14    2 u    2   64    1  346.202   -9.797   0.000

A:

You need to set up both your Raspberry Pi and Ubuntu (running in VMWare) to use a time synchronisation service.
Ubuntu should be set up automatically, I think, but here is the documentation so you can check.
For the Raspberry Pi, it depends on which OS you have installed. Are you using Raspbian? Chrony is often mentioned as being both easy to set up and reliable on wifi connections (the original Turtlebot instructions explicitly discuss it).

Originally posted by Geoff with karma: 4203 on 2017-04-25
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by little_bob on 2017-04-25:
really thanks
Comment by little_bob on 2017-04-26:
Hi,It's me.I found some strange things.Shall I scnchronize the system time of raspberrypi(os:Raspbian:jessie) to the Ubuntu or synchronize the ubuntu systemtime to raspberrypi?Shortly,I mean which is the time server?I install chrony on Ubuntu and did these:sudo nano /etc/chrony/chrony.conf
Comment by little_bob on 2017-04-26:
add a lineserver 192.168.0.104 minpoll 0 maxpoll 5 maxdelay .05 192.168.0.104is the IP address of th Pi.Then,I restarted the chrony and ntpdate,it showed26 Apr 15:23:22 ntpdate[4922]: no servers can be used, exiting.It seems that Pi isn't the server.
Comment by little_bob on 2017-04-26:
or should I synchronize both of the two's time to the ntpserver:cn.pool.ntp.org?
Comment by Geoff on 2017-04-26:
You can sync one to the other, but you will need to set up a server on one of them and that's more trouble than it's worth in your case. Sync both of them to the same external server, such as ntp.ubuntu.com.
Comment by Geoff on 2017-04-26:
Raspbian Jessie apparently also has NTP time sync working out of the box. Does your Raspberry Pi have Internet access?
Comment by little_bob on 2017-04-26:
yes,with Wifi to the Internet
Comment by Geoff on 2017-04-26:
Please post the output of ntpq -p on both computers.
Comment by little_bob on 2017-04-26:
can I upload pictures?I didn't find some option to upload pics
Comment by little_bob on 2017-04-26:
my teacher,Can i have your e-mail?I think it may be convenient for me to contact with you.
Comment by little_bob on 2017-04-26:
oh,It's my dinner time,I will come back as soon as I can.
Comment by little_bob on 2017-04-26:
PS:twitter or facebook is Ok,I can use VPN sometimes,my college's ethernet can access the facebook
Comment by Geoff on 2017-04-26:
We need to keep using this page so that other people who have the same problem can find the solution.
You should add the output of ntp -q to your original question.


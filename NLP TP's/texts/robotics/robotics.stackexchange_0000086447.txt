Q:

time synchronization

I write the following launch code in order to record synchronized data from 4 topics (color image, depth image, joy command, and IMU)
<launch>
    <arg name="approx_sync" default="true"/>

<!-- Putting the time back to real time-->
    <rosparam>
       /use_sim_time : false
    </rosparam>

  <node pkg="rosbag" type="record" name="record_Test" output="screen" 
    args="record -o record_Test /camera/depth/image_raw /camera/rgb/image_raw /joy /mobile_base/sensors/imu_data_raw"/>
    <param name="approx_sync" type="bool" value="$(arg approx_sync)"/>

</launch>

I use ApproximateTime Synchronizer but it does not work! still, I got a bag file with a different number of messages from each topic.
what I doing wrong?!
any help appriciated

Originally posted by khadija on ROS Answers with karma: 25 on 2018-04-09
Post score: 0

A:

rosbag does not do any time syncronising as far as I know. The approx_sync parameter is not a parameter the record node accepts/uses.
Can you tell us where you found that parameter used in conjunction with the record node?

Edit:

I just thought that I can use it with record .. so what is your advice, how can I get a syncronized data??

I think 'best practice' would still be to use message_filters/ApproximateTime Policy for this in a custom node.
It would be a nice addition to rosbag though to be able to do this. Perhaps 'someone' has already done this or written a custom record node that support this out-of-the-box?

Originally posted by gvdhoorn with karma: 86574 on 2018-04-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by khadija on 2018-04-09:
I just thought that I can use it with record .. so what is your advice, how can I get a syncronized data??
Comment by khadija on 2018-04-09:
so how should I merge my launch file with that python code? could you help me?
Comment by gvdhoorn on 2018-04-09:\

how should I merge my launch file with that python code?

You can't, that's not how this works.
I would suggest to see whether someone else has already done something like this, and if not, write a node that uses message_filters to do a synchronised recording.
Comment by gvdhoorn on 2018-04-09:
But also note that you might not even need to do a synchronised recording: if you're just looking for a way to process synchronised pairs/triples/etc of messages, then perhaps just recording with rosbag and then using message_filters would work just as well.
Comment by khadija on 2018-04-09:
do you mean that after I record my data then I can bring my bag file to that python code to do a time synchronizer ??
Comment by gvdhoorn on 2018-04-09:
You can record your bag, write the synchroniser node, then play the bag and have the node synchronise live, yes.
Comment by khadija on 2018-04-09:
Thank you for your time. I will do a search on how can I do that, and if you find anyone did what I'm trying to do; please link it to me.


Q:

Export ROS_MASTER_URI error in win_ros

Hi all,
I am getting a little bit crazy with his problem. I installed win_ros hydro in windows 7, and I am trying to run a simple talker from a Visual studio 2012 professional project. I followed the instructions, but I always get an exception saying that ROS_MASTER_URI is not defined in my enviroment. I saw that this issue was already solved in this thread, by defining the ROS_MASTER_URI in the debug enviroment. However, I tried this a hundred times, adding different lines:
ROS_MASTER_URI = http://localhost:11311
ROS_MASTER_URI = http://127.0.0.1:11311
ROS_MASTER_URI = http://andres-PC:11311
nothing works. I also tried with VS2010 professional, but nothing. Could it be the version of the VS?. The exception always appears with the ROS_MASTER_URI undefined. It must be some stupid thing that I am missing, and I am not able to fix. I have to mention that I didn't defined the ROS_MASTER_URI globally in my system, due to I don't know how on windows. In the tutorial of win_ros, the hyperlink to explain how to do this is broken.
I cannot find more information about this problem, so any experienced help will be really appreciated.
Thank you in advance!

Originally posted by anflores on ROS Answers with karma: 18 on 2016-11-29
Post score: 0

Original comments
Comment by anflores on 2016-12-01:
Any help please? It is related with the enviroment variables in windows, that I guess I am not defining them properly.
Thanks

A:

I'm not sure this is actually the solution to your problem, but the general procedure to add/remove/edit environment variables on Windows 7 is:

From the desktop, right click the Computer icon.
Choose Properties from the context menu.
Click the Advanced system settings link.
Click Environment Variables
In the Edit System Variable (or New System Variable) window, specify the value of the environment variable.
Click OK. Close all remaining windows by clicking OK.

If you have a restricted user account (or anything not with administrator level access), you might not be able to do this. For those accounts, go to the User Accounts applet in the Control Panel, and click the Change my environment variables link at the bottom of the list in the left side of the window (see this link fi).
To avoid issues with DNS, use only IPs when setting ROS_MASTER_URI. If you intend to have your Windows ROS nodes communicate with other machines, I'd also set ROS_IP to the IP of the Windows machine.

Originally posted by gvdhoorn with karma: 86574 on 2016-12-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by anflores on 2016-12-02:
Hi! thank you for your answer. The thing is that I tried your proposal, adding the ROS_MASTER_URI to the enviroment variable, but it didn't work. I think I have to define it in the Visual Studio enviroment variable while debugging, but I tried many times and I still get the error. I don't know...
Comment by anflores on 2016-12-02:
Hey, I just discovered that I worked!! I just defined a new enviroment variable ROS_URI_MASTER with value http://andres-PC:11311. Thank you very much! I was really stacked
Comment by gvdhoorn on 2016-12-03:
I assume you mean ROS_MASTER_URI, right? Also: if you have any other PCs in your ROS netwerk, using IPs might be more robust.


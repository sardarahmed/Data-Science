Q:

Assign value to axes Joy message

Hi guys,
my problem is that I got a segmentation fault when I assign a value to the axes of a joy message.
Here I post my code:
sensor_msgs::Joy out;
double linear_, angular_;

out.axes[1] = linear_;
out.axes[3] = angular_;

Originally posted by tonio on ROS Answers with karma: 3 on 2017-05-09
Post score: 0

A:

I'm assuming this is C++.
Most likely out.axes -- a std::vector -- currently has a zero-length, and you're trying to assign values to the first and third element. That leads to your program trying to access memory it does not have access to, which leads to SEGFAULTs. See std::vector - operator [].
You either have to use .reserve(..), use .push_back(..) or use one of the c'tors of std::vector that initialises it with sufficient capacity.

Originally posted by gvdhoorn with karma: 86574 on 2017-05-09
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by gvdhoorn on 2017-05-09:
PS: this is really a C++ question. We're happy to help, but please keep in mind that ROS Answers is not a generic programming support forum.
Comment by tonio on 2017-05-09:
Sorry, I didn't know! :) By the way, thanks for the answer, it's helped!
Comment by gvdhoorn on 2017-05-09:
Glad to hear it worked.
And no problem, just keep it in mind.


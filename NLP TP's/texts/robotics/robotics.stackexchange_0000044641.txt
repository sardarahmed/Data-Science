Q:

Android_tutorial_image_transport displays strange image

Hi, I want to use a sample package of rosjava.android ,"android_tutorial_image_transport".
This package subscribes ros messages which content is compressed image data.
But the android screen displays strange image because ros began to publishe BGR data from f-turtle.
So, I rewrite BitmapFromCompressedImage.java in android_gingerbread_mr1 as follows to transfer BGR data to RGB data.But it takes too much time.
What should I deal with this problem?

  @Override
  public Bitmap call(sensor_msgs.CompressedImage message) {
    ChannelBuffer buffer = message.getData();
    byte[] data = buffer.array();
    Bitmap bitmap =BitmapFactory.decodeByteArray(data,buffer.arrayOffset(),buffer.readableBytes());

    final int Width = bitmap.getWidth();
    final int Height = bitmap.getHeight();
    Bitmap bitmap_output = Bitmap.createBitmap(Width, Height, Bitmap.Config.ARGB_8888);
    int[] pixels = new int[Width*Height];
    bitmap.getPixels(pixels, 0, Width, 0, 0, Width, Height);
    for(int x = 0; x 

Originally posted by KazutoMurase on ROS Answers with karma: 116 on 2012-10-05
Post score: 0

A:

I suggest changing your incoming image to one that the BitmapFactory supports. See http://developer.android.com/reference/android/graphics/Bitmap.Config.html
I believe you'll always run into one performance issue or another otherwise.

Originally posted by damonkohler with karma: 3838 on 2012-10-10
This answer was ACCEPTED on the original site
Post score: 0


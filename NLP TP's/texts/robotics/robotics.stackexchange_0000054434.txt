Q:

latch=True in rospy.Publisher() appears to have no effect

I have a joint which I want to move to a position when the robot is initialized. The joint is never moved again. Therefore, I do this:
self._pub = rospy.Publisher("joint/command", Float64, latch=True)
self._pub.publish(45.0)

However, the subscriber (a gazebo_ros_control joint position controller) does not move the joint unless I add a rospy.sleep(1) call between the two statements above. It is my understanding that latch=True should result in the 45.0 message being stored, ready for any future subscribers to joint/command. Is this a bug, or is there something about latching that I don't understand? I'm using ROS Hydro on Ubuntu 12.04 LTS.

Originally posted by Jim Rothrock on ROS Answers with karma: 792 on 2013-09-27
Post score: 1

A:

Publishers take a non-zero amount of time to register themselves with the master. Trying to publish on a publisher that isn't ready yet will simply result in nothing happening, as you have discovered.
This issue seems to come up fairly frequently here, so it might be worth submitting a ticket for a feature request to issue a warning if trying to use a publisher that isn't ready.

Originally posted by Dan Lazewatsky with karma: 9115 on 2013-09-27
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Jim Rothrock on 2013-09-28:
I have added issue #286 to ros/ros_comm.
Comment by Jim Rothrock on 2013-09-29:
It turns out that the subscriber is receiving the messages; the lack of joint motion is caused by another problem. For details, go to this issue: https://github.com/ros/ros_comm/issues/286


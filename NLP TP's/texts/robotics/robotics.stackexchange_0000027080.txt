Q:

gazebo(os x 10.9): No valid hardware interface element found in joint

Dear All,
I am using gazebo and ros-hydro on mac os x 10.9.4. Other than gazebo1.9.x, I installed gazebo2.2 from homebrew. Therefore I built indigo-devel branch gazebo_ros_pkgs, ros_control and ros_controllers.  Gazebo itself works. But when I did a test using rrbot,
roslaunch rrbot_gazebo rrbot_world.launch

I got errors as:
[ INFO] [1405878912.120519000, 0.271000000]: gazebo_ros_control plugin is waiting for model URDF in parameter [/robot_description] on the ROS param server.
[ERROR] [1405878912.225807000, 0.271000000]: No valid hardware interface element found in joint 'joint1'.
[ERROR] [1405878912.225888000, 0.271000000]: Failed to load joints for transmission 'tran1'.
[ERROR] [1405878912.225932000, 0.271000000]: No valid hardware interface element found in joint 'joint2'.
[ERROR] [1405878912.225956000, 0.271000000]: Failed to load joints for transmission 'tran2'.

Then gazebo and robot were shown. I am wondering why gazebo/ros can not find HardwareInterface/EffortJointInterface.
Thank you.

Originally posted by lockandfire on Gazebo Answers with karma: 76 on 2014-07-20
Post score: 3

A:

Ok... I found out the reason is that in this version of ros_control/transmission_interface/transimission_parser.cpp , the parser will check if there are  tags in both  section and   section. But in rrbot and other gazebo example, only  has  tag. Therefore this error occurs.
By adding  tags to  section, this error disappears. For example, in rrbot.xacro, change
<joint name="joint1"/>

as:
  <transmission name="tran1">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="joint1">
      <hardwareInterface>EffortJointInterface</hardwareInterface>
    </joint>
  </transmission>

Originally posted by lockandfire with karma: 76 on 2014-07-20
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Arn-O on 2014-07-26:
Same isseu here ... did you report it somewhere?
Comment by Arn-O on 2014-08-02:
I have posted an issue in the ros_control bug tracker: https://github.com/ros-controls/ros_control/issues/177
Comment by lockandfire on 2014-08-08:
@Arn-O Thank you for reporting
Comment by davetcoleman on 2015-01-10:
Fixed by Kei Okada https://github.com/ros-simulation/gazebo_ros_demos/pull/4


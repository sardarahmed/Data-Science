Q:

Using Hector Slam with Hokuyo laser range finder

Hi,
So I'm kinda new to ROS. I ran the tutorial launch file with the bag file and I was able to see it working in rviz. What I am having trouble with right now is how to get hokuyo_node and hector_slam nodes communicating such that a map is generated in rviz. I would like to generate a map using the hokuyo laser range finder and would like to see the generated map on rviz. I'm guessing I have to modify the tutorial launch file in order to get hector_slam working with the laser range finder instead of bag files.
Thanks, appreciate the help!

Originally posted by hesh8 on ROS Answers with karma: 61 on 2013-03-21
Post score: 0

A:

It's a advisable that you use an IMU to estimate the attitude (roll/pitch) angles of the LIDAR. But provided you keep the scan plane parallel to the ground, things can also work without one.
What you will want to do is starting the Hokuyo node, a static publisher for the transformation of the base frame of your "robot" to your laser scanner frame and a properly set up mapping node. The latter two you can start with this launch file:
<launch>

  <include file="$(find hector_mapping)/launch/mapping_default.launch">
    <arg name="base_frame" value="base_frame"/>
    <arg name="odom_frame" value="base_frame"/>
  </include>
 
  <include file="$(find hector_geotiff)/launch/geotiff_mapper.launch">
    <arg name="trajectory_source_frame_name" value="base_frame"/> 
  </include>

  <node pkg="tf" type="static_transform_publisher" name="base_frame_to_laser_broadcaster" args="0 0 0 0 0 0 base_frame laser 100"/>

</launch>

Provided your scanner publishes on the "scan" topic and uses the "laser" frame_id, this launch file should work.

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2013-03-22
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by hesh8 on 2013-03-23:
Thanks for the quick reply I will try this out and get back to you.
One more question, do you a recommend any good/cheap IMU?
Thanks once again
Comment by elva on 2013-03-29:
Hi, have you figure it out how to do it? i have a hokuyo URG-04LX and an imu ,however the mapping is not very good:)
Comment by hesh8 on 2013-04-03:
We are still working on it. What imu are you using and how do you integrate it to this launch file?
Comment by elva on 2013-04-03:
i use a hector_imu_attitude_to_tf_nodein hector_slam package,but imu seems only provide pitch and roll angle to hector_mapping, i also want to use it with yaw angle, because when i held the hokuyo in hand and turn the slowly in a cirlce, the map did not match
Comment by hesh8 on 2013-04-07:
Can you publish your launch file code?


Q:

Turtlebot Explore - Gmappings

Hi All.
I'm trying to make the  explore node to work with my turtlebot.
Im working with Groovy version of ROS.
My structure configuration is
Groovy running over Ubuntu 12.04 running over VMWare running over MacOs mountain lion.
Groovy running over Ubuntu 12.04 running over TurtleBot's asus.
Wifi connection
The experiment consist in,  launch gmapping_demo.launch, from the turtlebot_navigation stack, in the turtlebot side
 <launch>
  <include file="$(find turtlebot_bringup)/launch/3dsensor.launch">
    <arg name="rgb_processing" value="false" />
    <arg name="depth_registration" value="false" />
    <arg name="depth_processing" value="false" />
  </include>

  <include file="$(find turtlebot_navigation)/launch/includes/_gmapping.launch"/>

  <include file="$(find turtlebot_navigation)/launch/includes/_move_base.launch"/>

</launch>

Then i move the robot a bit in an open room to let gmappings to have some data. I launch the explore.xml from the explore_stage package in order to have the explore functionalities.
<launch>
  <node pkg="explore" type="explore" respawn="false" name="explore" output="screen" >
    <rosparam file="$(find explore_stage)/config/costmap_common.yaml" command="load" ns="explore_costmap" />
    <rosparam file="$(find explore_stage)/explore/explore_costmap.yaml" command="load" />
    <remap from="base_scan" to="scan"/>
    <param name="potential_scale" value="0.005"/>
    <param name="orientation_scale" value="0.0"/>
    <param name="gain_scale" value="1.0"/>
    <param name="close_loops" value="true"/>
  </node>
</launch>

I also spawn by hand the RViz in order to watch whats happening.
With all this setted up, the robot just 3 time moved alone, but i made this same experiment more than 10 times.
I start to analyze the command velocity topic, which is always in silence and the /move_base/goal, which stranglely it have a lot of traffic.
Taking in count the markers exposed by explore and the goals sent by explore node, and the fact that rxgraph shows me that move_base and explore are connected throught this last topic, the only thing that i can realize is that move_base is not responding to the goals asked.
I tryed with the RViz fingering a pose and it works.
In all the instances of my experiment, the only error that i get is, sometimes (no more than 3 times in a running of 10mins) an error calculating the transformation between /odom and /map or /odom and /base_link.
Just as general knowledge, i remap the base_scan topic to scan in order to keep the consistence in between configurations.
If someone have any idea, is really welcome.
The rosgraph output is
Nodes:
  /diagnostic_aggregator :
    Inbound:
      /mobile_base_nodelet_manager
      /turtlebot_laptop_battery
    Outbound:
      /rosout
  /cmd_vel_mux :
    Inbound:
      /cmd_vel_mux
      /mobile_base_nodelet_manager
      /mobile_base
      /bumper2pointcloud
      /navigation_velocity_smoother
    Outbound:
      /rosout
      /mobile_base_nodelet_manager
      /mobile_base
      /bumper2pointcloud
      /navigation_velocity_smoother
      /cmd_vel_mux
  /rxconsole_1370012301962201595 :
    Inbound:
    Outbound:
      /rosout
  /explore :
    Inbound:
      /move_base
      /robot_state_publisher
      /mobile_base_nodelet_manager
      /robot_pose_ekf
      /slam_gmapping
      /camera/camera_nodelet_manager
      /move_base
      /move_base
    Outbound:
      /rviz_1370012116847082561
      /move_base
      /rosout
      /rviz_1370012116847082561
      /rviz_1370012116847082561
      /move_base
  /navigation_velocity_smoother :
    Inbound:
      /navigation_velocity_smoother
      /mobile_base_nodelet_manager
      /mobile_base
      /cmd_vel_mux
      /bumper2pointcloud
    Outbound:
      /mobile_base_nodelet_manager
      /mobile_base
      /bumper2pointcloud
      /navigation_velocity_smoother
      /cmd_vel_mux
      /rosout
  /bumper2pointcloud :
    Inbound:
      /bumper2pointcloud
      /mobile_base_nodelet_manager
      /mobile_base
      /cmd_vel_mux
      /navigation_velocity_smoother
    Outbound:
      /rosout
      /mobile_base_nodelet_manager
      /mobile_base
      /bumper2pointcloud
      /navigation_velocity_smoother
      /cmd_vel_mux
  /master_sync_turtlebot_0196_3193_1407679111 :
    Inbound:
    Outbound:
  /slam_gmapping :
    Inbound:
      /camera/camera_nodelet_manager
      /slam_gmapping
      /robot_state_publisher
      /robot_pose_ekf
      /mobile_base_nodelet_manager
    Outbound:
      /rosout
      /rviz_1370012116847082561
      /robot_pose_ekf
      /move_base
      /slam_gmapping
      /explore
      /rviz_1370012116847082561
      /move_base
  /mobile_base :
    Inbound:
      /mobile_base
      /mobile_base_nodelet_manager
      /cmd_vel_mux
      /bumper2pointcloud
      /navigation_velocity_smoother
    Outbound:
      /mobile_base_nodelet_manager
      /mobile_base
      /bumper2pointcloud
      /navigation_velocity_smoother
      /cmd_vel_mux
      /rosout
  /rosout :
    Inbound:
      /zeroconf/zeroconf_avahi
      /robot_state_publisher
      /diagnostic_aggregator
      /mobile_base
      /robot_pose_ekf
      /cmd_vel_mux
      /mobile_base_nodelet_manager
      /bumper2pointcloud
      /turtlebot_laptop_battery
      /app_manager
      /camera/openni_camera_loader
      /camera/depthimage_to_laserscan_loader
      /slam_gmapping
      /camera/camera_nodelet_manager
      /navigation_velocity_smoother
      /move_base
      /rviz_1370012116847082561
      /rxconsole_1370012301962201595
      /explore
    Outbound:
  /turtlebot_laptop_battery :
    Inbound:
    Outbound:
      /diagnostic_aggregator
      /rosout
  /camera/openni_camera_loader :
    Inbound:
      /camera/openni_camera_loader
      /camera/camera_nodelet_manager
      /camera/depthimage_to_laserscan_loader
    Outbound:
      /rosout
      /camera/depthimage_to_laserscan_loader
      /camera/openni_camera_loader
  /camera/camera_nodelet_manager :
    Inbound:
    Outbound:
      /move_base
      /slam_gmapping
      /explore
      /rosout
      /camera/depthimage_to_laserscan_loader
      /camera/openni_camera_loader
  /zeroconf/zeroconf_avahi :
    Inbound:
    Outbound:
      /rosout
  /mobile_base_nodelet_manager :
    Inbound:
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
      /move_base
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
      /mobile_base
      /cmd_vel_mux
      /bumper2pointcloud
      /navigation_velocity_smoother
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
    Outbound:
      /robot_pose_ekf
      /robot_pose_ekf
      /move_base
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
      /mobile_base
      /bumper2pointcloud
      /navigation_velocity_smoother
      /cmd_vel_mux
      /mobile_base_nodelet_manager
      /diagnostic_aggregator
      /rosout
      /mobile_base_nodelet_manager
      /rviz_1370012116847082561
      /robot_pose_ekf
      /move_base
      /slam_gmapping
      /explore
      /robot_state_publisher
  /move_base :
    Inbound:
      /rviz_1370012116847082561
      /move_base
      /explore
      /robot_state_publisher
      /robot_pose_ekf
      /slam_gmapping
      /mobile_base_nodelet_manager
      /explore
      /camera/camera_nodelet_manager
      /mobile_base_nodelet_manager
      /slam_gmapping
    Outbound:
      /explore
      /move_base
      /mobile_base_nodelet_manager
      /rosout
      /explore
      /explore
  /robot_pose_ekf :
    Inbound:
      /robot_pose_ekf
      /robot_state_publisher
      /mobile_base_nodelet_manager
      /slam_gmapping
      /mobile_base_nodelet_manager
      /mobile_base_nodelet_manager
    Outbound:
      /rviz_1370012116847082561
      /robot_pose_ekf
      /move_base
      /slam_gmapping
      /explore
      /rosout
  /rviz_1370012116847082561 :
    Inbound:
      /slam_gmapping
      /explore
      /robot_state_publisher
      /robot_pose_ekf
      /slam_gmapping
      /mobile_base_nodelet_manager
      /explore
      /explore
    Outbound:
      /rosout
      /move_base
  /camera/depthimage_to_laserscan_loader :
    Inbound:
      /camera/depthimage_to_laserscan_loader
      /camera/camera_nodelet_manager
      /camera/openni_camera_loader
    Outbound:
      /camera/depthimage_to_laserscan_loader
      /camera/openni_camera_loader
      /rosout
  /robot_state_publisher :
    Inbound:
      /mobile_base_nodelet_manager
    Outbound:
      /rviz_1370012116847082561
      /robot_pose_ekf
      /move_base
      /slam_gmapping
      /explore
      /rosout
  /app_manager :
    Inbound:
    Outbound:
      /rosout
Services:
  /mobile_base/get_loggers
  /camera/openni_camera_loader/set_logger_level
  /bumper2pointcloud/get_loggers
  /camera/rgb/set_camera_info
  /camera/camera_nodelet_manager/set_logger_level
  /zeroconf/zeroconf_avahi/get_loggers
  /move_base/NavfnROS/make_plan
  /move_base/local_costmap/set_parameters
  /turtlebot/start_app
  /navigation_velocity_smoother/set_logger_level
  /robot_pose_ekf/tf_frames
  /zeroconf/remove_listener
  /app_manager/set_logger_level
  /move_base/tf_frames
  /diagnostic_aggregator/get_loggers
  /camera/depth/image_raw/theora/set_parameters
  /move_base/TrajectoryPlannerROS/set_parameters
  /app_manager/get_loggers
  /navigation_velocity_smoother/set_parameters
  /move_base/clear_unknown_space
  /camera/ir/image_raw/compressedDepth/set_parameters
  /mobile_base_nodelet_manager/set_logger_level
  /move_base/make_plan
  /diagnostic_aggregator/set_logger_level
  /cmd_vel_mux/set_logger_level
  /robot_state_publisher/get_loggers
  /camera/openni_camera_loader/get_loggers
  /slam_gmapping/tf_frames
  /camera/ir/set_camera_info
  /camera/ir/image_raw/theora/set_parameters
  /move_base/get_loggers
  /camera/rgb/image_raw/compressed/set_parameters
  /explore/explore_planner/make_plan
  /bumper2pointcloud/set_logger_level
  /robot_state_publisher/set_logger_level
  /slam_gmapping/set_logger_level
  /move_base/set_logger_level
  /mobile_base/set_logger_level
  /rosout/set_logger_level
  /mobile_base_nodelet_manager/get_loggers
  /camera/camera_nodelet_manager/unload_nodelet
  /camera/depth/image_raw/compressedDepth/set_parameters
  /camera/depthimage_to_laserscan_loader/set_parameters
  /turtlebot/stop_app
  /camera/ir/image_raw/compressed/set_parameters
  /move_base/clear_costmaps
  /explore/get_loggers
  /move_base/global_costmap/set_parameters
  /rxconsole_1370012301962201595/get_loggers
  /explore/loop_closure_planner/make_plan
  /camera/depth_registered/image_raw/compressedDepth/set_parameters
  /mobile_base_nodelet_manager/load_nodelet
  /slam_gmapping/get_loggers
  /zeroconf/add_listener
  /zeroconf/remove_service
  /camera/rgb/image_raw/theora/set_parameters
  /camera/camera_nodelet_manager/load_nodelet
  /turtlebot_laptop_battery/get_loggers
  /rviz_1370012116847082561/set_logger_level
  /rviz_1370012116847082561/get_loggers
  /turtlebot_laptop_battery/set_logger_level
  /explore/explore_costmap/set_parameters
  /camera/depth_registered/image_raw/theora/set_parameters
  /explore/tf_frames
  /mobile_base_nodelet_manager/list
  /explore/set_logger_level
  /zeroconf/add_service
  /camera/openni_camera_loader/set_parameters
  /rosout/get_loggers
  /mobile_base_nodelet_manager/unload_nodelet
  /zeroconf/list_published_services
  /robot_pose_ekf/get_status
  /cmd_vel_mux/get_loggers
  /rviz_1370012116847082561/tf_frames
  /zeroconf/zeroconf_avahi/set_logger_level
  /robot_pose_ekf/get_loggers
  /camera/depthimage_to_laserscan_loader/set_logger_level
  /robot_pose_ekf/set_logger_level
  /camera/depth/image_raw/compressed/set_parameters
  /camera/depthimage_to_laserscan_loader/get_loggers
  /dynamic_map
  /rxconsole_1370012301962201595/set_logger_level
  /explore/explore_map
  /navigation_velocity_smoother/get_loggers
  /rviz_1370012116847082561/reload_shaders
  /cmd_vel_mux/set_parameters
  /camera/camera_nodelet_manager/list
  /turtlebot/list_apps
  /camera/camera_nodelet_manager/get_loggers
  /camera/rgb/image_raw/compressedDepth/set_parameters
  /zeroconf/list_discovered_services
  /move_base/set_parameters
  /camera/depth_registered/image_raw/compressed/set_parameters

Originally posted by sbragagnolo on ROS Answers with karma: 203 on 2013-05-31
Post score: 0

A:

My question might help you. I have also posted my packages.
http://answers.ros.org/question/63613/explore-package-on-gazebo-turtlebot/?comment=64239#comment-64239

Originally posted by Zayin with karma: 343 on 2013-06-04
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by sbragagnolo on 2013-06-04:
Thankyou! i will try them :)
Comment by Zayin on 2013-06-05:
Please tell me if they work or if you find bugs! I haven't fully tested them yet! =)


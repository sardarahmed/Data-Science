Q:

tabletop_segmentation in rviz

Hi, I am trying to see the output of tabletop_segmentation in rviz. Would really appreciate a little help. Nothing fancy - just the plain vanilla segmented point cloud, dont need to recognize objects, etc.
Precise 12.04, Fuerte
Running openni.launch (XBOX 360 Kinect cam), rviz and tabletop_segmentation.launch
All I can see in rviz is the point cloud from Kinect. How can I see markers from segmentation like shown in the tutorial for tabletop_object_detector?
Ran rostopic - I can see a published topic: tabletop_segmentation_markers - but nothing is being published to it.
Looks like tabletop_segmentation node is not getting data from Kinect. In the startup logs, I can see it using cloud_in:=narrow_stereo_textured/points2. Is that same as Kinect? If not, do I have to remap topics somehow?
Also, Kinect's IR projector lamp does not turn on when I just run tabletop_segmentation - it turns on only when I start rviz - another reason to suspect that I am not hooking things up correctly.
Please help, been trying to get this working for several long days now ...
Thanks!
Greg

Originally posted by Greg S on ROS Answers with karma: 36 on 2013-05-23
Post score: 0

A:

The problem was the setting in tabletop_segmentation.launch
...
<arg name="tabletop_segmentation_points_in" default="/camera/depth_registered/points" />
<arg name="tabletop_segmentation_convert_to_base_link" **default="false"** />
...

This decouples tabletop segmentation from PR2 coordinate system
Thanks to Matei for pointing it out to me offline!

Originally posted by Greg S with karma: 36 on 2013-06-14
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ctguell on 2013-09-12:
I have the same problem, specially with the kinect not turning on, but when i implement your answer i still get the same problem, do you have any idea why?  Also when you want to see the segmentation in rviz what new display type do you add? Thanks


Q:

How are LaserScan and global_costmap related?

Hi all,
I am currently working on navigation and I have a question regarding understanding a concept. From what I understood so far, global_costmap is created based on the pre-loaded static map by adding an inflation layer using robot footprint. So I assumed that the real time sensor readings from the robot such as laserscanners are only included in local_costmap. But the diagram on move_base page shows that LaserScan topic is used both in global and local costmaps. Could someone explain me how exactly are we using laser data in global_costmap?
Thanks in advance.

Originally posted by rosberrypi on ROS Answers with karma: 75 on 2020-10-03
Post score: 0

A:

Well, you can configure the costmaps to include the respective sensors you want. So you can configure the global costmap to NOT have a laserscan, or to include it.
A use case for NOT INCLUDING the laser scan into the global costmap:
The map is derived from a floor plan or mapped in a way that all possible routes are open (i.e. all doors you want to navigate through are open) and there is nothing blocking a potential path.
A use case for INCLUDING the laser scan into the global costmap:
Your map has some objects that might have changed (e.g. some doors were closed during mapping). If you now integrate the laser scan into the global costmap, you can detect if a previously closed door is open and paths that have not been possible before are possible now.

Originally posted by mgruhler with karma: 12390 on 2020-10-05
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by rosberrypi on 2020-10-10:
Thank you for your answer Matthias.
A follow up question to clear some of my hesitation, for the second use case example you gave, isn't it local costmap that needs to make sure if there are ome surprises or changes with respect to global costmap and global path? Or in another way, if we don't include laser scan into global costmap, wouldn't local costmap make sure about dynamic changes along the way?
Comment by mgruhler on 2020-10-12:
well, yes, to some extend. The global path that move_base is planning is, however, planned on the global costmap. So if you want the global path to account for suddenly opened (or closed) doors, you need to reflect this in the global costmap, and not only in the local one. However, this only works if you actually see the door at the moment of planning...


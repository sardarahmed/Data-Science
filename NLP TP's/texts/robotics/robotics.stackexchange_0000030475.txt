Q:

How to recieve an array over Publisher and Subscriber? (Python)

Examples would be useful.

Originally posted by GeniusGeeko on ROS Answers with karma: 299 on 2011-03-17
Post score: 8

A:

This tutorial might be what you're after. In general, arrays are not much different than anything else--you just need a msg that has an array in it. Suppose e.g. you have a message file, your_package/Foo.msg:
int32[100] some_integers # array of 100 int32's
float64[] some_floats # variable-sized array of floats

Then a publisher would look like:
from your_package.msg import Foo
mypub = rospy.Publisher('mytopic', Foo)
msg_to_send = Foo()
msg_to_send.some_integers = range(100)
msg_to_send.some_floats = [1.0, -3.14, 42.0]
mypub.publish(msg_to_send)

A subscriber could look like:
from your_package.msg import Foo

def mytopic_callback(msg):
    print "Here are some integers:", str(msg.some_integers)
    print "Here are some floats:", str(msg.some_floats)

mysub = rospy.Subscriber('mytopic', Foo, mytopic_callback)

This isn't fully working code--you'll need to initialize the nodes, spin, etc but hopefully you get the idea.

Originally posted by Patrick Bouffard with karma: 2264 on 2011-03-17
This answer was ACCEPTED on the original site
Post score: 17

Original comments
Comment by GeniusGeeko on 2011-03-18:
Thanks! This actually helped me undrstand messages a bit more also.
Comment by kk on 2013-09-10:
how to do the same in c++ ?? its tells invalid type even when used std::vector
Comment by ctguell on 2013-11-21:
@kk did you manage to solve it in c++ im have the same problem, thanks
Comment by Murilo F. M. on 2013-12-27:
@kk, @ctguell: this answer might help you guys: http://answers.ros.org/question/60614/how-to-publish-a-vector-of-unknown-length-of-structs-in-ros/


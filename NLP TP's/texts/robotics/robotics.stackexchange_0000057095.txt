Q:

end effector orientation groovy MoveIt

Hey there,
I'm working with an ur10 arm in groovy using MoveIt. I can plan and excecute the position and orientation of the end effector without problems when i'm using rviz and moving the connectors with the mouse. But when i do the planning from c++ over the move_group interface i'm getting the warning

"Orientation constraint for link 'right_arm_ee_link' is probably incorrect: 0.482316, 0.611794, 0.626960, 0.345908. Assuming identity instead."

The arm moves in gazebo to the desired position but the orientation is all the time only the identity. Any thoughts?
geometry_msgs::PoseStamped pose;
rnd_pose.header.frame_id = "/ROBOT_BASE";

pose.pose.position.x = sensornode_.translation.x;
pose.pose.position.y = sensornode_.translation.y;
pose.pose.position.z = sensornode_.translation.z;
pose.pose.orientation.w = sensornode_.rotation.w;
pose.pose.orientation.x = sensornode_.rotation.x;
pose.pose.orientation.y = sensornode_.rotation.y;
pose.pose.orientation.z = sensornode_.rotation.z;

group.setStartStateToCurrentState();
group.setGoalOrientationTolerance(0.1);
group.setPoseTarget(pose);
group.move();

Thank you,
Matthias

Originally posted by Equanox on ROS Answers with karma: 36 on 2014-02-06
Post score: 0

A:

Have you tried normalizing the quaternion? Those numbers do not appear to be a normalized quaternion (if it is printed x y z w, then 0.482316, 0.611794, 0.626960, 0.345908 actually has the x y z normalized to a unit vector)

Originally posted by fergs with karma: 13902 on 2014-02-06
This answer was ACCEPTED on the original site
Post score: 2


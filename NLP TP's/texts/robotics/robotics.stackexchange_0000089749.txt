Q:

Using a action's result

Hello together,
together with another student, we have written a action client and server by using actionlib/client/simple_action_client.h and actionlib/server/simple_action_server.h.
At the terminal we can see the result correctly.
Now we would like to use result for further activities. For this the source file of the client contains:
actionlib::SimpleActionClient<manipulator::DetectionAction>::ResultConstPtr result = *(ac.getResult())

ac is our action client, manipulator::DetectionAction is the ActionSpecs from the header file.
We have already started several attempts, but still are unsuccessful.
The compiler error is
actionlib::SimpleActionClient<manipulator::DetectionAction>::ResultConstPtr is private.

We would really appreciate, if someone could help us.
Thanks a lot!

Originally posted by waltejon on ROS Answers with karma: 5 on 2018-12-05
Post score: 0

A:

What should work is the following:
DetectionResultConstPtr result = ac.getResult();

A little bit of background:
With
actionlib::SimpleActionClient<manipulator::DetectionAction>::ResultConstPtr

you are trying to access a private typedef declared in actionlib/action_defintion.h and actionlib/action_client.h.
Also, getResult already returns a ResultConstPtr, so adding *(ac....) will not work as well.
As the action definitions are templated, and you want to get the result (which has nothing to do with the client itself), DetectionResultConstPtr is the way to go here.

Originally posted by mgruhler with karma: 12390 on 2018-12-06
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by waltejon on 2018-12-10:
Thank you for the support! Your answer is correct.
Now we have another error that can be seen in the picture above. We already inspected this question... Could you help us?
Comment by mgruhler on 2018-12-10:
If this question is solved, please mark the answer as correct by clicking on the check mark next to it. For a new question, please open a new one ;-)
You can cross-link using q#NUMBER (from the url) and mention people using @USERNAME.
Comment by mgruhler on 2018-12-10:
Now, that the image is there: please don't post images of terminal output. This is not searchable by search enginges and the URLs might go away.
Please add a new question, paste the terminal output, and format it using the preformatted text button (the ones with 010101) on it as source code.
Comment by waltejon on 2018-12-10:
All right, thanks for the advice.
Comment by nimish on 2020-12-09:
It didn't work for me with DetectionResultConstPtr result = ac.getResult();
It needed the package name as well, so manipulator::DetectionResultConstPtr result = ac.getResult(); as mentioned in this question


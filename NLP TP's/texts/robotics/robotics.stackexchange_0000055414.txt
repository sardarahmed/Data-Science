Q:

RViz memory leak?

Hello all,
I noticed that after a long time (hours) my memory was stuffed full when working with our robot. When closing RViz this memory is released. I suspect that there is a memory leak in RViz.
To replicate this error, I recorded a bag file, which is rather large (350MB) and can thus be found we.tl/Qba0dJdPqc, or you can use we.tl/2x6yPrGhBH smaller bag file.
The used config file for RViz is included.
To replicate:
Launch rviz with the provided config file and play the bag file. You will see your memory usage increasing over time. This bag file is not long enough to actually fill my  memory(6GB) but you get the idea. Now if you remove the green Gridcells display, the one that displays the '/move_base/local_costmap/inflated_obstacles' topic, there is no memory leak (or it is happening much slower).
Is this a problem on my end and/or did anyone else notice this problem?
Does anyone have a solution?
The robot is running electric, RViz is ran on a pc running hydro, could this be causing the problem? I noticed that the new move_base/local_costmap in hydro uses a occupancy grid instead of the girdcells.
I know electric is quite old already and therefore we are upgrading the robot to hydro shortly, but just wanted to share this observation with you.
With kind regards,
Okke Hendriks
Rose B.V. - www.robot-rose.nl

Originally posted by Okke on ROS Answers with karma: 131 on 2013-11-12
Post score: 2

Original comments
Comment by 130s on 2013-11-12:
+1 for sharing .bag file. During the entire last week, I kept running RViz to exhibit a robot all day long and once (but only once) I saw memory leaked to 15GB. Though I haven't replicated it, a customer keeps mentioning about that single occurrence and thus I'd like to know more about this issue.
Comment by Stefan Kohlbrecher on 2013-11-12:
See https://github.com/ros-visualization/rviz/issues/695 for another instance of a severe memory leak in rviz on hydro. It appears the maintainers are very busy atm, as there has been no reaction to posted issues in quite some time.

A:

This memory leak has been fixed, see https://github.com/ros-visualization/rviz/issues/695

Originally posted by Okke with karma: 131 on 2014-02-14
This answer was ACCEPTED on the original site
Post score: 6


Q:

Spawn robot model using rospy in Gazebo

I am trying to spawn my robot model using rospy in my python interface to Gazebo.
In the launch file, I spawn the robot using:
<node
name="urdf_spawner"
pkg="gazebo_ros"
type="spawn_model"
respawn="false"
output="screen"
ns="$(arg robot_name)"
args="-urdf -model $(arg robot_model) -param robot_description -z 1.015"/>

What would be the python way of doing the same? I'd be happy to share more details if needed. Thanks in advance!

A:

For resetting the robot to the initial pose - I was able to fix this by using
import rospy
from gazebo_msgs.srv import SetModelConfiguration

set_model = rospy.ServiceProxy("/gazebo/set_model_configuration", SetModelConfiguration)

joint_names = ['waist', 'shoulder', 'elbow', 'wrist_angle', 'left_finger', 'right_finger'] #example
joint_positions = [0.0, 0.0, 0.0, 0.0, 0.0195, -0.0195]

set_model.call(model_name=robot_name,
               urdf_param_name=robot_description,
               joint_names=joint_names,
               joint_positions=joint_positions)

Note, it is important to pause the Gazebo physics before calling set_model and unpause once done.
When launching the robot for the first time in the Gazebo world, I use the gazebo_ros package to spawn the robot using a node of type spawn_model and pass the desired spawn coordinates.


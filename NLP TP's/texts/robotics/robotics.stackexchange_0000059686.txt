Q:

Include image in roslaunch

Hi
I am creating a launch file for my project. One of my nodes has to load a .jpg image as a part of the code execution. Normally, when using rosrun, I'm located in the folder with the picture when running the code, and it is found automatically by the node.
How do i include this in roslaunch so it is found automatically?

Originally posted by eirikaso on ROS Answers with karma: 108 on 2014-05-28
Post score: 1

A:

You need to use args in your node call in launch file.
<node pkg="rospy_demo" type="listener" args="$(find mypkg)/resources/test.jpg" />.
(just random example from google)
For just running the program (with rosrun, for example) put the absolute path to the file - here it will be imread("/home/username/img.jpg") or put the image in the executable folder - it should be devel/lib/package_name/

Originally posted by delta785 with karma: 72 on 2014-05-28
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by eirikaso on 2014-05-28:
Hmm. I tried but did not get it working. This is how I am reading the image in the node:
Mat objectMat = imread("te.jpg");
Will this be wrong?
Comment by delta785 on 2014-05-28:
So it's inside the code itself? I don't remember precisely, try placing the image either in the executable folder or launch file folder. With no need in using any args in launch file. You can also pass the image path as an argument - this way you wont need to copy your jpg.
Comment by eirikaso on 2014-05-28:
It is in the code yes. Have tried to put it all over the place now, but still can't find it :( Have also tried to use args to the path like you suggested without any luck
Comment by delta785 on 2014-05-28:
Try if this works - imread("/home/username/te.jpg"); and put the jpg file in your user folder. For test its fine, but you shouldnt do it often :P
Comment by delta785 on 2014-05-28:
Anyway it's strange that locating your jpeg file in exe directory doesnt work. Do you put it in devel/lib/package_name/ folder?
Comment by eirikaso on 2014-05-28:
Now it works :) Thanks a lot!
Working in both  "devel/lib/package_name/" and with your "imread("/home/username/te.jpg")" solution. Is it possible to get it copied into the "devel/lib/package_name/" folder when doing catkin_make?
Comment by delta785 on 2014-05-28:
Probably somehow it could be done. But you'd better use arguments, it will make your application more flexible.You do it by typing, for example, string name; name = argv[1] and then using it in imread (maybe with some easy data conversion from string to char *).
Comment by delta785 on 2014-05-28:
and then you can run your program with rosrun mynode mynode te.jpg, and THEN you can add args in your launch file. Hardcoding thingies isn't good
Comment by eirikaso on 2014-05-28:
Thanks for your help. Will look into the arguments
Comment by delta785 on 2014-05-29:
Mark the answer as correct, please. :)


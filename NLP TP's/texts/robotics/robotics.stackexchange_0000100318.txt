Q:

Better Aruco detection

Hello, I'm using aruco detection to detect a marker at the back of a robot, I'm running simulations in Gazebo and checking the camera feed through Rviz. The problem I'm having is that the detection is not as good as I'd want. The detector I'm using is aruco_detect: http://wiki.ros.org/aruco_detect, and the camera is this: https://emanual.robotis.com/docs/en/platform/turtlebot3/appendix_raspi_cam/, that comes with the Waffle Pi turtlebot.
The marker I was using is a 0.15x0.15 m marker, with this I can detect markers about 1.5 m in front of the camera, I have since made the marker into a 0.20x0.20 marker, with this I can detect a marker about 1.8m in front of the camera. The issue I'm having is that despite the marker being clearly in view of the robot, as seen here from an image taken from the camera feed from Rviz:

it is not detected. Another example is if the marker is too close to the robot:

For reference, this is how it looks like if the marker is detected:

The aruco_detect is launched from the launch file like this:
    <!-- Start marker detector--> 
  <node name="aruco_detect" pkg="aruco_detect" type="aruco_detect">
    <param name="image_transport" value="compressed" />
    <param name="publish_images" value="true" />
    <param name="fiducial_len" value="0.20" />
    <param name="dictionary" value="0" />
    <param name="do_pose_estimation" value="true" />
    <param name="ignore_fiducials" value="" />
    <param name="fiducial_len_override" value="" />
    <remap from="/camera/compressed" to="/tb3_1/camera/rgb/image_raw/compressed"/>
    <remap from="/camera_info" to="/tb3_1/camera/rgb/camera_info"/>
  </node> 
 

Wondering if anyone has had any experience like this, or know how to make the detection better.
Thank you in advance.

Originally posted by Roshan on ROS Answers with karma: 51 on 2021-10-14
Post score: 0

A:

For people having the same problem as me, adding a white border around the aruco markers makes the detection significantly better. By adding just a small white border the detection range increased from 1.8 m to around 4m.

Originally posted by Roshan with karma: 51 on 2021-10-17
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by osilva on 2021-10-17:
Glad to hear this worked.


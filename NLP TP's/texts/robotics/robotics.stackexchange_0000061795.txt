Q:

How to install GPS common?

Hello, I'm currently trying to set up a GPS receiver and base station my boss purchased to work in ROS. It is a trimble Ag GPS 542 GNSS receiver ( http://ssmgps.com/pdf/AGPB_AgGPS542_BaseAndReceiver_ROW_16502.pdf). I am trying to get it to work with the gps_common package, found here: http://answers.ros.org/question/75337/gps_common-installation/
However, when I install the package, using either
sudo apt-get install ros-hydro-gps-umd

or
git clone https://github.com/ktossell/gps_umd

I get a gps_common directory containing a cmake directory, a msg directory, and a package.xml, but no src directory or CMakeLists.  Thus when I try to run nodes that are supposed to be within this package (for example,
rosrun gps_common utm_odometry_node

), it just freezes and doesn't work.  I've encountered similar problems before when downloading random ros packages, and guess the solution must somehow have to do with somehow cmaking the cmake folders or files, but I cannot for the life of me figure out how to do this.  If I cmake an individual file I get the error
 CMake Error: The source directory "/opt/ros/hydro/share/gps_common/cmake/<whatever_file_I_choose>.cmake" is a file, not a directory.

, and if I try to cmake the cmake directory, I get
  CMake Error: The source directory "/opt/ros/hydro/share/gps_common/cmake" does not appear to contain CMakeLists.txt.

Amyone know what I'm doing wrong here?  Am I at least on the right track, or is there some other way to access these nodes short of manually creating my own package and copying the contents of each file into it from github, then catkin_making? (which I have tried successfully in the past, but am tired of doing)

Originally posted by mysteriousmonkey29 on ROS Answers with karma: 170 on 2014-08-13
Post score: 0

A:

Try git clone https://github.com/ktossell/gps_umd.git instead of just /gps_umd.
Or just do a cheap and dirty way with downloading the zip file, and extracting it to your workspace.
Either way, make sure you go into the root of gps_common package and run rosmake.
../catkin_ws/src/gps_common       ---->>      rosmake
Then build everything with catkin_make
../catkin_ws/       ---->>      catkin_make

Originally posted by l0g1x with karma: 1526 on 2014-08-13
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by mysteriousmonkey29 on 2014-08-13:
Ok, I removed the package and redownloaded it with the modified git clone line you suggested.  Then I navigate into gps_common, and rosmake, but receive the following response: [ rosmake ] rosmake starting...
[ rosmake ] No package or stack specified.  And current directory 'gps_common' is not a package name or stack name.
[ rosmake ] Packages requested are: []
[ rosmake ] Logging to directory /home/randy/.ros/rosmake/rosmake_output-20140813-145138
[ rosmake ] Expanded args [] to:
[]
[ rosmake ] ERROR: No arguments could be parsed into valid package or stack names.
Comment by mysteriousmonkey29 on 2014-08-13:
I also tried rosmake gps (tab complete), and it filled in gpsd_client, which I then ran.  No errors, but I'm not sure if this is what I wanted to do.  Then I catkin_made just in case I did anything good.  Again, I can find no reference in the build log to anything clontaining "gps."
Comment by mysteriousmonkey29 on 2014-08-13:
Although the error I receive when I try to run the node as originally described is slightly different (more complete now)!:
[rospack] Error: stack/package gps_common not found
[rosrun] Couldn't find executable named utm_odometry_node below
Comment by l0g1x on 2014-08-14:
manually download the zip, extract just the gps_common folder inside to zip into your own src folder, go to the gps_common folder in your src folder, type rosmake


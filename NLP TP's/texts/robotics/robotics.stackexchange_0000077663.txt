Q:

Log the alive time of a rosnode?

I am currently working on a rosnode which purpose is to generate CSV files about certain information. One of the information i am seeking is to know how much time  a rosnode has been alive.
I know that you using ros::master::getNodes an get a vector of the active nodes, but is it possible to know how long time it has been turned on?

Originally posted by 215 on ROS Answers with karma: 156 on 2016-12-05
Post score: 2

A:

The ROS master does not track how long a node has been online, and the node list is reported by the nodes themselves, so there are some cases where a node may not be removed from the list because it shuts down improperly (ie segfault or runtime exception).
You'll probably need to write your own code which monitors which nodes are online (using the node ping method), and keeps track of the PID for each process; changes in the PID will indicate that the process has been restarted or replaced by a new node with the same name.
The rosprofiler package keeps track of which nodes are running, their PID and their CPU time, but doesn't track overall node uptime. It might be a good starting point for the tool you're trying to build.

Originally posted by ahendrix with karma: 47576 on 2016-12-05
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by 215 on 2016-12-05:
Thats exactly what i need it for.. aren't there any other way.. like using a timer or something like that?.
The node i monitor is a control_node.. to measure some performance, i need to know much time it has been on.
Comment by ahendrix on 2016-12-06:
Maybe querying the process creating time from the PID is what you're looking for: https://pythonhosted.org/psutil/#psutil.Process.create_time


Q:

gazebo crashes after C-c pr2_teleop

This happens every time so that I have to open gazebo and rviz (+ re-size those windows as I prefer). Since I'm just reporting the particular phenomenon & reproduction scenario I've been seeing, I don't know if this issue can be generalized. Any idea is appreciated.
Phenom:

Every time I C-c pr2_teleop, gazebo and rviz crash after that.

error msg in the terminal pr2_gazebo was opened in:

[gazebo-*2] process has died [pid 15754, exit code -11].

log files: /home/icg-dell-m6400/.ros/log/030eb44a-c82c-11e0-b04d-0026b9168399/gazebo-2*.log

[base_hokuyo_node-15] process has died [pid 15783, exit code -11].

log files: /home/icg-dell-m6400/.ros/log/030eb44a-c82c-11e0-b04d-0026b9168399/base_hokuyo_node-15*.log

[tilt_hokuyo_node-16] process has died [pid 15785, exit code -11].

log files: /home/icg-dell-m6400/.ros/log/030eb44a-c82c-11e0-b04d-0026b9168399/tilt_hokuyo_node-16*.log

[camera_synchronizer_node-18] process has died [pid 15800, exit code -11].

log files: /home/icg-dell-m6400/.ros/log/030eb44a-c82c-11e0-b04d-0026b9168399/camera_synchronizer_node-18*.log

gazebo-2*.log: ﻿﻿see http://pastebin.com/gchDEBSD

Env: Ubuntu 10.10, ros-diamondback-all as of Aug 16, '11. Memory 3.9 GB, Intel Core 2 Duo 2.53 GHz. Dell Precision M6400. nVidia Corporation G94M [Quadro FX 2700M], OpenGL version string: 3.3.0 NVIDIA 260.19.06
Thanks.
(UPDATE; Aug 18, 2011)
Ok I tried 2 patterns of booting order below, and I found Segfault only sometimes occurs while gazebo is running with gdb. For the 1st order below, I couldn't get backtrace. Here's the result backtraced for the 2nd one. http://pastebin.com/hcBcPNpU (however bt returned only 1 line and it seems not much new info). I also updated the environment info since it might be hardware related according to the Segfault error content.
Order-1. gazebo -> teleop -> gdb -> C-c teleop (nothing special occurs) -> teleop -> C-c teleop (gazebo crashes, gdb says "No stack")
Order-2. gazebo -> gdb -> teleop -> C-c teleop (SegFault occurs) -> teleop -> Type "cont" on gdb (gazebo crashes, gdb says "No stack")
Command used to run the programs:
gazebo: roslaunch pr2_gazebo pr2_empty_world.launch
teleop: roslaunch pr2_teleop teleop_keyboard.launch
(Update Aug 22, '11)
This phenom doesn't occur on my another machine that uses NVIDIA driver as well.
Env: Ubuntu 11.04, Kernel 2.6.38-11-generic, GNOME 2.32.1, nVidia Corporation Device 1251

Originally posted by 130s on ROS Answers with karma: 10937 on 2011-08-16
Post score: 0

Original comments
Comment by 130s on 2011-08-18:
@hsu I added commands I used for gazebo & teleop in the question body.
Comment by 130s on 2011-08-18:
@Eric Perko For the log with backtrace, please see the question body that I just updated. Thx
Comment by hsu on 2011-08-18:
in addition to bt output, please also pose the roslaunch commands you use to start things up.  thanks.
Comment by Eric Perko on 2011-08-18:
@IsaacS: when you get the SegFault in GDB, type "bt" to get a backtrace and paste that here or to pastebin. The backtrace will be much more helpful than the normal startup output since it should show exactly where the segfault occurs.
Comment by 130s on 2011-08-18:
@hsu Now I can dump with gdb. Here's the result. http://pastebin.com/2Z5aCmxj I see a Segmentation Fault occurs, but not yet figured out what's the root cause.
Comment by 130s on 2011-08-16:
@hsu thanks. All of them are executed on different terminals (am I answering your question?). I've been failing to gdb and posted a new question for that (http://answers.ros.org/question/1886/gdb-says-program-is-not-being-run-upon-gazebo).
Comment by hsu on 2011-08-16:
How are you starting up pr2_teleop/gazebo/rviz?  make sure they are not in the same launch script.  Can you get a backtrace or coredump of gazebo?  (see http://www.ros.org/wiki/pr2_simulator/Tutorials/RunningSimulatorWithGDB for reference)

A:

Just a workaround. I changed the version of the driver to the older version as follows:

previously in use) 260.19.06 NVIDIA
accelerated graphics driver (version
current)
new) 173.14.28 NVIDIA
accelerated graphics driver (version
173)

Changed by "System"->"Administration"->"Additional Drivers".
Don't know what unexpected effects might happen though.
Although I'm talking about the workaround in very specific case, I hope it helps others who have similar issue.

Originally posted by 130s with karma: 10937 on 2011-08-22
This answer was ACCEPTED on the original site
Post score: 0


Q:

Organize nodes in subdirectorys

Hello everybody,
I'm using ROS for a while now and I'm curious if it's possible to group packages in subdirectory and access them with rosrun. I already organized my code in theme-based folders in which the node folders are located. It appears that catkin has no problem with this structure whatsoever, but rosrun has. I added my src folder to ROS_PACKAGE_PATH but nothing is found. Is there a possibility to use this how I'm trying to? I know that I could just put all packages in the src folder and seperate them by name (like status_lights), but thats very messy. Has anyone a solution to my little problem?
Best Wishes,
Karl_Auer

Originally posted by Karl_Auer on ROS Answers with karma: 3 on 2015-02-24
Post score: 0

A:

You can organise your packages any way you want, catkin will crawl your directory structure and discover packages. rosrun should have no problem with this either, provided you have correctly sourced the devel/setup.bash after building your workspace. The only constraint is that catkin by default only looks for packages under the src directory in your catkin workspace.

I added my src folder to ROS_PACKAGE_PATH but nothing is found.

If you use catkin to build, and source the devel/setup.bash, you should not need to set ROS_PACKAGE_PATH yourself.

Originally posted by gvdhoorn with karma: 86574 on 2015-02-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by Karl_Auer on 2015-02-24:
The part about sourcing devel/setup.bash came to me about 5 min after I posted the question.
I think i have correctly sourced it (just typed source ~/catkin_ws/devel/setup.bash ) , but when my packages are in subfolders they're not seen by rosrun
Comment by gvdhoorn on 2015-02-24:
Have you rebuilt your workspace? After that, source the devel/setup.bash in new terminal. If rosrun then still can't find your packages, try a rospack profile (this rebuilds a cache).
Don't forget to remove any export ROS_PACKAGE_PATH lines from your .bashrc.


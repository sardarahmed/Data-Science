Q:

Asus Xtion on USB 3.0 - ROS-hydro - Ubuntu 12.10

For a few weeks I want to use pro Xtion, the USB 3.0 ports. I tried in different version of Ubuntu and ROS, but it still does not work.
Currently, I'm running Ubuntu 12.10 (64 bits), and hydro ROS. The Xtion USB 2 works well, but when I go to the USB 3.0, I have the following message:
Image: PrimeSense/SensorV2/5.1.0.41: Failed to open the USB device!

Update :
As mentioned in this thread I updated the driver used.
But now, even in USB 2.0, I have this message :
Image: PrimeSense/SensorV2/5.1.2.1: Failed to set USB interface!

As mentioned here I update the firmware of my camera, and it works on Windows on USB 3.0.
But unfortunately not with ROS ....
Update 2 :
I try to test OpenNi2 through the package in ros-hydro, when I run rosrun openni2_camera openni2_camera_node, I get the following message:
[INFO] [1378807167.725457003]: Device "1d27/0601 @ 3/3" connected

[WARN] [1378807167.728880859]: ~ device_id is not set! Using first device.
Warning: USB events thread - failed to set priority. This might causes loss of data ...

A little help would be appreciated....

Originally posted by Dyna on ROS Answers with karma: 86 on 2013-09-09
Post score: 4

Original comments
Comment by Dereck on 2013-09-10:
I know it's not much help but at some point I found an article that stated the firmware on the Xtion has a bug that makes it incompatible with the standards compliant implementation of USB3.0 in the linux kernel. I really hoped that somehow this would be fixed, but I am not optimistic about it.
Comment by Dyna on 2013-09-10:
Hello,
Thank you for your answer, is it possible to get the link to the article?
Comment by Dereck on 2013-09-10:
it was a year ago that I played with it last, so I'm afraid I don't recall the URL. :(  If you do get it working on USB 3 please update the ROS wiki and this question though :D

A:

After installing ASUS' USB 3.0 hotfix, have you tried changing the USB interface to bulk endpoints as specified here or here? Quote from the first link:

"To get the device working I used OpenNI Unstable 1.5.4.0 (https://github.com/OpenNI/OpenNI.git) and PrimeSense Sensor Unstable 5.1.2.1 (https://github.com/PrimeSense/Sensor.git)"

"After installing the driver it is necessary to change the "USB interface" that is used to BULK endpoints by uncommenting UsbInterface=2 in GlobalDefaults.ini (/usr/etc/primesense/GlobalDefaults.ini). I've also found it works when the interface is set to 0. The following comment from the file explains the meaning of the parameters:
; USB interface to be used. 0 - FW Default, 1 - ISO endpoints, 2 - BULK endpoints. Default: Arm - 2, other platforms - 1"

Originally posted by timm with karma: 376 on 2013-09-10
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Dyna on 2013-09-10:
Yeap, I did this....
Comment by Keerthi Raj on 2013-12-01:
Does this workaround works for Primesense Carmine 1.09?
Comment by domikilo on 2014-02-18:
@timm: Thank you a lot, I resolved it
Comment by RodBelaFarin on 2015-02-20:
helped - thx!


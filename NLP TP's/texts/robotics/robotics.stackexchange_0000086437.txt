Q:

How to convert rosgraph output to graphical representation?

Is there some way to convert the output of rosgraph to a graphical representation similar to the one of rqt_graph? (I am interested in a way to do that in ros1 indigo.)

Originally posted by thinwybk on ROS Answers with karma: 468 on 2018-04-09
Post score: 0

A:

It depends a bit on what you mean exactly by rosgraph output, but if you're after the kind of diagram that rqt_graph shows, then that would be basically a rendering of a dot graph.
I'm not aware of any stand-alone tools that will render those for you, but a good starting point would be the code in rqt_graph, specifically RosGraph._update_rosgraph(), which calls RosGraph._generate_dotcode() which uses RosGraphDotcodeGenerator.generate_dotgraph(..) to generate the actual dot markup.

Originally posted by gvdhoorn with karma: 86574 on 2018-04-09
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by thinwybk on 2018-04-09:
Exactly, I was thinking about a diagram. Thanks for the hint! In case one would like to add a "converter" functionality to e.g. rosgraph where would the most suitable place to add it there?
Comment by gvdhoorn on 2018-04-09:
rosgraph itself doesn't have any dependencies right now other than rospkg. It's probably best to keep it that way.
Seeing as rqt_graph already contains the infrastructure, perhaps adding a stand-alone command line script there would be nice.
Comment by gvdhoorn on 2018-04-09:
Alternatively, I could imagine that refactoring rqt_graph to make the RosGraphDotcodeGenerator into a stand-alone library might also make sense. rqt_graph could then use that, as well as a new tool that does what you are after.
Comment by thinwybk on 2018-04-09:
Using one of your suggested approaches could it be made compatible with rqt_graph - "Topic statistics"?
Comment by gvdhoorn on 2018-04-09:
I'm unsure as to what you're asking: rqt_graph already renders the topic statistics, if they are available. I haven't checked, but I would imagine that the same code that generates the dot graph adds the statistics.
Comment by thinwybk on 2018-04-09:
I have statistics enabled with rosparam set enable_statistics true. I cannot run rgt_graph for displaying a diagram on the system I am working on. I am not seeing any /statistics topic. seems like rqt_graph is not installed on there...
Comment by gvdhoorn on 2018-04-09:
Statistics gathering is independent of rqt_graph. If you're not seeing the topic then that would be a different issue. It is a prerequisite for rqt_graph (or some other tool) to visualise them though (obviously).
Comment by gvdhoorn on 2018-04-09:
Did you see the note on wiki/Topics - Topic statistics:

this parameter has to be set before you start your nodes

Comment by thinwybk on 2018-04-09:
Ah, right. I miss-interpreted the both wiki sites rqt_graph and Topics - Topic statistics (I thought the gathering relates to rqt_graph).
Comment by thinwybk on 2018-04-09:
...and I missed that the parameter has to be set before starting the nodes. Thanks!
Comment by thinwybk on 2018-04-09:
(Only for reference: Statistics info is always included in message: http://docs.ros.org/api/rosgraph_msgs/html/msg/TopicStatistics.html)
Comment by gvdhoorn on 2018-04-16:
I just came across ludusrusso/rosgraph_web_visualizer. It's not a command line tool, but might be interesting none-the-less.


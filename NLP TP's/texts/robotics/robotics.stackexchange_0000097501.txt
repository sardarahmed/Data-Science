Q:

Recommendations for multi-camera fusion for 360 deg image?

Looking for recommendations for ROS nodes or C++ libraries that can take multiple independent camera image streams and combine them into a single 360 deg image stream. Iâ€™m looking for something that handles stitching the images together rather than just overlaying them based on the URDF file. Any recommendations?

Originally posted by msmcconnell on ROS Answers with karma: 268 on 2020-11-05
Post score: 3

Original comments
Comment by peci1 on 2020-11-09:
Is the calibration between the cameras known and static? Or do you need to also do some feature matching and pose optimization before the stitching?
Comment by peci1 on 2020-11-09:
You can also give a try to panotools, but I've never used it for anything else than stitching panoramas from my outdoor trips... However, it's opensource, high quality, and it should have all the features you might need.
Comment by msmcconnell on 2020-11-09:
camera positions are static relative to each other but the system is on a moving base.

A:

For the case of static and known camera calibration, we've created a package called virtual_camera that stitches a spherical panorama from a configurable number of input cameras (we use 5 horizontal cams and 1 ceiling-looking). It hasn't been properly published anywhere, but you can access its docs and code from http://cmp.felk.cvut.cz/nifti/sw/virtual_camera/ . The code in there is a little old, I think it was last tested on Groovy or so, but it shouldn't be that difficult to get it running on modern ROS1 distros. We have an unpublished version for Melodic - if you were interested, PM me on ROS discourse (peci1).
Example input (all cameras stitched next to each other for the visualization, but normally it's 6 distinct images):

Example output:

Originally posted by peci1 with karma: 1366 on 2020-11-09
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by msmcconnell on 2020-11-09:
Thanks @peci1 ! This is exactly the kind of thing I am looking for. I will message you on discourse and I'll probably mark this as the answer, but I'll give some more time for others to respond if there is additional tooling out there.
Comment by nyxrobotics on 2021-09-13:
I came here looking for the same thing.
Can I get the source code?
Comment by peci1 on 2021-10-05:
We're now in the process of rationalizing our codebase and open-sourcing as much as possible. The virtual camera package should be released in a month or two. In the meantime, have a look at https://github.com/tu-darmstadt-ros-pkg/image_projection (maybe we'll merge our implementation with this one if we find the two close enough).
Comment by chwbo on 2022-04-06:
Hi @peci1. I'm also facing the same thing. Have you released the virtual camera package?  if so, can you share it with me?
Comment by peci1 on 2022-04-06:
I know I've already said several times it's around the corner, but a lot of things are happening now and this is not at the very top of our work list. But it is still there! I'll post here once the release is done!
Comment by Pran-Seven on 2023-02-07:
Hey, is there any update to this?
Comment by peci1 on 2023-03-05:
Time is scarcer than I though. This is still close to the top of my list, but never made it to the very top. But I still want to make the release!
Comment by KL_Newt on 2023-04-02:
Hi @peci1 will appreciate if you share when it's released!
I'm new to all these and doing them as a hobby, but what started from an idle search about how 360 cameras work turned into a fascination on how complex all these stuff are from taking pictures to stitching them to turning them into 360 pictures (still not sure if 360 refers to spherical or not). Grappling with a lot of new concepts to me from the lens all the way to the software, so this will be very interesting to me as well. Thanks in advance!
Comment by GYL_99 on 2023-08-02:
@peci1  it is amazing! Where can get the  source code?
I will appreciate if you share when it's released!


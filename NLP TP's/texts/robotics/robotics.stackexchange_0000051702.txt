Q:

Bloom has KeyError on 'groovy'

I'm trying to release a catkinized repository, but getting an error when running "git-bloom-release groovy" (section 2.2 of this tutorial):
==> git-bloom-generate -y rosdebian --prefix release/groovy groovy -i 0
+++ Cloning working copy for safety
Traceback (most recent call last):
  File "/usr/bin/git-bloom-generate", line 9, in <module>
    load_entry_point('bloom==0.3.5', 'console_scripts', 'git-bloom-generate')()
  File "/usr/lib/pymodules/python2.7/bloom/commands/git/generate.py", line 247, in main
    run_generator(generator, args)
  File "/usr/lib/pymodules/python2.7/bloom/commands/git/generate.py", line 120, in run_generator
    gen.handle_arguments, arguments)
  File "/usr/lib/pymodules/python2.7/bloom/commands/git/generate.py", line 101, in try_execute
    retcode = func(*args, **kwargs)
  File "/usr/lib/pymodules/python2.7/bloom/generators/rosdebian.py", line 33, in handle_arguments
    ret = DebianGenerator.handle_arguments(self, args)
  File "/usr/lib/pymodules/python2.7/bloom/generators/debian/generator.py", line 133, in handle_arguments
    self.distros = get_ubuntu_targets(self.rosdistro)
  File "/usr/lib/pymodules/python2.7/rosdep2/catkin_support.py", line 59, in get_ubuntu_targets
    return targets_data[rosdistro]
KeyError: 'groovy'

I have updated my packages, bloom is 0.3.5. I've also done a "rosdep update", and afterwards cleared out my temporary release repo and started over each time.

Originally posted by fergs on ROS Answers with karma: 13902 on 2013-06-04
Post score: 0

A:

OK, turns out, while I had updated everything with "ros-groovy-*", I hadn't actually updated "python-rosdep". Apt-get updating python-rosdep fixes this.

Originally posted by fergs with karma: 13902 on 2013-06-05
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by William on 2013-06-05:
Yes, that was a fix related to the new rosdistro files, updating rosdep is the correct fix for this.


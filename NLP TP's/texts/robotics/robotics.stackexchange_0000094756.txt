Q:

TIAGo Installation-Dependencies Issue

I'm using Ubuntu 18.04.4 LTS with ROS melodic

ros-melodic-desktop-full is already the newest version (1.4.1-0bionic.20200130.024635
ros-melodic-ros-core is already the newest version (1.4.1-0bionic.20191211.035951)

I followed tutorials to install TIAGo,
When I ran this command
rosdep install --from-paths src --ignore-src --rosdistro melodic --skip-keys="opencv2 opencv2-nonfree pal_laser_filters speed_limit_node sensor_to_cloud hokuyo_node libdw-dev python-graphitesend-pip python-statsd pal_filters pal_vo_server pal_usb_utils pal_pcl pal_pcl_points_throttle_and_filter pal_karto pal_local_joint_control camera_calibration_files pal_startup_msgs pal-orbbec-openni2 dummy_actuators_manager pal_local_planner gravity_compensation_controller current_limit_controller dynamic_footprint dynamixel_cpp tf_lookup opencv3"

I got this error
ERROR: the following packages/stacks could not have their rosdep keys resolved
to system dependencies:
pal_navigation_cfg_ari: Cannot locate rosdep definition for [polycost_layer]

Ps. git repo of pal_naviation_cfg_ari is below
https://github.com/pal-robotics/pal_navigation_cfg_public/tree/master/pal_navigation_cfg_ari
Updated : Problem solved with reinstall Ubuntu and all the things work like charms!!!

Originally posted by Reaper151 on ROS Answers with karma: 11 on 2020-02-16
Post score: 1

Original comments
Comment by saikishor on 2020-02-16:
This polycost_layer dependency should be added to the --skip-keys list, once you do it, it should work out of the box.
rosdep install --from-paths src --ignore-src --rosdistro melodic --skip-keys="opencv2 opencv2-nonfree pal_laser_filters speed_limit_node sensor_to_cloud hokuyo_node libdw-dev python-graphitesend-pip python-statsd pal_filters pal_vo_server pal_usb_utils pal_pcl pal_pcl_points_throttle_and_filter pal_karto pal_local_joint_control camera_calibration_files pal_startup_msgs pal-orbbec-openni2 dummy_actuators_manager pal_local_planner gravity_compensation_controller current_limit_controller dynamic_footprint dynamixel_cpp tf_lookup opencv3 polycost_layer"

Comment by Reaper151 on 2020-02-16:
I use your command but result is

pal_navigation_cfg_ari: Cannot locate rosdep definition for [visited_recovery]

then, I add it to --skip-keys list but then the error change to

ERROR: the following rosdeps failed to install
apt: command [sudo -H apt-get install ros-melodic-teb-local-planner] failed

then, I ran the command below

sudo -H apt-get install ros-melodic-teb-local-planner

and the result is

E: Unable to locate package ros-melodic-teb-local-planner

Comment by saikishor on 2020-02-16:
Ok, then try to simply remove the pal_naviation_cfg_ari package and clean your workspace and do it again. It should work.
Comment by Reaper151 on 2020-02-16:
Could you tell me what command to clean workspace?
Comment by saikishor on 2020-02-16:
You are having the issue at the rosdep install stage, so try running the command again. and see whats the issue. Make sure that you run apt-get update before
Comment by Reaper151 on 2020-02-16:
I delete pal_navigation_cfg_ari folder and I also ran apt list --installed and didn't see ros-melodic-pal_navigation_cfg_ari.
I ran sudo apt-get update  then rosdep install and get this

ERROR: the following rosdeps failed to install apt: command [sudo -H apt-get install ros-melodic-teb-local-planner] failed

Comment by roshc2 on 2020-02-16:
I'm having the exact same error. It would be very helpful if someone knows how to solve it.
Comment by Procópio on 2020-04-06:
@roshc2 which error do you have?
Comment by roshc2 on 2020-04-06:
@Procópio I'm not getting the error anymore. It was the same issue described by Reaper151. After a couple days, I reinstalled everything (including Linux) and it worked.

A:

This issue has been fixed upstream, just need to update your repo, and clean it.

This is a bug. Please create an issue in the repository https://github.com/pal-robotics/pal_navigation_cfg_public/tree/master/pal_navigation_cfg_ari
While the bug is not fixed, as mentioned by @saikishor, you can have a workaround by editing this file:
https://github.com/pal-robotics/pal_navigation_cfg_public/blob/master/pal_navigation_cfg_ari/package.xml
remove the lines 24 and 26:
  <exec_depend>visited_recovery</exec_depend>

  <exec_depend>polycost_layer</exec_depend>

then do a catkin clean -b to clean your workspace and then run the rosdep command again.

Originally posted by Procópio with karma: 4402 on 2020-02-16
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Reaper151 on 2020-02-17:\

I did your procedure
I got this

ERROR: the following rosdeps failed to install
apt: command [sudo -H apt-get install ros-melodic-teb-local-planner] failed
3. I clone link text
4. I got this
ERROR: the following rosdeps failed to install
apt: command [sudo -H apt-get install ros-melodic-robot-localization] failed
5. I clone link text
6. I got
ERROR: the following rosdeps failed to install
apt: command [sudo -H apt-get install ros-melodic-urdf-test] failed
7. BUT this time I don\t know which repo should I clone

Comment by Procópio on 2020-02-17:
The errors that you are having now are related to installing debian packages that should exist. You do not need to clone each of this repos, as they are released under ROS.
Did you correctly set up your ROS repositories?
Did you do a sudo apt-get update before running the rosdep command?
Comment by saikishor on 2020-02-17:
@Reaper151 run this command apt-cache search ros-melodic-robot-localization and let us know what you see (or) apt-cache search melodic and see if you can see other melodic packages.
Better run apt-get update before running the above commands
Comment by Reaper151 on 2020-02-17:
@Procópio yes
Comment by Reaper151 on 2020-02-17:
@saikishor
apt-cache search ros-melodic-robot-localization
Ignoring file 'realsense-public.list ' in directory '/etc/apt/sources.list.d/' as it has an invalid filename extension
apt-cache search melodic
solfege
tinyeartrainer
ros-melodic-kdl-parser-py
ros-melodic-visualization-marker-tutorials
ros-melodic-rqt-logger-level
ros-melodic-warehouse-ros
ros-melodic-cpp-common
ros-melodic-navfn
ros-melodic-moveit-commander
ros-melodic-rqt-topic
ros-melodic-sound-play
ros-melodic-roscpp-tutorials
ros-melodic-moveit-ros-manipulation
ros-melodic-forward-command-controller
ros-melodic-rosconsole-bridge
ros-melodic-visualization-msgs
ros-melodic-gazebo-ros
ros-melodic-teleop-tools-msgs
ros-melodic-geometry-msgs
ros-melodic-rqt-srv
ros-melodic-rostest
ros-melodic-twist-mux
ros-melodic-catkin
ros-melodic-rqt-shell
...and so on
Comment by saikishor on 2020-02-17:
@Reaper151 It seems the problem is not with the TIAGo simulation packages, it has something to do with your ROS setup, try to do the same using a ROS Melodic Docker and check what's happening (or) try to reinstall your ROS and check again.
Comment by Procópio on 2020-02-17:
@Reaper151, as @saikishor mentioned, it seems there is something wrong with your repositories configuration. The packages that you cannot install do exist (check here: http://packages.ros.org/ros/ubuntu/pool/main/r/).
What happens if you execute the following?
sudo apt-get update && sudo apt-get install ros-melodic-teb-local-planner ros-melodic-urdf-test ros-melodic-robot-localization
Nevertheless, I'd suggest you to open a new question, as this problem is unrelated with the original issue you were encountering.
Comment by Reaper151 on 2020-02-17:
@Procópio I ran your command and got ten some warning about "Target ... is configured  multiple times" and 3 error "unable to locate package ros-melodic-teb-local-planner / ros-melodic-urdf-test / ros-melodic-robot-localization"
Comment by Procópio on 2020-02-17:
@Reaper151 the problem you are facing now is related to your repositories configuration. These are default ROS packages that should be installed without any hassle. Review your configs in /etc/apt/sources.list and inside /etc/apt/sources.list.d/ .
As I said, this is getting out of the scope of the original question. I suggest you open a new one regarding this specific issue.
You can also google the error "Target ... is configured multiple times", and you'll get a better idea of the problem
Comment by Reaper151 on 2020-02-18:
Could you advice me how to link back to this question?
Comment by Procópio on 2020-02-18:
yes, just copy the page url and paste it in the other question.


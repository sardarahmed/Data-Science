Q:

erratic_robot simulation and diamondback

I just upgraded from cturtle to diamondback and wanted to drive around a erratic in simulation as a test if important components (rviz, gazebo, navigation etc.) are working.
Unfortunately, this is not the case. What I did is the following (and worked with cturtle instead of diamondback before):

install ros-diamondback-desktop-full (.debs)
install ros-diamondback-erratic_robot (.debs)
go to erratic_robot/erratic_navigation_apps/gazebo_demo and perform "roslaunch demo_2dnav_slam.launch"

This results in the following errors during startup of gazebo:
    [ERROR] [1299224256.641536347]: Failed to import scene containing mesh: STL: ASCII file is empty or invalid; no data loaded. Supported extensions are: *.3d;*.3ds;*.ac;*.ac3d;*.acc;*.ase;*.ask;*.b3d;*.blend;*.bvh;*.cob;*.csm;*.dae;*.dxf;*.enff;*.hmp;*.irr;*.irrmesh;*.lwo;*.lws;*.lxo;*.md2;*.md3;*.md5anim;*.md5camera;*.md5mesh;*.mdc;*.mdl;*.mesh.xml;*.mot;*.ms3d;*.ndo;*.nff;*.obj;*.off;*.pk3;*.ply;*.prj;*.q3o;*.q3s;*.raw;*.scn;*.smd;*.stl;*.ter;*.uc;*.vta;*.x;*.xml                         
    [ERROR] [1299224256.641860131]: Failed to load mesh 'package://erratic_description/meshes/erratic_top.stl'
[ERROR] [1299224256.642215065]: Unable to construct collision shape for link 'base_top_link'

and
[ERROR] [1299224260.536172680]: Client [/base_laser_self_filter] wants topic /base_scan/shadow_filtered to have datatype/md5sum [sensor_msgs/PointCloud2/1158d486dd51d683ce2f1be655c3c181], but our version has [sensor_msgs/PointCloud/d8e9c3f5afbdd8a130fd1d2763945fca]. Dropping connection. 

The latter error looks like there was a switch to PointCloud2 instead of PointCloud for the laser self filter in diamondback and erratic_robot seems to still use the cturtle signature. The first error however doesn't make immediate sense to me.
Any hints or fixes would be greatly appreciated.

Originally posted by Stefan Kohlbrecher on ROS Answers with karma: 24361 on 2011-03-03
Post score: 1

A:

Stefan,
Can you try erratic_robot stack from trunk, see if that works for you:
https://ua-ros-pkg.googlecode.com/svn/stacks/erratic_robot/trunk
The STL loading error was discussed not too long ago on the mailing list, apparently the loader gets confused between binary and ascii STL files. The ones that Solidworks generates are binary, but the loader thinks they are ascii because of the incorrect header. The weird thing is that whatever loads STLs for visual display can read them just fine, but whatever loads them to be used as collision meshes fails. I have added all meshes in DAE format, so that should work now.
The second error is about topic mismatch. The laser_filters package wasn't transitioned to PointCloud2 yet I think.

Originally posted by arebgun with karma: 2121 on 2011-03-04
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by arebgun on 2011-03-11:
Hi, this really is not an erratic specific question. I think you are better off asking this as a separate question along the lines of "How to make a robot follow a trajectory?" so that people familiar with navigation stack can chime in.
Comment by szokei on 2011-03-11:
I would like to ask if it's possible for the erratic to follow a trajectory? Thank you.
Comment by arebgun on 2011-03-05:
Stefan, I just pushed the updated erratic_robot stack into diamondback, so debs should be available soon.
Comment by arebgun on 2011-03-05:
Stefan, I will push the updated version later today, so it should be available in the next day or two as a deb package.
Comment by Stefan Kohlbrecher on 2011-03-04:
Hi Anthony, starting the SLAM demo now works fine.  Thank you for the fast response. I assume the diamondback .deb package should be updated then?


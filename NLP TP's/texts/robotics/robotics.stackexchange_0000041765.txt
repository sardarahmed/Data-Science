Q:

Receive an undefined reference error when make teleop_nao_ni

When trying to rosmake the nao_openni package I receive the following error:
Linking CXX executable ../bin/teleop_nao_ni
/opt/ros/electric/stacks/robot_model/urdf/lib/liburdf.so: error: undefined reference to 'operator<<(std::basic_ostream<char, std::char_traits >&, TiXmlNode const&)'
collect2: ld returned 1 exit status
This error only occurs on making the teleop_nao_ni executable. Anyone have any suggestions on what I can do to fix the liburdf.so error?
Note: All the dependencies for the package compile fine, the paths are correct (ros_package_path, pythonpath, pythonhome, ros_workspace) and the object file compiles so there shouldn't be an error in the cpp file.

Originally posted by Curious Joe on ROS Answers with karma: 1 on 2012-06-27
Post score: 0

A:

Hi. I had the same problem with the 'planning_models' package in 'armnavigation' stack. You need to edit manifest.xml of the urdf package and append '-ltinyxml' to the 'cpp cflags' line.
The resulting line looks like:
<cpp cflags="-I${prefix}/include" lflags="-Wl,-rpath,${prefix}/lib -L${prefix}/lib -lurdf -ltinyxml"/>

Originally posted by JÃ¼rgen Kunz with karma: 36 on 2012-07-24
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by AHornung on 2012-07-24:
I would recommend creating ticket for this fix in the bug tracker for URDF.


Q:

How to use Gazebo Ignition NavSat plugin

I'm trying to use the Navsat plugin but I can't get it working. I'm using ros-humble
I've been following the link below, but I am unable to see any navsat topic in gazebo
https://answers.gazebosim.org//question/28643/gps-sensor-plugin-in-ignition/
In my robot urdf, I have the following code
    <link name="chassis">
            ....
      <plugin filename="ignition-gazebo-navsat-system" name="ignition::gazebo::systems::NavSat"/>
      <gazebo>
        <sensor name="navsat_sensor" type="navsat">
          <always_on>1</always_on>
          <update_rate>1</update_rate>
          <topic>navsat</topic>
        </sensor>
     </gazebo>
    </link>

On my world sdf, I also included
    <world name="field">
        ...
      <spherical_coordinates>
        <surface_model>EARTH_WGS84</surface_model>
        <world_frame_orientation>ENU</world_frame_orientation>
        <latitude_deg>-22.986687</latitude_deg>
        <longitude_deg>-43.202501</longitude_deg>
        <elevation>0</elevation>
        <heading_deg>0</heading_deg>
      </spherical_coordinates>
    </world>

A:

The <plugin> should be in the world SDF file (see example).
The <gazebo> tag should be directly under <robot> in a URDF file and should reference the link it's modifying. In your case, it should be <gazebo reference="chassis">. You can refer to this documentation for more details on the <gazebo> tag.


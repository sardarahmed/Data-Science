Q:

rosjava - Subscriber java.net.ConnectException: localhost/127.0.0.1:37172 - Connection refused

Hello,
I am trying to start a ros Subscriber an android device. My sourcecode look like:

String hostLocal = InetAddressFactory.newNonLoopback().getHostAddress();
String hostMaster = ((EditText)findViewById(R.id.txtHostValue)).getText().toString();
Integer port = Integer.parseInt(((EditText)findViewById(R.id.txtPortValue)).getText().toString());
URI uri = URI.create("http://" + hostMaster + ":" + port);              
            
NodeConfiguration nodeConfiguration = NodeConfiguration.newPublic(hostLocal, uri);          
nodeConfiguration.setMasterUri(uri);
nodeConfiguration.setNodeName("nodeName");  
nodeRunner.run(new Listener(), nodeConfiguration);

If i start the ros-master local on my android device - it works fine. But if the
master is running an my PC (for example: hostMaster = "192.168.178.29"), i get an error:

E/UpdatePublisherRunnable(10630): java.lang.RuntimeException: java.net.ConnectException: localhost/127.0.0.1:37172 - Connection refused

by trying to debug your sourcecode and I have seen in  'MasterClien.java' file a following  function:

return Response.fromListChecked(node.registerSubscriber(slave.getName().toString(), subscriber
        .getTopicName().toString(), subscriber.getTopicMessageType(), slave.getUri()
        .toString()), new UriListResultFactory());

Befor I had called a funciton, I had  follwing screen:
image description http://gonzik.de:81/vor2.png
But after calling of function I have seen:
image description http://gonzik.de:81/nach2.png
You can see, that after calling a funciton it is the uri of client not the same. Is this issue known or not. What can I do?

Originally posted by eugen on ROS Answers with karma: 21 on 2012-01-01
Post score: 0

A:

It looks to me like you have not set ROS_IP on your host PC.

Originally posted by damonkohler with karma: 3838 on 2012-01-05
This answer was ACCEPTED on the original site
Post score: 0


Q:

How to build sbpl_arm_planner?

Hi there,
I'm trying to work with python scripts which use sbpl.
However I'm having a hard time building sbpl_arm_planner, it spits me a list of errors :
    In file included from /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/occupancy_grid.cpp:32:0:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/occupancy_grid.h: In member function ‘void sbpl_arm_planner::OccupancyGrid::addPointsToField(const std::vector<btVector3>&)’:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/occupancy_grid.h:198:33: error: no matching function for call to ‘distance_field::PropagationDistanceField::addPointsToField(const std::vector<btVector3>&)’
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/occupancy_grid.h:198:33: note: candidate is:
  /home/gmanfred/devel/ros/packs/arm_navigation/distance_field/include/distance_field/propagation_distance_field.h:131:16: note: virtual void distance_field::PropagationDistanceField::addPointsToField(const std::vector<tf::Vector3>&)
  /home/gmanfred/devel/ros/packs/arm_navigation/distance_field/include/distance_field/propagation_distance_field.h:131:16: note:   no known conversion for argument 1 from ‘const std::vector<btVector3>’ to ‘const std::vector<tf::Vector3>&’
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/occupancy_grid.cpp: In member function ‘void sbpl_arm_planner::OccupancyGrid::addCollisionCuboid(double, double, double, double, double, double)’:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/occupancy_grid.cpp:176:41: error: no matching function for call to ‘distance_field::PropagationDistanceField::addPointsToField(std::vector<btVector3>&)’
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/occupancy_grid.cpp:176:41: note: candidate is:
  /home/gmanfred/devel/ros/packs/arm_navigation/distance_field/include/distance_field/propagation_distance_field.h:131:16: note: virtual void distance_field::PropagationDistanceField::addPointsToField(const std::vector<tf::Vector3>&)
  /home/gmanfred/devel/ros/packs/arm_navigation/distance_field/include/distance_field/propagation_distance_field.h:131:16: note:   no known conversion for argument 1 from ‘std::vector<btVector3>’ to ‘const std::vector<tf::Vector3>&’
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/occupancy_grid.cpp: In member function ‘void sbpl_arm_planner::OccupancyGrid::visualize()’:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/occupancy_grid.cpp:208:10: error: ‘class distance_field::PropagationDistanceField’ has no member named ‘visualize’
  make[3]: *** [CMakeFiles/sbpl_arm_planner.dir/src/occupancy_grid.o] Error 1
  make[3]: *** Waiting for unfinished jobs....
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/sbpl_arm_model.cpp: In member function ‘bool sbpl_arm_planner::SBPLArmModel::computeTranslationalIK(std::vector<double>, double, std::vector<double>&)’:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/sbpl_arm_model.cpp:1031:19: warning: variable ‘g’ set but not used [-Wunused-but-set-variable]
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/bfs_3d.cpp: In member function ‘bool sbpl_arm_planner::BFS3D::runBFS()’:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/bfs_3d.cpp:236:33: warning: ‘statespace3D’ may be used uninitialized in this function [-Wuninitialized]
  In file included from /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/sbpl_collision_space.h:35:0,
                   from /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/robarm3d/environment_robarm3d.h:46,
                   from /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/src/discrete_space_information/robarm3d/environment_robarm3d.cpp:31:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/occupancy_grid.h: In member function ‘void sbpl_arm_planner::OccupancyGrid::addPointsToField(const std::vector<btVector3>&)’:
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/occupancy_grid.h:198:33: error: no matching function for call to ‘distance_field::PropagationDistanceField::addPointsToField(const std::vector<btVector3>&)’
  /home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/include/sbpl_arm_planner/occupancy_grid.h:198:33: note: candidate is:
  /home/gmanfred/devel/ros/packs/arm_navigation/distance_field/include/distance_field/propagation_distance_field.h:131:16: note: virtual void distance_field::PropagationDistanceField::addPointsToField(const std::vector<tf::Vector3>&)
  /home/gmanfred/devel/ros/packs/arm_navigation/distance_field/include/distance_field/propagation_distance_field.h:131:16: note:   no known conversion for argument 1 from ‘const std::vector<btVector3>’ to ‘const std::vector<tf::Vector3>&’
  make[3]: *** [CMakeFiles/sbpl_arm_planner.dir/src/discrete_space_information/robarm3d/environment_robarm3d.o] Error 1
  make[3]: Leaving directory `/home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/build'
  make[2]: *** [CMakeFiles/sbpl_arm_planner.dir/all] Error 2
  make[2]: Leaving directory `/home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/build'
  make[1]: *** [all] Error 2
  make[1]: Leaving directory `/home/gmanfred/devel/ros/packs/full-body-nav/sbpl_arm_planner/build'

I guess this is not expected behavior, any idea on why ?
I work on ubuntu 12.04 with ROS fuerte.
Best regards,
Guido

Originally posted by Guido on ROS Answers with karma: 514 on 2013-07-01
Post score: 0

A:

From the path above, I can tell that you installed the sbpl_arm_planner as part of the full-body-nav project, is that right? If so, as you may have found on the full-body-nav project wiki that the code was written for ROS Electric - not Fuerte. Major changes would have to be made to a bunch of the packages in that project to get them to compile under Fuerte. A version of the sbpl_arm_planner that's been updated for arm navigation in Fuerte can be downloaded here.

Originally posted by ben with karma: 674 on 2013-07-01
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Guido on 2013-07-03:
That's it. Thank you for the link to the fuerte version. Maybe putting it on the ROS wiki would be a good idea ?
Comment by ben on 2013-07-03:
Good idea. I updated these two pages: http://www.ros.org/wiki/sbpl_3dnav_planner  &  https://kforge.ros.org/Sushi/trac
Comment by Guido on 2013-08-30:
I can't see where the page has been update :s. I still see the "for ROS Electric only", but can't find the link to the fuerte version.
Comment by ben on 2013-08-30:
The link for the Fuerte version is in my answer above (look at the last sentence). Are you trying to use the arm planner on its own or as part of full-body-nav. Full-body-nav is not available for Fuerte as stated above.
Comment by Guido on 2013-08-30:
Yes, I already got and compiled it. I just thought you might put the link also in the two pages you mentioned in your previous comment. I am indeed trying to use Full-body-nav. How big is the effort to port it to Fuerte ? It is compilation issues or also APIs changes ?
Comment by ben on 2013-09-03:
I did put comments on both pages...look at the top "Note: These tutorials & code were written for ROS Electric." & "(for ROS Electric only)"....I think it's mostly API issues. Someone in the SBPL group has probably ported it and is probably using it in Fuerte. I'll ask around.


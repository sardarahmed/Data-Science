Q:

RGBDSLAM V2 catkin_make error

I'm trying to install the RGBDSLAM V2 using the steps that are shown here under the "Installation From Scratch" but failed and I can't figure out what's wrong with it.
Base path: /home/ceastech/rgbdslam
Source space: /home/ceastech/rgbdslam/src
Build space: /home/ceastech/rgbdslam/build
Devel space: /home/ceastech/rgbdslam/devel
Install space: /home/ceastech/rgbdslam/install
####
#### Running command: "make cmake_check_build_system" in "/home/ceastech/rgbdslam/build"
####
####
#### Running command: "make -j4 -l4" in "/home/ceastech/rgbdslam/build"
####
[ 14%] Built target siftgpu_proj
[ 23%] Built target rgbdslam_generate_messages_py
[ 30%] Built target rgbdslam_generate_messages_lisp
[ 37%] Built target rgbdslam_generate_messages_cpp
[ 37%] [ 37%] Built target rgbdslam_generate_messages
Built target rgbdslam_gencpp
[ 39%] [ 41%] [ 42%] [ 44%] Building CXX object rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/moc_openni_listener.o
Building CXX object rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/moc_graph_manager.o
Building CXX object rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/qtros.o
Building CXX object rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/main.o
[ 46%] Building CXX object rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/openni_listener.o
/tmp/ccJWleRv.s: Assembler messages:
/tmp/ccJWleRv.s:6501: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
/tmp/ccJWleRv.s:7191: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
make[2]: *** [rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/moc_graph_manager.o] Error 1
make[2]: *** Waiting for unfinished jobs....
/tmp/ccmwwdFs.s: Assembler messages:
/tmp/ccmwwdFs.s:6316: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
/tmp/ccmwwdFs.s:7006: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
make[2]: *** [rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/moc_openni_listener.o] Error 1
/tmp/ccemUxBv.s: Assembler messages:
/tmp/ccemUxBv.s:9379: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
/tmp/ccemUxBv.s:10069: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
make[2]: *** [rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/main.o] Error 1
/tmp/cci4xF2j.s: Assembler messages:
/tmp/cci4xF2j.s:211470: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
/tmp/cci4xF2j.s:212160: Error: no such instruction: `vfmadd312ss (%ecx),%xmm0,%xmm1'
make[2]: *** [rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/src/openni_listener.o] Error 1
make[1]: *** [rgbdslam_v2-hydro/CMakeFiles/rgbdslam.dir/all] Error 2
make: *** [all] Error 2
Invoking "make" failed

Originally posted by charkoteow on ROS Answers with karma: 121 on 2014-08-20
Post score: 1

A:

For anyone that may run into this in the future:
In catkin_ws/src/rgbdslam_v2-hydro/CMakeLists.txt add -march=native -mno-avx to  CMAKE_CXX_FLAGS :
SET(CMAKE_CXX_FLAGS "-ggdb -O3 -fPIC -std=c++0x -march=native -mno-avx")
I am running 12.04LTS with Hydro and Haswell chipset.

Originally posted by nitekrawler with karma: 93 on 2014-11-05
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by Felix Endres on 2014-11-21:
Interesting, as far as I know, catkin automatically uses -march=native, which I understand to be "autodetection" of cpu flags. So probably this autodetection fails here.
Comment by vinot on 2014-12-06:
yes, it works
thank you


Q:

[rmf_demo] How to generate the "0.yaml" file

In our attempt to try out the rmf_demo examples, there is a file specified as "0.yaml" in magni_adapter.launch.xml, which is located at /install/rmf_demo_maps/share/rmf_demo_maps/maps/office/nav_graphs/0.yaml.
The file seems to be the equivalent lanes and vertices generated from traffic_editor but in gazebo's world coordinate.
Vertices in this 0.yaml file are in meter while the coordinate of vertices in building.yaml file of traffic_editor are in pixels.
For example, coordinate of the same vertex in different files:
[office.world - magni1] : (11.553368836072618 -11.315970962255989)
[office.building.yaml - magni1_charger] : (1364.76, 1336.717)
[0.yaml - magni1_charger] : (11.553368836072618, -11.315970962255989)
Is there a conversion or any specific steps to obtain this 0.yaml?

Originally posted by webvenky on ROS Answers with karma: 117 on 2020-02-17
Post score: 0

A:

The navigation graph yaml files are generated and installed to rmf_demo_maps/share/ during build time. See CMakeLists.txt  file within the rmf_demo_maps pkg. This is achieved using the building_map_nav tool from the building_map_tools pkg in the osrf/traffic_editor  repository. The source code should provide clarity on the transformations performed.
You may also generate the nav graphs by running
ros2 run building_map_tools building_map_nav <input.yaml> <output directory>
from a terminal after sourcing the workspace where building_map_tools was built.

Originally posted by Yadunund with karma: 51 on 2020-02-24
This answer was ACCEPTED on the original site
Post score: 1


Q:

Camera plugin broken in gazebo_ros_pkgs ver 2.3.2?

I am having an issue that is possibly related to this question. The problem started after I upgraded to gazebo_ros_pkgs ver 2.3.2. I am using ROS Hydro.
I have a robot that has an ros_openni_kinect sensor. Every time I subscribe to the image topic (through rviz say, or even rostopic echo) published by that sensor, gzserver crashes with the following error message:
gzserver: /usr/include/boost/smart_ptr/shared_ptr.hpp:412: boost::shared_ptr<T>::reference boost::shared_ptr<T>::operator*() const [with T = boost::mutex, boost::shared_ptr<T>::reference = boost::mutex&]: Assertion `px != 0' failed.
Aborted (core dumped)

The stacktrace on the core dump is:
#0  0x00007f0bf5a95425 in raise () from /lib/x86_64-linux-gnu/libc.so.6
#1  0x00007f0bf5a98b8b in abort () from /lib/x86_64-linux-gnu/libc.so.6
#2  0x00007f0bf5a8e0ee in ?? () from /lib/x86_64-linux-gnu/libc.so.6
#3  0x00007f0bf5a8e192 in __assert_fail () from /lib/x86_64-linux-gnu/libc.so.6
#4  0x00007f0b74dc82b9 in gazebo::GazeboRosCameraUtils::ImageConnect() () from /opt/ros/hydro/lib/libgazebo_ros_camera_utils.so
#5  0x00007f0bdf82f23e in ros::PeerConnDisconnCallback::call() () from /opt/ros/hydro/lib/libroscpp.so
#6  0x00007f0bdf8345c9 in ros::CallbackQueue::callOneCB(ros::CallbackQueue::TLS*) () from /opt/ros/hydro/lib/libroscpp.so
#7  0x00007f0bdf83608b in ros::CallbackQueue::callAvailable(ros::WallDuration) () from /opt/ros/hydro/lib/libroscpp.so
#8  0x00007f0b74dc6ae2 in gazebo::GazeboRosCameraUtils::CameraQueueThread() () from /opt/ros/hydro/lib/libgazebo_ros_camera_utils.so
#9  0x00007f0bf67a9ce9 in thread_proxy () from /usr/lib/libboost_thread.so.1.46.1
#10 0x00007f0bf75d8e9a in start_thread () from /lib/x86_64-linux-gnu/libpthread.so.0
#11 0x00007f0bf5b52ccd in clone () from /lib/x86_64-linux-gnu/libc.so.

Originally posted by munnveed on Gazebo Answers with karma: 45 on 2013-09-25
Post score: 0

Original comments
Comment by munnveed on 2013-09-27:
I think this is the bug I am suffering from: https://github.com/ros-simulation/gazebo_ros_pkgs/pull/120

A:

This problem has been resolved in more recent versions of Gazebo.

Originally posted by nkoenig with karma: 7676 on 2020-12-18
This answer was ACCEPTED on the original site
Post score: 0


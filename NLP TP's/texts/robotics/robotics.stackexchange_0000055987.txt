Q:

Print out the contents of a string using ROS_INFO

Hi all,
I have a line such as:
   std_msgs::String s;
s.data = c.c_str(); //same data as above.
pthread_mutex_lock(&send_CS);
tum_ardrone_pub.publish(s);
pthread_mutex_unlock(&send_CS);

What I would like to do is look at the contents of s that is passed into the method publish(). I tried something like:
ROS_INFO("(2) (%s) \n",s.c_str());

But that failed at compile time. Thanks!

Originally posted by JP on ROS Answers with karma: 95 on 2013-12-09
Post score: 3

A:

std_msgs::String is not the same thing as std::string and cannot be treated as such; it is a message type that has a std::string member variable called data. Thus, the correct way to output the message string is
ROS_INFO("%s\n", s.data.c_str());

Originally posted by roehling with karma: 1951 on 2013-12-09
This answer was ACCEPTED on the original site
Post score: 13

Original comments
Comment by JP on 2013-12-09:
Thank you!
Comment by mjcarroll on 2013-12-12:
For additional clarification, using ROS_INFO_STREAM uses the ostream operator implementation (operator<<) that rosmsg generates for each message type.  The ostream operator is similar to the output you would see from rostopic echo.
Comment by JP on 2013-12-12:
Thanks for that!
Comment by Combinacijus on 2022-12-14:
For some reason c_str() didn't work for me so I used data() instead: ROS_INFO("frame: %s", msg.header.frame_id.data()); or in OP case ROS_INFO("%s\n", s.data());


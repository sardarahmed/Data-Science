Q:

How to publish a specific message to ROS?

Hello
I am using an arduino UNO to communicate with ROS and I am trying to write a program to create a publisher and a subscriber node. I am not that familiar with ROS but I was wondering if there is a way to tell ROS exactly what to do. I mean that ok I publish a message to ROS but how can ROS know what to do? Lets say for example that I have an input to my arduino coming from a PIC microcontroller and what ROS needs to do is to tell the robot to go to a specific location. Can anyone give me a hint on how to do that?
Thanks in advance

Originally posted by Engineer on ROS Answers with karma: 13 on 2012-06-14
Post score: 0

A:

you can build a specific msg system regarding to your needs in ROS.
one node may receive a message from microcontroller via serial port(etc..) then publish a topic and an other node can subscribe to that do some other things. You can design your own messaging system. You can add a msg directory in your ros package then create your msg system i.e. EncoderValues.msg in msg directory. EncoderValues.msg file may contain two variables such as int64 encoderLeft and int64 encoderRight. then you can include this msg system to your ros source as a header file similar to this
#include "your_package_name/EncoderValues.h" 

after that you can create a object your_package_name::EncoderValues enc;
whenever you receive the encoder values you can publish the enc msg as a topic.
I quickly and simply summarized what I know, you refer to ros wiki tutorials for more detailed tasks and msg systems. I recommend you to begin with this simplest one
http://www.ros.org/wiki/ROS/Tutorials/WritingPublisherSubscriber%28c%2B%2B%29

Originally posted by cagatay with karma: 1850 on 2012-06-14
This answer was ACCEPTED on the original site
Post score: 2


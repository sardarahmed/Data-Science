Q:

Incorrect marker(Mesh Resource) Visualization

Hi,
I am trying to visualize the following image as a marker(mesh resource) in the Rviz.

But, in rviz it appears as:

Can anyone please guide me on how can make my marker similar to the image above? Why am I losing all the details and RGB values in my marker?  The houses on the left (appearing in the picture) cannot be seen in the marker at all.
I did set the mesh_use_embedded_materials flag to true and all the r,g,b, values are set to zero. Also, I used online tools to convert my png image into .dae file.

Originally posted by misty on ROS Answers with karma: 25 on 2021-10-10
Post score: 0

Original comments
Comment by miura on 2021-10-10:
Have you tried setting r, g, b, and a to non-zero?
The Marker page says that setting r, g, b, and a to non-zero will add color.
http://wiki.ros.org/rviz/DisplayTypes/Marker#Mesh_Resource_.28MESH_RESOURCE.3D10.29_.5B1.1.2B-.5D
Comment by misty on 2021-10-11:
I tried. That doesn't help.
Comment by miura on 2021-10-11:
How about displaying the dae with a tool other than rviz?
This will help you to distinguish whether it is a defect in the dae file (problem in converting from png) or a problem on the rviz side.
Comment by osilva on 2021-10-14:
Pls take a look at this question: #q322457
Comment by osilva on 2021-10-14:
Specifically at this repo: https://github.com/lucasw/rviz_textured_quads/tree/image_topic looks that allows you to do what you are looking for
Comment by misty on 2021-10-15:
@osilva, thank you so much. The repository worked for me.
If it's possible for you, please put your comment as an answer so that I may accept it and close the issue.
Comment by osilva on 2021-10-15:
Glad it helped. Iâ€™ll add as answer

A:

There is Rviz plugin called Rviz Texture Quads that allows you to display textured images (realtime or static sensor_msgs/Image topics) as a marker in 3D space. In addition there is a cool demo by: https://github.com/lucasw/rviz_textured_quads/tree/image_topic that shows how to use it.
As mentioned in my comments, I found this info from prior question #q322457 so I hate to take any credit.
However, I'd like to add more info to this answer. The message is structured as follows:
sensor_msgs/Image   image           # texture 
geometry_msgs/Pose  pose            # 6DOF pose of the center of the quad to be displayed
float32             width           # physical width of the quad in Rviz unit (usually meters) 
float32             height          # physical height of the quad in Rviz unit (usually meters) 
string              caption         # [OPTIONAL] text description to appear below the quad
float32             border_size     # [OPTIONAL] size of the quad border
float32[]           border_color    # [OPTIONAL] (r,g,b,a) color value of the quad border (Size = 4) 

And please review  the source code to understand how this is achieved in case someone else may want to apply similar concept but for different application, such as AR.

Originally posted by osilva with karma: 1650 on 2021-10-15
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by misty on 2021-10-15:
Best. Thanks a lot.


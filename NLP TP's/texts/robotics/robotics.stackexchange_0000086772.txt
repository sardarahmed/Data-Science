Q:

error during generating IK solution

Hi,
i am using 5DOF robot and i want to generate IK fast plugin for my robot. I have already generated my robot.dae file. But when I try to get IK solution using  this command below
 python `openrave-config --python-dir`/openravepy/_openravepy_/ikfast.py --robot=igus1.dae --iktype=translationdirection5d --baselink=2 --eelink=6 --savefile=/home/pravin/catkin_ws

then i get this error.
2018-04-26 18:11:24,517 openrave [WARN] [colladareader.cpp:2228 ColladaReader::FillGeometryColor] transparecy is 1.000000, which means the item will be rendered invisible, this must be a mistake so setting to opaque (1)

2018-04-26 18:11:24,575 openrave [WARN] [fclspace.h:249 FCLSpace::KinBodyInfoPtr fclrave::FCLSpace::InitKinBody] Initializing link igus/world with 0 geometries (env 1) (userdatakey fclcollision0x37b00e0)

2018-04-26 18:11:25,627 openrave [WARN] [fclspace.h:249 FCLSpace::KinBodyInfoPtr fclrave::FCLSpace::InitKinBody] Initializing link igus/world with 0 geometries (env 1) (userdatakey fclcollision0x37b00e0)

INFO: moved translation Matrix([[0, 0, 0]]) to right end
INFO: moved translation Matrix([[0, 0, 0]]) to left end
INFO: moved translation on intersecting axis Matrix([[0, 0, 0]]) to left
INFO: [[1, 0, 0, 0],[0, 0, 1, 0],[0, -1, 0, 1007/10000]]
INFO: [[cos(j1), -sin(j1), 0, 0],[sin(j1), cos(j1), 0, 0],[0, 0, 1, 0]]
INFO: [[1, 0, 0, 2/125],[0, 1, 0, -26953/100000],[0, 0, 1, 0]]
INFO: [[cos(j2), -sin(j2), 0, 0],[sin(j2), cos(j2), 0, 0],[0, 0, 1, 0]]
INFO: [[0, 1, 0, 23869009/100000000],[-1, 0, 0, 312489/12500000],[0, 0, 1, 0]]
INFO: [[cos(j3), -sin(j3), 0, 0],[sin(j3), cos(j3), 0, 0],[0, 0, 1, 0]]
INFO: [[0, -1, 0, -19/100],[1, 0, 0, -7/10000000],[0, 0, 1, 0]]
INFO: [[cos(j4), -sin(j4), 0, 0],[sin(j4), cos(j4), 0, 0],[0, 0, 1, 0]]
INFO: [[31961259/40000087709, -40000074940/40000087709, 0, 0],[-40000074940/40000087709, -31961259/40000087709, 0, 0],[0, 0, -1, 0]]

Traceback (most recent call last):
  File "/usr/local/lib/python2.7/dist-packages/openravepy/_openravepy_/ikfast.py", line 9521, in <module>
    chaintree = solver.generateIkSolver(options.baselink,options.eelink,options.freeindices,solvefn=solvefn)

  File "/usr/local/lib/python2.7/dist-packages/openravepy/_openravepy_/ikfast.py", line 2281, in generateIkSolver
    chaintree = solvefn(self, LinksRaw, jointvars, isolvejointvars)

  File "/usr/local/lib/python2.7/dist-packages/openravepy/_openravepy_/ikfast.py", line 2662, in solveFullIK_TranslationDirection5D
    self.Tfinal = zeros((4,4))

  File "/usr/lib/python2.7/dist-packages/sympy/matrices/dense.py", line 1229, in zeros
    return cls.zeros(r, c)

  File "/usr/lib/python2.7/dist-packages/sympy/matrices/dense.py", line 513, in zeros
    r = as_int(r)

  File "/usr/lib/python2.7/dist-packages/sympy/core/compatibility.py", line 389, in as_int

    raise ValueError('%s is not an integer' % n)
TypeError: not all arguments converted during string formatting

I dont understand what went wrong. Can somebody help me to fix this? Thank you in advance.

Originally posted by pravin1 on ROS Answers with karma: 78 on 2018-04-26
Post score: 2

A:

i tried sympy 0.7.1 and this error is gone.

Originally posted by pravin1 with karma: 78 on 2018-05-02
This answer was ACCEPTED on the original site
Post score: 2


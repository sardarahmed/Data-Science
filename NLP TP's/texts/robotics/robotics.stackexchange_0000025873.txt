Q:

TransformBroadcaster and Gazebo plugins

Hi, I have been wanting to get various Gazebo plugins working with ROS using SDF format, starting with Differential Drive plugin. I had some small success getting Twist messages to change joint states, but now I want to get odometry working. I have just pieced together what I could from erratic_gazebo_plugins and the DRCSim plugins.
DiffDriveROSPlugin.cpp
this->transformBroadcaster = new tf::TransformBroadcaster();
Any time I want to declare a TransformBroadcaster type I get this error:
gazebo: symbol lookup error:

/home/thelegace/fuerte_workspace/ales_robot/ales_msgs/lib/libDiffDriveROSPlugin.so:
undefined symbol:
_ZN2tf20TransformBroadcasterC1Ev

If I comment out the transform broadcaster instantiation my plugin loads fine.
The pioneer2dx model file.
Please let know if there any issue with the code or anything else that I am doing.

Originally posted by Vaibhav Kapoor on Gazebo Answers with karma: 36 on 2013-02-16
Post score: 0

Original comments
Comment by Daniel Vaz on 2013-02-17:
This seems to be a a linker error, I think. Are you linking the tf library in CMakeLists.txt?

A:

Undefined symbol errors usually indicates that a library cannot be found, or an incorrect library is used.
In your case I believe Gazebo will have to find a library for tf. Check your LD_LIBRARY_PATH environment variable.

Originally posted by nkoenig with karma: 7676 on 2013-03-17
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by anonymous on 2014-10-13:
hey , I am getting the same error . I have integrated gazebo with ros using ros enabled model plugin tutorial. so do I need to use roscreate-pkg pakage-name roscpp tf in order to make the dependency to tf ? . Thanks!


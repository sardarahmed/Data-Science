Q:

camera_aravis unable to read images

Hi,
I'm using Basler aceA2040 camera. I'm able to use pylon to view the image, but when I run the node, then I get the following error.
[ INFO] [1459415796.505253469]: Attached cameras:

[ INFO] [1459415797.507343350]: # Interfaces: 2

[ INFO] [1459415797.507401522]: # Devices: 1

[ INFO] [1459415797.507439594]: Device0: Basler-21717060

[ INFO] [1459415797.508187757]: Opening: (any)

[ INFO] [1459415797.649533133]: Opened: Basler-21717060

[ INFO] [1459415797.681021939]: Set gain = 36.000000

[ INFO] [1459415797.683831732]: Camera does not support FocusPos.

[ INFO] [1459415799.696795557]:     Using Camera Configuration:

[ INFO] [1459415799.696895442]:     ---------------------------

[ INFO] [1459415799.697275209]:     Vendor name          = Basler

[ INFO] [1459415799.697664075]:     Model name           = acA2040-25gc

[ INFO] [1459415799.698057562]:     Device id            = 21717060

[ INFO] [1459415799.698113163]:     Sensor width         = 2048

[ INFO] [1459415799.698151466]:     Sensor height        = 2048

[ INFO] [1459415799.698195014]:     ROI x,y,w,h          = 0, 0, 2046, 2046

[ INFO] [1459415799.698259450]:     Pixel format         = yuv422packed

[ INFO] [1459415799.698318762]:     BytesPerPixel        = 2

[ INFO] [1459415799.698932602]:     Acquisition Mode     = Continuous

[ INFO] [1459415799.699541695]:     Trigger Mode         = Off

[ INFO] [1459415799.700273893]:     Trigger Source       = Line1

[ INFO] [1459415799.700332053]:     Can set FrameRate:     True

[ INFO] [1459415799.701400025]:     AcquisitionFrameRate = 100 hz

[ INFO] [1459415799.701450797]:     Can set Exposure:      True

[ INFO] [1459415799.701492482]:     Can set ExposureAuto:  True

[ INFO] [1459415799.701533147]:     Exposure             = 2000 us in range [24,1e+07]

[ INFO] [1459415799.701571927]:     Can set Gain:          True

[ INFO] [1459415799.701605875]:     Can set GainAuto:      True

[ INFO] [1459415799.701642581]:     Gain                 = 36.000000 % in range [36.000000,512.000000]

[ INFO] [1459415799.701679707]:     Can set FocusPos:      False

[ INFO] [1459415799.702172955]:     Network mtu          = 1500

[ INFO] [1459415799.702224649]:     ---------------------------

[ INFO] [1459415800.060123136]: using default calibration URL

[ INFO] [1459415800.060201986]: camera calibration URL: file:///home/students/.ros/camera_info/21717060.yaml

[ INFO] [1459415800.060287986]: Unable to open camera calibration file [/home/students/.ros/camera_info
/21717060.yaml]

[ WARN] [1459415800.060328945]: Camera calibration file /home/students/.ros/camera_info/21717060.yaml not found.

[ WARN] [1459415800.804103698]: Frame error: ARV_BUFFER_STATUS_TIMEOUT

I found a similar issue which suggested to generate a calibration file. I'm not sure how to do that. Could someone please suggest how to generate the correct calibration file needed by this node? ( I'm running the camera_aravis prackage).
Issue #4 Github
Thanks

Originally posted by b-sriram on ROS Answers with karma: 105 on 2016-03-31
Post score: 0

Original comments
Comment by joq on 2016-03-31:
If calibration information is not found, then your images cannot be rectified, but you should still be able to see them on the appropriate image_raw topic.
Comment by joq on 2016-03-31:
The Frame error is a different and more serious problem.
Comment by b-sriram on 2016-04-04:
Hi,
ya i tried that. In rviz when I view the image_raw topic, i get a white screen and it says 'No Image'
Comment by joq on 2016-04-04:
Apparently, the camera driver is unable to access the device. What driver are you using?
Comment by b-sriram on 2016-04-04:
aravis 0.3.6
but i could use the driver and operate the camera
Comment by joq on 2016-04-04:
I meant the ROS driver. Is it this one? http://wiki.ros.org/camera_aravis ?
Comment by b-sriram on 2016-04-04:
oh.. yes that's the one.
Comment by joq on 2016-04-04:
Apparently, it's not able to read your device.
Comment by b-sriram on 2016-04-04:
I don't think that's the problem. Its able to display my camera model and other details
Comment by joq on 2016-04-04:
It's talking to the camera, but not receiving images.
Comment by lucasw on 2016-04-04:
It may be worth trying out https://github.com/shadow-robot/basler_camera - last I checked it didn't have a lot of features but could at least demonstrate receiving images.  Or run some of the Pylon image acquisition samples.
Comment by b-sriram on 2016-04-04:
@lucasw I think that driver is for Basler USB cameras.
Comment by lucasw on 2016-04-04:
I just tried it out, it works fine on a gigabit ethernet basler camera (Ace 1300).  I haven't used usb Basler cameras but I believe the Pylon api tries to make the interface to usb or gige appear the same, but there are linux config steps to make usb work that aren't needed for ethernet.
Comment by b-sriram on 2016-04-04:
Ok.. i'll try it out. Thanks
Comment by b-sriram on 2016-04-06:
@lucasw hi i tried the driver you suggested. I'm still having a problem and not getting the raw data (its black when I view it in rviz). Can you tell me what are the changes that you made?
UPDATE: Sorry was subscribing for the wrong topic. Got raw image. Thanks

A:

That driver does not appear to be actively maintained. The ROS wiki page points to a fork of the original driver, which was converted from rosbuild to catkin and released in ROS hydro. Hydro status is end-of-life, and there have not been any releases to Indigo or Jade.
What version of ROS and OS are you using?
I'd recommend reporting your problem as a github issue. Maybe some maintainer will respond. You can make a link to this question to avoid repetition.
UPDATE: I second the suggestion of @lucasw for using basler_camera, instead.

Originally posted by joq with karma: 25443 on 2016-04-04
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by b-sriram on 2016-04-04:
I'm using ROS indigo and ubuntu 14.04.4.. Ok i'll report this as an issue. Thanks
Comment by joq on 2016-04-04:
Are you building it from source with Indigo?
Comment by b-sriram on 2016-04-04:
Ya I'm building it from source


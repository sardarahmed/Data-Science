Q:

Unable to install ros-noetic-effort-controllers "E: Internal Error, ordering was unable to handle the media swap"

Hi! When trying to install the package effort_controllers in controller-manager (I am on ros noetic) via "sudo apt-get install ros-noetic-effort-controllers" I get the error:
E: Internal Error, ordering was unable to handle the media swap

The same happens when trying to install other packages from controller-manager, such as force-torque-sensor-controller, although joint-state-controller does get installed. After searching around, I found the following solutions:
(1) Tried sudo apt-get dist-upgrade  and apt-get update
(2) Working around the problem by installing apt-fast, which acts as a wrapper for apt-get and seems to make the download process more resilient. https://github.com/ilikenwf/apt-fast. However, this does also not work since when I try sudo apt-fast install ros-noetic-effort-controllers I get the error message:
[ERROR] CUID#7 - Download aborted. URI=http://packages.ros.org/ros/ubunt... Exception: [AbstractCommand.cc:351] errorCode=3 URI=http://packages.ros.org/ros/ubunt... -> [HttpSkipResponseCommand.cc:218] errorCode=3 Resource not found

Any other suggestions? Or idea how to fix the apt-fast error? Or cause of the problem? (I feel like it has something to do with a dodgy server)
EDIT: the output of sudo apt-get check, as mentioned by Mike in the comments, is the following:

Package lists are being read... Done

Tree of requirements is being built

Status information is being read...
Done

SOLUTION
The final problem turned out o be that I had done two different ROS setups: one standard, following the ros noetic install page, and one via my company using another installation method. Thus it created two different sources.list.d, while I should actually have one. I removed the standard one and also removed its PPA.

Originally posted by jessievd on ROS Answers with karma: 18 on 2021-09-03
Post score: 0

Original comments
Comment by Mike Scheutzow on 2021-09-06:
I think this is a general Ubuntu issue, not really a ROS issue. I've never seen this error, but I think that dist-upgrade has screwed up the versions of libraries installed on your system. FYI, we never run dist-upgrade on our ROS machines.
What version of Ubuntu is this?
Please edit your question to include the full output of sudo apt-get check.
Comment by jessievd on 2021-09-07:
Hi Mike! I have Ubuntu focal release 20.04. I edited the question with the output of sudo apt-get check
Comment by gvdhoorn on 2021-09-07:
I would suggest to take a step back: remove apt-fast (adding more software is almost never a solution to anything), undo whatever you did to your sources.list (or the files in sources.list.d) and then try again.
Also: what platform is this? A plain amd64 machine, an RPi, something else? How did you install ROS? Which tutorials or instructions did you follow? What is the output of uname -a, did you add things to /etc/apt/sources.list or created a separate file (in /etc/apt/sources.list.d)? etc, etc?
It's hard to help anyone without sufficient information.
Comment by jessievd on 2021-09-07:
I am sorry for not providing enough information, I do not have that much knowledge on my PC/Ubuntu so I find it hard to decide what I should provide or what is going on. The output of uname -a is the following:
Linux jessie-HP-ZBook-Studio-G3 5.11.0-27-generic #29~20.04.1-Ubuntu SMP Wed Aug 11 15:58:17 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux
I dod not add anything in /etc/apt/sources.list and did not create a separate file.
Comment by gvdhoorn on 2021-09-07:\

I dod not add anything in /etc/apt/sources.list and did not create a separate file.

so which ROS installation tutorial did you follow?
Comment by jessievd on 2021-09-07:
http://wiki.ros.org/noetic/Installation/Ubuntu
Comment by gvdhoorn on 2021-09-07:
And did you perform step 1.2 "Setup your sources.list"?

A:

The final problem turned out o be that I had done two different ROS setups: one standard, following the ros noetic install page, and one via my company using another installation method. Thus it created two different sources.list.d, while I should actually have one. I removed the standard one and also removed its PPA.

Originally posted by jessievd with karma: 18 on 2021-09-21
This answer was ACCEPTED on the original site
Post score: 0


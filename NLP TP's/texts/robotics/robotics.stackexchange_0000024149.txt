Q:

Question about bundle adjustment

When doing bundle adjustment do landmarks gets optimized as stand alone variables or are they viewed as a function of the robots first position when they are detected?

A:

The points are assumed to be static in the global frame and optimized in the global frame. Each time the point is detected within the camera frame a measurement is taken relative to the camera. The process of reconciling the successive measurements of the same point across multiple frames by minimizing the reproduction error in each frame is what refines the location of the points in 3D space.
For more see: https://arxiv.org/pdf/1912.03858.pdf#:~:text=Bundle%20adjustment%20describes%20the%20sum,world%20frame)%20and%20camera%20parameters.


Q:

RGBDSLAM - Slow transform pub‚Äèlishing

Hi there,
I have the RGBD SLAM v2 package (http://felixendres.github.io/rgbdslam_v2/) running on a Core i7 computer with a Nvidia GTX 780 graphics card. The computer runs Ubuntu 12.04.5 and ROS Hydro.
I want to use the package for robot localization, but it seems like I'm getting a too low pub rate of the transform.
In my launch file I have:
<node pkg="tf" type="static_transform_publisher" name="map_to_local_origin" output="screen" args="0 0 0 0 0 0 /map /local_origin 10" />
<node pkg="tf" type="static_transform_publisher" name="mav_to_camera" output="screen" args="-0.05 0.15 0.8 0 1.570796 0 vision camera_link 10" />

which are transforms that I need to exist for sending the pose estimation for the robot. I also have:
 <!-- TF information settings -->
    <param name="config/fixed_frame_name"              value="/map"/>
    <param name="config/ground_truth_frame_name"       value=""/><!--empty string if no ground truth-->
    <param name="config/base_frame_name"               value="vision"/> <!-- /openni_camera for hand-held kinect. For robot, e.g., /base_link -->
    <param name="config/fixed_camera"                  value="false"/> <!--is the kinect fixed with respect to base, or can it be moved (false makes sense only if transform betw. base_frame and openni_camera is sent via tf)-->

where 'vision' is considered the base of the robot. 'till now everything is ok. The problem comes when I run the package and start processing. Using the tf view_frames, I can check the following on the tf tree:
Broadcaster: /rgbdslam
Average rate: 10000.000 Hz
Most recent transform: 1409946186.276
Buffer length: 0.000 sec

which for sure is not right, given that as said in http://answers.ros.org/question/54240/using-robot_pose_ekf-and-rgbdslam-for-path-planning-with-octomaps/?answer=54312#post-id-54312 the tf transform is being sent at a 10Hz rate supposedly, which I know it can be less, but less can't be what is in the following: (Issuing 'rosrun tf tf_monitor')
Node: /rgbdslam 0.202653 Hz, Average Delay: 1.97535 Max Delay: 11.3705

Which is extremely slow! Does someone has a tip for what is happening or why is it so slow?
Thanks in advance!

Originally posted by TSC on ROS Answers with karma: 210 on 2014-09-11
Post score: 0

Original comments
Comment by msandertar on 2015-05-09:
Hi, I have the same problem, using ros indigo dist. Some tf pubs seems to have 10000 HZ frecuency although I publish them at 10 HZ.
Could you solve your problem? How did you solve it?
Thanks.

A:

Statistics on static transforms may be a problem. I don't think the statistics calculations have been updated since static transforms were introduce. Static transforms are published only once on a latched topics and republish only on change, but they are always queryable. Thus depending on the detection method they may report very slow or very fast.

Originally posted by tfoote with karma: 58457 on 2015-05-10
This answer was ACCEPTED on the original site
Post score: 0


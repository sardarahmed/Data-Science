Q:

One-liner to find path to ROS stack or package

I was wondering if there was a clean way to find the path to a given ROS stack or package from the command line on Hydro, whether it is installed or just in the ROS_PACKAGE_PATH,  i.e. what is probably used by roscd or roslaunch with the $(find ros_stack) arguments.
If I try to find an uninstalled ROS stack with rospack find ros_stack, it fails, whereas rosstack find ros_stack succeeds. For now I use this trick which works for both packages and stacks, whether they are installed or just present in ROS_PACKAGE_PATH:
$ ros_stack_path=`roscd ros_stack && pwd && cd - &>/dev/null`

Is there a better one-liner for this?
I also noticed something surprising. If I try both rospack and rosstack on a metapackage (e.g. navigation):
$ rospack  find navigation             ---> fails
$ rosstack find navigation             ---> succeeds

Is that the expected behavior?

Originally posted by bchr on ROS Answers with karma: 596 on 2014-02-10
Post score: 1

A:

rosstack find pkg_name 2>/dev/null || rospack find pkg_name

This can also be defined as a Bash function
rosstack_pack(){
  rosstack $@ 2>/dev/null || rospack $@
}

and used like
rosstack_pack find pkg_name

Further magic would be required for autocompletion to work.

Originally posted by Ed Venator with karma: 1185 on 2014-02-10
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by bchr on 2014-02-11:
I guess this is the most direct way to go. Thanks!


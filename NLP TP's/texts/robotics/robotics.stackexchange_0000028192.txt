Q:

What part of the sdf file is sdf::ElementPtr in the load() function?

Suppose we have a Sdf file .world, like this one:
<?xml version="1.0" ?>
<sdf version="1.5">
  <world name="default">

    <model name="my_velodyne">
      <include>
        <uri>model://velodyne_hdl32</uri>
      </include>

      <!-- Attach the plugin to this model -->
      <plugin name="velodyne_control" filename="libvelodyne_plugin.so">
        <velocity>25</velocity> 
      </plugin>
    </model>

  </world>
</sdf>

When the load() function is called, for example:
#include <gazebo/gazebo.hh>
#include <gazebo/physics/physics.hh>

namespace gazebo
{
  class VelodynePlugin : public ModelPlugin
  {
    /// \brief Constructor
    public: VelodynePlugin() {}

    public: virtual void Load(physics::ModelPtr _model, sdf::ElementPtr _sdf)
    {
    }
};

  // Tell Gazebo about this plugin, so that Gazebo can call Load on this plugin.
  GZ_REGISTER_MODEL_PLUGIN(VelodynePlugin)
}

What part of the Sdf file is sdf::ElementPtr _sdf?

Originally posted by michael1234 on Gazebo Answers with karma: 5 on 2017-06-18
Post score: 0

A:

I believe _sdf is the <plugin>...</plugin> element. It helps plugins load parameters from the SDF file. The Random Velocity Plugin tutorial has some code that makes use of the sdf::ElementPtr.

Originally posted by sloretz with karma: 558 on 2017-06-19
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by michael1234 on 2017-06-20:
Thanks sloretz!


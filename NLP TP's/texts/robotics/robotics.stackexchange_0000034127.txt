Q:

Turtlebot tutorial - rviz "2D Pose Estimate" button

Hi,
I am able to complete all steps in the turtlebot tutorial, except the autonomous navigation part. I am stuck on where I am supposed to click on the "2D Pose Estimate" button in rviz and drag an arrow to set the initial location for the robot. I see the map that is loaded, and also the green laser scan dots, as well as the arrow that I drag to set the robots position and orientation. The only problem is that the location of the robot doesn't update after I release the drag.
Any suggestions?
Thanks!
David
=================
Update Additional questions (9/13)
Thanks for your answer, Hersh. But the fixed frame option was already set to /map and I still can not get the robot to move. In case it helps, here's the output from the terminal that launched rviz. Thanks!

$ rosrun rviz rviz -d `rospack find turtlebot_navigation`/nav_rviz.vcg
[ INFO] [1315931847.897357347]: Loading general config from [/home/user/.rviz/config]
[ INFO] [1315931847.905051080]: Loading display config from [/home/user/.rviz/display_config]
[ WARN] [1315931876.219268690]: Message from [/amcl] has a non-fully-qualified frame_id [map]. Resolved locally to [/map].  This is will likely not work in multi-robot systems.  This message will only print once.
[ INFO] [1315931976.304023293]: Setting pose: 0.360 -0.107 -0.427 [frame=/map]
[ INFO] [1315931996.143238028]: Setting pose: 0.322 -0.112 -0.390 [frame=/map]
[ INFO] [1315932004.627046894]: Setting goal: Frame:/map, Position(-0.084, 0.127, 0.000), Orientation(0.000, 0.000, 0.996, 0.086) = Angle: 2.970

[ INFO] [1315932008.714840910]: Setting goal: Frame:/map, Position(-0.203, 0.249, 0.000), Orientation(0.000, 0.000, 0.987, 0.159) = Angle: 2.822

Originally posted by C on ROS Answers with karma: 13 on 2011-09-07
Post score: 1

Original comments
Comment by C on 2011-09-14:
Thanks hersh. Yes, those commands show the message, publisher and subscriber correctly. But it still doesn't move the robot!!!!
Comment by hersh on 2011-09-13:
If you run "rostopic echo /initialpose" in a terminal (leave it running) and then try the "2D Pose Estimate" button, you should see a message with printed with header, pose, and covariance sections.  Try "rostopic info /initialpose".  It should show rviz as the publisher and amcl as the subscriber.
Comment by C on 2011-09-07:
Um... I don't think they center around the arrow... Drawing an arrow has no effect. (both for "2D Pose estimate" and "2D Nav Goal" button).  Though the robot seems to be roughtly at the correct location on the map.
Comment by dornhege on 2011-09-07:
Yes! Do they center around the arrow, when you draw it?
Comment by C on 2011-09-07:
I'm not sure if the localization is running. I do see a bunch of red arrows, which get updated when I drive a bit. Are these particles?
Comment by dornhege on 2011-09-07:
Is the localization running? Can you see particles? Do they move/change when you drive a bit?

A:

This problem can be caused by having an incorrect "Fixed Frame" in rviz.  For the "2d Nav Goal" and "2d Pose Estimate" buttons to work, the Fixed Frame must be set to "map".
The idea is that you are sending pose information to the navigation system, and it needs to know what coordinate frame the information is relative to.  The nav system can only use this data if it is in the "map" coordinate frame.

Originally posted by hersh with karma: 1351 on 2011-09-12
This answer was ACCEPTED on the original site
Post score: 5

Original comments
Comment by Brian Gerkey on 2011-09-12:
amcl should accept an initial pose in any frame; Kevin recently noticed that it doesn't actually work like that: https://code.ros.org/trac/ros-pkg/ticket/5148


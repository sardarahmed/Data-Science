Q:

How to communicate between Siemens PLC and ROS

Hi everyone,
I need to connect my ROS system with Siemens PLC .
I am unable to find the Tutorials / Guide to do . But I have seen the tutorial page months ago but now I am unable to find that.
Please anyone could help me to find that.
Thanks in advance.
Regards,
Arunkumar

Originally posted by Arun_kumar on ROS Answers with karma: 11 on 2021-10-29
Post score: 1

Original comments
Comment by osilva on 2021-10-29:
Take a look at these tutorials: https://github.com/ros-industrial/siemens_tutorials
There is lots of info under ROS Industrial. Hope that helps.
Comment by Arun_kumar on 2021-10-29:
Thanks osilva,
But , I want to use Siemens S7-1200 PLC to connect with my ROS system using TCP/IP or any other preferred communication protocols.
To Control some done stream automations and stream data from sensors.

A:

Hey there,
Depends on what you need. The CP card from the GitHub above is one way to do it with Profinet.
Depending on the PLC you are using you could use..: Modbus, TCP/IP, OPC UA, S7-Connect, MQTT,..  just to name a few.
But your requirement is really the key factor.
Do you just want to toggle some „fancy“ lights or things that are not super time critical..? Or do you want to stream sensor data or even control I.e. an AGV with the SIMATIC SIMOVE Library..?
If so, you would probably need an cmd_vel / odom Interface, that just talks with the PLC.
Or do you want to control a robot arm of 8 different well known vendors with the standardized SIMATIC Robot library? In that case you might need a different applicative interface.
All of this is feasible, we just need to learn more about your requirement.
Please specify your concrete need, so we can help you better.
In the meantime I‘m searching for a better contact touchpoint at Siemens for such kind of questions. Do you already have a Siemens Sales representative to contact? If so, he can contact the DI FA S SUP SVS department with the reference to this question.
Thank you and looking forward in hearing back from you!
Your friendly SIMATIC System Support :)

Originally posted by flo with karma: 111 on 2021-10-29
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by osilva on 2021-10-29:
Awesome support @flo
Comment by Arun_kumar on 2021-10-29:
Hey flo @flo
Thanks for your Support.
I am going to use S7-1200 PLC (or suggest some other one if it supports) .
My requirement is to control and use data from AGV and also stream sensor data from AGV and doing some down stream automation applications from PLC .
These are my requirement.
I am not having any Siemens Sales person contact.
Eagerly waiting for your reply .
Regards,
Arunkumar
Comment by flo on 2021-10-30:
Hey @Arun_kumar,
Thank you for specifying your requirement.
A S7-1200 PLC is to the best of my knowledge sufficient to deal with your use case, depending what add-ons you plan of course. Don‘t forget to take the F version if you are planing to do a product and need safety features.
In general, while you can do all the mathematics on your own regarding your AGV kinematics, we highly encourage you to use our free SIMOVE Carrier Control library. The only thing you need to do to get it, is take part in one of the trainings: https://www.sitrain-learning.siemens.com/DE/en/rw6373/Online-Training-SIMOVE-Carrier-Control
Otherwise the question ping-pong gets to big for such an extensive library.
It helps you a lot if you are using Siemens drives or drives that are controlled by your PLC. We have already a lot of customers successfully using it in all kinds and sizes of AGVs.
Regarding ROS, TCP/IP might be the best with this kind of PLC. Bigger PLCs might bring faster interfaces.
Comment by flo on 2021-10-30:
As custom TCP/IP interfaces is sadly not that easily flexible, there might be some other alternatives based on other SIMATIC PLCs.
We have some TCP/IP based prototypes to work with the SIMOVE library, but as you mentioned you probably don‘t just want to use cmd_vel and odom. So each user wants to add something here and there. For that a TCP/IP Interface is not the best to handle.
We know that and are currently looking for a more flexible solution.
As I‘m still waiting for a good contact point on my site, it would be best if you could share your contact information.
I‘ll try then to contact you from within my network.
I‘ll update this comment here with an address to contact, if others also have a need for such solutions.
BTW we are mostly focusing on ROS2, but I‘m sure if your are depending on ROS1 (melodic) we will also find a solution.
Cheers from Germany
Comment by Arun_kumar on 2021-10-30:
Hey ,
Thanks for your suggestions
You have suggested to attend take part in one of the trainings :- https://www.sitrain-learning.siemens.com/DE/en/rw6373d/Online-Training-SIMOVE-Carrier-Control_Dates_and_Registration.
But I am  not using Siemens drivers . I am using some other motor drivers.
So by attending that training could I am  able to use the third party motor drivers?
Also I want to use /cmd_vel and /odom and also all topics from my ROS system (i.e scanner topic , map topic)
Could you tell me if there is any open source solution or package  available provided by ROS  to connect PLC and my ROS system to connect between them??
Here is my contact mail id : arunkumarbak23699@gmail.com
Regards,
Arunkumar
Comment by flo on 2021-11-02:
Hey @Arun_kumar,
I just wrote you an eMail with a tutorial to get an support for you in regards our SIMATIC products with ROS, especially in the AGV context.
If others are interested as well, please klick the "Support Request" link in red on this website about SIMOVE: https://support.industry.siemens.com/cs/ww/en/view/109755405
Feel free to enter ROS as the subject of your SR (Service Request).
Hope to hear from you soon!
Kind regards,
Florian
Comment by Arun_kumar on 2021-11-15:
Hey flo ,
I just saw your comment sorry for that coz we were in holidays for past week .
Sorry about that.
I received your mail , and done the service request based on the tutorials.
But I need to know what are all can be done by using SIMOVE in my ROS Application?
Can you kindly tell me??
Kind Regards,
Arunkumar


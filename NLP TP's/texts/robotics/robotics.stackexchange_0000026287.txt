Q:

gzclient segfaults at start

HI all,
I've been running into trouble when starting gzclient lately. I looked into the troubleshooting on gazebo wiki about changing OGRE PTT but that didn't do the work. gzserver is running properly but gzclient.log is giving me this error "Failed to create connection to remote host".
I can see the client window appearing shorting before a segfault. I built OGRE 1.8.1 libraries from source and I built Gazebo from tip. I tested gzclient from apt-get installation and the same error appears (with the same gdb backtrace).
The world name is "default". I've tested running gzserver with gzstats and gztopic and the outputs don't look suspicious.
I'm attaching a bunch of logs that might be useful. Thanks!
gzclient.log:
[1366930941 627885194] Failed to create connection to remote host[171.65.103.180:53781]
[1366930941 628243807] Failed to create connection to remote host[171.65.103.180:49378]
[1366930941 628494761] Failed to create connection to remote host[171.65.103.180:53781]

gzserver.log:
[1366930195 427246314] ODE body for link [link] does not exist, GetGravityMode returns default of 0
[1366930195 427275617] ODE body for link [link] does not exist, GetKinematic returns default of 0
[1366930195 427281517] ODE body for link [link] does not exist, GetEnabled returns default of 1
[1366930195 627958307] ODE body for link [link] does not exist, GetGravityMode returns default of 0
[1366930195 628013172] ODE body for link [link] does not exist, GetKinematic returns default of 0
[1366930195 628027484] ODE body for link [link] does not exist, GetEnabled returns default of 1
[1366930239 127598488] ODE body for link [link] does not exist, GetGravityMode returns default of 0
[1366930239 127630482] ODE body for link [link] does not exist, GetKinematic returns default of 0
[1366930239 127637804] ODE body for link [link] does not exist, GetEnabled returns default of 1
[1366930239 328352826] ODE body for link [link] does not exist, GetGravityMode returns default of 0
[1366930239 328388069] ODE body for link [link] does not exist, GetKinematic returns default of 0
[1366930239 328394602] ODE body for link [link] does not exist, GetEnabled returns default of 1
[1366930941 722229701] ODE body for link [link] does not exist, GetGravityMode returns default of 0
[1366930941 722292828] ODE body for link [link] does not exist, GetKinematic returns default of 0
[1366930941 722308807] ODE body for link [link] does not exist, GetEnabled returns default of 1
[1366930941 722487853] ODE body for link [link] does not exist, GetGravityMode returns default of 0
[1366930941 722510598] ODE body for link [link] does not exist, GetKinematic returns default of 0
[1366930941 722523862] ODE body for link [link] does not exist, GetEnabled returns default of 1

Part of Ogre log that might look interesting:
11:34:48: Can't assign material _NULL_ to SubEntity of SkyXMeshEnt because this Material does not exist. Have you forgotten to define it in a .material script?
11:34:49: Texture: SkyX_Starfield.png: Loading 1 faces(PF_A8R8G8B8,512x512x1) with 5 generated mipmaps from Image. Internal format is PF_A8R8G8B8,512x512x1.
11:34:49: Texture: SkyX_Moon.png: Loading 1 faces(PF_A8R8G8B8,512x512x1) with 5 generated mipmaps from Image. Internal format is PF_A8R8G8B8,512x512x1.
11:34:49: Texture: SkyX_MoonHalo.png: Loading 1 faces(PF_A8R8G8B8,512x256x1) with 5 generated mipmaps from Image. Internal format is PF_A8R8G8B8,512x256x1.
11:34:49: Texture: Noise.jpg: Loading 1 faces(PF_R8G8B8,1024x1024x1) with 5 generated mipmaps from Image. Internal format is PF_X8R8G8B8,1024x1024x1.
11:34:49: GLRenderSystem::_createRenderWindow "OgreWindow(1)", 1696x1183 windowed  miscParams: FSAA=4 externalGLControl= parentWindowHandle=11834096:0:104857636 
11:34:49: GLXWindow::create used FBConfigID = 353

gdb backtrace:
Program received signal SIGSEGV, Segmentation fault.
Ogre::GLRenderSystem::setScissorTest (this=0x7fffd8e221f8, enabled=224, left=140736832086520, top=4081, right=3, bottom=2097152)
    at /home/kevinux/projects/Visualizer/tools/Ogre/ogre_src_v1-8-1/RenderSystems/GL/src/OgreGLRenderSystem.cpp:3278
3278            bool flipping = mActiveRenderTarget->requiresTextureFlipping();
(gdb) bt
#0  Ogre::GLRenderSystem::setScissorTest (this=0x7fffd8e221f8, enabled=224, left=140736832086520, top=4081, right=3, bottom=2097152)
    at /home/kevinux/projects/Visualizer/tools/Ogre/ogre_src_v1-8-1/RenderSystems/GL/src/OgreGLRenderSystem.cpp:3278
#1  0x00007ffff04aebf8 in CEGUI::OgreGeometryBuffer::OgreGeometryBuffer(CEGUI::OgreRenderer&, Ogre::RenderSystem&) () from /usr/lib/libCEGUIOgreRenderer-0.7.5.so
#2  0x00007ffff04b4159 in CEGUI::OgreRenderer::createGeometryBuffer() () from /usr/lib/libCEGUIOgreRenderer-0.7.5.so
#3  0x00007ffff07ec78e in CEGUI::MouseCursor::MouseCursor() () from /usr/lib/libCEGUIBase-0.7.5.so
#4  0x00007ffff08143b3 in CEGUI::System::createSingletons() () from /usr/lib/libCEGUIBase-0.7.5.so
#5  0x00007ffff08171d3 in CEGUI::System::System(CEGUI::Renderer&, CEGUI::ResourceProvider*, CEGUI::XMLParser*, CEGUI::ImageCodec*, CEGUI::ScriptModule*, CEGUI::String const&, CEGUI::String const&) () from /usr/lib/libCEGUIBase-0.7.5.so
#6  0x00007ffff0817b5d in CEGUI::System::create(CEGUI::Renderer&, CEGUI::ResourceProvider*, CEGUI::XMLParser*, CEGUI::ImageCodec*, CEGUI::ScriptModule*, CEGUI::String const&, CEGUI::String const&) () from /usr/lib/libCEGUIBase-0.7.5.so
#7  0x00007ffff7351827 in gazebo::rendering::GUIOverlay::Init(Ogre::RenderTarget*) () from /home/kevinux/projects/Visualizer/install/gazebo/lib/libgazebo_rendering.so.1
#8  0x00007ffff73b175e in gazebo::rendering::UserCamera::SetRenderTarget(Ogre::RenderTarget*) ()
   from /home/kevinux/projects/Visualizer/install/gazebo/lib/libgazebo_rendering.so.1
#9  0x00000000004a3143 in gazebo::gui::GLWidget::showEvent(QShowEvent*) ()
#10 0x00007ffff5e033f5 in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#11 0x00007ffff5db2894 in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#12 0x00007ffff5db7713 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#13 0x00007ffff588fe9c in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#14 0x00007ffff5e05810 in QWidgetPrivate::show_helper() () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#15 0x00007ffff5e05b02 in QWidget::setVisible(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#16 0x00007ffff5e05676 in QWidgetPrivate::showChildren(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#17 0x00007ffff5e056fd in QWidgetPrivate::show_helper() () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#18 0x00007ffff5e05b02 in QWidget::setVisible(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#19 0x00007ffff5e05676 in QWidgetPrivate::showChildren(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#20 0x00007ffff5e056fd in QWidgetPrivate::show_helper() () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#21 0x00007ffff5e05b02 in QWidget::setVisible(bool) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#22 0x00007ffff58a9446 in QObject::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#23 0x00007ffff5e02b7b in QWidget::event(QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#24 0x00007ffff5db2894 in QApplicationPrivate::notify_helper(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#25 0x00007ffff5db7713 in QApplication::notify(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#26 0x00007ffff588fe9c in QCoreApplication::notifyInternal(QObject*, QEvent*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#27 0x00007ffff5893c6a in QCoreApplicationPrivate::sendPostedEvents(QObject*, int, QThreadData*) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#28 0x00007ffff58bef93 in ?? () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#29 0x00007fffefb6bd53 in g_main_context_dispatch () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#30 0x00007fffefb6c0a0 in ?? () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#31 0x00007fffefb6c164 in g_main_context_iteration () from /lib/x86_64-linux-gnu/libglib-2.0.so.0
#32 0x00007ffff58bf3bf in QEventDispatcherGlib::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#33 0x00007ffff5e5ad5e in ?? () from /usr/lib/x86_64-linux-gnu/libQtGui.so.4
#34 0x00007ffff588ec82 in QEventLoop::processEvents(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#35 0x00007ffff588eed7 in QEventLoop::exec(QFlags<QEventLoop::ProcessEventsFlag>) () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#36 0x00007ffff5893f67 in QCoreApplication::exec() () from /usr/lib/x86_64-linux-gnu/libQtCore.so.4
#37 0x00000000004a885c in gazebo::gui::run(int, char**) ()
#38 0x00000000004881a9 in main ()

Originally posted by kevinux on Gazebo Answers with karma: 11 on 2013-04-26
Post score: 1

A:

This post in Ogre forum looks relevant: http://www.ogre3d.org/forums/viewtopic.php?f=2&t=72723

Originally posted by iche033 with karma: 1018 on 2013-04-28
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by kevinux on 2013-04-29:
I got rid of 1.8.1 installation and now it works fine.


Q:

TF frames order, which should be fixed and which should be the parent and child?

Mobile robot moving around static known map. Map was built with hector SLAM.
Is that the right order for the frame tree?
Do I need the base_footprint?
Fixed fram Odom
Tree
--> odom --> base_link --> laser --> map

Originally posted by karimemara17 on ROS Answers with karma: 23 on 2018-11-20
Post score: 0

A:

You should have a look at the different REP related to frames : REP 103, REP 105 and REP 120.
The standard tf tree in your case looks like : map -> odom -> base_link -> laser. Map should be at the top of the tf tree since it's the world frame.
It's not required to have the base_footprint, it's just the base_link frame with z=0, you are free to create it or not.

Originally posted by Delb with karma: 3907 on 2018-11-21
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by karimemara17 on 2018-11-21:
And in RVIZ the map should be the fixed frame? So when I estimate the pose and give it the goal it be on the map right?
I will take a look at the different REP and will update the question.
Thank you for help!
Comment by Delb on 2018-11-21:
The fixed frame is mostly for visualization purpose you could even set it on a wheel (eventhough it's stupid).
Do you talk about 2D pose estimate and 2D nav goal in rviz ? If so then it will be according to the fixed frame of rviz, that's why it's better to set map as the fixed frame.
Comment by Delb on 2018-11-21:
If not then it's up to you to define the reference frame_id when giving a goal (which sould be map).
Comment by karimemara17 on 2018-11-21:
Yes it I was talking about the 2D pose estimate and 2D nav goal in rviz. I did all that and set the frames in the order you suggested and it still doesn't want to move. It does this when estimating the 2D pose
(https://drive.google.com/file/d/1AKhtZoMIMrkTengJJV6RVGA-c4bFaosM/view?usp=sharing))
Comment by karimemara17 on 2018-11-21:
Also I should mention that I'm running rviz and navigation stake on a pc while the lidar and the base are on Raspberry Pi over network.
I also tried roswtf and I gave me an error something like
ERROR The following nodes should be connected but aren't
GlobalCostmapFootprint --> localCM footprint
Comment by Delb on 2018-11-22:
The behavior in your video is very strange, I would suggest you to create a new question for this describing everything you do that result to this (the move_base config, the launch files and the commands you run for example).
Comment by karimemara17 on 2018-11-22:
Thank you again, and yes I just posted the question: https://answers.ros.org/question/309152/strange-behavior-between-move_base-navigation-stack-and-rviz/


Q:

How to publish custom topic from command line

Hi to all,
I have a ROS Node that uses custom messages:
//robo_io.msg
bool out_0
bool out_1
int64 var1

I publish them from my node in C++ in this way:
var_pub = n.advertise<robo_explorer::robo_io>("/robo_explorer/io_status, 1000);

and it works very well!
The problem is that I would like to send some messages by using the terminal, but I'm having problems with the syntax to use.
I tried with:
rostopic pub /robo_explorer/io_status std_msgs/Bool "out_1: true" 

but it says that there is no field name out_1.
Can you help, me?
Thank you!

Originally posted by Marcus Barnet on ROS Answers with karma: 287 on 2020-11-18
Post score: 0

A:

To publish on a topic you need to use the topic type of that topic (just like you are doing in C++).
rostopic pub /robo_explorer/io_status robo_explorer/robo_io "{ out_1: true }"
Assuming that's the namespace and name of your custom message and you've sourced your workspace in the current shell (so that rostopic can find the custom message definition).

Originally posted by chfritz with karma: 553 on 2020-11-18
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by lindzey on 2020-11-19:
Additionally, you should be able to use tab completion after typing rostopic pub /robo_explorer/io_status, and it will automagically fill in both the message type and then the correct syntax to specify the values.
Comment by Marcus Barnet on 2020-12-02:
Thank you!!! It works fine!


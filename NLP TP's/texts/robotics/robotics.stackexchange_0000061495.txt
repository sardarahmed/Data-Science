Q:

Message type can't be found with catkin_make

So I'm trying to make a publisher to publish some data from a speed controller and I know how I can get the data. I decided to use a custom message almost the same to the Pose.msg in turtlesim (with fewer fields). However whenever I run catkin make I get this error.
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp: In function ‘int main(int, char**)’:
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp:19:36: error: ‘Pose’ was not declared in this scope
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp:19:36: note: suggested alternative:
/home/ros/catkin_ws/devel/include/bot/Pose.h:85:45: note:   ‘bot::Pose’
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp:19:59: error: no matching function for call to ‘ros::NodeHandle::advertise(const char [10], int)’
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp:19:59: note: candidates are:
/opt/ros/hydro/include/ros/node_handle.h:236:15: note: template<class M> ros::Publisher ros::NodeHandle::advertise(const string&, uint32_t, bool)
/opt/ros/hydro/include/ros/node_handle.h:300:13: note: template<class M> ros::Publisher ros::NodeHandle::advertise(const string&, uint32_t, const SubscriberStatusCallback&, const SubscriberStatusCallback&, const VoidConstPtr&, bool)
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp:29:8: error: expected ‘;’ before ‘p’
/home/ros/catkin_ws/src/bot/src/wheeldata.cpp:30:3: error: ‘p’ was not declared in this scope
make[2]: *** [bot/CMakeFiles/wheeldata.dir/src/wheeldata.cpp.o] Error 1
make[1]: *** [bot/CMakeFiles/wheeldata.dir/all] Error 2
make: *** [all] Error 2
Invoking "make" failed

Here is the CMakeList.txt:
cmake_minimum_required(VERSION 2.8.3)
project(bot)

find_package(catkin REQUIRED COMPONENTS
  roscpp
  std_msgs
  message_generation
  bot
)

################################################
## Declare ROS messages, services and actions ##
################################################
## Generate messages in the 'msg' folder
add_message_files( DIRECTORY msg
   FILES
   Pose.msg
)

## Generate added messages and services with any dependencies listed here
#generate_messages(
#  DEPENDENCIES
#  std_msgs
  
#)

catkin_package(CATKIN_DEPENDS
roscpp 
std_msgs
message_runtime 
)

catkin_package()

###########
## Build ##
###########

## Specify additional locations of header files
## Your package locations should be listed before other locations
# include_directories(include)
include_directories(
  ${catkin_INCLUDE_DIRS}
)

## Add cmake target dependencies of the executable/library
## as an example, message headers may need to be generated before nodes
# add_dependencies(bot_node bot_generate_messages_cpp)

# include_directories(include ${catkin_INCLUDE_DIRS})

 add_executable(wheeldata src/wheeldata.cpp)
 target_link_libraries(wheeldata ${catkin_LIBRARIES})
 add_dependencies(wheeldata bot_generate_messages_cpp)

Here is the package.xml:
<?xml version="1.0"?>
<package>
  <name>bot</name>
  <version>0.0.0</version>
  <description>The bot package</description>

 
  <!-- The *_depend tags are used to specify dependencies -->
  <!-- Dependencies can be catkin packages or system dependencies -->
  <!-- Examples: -->
  <!-- Use build_depend for packages you need at compile time: -->
  <build_depend>message_generation</build_depend>
  <!-- Use buildtool_depend for build tool packages: -->
  <!--   <buildtool_depend>catkin</buildtool_depend> -->
  <!-- Use run_depend for packages you need at runtime: -->
  <run_depend>message_runtime</run_depend>
  <!-- Use test_depend for packages you need only for testing: -->
  <!--   <test_depend>gtest</test_depend> -->
  <buildtool_depend>catkin</buildtool_depend>
  <build_depend>roscpp</build_depend>
  <build_depend>rospy</build_depend>
  <build_depend>std_msgs</build_depend>
  <run_depend>roscpp</run_depend>
  <run_depend>rospy</run_depend>
  <run_depend>std_msgs</run_depend>

  <!-- The export tag contains other, unspecified, tags -->
  <export>
    <!-- You can specify that this package is a metapackage here: -->
    <!-- <metapackage/> -->

    <!-- Other tools can request additional information be placed here -->

  </export>
</package>  

And here is the code:
#include "ros/ros.h"
#include "std_msgs/String.h"
#include "bot/Pose.h"
#include <sstream>
#include <stdio.h>      // standard input / output functions
#include <stdlib.h>
#include <string.h>     // string function definitions
#include <unistd.h>     // UNIX standard function definitions
#include <fcntl.h>      // File control definitions
#include <errno.h>      // Error number definitions
#include <termios.h>    // POSIX terminal control definitions

int maestroGetPosition(int fd, unsigned char channel);

 int main(int argc, char *argv[]) {
    ros::init(argc, argv, "wheeldata");
    ros::NodeHandle n;
    ros::Publisher data = n.advertise<Pose>("wheeldata", 1000);

    int usb = open( "/dev/ttyACM0", O_RDWR| O_NOCTTY);

    ros::Rate loop_rate(10);

    int count = 0;

    while (ros::ok()) {

        Pose p;
        p.linear_velocity = maestroGetPosition(usb, 0);
        p.angular_velocity = maestroGetPosition(usb, 0);

        data.publish(p);

         ros::spinOnce();
  
      loop_rate.sleep();
      ++count;
    }

    return 0;
}

I've tried bot::Pose and it does not seem to work.
I've been stuck for a whole day. Any help would be greatly appreciated!
Edit: I get this error
CMake Error at /home/ros/catkin_ws/build/bot/cmake/bot-genmsg.cmake:35 (add_custom_target):
  add_custom_target cannot create target "bot_generate_messages_cpp" because
  another target with the same name already exists.  The existing target is a
  custom target created in source directory "/home/ros/catkin_ws/src/bot".
  See documentation for policy CMP0002 for more details.
Call Stack (most recent call first):
  /opt/ros/hydro/share/genmsg/cmake/genmsg-extras.cmake:299 (include)
  bot/CMakeLists.txt:22 (generate_messages)

CMake Error at /home/ros/catkin_ws/build/bot/cmake/bot-genmsg.cmake:64 (add_custom_target):
  add_custom_target cannot create target "bot_generate_messages_lisp" because
  another target with the same name already exists.  The existing target is a
  custom target created in source directory "/home/ros/catkin_ws/src/bot".
  See documentation for policy CMP0002 for more details.
Call Stack (most recent call first):
  /opt/ros/hydro/share/genmsg/cmake/genmsg-extras.cmake:299 (include)
  bot/CMakeLists.txt:22 (generate_messages)
CMake Error at /home/ros/catkin_ws/build/bot/cmake/bot-genmsg.cmake:93 (add_custom_target):
  add_custom_target cannot create target "bot_generate_messages_py" because
  another target with the same name already exists.  The existing target is a
  custom target created in source directory "/home/ros/catkin_ws/src/bot".
  See documentation for policy CMP0002 for more details.
Call Stack (most recent call first):
  /opt/ros/hydro/share/genmsg/cmake/genmsg-extras.cmake:299 (include)
  bot/CMakeLists.txt:22 (generate_messages)

if this is uncommented:
## Generate added messages and services with any dependencies listed here
#generate_messages(
#  DEPENDENCIES
#  std_msgs

#)

Originally posted by trc123 on ROS Answers with karma: 5 on 2014-08-05
Post score: 0

A:

It looks like you're using the bot/Pose message in another package as well and added it to the dependencies. See this answer especially the last part about custom messages being used in different custom packages.
I think you are using the bot/Pose message somewhere else (a subscriber?!) and added it to the add_dependencies statement but not to the package.xml.
Regarding the code, it has to be bot::Pose otherwise it won't find it.
Also you should remove bot from
find_package(catkin REQUIRED COMPONENTS
roscpp
std_msgs
message_generation
bot
)

Because you are trying to build the bot package so looking for it with find_package at the same time might have unwanted effects.

Originally posted by Chrissi with karma: 1642 on 2014-08-06
This answer was ACCEPTED on the original site
Post score: 2


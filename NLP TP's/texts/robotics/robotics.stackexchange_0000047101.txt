Q:

Launching roscore in groovy fails

Hi,
I'm testing the new ros-groovy release and for some reason I cannot launch roscore:
I have the following version of ros installed:
$ dpkg -l ros-groovy-ros-comm
...
ii  ros-groovy-ros-comm  1.9.39-0precise-2012

After sourcing /opt/ros/groovy/setup.bash my environment looks like this:
env | grep ros
ROS_ROOT=/opt/ros/groovy/share/ros
ROS_PACKAGE_PATH=:/opt/ros/groovy/share:/opt/ros/groovy/stacks
LD_LIBRARY_PATH=/opt/ros/groovy/lib:/opt/halcon/lib/x64-linux2.4-gcc40
CPATH=/opt/ros/groovy/include
PATH=/opt/ros/groovy/bin:/opt/halcon/bin/x64-linux2.4-gcc40:/opt/halcon/FLEXlm/x64-linux2.4-gcc40:/home/rsmits/eclipse:/usr/lib/lightdm/lightdm:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games
PWD=/home/rsmits/ros-groovy-empty
PYTHONPATH=/opt/ros/groovy/lib/python2.7/dist-packages
PKG_CONFIG_PATH=/opt/ros/groovy/lib/pkgconfig
CMAKE_PREFIX_PATH=/opt/ros/groovy
ROS_ETC_DIR=/opt/ros/groovy/etc/roslib

launching roscore however fails as follows:
$roscore
... logging to /home/rsmits/.ros/log/e2ef1f84-5aff-11e2-98eb-c86000bfbac0/roslaunch-im-desktop-01-6764.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

Cannot locate [roslaunch]Invalid <param> tag: Cannot load command parameter [rosversion]: command [rosversion roslaunch] returned with code [1]. 

Param xml is <param command="rosversion roslaunch" name="rosversion"/>

executing rosversion roslaunch results in the following error:
$rosversion roslaunch
Cannot locate [roslaunch]

rospack however indicates that the roslaunch is definitely installed:
$rospack find roslaunch 
/opt/ros/groovy/share/roslaunch

Does anyone have any idea what I did wrong??

Originally posted by Ruben Smits on ROS Answers with karma: 543 on 2013-01-09
Post score: 1

A:

The poblem you have is around rosversion. This should be the correct output:
$ rosversion roslaunch
1.9.39

rosversion is part of python-rospkg.
So you can initially make sure that this is up to date, and no old easy_install version of rospkg luring in /usr/local/lib/python2.7/dist-packages
I'd guess an outdated version of rospkg is a likely culprit for your error

Originally posted by KruseT with karma: 7848 on 2013-01-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Ruben Smits on 2013-01-10:
I cleaned up my /usr/local/lib/python2.7/dist-packages and reinstalled python-rospkg(1.0.17-1), I'm still getting the same error for rosversion roslaunch though.
Comment by Ruben Smits on 2013-01-10:
I also had another version of rosversion lying around in /usr/local/bin which had to be cleaned up too.
Comment by Ruben Smits on 2013-01-10:
I also had another version of rosversion lying around in /usr/local/bin which had to be cleaned up too.
Comment by Miquel Massot on 2013-01-14:
Any other idea? It's the same for me, my groovy installation cannot locate roslaunch.
Comment by KruseT on 2013-01-18:
Sorry, I did not get mails from answers, so I did not see comments. I am on python-rospkg 1.0.18-1 from apt. @Ruben, does it work foy you now that you cleaned up rosversion as well?


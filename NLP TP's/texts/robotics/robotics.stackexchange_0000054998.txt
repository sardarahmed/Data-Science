Q:

Preplexing local cost map problem

Update: 3 images one with after set position issued. One with global map on, one with global map off, and the gazebo image of the simulation.

Update: setting the static map parameter to false in the global_costmap yaml file and the blue map line disappears. Not sure why since the static map is blank. Turning off the Global Map panel (topic: /move_base/global_costmap/costmap) in rivz also makes the blue line go away.
Update using a the light blue crescent map shape is coming from
nav_msgs::OccupancyGrid topic /move_base/global_costmap/costmap. When I toggle the global panel off this line disappears. Not sure what this line represents. Robot still runs backwards in both rviz and gazebo if DWA is on.
When I run with the local cost map parms below my robot in rviz and gazebo run backwards and it plots no local (green) path. The aqua blue dots seem to be map related while the red dots are laser. Note they seem to have different orientations. But why?
global_costmap:
  global_frame:        /map
  robot_base_frame:    /base_link
  update_frequency:    30.0
  publish_frequency:   30.0
  static_map:          true   # note setting to false removes blue line
  width:               20.0
  height:              20.0
  origin_x:            -10.0
  origin_y:            -10.0

   local_costmap:
      global_frame:      /odom
      robot_base_frame:  /base_link
      update_frequency:  10.0
      publish_frequency: 10.0
      static_map:        false
      rolling_window:    true
      width:             16.0
      height:            16.0
      origin_x:          0.0
      origin_y:          0.0

when I run with
  static_map:        true
  rolling_window:    false

my robot runs forward and does display a current local path. These are the only changes I make to get this results. Static map can be set to false here and as long as DWA is false also it will move forward.

Originally posted by rnunziata on ROS Answers with karma: 713 on 2013-10-23
Post score: 0

Original comments
Comment by David Lu on 2013-10-25:
What release are you running?
Comment by David Lu on 2013-10-25:
Also, the blue dots are your laser scans, and they are where you expect them to be?
Comment by rnunziata on 2013-10-25:
I am running the latest hydro and gazebo 1.9. The blue dots do not make since to me...since the laser is pointing in the opposite direction.  The active laser scan are the red dot and cresent line above the yellow goal arrow.  The blue dots are maybe the map data but why are they on the other side.
Comment by dornhege on 2013-10-29:
You have displayed global costmap and shown the local costmap parameters. Can you check global costmap parameters.
Comment by David Lu on 2013-11-01:
Is your configuration using the ObstacleLayer or the VoxelLayer?
Comment by rnunziata on 2013-11-01:
I am strictly 2d  ObstacleLayer
Comment by David Lu on 2013-11-01:
Can you clarify what topic you're seeing the blue dots in your visualization from?
Comment by rnunziata on 2013-11-01:
updated question with topic data. /move_base/global_costmap/costmap
Comment by David Lu on 2013-11-01:
Odd. Can you give a zoomed out full resolution version of just the data from /move_base/global_costmap/costmap and whatever whatever your laser scan is?
Comment by rnunziata on 2013-11-01:
Have Video ...how to up load Ogg Video (video/ogg)? I try attach file but it does not return. File is 6meg. Is that too big?
Comment by David Lu on 2013-11-01:
Does it need to be video? Can you just grab two screenshots?
Comment by rnunziata on 2013-11-01:
done...see updated question
Comment by rnunziata on 2013-11-01:
Hold on...I believe my static map was not as clean as I thought on second inspection. dots so small you can hardly see them in GIMP Image editor. The map was probably bad orientation to begin with. Sorry to waist you time.

A:

Error on my part....static global map was not blank. Had bad data on it did not see it in GIMP Image editor.

Originally posted by rnunziata with karma: 713 on 2013-10-30
This answer was ACCEPTED on the original site
Post score: 0


Q:

ROS install errors on Lion using Homebrew

I am following the most recent Homebrew install instructions for Mac Lion. Before installing ROS, I moved the MacPorts folder (from a previous Macports install attempt) as the instructions said. I unfortunately get the following error insisting I need MacPorts.
Bootstrapping ROS build
Detected ros_comm bootstrapping it too.
[ rosmake ] Packages requested are: ['ros', 'ros_comm']
[ rosmake ] Logging to directory/Users/khambuch/.ros/rosmake/rosmake_output-20111206-160124
[ rosmake ] Expanded args ['ros', 'ros_comm'] to:
['rosunit', 'rospack', 'rosmake', 'rosemacs', 'rosdep', 'roscreate', 'rosclean', 'rosboost_cfg', 'rosbash', 'test_rospack', 'test_rosmake', 'test_roslib', 'test_rosdep', 'test_roscreate', 'roslib', 'roslang', 'rosbuild', 'mk', 'xmlrpcpp', 'roswtf', 'rostime', 'message_filters', 'cpp_common', 'topic_tools', 'rostopic', 'rostest', 'rosservice', 'rosparam', 'rosout', 'rosnode', 'rosmsg', 'rosmaster', 'roslaunch', 'rosgraph', 'rosconsole', 'rosbagmigration', 'rosbag', 'test_topic_tools', 'test_roswtf', 'test_rostopic', 'test_rostime', 'test_rostest', 'test_rosservice', 'test_rospy', 'test_rosparam', 'test_rosnode', 'test_rosmsg', 'test_rosmaster', 'test_roslib_comm', 'test_roslaunch', 'test_rosgraph', 'test_roscpp_serialization_perf', 'test_roscpp_serialization', 'test_roscpp', 'test_rosbag', 'test_ros', 'test_crosspackage', 'perf_roscpp', 'roscore_migration_rules', 'std_srvs', 'std_msgs', 'rosgraph_msgs', 'rospy', 'roslisp', 'roscpp_traits', 'roscpp_serialization', 'roscpp']
[ rosmake ] Generating Install Script using rosdep then executing. This may take a minute, you will be prompted for permissions. . .
Traceback (most recent call last):
File "/Users/khambuch/ros/ros/tools/rosdep/src/rosdep/installers.py", line 427, in init
pop = subprocess.Popen(['port'], stdout=subprocess.PIPE, stderr=subprocess.PIPE)
File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 672, in init
errread, errwrite)
File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 1202, in _execute_child
raise child_exception
OSError: [Errno 2] No such file or directory
There was an error running macports, make sure it is installed properly.
Traceback (most recent call last):
File "/usr/local/bin/rosinstall", line 5, in 
pkg_resources.run_script('rosinstall==0.5.22', 'rosinstall')
File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 489, in run_script
self.require(requires)[0].run_script(script_name, ns)
File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 1214, in run_script
exec script_code in namespace, namespace
File "/Library/Python/2.7/site-packages/rosinstall-0.5.22-py2.7.egg/EGG-INFO/scripts/rosinstall", line 679, in 
File "/Library/Python/2.7/site-packages/rosinstall-0.5.22-py2.7.egg/EGG-INFO/scripts/rosinstall", line 670, in rosinstall_main
File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 504, in check_call
raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /Users/khambuch/ros/setup.sh && rosmake ros ros_comm --rosdep-install' returned non-zero exit status 255
If I return the MacPorts folder to its original location, I then get the error below, which is exactly like this. Problem is, I used rosinstall, not sudo rosinstall.
{-------------------------------------------------------------------------------
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=rospack find rosbuild/rostoolchain.cmake  ..
[rosbuild] Building package roslib
[rosbuild] Including /Users/khambuch/ros/ros_comm/clients/roslisp/cmake/roslisp.cmake
[rosbuild] Including /Users/khambuch/ros/ros_comm/clients/rospy/cmake/rospy.cmake
[rosbuild] Including /Users/khambuch/ros/ros_comm/clients/cpp/roscpp/cmake/roscpp.cmake
Traceback (most recent call last):
File "/Users/khambuch/ros/ros/bin/rosboost-cfg", line 35, in 
rosboost_cfg.main()
File "/Users/khambuch/ros/ros/tools/rosboost_cfg/src/rosboost_cfg/rosboost_cfg.py", line 326, in main
raise BoostError("Cannot find boost in any of %s"%search_paths(options.sysroot))
rosboost_cfg.rosboost_cfg.BoostError: "Cannot find boost in any of [('/usr', True), ('/usr/local', True)]"
CMake Error at /Users/khambuch/ros/ros/core/rosbuild/public.cmake:877 (message):
rosboost-cfg --include_dirs failed
Call Stack (most recent call first):
CMakeLists.txt:10 (rosbuild_add_boost_directories)
-- Configuring incomplete, errors occurred!
[ rosmake ] Output from build of package roslib written to:
[ rosmake ]    /Users/khambuch/.ros/rosmake/rosmake_output-20111206-155510/roslib/build_output.log
[rosmake-4] Finished <<< roslib [FAIL] [ 4.55 seconds ]
[rosmake-3] Finished <<< cpp_common [PASS] [ 6.33 seconds ]
[rosmake-1] Finished <<< std_srvs [PASS] [ 6.07 seconds ]
[rosmake-5] Starting >>> rosbash [ make ]
[rosmake-5] Finished <<< rosbash  No Makefile in package rosbash
[rosmake-6] Starting >>> test_crosspackage [ make ]
[rosmake-6] Finished <<< test_crosspackage [PASS] [ 1.34 seconds ]
[rosmake-7] Starting >>> rosboost_cfg [ make ]
[rosmake-0] Starting >>> roslang [ make ]
[rosmake-7] Finished <<< rosboost_cfg  No Makefile in package rosboost_cfg
[ rosmake ] Halting due to failure in package roslib.
[ rosmake ] Waiting for other threads to complete.
[rosmake-0] Finished <<< roslang  No Makefile in package roslang
[ rosmake ] Results:
[ rosmake ] Built 10 packages with 1 failures.
[ rosmake ] Summary output to directory
[ rosmake ] /Users/khambuch/.ros/rosmake/rosmake_output-20111206-155510
Traceback (most recent call last):
File "/usr/local/bin/rosinstall", line 5, in 
pkg_resources.run_script('rosinstall==0.5.22', 'rosinstall')
File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 489, in run_script
self.require(requires)[0].run_script(script_name, ns)
File "/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/pkg_resources.py", line 1214, in run_script
exec script_code in namespace, namespace
File "/Library/Python/2.7/site-packages/rosinstall-0.5.22-py2.7.egg/EGG-INFO/scripts/rosinstall", line 679, in 
File "/Library/Python/2.7/site-packages/rosinstall-0.5.22-py2.7.egg/EGG-INFO/scripts/rosinstall", line 670, in rosinstall_main
File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/subprocess.py", line 504, in check_call
raise CalledProcessError(retcode, cmd)
subprocess.CalledProcessError: Command 'source /Users/khambuch/ros/setup.sh && rosmake ros ros_comm --rosdep-install' returned non-zero exit status 1
FYI, I'm a novice Mac OSX programmer, so I'm not too familiar with where things belong in the environment.

Originally posted by hambucka on ROS Answers with karma: 1 on 2011-12-06
Post score: 0

A:

Are you using these instructions: http://www.ros.org/wiki/electric/Installation/OSX/Homebrew
If you are using those it seems you did not set the ROS_OS_OVERRIDE environment variable:
export ROS_OS_OVERRIDE=osxbrew:lion

This tells rosdep to use Homebrew rather than Macports.

Originally posted by William with karma: 17335 on 2011-12-06
This answer was ACCEPTED on the original site
Post score: 0


Q:

Invalid argument passed to lookupTransform argument source_frame in tf2 frame_ids cannot be empty

I'm using the surface_perception package to get some table top data but I've been getting this error message
Invalid argument passed to lookupTransform argument source_frame in tf2 frame_ids cannot be empty

after running the surface segmentation for the multiple times and I can't seem to figure out what the problem is.
The error message appears when i launch this file:
<launch>
  <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch" />
  <node pkg="tf2_web_republisher" type="tf2_web_republisher" name="tf2_web_republisher" launch-prefix="xterm -e gdb --args"/>
</launch>

i tried adding the launch-prefix="xterm -e gdb --args" to the tf2_web_republisher node but it just shows up the same error messages without indicating where its occuring.
An odd thing that happens is that the visualisation shows one of the axes to be enlarged as shown here
I know this is related to some empty frame_ids but i cant seem to figure out where they are. When I run
rostopic echo /tf2_web_republisher/result

then all frame ids are empty even when there's no error message.
any advice would be highly appreciated!

Originally posted by ysl208 on ROS Answers with karma: 23 on 2018-08-02
Post score: 0

A:

It looks like the node in question is only doing one lookup. You can download the source and print out whatever information you want. The exception is being caught, so I don't think gdb is going to help you here. I'd remove that.
If you can't find any empty frames, try doing a rostopic echo /tf or a rostopic echo /tf_static to see if any of the raw tf data shows empty frames. You could grep for an empty frame_id or child_frame_id field. Then you can backtrack to whatever node is publishing the transform in question.

Originally posted by Tom Moore with karma: 13689 on 2018-08-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ysl208 on 2018-08-03:
i tried doing a grep for empty frame_id for both /tf and /tf_static but didnt get anything. Will try to download the source and print out some info
Comment by ysl208 on 2018-08-03:
so I included an extra if statement to make sure it doesnt try to lookup the transform if the source or target frames are empty. how do i find out what the exact cause is though? TFPair does not seem to have any identifiers. Also I'm still getting the enlarged axis arrow as mentioned in my post


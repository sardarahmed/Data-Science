Q:

PCD files into cloud of points

Hello,
after scanning I have 2 kind of files -  some .pcd files and one with .xml extension that is keeping informations about places where .pcd was taken. ROS environment is set up on my workstation (Kinect). Could you give me some hints what should be next steps if I want to get Cloud Point? What i find out is that i should install some PC libraries? Some links may be helpfull as well.
Regards

Originally posted by RafMil on ROS Answers with karma: 3 on 2017-06-11
Post score: 0

A:

If your have installed ROS desktop successfully, you don't need to install PCL separately. You will notice that a package named pcl_ros is already installed on your computer. Reffering this link you can see that you can load a PCD file and then publish it on a topic in the following dummy code:
#include <pcl/io/pcd_io.h>
#include <sensor_msgs/PointCloud2.h>
#include <pcl_conversions/pcl_conversions.h>

...

pcl::PointCloud<pcl::PointXYZ>::Ptr cloud (new pcl::PointCloud<pcl::PointXYZ>);
if (pcl::io::loadPCDFile<pcl::PointXYZ> ("test_pcd.pcd", *cloud) == -1) //* load the file
  {
    PCL_ERROR ("Couldn't read file test_pcd.pcd \n");
    return (-1);
  }

  ros::Publisher pub = nh.advertise<sensor_msgs::PointCloud2> ("output", 1);
  sensor_msgs::PointCloud2 output;
  pcl::toROSMsg(*cloud, output);
  pub.publish (output);

...

Originally posted by Zubin Priyansh with karma: 161 on 2017-06-12
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by gvdhoorn on 2017-06-12:
Or just use rosrun pcl_ros pcd_to_pointcloud <file.pcd> [ <interval> ] (from wiki/pcl_ros - pcd_to_pointcloud).
Comment by Zubin Priyansh on 2017-06-12:
Nice! This seems useful too.
Comment by askkvn on 2020-04-30:
@Zubin Priyansh or @gvdhoorn, Can you please suggest same code for python?


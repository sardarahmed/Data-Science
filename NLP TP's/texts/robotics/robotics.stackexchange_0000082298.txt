Q:

how to Transform Pointcloud2 with tf

Hi,
I tried to run the python code on this link http://answers.ros.org/question/9103/how-to-transform-pointcloud2-with-tf/ and got such an error below :
Traceback(most recent call last):
File "/home/ahmet/catkin_ws/src/laserTF/src/laserTransform.py", line 26 in module>
listener.waitForTransform("/base_link", "/odom" , rospy.Time(0),rospy.Duration(1.0))
tf.Exception: . canTransform returned after 1.00039 timeout was 1.
How to solve this problem ? Please help me this time . @jayess

Originally posted by Mekateng on ROS Answers with karma: 85 on 2017-08-12
Post score: 0

Original comments
Comment by jayess on 2017-08-12:
Please also use the Preformatted Text button (the one with 101010 on it) to format your terminal output. Also, can you please post your tf tree and rqt_graph?
Comment by Mekateng on 2017-08-14:
I coulnd't paste my terminal output using preformatted text button @jayess . So ı will  write again this error:listener.waitForTransform("/base_link", "/odom" , rospy.Time(0),rospy.Duration(1.0)) tf.Exception: . canTransform returned after 1.00039 timeout was 1.
Comment by Mekateng on 2017-08-14:
And because the code doesn't work ,the tf tree doesn't come out either
Comment by tfoote on 2017-08-14:
@Mekateng, @jayess is being very patient and helpful. Copying and pasting the same content does not give any more information. The onus is on you to provide more information if you want help to answer to your question.
Comment by jayess on 2017-08-14:
@Mekateng, it's very simple to use the button. Highlight the portion that needs to be formatted, then click the 101010 button or type Ctrl-k. Then, it will be formatted correctly.
Comment by jayess on 2017-08-14:
The error is saying that it times out waiting for the transform from base_link to odom. Without the requested information or more information about what you're running/doing then that's all that can be said. You need a transform from base_link to odom.
Comment by Mekateng on 2017-08-15:
Thank you very much Mr. @jayess . I hope ı will deal with it . Again thank you for your patient
Comment by Mekateng on 2017-08-15:
last question mr. @jayess  . Of course How do I change the code to convert from base_link to odom? python code link: https://answers.ros.org/question/9103/how-to-transform-pointcloud2-with-tf/
Comment by jayess on 2017-08-15:
As others have noted, following the guidelines for asking a good question will get you much more help than posting questions with unformatted text and not giving more information when asked.

A:

Until you post the information that I've asked for I can't give you much of answer beyond go through the ROS tutorials  and the tf tutorials.
The error tells you exactly what the problem is:
"/home/ahmet/catkin_ws/src/laserTF/src/laserTransform.py", line 26 in module> listener.waitForTransform("/base_link", "/odom" , rospy.Time(0),rospy.Duration(1.0)) 
tf.Exception: . canTransform returned after 1.00039 timeout was 1

This comes from the line:
listener.waitForTransform("/base_link", "/odom", rospy.Time(0),rospy.Duration(1.0))

It's waiting for the transform from the /base_link frame to the /odom frame.
According to the tf tutorials that I linked to,

The waitForTransform() takes four arguments:

frame...
... to this frame,
at this time, and
timeout: don't wait for longer than this maximum duration

Therefore, you need to publish the transform from the /base_link frame to the /odom frame.

Originally posted by jayess with karma: 6155 on 2017-08-15
This answer was ACCEPTED on the original site
Post score: 0


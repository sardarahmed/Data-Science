Q:

Importing ROS Messages in Python

I'm using ROS as middleware to connect my model (in Python) and my view (in JS), so I want to keep my Python code as separate as possible from ROS-related code. My directory structure looks like:
.
|____CMakeLists.txt
|____cops_and_robots
| |______init__.py
| |____Cop.py
| |____Map.py
| |____MapObj.py
| |____Robot.py
| |____test
| | |____unit
| | | |______init__.py
| | | |____moveTest.py
|____msg
| |____battery.msg
| |____cmd.msg
|____package.xml
|____README.txt
|____scripts
| |____status_talker.py
| |____websocket_interface.py
|____setup.py

I'm trying to import battery.msg from my status_talker.py script, but Python doesn't work too well with relative imports.
I have two questions:

Do I need to add an __init__.py to my msg folder to be able to import battery.msg? I don't entirely know pythonic standards, but it seems odd that I'd need to designate msg as a module.
Is this an acceptable way to structure my package? I'm trying to be standards-compliant, but I don't know if I am!

Originally posted by nckswt on ROS Answers with karma: 539 on 2014-06-30
Post score: 0

A:

Turns out the problem was with calling setup.py myself. The documentation explains issues with calling setup.py manually screws things up.
Instead, just uncomment catkin_python_setup() in CMakeLists.txt and follow the instructions in this tutorial.

Originally posted by nckswt with karma: 539 on 2014-06-30
This answer was ACCEPTED on the original site
Post score: 0


Q:

Yaw problem in my wall following algorithm

Hi,
I'm trying to create a wall following algorithm, but I'm having some problem. Essentially my code use laser to extract a line and calculate the slope (locally to the robot, so from 0 to 2*pi) but to make the control I need the robot yaw (0 to 3.14 and -3.14 to 0) so when I have a negative yaw for example -1.59 and a slope of 1.61 my error that is error=(slope-yaw). Causes the robot turn to the wrong direction :(
Somebody already have the same problem with angles in ROS ?
Gabriel Oliveira

Originally posted by leivas_gabriel on ROS Answers with karma: 1 on 2012-10-02
Post score: 0

A:

If you're using an error in an angle to feed a controller you generally need to wrap the error to be between -pi and pi as well.  The way I normally do this is with the mod function in whatever language you're using.  For example, the following will give an error that is always between -pi and pi
error=mod(slope-yaw+2*PI,2*PI)-PI

Originally posted by david.hodo with karma: 395 on 2012-10-02
This answer was ACCEPTED on the original site
Post score: 0


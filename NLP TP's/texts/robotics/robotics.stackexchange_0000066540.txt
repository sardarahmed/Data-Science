Q:

LaserProjector's results differ from rviz

Hello ROS geeks, I face a difficulty in projecting a LaserScan.
We have a rotating SICK LMS scanner which publishes laser scans relative to tf frame /laser.
Then I use LaserProjector::transformLaserScanToPointCloud to project the scan into a point cloud relative again to the /laser frame.
But when I display both the scan and the pointcloud in rviz, they differ slightly. That seem pretty odd to me, because I've seen LaserProjector being used also in rviz' laser_scan_display plugin in a very similar way (the only difference is rviz computes the pointcloud relative to the fixed frame, which is in my case /odom).
Do you have some ideas why do the two displayed things differ? Or do you have an idea on how to debug this?
Thanks for any ideas.

Originally posted by peci1 on ROS Answers with karma: 1366 on 2015-03-23
Post score: 0

A:

Problem solved.
I misused the transformLaserScanToPointCloud function to return a pointcloud in the /laser frame, which is in no means a fixed frame. However, the description of the function says it can only return pointclouds in a fixed frame for the result to make sense.
So I just use the /base_link frame as target for the conversion and now it all works :)

Originally posted by peci1 with karma: 1366 on 2015-03-24
This answer was ACCEPTED on the original site
Post score: 0


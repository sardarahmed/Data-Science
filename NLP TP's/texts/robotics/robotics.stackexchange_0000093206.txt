Q:

transformStamped to transformation matrix (python)

This may be trivial but I cannot find it anywhere, can someone help me?
Goal: Find a transformStamped by a tf2 transform lookup, then convert this to a matrix so I can multiply it. Something like the below:
import tf2_ros
import tf

#(more code here, but not important to question)

tfBuffer = tf2_ros.Buffer()
listener = tf2_ros.TransformListener(tfBuffer)
trans = tfBuffer.lookup_transform("gps", "base_link", rospy.Time.now(), rospy.Duration(0.1))
matrix = tf.transformations.translation_matrix(trans)
# (More code after this point as well.)  

Again, this may be trivial but I cannot find the solution to this nor a question that answers my problem.

Originally posted by SamsAutonomy on ROS Answers with karma: 68 on 2019-09-05
Post score: 3

A:

Although ros_numpy ( https://github.com/eric-wieser/ros_numpy ) is not a "native" way, it is a well established package that can do what you want.
from ros_numpy import numpify
matrix = numpify(msg)

Originally posted by peci1 with karma: 1366 on 2022-07-25
This answer was ACCEPTED on the original site
Post score: 2


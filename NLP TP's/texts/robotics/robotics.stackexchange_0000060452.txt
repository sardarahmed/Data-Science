Q:

Moveit! getJacobian

Dear all,
We are using getJacobian method of robot_state::JointStateGroup instance and we always get the same values, as the arm will be in its home position, although the robot is in another pose.
We are using Ubuntu 12.04 Groovy. The code that we are executing is:
        kinematic_state = group->getCurrentState();
    kinematic_state->getStateValues(joint_states);
    
    joint_state_group = kinematic_state->getJointStateGroup("robuarm");
    
    joint_state_group->getVariableValues(joint_states);
    ROS_INFO_THROTTLE(1,"Get joint vals --> %f %f %f %f %f %f", joint_states[0], joint_states[1], joint_states[2], joint_states[3], joint_states[4], joint_states[5]);

    //getJacobian
    joint_state_group->getJacobian(joint_state_group->getJointModelGroup()->getLinkModelNames().back(),
            reference_point_position, jacobian);

With ROS_INFO sentence we have ensured that thet joints values are the correct ones.
Does anybody know what could be the problem?
Thanks
Ane

Originally posted by Ane on ROS Answers with karma: 31 on 2014-06-30
Post score: 1

A:

That looks like the robot_state::JointStateGroup instance your are operating on has not be updated with the current robot state. You can also check the joint group joint angles to see if that is indeed the case. If you post related code (edit your question) a more educated guess is possible :)

Originally posted by Stefan Kohlbrecher with karma: 24361 on 2014-06-30
This answer was ACCEPTED on the original site
Post score: 1


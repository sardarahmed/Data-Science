Q:

Rviz build fails under Osx, ROS fuerte

Hi all,
I'm trying to compile Rviz under Osx Lion. I'm using Homebrew as package manager and I'm following the instruction reported on the ROS wiki.
After having fixed some problems during the compilation, I can't fix the following one. Please find below the compilation log.
How can I fix it?
To be noticed that if I try to run rviz it starts.
Thanks!
mkdir -p bin
cd build && cmake -Wdev -DCMAKE_TOOLCHAIN_FILE=`rospack find rosbuild`/rostoolchain.cmake  ..
[rosbuild] Building package rviz
[rosbuild] Including /opt/ros/fuerte/share/roscpp/rosbuild/roscpp.cmake
[rosbuild] Including /opt/ros/fuerte/share/common-lisp/ros/roslisp/rosbuild/roslisp.cmake
[rosbuild] Including /opt/ros/fuerte/share/rospy/rosbuild/rospy.cmake
WARN, found multiple boost versions '[(1, 49, 0, '/usr/local', '/usr/local/include', True, True), (1, 49, 0, '/usr/local', '/usr/local/include', True, True), (1, 49, 0, '/usr/local', '/usr/local/include', True, True)]', using latestWARN, found multiple boost versions '[(1, 49, 0, '/usr/local', '/usr/local/include', True, True), (1, 49, 0, '/usr/local', '/usr/local/include', True, True), (1, 49, 0, '/usr/local', '/usr/local/include', True, True)]', using latestCMake Warning at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:595 (message):
  GTest not found; C++ tests will fail to build.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/private.cmake:124 (rosbuild_add_gtest_build_flags)
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:625 (_rosbuild_add_gtest)
  src/test/CMakeLists.txt:1 (rosbuild_add_gtest)

CMake Warning at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:595 (message):
  GTest not found; C++ tests will fail to build.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/private.cmake:124 (rosbuild_add_gtest_build_flags)
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:625 (_rosbuild_add_gtest)
  src/test/CMakeLists.txt:17 (rosbuild_add_gtest)

[rosbuild] Couldn't find source file /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/build/src/test/moc_ros_spinner.cxx; assuming that it is in /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/src/test and will be generated later
CMake Warning at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:595 (message):
  GTest not found; C++ tests will fail to build.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/private.cmake:124 (rosbuild_add_gtest_build_flags)
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:625 (_rosbuild_add_gtest)
  src/test/CMakeLists.txt:48 (rosbuild_add_gtest)

[rosbuild] Couldn't find source file /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/build/src/test/moc_connect_test.cxx; assuming that it is in /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/src/test and will be generated later
CMake Warning at /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:595 (message):
  GTest not found; C++ tests will fail to build.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/private.cmake:124 (rosbuild_add_gtest_build_flags)
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:625 (_rosbuild_add_gtest)
  src/test/CMakeLists.txt:66 (rosbuild_add_gtest)

[rosbuild] Couldn't find source file /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/build/src/test/moc_render_points_test.cxx; assuming that it is in /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/src/test and will be generated later
[rosbuild] Including /Users/luca/Software/ros/fuerte/ros-stacks/python_qt_binding/cmake/shiboken_helper.cmake
CMake Warning at /Users/luca/Software/ros/fuerte/ros-stacks/python_qt_binding/cmake/shiboken_helper.cmake:1 (find_package):
  By not providing "FindGeneratorRunner.cmake" in CMAKE_MODULE_PATH this
  project has asked CMake to find a package configuration file provided by
  "GeneratorRunner", but CMake did not find one.

  Could not find a package configuration file provided by "GeneratorRunner"
  with any of the following names:

    GeneratorRunnerConfig.cmake
    generatorrunner-config.cmake

  Add the installation prefix of "GeneratorRunner" to CMAKE_PREFIX_PATH or
  set "GeneratorRunner_DIR" to a directory containing one of the above files.
  If "GeneratorRunner" provides a separate development package or SDK, be
  sure it has been installed.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:1187 (include)
  src/python_bindings/shiboken/CMakeLists.txt:8 (rosbuild_include)

CMake Warning at /Users/luca/Software/ros/fuerte/ros-stacks/python_qt_binding/cmake/shiboken_helper.cmake:2 (find_package):
  By not providing "FindShiboken.cmake" in CMAKE_MODULE_PATH this project has
  asked CMake to find a package configuration file provided by "Shiboken",
  but CMake did not find one.

  Could not find a package configuration file provided by "Shiboken" with any
  of the following names:

    ShibokenConfig.cmake
    shiboken-config.cmake

  Add the installation prefix of "Shiboken" to CMAKE_PREFIX_PATH or set
  "Shiboken_DIR" to a directory containing one of the above files.  If
  "Shiboken" provides a separate development package or SDK, be sure it has
  been installed.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:1187 (include)
  src/python_bindings/shiboken/CMakeLists.txt:8 (rosbuild_include)

CMake Warning at /Users/luca/Software/ros/fuerte/ros-stacks/python_qt_binding/cmake/shiboken_helper.cmake:3 (find_package):
  By not providing "FindPySide.cmake" in CMAKE_MODULE_PATH this project has
  asked CMake to find a package configuration file provided by "PySide", but
  CMake did not find one.

  Could not find a package configuration file provided by "PySide" with any
  of the following names:

    PySideConfig.cmake
    pyside-config.cmake

  Add the installation prefix of "PySide" to CMAKE_PREFIX_PATH or set
  "PySide_DIR" to a directory containing one of the above files.  If "PySide"
  provides a separate development package or SDK, be sure it has been
  installed.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:1187 (include)
  src/python_bindings/shiboken/CMakeLists.txt:8 (rosbuild_include)

CMake Warning at /Users/luca/Software/ros/fuerte/ros-stacks/python_qt_binding/cmake/shiboken_helper.cmake:10 (message):
  Shiboken binding generator NOT available.
Call Stack (most recent call first):
  /opt/ros/fuerte/share/ros/core/rosbuild/public.cmake:1187 (include)
  src/python_bindings/shiboken/CMakeLists.txt:8 (rosbuild_include)

[rosbuild] Including /Users/luca/Software/ros/fuerte/ros-stacks/python_qt_binding/cmake/sip_helper.cmake
SIP binding generator available.
Python binding generators: sip
-- Configuring done
-- Generating done
CMake Warning:
  Manually-specified variables were not used by the project:

    CMAKE_TOOLCHAIN_FILE

-- Build files have been written to: /Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/build
cd build && make -l8
[  0%] Built target rospack_genmsg_libexe
[  0%] Built target rosbuild_precompile
[ 70%] Built target rviz
[ 70%] Built target executable
[ 94%] Built target default_plugin
[ 96%] Built target image_view
[ 97%] Built target send_grid_cells
[ 97%] Built target send_images
[ 98%] Built target send_lots_of_points
[ 98%] Running SIP generator for rviz_sip Python bindings...
sip: Deprecation warning: rviz.sip:1: %Module version number should be specified using the 'version' argument
[100%] Compiling generated code for rviz_sip Python bindings...
i686-apple-darwin11-llvm-g++-4.2: Carbon: No such file or directory
i686-apple-darwin11-llvm-g++-4.2: Collada15Dom: No such file or directory
make[4]: *** [/Users/luca/Software/ros/fuerte/ros-stacks/visualization/rviz/lib/librviz_sip.so] Error 1
make[3]: *** [../lib/librviz_sip.dylib] Error 2
make[2]: *** [src/python_bindings/sip/CMakeFiles/librviz_sip.dir/all] Error 2
make[1]: *** [all] Error 2
make: *** [all] Error 2

Originally posted by LucaGhera on ROS Answers with karma: 128 on 2012-06-03
Post score: 1

Original comments
Comment by WilliamWoodall on 2012-10-04:
Despite this error, rviz is built and will run as expected now, but try the solution below and let us know how it goes.
Comment by LucaGhera on 2012-10-04:
@WilliamWoodall Currently I can't compile the ros-undedrlay. I fixed a first error with Ros Time, but now it returns another error in Building CXX object rx/rxtools/CMakeFiles/python_rxtools.dir/rosout_panel_swig_generated.cpp.o
Comment by LucaGhera on 2012-10-05:
In order to fix the problems I followed first this http://answers.ros.org/question/43272/ros-install-problem-osx-1068/ ...and then this https://code.ros.org/trac/ros/ticket/4022

A:

It seems like whatever is generating the file rviz/build/sip/rviz_sip/Makefile is not putting "-framework" before Carbon and Collada15Dom when generating the LFLAGS. If you edit that file and change "Carbon" to "-framework Carbon" and "Collada15Dom" to "-framework Collada15Dom" in the LDFLAGS definition you'll get past this stage.

Originally posted by hawesie with karma: 282 on 2012-10-04
This answer was ACCEPTED on the original site
Post score: 0


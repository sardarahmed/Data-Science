Q:

How to launch a roslaunch in Qt with a terminal (GUI)?

I have created a GUI with Qt and now I want to link the GUI with my ROS program by launching the launch file.
To launch my launch file I have found a solution : in my GUI (Qt C++) open a terminal and execute my roslaunch. But it's not as easy as it seems...
I have found 2 possible solutions in Qt:

stdlib.h : system("gnome-terminal -e roslaunch my_package file.launch");

I get this error : (gnome-terminal:386): GLib-GIO-CRITICAL **: g_settings_get: the format string may not contain '&' (key 'host' from schema 'org.gnome.system.proxy.ftp'). This call will probably stop working with a future version of glib.
It seems that the spaces in "roslaunch my_package file.launch" don't work.

QProcess builder;
builder.start("gnome-terminal", QStringList() << "roslaunch my_package file.launch");

In these two cases, a terminal opens but nothing append...
I have tried with a simple exemple (mkdir file) and the command works, It seems that the roslaunch is not recognized as a command.
Do you have a solution ? Any ideas ?

Originally posted by waffaw69 on ROS Answers with karma: 1 on 2015-05-12
Post score: 0

Original comments
Comment by Craig on 2017-04-10:
Roslaunch provides Python API (Example). One possible solution is to call roslaunch Python API from cpp(call Python from cpp).

A:

I encountered a similar behaviour, and to me the reason was that I had not loaded the ros environment parameters. That is what is loaded through "source ~/catkin_ws/devel/setup.bash".
You could add it to your command, for QProcess this become:
builder.start("gnome-terminal", QStringList() << "source ~/catkin_ws/devel/setup.bash; roslaunch my_package file.launch");

I hope you had already solved your problem, but the same solution could be helpful for others.

Originally posted by basti35 with karma: 16 on 2016-08-03
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by Nicky0201 on 2016-11-22:
I tried this and it seems that it only opens the terminal but not run the roslaunch command...
is there a way to do it?
Comment by tfoote on 2017-04-10:
You probably want to add bash -c at the front of the command and put the rest of the command as an argument to bash.
Comment by FÃ¡bioBarbosa on 2017-09-28:
Hi! i try both gnome-terminal comand and bash -c and both didnt work. Is it because i need to configure my cmake file or someting like that?


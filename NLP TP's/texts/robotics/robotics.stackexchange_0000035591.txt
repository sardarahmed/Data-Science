Q:

Best practice for rosdep, ubuntu packages, and others

Hello,
As already discussed in question #2701, I am working on the release of the  modular_cloud_matcher package.
This package depends on libnabo and libpointmatcher, for which I provide Ubuntu packages for the last 4 releases (from Lucid to Oneiric) on my PPA. As there is currently no way to tell rosdep to fetch packages from a PPA, in a previous discussion with Tully Foote we agreed that the user will have to install these packages by hand.
The question then is whether I should add these as package dependency in the rosdep.yaml, and if so, what to do with non-ubuntu systems. Should I provide a script that fetches the packages and "cmakes/makes/makes install" them? If so, is there a way to provide an "other" or "default" target in rosdep.yaml? Or should I leave these dependencies out and let the user install libnabo and libpointmatcher by hand?
I will be happy to hear your opinion on the best practice in this context. Thank you!

Originally posted by St√©phane Magnenat on ROS Answers with karma: 83 on 2011-11-09
Post score: 1

A:

We've been moving away from wrapping system-installable libraries in ROS packages.  It leads to less portable code, as you end up using ROS-specific linking methods to use these libraries.
Instead, as much as possible, we are now trying to:

provide debs for these libraries on Ubuntu (we will hopefully make this toolchain available for packages.ros.org, but it still needs a lot of work)
provide an exemplar 'source rosdep' (REP 112) that is somewhat equivalent to the download_and_unpack-style builds, except they attempt to do system installs.

A valid criticism of source rosdeps is that they don't come with an uninstall mechanism.  That said, the main role of the source rosdeps, IMHO, is to provide a starting point to people on other platforms.  They are generally equivalent to what that user would have done if they had to manually download the source and install on their own.
We try to shy away from PPAs for libraries, as Ubuntu does, as they lack safety guards to prevent downstream issues.

Originally posted by kwc with karma: 12244 on 2011-11-10
This answer was ACCEPTED on the original site
Post score: 4


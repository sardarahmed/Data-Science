Q:

cartographer + move_base，Control loop missed its desired rate

Cartographer + move_base runs at the same time,Control loop missed its desired rate。(cmd_val frequency is extremely low)
The computer used is: NVIDIA Jetson TX2, cpu utilization is close to 100%. Is this a normal phenomenon or a configuration problem?
 **SUMMARY**
========

PARAMETERS

 * /move_base/TebLocalPlannerROS/acc_lim_theta: 0.5
 * /move_base/TebLocalPlannerROS/acc_lim_x: 0.5
 * /move_base/TebLocalPlannerROS/allow_init_with_backwards_motion: False
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/cluster_max_distance: 0.4
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/cluster_min_pts: 2
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/convex_hull_min_pt_separation: 0.1
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/ransac_convert_outlier_pts: True
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/ransac_filter_remaining_outlier_pts: False
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/ransac_inlier_distance: 0.15
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/ransac_min_inliers: 10
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/ransac_no_iterations: 1500
 * /move_base/TebLocalPlannerROS/costmap_converter/CostmapToLinesDBSRANSAC/ransac_remainig_outliers: 3
 * /move_base/TebLocalPlannerROS/costmap_converter_plugin: costmap_converter...
 * /move_base/TebLocalPlannerROS/costmap_converter_rate: 5
 * /move_base/TebLocalPlannerROS/costmap_converter_spin_thread: True
 * /move_base/TebLocalPlannerROS/costmap_obstacles_behind_robot_dist: 1.5
 * /move_base/TebLocalPlannerROS/dt_hysteresis: 0.1
 * /move_base/TebLocalPlannerROS/dt_ref: 0.3
 * /move_base/TebLocalPlannerROS/enable_homotopy_class_planning: True
 * /move_base/TebLocalPlannerROS/enable_multithreading: True
 * /move_base/TebLocalPlannerROS/feasibility_check_no_poses: 5
 * /move_base/TebLocalPlannerROS/footprint_model/type: point
 * /move_base/TebLocalPlannerROS/free_goal_vel: False
 * /move_base/TebLocalPlannerROS/global_plan_overwrite_orientation: True
 * /move_base/TebLocalPlannerROS/h_signature_prescaler: 0.5
 * /move_base/TebLocalPlannerROS/h_signature_threshold: 0.1
 * /move_base/TebLocalPlannerROS/include_costmap_obstacles: True
 * /move_base/TebLocalPlannerROS/map_frame: /map
 * /move_base/TebLocalPlannerROS/max_global_plan_lookahead_dist: 3.0
 * /move_base/TebLocalPlannerROS/max_number_classes: 4
 * /move_base/TebLocalPlannerROS/max_vel_theta: 1.0
 * /move_base/TebLocalPlannerROS/max_vel_x: 1.0
 * /move_base/TebLocalPlannerROS/max_vel_x_backwards: 0.6
 * /move_base/TebLocalPlannerROS/max_vel_y: 0.0
 * /move_base/TebLocalPlannerROS/min_obstacle_dist: 0.5
 * /move_base/TebLocalPlannerROS/min_turning_radius: 0.0
 * /move_base/TebLocalPlannerROS/no_inner_iterations: 5
 * /move_base/TebLocalPlannerROS/no_outer_iterations: 4
 * /move_base/TebLocalPlannerROS/obstacle_heading_threshold: 0.45
 * /move_base/TebLocalPlannerROS/obstacle_keypoint_offset: 0.1
 * /move_base/TebLocalPlannerROS/obstacle_poses_affected: 30
 * /move_base/TebLocalPlannerROS/odom_topic: odom
 * /move_base/TebLocalPlannerROS/optimization_activate: True
 * /move_base/TebLocalPlannerROS/optimization_verbose: False
 * /move_base/TebLocalPlannerROS/oscillation_filter_duration: 10
 * /move_base/TebLocalPlannerROS/oscillation_omega_eps: 0.1
 * /move_base/TebLocalPlannerROS/oscillation_recovery: True
 * /move_base/TebLocalPlannerROS/oscillation_recovery_min_duration: 10
 * /move_base/TebLocalPlannerROS/oscillation_v_eps: 0.1
 * /move_base/TebLocalPlannerROS/penalty_epsilon: 0.1
 * /move_base/TebLocalPlannerROS/roadmap_graph_area_width: 5
 * /move_base/TebLocalPlannerROS/roadmap_graph_no_samples: 15
 * /move_base/TebLocalPlannerROS/selection_alternative_time_cost: False
 * /move_base/TebLocalPlannerROS/selection_cost_hysteresis: 1.0
 * /move_base/TebLocalPlannerROS/selection_obst_cost_scale: 1.0
 * /move_base/TebLocalPlannerROS/shrink_horizon_backup: True
 * /move_base/TebLocalPlannerROS/shrink_horizon_min_duration: 10
 * /move_base/TebLocalPlannerROS/simple_exploration: False
 * /move_base/TebLocalPlannerROS/teb_autosize: True
 * /move_base/TebLocalPlannerROS/visualize_hc_graph: False
 * /move_base/TebLocalPlannerROS/weight_acc_lim_theta: 1
 * /move_base/TebLocalPlannerROS/weight_acc_lim_x: 1
 * /move_base/TebLocalPlannerROS/weight_adapt_factor: 2
 * /move_base/TebLocalPlannerROS/weight_dynamic_obstacle: 10
 * /move_base/TebLocalPlannerROS/weight_kinematics_forward_drive: 1
 * /move_base/TebLocalPlannerROS/weight_kinematics_nh: 1000
 * /move_base/TebLocalPlannerROS/weight_kinematics_turning_radius: 1
 * /move_base/TebLocalPlannerROS/weight_max_vel_theta: 1
 * /move_base/TebLocalPlannerROS/weight_max_vel_x: 2
 * /move_base/TebLocalPlannerROS/weight_obstacle: 50
 * /move_base/TebLocalPlannerROS/weight_optimaltime: 1
 * /move_base/TebLocalPlannerROS/xy_goal_tolerance: 0.2
 * /move_base/TebLocalPlannerROS/yaw_goal_tolerance: 0.1
 * /move_base/base_local_planner: teb_local_planner...
 * /move_base/controller_frequency: 10.0
 * /move_base/global_costmap/cost_scaling_factor: 10.0
 * /move_base/global_costmap/footprint: [[0.51, 0.35], [0...
 * /move_base/global_costmap/footprint_padding: 0.02
 * /move_base/global_costmap/global_frame: map
 * /move_base/global_costmap/inflation_layer/cost_scaling_factor: 10.0
 * /move_base/global_costmap/inflation_layer/enabled: True
 * /move_base/global_costmap/inflation_layer/inflation_radius: 0.5
 * /move_base/global_costmap/map_type: costmap
 * /move_base/global_costmap/obstacle_layer/combination_method: 1
 * /move_base/global_costmap/obstacle_layer/enabled: True
 * /move_base/global_costmap/obstacle_layer/observation_sources: point_cloud_sensor
 * /move_base/global_costmap/obstacle_layer/obstacle_range: 5.0
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/clearing: True
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/data_type: PointCloud2
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/marking: True
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/max_obstacle_height: 0.8
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/min_obstacle_height: 0.07
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/sensor_frame: laser_link
 * /move_base/global_costmap/obstacle_layer/point_cloud_sensor/topic: /lslidar_point_cloud
 * /move_base/global_costmap/obstacle_layer/raytrace_range: 5.5
 * /move_base/global_costmap/obstacle_layer/track_unknown_space: True
 * /move_base/global_costmap/plugins: [{'type': 'costma...
 * /move_base/global_costmap/publish_frequency: 1.0
 * /move_base/global_costmap/resolution: 0.05
 * /move_base/global_costmap/robot_base_frame: base_link
 * /move_base/global_costmap/rolling_windows: False
 * /move_base/global_costmap/static_layer/enabled: True
 * /move_base/global_costmap/static_layer/map_topic: /map
 * /move_base/global_costmap/static_map: True
 * /move_base/global_costmap/transform_tolerance: 2.0
 * /move_base/global_costmap/update_frequency: 1.0
 * /move_base/local_costmap/cost_scaling_factor: 10.0
 * /move_base/local_costmap/footprint: [[0.51, 0.35], [0...
 * /move_base/local_costmap/global_frame: odom
 * /move_base/local_costmap/height: 8.0
 * /move_base/local_costmap/inflation_layer/cost_scaling_factor: 10.0
 * /move_base/local_costmap/inflation_layer/enabled: True
 * /move_base/local_costmap/inflation_layer/inflation_radius: 0.5
 * /move_base/local_costmap/map_type: costmap
 * /move_base/local_costmap/obstacle_layer/combination_method: 1
 * /move_base/local_costmap/obstacle_layer/enabled: True
 * /move_base/local_costmap/obstacle_layer/observation_sources: point_cloud_sensor
 * /move_base/local_costmap/obstacle_layer/obstacle_range: 5.0
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/clearing: True
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/data_type: PointCloud2
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/marking: True
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/max_obstacle_height: 0.8
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/min_obstacle_height: 0.07
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/sensor_frame: laser_link
 * /move_base/local_costmap/obstacle_layer/point_cloud_sensor/topic: /lslidar_point_cloud
 * /move_base/local_costmap/obstacle_layer/raytrace_range: 5.5
 * /move_base/local_costmap/obstacle_layer/track_unknown_space: True
 * /move_base/local_costmap/origin_x: 0.0
 * /move_base/local_costmap/origin_y: 0.0
 * /move_base/local_costmap/plugins: [{'type': 'costma...
 * /move_base/local_costmap/publish_frequency: 2.0
 * /move_base/local_costmap/resolution: 0.05
 * /move_base/local_costmap/robot_base_frame: base_link
 * /move_base/local_costmap/rolling_window: True
 * /move_base/local_costmap/static_layer/enabled: True
 * /move_base/local_costmap/static_layer/map_topic: /map
 * /move_base/local_costmap/static_map: False
 * /move_base/local_costmap/transform_tolerance: 0.5
 * /move_base/local_costmap/update_frequency: 1.0
 * /move_base/local_costmap/width: 8.0
 * /rosdistro: kinetic
 * /rosversion: 1.12.14
 * /use_sim_time: False

NODES
  /
    move_base (move_base/move_base)

ROS_MASTER_URI=http://sucro:11311
process[move_base-1]: started with pid [24033]
[ INFO] [1563279112.680718184]: Using plugin "static_layer"
[ INFO] [1563279112.706138141]: Requesting the map...
[ INFO] [1563279113.821924826]: Resizing costmap to 646 X 680 at 0.050000 m/pix
[ INFO] [1563279113.920038303]: Received a 646 X 680 map at 0.050000 m/pix
[ INFO] [1563279113.956386472]: Using plugin "obstacle_layer"
[ INFO] [1563279113.984475923]:     Subscribed to Topics: point_cloud_sensor
[ INFO] [1563279114.095349931]: Using plugin "inflation_layer"

[ INFO] [1563279114.309531726]: Using plugin "static_layer"
[ INFO] [1563279114.331807012]: Requesting the map...
[ INFO] [1563279114.383891308]: Resizing static layer to 646 X 680 at 0.050000 m/pix
[ INFO] [1563279114.442643690]: Received a 646 X 680 map at 0.050000 m/pix
[ INFO] [1563279114.470681243]: Using plugin "obstacle_layer"
[ INFO] [1563279114.488237586]:     Subscribed to Topics: point_cloud_sensor
[ INFO] [1563279114.605745167]: Using plugin "inflation_layer"
[ INFO] [1563279114.802155379]: Created local_planner teb_local_planner/TebLocalPlannerROS
[ INFO] [1563279115.243505147]: Footprint model 'point' loaded for trajectory optimization.
[ INFO] [1563279115.243676078]: Parallel planning in distinctive topologies enabled.
[ INFO] [1563279115.412600909]: Costmap conversion plugin costmap_converter::CostmapToLinesDBSRANSAC loaded.
[ INFO] [1563279116.779101393]: Recovery behavior will clear layer obstacles
[ INFO] [1563279116.804937808]: Recovery behavior will clear layer obstacles

[ WARN] [1563279137.449122714]: Control loop missed its desired rate of 10.0000Hz... the loop actually took 7.5072 seconds

[ INFO] [1563279138.784172362]: Resizing costmap to 650 X 680 at 0.050000 m/pix
[ INFO] [1563279138.795393838]: Resizing static layer to 650 X 680 at 0.050000 m/pix

 [ WARN] [1563279156.227073295]: Control loop missed its desired rate of 10.0000Hz... the loop actually took
18.7780 seconds
    [ WARN] [1563279156.227821820]: Map update loop missed its desired rate of 1.0000Hz... the loop actually took 25.4829 seconds

[ INFO] [1563279157.793498312]: Resizing costmap to 652 X 680 at 0.050000 m/pix
[ INFO] [1563279157.806379798]: Resizing static layer to 652 X 680 at 0.050000 m/pix
[ WARN] [1563279165.678858883]: Control loop missed its desired rate of 10.0000Hz... the loop actually took 9.4518 seconds

Originally posted by Tansor on ROS Answers with karma: 40 on 2019-07-16
Post score: 0

A:

/move_base/local_costmap/obstacle_layer/obstacle_range: 5.0
/move_base/local_costmap/obstacle_layer/raytrace_range: 5.5

Appropriately reduce these two parameters

Originally posted by Tansor with karma: 40 on 2019-07-23
This answer was ACCEPTED on the original site
Post score: 0


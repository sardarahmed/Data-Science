Q:

VisualPlugin reading contact forces crashes gazebo (black screen)

Hi,
I'm making my own gazebo plugin to read the contact forces on an object and the change the visual information accordingly. So far, I've been combining:

A tutorial on a gazebo subscriber (http://www.gazebosim.org/tutorials?tut=topics_subscribed&cat=transport)

A thread on creating a VisualPlugin for Gazebo (http://answers.gazebosim.org/question/1377/visuals-material-update-from-modelplugin-in-ros/)

The plugin I made compiles fine but gives me a black screen when gazebo starts and crashes after about 100 iterations (becomes unresponsive). Verbose mode gives me no errors except a warning after about 30 seconds: "[Wrn] [Publisher.cc:131] Queue limit reached for topic /gazebo/default/pose/local/info, deleting message. This warning is printed only once."
Are there any other ways to figure out exactly why my plugin is crashing? I think it might have something to do with the way I create the subscriber. Here's my code:
material_plugin.h
material_plugin3.cpp

Originally posted by niall on Gazebo Answers with karma: 96 on 2015-06-02
Post score: 0

A:

Here's what worked in the end:
material_plugin3.cpp

Originally posted by niall with karma: 96 on 2015-06-02
This answer was ACCEPTED on the original site
Post score: 0


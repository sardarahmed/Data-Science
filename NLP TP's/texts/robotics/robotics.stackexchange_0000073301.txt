Q:

rospy publisher and subscriber in the same node, filter out "own" messages

Hey ROS folks
I have a node in Python, in which I subscribe to a topic, and I also want to simultaneously publish on it. And this node is not the only one doing that. In the subscriber, I want to filter out messages which are generated by my node.
Is there any API/package to do that?
In C++, I can imagine publishing/subscribing shared pointers, remembering a few last published messages, and comparing the memory address of the received message with the remembered addresses.
In Python, this is obviously not possible. Or is it?
If the messages have Header fields in them, it might be possible to filter them based on timestamp. Unfortunately, my messages do not have a header, and I can't alter the message definition.

Originally posted by peci1 on ROS Answers with karma: 1366 on 2016-04-11
Post score: 3

A:

How about looking at the _connection_header callerid [Publishers and Subscribers] shown in (http://wiki.ros.org/rospy/Overview/Publishers%20and%20Subscribers#Connection_Information) ?
It says 'We do not recommend using callerid information beyond debugging purposes, as it can lead to brittle code in an anonymous publish/subscribe architecture.'- but it seems like you could reliably get the name of your own node- I did a check and rospy.get_name() and callerid do match up when publishing and subscribing to the same topic in the same node.

Originally posted by lucasw with karma: 8729 on 2016-04-11
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by peci1 on 2016-04-11:
Thanks! Exactly what I was looking for.


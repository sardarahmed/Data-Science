Q:

ardrone not responding to the image tags

I ran some tests on the ardrone to identify the tags .The camera of the ardrone quit well recognizes the tags.This was evident since there was a tag identified on the image window outlining the tag with a green line.I have some pictures of tag identification,since I have only one karma,I am not able to upload.
These are the commands which are executed for the tag identification and the flight of the ardrone.

rosrun ardrone_brown ardrone_driver  //synching the computer with the ardrone wifi and acquiring connection

rosrun ar_recog ar_recog image:=/ardrone/image_raw   //directs the camera feed of the ardrone      to the ar_ecog

rosrun image_view image_view image:=/ar/image    //this windows shows the image window of the ardrone which is monitored by ar_recog .It is able to recognize image tags and outline it in green outline

rosrun nolan3d nolan3d.py  //this is the target follower which indeed communicates with the ardrone driver.here is the topic info

metallo@ubuntu:~$ rosnode info /nolan_3014_1326654517968 
--------------------------------------------------------------------------------
Node [/nolan_3014_1326654517968]
Publications: 
 * /cmd_vel [geometry_msgs/Twist]
 * /rosout [rosgraph_msgs/Log]

Subscriptions: 
 * /tags [ar_recog/Tags]

Services: None

contacting node http://ubuntu:60922/ ...
Pid: 3014
Connections:
 * topic: /rosout
    * to: /rosout
    * direction: outbound
    * transport: TCPROS
 * topic: /cmd_vel
    * to: /ardrone_driver            //note here it communicates with the ardrone driver
    * direction: outbound
    * transport: TCPROS
 * topic: /tags
    * to: http://ubuntu:58952/
    * direction: inbound
    * transport: TCPROS

rosrun drone_teleop drone_teleop.py(using this I set the ardrone on flight)

This is where I discovered the problem.I held the tag in an optimal distance in-front of the drone.The tag I held was a big one ( 8.5 inches x 11 inches).But the drone does not seem to fly to it and neither align itself to the tag when held close it .
any suggestions please.. hope the question is more informative now..
Here is what I did. I made sure the drone was on air. Then I started the node Nolan3D package  by running the python program in its bin.Then I held the image tag.The drone did not fly to me and even when the image tag was close , it was not able to align its movement according to the tag.
Any suggestions please.

Originally posted by metal on ROS Answers with karma: 174 on 2012-01-14
Post score: 1

Original comments
Comment by metal on 2012-01-15:
I will make  note of that Eric and other than that could you please give your perspective on the problem I have with ARDRONE and the tags.
Comment by Eric Perko on 2012-01-15:
I suggest you mark any new questions as not "Community Wiki" so you can get karma (a mod can mark it as community wiki if appropriate after it's been created). You could use a service such as imgur, flickr or any other image sharing service to link to pictures in your post.
Comment by metal on 2012-01-15:
I have edited the question and please let me know,if you need any more info.I was not able to upload the pictures,since I have only one karma.
Comment by ahendrix on 2012-01-14:
Please be more specific. Which OS and distribution of ros are you running? What are the exact commands you're running, and possibly any relevant output? What are you using to generate tags? Maybe add a screenshot if it's relevant. See: http://www.ros.org/wiki/Support for how to ask good questions.

A:

It looks like the drone_teleop node is continuously publishing to cmd_vel, which is probably overriding any commands sent by the nolan3d node. Try stopping the drone_teleop node once your AR drone is in the air.

Originally posted by ahendrix with karma: 47576 on 2012-01-15
This answer was ACCEPTED on the original site
Post score: 2

Original comments
Comment by ahendrix on 2012-01-16:
dynamic_reconfigure is a framework for adjusting node parameters on-the-fly. see: http://ros.org/wiki/dynamic_reconfigure and http://ros.org/wiki/dynamic_reconfigure/Tutorials . You can find a great deal of documentation on ros with google or ros.org/wiki/
Comment by tjay on 2012-01-16:
I can confirm that teleop and nolan will "fight" for control of the drone (with the likely outcome being paralysis). A trick I've used is to use bash to launch teleop, then nolan, then teleop. Then you can control-C once the drone's in the air and Control-c again if something goes awry.
Comment by metal on 2012-01-15:
I reduced the stopping_distance,I am yet to test it.I dont understand what do you mean by dynamic _reconfigure. Could you please be more precise
Comment by ahendrix on 2012-01-15:
The nolan3d node looks like it's still experimental. You may have to adjust some of the parameters to get it to run for you. I would  start by playing around with stopping_dist (you'll have to edit the code). If you're feeling ambitious, you could add dynamic_reconfigure capabilities it.
Comment by metal on 2012-01-15:
thanks Ahendrix the drone is able to follow the tag little bit.The thing is once it sees the tag it moves away so far that it losses its glimpse of the tag.
Comment by metal on 2012-01-15:
stopping the teleop.py might make drone to fall.but I will try and will let you know.There is  a topic /ardrone/takeoff .I should be publishing to that may be.


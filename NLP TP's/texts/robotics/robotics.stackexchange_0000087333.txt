Q:

What is the fix for 'No p gain specified for pid. Namespace: /gazebo_ros_control/pid_gains/back_right_wheel_joint ' ros melodic?

Hi,
I am using gazebo_ros_control package from ROS melodic. I am geting error like
[ERROR] [1528754765.222507207, 9.660000000]: No p gain specified for pid.  Namespace: /gazebo_ros_control/pid_gains/back_right_wheel_joint 

I believe I may need to change something in yaml file but I am quite not sure what do I need to change. Can somebody please point me out?
Thanks.

Originally posted by cybodroid on ROS Answers with karma: 234 on 2018-06-11
Post score: 9

Original comments
Comment by ZNJ on 2019-05-18:
gazbo_ros_control package not working with my simulated mobile robot I have the following output when launch the gazebo simulator
No p gain specified for pid.gazebo_ros_control/pid_gains/left_whee and also for the right_wheel
where I can modify the P gain
I did follow the tutorials for make a config and a launch files but no nothing remove that error and it cause a leak of movement during the test in Rviz.

A:

I had the same question. The PID parameters are optional if you are using gazebo_ros_control. The error comes because when initializing RobotHWSim, the robot_ros_control tries to load the pid_gains. The source code and corresponding comments are here.
Basically, if pid parameters were found, gazebo_ros_control will use pid controllers in ROS to control the joints (velocity or position) by effort. Otherwise, the joints will be controlled with gazebo methods.

Originally posted by skyofyao@gmail.com with karma: 171 on 2019-02-28
This answer was ACCEPTED on the original site
Post score: 13

Original comments
Comment by jarvisschultz on 2019-02-28:
This answer seems correct to me. I'd also add that the ERROR from OP is not really an error. It's a sign that you aren't using PID controllers to control the joints (because you didn't specify pid_gains). I'm not sure about the decision to print ERRORS every time someone uses a non-PID controller
Comment by jarvisschultz on 2019-02-28:
The commit that added the printouts is here. I think the choice to add these error messages stemmed from a different bug
Comment by cybodroid on 2019-03-07:
That is right. After a long investigation, I did think that it is not an error but developers changed codes in ROS Melodic. Previous versions had bugs so the way I was using PID controls in Yaml would actually not do anything specific.  @sapan mentions the correct way to include PID values.
Comment by Withered_Shadow on 2019-05-20:
Thanks, the format specified got it working. One last thing. What happens if I ignore this error. Does my bot still work as expected. Also why is it that the format in which I have specified works in another system where I installed ROS long back. Was there any official changes I missed. And lastly what are the Gazebo default PID parameters?
Comment by cybodroid on 2019-05-25:
In my case, if I don't specify PID values, my bot still works, however, you will have to look at gazebo ros control source code to understand what exactly they do. It is better not to put any PID in the yaml file rather than putting the wrong value. To find suitable PID values use http://wiki.ros.org/dynamic_reconfigure/Tutorials. However, this is not easy especially when systems are coupled. This is really a hard problem to find a PID  value. I am going to write a custom control for my work which eventually won't use gazebo ros control.
Comment by LR on 2020-10-13:
so,how to solve the error???


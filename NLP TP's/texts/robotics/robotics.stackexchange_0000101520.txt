Q:

Can't connect crx 10 fanuc robot to Ros

After installing the fanuc ros driver in the controller , i still can't get the robot to connect to the ROS pc , following the instructions on this page: http://wiki.ros.org/fanuc/Tutorials/Running I run the ROSstate TP program on the pendant
I get this screen:

and on the pc i run this command
roslaunch fanuc_crx10ia_support   robot_state_visualize_crx10ial.launch robot_ip:=192.168.0.100

i get this output:
[ERROR] [1650255079.236414117]: Parser found 2 elements but 3 expected while parsing vector [0 0 ]
[ERROR] [1650255079.241739007]: Could not parse visual element for Link [link_3]
[ERROR] [1650255079.521415562]: Parser found 2 elements but 3 expected while parsing vector [0 0 ]
[ERROR] [1650255079.522883203]: Could not parse visual element for Link [link_3]

if i run ping using the robot ip i can see its visible:
$ ping 192.168.100.1
PING 192.168.100.1 (192.168.100.1) 56(84) bytes of data.
64 bytes from 192.168.100.1: icmp_seq=1 ttl=60 time=4.82 ms

here is the ip setting for the robot:

thanks in advance

Originally posted by nizar00 on ROS Answers with karma: 17 on 2022-04-17
Post score: 0

Original comments
Comment by gvdhoorn on 2022-04-18:
Please do not post screenshots of terminals. There is no need, it's all text. Copy-paste it into your question and make sure to format it properly (select the text, click the Preformatted Text button (the one with 101010 on it)).
I've closed your question, as right now it violates the support guidelines. Please edit your question to remove the screenshot and replace it with the actual error text. You can use the edit button/link for that. Do not post a new question.

A:

It's likely this is not a problem with fanuc_driver, but with your URDF/XACRO.
As the error message states:

Parser found 2 elements but 3 expected while parsing vector [0 0 ]. Could not parse visual element for Link [link_3]

Check link_3 in your URDF/XACRO. The origin child of the visual element is likely missing a value there.
Are you using a custom model for the CRX-10iA/L, or the one in fanuc_experimental/fanuc_crx10ia_support? The one in the repository doesn't have any such problem (see here).
Please also note that I believe you are running Ubuntu+ROS in a virtual machine. That may complicate things, as network connections may not be as transparent and bidirectional as they should be. You'll have to check the configuration of your VMs networking. Especially if it's set to NAT, you may have to configure port-forwarding.

Originally posted by gvdhoorn with karma: 86574 on 2022-04-18
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by gvdhoorn on 2022-04-20:
Did you get this to work? What was the problem in the end?
Comment by nizar00 on 2022-04-20:
it works ,it was as you mention due to the URDF file as you mentioned i also changed the settings for the vm just in case
Comment by gvdhoorn on 2022-04-20:
Is there something in the support package of the CRX-10iA we provide in the fanuc_experimental repository that's not working for you? Seeing as you appear to be using an alternative model?
Comment by nizar00 on 2022-04-20:
the package actually works really well so far but My work wanted to create a simulation using inhouse models so i wanted to base them around this package i can't disclose much more details , thank you for the support


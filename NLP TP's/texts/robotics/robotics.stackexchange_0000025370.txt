Q:

Unable to run Gazebo -> Ogre::InternalErrorException

Hi all,
I have been unable to run Gazebo since I upgraded my system to Fuerte. I get the follow when I enter 'roslaunch gazebo_worlds empty_world.launch':
joao@laptop:~$ roslaunch gazebo_worlds empty_world.launchHave someone experienced the same problem? Or someone as a clue how the problem canbe solven.
... logging to /home/joao/.ros/log/88693aec-2e75-11e2-813b-00215d2baa44/roslaunch-laptop-9147.log
Checking log directory for disk usage. This may take awhile.
Press Ctrl-C to interrupt
Done checking log file disk usage. Usage is <1GB.

started roslaunch server http://laptop:34412/

SUMMARY
========

PARAMETERS
 * /rosdistro
 * /rosversion
 * /use_sim_time

NODES
  /
    gazebo (gazebo/gazebo)
    gazebo_gui (gazebo/gui)

ROS_MASTER_URI=http://localhost:11311

core service [/rosout] found
process[gazebo-1]: started with pid [9167]
process[gazebo_gui-2]: started with pid [9174]
Gazebo multi-robot simulator, version 1.0.2
Copyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Gazebo multi-robot simulator, version 1.0.2
Copyright (C) 2011 Nate Koenig, John Hsu, Andrew Howard, and contributors.
Released under the Apache 2 License.
http://gazebosim.org

Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345
[ INFO] [1352949163.304682586]: waitForService: Service [/gazebo/set_physics_properties] has not been advertised, waiting...
Msg Waiting for master
Msg Connected to gazebo master @ http://localhost:11345
do_wait: drmWaitVBlank returned -1, IRQs don't seem to be working correctly.
Try adjusting the vblank_mode configuration parameter.
[ INFO] [1352949163.894422135]: joint trajectory plugin missing <updateRate>, defaults to 0.0 (as fast as possible)
do_wait: drmWaitVBlank returned -1, IRQs don't seem to be working correctly.
Try adjusting the vblank_mode configuration parameter.
[ INFO] [1352949168.828946010, 0.174000000]: waitForService: Service [/gazebo/set_physics_properties] is now available.
[ INFO] [1352949168.998109619, 2.804000000]: Starting to spin physics dynamic reconfigure node...
LightListWidget::OnLightMsg
terminate called after throwing an instance of 'Ogre::InternalErrorException'
  what():  OGRE EXCEPTION(7:InternalErrorException): Cannot compile GLSL high-level shader : FFPLib_Texturing_VS Cannot compile GLSL high-level shader : FFPLib_Texturing_VS Error: transpose: undeclared function name.
 in GLSLProgram::compile at /tmp/buildd/ros-fuerte-visualization-common-1.8.4/debian/ros-fuerte-visualization-common/opt/ros/fuerte/stacks/visualization_common/ogre/build/ogre_src_v1-7-3/RenderSystems/GL/src/GLSL/src/OgreGLSLExtSupport.cpp (line 65)
/opt/ros/fuerte/stacks/simulator_gazebo/gazebo/scripts/gui: line 2:  9177 Aborted                 `rospack find gazebo`/gazebo/bin/gzclient -g `rospack find gazebo`/lib/libgazebo_ros_paths_plugin.so

If I use the command 'roslaunch gazebo_worlds empty_world_no_x.launch' it works fine.
Some useful information about my system. My laptop is Sony VAIO VGN-SR29XN. My Ubuntu distro is Lucid and ...
joao@laptop:~$ uname -a
Linux laptop 2.6.32-45-generic #99-Ubuntu SMP Tue Oct 16 16:31:11 UTC 2012 i686 GNU/Linux

My video card is:
00:02.0 VGA compatible controller: Intel Corporation Mobile 4 Series Chipset Integrated Graphics Controller (rev 07)

My gazebo version according with 'cat rosstack find simulator_gazebo/CMakeLists.txt' is 1.6.16.
I read other threads with the same problem (https://github.com/ros-visualization/rviz/issues/537) but in rviz, rviz is working fine for me.
Have someone experienced the same problem? Or someone as a clue how the problem can be solven.
Thanks in advance.

Update:
I enter both glxinfo and glxgears commands and the direct rendering is enabled (yes) and openGL works fine.

Originally posted by Jo√£o on Gazebo Answers with karma: 1 on 2012-11-15
Post score: 0

A:

This is fixed in the latest gazebo.

Originally posted by nkoenig with karma: 7676 on 2013-07-23
This answer was ACCEPTED on the original site
Post score: 0


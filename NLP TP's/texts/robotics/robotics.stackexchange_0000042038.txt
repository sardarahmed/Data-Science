Q:

How to solve rosmake error when moving package directory?

I have tried:
  rosmake --pre-clean

or
  rosmake --target=clean
  rosmake

But I also get error message like
    CMake Error: The current CMakeCache.txt directory /home/ira/code/ros/sam_pcl/perception_pcl_electric_unstable/pcl/msg/build/CMakeCache.txt is different than the directory /home/wei/ros/perception_pcl_electric_unstable/pcl/msg/build where CMackeCache.txt was created. This may result in binaries being created in the wrong place. If you are not sure, reedit the CMakeCache.txt
    CMake Error: The source "/home/ira/code/ros/sam_pcl/perception_pcl_electric_unstable/pcl/CMakeLists.txt" does not match the source "/home/wei/ros/perception_pcl_electric_unstable/pcl/CMakeLists.txt" used to generate cache.  Re-run cmake with a different source directory.

The Full message is:
  ira@ira-K42JP:~/code/ros/sam_pcl/perception_pcl_electric_unstable$ rosmake
  [ rosmake ] No package specified.  Building stack ['perception_pcl_electric_unstable']                   
  [ rosmake ] Packages requested are: ['perception_pcl_electric_unstable']                                 
  [ rosmake ] Logging to directory/home/ira/.ros/rosmake/rosmake_output-20120708-151720                    
  [ rosmake ] Expanded args ['perception_pcl_electric_unstable'] to:
  ['flann', 'cminpack', 'pcl_ros', 'pcl']
  [ rosmake ] Checking rosdeps compliance for packages perception_pcl_electric_unstable.  This may take a few seconds.
  [ rosmake ] rosdep check failed to find system dependencies: libvtk-qt                                   
  [rosmake-0] Starting >>> cpp_common [ make ]                                                             
  [rosmake-0] Finished <<< cpp_common ROS_NOBUILD in package cpp_common                                    
  [rosmake-1] Starting >>> roslib [ make ]                                                                 
  [rosmake-1] Finished <<< roslib ROS_NOBUILD in package roslib                                            
  [rosmake-2] Starting >>> rosbuild [ make ]                                                               
  [rosmake-2] Finished <<< rosbuild ROS_NOBUILD in package rosbuild
   No Makefile in package rosbuild       
  [rosmake-3] Starting >>> smclib [ make ]                                                                 
  [rosmake-1] Starting >>> rostime [ make ]                                                                
  [rosmake-0] Starting >>> std_msgs [ make ]                                                               
  [rosmake-2] Starting >>> roslang [ make ]                                                                
  [rosmake-1] Finished <<< rostime ROS_NOBUILD in package rostime                                          
  [rosmake-1] Starting >>> rosconsole [ make ]                                                             
  [rosmake-0] Finished <<< std_msgs ROS_NOBUILD in package std_msgs                                        
  [rosmake-0] Starting >>> rosgraph_msgs [ make ]                                                          
  [rosmake-2] Finished <<< roslang ROS_NOBUILD in package roslang
   No Makefile in package roslang          
  [rosmake-1] Finished <<< rosconsole ROS_NOBUILD in package rosconsole                                    
  [rosmake-2] Starting >>> rosclean [ make ]                                                               
  [rosmake-0] Finished <<< rosgraph_msgs ROS_NOBUILD in package rosgraph_msgs                              
  [rosmake-3] Finished <<< smclib ROS_NOBUILD in package smclib                                            
  [rosmake-3] Starting >>> rosgraph [ make ]                                                               
  [rosmake-1] Starting >>> rosparam [ make ]                                                               
  [rosmake-2] Finished <<< rosclean ROS_NOBUILD in package rosclean                                        
  [rosmake-1] Finished <<< rosparam ROS_NOBUILD in package rosparam                                        
  [rosmake-3] Finished <<< rosgraph ROS_NOBUILD in package rosgraph                                        
  [rosmake-1] Starting >>> roscpp_traits [ make ]                                                          
  [rosmake-2] Starting >>> rosmaster [ make ]                                                              
  [rosmake-3] Starting >>> rospy [ make ]                                                                  
  [rosmake-1] Finished <<< roscpp_traits ROS_NOBUILD in package roscpp_traits                              
  [rosmake-3] Finished <<< rospy ROS_NOBUILD in package rospy                                              
  [rosmake-0] Starting >>> xmlrpcpp [ make ]                                                               
  [rosmake-1] Starting >>> roscpp_serialization [ make ]                                                   
  [rosmake-2] Finished <<< rosmaster ROS_NOBUILD in package rosmaster                                      
  [rosmake-1] Finished <<< roscpp_serialization ROS_NOBUILD in package roscpp_serialization                
  [rosmake-2] Starting >>> rosunit [ make ]                                                                
  [rosmake-2] Finished <<< rosunit ROS_NOBUILD in package rosunit                                          
  [rosmake-1] Starting >>> pluginlib [ make ]                                                              
  [rosmake-0] Finished <<< xmlrpcpp ROS_NOBUILD in package xmlrpcpp                                        
  [rosmake-3] Starting >>> bond [ make ]                                                                   
  [rosmake-2] Starting >>> roscpp [ make ]                                                                 
  [rosmake-1] Finished <<< pluginlib ROS_NOBUILD in package pluginlib                                      
  [rosmake-2] Finished <<< roscpp ROS_NOBUILD in package roscpp                                            
  [rosmake-3] Finished <<< bond ROS_NOBUILD in package bond                                                
  [rosmake-0] Starting >>> cminpack [ make ]                                                               
  [rosmake-1] Starting >>> flann [ make ]                                                                  
  [rosmake-3] Starting >>> rosout [ make ]                                                                 
  [rosmake-2] Starting >>> bondcpp [ make ]                                                                
  [rosmake-0] Finished <<< cminpack [PASS] [ 3.78 seconds ]                                                
  [rosmake-3] Finished <<< rosout ROS_NOBUILD in package rosout                                            
  [rosmake-0] Starting >>> roslaunch [ make ]                                                              
  [rosmake-0] Finished <<< roslaunch ROS_NOBUILD in package roslaunch
   No Makefile in package roslaunch    
  [rosmake-2] Finished <<< bondcpp ROS_NOBUILD in package bondcpp                                          
  [rosmake-3] Starting >>> common_rosdeps [ make ]                                                         
  [rosmake-0] Starting >>> rostest [ make ]                                                                
  [rosmake-2] Starting >>> nodelet [ make ]                                                                
  [rosmake-3] Finished <<< common_rosdeps ROS_NOBUILD in package common_rosdeps                            
  [rosmake-0] Finished <<< rostest ROS_NOBUILD in package rostest                                          
  [rosmake-0] Starting >>> test_roslaunch [ make ]                                                         
  [rosmake-3] Starting >>> message_filters [ make ]                                                        
  [rosmake-2] Finished <<< nodelet ROS_NOBUILD in package nodelet                                          
  [rosmake-2] Starting >>> test_rosgraph [ make ]                                                          
  [rosmake-3] Finished <<< message_filters ROS_NOBUILD in package message_filters                          
  [rosmake-0] Finished <<< test_roslaunch ROS_NOBUILD in package test_roslaunch                            
  [rosmake-2] Finished <<< test_rosgraph ROS_NOBUILD in package test_rosgraph                              
  [rosmake-0] Starting >>> topic_tools [ make ]                                                            
  [rosmake-3] Starting >>> nodelet_topic_tools [ make ]                                                    
  [rosmake-3] Finished <<< nodelet_topic_tools ROS_NOBUILD in package nodelet_topic_tools                  
  [rosmake-0] Finished <<< topic_tools ROS_NOBUILD in package topic_tools                                  
  [rosmake-0] Starting >>> rosbag [ make ]                                                                 
  [rosmake-2] Starting >>> eigen [ make ]                                                                  
  [rosmake-0] Finished <<< rosbag ROS_NOBUILD in package rosbag                                            
  [rosmake-2] Finished <<< eigen ROS_NOBUILD in package eigen                                              
  [rosmake-3] Starting >>> bullet [ make ]                                                                 
  [rosmake-2] Starting >>> rosbagmigration [ make ]                                                        
  [rosmake-0] Starting >>> rosmsg [ make ]                                                                 
  [rosmake-0] Finished <<< rosmsg ROS_NOBUILD in package rosmsg
   No Makefile in package rosmsg             
  [rosmake-0] Starting >>> rostopic [ make ]                                                               
  [rosmake-2] Finished <<< rosbagmigration ROS_NOBUILD in package rosbagmigration
   No Makefile in package rosbagmigration
  [rosmake-3] Finished <<< bullet ROS_NOBUILD in package bullet                                            
  [rosmake-0] Finished <<< rostopic ROS_NOBUILD in package rostopic                                        
  [rosmake-3] Starting >>> angles [ make ]                                                                 
  [rosmake-2] Starting >>> test_topic_tools [ make ]                                                       
  [rosmake-3] Finished <<< angles ROS_NOBUILD in package angles                                            
  [rosmake-2] Finished <<< test_topic_tools ROS_NOBUILD in package test_topic_tools                        
  [rosmake-0] Starting >>> geometry_msgs [ make ]                                                          
  [rosmake-0] Finished <<< geometry_msgs ROS_NOBUILD in package geometry_msgs                              
  [rosmake-3] Starting >>> rosnode [ make ]                                                                
  [rosmake-2] Starting >>> sensor_msgs [ make ]                                                            
  [rosmake-3] Finished <<< rosnode ROS_NOBUILD in package rosnode                                          
  [rosmake-2] Finished <<< sensor_msgs ROS_NOBUILD in package sensor_msgs                                  
  [rosmake-0] Starting >>> rosservice [ make ]                                                             
  [rosmake-0] Finished <<< rosservice ROS_NOBUILD in package rosservice                                    
  [rosmake-3] Starting >>> timestamp_tools [ make ]                                                        
  [rosmake-3] Finished <<< timestamp_tools ROS_NOBUILD in package timestamp_tools                          
  [rosmake-2] Starting >>> test_nodelet [ make ]                                                           
  [rosmake-0] Starting >>> roswtf [ make ]                                                                 
  [rosmake-0] Finished <<< roswtf ROS_NOBUILD in package roswtf                                            
  [rosmake-2] Finished <<< test_nodelet ROS_NOBUILD in package test_nodelet                                
  [rosmake-3] Starting >>> test_ros [ make ]                                                               
  [rosmake-0] Starting >>> tf [ make ]                                                                     
  [rosmake-3] Finished <<< test_ros ROS_NOBUILD in package test_ros                                        
  [rosmake-0] Finished <<< tf ROS_NOBUILD in package tf                                                    
  [rosmake-2] Starting >>> test_crosspackage [ make ]                                                      
  [rosmake-3] Starting >>> test_rosnode [ make ]                                                           
  [rosmake-2] Finished <<< test_crosspackage ROS_NOBUILD in package test_crosspackage                      
  [rosmake-3] Finished <<< test_rosnode ROS_NOBUILD in package test_rosnode                                
  [rosmake-2] Starting >>> test_rosbag [ make ]                                                            
  [rosmake-0] Starting >>> diagnostic_msgs [ make ]                                                        
  [rosmake-2] Finished <<< test_rosbag ROS_NOBUILD in package test_rosbag                                  
  [rosmake-0] Finished <<< diagnostic_msgs ROS_NOBUILD in package diagnostic_msgs                          
  [rosmake-3] Starting >>> rosboost_cfg [ make ]                                                           
  [rosmake-3] Finished <<< rosboost_cfg ROS_NOBUILD in package rosboost_cfg
   No Makefile in package rosboost_cfg
  [rosmake-2] Starting >>> test_rospack [ make ]                                                           
  [rosmake-2] Finished <<< test_rospack ROS_NOBUILD in package test_rospack                                
  [rosmake-2] Starting >>> actionlib_msgs [ make ]                                                         
  [rosmake-2] Finished <<< actionlib_msgs ROS_NOBUILD in package actionlib_msgs                            
  [rosmake-0] Starting >>> std_srvs [ make ]                                                               
  [rosmake-0] Finished <<< std_srvs ROS_NOBUILD in package std_srvs                                        
  [rosmake-3] Starting >>> orocos_kdl [ make ]                                                             
  [rosmake-2] Starting >>> test_roscpp [ make ]                                                            
  [rosmake-2] Finished <<< test_roscpp ROS_NOBUILD in package test_roscpp                                  
  [rosmake-3] Finished <<< orocos_kdl ROS_NOBUILD in package orocos_kdl                                    
  [rosmake-0] Starting >>> diagnostic_updater [ make ]                                                     
  [rosmake-2] Starting >>> python_orocos_kdl [ make ]                                                      
  [rosmake-2] Finished <<< python_orocos_kdl ROS_NOBUILD in package python_orocos_kdl                      
  [rosmake-0] Finished <<< diagnostic_updater ROS_NOBUILD in package diagnostic_updater                    
  [rosmake-2] Starting >>> kdl [ make ]                                                                    
  [rosmake-3] Starting >>> dynamic_reconfigure [ make ]                                                    
  [rosmake-3] Finished <<< dynamic_reconfigure ROS_NOBUILD in package dynamic_reconfigure                  
  [rosmake-0] Starting >>> self_test [ make ]                                                              
  [rosmake-2] Finished <<< kdl ROS_NOBUILD in package kdl
   No Makefile in package kdl                      
  [rosmake-0] Finished <<< self_test ROS_NOBUILD in package self_test                                      
  [rosmake-2] Starting >>> eigen_conversions [ make ]                                                      
  [rosmake-0] Starting >>> driver_base [ make ]                                                            
  [rosmake-3] Starting >>> visualization_msgs [ make ]                                                     
  [rosmake-2] Finished <<< eigen_conversions ROS_NOBUILD in package eigen_conversions                      
  [rosmake-0] Finished <<< driver_base ROS_NOBUILD in package driver_base                                  
  [rosmake-3] Finished <<< visualization_msgs ROS_NOBUILD in package visualization_msgs                    
  [rosmake-0] Starting >>> test_rosmsg [ make ]                                                            
  [rosmake-0] Finished <<< test_rosmsg ROS_NOBUILD in package test_rosmsg                                  
  [rosmake-2] Starting >>> rosdep [ make ]                                                                 
  [rosmake-2] Finished <<< rosdep ROS_NOBUILD in package rosdep
   No Makefile in package rosdep             
  [rosmake-3] Starting >>> test_rosmaster [ make ]                                                         
  [rosmake-0] Starting >>> test_rosdep [ make ]                                                            
  [rosmake-3] Finished <<< test_rosmaster ROS_NOBUILD in package test_rosmaster                            
  [rosmake-0] Finished <<< test_rosdep ROS_NOBUILD in package test_rosdep                                  
  [rosmake-2] Starting >>> test_rostopic [ make ]                                                          
  [rosmake-2] Finished <<< test_rostopic ROS_NOBUILD in package test_rostopic                              
  [rosmake-3] Starting >>> stereo_msgs [ make ]                                                            
  [rosmake-3] Finished <<< stereo_msgs ROS_NOBUILD in package stereo_msgs                                  
  [rosmake-0] Starting >>> trajectory_msgs [ make ]                                                        
  [rosmake-0] Finished <<< trajectory_msgs ROS_NOBUILD in package trajectory_msgs                          
  [rosmake-2] Starting >>> test_rostest [ make ]                                                           
  [rosmake-2] Finished <<< test_rostest ROS_NOBUILD in package test_rostest                                
  [rosmake-3] Starting >>> test_roscpp_serialization_perf [ make ]                                         
  [rosmake-3] Finished <<< test_roscpp_serialization_perf ROS_NOBUILD in package test_roscpp_serialization_perf
  [rosmake-0] Starting >>> test_roscpp_serialization [ make ]                                              
  [rosmake-0] Finished <<< test_roscpp_serialization ROS_NOBUILD in package test_roscpp_serialization      
  [rosmake-2] Starting >>> nav_msgs [ make ]                                                               
  [rosmake-2] Finished <<< nav_msgs ROS_NOBUILD in package nav_msgs                                        
  [rosmake-3] Starting >>> rosbash [ make ]                                                                
  [rosmake-0] Starting >>> test_common_msgs [ make ]                                                       
  [rosmake-0] Finished <<< test_common_msgs ROS_NOBUILD in package test_common_msgs                        
  [rosmake-3] Finished <<< rosbash ROS_NOBUILD in package rosbash
   No Makefile in package rosbash          
  [rosmake-2] Starting >>> test_rospy [ make ]                                                             
  [rosmake-2] Finished <<< test_rospy ROS_NOBUILD in package test_rospy                                    
  [rosmake-0] Starting >>> roscreate [ make ]                                                              
  [rosmake-0] Finished <<< roscreate ROS_NOBUILD in package roscreate                                      
  [rosmake-3] Starting >>> test_rosservice [ make ]                                                        
  [rosmake-3] Finished <<< test_rosservice ROS_NOBUILD in package test_rosservice                          
  [rosmake-2] Starting >>> mk [ make ]                                                                     
  [rosmake-2] Finished <<< mk ROS_NOBUILD in package mk
   No Makefile in package mk                         
  [rosmake-0] Starting >>> rosemacs [ make ]                                                               
  [rosmake-0] Finished <<< rosemacs ROS_NOBUILD in package rosemacs
   No Makefile in package rosemacs       
  [rosmake-3] Starting >>> test_roswtf [ make ]                                                            
  [rosmake-3] Finished <<< test_roswtf ROS_NOBUILD in package test_roswtf                                  
  [rosmake-2] Starting >>> perf_roscpp [ make ]                                                            
  [rosmake-2] Finished <<< perf_roscpp ROS_NOBUILD in package perf_roscpp                                  
  [rosmake-0] Starting >>> test_roslib_comm [ make ]                                                       
  [rosmake-0] Finished <<< test_roslib_comm ROS_NOBUILD in package test_roslib_comm                        
  [rosmake-3] Starting >>> rosmake [ make ]                                                                
  [rosmake-3] Finished <<< rosmake ROS_NOBUILD in package rosmake                                          
  [rosmake-2] Starting >>> test_rostime [ make ]                                                           
  [rosmake-2] Finished <<< test_rostime ROS_NOBUILD in package test_rostime                                
  [rosmake-0] Starting >>> test_roslib [ make ]                                                            
  [rosmake-3] Starting >>> test_rosmake [ make ]                                                           
  [rosmake-0] Finished <<< test_roslib ROS_NOBUILD in package test_roslib                                  
  [rosmake-3] Finished <<< test_rosmake ROS_NOBUILD in package test_rosmake                                
  [rosmake-0] Starting >>> roslisp [ make ]                                                                
  [rosmake-0] Finished <<< roslisp ROS_NOBUILD in package roslisp                                          
  [rosmake-0] Starting >>> roscore_migration_rules [ make ]                                                
  [rosmake-0] Finished <<< roscore_migration_rules ROS_NOBUILD in package roscore_migration_rules          
  [rosmake-2] Starting >>> test_rosparam [ make ]                                                          
  [rosmake-2] Finished <<< test_rosparam ROS_NOBUILD in package test_rosparam                              
  [rosmake-3] Starting >>> tf_conversions [ make ]                                                         
  [rosmake-3] Finished <<< tf_conversions ROS_NOBUILD in package tf_conversions                            
  [rosmake-0] Starting >>> test_roscreate [ make ]                                                         
  [rosmake-0] Finished <<< test_roscreate ROS_NOBUILD in package test_roscreate                            
  [ rosmake ] Output from build of package flann written to:                   [ 1 Active 99/102 Complete ]
  [ rosmake ]    /home/ira/.ros/rosmake/rosmake_output-20120708-151720/flann/build_output.log
  [rosmake-1] Finished <<< flann [PASS] [ 122.54 seconds ] -- WARNING: 32 compiler warnings                
  [rosmake-1] Starting >>> pcl [ make ]                                                                    
  [ rosmake ] All 4 lines
  {-------------------------------------------------------------------------------
    mkdir -p msg/build && cd msg/build && cmake ../.. && make && cd -
    CMake Error: The current CMakeCache.txt directory /home/ira/code/ros/sam_pcl/perception_pcl_electric_unstable/pcl/msg/build/CMakeCache.txt is different than the directory /home/wei/ros/perception_pcl_electric_unstable/pcl/msg/build where CMackeCache.txt was created. This may result in binaries being created in the wrong place. If you are not sure, reedit the CMakeCache.txt
    CMake Error: The source "/home/ira/code/ros/sam_pcl/perception_pcl_electric_unstable/pcl/CMakeLists.txt" does not match the source "/home/wei/ros/perception_pcl_electric_unstable/pcl/CMakeLists.txt" used to generate cache.  Re-run cmake with a different source directory.
  -------------------------------------------------------------------------------}
  [ rosmake ] Output from build of package pcl written to:
  [ rosmake ]    /home/ira/.ros/rosmake/rosmake_output-20120708-151720/pcl/build_output.log
  [rosmake-1] Finished <<< pcl [FAIL] [ 0.04 seconds ]                                                     
  [ rosmake ] Halting due to failure in package pcl. 
  [ rosmake ] Waiting for other threads to complete.   
  [ rosmake ] Results:                                                                                     
  [ rosmake ] Built 101 packages with 1 failures.                                                          
  [ rosmake ] Summary output to directory                                                                  
  [ rosmake ] /home/ira/.ros/rosmake/rosmake_output-20120708-151720                                        
  [ rosmake ] WARNING: Rosdep did not detect the following system dependencies as installed: libvtk-qt Consider using --rosdep-install option or `rosdep install flann cminpack pcl_ros pcl`
  ira@ira-K42JP:~/code/ros/sam_pcl/perception_pcl_electric_unstable$                                    

Originally posted by sam on ROS Answers with karma: 2570 on 2012-07-07
Post score: 0

A:

Delete the file:
/home/ira/code/ros/sam_pcl/perception_pcl_electric_unstable/pcl/msg/build/CMakeCache.txt
It ought to be deleted by rosmake --pre-clean, but apparently it is not.

Originally posted by KruseT with karma: 7848 on 2012-07-07
This answer was ACCEPTED on the original site
Post score: 1


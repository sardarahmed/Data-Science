Q:

catkin_make won't compile on my raspberry pi

-- Using these message generators: gencpp;geneus;genlisp;gennodejs;genpy
-- theora_image_transport: 1 messages, 0 services
-- Checking for module 'ogg'
--   No package 'ogg' found
CMake Error at /usr/share/cmake-3.7/Modules/FindPkgConfig.cmake:415 (message):
A required package was not found
Call Stack (most recent call first):
/usr/share/cmake-3.7/Modules/FindPkgConfig.cmake:588 (_pkg_check_modules_internal)
image_transport_plugins/theora_image_transport/CMakeLists.txt:12 (pkg_check_modules)
-- Configuring incomplete, errors occurred!
See also "/home/pi/new_catkin_ws/build/CMakeFiles/CMakeOutput.log".
See also "/home/pi/new_catkin_ws/build/CMakeFiles/CMakeError.log".
Makefile:318: recipe for target 'cmake_check_build_system' failed
make: *** [cmake_check_build_system] Error 1
Invoking "make cmake_check_build_system" failed
I have been trying for days to get raspicam_node working I have ros kinetic downloaded on my pi and can not for the life of me get a workspace to run a catkin_make with raspicam_node
this particular error has had me stumped for hours it says that it cannot find the package ogg when it is going through the theora_image_transport package I have googled everything and what it seems to point to is something with Cmake but I have no idea how to fix it

Originally posted by Raymond on ROS Answers with karma: 1 on 2018-11-24
Post score: 0

Original comments
Comment by PeteBlackerThe3rd on 2018-11-25:
Which operating system are you running on your raspberry pi? We compiled this fine using Ubuntu mate but as far as I know support is patchy under any other OS.
Comment by billy on 2018-12-02:
Raymond, I'm two weeks in to getting raspicam working - started with Pi Zero - now on Pi 3B+ tried different images, different OSes, and I'm back to "ogg" error I've been to before. Did you solve? Any ideas?
Currently trying on Stretch lite. But had same issue on Stretch as well.

A:

As noted in comment above, I've been struggling with this as well on a PI 3b+.
Here is what I learned.
ogg is part of the theora video codec and transport. I guess it comes as part of ubuntu but not raspbian stretch.
You need to install the source and make it.
Here is what I used:
cd ~

wget http://downloads.xiph.org/releases/ogg/libogg-1.3.1.tar.gz
tar -xf libogg-1.3.1.tar.gz 
cd libogg-1.3.1/
./configure --host=arm-unknown-linux-gnueabi --enable-static
make
sudo make install

cd ~

wget http://downloads.xiph.org/releases/vorbis/libvorbis-1.3.3.tar.gz
tar -xf libvorbis-1.3.3.tar.gz
cd libvorbis-1.3.3/
./configure --host=arm-unknown-linux-gnueabi --enable-static
make
sudo make install

cd ~

wget http://downloads.xiph.org/releases/theora/libtheora-1.1.1.tar.bz2
tar -xf libtheora-1.1.1.tar.bz2 
cd libtheora-1.1.1/
./configure --host=arm-unknown-linux-gnueabi --enable-static
make
sudo make install

I got the info from this link but the flow is incorrect. Do it in the order I use above.
https://www.codepool.biz/raspberry-pi-live-streaming-usb-webcam.html

Originally posted by billy with karma: 1850 on 2018-12-02
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Irin Thirdwater on 2019-09-03:
I was building kinetic on raspbian jessie with pi zero and was also able to compile, following the above, by installing through apt-get: sudo apt-get install libogg-dev libvorbis-dev libtheora-dev.


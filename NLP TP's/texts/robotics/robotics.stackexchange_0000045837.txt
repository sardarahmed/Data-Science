Q:

extracting orientation from Stage odometry using quaternions

hello everyone.
i'm writing a subscriber of a nav_msgs/Odometry topic where Stages writes its own messages.
I can easily get x,y position of robot, while for its orientation i should elaborate quaternion included in each message.
I know, from other tutorials, that i could solve problem by using

tf::getYaw(robot_pose.orientation)

where robot_pose.orientation is the quaternion contained in every generic message received.
To make this work, i should add at the beginning of file

#include "tf/transform_listener"

but no header and no file is found with such name at compiling time. By using command

rospack find tf

i realized that i have tf package installed. I even built it through command rosmake.
can you help me?
thank you

Originally posted by ubisum on ROS Answers with karma: 23 on 2012-11-16
Post score: 0

A:

Make sure your manifest.xml has the dependency to the tf package:
<depend package="tf"/>

Also, you might be missing the .h in your include:
#include "tf/transform_listener.h"

The getYaw method however is defined somewhere else, so I would use
#include "tf/transform_datatypes.h"

See tf API

Originally posted by Ivan Dryanovski with karma: 4954 on 2012-11-16
This answer was ACCEPTED on the original site
Post score: 2


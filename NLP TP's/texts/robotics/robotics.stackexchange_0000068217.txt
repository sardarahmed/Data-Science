Q:

Using qwt with qt_ros

I am trying to build a qt_ros package which uses a custom .ui file with a couple of qwt widgets. The standard qt_ros package builds and displays the original main window gui. When I replace the old .ui file with the one I want to use, I get the message qwt_dial.h: No such file or directory. I have confirmed that the files exist in usr/include/qwt-qt4. The only thing I can think of is maybe there should be lines including qwt in package.xml and/or CMakeLists.txt, or qwt should be installed elsewhere. Any help would be appreciated.
edit: I am running Ubuntu 14.04 and ROS Indigo.
edit: Earlier I added the path to the widget library to ui_main_window.h which is generated with catkin_make. This allowed the file to be found. It was then giving me an error with slot and signal; those had to be changed to Q_SLOT and Q_SIGNAL. Currently I am getting a few undefined reference errors involving QwtCompass and QwtDial.

Originally posted by aland_t on ROS Answers with karma: 107 on 2015-06-22
Post score: 2

A:

Ok, It started to work magically. Here is what I did: In ui_main_window.h change "#include qwtcompass.h" to "#include qwt-qt4/qwt_compass.h". This change has to be repeated every time the .ui file is altered, for now. In qwt_abstract_scale_draw.h the lines "slots" and "signals" must be changed to "Q_SLOTS" and "Q_SIGNALS" respectively. In CMakeLists.txt, "${Qwt_LIBRARIES}" must be added to the list of "target_link_libraries()".

Originally posted by aland_t with karma: 107 on 2015-06-25
This answer was ACCEPTED on the original site
Post score: 0


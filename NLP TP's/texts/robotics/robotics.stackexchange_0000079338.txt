Q:

How to get laser points in a specific time of a bag

I have some code that get the messages and break after there is something inside, but laser ranges data change every time I execute my code. This happens probably cause I get the msg in different periodo of time. I want set a specific time to get it, I mean get the ranges always at the same time.
This how I'm doing now.
while(ros::ok()) {
    for (i = 0; i < 540; i++) {
      if (!clustersScan.laserMsg.ranges.empty()) {
        RANGES[i] = clustersScan.laserMsg.ranges[i];
      }
    }

    if(!clustersScan.laserMsg.ranges.empty()) break;

    ros::spinOnce();
  }

Originally posted by tiagoantunes14@gmail.com on ROS Answers with karma: 3 on 2017-03-04
Post score: 0

A:

There's a lot missing from your code (how are you getting messages? is there a subscriber? why do you want a specific timestamp? how are you reading the bag file?) , so the best I can do is a generic answer:
rosbag has a C++ API that can be used to read all of the messages from a bag file, in order. You can use this to get the first (or Nth) message from a bag file, or you can compare the header timestamps if you want a message with a specific timestamp.

Originally posted by ahendrix with karma: 47576 on 2017-03-04
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by tiagoantunes14@gmail.com on 2017-03-04:
Generic answer was enough! Thanks!


Q:

How to publish and subscribe float/double type value on a topic?

As far as I know, callback function used for the subscriber in the ROS tutorial are all string type, and callback functions are void type.
However, I need to use the subscribed values (e.g. velocities) for other purposes. Is there a way to pass and receive non-string type messages?
Thanks.

How do you modify the callback function prototype below?
void chatterCallback(const std_msgs::String::ConstPtr& msg)

Originally posted by Bholms on ROS Answers with karma: 83 on 2013-06-30
Post score: 3

A:

You could definitely decompose the sting messages with regular expressions.
Or, you could use a different message data type that has a float container.
Or, you could write your own message type.
Or, you could use the float message.
http://ros.org/doc/api/sensor_msgs/html/msg/ChannelFloat32.html

Have you done the ROS tutorials? If not, I recommend you do so. ROS is a complicated system, and you need to really grasp the concepts before you attempt coding. It is very important you understand what a Message is, and how to use them.
However, to answer your question, it depends on how you are modifying it. For the float message, you will need to add to the top of your code the following line.
#include <sensor_msgs/ChannelFloat32>

Now, you can change the function to read
void floatCallback(const sensor_msgs::ChannelFloat32::ConstPtr& float_msg)

and that should work.

Originally posted by allenh1 with karma: 3055 on 2013-06-30
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Martin GÃ¼nther on 2013-07-15:
Hmm... sensor_msgs/ChannelFloat32.msg isn't "the float message", std_msgs/Float32 (or Float64) is. And for velocities, geometry_msgs/Twist is the standard.


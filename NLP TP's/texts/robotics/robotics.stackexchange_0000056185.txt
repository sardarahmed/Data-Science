Q:

How to do camera calibration for Primesense?

Hello there,
I want to calibrate my Carmine 1.09 depth sensor. I am using a tutorial "How to Calibrate a Monocular Camera" in ROS.
It asks me to find the topic "/camera/image_raw". However, I don't have such topic, instead I have following similar topics
"/camera/depth/image_raw"
"/camera/depth_registered/image_raw"
"/camera/ir/image_raw"
"/camera/rgb/image_raw"

I tried to calibrate the camera using "camera/depth/image_raw" with the following command:
rosrun camera_calibration cameracalibrator.py --size 8x6 --square 0.108 image:=/camera/depth/image_raw camera:=/camera/depth

Is this command correct? If I run this command, I get a message like this:
Waiting for service /camera/depth/set_camera_info ...
Service not found

Do I need to make any changes to the code in cameracalibrator.py? Please let me know the right way to calibrate?
Thanks in advance.

Originally posted by Keerthi Raj on ROS Answers with karma: 7 on 2013-12-18
Post score: 0

Original comments
Comment by demmeln on 2013-12-20:
Without knowing much about camera calibration, it seems that the tutorial is talking about calibration of a grayscale/color camera, not a depth camera. So for calibration of the primesense rgb camera you might want to rather use "/camera/rgb/image_raw"? How to calibrate the depth is another story.

A:

For a camera to be calibrated and its images corrected by the image pipeline, the camera driver should publish a camera_info topic (with the current calibration in CameraInfo message) and provide a set_camera_info service (to update the current calibration).
If you are using the openni driver, they should be provided. In your case /camera/rgb/camera_info and /camera/rgb/set_camera_info.
Are the topic and the service there? What driver are you using for the camera?
Please note that there is a newer version of the driver: openni2_camera solving some issues with cameras not working properly with the former version. This is discussed in question 54747.

Originally posted by joanpau with karma: 191 on 2013-12-19
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Keerthi Raj on 2013-12-22:
Thanks joanpau. I ran the calibration for "camera/rgb/camera_info". But, when I hit the calibrate button, the display window hangs and the respective terminal also hangs and calibration will not end. Any idea why this happens?
Comment by Keerthi Raj on 2013-12-23:
It worked. It was taking lot of time to process and my PC didn't respond for some time. So, I thought it was hung.
Anyways, I was able to calibrate the camera. Thank you very much.
Comment by joanpau on 2014-01-20:
So from your comment I guess that the remapping of the camera namespace was wrong, wasn't it? In that case, you should consider accepting the answer (I always forget to do it, too ;-).


Q:

uvc_cam launching errors/ set_control

Hi!
I am trying to get my:
Bus 006 Device 007: ID 046d:08f0 Logitech, Inc. QuickCam Messenger
to publish its images in ROS.
I am now trying to use uvc_cam using a launch file.
Problem 1:
unable to set control: Invalid argument
ERROR: could not set some settings.
unable to set control
I get this error unless I comment out all set_control(,) calls other than the ones to Brightness, Contrast, and Gain.
I do not know if commenting every other set_control is an acceptable solution.
Problem 2:
Regardless of the code in the set_controls section, I get:
[uvc_camera-1] process has died [pid 7386, exit code -11, cmd /home/siml/roswk/uvc_camera_pkg/uvc_camera/bin/camera_node __name:=uvc_camera __log:=/home/siml/.ros/log/0cee0b5a-a2dc-11e2-9b3d-20cf3057401c/uvc_camera-1.log].
log file: /home/siml/.ros/log/0cee0b5a-a2dc-11e2-9b3d-20cf3057401c/uvc_camera-1*.log
all processes on machine have died, roslaunch will exit
shutting down processing monitor...
... shutting down processing monitor complete
done
This log file does not exist for me to check out :(
I have no idea how to proceed, as usb_cam also failed on me due to an error:
what(): pixel format not available.
Could it be that my .yaml calibration file is incorrect?
Any suggetions/ideas?
.
.
.
MORE INFO::
My launch file (with removed brackets for display):
launch
node pkg="uvc_camera" type="camera_node" name="uvc_camera" output="screen"
param name="width" type="int" value="324" /
param name="height" type="int" value="240" /
param name="fps" type="int" value="30" /
param name="frame" type="string" value="wide_stereo" /
param name="device" type="string" value="/dev/video0" /
param name="camera_info_url" type="string" value="file://$(find camtobot)/usbcam.yaml" /
/node
/launch
.
Full output:
PARAMETERS

/rosdistro
/rosversion
/uvc_camera/camera_info_url
/uvc_camera/device
/uvc_camera/fps
/uvc_camera/frame
/uvc_camera/height
/uvc_camera/width

NODES
/
uvc_camera (uvc_camera/camera_node)
ROS_MASTER_URI=("removed to post wo links")
core service [/rosout] found
Exception AttributeError: AttributeError("'_DummyThread' object has no attribute '_Thread__block'",) in <module 'threading' from '/usr/lib/python2.7/threading.pyc'> ignored
process[uvc_camera-1]: started with pid [7763]
[ INFO] [1365712451.949192176]: camera calibration URL: file:///home/siml/roswk/sandbox/camtobot/usbcam.yaml
opening /dev/video0
pixfmt 0 = 'GRBG' desc = 'GRBG'
discrete: 162x120:
discrete: 324x240:
int (Brightness, 0, id = 980900): 0 to 31 (1)
int (Contrast, 0, id = 980901): 0 to 15 (1)
int (Exposure, 0, id = 980911): 0 to 1023 (1)
int (Gain, 0, id = 980913): 0 to 255 (1)
unable to set control: Invalid argument
ERROR: could not set some settings.
unable to set control
[uvc_camera-1] process has died [pid 7763, exit code -11, cmd /home/siml/roswk/uvc_camera_pkg/uvc_camera/bin/camera_node __name:=uvc_camera __log:=/home/siml/.ros/log/0cee0b5a-a2dc-11e2-9b3d-20cf3057401c/uvc_camera-1.log].
log file: /home/siml/.ros/log/0cee0b5a-a2dc-11e2-9b3d-20cf3057401c/uvc_camera-1*.log
all processes on machine have died, roslaunch will exit
shutting down processing monitor...
... shutting down processing monitor complete
done

Originally posted by leothelion on ROS Answers with karma: 26 on 2013-04-11
Post score: 1

Original comments
Comment by RafBerkvens on 2013-04-12:
I do not think that it is due to your YAML file. Default it does not exist, neither is it required. Did you have this error since compiling the code yourself? In my distribution (groovy), the uvc_camera node came with the main install.

A:

I have instead made my own ros publisher using opencv. thank you for the help

Originally posted by leothelion with karma: 26 on 2013-04-16
This answer was ACCEPTED on the original site
Post score: 0


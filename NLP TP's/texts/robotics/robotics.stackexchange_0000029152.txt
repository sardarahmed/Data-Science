Q:

How do I run ignition gazebo distributed (server on one machine, GUI on another)?

Hello,
I'm trying to figure out how to run ignition gazebo -s shapes.sdf on one machine, and ignition gazebo -g on another (both hosts on the same LAN). I've found the tutorial at https://ignitionrobotics.org/api/gazebo/3.5/distributedsimulation.html, but it's pretty terse. I tried this:
ign gazebo -s --network-role=primary --network-secondaries=1 --distributed shapes.sdf, but it fails with
Traceback (most recent call last):
    2: from /usr/bin/ign:267:in `<main>'
    1: from /usr/lib/ruby/ignition/cmdgazebo3.rb:324:in `execute'
/usr/lib/ruby/ignition/cmdgazebo3.rb:310:in `parse': invalid option: --distributed (OptionParser::InvalidOption)

I'm running Citadel on Ubuntu 18.
I get the impression that the docs are a little rough. Any suggestions on where to look for more documentation or examples?

Originally posted by Rick Armstrong on Gazebo Answers with karma: 1 on 2021-02-10
Post score: 0

Original comments
Comment by Rick Armstrong on 2021-10-25:
Bump. Has nobody tried this?
Comment by kakcalu13 on 2022-02-18:
Oh dear, is this still ongoing? Any luck?

A:

Had the same problem and landed here googling for a solution. Eventually I found out that you have to set an environment variable to tell the GUI which host and user to connect to.
See Gazebo environment variables.
My Setup:

Gazebo Fortress
The simulation is running on machine 1, the GUI is running on machine 2.
Both machines are in the same subnet (192.168.0.xyz).

Machine 1 (simulation):

user: user1
hostname: host1

Machine 2 (GUI):

user: user2
hostname: host2

Start the simulation on machine 1:

$ ign gazebo -v 4 shapes.sdf -s

Set environment variable and start GUI on machine 2:

$ export IGN_PARTITION=host1:user1
 - $ ign gazebo -v 4 -g

The default setting for UDS multicast works for me (see IGN_DISCOVERY_MULTICAST_IP).
Hope that helps!

Originally posted by civcode with karma: 26 on 2023-03-19
This answer was ACCEPTED on the original site
Post score: 1


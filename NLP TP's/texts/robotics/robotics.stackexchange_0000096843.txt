Q:

Saving map with the path into map.pgm

I want to save the mapping path of the robot as it maps, by first visualizing the path on Rviz and then saving the poses into an array. I am planning to have the robot use this mapping path again and want to validate it.
Therefore I am wondering if it is possible to save the mapping path visualized in Rviz, together with the map itself into map.pgm. This is purely for validation purposes so that I can compare the path seen in Rviz with the path in the map.pgm file uploaded.

Originally posted by dtzx on ROS Answers with karma: 3 on 2020-08-16
Post score: 0

A:

If you're visualizing the path in RVIZ, you should be able write a node that subscribes to that same visualization topic and saves the data (of, if you are just watching the robot move along in RVIZ, you could save the pose of the robot as determined through TF). I don't know of any off the shelf approach for slam_gmapping -- slam_karto actually publishes the graph that it is optimizing as a visualization_msgs/MarkerArray which could be saved at the end of mapping.

Originally posted by fergs with karma: 13902 on 2020-08-18
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by dtzx on 2020-08-20:
I ended up writing another node to save the poses travelled by the robot and then published the poses back to the path topic to visualize it. Since the 2 path lines intersect in Rviz, I guess I can consider that my travel path has been validated. Thank you for the suggestions :)
Comment by fergs on 2020-08-22:
Awesome - glad I could help. If you would, please select the checkbox next to my answer, which will mark this question as answered (helps us keeping track of questions on ROS Answers).


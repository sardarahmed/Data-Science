Q:

move_base changes clock of mapping node

Hi, i am using stage to simulate two robots. Mapping runs, but if i start move_base for the first roboter, its tf stops working. So i researched a little bit and found out that if i start move_base for robot_0 the map frame is published with a total different time. On the left (robot_0) with move_base started, on the right (robot_1) without move_base.
Why is the Most recent transform changing?

And now move_base throws the following warning:

[ WARN] [1385137274.474605959]: Waiting on transform from /robot_0/base_footprint to /robot_0/map to become available before running costmap, tf error: Unable to lookup transform, cache is empty, when looking up transform from frame [/robot_0/base_footprint] to frame [/robot_0/map]

The tf tree is correct, so i take a look at the move_base source and the error is thrown in costmap_2d_ros.cpp:165
I have tried setting use_sim_time to true and to false, but the result always keep the same. And i used gmapping and hector_mapping, get the same problem by both
Anyone an idea how to solve that?

Originally posted by pkohout on ROS Answers with karma: 336 on 2013-11-22
Post score: 0

Original comments
Comment by pkohout on 2013-11-22:
if you need more information, just tell me

A:

With that large of a jump it is most likely that one of your robots is starting up using simulated time and the other is using Wall time. Make sure that you have set the using_sim_time before either of your robots has started.

Originally posted by tfoote with karma: 58457 on 2013-12-12
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by pkohout on 2013-12-15:
I forgot to set the using_sim_time parameter to true, now it works
Comment by tfoote on 2013-12-15:
Great. Please accept the answer by clicking the checkmark at the left of the answer so others know the question is answered without reading your comment.


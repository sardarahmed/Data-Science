Q:

3rd time getting stuck at "Building a ROS Package"

Before I get to this section if I do a:
echo $ROS_PACKAGE_PATH

i get two paths:
/home/ju78iklo9/catkin_ws/src:/opt/ros/kinetic/share

But
By the time I get to Building a ROS Package and work down to:
catkin_make

I get the following output (for three complete beginning to here retries):
Base path://home/ju78iklo9/catkin_ws
Source space: //home/ju78iklo9/catkin_ws/src
The specified base path //home/ju78iklo9/catkin_ws contains a CMakeLists.txt but catkin_make must be invoked in the root of workspace

I  have a killer ROS robot design but now I find myself repeating the same elementary ROS learning steps.
Now, again, for the 4th time (due to lab distractions)
Any help is appreciated as the non-industrial robot I intend to help design & build, although it would not likely be used at Starbucks to serve drinks, would likely help ROS (& community organizations) become a household name.
Thank you in advance for any assistance.
John
Note: The only path result I get after I get to Building Your Package and entering
echo $ROS_PACKAGE_PATH 

is:
/opt/ros/kinetic/share

Originally posted by ju78iklo9 on ROS Answers with karma: 26 on 2017-12-03
Post score: 0

Original comments
Comment by clyde on 2017-12-03:
I don't quite understand your question, but perhaps this will help: #q221538.
Comment by jayess on 2017-12-03:
Are you referring to the "official" Building a ROS Package tutorial?
Comment by jayess on 2017-12-03:
I agree with @clyde. What exactly is the question? There's a lot going on here but no clear question.
Comment by jayess on 2017-12-03:
Also, what directory are you running catkin_make from? It needs to be in the root of your catkin workspace, i.e., ~/ju78iklo9/catkin_ws
Comment by gvdhoorn on 2017-12-04:\

The specified base path //home/ju78iklo9/catkin_ws contains a CMakeLists.txt [..]

and it shouldn't.
Check to make sure there is one. If there is, how did it get there?
Comment by jayess on 2017-12-04:
@ju78iklo9: As @gvdhoorn pointed out, the root of your workspace should not contain a CMakeLists.txt. You may want to recreate your workspace following the tutorials.

A:

Hi @ju78iklo9 ,
as mentioned in the comments, this happens because you have the CMakeLists.txt on the root folder of the workspace. In your case,  /home/ju78iklo9/catkin_ws/CMakeLists.txt
The main CMakeLists.txt of the Workspace must be on the ~/catkin_ws/src/ folder, in your case, /home/ju78iklo9/catkin_ws/src/CMakeLists.txt
You problem is probably on the creation process of the workspace.
If you want to create a workspace from zero, you can do the following:

Rename the current ~/catkin_ws to  ~/old_catkin_ws with:

mv ~/catkin_ws ~/old_catkin_ws

Create the new catkin_ws from zero with:

cd
mkdir catkin_ws/src -p
cd catkin_ws/
catkin_make

The ROS Packages you create must be on ~/catkin_ws/src, so, if you want create a package named example_pkg that depends on roscpp package, for example, you would do the following:

cd ~/catkin_ws/src/
catkin_create_pkg example_pkg roscpp

To compile the example_pkg package, you run:

cd ~/catkin_ws
catkin_make

That is it.
If you prefer to watch a video for a better understanding, I've created one here.
Ruben.

Originally posted by Ruben Alves with karma: 1038 on 2017-12-06
This answer was ACCEPTED on the original site
Post score: 0


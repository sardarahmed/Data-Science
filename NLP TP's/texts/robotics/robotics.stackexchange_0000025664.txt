Q:

Multiple materials per link

How can you use multiple textures per link in SDF? I tried assigning names to the material and script tag(s) and different combinations of using separate or combined material tags but gazebo always only uses the first material. One example is the Atlas robot that uses multiple textures for some links (e.g. legs).
For example for atlas I created an atlas.material script with Atlas/Carbon and Atlas/Dark materials for two different textures which I then try to make available to Gazebo via
    <material name="mat_carbon">
      <script>
        <uri>model://atlas/materials/scripts</uri>
        <uri>model://atlas/materials/textures</uri>
        <name>Atlas/Carbon</name>
      </script>
    </material>
    <material name="mat_dark">
      <script>
        <uri>model://atlas/materials/scripts</uri>
        <uri>model://atlas/materials/textures</uri>
        <name>Atlas/Dark</name>
      </script>
    </material>

But it only takes the first material (i also tried fusing both material tags and naming the script tags). What's the correct way of doing this?
Edit:
After reading the OGRE documentation on materials I'm guessing that only one <material> tag in the sdf is required and the material needs to load the multiple textures. I've tried using multiple texture_unit blocks with names according to the ones in the collada file and different tex_coord_set ids but still haven't managed to make it load more than one texture per link.

Originally posted by ThomasK on Gazebo Answers with karma: 508 on 2013-01-18
Post score: 0

A:

A material is applied to a visual, not a link. Currently a visual can only have one material assigned to it. The best solution to you problem is to create a mesh using a 3D editor like Blender, and export the mesh as a collada file.

Originally posted by nkoenig with karma: 7676 on 2013-01-19
This answer was ACCEPTED on the original site
Post score: 0

Original comments
Comment by ThomasK on 2013-01-19:
Yes, I was talking about visual links. I was trying to have the Atlas model load with textures for a presentation, so I guess this is currently not supported as all the Atlas collada files require 2-3 textures per visual link?
Comment by nkoenig on 2013-01-19:
The Atlas robot should have the texture images embedded directly in the collada files. Are they not showing up for you?
Comment by ThomasK on 2013-01-19:
Nope, the model the way it is only shows up with textures in rviz but not in Gazebo. I only start seeing textures when I create a material script with the textures and add it to the visual elements like you have it for all the textured models in the gazebo_models database.
Comment by nkoenig on 2013-01-24:
Are there any "error" (or "Error") lines in ~/.gazebo/ogre.log?
Comment by ThomasK on 2013-01-24:
switched to https://bitbucket.org/osrf/drcsim/issue/89/atlas-textures-not-showing-up


Q:

Alternative controls (e.g. joystick) for interactive markers

Interactive markers (and rviz in general) seem to be designed completely around mouse-based control (using the handleMouseEvent callback). I am interested in instead using a Novint Falcon, Microsoft Kinect, or similar 3D interaction device to select and manipulate interactive markers in rviz.
I'm not quite sure how to approach this project. My first idea was to override all of the classes that implement handleMouseEvent and write a 'handleJoystickEvent' callback. However, I'm not sure how to actually call handleJoystickEvent, or whether this is even the right approach in general.
I would really appreciate any advice on how to proceed. Note that this doesn't have to be a very 'general' solution at first- it can be hardcoded to support only a single type of device.

Originally posted by danep on ROS Answers with karma: 197 on 2012-07-18
Post score: 2

A:

One possibility (and this is a bit of a hack) is to build the joystick aspects into the node which is running your Interactive Marker Server instance. While not actually going through RVIZ, you will see the updates in RVIZ whenever the server moves the marker itself.

Originally posted by fergs with karma: 13902 on 2012-07-20
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by danep on 2012-08-04:
Thanks, this put me on the right track! I created a TF broadcaster to link the joystick and robot transforms, and then added just a couple of lines of code to the interactive marker server to adjust the marker positions based on the joystick position.
Comment by anonymous8676 on 2014-06-19:
Not to reopen an old topic, but did you ever publish your code or wrist anything up about how to do what you did? I want to do EXACTLY the same thing now too :)
Comment by danep on 2014-06-21:
I created a package allowing you to control interactive markers with the Phantom Omni, maybe it will help you: https://github.com/danepowell/omni_im
Comment by anonymous8676 on 2014-06-22:
Excellent, thank you very much danep, look forward to checking it out later this week :)
Comment by anonymous8676 on 2014-06-22:
danep, I just tried to follow the link you supplied and got a 404 error, perhaps the link is incorrect?
Comment by danep on 2014-06-24:
Sorry, the forum mangled the link: https://github.com/danepowell/omni_im If this doesn't work, just copy and paste the text of the link into your browser.
Comment by anonymous8676 on 2014-06-25:
I have asked a new question here on this topic: http://answers.ros.org/question/175022/joystick-control-for-interactive-markers/


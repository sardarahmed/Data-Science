Q:

rviz cannot set initial pose with button 2D Pose Estimate

I'm a newbie to ROS Navigation and I will try to elaborate my problem as detailed as possible. Basically, I'd like to implement navigation stack with RGBD camera. To this end, I use maplab (https://github.com/ethz-asl/maplab) with its localization mode enabled as my localization system(a global map is created beforehand with maplab to be used in navigation). I have followed Navigation tutorials (http://wiki.ros.org/navigation/Tutorials/RobotSetup) to create related tfs and publish necessary topics. The application is launched without any error and rviz is showing the 2D global map correctly. Then, I tried to click the button '2D Pose Estimate' in rviz to set robot's initial pose. Now the problem comes such that there is no effect shown in rviz, the robot still stays at the same place. I checked the topic /initialpose which is published by rviz. Everytime I click the button '2D Pose Estimate' and drag it to some place on the map, there is a message published from this topic that has position and orientation information. Why rviz failed to set initial pose of the robot?
I have some doubt about the subscribers of the topic /initialpose. In my navigation setup, actually, there is no subscriber of topic /initialpose currently. But I find out that AMCL is the subscriber of topic /initialpose in case laser scan is used. In my case, maplab is the localization system. Then, whether do I need to do some work to make maplab subscribe to topic /initialpose? If yes, how the localization system should use the subscribed topic /initialpose in general?
I'm really puzzled by this problem and any help is highly appreciated. Thanks in advance.
Best regards,
Gerry

Originally posted by Gerry on ROS Answers with karma: 23 on 2020-03-23
Post score: 0

A:

The /initialpose topic is unique to AMCL. Some other localization packages may also use that topic just to be trivially compatible with AMCL, but there's no promise that a package will do this. Or that the package even itself has the capability for relocalization to be "assisted" in this way.
Its not clear to me from a 5 minute review of maplab that it has this capability implemented, but you should consult the authors.

Originally posted by stevemacenski with karma: 8272 on 2020-03-23
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Gerry on 2020-03-24:
OK, I managed to get some comments from the author of maplab. No, this capability is not implemented. The author, however, provided some hints on how to feed data of the topic into the localization message flow. Some coding work ahead :)


Q:

RGBDSLAM Installation problem

Hi folks :-)
Apologies for the long post but I have been trying for three days now to install, build and test RGBDSLAM without any success and am getting rather frustrated... surely it shouldn't be so hard :-)
I am quite experienced and have followed the instructions laid out in http://www.ros.org/wiki/rgbdslam and http://ros.org/wiki/electric/Installation/Ubuntu etc. to the letter and have tried all sorts of fixes suggested here, and on other sites, including starting from scratch with fresh Ubuntu installs twice, to no avail.
So, PLEASE could someone run through a fresh install and provide up to date detailed instructions as I see I'm definitely not the first to have build problems.
This is what Ive done, three times, following predominantly http://www.ros.org/wiki/rgbdslam, thus far:

Installed absolutely clean Ubuntu 11.10 64bit version (confirmed with /etc/issue and the output of uname -m)

Installed ROS Electric as required as per http://ros.org/wiki/electric/Installation/Ubuntu. Commands entered in "Terminal" as follows:

a.  sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu oneiric main" > /etc/apt/sources.list.d/ros-latest.list'
b.  wget http://packages.ros.org/ros.key -O - | sudo apt-key add â€“
c.  sudo apt-get update
d.  sudo apt-get install ros-electric-desktop-full
e.  echo "source /opt/ros/electric/setup.bash" >> ~/.bashrc
f.  . ~/.bashrc

Installed QT4 (QT Creator) via Ubuntu Software Center

Setup RGBDSLAM again as per http://www.ros.org/wiki/rgbdslam

a.  mkdir -p ~/ros
b.  echo 'export ROS_PACKAGE_PATH=~/ros:$ROS_PACKAGE_PATH' >> ~/.bashrc
c.  source ~/.bashrc
d.  svn co http://alufr-ros-pkg.googlecode.com/svn/trunk/rgbdslam_freiburg/rgbdslam
e.  svn co https://code.ros.org/svn/ros-pkg/stacks/vslam/trunk/g2o ~/ros/g2o
f.  rosmake --rosdep-install rgbdslam
This immediately failed with:
[ rosmake ] Packages requested are: ['rgbdslam']
[ rosmake ] Logging to directory/home/mike/.ros/rosmake/rosmake_output-20120121-085503
[ rosmake ] Expanded args ['rgbdslam'] to:[]
[ rosmake ] WARNING: The following args could not be parsed as stacks or packages:
['rgbdslam']
[ rosmake ] ERROR: No arguments could be parsed into valid package or stack names.

So I checked:

a) sudo apt-get install libglew1.5-dev libdevil-dev libsuitesparse-dev
No problem
b) Tried to fix .bashrc adding various combinations and orders of export and source commands (not detailed in instructions)
...
" enable programmable completion features (you don't need to enable
" this, if it's already enabled in /etc/bash.bashrc and /etc/profile
" sources /etc/bash.bashrc).
if [ -f /etc/bash_completion ] && ! shopt -oq posix; then
. /etc/bash_completion
fi
export ROS_PACKAGE_PATH=~/ros:$ROS_PACKAGE_PATH
source /opt/ros/electric/setup.bash
...
c) Tried to fix electric setup.sh with other changes (also not detailed in instructions)
http://answers.ros.org/question/222/error-when-compiling-rgbdslam-for-kinect
...
"!/bin/sh
export ROS_ROOT=/opt/ros/electric/ros
export PATH=${ROS_ROOT}/bin:${PATH}
export PYTHONPATH=${ROS_ROOT}/core/roslib/src:${PYTHONPATH}
export ROS_PACKAGE_PATH=/opt/ros/electric/stacks:/home/mike:/home/mike/ros/ros-pkg:~/ros_workspace:$ROS_PACKAGE_PATH
if [ ! "$ROS_MASTER_URI" ] ; then export ROS_MASTER_URI=http://localhost:11311 ; fi
...
Tried incrementally odd combos of ROS_PACKAGE_PATH - now you can see its a bit muddled:
c) Confirmed $ROS_PACKAGE_PATH (in response to various mods in response to setup.sh etc)
bash: /opt/ros/electric/stacks:/home/mike:/home/mike/ros/ros-pkg:/home/mike/ros_workspace:/home/mike/ros:
d) Tried downloading GSL via Ubuntu Software Center (no mention of this in the instructions) as this cropped up as a missing component at one stage of the installation muddle.
e) And lots of other odd fixes and hunts through source and SVN and apt-get rebuilds etc... phew...
So, PLEASE let me know if I have missed a crucial installation, SVN or build step above, and better still try it out yourself to see whats missing or changed - then please let us know what to do:-)
Best wishes, Mike

Originally posted by Mike Moore on ROS Answers with karma: 53 on 2012-01-21
Post score: 1

A:

If you followed this steps literally I think the problem is 4d/e. This svn checkouts like this will end up in your home, not ~/ros and thus cannot be found in ROS_PACKAGE_PATH.
So you should cd ~/ros before the svn co calls.

Originally posted by dornhege with karma: 31395 on 2012-01-22
This answer was ACCEPTED on the original site
Post score: 2


Q:

How can I change my turtlebot2 working in Kinect+Odometry configurations

When I use Turtlebot2 to launch demo_turtlebot_mapping.launch file, my robot's configurations is Kinect+Odometry+Fake 2D laser from Kinect。
But I want to put my robot into Kinect+Odometry,and I want to create with rtabmap node with proj_map topic a 2D occupancy grid map from the projection of the Kinect. How do I modify the demo_turtlebot_mapping.launch file.
I refer to wiki.ros.org/rtabmap_ros/Tutorials/SetupOnYourRobot#Kinect_.2B-_Odometry
github.com/introlab/rtabmap_ros/blob/master/launch/demo/demo_turtlebot_mapping.launch

Originally posted by Nick Hoo on ROS Answers with karma: 27 on 2016-10-22
Post score: 1

A:

See this post:
In demo_turtlebot_mapping.launch:
-Set all "subscribe_scan" to false. This is optional though, you can keep the laser scan if you want.
-Change these lines:
<remap from="proj_map" to="/map"/> <!-- use projection map, use "grid_map" for version > 0.11.8 -->
<param name="Reg/Strategy" type="string" value="0"/> <!-- laser scan not used anymore for registration -->
<param name="Vis/MinInliers" type="string" value="20"/> <!-- default is 20 -->
<param name="Grid/FromDepth" type="string" value="true"/> <!-- For version > 0.11.8 only: Not required if subscribe_scan is false -->

Originally posted by matlabbe with karma: 6409 on 2016-10-24
This answer was ACCEPTED on the original site
Post score: 3

Original comments
Comment by Nick Hoo on 2016-10-24:
Sometimes,terminal displays Rejected loop closure 92 -> 233: Not enough inliers 0/20 or 3/20 between 233 and 92.
Should I decrease the value of this?
Comment by matlabbe on 2016-10-25:
The parameter above is set to 20. Setting below 10 would result in poor registration. That warning tells just that a loop closure is detected, but there are not enough good matches to find a good transformation between the locations. So it is better to reject it.
Comment by Nick Hoo on 2016-10-25:
Thank you very much.
Comment by Nick Hoo on 2016-11-02:
“That warning tells just that a loop closure is detected, but there are not enough good matches to find a good transformation. So it is better to reject it.” Then the robot is rotating and doesn't move to goal. But it can move to a nearby location.How can I let the robot move to a goal directly?
Comment by matlabbe on 2016-11-02:
Not sure to understand what you mean. The warning you quoted is independent of the move_base problem.
Comment by Nick Hoo on 2016-11-02:
When the warning is appearing, the robot start rotating. And I don't know why.


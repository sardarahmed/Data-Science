Q:

How to add a link/joint in runtime

Hello!
Id like to know if its possible to edit a robot in runtime by adding new Links/Joints to it while still having the simulation running and affecting the whole model (unlike the method editor). Ive stumbled upon this UpdateParameters method, but Im not quite sure this will do what I want, although updating an SRDF seems promising.
Im currently using Gazebo 4 on Ubuntu Precise.
If this is possible, does anyone know how to accomplish it ?
Thank you!

Originally posted by Trmotta on Gazebo Answers with karma: 63 on 2015-01-08
Post score: 4

A:

Hi,
you can create new models similarly to this tutorial, I am not sure if you can add a new links to an existing model, but, you can connect links of different models.
The code should be something like this:
physics::JointPtr joint;

joint = this->world->GetPhysicsEngine()->CreateJoint("revolute", model1);

joint->Load(model1_link, model2_link, math::Pose());

joint->Attach(model1_link, model2_link);

joint->SetAxis(0, axis_ex);

joint->SetHighStop(0, high_stop_ex);
...
joint->SetParam("cfm", 0, cfm_ex);
...

Cheers,
Andrei

Originally posted by AndreiHaidu with karma: 2108 on 2015-01-09
This answer was ACCEPTED on the original site
Post score: 1

Original comments
Comment by Trmotta on 2015-01-13:
Thanks! That solved it!
Comment by awesomebytes on 2016-04-19:
(Edited) I made a plugin to attach any two links in gazebo: https://github.com/pal-robotics/gazebo_ros_link_attacher


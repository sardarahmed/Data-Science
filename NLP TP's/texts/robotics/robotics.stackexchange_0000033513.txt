Q:

rxgraph graph not visible on Arch

When I run rxgraph:
[ajc@whales ~]$ rxgraph
Traceback (most recent call last):
  File "/home/ajc/ros-diamondback/rx/xdot/src/xdot/wxxdot.py", line 185, in OnPaint
    ctx = wxcairo.ContextFromDC(dc)
  File "/usr/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/lib/wxcairo.py", line 124, in ContextFromDC
    ctx = pycairoAPI.Context_FromContext(ctxptr, pycairoAPI.Context_Type, None)
AttributeError: 'Pycairo_CAPI' object has no attribute 'Context_FromContext'
Traceback (most recent call last):
  File "/home/ajc/ros-diamondback/rx/xdot/src/xdot/wxxdot.py", line 185, in OnPaint
    ctx = wxcairo.ContextFromDC(dc)
  File "/usr/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/lib/wxcairo.py", line 124, in ContextFromDC
    ctx = pycairoAPI.Context_FromContext(ctxptr, pycairoAPI.Context_Type, None)
AttributeError: 'Pycairo_CAPI' object has no attribute 'Context_FromContext'
Traceback (most recent call last):
  File "/home/ajc/ros-diamondback/rx/xdot/src/xdot/wxxdot.py", line 185, in OnPaint
    ctx = wxcairo.ContextFromDC(dc)
  File "/usr/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/lib/wxcairo.py", line 124, in ContextFromDC
    ctx = pycairoAPI.Context_FromContext(ctxptr, pycairoAPI.Context_Type, None)
AttributeError: 'Pycairo_CAPI' object has no attribute 'Context_FromContext'
^C

The main "pane" is empty, where graphs should be.
On the info sidgebar, I see this:
Node [/rosout]
Publications: 
 * /rosout_agg [rosgraph_msgs/Log]

Subscriptions: 
 * /rosout [rosgraph_msgs/Log]

Services: 
 * /rosout/get_loggers
 * /rosout/set_logger_level
Pid: 8337
Connections:
 * topic: /rosout
    * to: http://whales:39606/
    * direction: inbound
    * transport: TCPROS
 * topic: /rosout
    * to: http://whales:52244/
    * direction: inbound
    * transport: TCPROS

I'm running Arch linux. More information:
[ajc@whales ~]$ uname -a
Linux whales 2.6.39-ARCH #1 SMP PREEMPT Sat Jul 9 15:31:04 CEST 2011 i686 AMD Athlon(tm) 64 X2 Dual-Core Processor TK-55 AuthenticAMD GNU/Linux
[ajc@whales ~]$ python --version
Python 2.7.2
[ajc@whales ~]$ sudo pacman -Ss wxpython
Password: 
extra/wxpython 2.8.12.1-1 [installed]
    A wxWidgets GUI toolkit for Python
community/wammu 0.35-1
    A wxPython-based GUI for Gammu

My suspicion is that this is a problem with Arch Linux's default /usr/bin/python, which is version 3, and how overriding it to version2 plays with the repo's wxWidgets.
Any help would be greatly appreciated!

Originally posted by ajc on ROS Answers with karma: 56 on 2011-08-06
Post score: 2

A:

I have the same problem.
I don't think it is due to conflicts between different versions of python.
$ sudo pacman -Ql wxpython
This command will list all the files installed for wxpython, and you should notice that everything is installed in the python2 site-package directory.
I tried using the latest version of rxgraph from the developer, to no avail.
I believe the problem has to due with cairo and pycairo.
You can try installing a local copy of an earlier version of cairo and pycairo (e.g. 1.8). Use the same version that Ubuntu uses.
I haven't tried this myself, as I don't need the diagrams badly enough...

Originally posted by DavidS with karma: 66 on 2011-09-01
This answer was ACCEPTED on the original site
Post score: 0


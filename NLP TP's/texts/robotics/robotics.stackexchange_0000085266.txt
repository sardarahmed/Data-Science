Q:

SIGACTION with Roslaunch - Use in a TCP server

Hi everybody,
I am currently working on integrating a TCP communication between ROS and a web application. I made my own TCP code using sockets in C. In order to be able to close this cleanly, I would like to be able to use sigaction, however it seems roslaunch prevents the process to receive the signals.
Is it normal or am I wrong?
Here is a link to the code I made :
https://github.com/RemiRigal/BathyBoatNav/blob/tcp_fix/src/tcp_serveur.cpp
Without ROS it seems to work fine !
I am using ROS Kinetic on a Linux Mint Mate 18.3 if it can help you understand.
Thanks for your help guys !

Originally posted by lallemfa on ROS Answers with karma: 11 on 2018-02-11
Post score: 1

A:

According to this informative thread, roslaunch handles SIGINT, SIGTERM, SIGKILL, but not SIGACTION. I've confirmed by scanning the latest code from https://github.com/ros/ros_comm/tree/lunar-devel/tools/roslaunch that sigaction is not particularly handled.
$ git branch
* lunar-devel
$ git log -1
commit 283818529002c6d37e8b9ec554a17b40c6075c20
Author: nano-meter <pjoejoejoe@gmail.com>
Date:   Thu Apr 5 22:47:14 2018 +0200

    Add substitution when loading yaml files (#1354)
    
    * Add substitution when loading yaml files
    
    like in #1051
    
    * Add tests
$ ack-grep -A 1 -i sigaction .
$ 

Btw, just wondering if you're aware of some existing ROS packages that provide TCP communication. For websocket there is http://wiki.ros.org/rosbridge_server

Originally posted by 130s with karma: 10937 on 2018-04-10
This answer was ACCEPTED on the original site
Post score: 0


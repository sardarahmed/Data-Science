Q:

Exception sending a message

I've installed ROS-Melodic (full desktop) with Gazebo 9 on 3 different PC: 2 of them are with Ubuntu 18.04 and third one with WSL Ubuntu 18.04 (Windows 10). After a fresh install I get  Exception sending a message, which is being printed infinitely after starting gazebo (gzserver, roslaunch):

One more thing - I use gazebo via ssh or terminal (wsl), so there is no GUI.
Here is also a related question
Update:
I've noticed that the problem happens only when I open VPN connection. Here is the --verbose output on my local machine in WLS Ubuntu 18.04 (the same output is on remote PC with Ubuntu 18.04 over VPN and ssh)
ubuntu:~$ gzserver --verbose
Gazebo multi-robot simulator, version 9.0.0
Copyright (C) 2012 Open Source Robotics Foundation.
Released under the Apache 2 License.
http://gazebosim.org

[Msg] Waiting for master.
[Msg] Connected to gazebo master @ http://127.0.0.1:11345
[Msg] Publicized address: 127.0.0.1
Exception sending a messageException sending a message

shared memfd open() failed: Function not implemented
shared memfd open() failed: Function not implemented
ALSA lib confmisc.c:767:(parse_card) cannot find card '0'
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory
ALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory
ALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name
ALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory
ALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory
ALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default
AL lib: (EE) ALCplaybackAlsa_open: Could not open playback device 'default': No such file or directory
[Err] [OpenAL.cc:84] Unable to open audio device[default]
 Audio will be disabled.
Exception sending a message
Exception sending a message
Exception sending a message
...
[Wrn] [Time.cc:439] Sleep time is larger than clock resolution, skipping sleep
[Wrn] [Time.cc:439] Sleep time is larger than clock resolution, skipping sleep
[Wrn] [Time.cc:439] Sleep time is larger than clock resolution, skipping sleep
...
Exception sending a message
xception sending a message33m
Exception sending a message
...
[Wrn] [Time.cc:439] Sleep time is larger than clock resolution, skipping sleep
[Wrn] [Time.cc:439] Sleep time is larger than clock resolution, skipping sleep
Exception sending a message
Exception sending a message
Exception sending a message
.....

Originally posted by aray on Gazebo Answers with karma: 76 on 2018-11-17
Post score: 3

Original comments
Comment by nkoenig on 2018-11-20:
Is the above terminal output from an Ubuntun 18.04 machine? And, can you post the output of the command: gzserver --verbose?
Comment by aray on 2018-11-20:
Yes, the same output on 3 different machines with ubuntu 18.04. I've updated my question.
Comment by wentz on 2018-11-22:
The option --verboss does not exist (gzserver will start anyway but without special output), try it with --verbose, the output will differ and give more informations on what is going on.
Comment by aray on 2018-11-22:
sorry, I've updated the question once again. anyway the output doesn't contain any useful information
Comment by mogumbo on 2019-03-20:
I can confirm this problem. I only see the error message while I have VPN connection established.
Comment by Carlos Agüero on 2019-03-20:
Could you try setting the IGN_IP environment variable to one of the IP addresses of your machine?
Comment by aray on 2019-03-30:
export IGN_IP=127.0.0.1 solves the problem. thank you!
Comment by mogumbo on 2019-06-25:
That solves it for me too. Thank you.

A:

As Carlos Agüero  pointed out,  IGN_IP hast to be set to  IP addresses of your machine.
Setting the IP to the local host solved my problem:
export IGN_IP=127.0.0.1

Originally posted by aray with karma: 76 on 2019-04-11
This answer was ACCEPTED on the original site
Post score: 2


Q:

To what degree is the villainization of Cao Cao a function of the Romance of the Three Kingdoms?

Also his depiction in Chinese Opera.
I ask because, although he often does troubling things such as the murder of Lü Boshe's family, Mengde is a man of exceptional talents and has many admirable qualities. 
I feel he is in some ways similar to Shakespeare's Richard III, who could be said to be compelled to seize power per his superior capability, although he ultimately falls do to various character defects.  Compared to Dong Zhou, Mengde comes out quite favorably, and he is clearly deeply affected by the collapse of the coalition, which seems to influence his subsequent actions.
In Romance, Mengde is, in some sense, can be seen as an individual pitted against the sworn brothers, all exceptional, who additionally have the guidance of Zhuge Liang, and Cao Cao still nearly prevails.    
At some point I hope to get to the source material for Romance, but I'd be interested if anyone had any thoughts on this subject.

A:

The narrative villifying Cao Cao predates Luo Guanzhong's work by a wide margin. His slant against Cao Wei is a product of his culture's bias, rather than the cause of it (though it likely did serve to solidify that bias).
The Han dynasty is seen as something of a golden age. It represented a time of prosperity, and technological and social advancement. To this day, the largest (by a huge margin) Chinese ethnic group is referred to as "Han". The fall of the Han occupies a similar space to western culture's sack of Rome. Following it came a long period of violence and corruption. 
So, the usurpers of the Han might naturally be viewed negatively, as the ones who ushered in a dark age. While Cao Cao may not have officially usurped the Han Emperor's throne, his son Cao Pi did, and many view the emperor at the time as little more than a puppet. I don't think many would disagree with the assertion that Cao Cao, at the height of his power, was more powerful than the Emperor.
Of course, being the effective victor, during the Jin dynasty Cao Wei was viewed as the legitimate successor to the Han. The view of history favoring the legitimacy of Shu Han may have started to become established as early as the Tang dynasty, following the An Lushan Rebellion. But appears to be particularly clearly established in the Southern Song with the Zizhi Tongjian, and especially the Yuan dynasty with the Sanguozhi Pinghua, a collection of plays clearly glorifying Shu Han coming from the Yuan.

On whether Cao Cao deserves his reputation, that's a matter of opinion, but I’m reminded of the opening of Dan Carlin’s "Wrath of Khans" series. He talks about what he calls historical arsonists, sweeping away the old to make way for the new, fueling advancement, and that may be, but he implores: "Don't lose track of the bodies". Cao Cao takes significant responsibility for one of the most vicious and deadly conflicts in history. It reduced the population in China to a fraction of that of the later Han, with an estimated 34-40 million dead, out of a population in the later Han of around 56 million. Beyond the romanticized strategies and heroic battles, his forces are also responsible for massacre and slaughter on a (then) unprecedented scale. So whatever conclusion you may draw about his character or impact, don’t lose track of the bodies. 
(None of which is to necessarily say that his opponents don’t deserve their share of the “credit”, as well)


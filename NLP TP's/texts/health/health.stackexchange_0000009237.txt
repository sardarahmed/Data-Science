Q:

How long a certain food takes for making intestinal gas?

I've some symptoms of IBS. I want to know some stuff on the basis of my symptoms that I've observed. I know Apples, Melons or milk can cause gas. 
For instance, before quitting milk, when I would drink milk after dinner and sit for half an hour Computer work, I would feel pain in my abdomen, most probably because of gas and then I would sleep to feel comfort.
On another occasion, I eat melon a few days ago and I felt gassy during next 24 hours. Also, recently I was eating vegetable made from Raw Melon (it's know in my area, don't know about others) and I felt slightly more gassy.
As my gastroenterologist doesn't know much and doesn't tell me much, I want to know the TIME after taking/eating them when we feel gas, just to make sure if Milk, and these fruits and vegetables are actually causing gas.
Wherever I asked the question about lactose/fructose intolerance, they suggested me to check myself by eliminating foods. So that's what I'm doing these days. I see improvement but not much.
Is it just after 1-2-3 hours of taking these products (this is related to my milk related issue)? If yes then how is it possible because things take at least 15-20 hours to reach large intestine? (I'm asking this because some sites say milk can cause gas after a few minutes of taking it!)
Or is it actually when it reaches large intestine, undigested after 15-20 hours?
I request you to further elaborate the time that my take especially milk, melon and apples in causing gas, so that I would properly know these are the real culprits.
Thank you.

A:

The average bowel transit time - the time needed for a food to travel from mouth to stool - in a healthy person is probably around 12-14 hours. Source: MedlinePlus
When a certain food or nutrient (lactose, fructose) irritates the bowel, the bowel transit time can be much shorter and it could very well be just 2-3 hours. But abdominal pain, gas or loose stools in IBS can appear even faster than that concluded from the bowel transit time, for example as soon as 15 minutes after a meal. This is because the stool and gas you excrete does not come from your last meal but more likely from your previous meals.
It is gastrocolic reflex that causes the movements of your large intestine, when the food reaches your stomach. This is why breakfast helps to have a bowel movement in the morning.
EDIT:
Apples and mangoes are high in "net fructose," which means they contain more fructose than glucose. When a person has less symptoms after removing foods high in net fructose from the diet, it means he can have fructose malabsorption (FM), which is described in detail here here.
Foods high in net fructose (to avoid in FM): apples, pears, mangoes, agave, watermelon, honey, beverages sweetened by high fructose corn syrup (HFCS), carambola, feijoa, nance, guava, grapes (for more detailed list see the link above).
Additionally, a person with FM can have gas and loose stools after eating foods high in sorbitol and other sugar alcohols (polyols), such as xylitol, maltitol or mannitol, which can be found in "sugar-free" chewing gum, certain low-calorie drinks, prunes, grapes, sweet cherries, apricots and peaches.
Additionally, a person with FM can get gas after eating foods high in fructooligosaccharides (FOS): Jerusalem artichokes, red onions and bananas.
NOTE, that not all foods high in fructose should be avoided, but only foods high in "net fructose" (described in the above link).
If a person who has fructose malabsorption as the only or main gastrointestinal problem, eliminates foods with nutrients marked in bold above, he should see an obvious improvement within 48 hours and more improvement within a week. After improvement, a person can try to introduce certain less suspicious foods back (but only one food in 48 hours to be able to identify eventual symptoms).
A person who has FM, often has a slight problem in absorbing lactose due to temporary lactose intolerance, so it can help if he avoids milk, curd, yogurt, ice cream (cheese and butter should be fine).
Elimination of all nutrients mentioned above at once is called a low-FODMAP diet.
So, when someone thinks he has FM, he can start with a low-fructose diet or a bit more thorough low-FODMAP diet.
People who have FM often think they have IBS. If one wants to be officially diagnosed, he can ask a gastroenterologist to perform a "hydrogen breath test with fructose." The condition is usually life-long.
Fructose malabsorption should not be confused with a rare hereditary fructose intolerance (HFI), which can cause much more severe symptoms after consumption of even minute amounts of fructose.
Disclaimer: I did not diagnosed anyone here with FM, but this post can help people who have IBS-like symptoms (gas, loose stools, vague abdominal pains).
Similar conditions:

Food allergies usually cause itching and tingling around the mouth within few minutes of ingestion. An allergologist can make a diagnosis on the basis of the skin test.
Intestinal parasites can cause various abdominal symptoms. A gastroenterologist can make a diagnosis from a stool test.


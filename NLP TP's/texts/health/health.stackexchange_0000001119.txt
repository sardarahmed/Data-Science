Q:

Nutritionally speaking, are food volumes calculated pre- or post-preparation?

I'm trying to lose weight, and to that end, I've started logging my meals.  90% of the time it's very straightforward, except for one scenario: food that changes volume significantly.
For example,

Dry rice, when cooked with water, grows quite substantially. A single cup of dry rice might become 2-3 cups or more of cooked rice.
Alternatively, a single serving of cooked (and thus wilted) spinach is often sold in containers that require moving equipment to get out to my car.

When reading nutrition tables and other statistics about food, should volumes be understood as pre-preparation, or post?  And is the answer standardized across all (or at least most) platforms and info sources, or does it change from place to place?
If I cook 1 cup of dry rice with water and it becomes 3 cups of cooked rice, and I eat it all, did I just eat 1 cup of rice, or 3?

A:

In the US, 21 CFR 101 provides reference amounts for serving sizes, which are usually followed somewhat closely (I wasn't able to determine if they are required by law) by food manufacturers.
In the specific case of rice, the standard serving size is "140 g prepared; 45 g dry" listed in the format "_ cup(s) (_ g)".
Usually, the nutritional label on the actual product package (no comment on databases on random websites and apps) will provide information about whether it is referring to prepared or "raw" state, or will provide both. The prepared state may include ingredients not provided in the package.
For example, Cheerios has a serving size of "1 cup (28 g)", dry, and additionally provides a column with values for "with 1/2 cup skim milk".
Kraft Macaroni & Cheese Dinner gives the serving size as "2.5 oz (70 g / about 1/2 box) (Makes about 1 cup)", and provides columns for "as packaged" and "as prepared". Different pictures I found of the nutrition information and directions varied widely as to the calories of the "as prepared" column and the amount of butter called for; presumably these will match on any given box.
I wasn't able to find any pictures of real nutrition labels for packages of plain rice.
Google allows you to specify "raw" or "cooked" when searching for the nutrition information of rice - according to it, 100 grams of cooked long-grain brown rice has 111 calories, and 100 grams of raw long-grain brown rice has 370 calories. When the measure is switched to one cup, the calories are 216 and 684 respectively, with the weights being 195 and 185 grams. So, if your app doesn't say, it should be easy to figure out which numbers track better with how many calories it actually says a cup of rice has.

A:

There is no standard for calculating "food volumes". The nutrition data of all foods is only consistent by weight. Standardized nutrition data labels all give nutrients per 100 g, frequently also adding the nutrient amount calculated for other weights, for example for one unit of packaging, or one piece when the food is in discrete pieces. 
When somebody is talking of nutrition units (e.g. calories, grams of carbs, or whatever) per volume, they are probably using some volume conversion formula. But for most foods, there is no really good formula. Food volume changes a lot in preparation, and frequently it's not as predictable as the change in rice volume you describe - if you have chopped walnuts, the final volume depends on how finely they are chopped, and also how they were handled afterwards. Also, volume measurement of foods is imprecise to the point where it's useless (for example, a "cup" of flour can be anywhere from 100 to 160 grams for the same type of flour). 
The conclusions: 1) there is no way to predict what formula they are using (e.g. whether they are using the average for cooked or raw rice), because there is no standard for that, and 2) even if you happen to use their formula, you can't achieve precision. If you need precision, you'll have to switch to an app which lets you measure your food by weight. 


Q:

Can a medical doctor write a prescription which has not gone through a formal diagnosis to identify as needed?

This question largely arises from a scene in the TV Show Frasier, but it got me wondering, can a Doctor write a prescription for an individual that he knows they need, but has not gone through the diagnostic steps himself (or via an associated lab)? For further context the story from the show is below.

In the particular episode, Niles, a licensed and practicing
  psychiatrist and Daphne are at Niles' apartment. Niles is interested
  in getting physical with Daphne and it appears he might have a chance,
  however an alarm goes off for her to take her unnamed prescription for
  a thyroid issue. They go back to Daphne's apartment  to get the
  medication and sitcom shenanigans occur such that Niles will not be
  playing doctor with Daphne -- the root cause of this is identified as
  Daphne having to go back to get her medication.
Frasier (another licensed psychiatrist) asks niles why he didn't just
  write a prescription for the medication himself; the question obviously frustrates niles as if this had been a valid option.

Stripping out all the sitcom shenanigans and reasoning, could a doctor, if he knew a patient needed medication (In the example above, Niles has no reason to believe Daphne is angling to get illicit medications or fool him, but that may play a part in the answer) but had not gone through the diagnostic procedures himself and had no access to reviews those records, legally and ethically write said prescription?

A:

Writing a script for someone so you can "get physical" with them is, of course, an ethical problem. As far as prescribing off the cuff for family and close friends, that depends.
It may be quite common. Over 80% of internal medicine and family practice residents prescribed for "non-patients" in this survey. The wording in itself is troubling. If you write a script for someone, they are your patient. In some jurisdictions you can get in trouble for not creating a chart and documenting your decision to treat. 
This AMA ethical opinion is about treating one's self or family, but I'd say it applies.

In general, physicians should not treat themselves or members of their own families. However, it may be acceptable to do so in limited circumstances:
(a) In emergency settings or isolated settings where there is no other qualified physician available. In such situations, physicians should not hesitate to treat themselves or family members until another physician becomes available.
(b) For short-term, minor problems.
When treating self or family members, physicians have a further responsibility to:
(c) Document treatment or care provided and convey relevant information to the patient’s primary care physician.
(d) Recognize that if tensions develop in the professional relationship with a family member, perhaps as a result of a negative medical outcome, such difficulties may be carried over into the family member’s personal relationship with the physician.
(e) Avoid providing sensitive or intimate care especially for a minor patient who is uncomfortable being treated by a family member.
(f) Recognize that family members may be reluctant to state their preference for another physician or decline a recommendation for fear of offending the physician.

